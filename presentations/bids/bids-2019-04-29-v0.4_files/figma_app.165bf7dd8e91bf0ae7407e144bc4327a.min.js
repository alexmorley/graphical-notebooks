(function(r,e){var n={},o=function(){return this}();function t(e,u){if(u)return o.__figbuildCommonChunkRequire(e);var i=n[e];return i?i.exports:(i=n[e]={exports:{},id:e,loaded:!1},r[e].call(o,i,i.exports,t),i.loaded=!0,i.exports)}return e&&(o.__figbuildCommonChunkRequire=t),t(r.length-1)})([
(function(e,t,n){"use strict";function i(){return window.INITIAL_OPTIONS||{feature_flags:{}}}Object.defineProperty(t,"__esModule",{value:!0}),t.initialOptions=i,t.default=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=function(e){for(const t in e)if(e.hasOwnProperty(t))return!1;return!0},t.promiseResolveReject=function(){let e,t;return[new Promise((r,n)=>{e=r,t=n}),e,t]},t.assert=function(e){if(!Boolean(e))throw new Error("assertion failure")},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,r){"use strict";function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(e.length!==n.length)return!1;for(let r=0;r<e.length;++r)if(e[r]!==n[r])return!1;return!0}Object.defineProperty(n,"__esModule",{value:!0}),n.isViewParam=function(e){return null!==e&&"object"==typeof e&&"paramType"in e&&("viewArg"===e.paramType||"session"===e.paramType)},n.isExpressionParam=function(e){return null!==e&&"object"==typeof e&&"paramType"in e&&("parent"===e.paramType||"session"===e.paramType||"fieldArg"===e.paramType)},n.isScalar=function(e){switch(e.kind){case"int":case"string":case"float":case"datetime":case"date":case"bool":case"enum":case"list":return!0}return!1},n.argumentByName=function(e,n){if(e)for(const r of e)if(r.name===n)return r;return null},n.argValuesEqual=function(e,n){for(const r in e){const a=e[r],i=n[r];if(void 0===a){if(void 0!==i)return!1}else if(a instanceof Array){if(!(i instanceof Array))return!1;if(!t(a,i))return!1}else if(a!==i)return!1}return Object.keys(e).length===Object.keys(n).length},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(2);s.default=class{constructor(e={},s={},t={}){this.session=e,this.viewArg=s,this.parent=t}substitute(e,s){const t=e=>{if(!r.isExpressionParam(e))return e;if("fieldArg"!==e.paramType)return this[e.paramType][e.variable];const t=s[e.variable];return r.isViewParam(t)?this[t.paramType][t.variable]:t},i=e=>{switch(e.type){case"binary":case"in":return Object.assign({},e,{right:t(e.right)});case"or":case"and":return Object.assign({},e,{expressions:e.expressions.map(i)})}};return e?i(e):void 0}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=n(2);s.expressionFields=function(e){const s=new Set,n=e=>{switch(e.type){case"binary":case"in":s.add(e.left);break;case"or":case"and":e.expressions.forEach(n)}};return e&&n(e),s},s.expressionParams=function(e){const s=[],n=e=>{switch(e.type){case"binary":case"in":r.isExpressionParam(e.right)&&s.push(e.right);break;case"or":case"and":e.expressions.forEach(n)}};return e&&n(e),s},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(1);t.default=class{constructor({fields:e,filter:t}){this.fields=e,this.filter=t}matches(e){if(!this.filter)return!0;const t=r=>{switch(r.type){case"binary":const s=e[r.left],n=r.right;switch(r.op){case"=":return s===n;case"<>":return s!==n}if(null===s||null===n)return!1;switch(r.op){case">":return s>n;case">=":return s>=n;case"<":return s>n;case"<=":return s>=n}return!1;case"in":const i=e[r.left];return r.right.some(e=>e===i);case"or":return r.expressions.some(t);case"and":return r.expressions.every(t)}};return t(this.filter)}project(e){const t={id:e.id};for(const r of this.fields)s.assert(r in e),t[r]=e[r];return t}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(1),s=r(4),n=r(5);t.default=class{constructor(e,t){this.joinedQueryDef=e,this.context=t,this.queryId=JSON.stringify({objectName:this.objectName,fields:this.allFields,filter:this.substituted().filter,orderBy:this.orderBy,session:this.context.session})}get queriedFields(){return Array.from(this.joinedQueryDef.queriedFields.keys())}get computedFields(){return Array.from(this.joinedQueryDef.computedFields.keys())}get allFields(){return this.computedFields.concat(this.queriedFields)}get objectName(){return this.joinedQueryDef.objectFieldDef.type.name}get filter(){return this.joinedQueryDef.objectFieldDef.filter}get orderBy(){return this.joinedQueryDef.objectFieldDef.orderBy}substituted(){return new n.default({fields:this.queriedFields,filter:this.context.substitute(this.filter,this.joinedQueryDef.params)})}isContextStale(e){return s.expressionParams(this.filter).some(({paramType:t,variable:r})=>"parent"===t&&e[r]!==this.context.parent[r])}project(e){const t={id:e.id};for(const r of this.allFields)i.assert(r in e),t[r]=e[r];return t}order(){const e=this.orderBy;return(t,r)=>{for(const[i,s]of[...e||[],["id","ASC"]]){const e=t[i],n=r[i];if(null!==e||null!==n){if(null===e)return"ASC"===s?1:-1;if(null===n)return"ASC"===s?-1:1;if(e<n)return"ASC"===s?-1:1;if(e>n)return"ASC"===s?1:-1}}return 0}}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(6),i=s(8),d=s(1),h=Object.freeze({status:"loading"});t.default=class{constructor({parent:e,joinedQueryDef:t,observable:s,context:i}){this.children={},this.isLoaded=!1,this.detachedChildren=new Set,this.parent=e,this.joinedQueryDef=t,this.observable=s,this.context=i,this.query=new r.default(t,i),this.unsubscribe=this.observable.subscribe(this.query,this)}destroy(){for(const e in this.children)this.children[e].destroy();this.unsubscribe()}onAddResult(e){this.children[e.id]=new i.default(this,e,this.joinedQueryDef),this.resetResult(),this.parent.resultsUpdated()}onUpdateResult(e){this.children[e.id].onUpdateResult(e),this.parent.resultsUpdated()}onRemoveResult({id:e}){this.children[e].destroy(),delete this.children[e],this.detachedChildren.delete(e),this.resetResult(),this.parent.resultsUpdated()}detachChild({id:e}){this.detachedChildren.add(e),this.resetResult(),this.parent.resultsUpdated()}restoreChild({id:e}){this.detachedChildren.delete(e),this.resetResult()}onInitialResult(e){d.assert(!this.isLoaded),d.assert(!this.children[e.id]),this.children[e.id]=new i.default(this,e,this.joinedQueryDef),this.resetResult()}setIsLoaded(){this.isLoaded=!0,this.resetResult(),this.parent.resultsUpdated()}resultsUpdated(){this.isLoaded&&this.parent.resultsUpdated()}projectInstance(e){return this.query.project(e)}result(){if(!this.isLoaded)return h;if(this._result)return this._result;const e=Object.keys(this.children).map(e=>this.children[e]).filter(e=>!this.detachedChildren.has(e.instance.id)),t=this.query.order();t&&e.sort(({instance:e},{instance:s})=>t(e,s));const s=this.joinedQueryDef.objectFieldDef.name,r=[],i=[];let d=!0;for(const h of e){const e=h.result();switch(e.status){case"loading":return this._result=e;case"errors":d=!1;for(const t of e.errors)r.push(Object.assign({},t,{path:[s,...t.path]}));break;case"loaded":for(const t of e.errors)r.push(Object.assign({},t,{path:[s,...t.path]}));i.push(e.data)}}return d?this.joinedQueryDef.isList()?this._result={status:"loaded",errors:r,data:i}:i.length>0?this._result={status:"loaded",errors:r,data:i[0]}:this.joinedQueryDef.isNullable()?this._result={status:"loaded",errors:r,data:null}:this._result={status:"errors",errors:[...r,{code:"nonNullableResult",path:[s]}]}:this.joinedQueryDef.isNullable()?this._result={status:"loaded",errors:r,data:null}:this._result={status:"errors",errors:r}}resetResult(){this._result=void 0,this.parent.resetResult()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(3),n=s(7);t.default=class{constructor(e,t,s){this.parent=e,this.instance=t,this.children=s.joinedQueries.map(s=>new n.default({parent:this,joinedQueryDef:s,observable:e.observable,context:new r.default(e.context.session,e.context.viewArg,t)}))}destroy(){for(const e of this.children)e.destroy()}resultsUpdated(){this.parent.resultsUpdated()}onUpdateResult(e){this.resetResult(),this.instance=e,this.children=this.children.map(t=>t.query.isContextStale(e)?(t.destroy(),new n.default({parent:this,joinedQueryDef:t.joinedQueryDef,observable:this.parent.observable,context:new r.default(this.parent.context.session,this.parent.context.viewArg,e)})):t)}result(){if(this._result)return this._result;const e=[],t=this.parent.projectInstance(this.instance);let s=!0;for(const r of this.children){const n=r.result();switch(n.status){case"loading":return this._result=n;case"errors":s=!1,e.push.apply(e,n.errors);break;case"loaded":e.push.apply(e,n.errors),t[r.joinedQueryDef.objectFieldDef.name]=n.data}}return this._result=s?{status:"loaded",errors:e,data:t}:{status:"errors",errors:e}}resetResult(){this._result=void 0,this.parent.resetResult()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(8),r=s(1);e.default=class{constructor(t,e,s,i,n){this.viewDef=t,this.context=e,this.observable=s,this.onResultsResolved=n,this.cancelNextTick=(()=>{}),this.root=new o.default(this,e.parent,t.root),r.assert(!n||i),0===this.root.children.length&&i&&(this.cancelNextTick=i(()=>this.resultsUpdated()))}updateContextParent(t){this.context.parent=t,this.root.onUpdateResult(t),this.resultsUpdated()}projectInstance(t){const e={};for(const s of this.viewDef.root.projectedFields.keys())e[s]=t[s];return e}get viewArgs(){return this.context.viewArg}resultsUpdated(){this.onResultsResolved&&this.onResultsResolved(this.result())}destroy(){this.cancelNextTick(),this.root.destroy()}result(){return this.root.result()}resetResult(){}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e){this.key=t,this.value=e}orInsert(){return this.value}orInsertWith(){return this.value}andModify(t){return t(this.value),this}}class n{constructor(t,e){this.key=t,this.map=e}orInsert(t){return this.map.set(this.key,t),t}orInsertWith(t){return this.orInsert(t())}andModify(){return this}}e.EntryMap=class extends Map{entry(t){return this.has(t)?new r(t,this.get(t)):new n(t,this)}};class i extends r{orDefault(){return this.value}}class a extends n{orDefault(){return this.orInsert(this.map.default(this.key))}}e.DefaultMap=class extends Map{constructor(t,e){super(e),this.default=t}entry(t){return this.has(t)?new i(t,this.get(t)):new a(t,this)}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class{constructor(s){this.shadowMutations=new Set,this.shadowQueries=new Set,this.serverQueries=new Set,this.serverFields=s,this.shadowFields=s}fields(){return 0===this.shadowMutations.size?this.serverFields:this.shadowFields}dependentQueries(){return 0===this.shadowMutations.size?this.serverQueries:this.shadowQueries}applyMutation(s){if(this.serverFields=Object.assign({},this.serverFields,s),0===this.shadowMutations.size)for(const e of this.dependentQueries().values())for(const s of e.observers)s.onUpdateResult(this.serverFields)}applyShadowMutation(s,e){0===this.shadowMutations.size&&(this.shadowFields=Object.assign({},this.serverFields),this.shadowQueries=new Set(this.serverQueries)),this.shadowMutations.add(s),e&&(this.shadowFields=Object.assign({},this.shadowFields,e))}removeShadowMutation(s,e){e?this.shadowMutations.delete(s):this.shadowMutations=new Set}},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(1),a=t(10),o=t(11);s.default=class{constructor(){this.instanceStates=new a.EntryMap,this.shadowInstances=new Set,this.queryStates=new a.EntryMap}recomputeDependentQueries(e){const s=e.fields();for(const t of this.queryStates.values())if(t.results.has(e))if(t.query.matches(s))for(const e of t.observers)e.onUpdateResult(s);else this.removeInstance(t,e,!1);else t.query.matches(s)&&this.addInstance(t,e)}restoreServerQueries(e){for(const t of e.dependentQueries().values())for(const s of t.observers)s.restoreChild(e.fields());const s=e.fields();for(const t of this.queryStates.values())if(t.results.has(e))if(e.dependentQueries().has(t))for(const e of t.observers)e.onUpdateResult(s);else this.removeInstance(t,e,!0);else e.dependentQueries().has(t)&&this.addInstance(t,e);this.checkOrphanInstance(e)}addInstance(e,s){if(!e.results.has(s)){e.results.add(s);for(const t of e.observers)t.onAddResult(s.fields());s.dependentQueries().add(e)}}removeInstance(e,s,t){n.assert(e.results.has(s)),e.results.delete(s);for(const n of e.observers)t?n.onRemoveResult(s.fields()):n.detachChild(s.fields());s.dependentQueries().delete(e)}applyShadowMutationAdd(e,s){const t=this.instanceStates.entry(s.id).orInsertWith(()=>new o.default({id:s.id}));this.shadowInstances.add(t),t.applyShadowMutation(e,s);for(const n of this.queryStates.values())n.query.matches(t.fields())&&this.addInstance(n,t)}applyShadowMutationDelete(e,s){this.shadowInstances.add(s),s.applyShadowMutation(e,null);for(const t of s.dependentQueries().values())this.removeInstance(t,s,!1)}applyShadowMutationUpdate(e,s,t){this.shadowInstances.add(s),n.assert(t),s.applyShadowMutation(e,t),this.recomputeDependentQueries(s)}removeShadowMutations(e,s,t){for(const n in s){const s=this.instanceStates.get(n);if(void 0===s)throw new Error("update triggered on non-existent instance");s.shadowMutations.has(e)&&(s.removeShadowMutation(e,t),0===s.shadowMutations.size&&(this.shadowInstances.delete(s),this.restoreServerQueries(s)))}}applyMutations(e,s){const t=new Set;for(const n in e)this.instanceStates.entry(n).andModify(s=>{s.applyMutation(e[n])}).orInsertWith(()=>{const s=new o.default(e[n]);return t.add(s),s});for(const a in s){const{fullResults:e,results:o}=s[a];if(!this.queryStates.has(a))continue;const r=this.queryStates.get(a);for(const s in o){n.assert(this.instanceStates.has(s));const e=this.instanceStates.get(s);this.shadowInstances.has(e)?!0===o[s]?e.serverQueries.add(r):e.serverQueries.delete(r):!0===o[s]?this.addInstance(r,e):(this.removeInstance(r,e,!0),t.add(e))}if(r.loaded){if(e){for(const e of r.results)this.shadowInstances.has(e)||o[e.fields().id]||(this.removeInstance(r,e,!0),t.add(e));for(const e of this.shadowInstances.values())o[e.fields().id]||e.serverQueries.delete(r)}}else{r.loaded=!0;for(const e of this.shadowInstances.values())r.query.matches(e.fields())&&this.addInstance(r,e)}for(const s of r.observers)s.setIsLoaded()}for(const n of t)this.checkOrphanInstance(n)}subscribe(e,s){const t=this.queryStates.entry(e.queryId).orInsertWith(()=>({results:new Set,query:e.substituted(),observers:new Set,loaded:!1}));if(n.assert(!t.observers.has(s)),t.observers.add(s),t.loaded){for(const e of t.results.values())s.onAddResult(e.fields()),n.assert(e.dependentQueries().has(t));s.setIsLoaded()}return()=>{if(n.assert(t.observers.has(s)),t.observers.delete(s),0===t.observers.size){for(const e of t.results.values())e.dependentQueries().delete(t),this.checkOrphanInstance(e);this.queryStates.delete(e.queryId)}}}checkOrphanInstance(e){0!==e.dependentQueries().size||this.shadowInstances.has(e)||(n.assert(this.instanceStates.has(e.fields().id)),this.instanceStates.delete(e.fields().id))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=e(1),i=e(9),n=e(12),a=e(3);s.default=class{constructor(t,s){this.args=t,this.schema=s,this.views=new Set,this.stores={},s.session.validateArguments(t,s);for(const e of s.objects.keys())this.stores[e]=new n.default}applyMutations(t){for(const s in t){const e=t[s];this.stores[s].applyMutations(e.instances,e.queries)}}applyShadowMutations(t,s){for(const e in s){const i=this.stores[e],n=s[e];for(const a in s[e]){const s=i.instanceStates.get(a),e=n[a];void 0===s?(o.assert(e),i.applyShadowMutationAdd(t,e)):null===e?i.applyShadowMutationDelete(t,s):i.applyShadowMutationUpdate(t,s,e)}}}removeShadowMutations(t,s,e){for(const o in s)this.stores[o].removeShadowMutations(t,s[o],e)}subscribeView(t,s){const e=this.schema.views[t];e.validateArguments(s,this.schema);const o=new i.default(e,new a.default(this.args,s),this);return this.views.add(o),o}unsubscribeView(t){this.views.delete(t),t.destroy()}subscribe(t,s){return this.stores[t.objectName].subscribe(t,s)}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.warn=function(...o){console.log("WARN",...o)},n.error=function(...o){console.log("ERROR",...o)},n.info=function(...o){console.log("INFO",...o)},n.debug=function(...o){console.log("DEBUG",...o)},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(s,e,t){"use strict";var i=this&&this.__awaiter||function(s,e,t,i){return new(t||(t=Promise))(function(n,o){function a(s){try{c(i.next(s))}catch(e){o(e)}}function r(s){try{c(i.throw(s))}catch(e){o(e)}}function c(s){s.done?n(s.value):new t(function(e){e(s.value)}).then(a,r)}c((i=i.apply(s,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const n=t(13),o=t(1),a=t(14),r=5e3,c=3e4;e.default=class{constructor(s,e,t,i){this.url=t,this.wsImpl=i,this.unsentMessagesQueue=[],this.transactionId=1,this.syncCallbacks=new Map,this.observers=new Set,this.session=new n.default(s,e),this.connect()}close(){return new Promise(s=>{this.clearReconnect(),this.clearKeepalive(),this.ws.readyState!==this.ws.CLOSED?(this.ws.onclose=(()=>s()),this.ws.close()):s()})}subscribe(s,e,t){this.send({messageType:"subscribe",viewName:s._name,args:e});const i=this.session.subscribeView(s._name,e),n=()=>{t(i.result())};return this.observers.add(n),()=>{this.observers.delete(n),this.session.unsubscribeView(i),this.send({messageType:"unsubscribe",viewName:s._name,args:e})}}notifyObservers(){for(const s of this.observers.values())s()}applyMutations(s,e){return i(this,void 0,void 0,function*(){const t=this.transactionId;let i;this.transactionId++,this.session.applyShadowMutations(t,s),this.notifyObservers();try{i=yield e}catch(n){throw this.session.removeShadowMutations(t,s,!1),this.notifyObservers(),n}return yield this.sync(t),this.session.removeShadowMutations(t,s,!0),this.notifyObservers(),i})}sync(s=this.transactionId++){return i(this,void 0,void 0,function*(){this.send({messageType:"sync",transactionId:s});const[e,t]=o.promiseResolveReject();this.syncCallbacks.set(s,t),yield e,this.syncCallbacks.delete(s)})}getIntervalWithJitter(){return c+(Math.random()-.5)*r}clearReconnect(){this.reconnect&&(clearTimeout(this.reconnect),this.reconnect=void 0)}clearKeepalive(){this.keepalive&&(clearInterval(this.keepalive),this.keepalive=void 0)}onDisconnect(){for(const{viewDef:s,viewArgs:e}of this.session.views)this.send({messageType:"subscribe",viewName:s.name,args:e});for(const s of this.syncCallbacks.keys())this.send({messageType:"sync",transactionId:s});this.scheduleReconnect()}scheduleReconnect(){this.reconnect=setTimeout(()=>{this.reconnect=void 0,this.connect()},this.getIntervalWithJitter())}connect(){this.ws=new this.wsImpl(this.url),this.ws.onopen=(()=>i(this,void 0,void 0,function*(){for(this.ws.onclose=(()=>{this.clearKeepalive(),this.onDisconnect()}),this.send({messageType:"auth",args:this.session.args}),this.keepalive=setInterval(()=>{this.send({messageType:"ping"})},this.getIntervalWithJitter());this.unsentMessagesQueue.length>0;)this.send(this.unsentMessagesQueue.shift())})),this.ws.onerror=(()=>{}),this.ws.onmessage=(({data:s})=>{let e;try{e=JSON.parse(s)}catch(t){return void a.error(t)}if(e)switch(e.messageType){case"ack":break;case"pendingMutations":this.session.applyMutations(e.mutations),this.notifyObservers();break;case"synced":const s=this.syncCallbacks.get(e.transactionId);s&&s()}})}send(s){this.ws.readyState===this.ws.OPEN?this.ws.send(JSON.stringify(s)):this.unsentMessagesQueue.push(s)}},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r._=null,r.ifExistsPredicate=function(e){return null!==e&&Object.keys(e).every(r=>{const t=e[r];return!!t&&(!Array.isArray(t)||t.length>0)})},r.isObjectField=function(e){return"object"===e.type.kind||"objects"===e.type.kind},r.isComputedField=function(e){return"function"in e},r.fieldArg=(e=>({paramType:"fieldArg",variable:e})),r.viewArg=(e=>({paramType:"viewArg",variable:e})),r.session=(e=>({paramType:"session",variable:e})),r.parent=(e=>({paramType:"parent",variable:e})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=class{constructor(e){this.name=e.name,this.values=e.values}validate(e){}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=class extends Error{constructor(t){super(t),Object.setPrototypeOf(this,new.target.prototype)}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var e,o,u=function(){function t(t,n){for(var r=0;r<n.length;r++){var e=n[r];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(t,e.key,e)}}return function(n,r,e){return r&&t(n.prototype,r),e&&t(n,e),n}}(),i=(e=["",""],o=["",""],Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(o)}})));var a=function(){function t(){for(var n=this,r=arguments.length,e=Array(r),o=0;o<r;o++)e[o]=arguments[o];return function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.tag=function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return"function"==typeof t?n.interimTag.bind(n,t):"string"==typeof t?n.transformEndResult(t):(t=t.map(n.transformString.bind(n)),n.transformEndResult(t.reduce(n.processSubstitutions.bind(n,e))))},e.length>0&&Array.isArray(e[0])&&(e=e[0]),this.transformers=e.map(function(t){return"function"==typeof t?t():t}),this.tag}return u(t,[{key:"interimTag",value:function(t,n){for(var r=arguments.length,e=Array(r>2?r-2:0),o=2;o<r;o++)e[o-2]=arguments[o];return this.tag(i,t.apply(void 0,[n].concat(e)))}},{key:"processSubstitutions",value:function(t,n,r){var e=this.transformSubstitution(t.shift(),n);return"".concat(n,e,r)}},{key:"transformString",value:function(t){return this.transformers.reduce(function(t,n){return n.onString?n.onString(t):t},t)}},{key:"transformSubstitution",value:function(t,n){return this.transformers.reduce(function(t,r){return r.onSubstitution?r.onSubstitution(t,n):t},t)}},{key:"transformEndResult",value:function(t){return this.transformers.reduce(function(t,n){return n.onEndResult?n.onEndResult(t):t},t)}}]),t}();n.default=a,t.exports=n.default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var a,o=u(19),d=(a=o)&&a.__esModule?a:{default:a};t.default=d.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return{onEndResult:function(t){if(""===e)return t.trim();if("start"===(e=e.toLowerCase())||"left"===e)return t.replace(/^\s*/,"");if("end"===e||"right"===e)return t.replace(/\s*$/,"");throw new Error("Side not supported: "+e)}}},e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=u(21),s=(o=r)&&o.__esModule?o:{default:o};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.default=function(){var r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"initial";return{onEndResult:function(n){if("initial"===r){var t=n.match(/^[^\S\n]*(?=\S)/gm),e=t&&Math.min.apply(Math,function(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}return Array.from(r)}(t.map(function(r){return r.length})));if(e){var a=new RegExp("^.{"+e+"}","gm");return n.replace(a,"")}return n}if("all"===r)return n.replace(/^[^\S\n]+/gm,"");throw new Error("Unknown type: "+r)}}},r.exports=n.default,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u=o(23),d=(r=u)&&r.__esModule?r:{default:r};t.default=d.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default=function(e,t){return{onEndResult:function(r){if(null==e||null==t)throw new Error("replaceResultTransformer requires at least 2 arguments.");return r.replace(e,t)}}},e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=u(25),a=(o=r)&&o.__esModule?o:{default:o};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t,e){return{onSubstitution:function(r,n){if(null==t||null==e)throw new Error("replaceSubstitutionTransformer requires at least 2 arguments.");return null==r?r:r.toString().replace(t,e)}}},t.exports=e.default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,r=u(27),a=(o=r)&&o.__esModule?o:{default:o};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});r.default=function(e,r){return{onString:function(t){if(null==e||null==r)throw new Error("replaceStringTransformer requires at least 2 arguments.");return t.replace(e,r)}}},e.exports=r.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u=r(29),a=(o=u)&&o.__esModule?o:{default:o};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r={separator:"",conjunction:"",serial:!1};n.default=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r;return{onSubstitution:function(n,e){if(Array.isArray(n)){var r=n.length,o=t.separator,i=t.conjunction,a=t.serial,s=e.match(/(\n?[^\S\n]+)$/);if(n=s?n.join(o+s[1]):n.join(o+" "),i&&r>1){var u=n.lastIndexOf(o);n=n.slice(0,u)+(a?o:"")+" "+i+n.slice(u+1)}}return n}}},t.exports=n.default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,u=r(31),a=(o=u)&&o.__esModule?o:{default:o};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.default=function(t){return{onSubstitution:function(e,n){if(null==t||"string"!=typeof t)throw new Error("You need to specify a string character to split by.");return"string"==typeof e&&e.includes(t)&&(e=e.split(t)),e}}},t.exports=e.default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u=o(33),s=(r=u)&&r.__esModule?r:{default:r};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=function(t){return null!=t&&!Number.isNaN(t)&&"boolean"!=typeof t};e.default=function(){return{onSubstitution:function(t){return Array.isArray(t)?t.filter(r):r(t)?t:""}}},t.exports=e.default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r,u=o(35),a=(r=u)&&r.__esModule?r:{default:r};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(20)),n=o(r(24)),u=o(r(32)),f=o(r(22));function o(e){return e&&e.__esModule?e:{default:e}}var s=new a.default((0,u.default)({separator:","}),n.default,f.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,s=o(37),a=(u=s)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(20)),a=f(r(24)),u=f(r(32)),o=f(r(22));function f(e){return e&&e.__esModule?e:{default:e}}var s=new n.default((0,u.default)({separator:",",conjunction:"and"}),a.default,o.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d=o(39),s=(u=d)&&u.__esModule?u:{default:u};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=f(r(20)),a=f(r(24)),o=f(r(32)),u=f(r(22));function f(e){return e&&e.__esModule?e:{default:e}}var s=new n.default((0,o.default)({separator:",",conjunction:"or"}),a.default,u.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,s=o(41),a=(u=s)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var n=s(t(20)),a=s(t(24)),u=s(t(32)),f=s(t(22)),l=s(t(34)),o=s(t(36));function s(e){return e&&e.__esModule?e:{default:e}}var d=new n.default((0,l.default)("\n"),o.default,u.default,a.default,f.default);r.default=d,e.exports=r.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,d=u(43),l=(o=d)&&o.__esModule?o:{default:o};t.default=l.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,d=u(44),l=(o=d)&&o.__esModule?o:{default:o};t.default=l.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,d=u(44),l=(o=d)&&o.__esModule?o:{default:o};t.default=l.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=o(r(20)),u=o(r(24)),f=o(r(32)),l=o(r(22)),n=o(r(34)),d=o(r(28));function o(e){return e&&e.__esModule?e:{default:e}}var s=new a.default((0,n.default)("\n"),f.default,u.default,l.default,(0,d.default)(/&/g,"&amp;"),(0,d.default)(/</g,"&lt;"),(0,d.default)(/>/g,"&gt;"),(0,d.default)(/"/g,"&quot;"),(0,d.default)(/'/g,"&#x27;"),(0,d.default)(/`/g,"&#x60;"));t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,a=u(47),d=(o=a)&&o.__esModule?o:{default:o};t.default=d.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(20)),a=n(r(22)),l=n(r(26));function n(e){return e&&e.__esModule?e:{default:e}}var s=new u.default((0,l.default)(/(?:\n(?:\s*))+/g," "),a.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d=o(49),a=(u=d)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=n(r(20)),a=n(r(22)),l=n(r(26));function n(e){return e&&e.__esModule?e:{default:e}}var s=new u.default((0,l.default)(/(?:\n\s*)/g,""),a.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d=o(51),a=(u=d)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=s(t(20)),u=s(t(32)),l=s(t(22)),n=s(t(26));function s(e){return e&&e.__esModule?e:{default:e}}var f=new a.default((0,u.default)({separator:","}),(0,n.default)(/(?:\s+)/g," "),l.default);r.default=f,e.exports=r.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,s=o(53),a=(u=s)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var a=l(t(20)),n=l(t(32)),u=l(t(22)),o=l(t(26));function l(e){return e&&e.__esModule?e:{default:e}}var s=new a.default((0,n.default)({separator:",",conjunction:"or"}),(0,o.default)(/(?:\s+)/g," "),u.default);r.default=s,e.exports=r.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,s=o(55),a=(u=s)&&u.__esModule?u:{default:u};t.default=a.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(20)),n=l(r(32)),u=l(r(22)),o=l(r(26));function l(e){return e&&e.__esModule?e:{default:e}}var s=new a.default((0,n.default)({separator:",",conjunction:"and"}),(0,o.default)(/(?:\s+)/g," "),u.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,d=o(57),s=(u=d)&&u.__esModule?u:{default:u};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(20)),n=l(r(24)),u=l(r(32)),f=l(r(22));function l(e){return e&&e.__esModule?e:{default:e}}var o=new a.default(u.default,n.default,f.default);t.default=o,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var o,s=u(59),d=(o=s)&&o.__esModule?o:{default:o};t.default=d.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=f(r(20)),u=f(r(32)),l=f(r(22)),n=f(r(26));function f(e){return e&&e.__esModule?e:{default:e}}var s=new a.default(u.default,(0,n.default)(/(?:\s+)/g," "),l.default);t.default=s,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var u,n=o(61),s=(u=n)&&u.__esModule?u:{default:u};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var u=f(r(20)),a=f(r(24)),n=f(r(22));function f(e){return e&&e.__esModule?e:{default:e}}var o=new u.default(a.default,n.default);t.default=o,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,o=u(63),s=(d=o)&&d.__esModule?d:{default:d};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=l(r(20)),u=l(r(24)),n=l(r(22));function l(e){return e&&e.__esModule?e:{default:e}}var f=new a.default((0,u.default)("all"),n.default);t.default=f,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var d,o=u(65),s=(d=o)&&d.__esModule?d:{default:d};t.default=s.default,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.stripIndents=r.stripIndent=r.oneLineInlineLists=r.inlineLists=r.oneLineCommaListsAnd=r.oneLineCommaListsOr=r.oneLineCommaLists=r.oneLineTrim=r.oneLine=r.safeHtml=r.source=r.codeBlock=r.html=r.commaListsOr=r.commaListsAnd=r.commaLists=r.removeNonPrintingValuesTransformer=r.splitStringTransformer=r.inlineArrayTransformer=r.replaceStringTransformer=r.replaceSubstitutionTransformer=r.replaceResultTransformer=r.stripIndentTransformer=r.trimResultTransformer=r.TemplateTag=void 0;var t=_(n(20)),s=_(n(22)),i=_(n(24)),a=_(n(26)),o=_(n(28)),m=_(n(30)),l=_(n(32)),f=_(n(34)),u=_(n(36)),d=_(n(38)),L=_(n(40)),c=_(n(42)),T=_(n(44)),p=_(n(45)),g=_(n(46)),I=_(n(48)),A=_(n(50)),C=_(n(52)),S=_(n(54)),O=_(n(56)),v=_(n(58)),R=_(n(60)),b=_(n(62)),y=_(n(64)),P=_(n(66));function _(e){return e&&e.__esModule?e:{default:e}}r.TemplateTag=t.default,r.trimResultTransformer=s.default,r.stripIndentTransformer=i.default,r.replaceResultTransformer=a.default,r.replaceSubstitutionTransformer=o.default,r.replaceStringTransformer=m.default,r.inlineArrayTransformer=l.default,r.splitStringTransformer=f.default,r.removeNonPrintingValuesTransformer=u.default,r.commaLists=d.default,r.commaListsAnd=L.default,r.commaListsOr=c.default,r.html=T.default,r.codeBlock=p.default,r.source=g.default,r.safeHtml=I.default,r.oneLine=A.default,r.oneLineTrim=C.default,r.oneLineCommaLists=S.default,r.oneLineCommaListsOr=O.default,r.oneLineCommaListsAnd=v.default,r.inlineLists=R.default,r.oneLineInlineLists=b.default,r.stripIndent=y.default,r.stripIndents=P.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(2),s=n(4),a=n(18),o=n(67);function r(e){if("or"in e)return{type:"or",expressions:e.or.map(r)};if("and"in e)return{type:"and",expressions:e.and.map(r)};const[t,n,i]=e;switch(n){case"in":return{type:"in",left:t,right:i};default:return{type:"binary",left:t,op:n,right:i}}}t.default=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1,this.args=e.args||[],this.filter=e.filter?r(e.filter):void 0,this.orderBy=function(e){if(e)return e.map(e=>e instanceof Array?e:[e,"ASC"])}(e.orderBy),this.checkPermissions=e.checkPermissions||!1}validate(e,t){if(!e.objects.has(this.type.name))throw new a.default(o.oneLine`
        field '${this.name}' of object type '${t.name}' refers to undefined
        object type '${this.type.name}'`);const n=new Set;for(const f of s.expressionParams(this.filter))if("fieldArg"===f.paramType){if(!i.argumentByName(this.args,f.variable))throw new a.default(o.oneLine`
            field '${this.name}' of object type '${t.name}' uses argument
            '${f.variable}' but does not declare it`);n.add(f.variable)}else if("parent"===f.paramType){if(!t.fields.has(f.variable))throw new a.default(o.oneLine`
            field '${this.name}' of object type '${t.name}' refers to
            unknown parent field '${f.variable}'`)}else if("session"===f.paramType){if(!i.argumentByName(e.session.args,f.variable))throw new a.default(o.oneLine`
            field '${this.name}' of object type '${t.name}' refers to
            unknown session argument '${f.variable}'`);n.add(f.variable)}for(const i of this.args)if(!n.has(i.name))throw new a.default(o.oneLine`
          field '${this.name}' of object type '${t.name}' declares argument
          '${i.name}' but does not use it`);const r=e.objectDef(this.type);for(const i of s.expressionFields(this.filter))if(!r.fields.has(i))throw new a.default(o.oneLine`
          filter condition of '${this.name}' in object type '${t.name}' refers to field
          '${i}', which does not exist on object '${this.type.name}'`);if(this.checkPermissions&&!r.fields.has("canRead"))throw new a.default(o.oneLine`
          field '${this.name}' of object type '${t.name}' has checkPermissions
          set to true but '${r.name}' does not have a 'canRead' field`)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(18),a=n(67);t.default=class{constructor(e){this.name=e.name,this.type=e.type,this.nullable=e.nullable||!1}validate(e,t){if("enum"===this.type.kind&&!e.enums.has(this.type.name))throw new s.default(a.oneLine`
        field '${this.name}' of object type '${t.name}' refers to undefined
        enum type '${this.type.name}'`)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.argErrorForArgValue=function e(n,t,r){const{type:s,name:a}=t,i=a;if(void 0===r)return{argName:i,msg:"must not be undefined"};if(null===r){if(!t.nullable)return{argName:i,msg:"must not be null"}}else if("list"===s.kind){if(!(r instanceof Array))return{argName:i,msg:"expected an array"};for(const t in r){const i=e(n,{name:`${a}[${t}]`,type:Object.assign({},s.ofType)},r[t]);if(i)return i}}else if("enum"===s.kind){const e=n.enumDef(s);if("string"!=typeof r||e.values.indexOf(r)<0)return{argName:i,msg:`expects one of: ${e.values.join(", ")}`}}else{const e=typeof r;let n;switch(s.kind){case"datetime":case"date":case"string":n="string";break;case"int":case"float":n="number";break;case"bool":n="boolean"}if(e!==n)return{argName:i,msg:`expected ${n}, got ${e} from ${JSON.stringify(r)}`}}return null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(2),n=i(16),o=i(4),r=i(68),d=i(73),a=i(69),f=i(70),l=i(18),c=i(67),h=i(1);function u(e,t){return new l.default(`${e.join(".")} - ${t}`)}class p{constructor({path:e,objectDef:t,objectFieldDef:i,params:l,fields:m,viewArgs:b,schema:F}){this.joinedQueries=[],this.projectedFields=new Map,this.computedFields=new Map,this.dependentFields=new Map,this.queriedFields=new Map,this.path=e,this.objectDef=t,this.objectFieldDef=i,this.params=l;for(const n in l){const t=l[n],o=s.argumentByName(i.args,n);if(!o)throw u(e,c.oneLine`
          Found arg with name '${n}', but the field doesn't accept an
          arg with this name`);if(s.isViewParam(t)){const i=t.variable,n="session"===t.paramType?F.session.args:b,r=s.argumentByName(n,i);if(!r)throw u(e,c.oneLine`
            Found arg with name '${i}', but there isn't a declaration of
            an arg with this name in the GraphQuery`);if(r.nullable&&!o.nullable)throw u(e,c.oneLine`
            Query arg '${i}' is nullable but used as a field argument that
            is not nullable`);if(r.type.kind!==o.type.kind)throw u(e,c.oneLine`
            Query arg '${r.name}' of type ${r.type.kind} is being
            used for field argument '${o.name}' of type
            ${o.type.kind}`)}else{const i=f.argErrorForArgValue(F,o,t);if(i)throw u(e,`Arg '${i.argName}': ${i.msg}`)}}for(const s of i.args||[])if(void 0===l[s.name])throw u(e,`Argument '${s.name}' is required`);for(const s in m){const t=this.objectDef.fieldDef(s);if(t instanceof r.default){const i=m[s],[o,r]=Array.isArray(i)?i:[{},i];if(r===n._)throw u(e,`expected nested fields for '${s}' but got '_'`);this.joinedQueries.push(new p({path:e.concat([s]),objectDef:F.objectDef(t.type),objectFieldDef:t,params:o,fields:r,viewArgs:b,schema:F}))}else if(t instanceof d.default){if(m[s]!==n._)throw u(e,`cannot query field '${s}'`);this.computedFields.set(s,t)}else{if(m[s]!==n._)throw u(e,`cannot query field '${s}'`);this.projectedFields.set(s,t)}}const j=e=>{const t=this.objectDef.fieldDef(e);return h.assert(t instanceof a.default),t},g=e=>{for(const t in e.view.fields)null===e.view.fields[t]&&this.dependentFields.set(t,j(t))};"root"!==t.name&&(this.projectedFields.has("id")||this.dependentFields.set("id",j("id")));for(const s of this.computedFields.values())g(s);if(this.checkPermissions()&&g(this.objectDef.fieldDef("canRead")),this.objectFieldDef.orderBy)for(const[s]of this.objectFieldDef.orderBy)this.dependentFields.set(s,j(s));for(const s of o.expressionFields(this.objectFieldDef.filter))this.dependentFields.set(s,j(s));for(const s of this.joinedQueries)for(const e of o.expressionParams(s.objectFieldDef.filter))"parent"===e.paramType&&this.dependentFields.set(e.variable,j(e.variable));this.queriedFields=new Map([...this.dependentFields,...this.projectedFields])}isNullable(){return this.objectFieldDef.nullable}isList(){return"objects"===this.objectFieldDef.type.kind}checkPermissions(){return this.objectFieldDef.checkPermissions}}t.default=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(2),n=r(71),o=r(70),s=r(68),i=r(18),f=r(67);t.default=class{constructor(e,t,r,a){this.name=e,this.fields=t.fields,this.root=new n.default({path:[e],objectDef:r,objectFieldDef:new s.default({name:e,type:{kind:"object",name:r.name}}),params:{},fields:t.fields,viewArgs:t.args||[],schema:a}),this.args=t.args||[]}validateArguments(e,t){for(const r in e){const n=e[r],s=a.argumentByName(this.args,r);if(!s)throw new i.default(f.oneLine`
          View argument error: '${r}' is not a valid argument
          name`);{const e=o.argErrorForArgValue(t,s,n);if(e)throw new i.default(f.oneLine`
            View argument error: '${e.argName}' '${e.msg}'`)}}for(const r of this.args)if(void 0===e[r.name])throw new i.default(`Missing argument '${r.name}'`)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(72);t.default=class{constructor(e,t,s){this.name=e.name,this.type=e.type,this.nullable=!1,this.view=new i.default(this.name,{fields:e.fields},t,s),this.function=e.function}validate(){}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(16),o=s(68),f=s(69),n=s(73),d=s(18),l=s(67);t.default=class{constructor(e){this.name=e.name,this.fields=new Map;for(const t of e.fields)i.isObjectField(t)?this.fields.set(t.name,new o.default(t)):i.isComputedField(t)||this.fields.set(t.name,new f.default(t))}constructComputedFields(e,t){for(const s of e.fields)i.isComputedField(s)&&this.fields.set(s.name,new n.default(s,this,t))}validate(e){if("root"===this.name)for(const t of this.fields.values())if(!(t instanceof o.default))throw new d.default(l.oneLine`
            root fields must be of object type, but '${t.name}' is
            '${t.type.kind}'`);for(const t of this.fields.values())t.validate(e,this)}fieldDef(e){const t=this.fields.get(e);if(t)return t;throw new d.default(l.oneLine`
      field '${e}' isn't present in object type '${this.name}'`)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(67),n=t(2),a=t(70),s=t(18);r.default=class{constructor(e){this.args=e&&e.args||[]}validateArguments(e,r){for(const t in e){const i=e[t],u=n.argumentByName(this.args,t);if(!u)throw new s.default(o.oneLine`
          Session argument error: '${t}' is not a valid argument
          name`);{const e=a.argErrorForArgValue(r,u,i);if(e)throw new s.default(o.oneLine`
            Session argument error: '${e.argName}' '${e.msg}'`)}}}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(17),i=s(74),o=s(75),c=s(72),a=s(18);t.default=class{constructor(e){this.session=new o.default(e.session),this.enums=new Map;for(const t of e.enums||[])this.enums.set(t.name,new n.default(t));this.objects=new Map;for(const t of e.objects)this.objects.set(t.name,new i.default(t));for(const t of e.objects)this.objects.get(t.name).constructComputedFields(t,this);this.enums.forEach(e=>e.validate(this)),this.objects.forEach(e=>e.validate(this)),this.views={};for(const t in e.views)this.views[t]=new c.default(t,e.views[t],this.objects.get("root"),this)}typeWithKind(e,t){const s=this[e].get(t);if(s)return s;throw new a.default(`${e} with name '${t}' isn't present in schema`)}enumDef({name:e}){return this.typeWithKind("enums",e)}objectDef({name:e}){return this.typeWithKind("objects",e)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(15);s.Client=r.default;var a=t(2);s.argValuesEqual=a.argValuesEqual;const c=t(16);s.DSL=c;const n=t(76);s.Schema=n.default;var l=t(16);s.parent=l.parent,s._=l._,s.fieldArg=l.fieldArg,s.viewArg=l.viewArg,s.session=l.session,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(77                );t.LiveGraphClient=class extends n.Client{applyUpdates(e,t){return this.applyMutations(e,t)}},function(e){e._name="User",e._argKeys=[]}(t.User||(t.User={})),function(e){e._name="UserWithTeams",e._argKeys=[]}(t.UserWithTeams||(t.UserWithTeams={})),function(e){e._name="RecentFiles",e._argKeys=[]}(t.RecentFiles||(t.RecentFiles={})),function(e){e._name="UserWithProjects",e._argKeys=["teamId"]}(t.UserWithProjects||(t.UserWithProjects={})),function(e){e._name="UserWithFiles",e._argKeys=[]}(t.UserWithFiles||(t.UserWithFiles={})),function(e){e._name="TeamMembers",e._argKeys=["teamId"]}(t.TeamMembers||(t.TeamMembers={})),function(e){e._name="ProjectsByTeam",e._argKeys=["teamId"]}(t.ProjectsByTeam||(t.ProjectsByTeam={})),function(e){e._name="FilesByProject",e._argKeys=["folderId"]}(t.FilesByProject||(t.FilesByProject={})),function(e){e._name="FileWithComments",e._argKeys=["fileKey"]}(t.FileWithComments||(t.FileWithComments={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(16);s.DSL=t;const c=r(76);s.Schema=c.default;var n=r(16);s.parent=n.parent,s._=n._,s.fieldArg=n.fieldArg,s.viewArg=n.viewArg,s.session=n.session,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=i(79         );var r;!function(e){e[e.NONE=-1]="NONE",e[e.VIEW_METADATA=50]="VIEW_METADATA",e[e.VIEWER=100]="VIEWER",e[e.EDITOR=300]="EDITOR",e[e.ADMIN=900]="ADMIN",e[e.OWNER=999]="OWNER"}(r=n.PermissionLevel||(n.PermissionLevel={}));const d={name:"Comment",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"messageMeta",type:{kind:"string"}},{name:"notifiedMentions",type:{kind:"string"}},{name:"clientMeta",type:{kind:"string"}},{name:"trackTags",type:{kind:"string"}},{name:"parentId",type:{kind:"string"},nullable:!0},{name:"childComments",type:{kind:"objects",name:"Comment"},filter:["parentId","=",t.parent("id")]},{name:"file",type:{kind:"object",name:"File"},filter:["key","=",t.parent("key")]},{name:"isCommentUnread",type:{kind:"bool"},fields:{id:t._,file:{id:t._,fileFollowerForUser:{id:t._,userId:t._,unreadComments:t._}}},function:e=>{return!!e.file.fileFollowerForUser.unreadComments[e.id]}}]},s={name:"Foft",fields:[{name:"id",type:{kind:"string"}},{name:"userIds",type:{kind:"list",ofType:{kind:"string"}}},{name:"users",type:{kind:"objects",name:"User"},filter:["id","in",t.parent("userIds")]}]},a={name:"RecentFiles",fields:[{name:"id",type:{kind:"string"}},{name:"fileKeys",type:{kind:"list",ofType:{kind:"string"}}},{name:"files",checkPermissions:!0,type:{kind:"objects",name:"File"},filter:["key","in",t.parent("fileKeys")]}]},l={name:"OrgUser",fields:[{name:"id",type:{kind:"string"}},{name:"orgId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"permission",type:{kind:"string"}},{name:"visibleTeams",type:{kind:"object",name:"Team"},filter:["orgId","=",t.parent("orgId")]},{name:"orgBrowsableFiles",type:{kind:"object",name:"File"},filter:{and:[["orgBrowsable","=","true"],["parentOrgId","=",t.parent("orgId")],{or:[["linkAccess","=","org_view"],["linkAccess","=","org_edit"]]}]}}]},m={name:"File",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"folderId",type:{kind:"string"}},{name:"teamId",type:{kind:"string"}},{name:"parentOrgId",type:{kind:"string"}},{name:"touchedAt",type:{kind:"datetime"}},{name:"thumbnailUrl",type:{kind:"string"}},{name:"orgBrowsable",type:{kind:"bool"}},{name:"linkAccess",type:{kind:"string"}},{name:"roles",type:{kind:"objects",name:"FileRole"},filter:{and:[["resourceId","=",t.parent("key")],["resourceType","=","file"]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"FileRole"},nullable:!0,filter:{and:[["userId","=",t.session("userId")],["resourceId","=",t.parent("key")],["resourceType","=","file"]]}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},nullable:!0,filter:{and:[["userId","=",t.session("userId")],["orgId","=",t.parent("parentOrgId")],["permission","<>","guest"]]}},{name:"project",type:{kind:"objects",name:"Project"},nullable:!0,filter:{and:[["id","=",t.parent("folderId")]]}},{name:"commentThreads",type:{kind:"objects",name:"Comment"},filter:{and:[["key","=",t.parent("key")]]}},{name:"fileFollowerForUser",type:{kind:"object",name:"FileFollower"},filter:{and:[["key","=",t.parent("key")],["userId","=",t.session("userId")]]}},{name:"facesOnFileTiles",type:{kind:"object",name:"Foft"},filter:["id","=",t.parent("key")]},{name:"canRead",type:{kind:"bool"},fields:{id:t._,roleOnObjectForUser:{id:t._},orgBrowsable:t._,linkAccess:t._,currentOrgUser:{id:t._,orgId:t._},project:{id:t._,canRead:t._}},function:e=>null!==e.currentOrgUser&&!0===e.orgBrowsable&&("org_view"===e.linkAccess||"org_edit"===e.linkAccess)||null!==e.roleOnObjectForUser||!0===e.project.canRead}]},o={name:"Project",fields:[{name:"id",type:{kind:"string"}},{name:"updatedAt",type:{kind:"datetime"}},{name:"path",type:{kind:"string"}},{name:"viewOnlyAt",type:{kind:"datetime"}},{name:"inviteOnlyAt",type:{kind:"datetime"}},{name:"teamId",type:{kind:"string"},nullable:!0},{name:"roles",type:{kind:"objects",name:"ProjectRole"},filter:{and:[["resourceId","=",t.parent("id")],["resourceType","=","folder"]]}},{name:"files",type:{kind:"objects",name:"File"},filter:{and:[["folderId","=",t.parent("id")]]}},{name:"team",nullable:!0,type:{kind:"object",name:"Team"},filter:{and:[["id","=",t.parent("teamId")]]}},{name:"subscription",type:{kind:"object",name:"ProjectSubscription"},filter:{and:[["folderId","=",t.parent("id")],["userId","=",t.session("userId")]]}},{name:"roleOnObjectForUser",type:{kind:"object",name:"ProjectRole"},nullable:!0,filter:{and:[["userId","=",t.session("userId")],["resourceId","=",t.parent("id")],["resourceType","=","folder"]]}},{name:"canRead",type:{kind:"bool"},fields:{id:t._,roleOnObjectForUser:{id:t._},inviteOnlyAt:t._,path:t._,team:{id:t._,canRead:t._}},function:e=>!!e.roleOnObjectForUser||null===e.inviteOnlyAt&&""!==e.path&&e.team&&e.team.canRead}]},p={name:"Team",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"deletedAt",type:{kind:"datetime"},nullable:!0},{name:"createdAt",type:{kind:"datetime"}},{name:"ownerId",type:{kind:"string"}},{name:"orgId",type:{kind:"string"}},{name:"roles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["resourceId","=",t.parent("id")],["resourceType","=","team"]]}},{name:"owner",type:{kind:"object",name:"User"},nullable:!0,filter:["id","=",t.parent("ownerId")]},{name:"roleOnObjectForUser",type:{kind:"object",name:"TeamRole"},nullable:!0,filter:{and:[["userId","=",t.session("userId")],["resourceId","=",t.parent("id")],["resourceType","=","team"]]}},{name:"projects",type:{kind:"objects",name:"Project"},filter:{and:[["teamId","=",t.parent("id")],["inviteOnlyAt","=",null],["path","<>",""]]}},{name:"currentOrgUser",type:{kind:"object",name:"OrgUser"},nullable:!0,filter:{and:[["userId","=",t.session("userId")],["orgId","=",t.parent("orgId")],["permission","<>","guest"]]}},{name:"canRead",type:{kind:"bool"},fields:{id:t._,roleOnObjectForUser:{id:t._},currentOrgUser:{id:t._,orgId:t._,orgBrowsableFiles:{id:t._,teamId:t._}}},function:e=>!!e.roleOnObjectForUser||e.currentOrgUser&&e.currentOrgUser.orgBrowsableFiles&&e.currentOrgUser.orgBrowsableFiles.filter(n=>n.teamId===e.id).length>0}]},c={name:"User",fields:[{name:"id",type:{kind:"string"}},{name:"name",type:{kind:"string"}},{name:"imgUrl",type:{kind:"string"}},{name:"email",type:{kind:"string"}},{name:"handle",type:{kind:"string"}},{name:"teamRoles",type:{kind:"objects",name:"TeamRole"},filter:{and:[["userId","=",t.parent("id")],["resourceType","=","team"]]}},{name:"projectRoles",type:{kind:"objects",name:"ProjectRole"},args:[{name:"teamId",type:{kind:"string"},nullable:!0}],filter:{and:[["userId","=",t.parent("id")],["teamId","=",t.fieldArg("teamId")],["resourceType","=","folder"]]}},{name:"fileRoles",type:{kind:"objects",name:"FileRole"},filter:{and:[["userId","=",t.parent("id")],["resourceType","=","file"]]}}]},y=[{name:"id",type:{kind:"string"}},{name:"teamId",type:{kind:"string"}},{name:"userId",type:{kind:"string"},nullable:!0},{name:"resourceId",type:{kind:"string"}},{name:"resourceType",type:{kind:"string"}},{name:"pending",type:{kind:"bool"}},{name:"level",type:{kind:"int"}},{name:"user",type:{kind:"string"}},{name:"roleOwner",nullable:!0,type:{kind:"object",name:"User"},filter:["id","=",t.parent("userId")]}],k={name:"TeamRole",fields:[...y,{name:"team",type:{kind:"object",name:"Team"},filter:["id","=",t.parent("resourceId")]},{name:"canEdit",type:{kind:"bool"},fields:{id:t._,userId:t._,level:t._,team:{id:t._,roleOnObjectForUser:{id:t._,userId:t._,level:t._}}},function:e=>{const n=e.level,i=e.team.roleOnObjectForUser.level;return i.userId===e.userId||n!==r.OWNER&&(n===r.ADMIN?i>=r.ADMIN:i>=r.EDITOR)}}]},u={name:"FileRole",fields:[...y,{name:"file",type:{kind:"object",name:"File"},filter:["key","=",t.parent("resourceId")]}]},g={name:"ProjectRole",fields:[...y,{name:"project",type:{kind:"object",name:"Project"},filter:["id","=",t.parent("resourceId")]}]},f=new t.Schema({session:{args:[{name:"userId",type:{kind:"string"}}]},views:{User:{fields:{currentUser:{id:t._,name:t._}}},UserWithTeams:{fields:{currentUser:{id:t._,name:t._,teamRoles:{id:t._,team:{id:t._,name:t._,projects:{id:t._,path:t._,subscription:{id:t._}}}}}}},RecentFiles:{fields:{recentFiles:[{userId:t.session("userId")},{id:t._,fileKeys:t._,files:{id:t._,key:t._,name:t._,touchedAt:t._,thumbnailUrl:t._,facesOnFileTiles:{id:t._,users:{id:t._,name:t._}}}}]}},UserWithProjects:{args:[{name:"teamId",type:{kind:"string"},nullable:!0}],fields:{currentUser:{id:t._,name:t._,projectRoles:[{teamId:t.viewArg("teamId")},{id:t._,project:{id:t._,path:t._}}]}}},UserWithFiles:{fields:{currentUser:{id:t._,name:t._,fileRoles:{id:t._,file:{id:t._,name:t._,touchedAt:t._,thumbnailUrl:t._}}}}},TeamMembers:{args:[{name:"teamId",type:{kind:"string"}}],fields:{team:[{id:t.viewArg("teamId")},{id:t._,roleOnObjectForUser:{id:t._,level:t._},roles:{id:t._,level:t._,pending:t._,userId:t._,user:t._,canEdit:t._,roleOwner:{id:t._,name:t._,imgUrl:t._,email:t._,handle:t._}}}]}},ProjectsByTeam:{args:[{name:"teamId",type:{kind:"string"}}],fields:{team:[{id:t.viewArg("teamId")},{id:t._,projects:{id:t._,path:t._,updatedAt:t._,roles:{id:t._,level:t._,userId:t._,roleOwner:{id:t._,name:t._}},teamId:t._,files:{id:t._,name:t._,key:t._,touchedAt:t._}}}]}},FilesByProject:{args:[{name:"folderId",type:{kind:"string"}}],fields:{project:[{id:t.viewArg("folderId")},{id:t._,files:{id:t._,key:t._,name:t._,touchedAt:t._,thumbnailUrl:t._,facesOnFileTiles:{id:t._,users:{id:t._,name:t._}}}}]}},FileWithComments:{args:[{name:"fileKey",type:{kind:"string"}}],fields:{file:[{key:t.viewArg("fileKey")},{id:t._,commentThreads:{id:t._,userId:t._,messageMeta:t._,isCommentUnread:t._,childComments:{id:t._,userId:t._,messageMeta:t._,isCommentUnread:t._}}}]}}},objects:[{name:"root",fields:[{name:"currentUser",type:{kind:"object",name:"User"},filter:["id","=",t.session("userId")]},{name:"team",type:{kind:"object",name:"Team"},args:[{name:"id",type:{kind:"string"}}],filter:["id","=",t.fieldArg("id")],checkPermissions:!0},{name:"project",type:{kind:"object",name:"Project"},args:[{name:"id",type:{kind:"string"}}],filter:["id","=",t.fieldArg("id")],checkPermissions:!0},{name:"recentFiles",type:{kind:"object",name:"RecentFiles"},args:[{name:"userId",type:{kind:"string"}}],filter:["id","=",t.fieldArg("userId")]},{name:"file",type:{kind:"object",name:"File"},args:[{name:"key",type:{kind:"string"}}],filter:["key","=",t.fieldArg("key")]}]},l,u,k,g,c,p,o,{name:"ProjectSubscription",fields:[{name:"id",type:{kind:"string"}},{name:"folderId",type:{kind:"string"}},{name:"userId",type:{kind:"string"}}]},m,s,a,{name:"FileFollower",fields:[{name:"id",type:{kind:"string"}},{name:"key",type:{kind:"string"}},{name:"userId",type:{kind:"string"}},{name:"user",type:{kind:"string"}},{name:"unreadComments",type:{kind:"string"}},{name:"emailComments",type:{kind:"string"}}]},d]});n.default=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){
/** @license React v16.8.6
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o="function"==typeof Symbol&&Symbol.for,n=o?Symbol.for("react.element"):60103,c=o?Symbol.for("react.portal"):60106,f=o?Symbol.for("react.fragment"):60107,u=o?Symbol.for("react.strict_mode"):60108,i=o?Symbol.for("react.profiler"):60114,s=o?Symbol.for("react.provider"):60109,a=o?Symbol.for("react.context"):60110,y=o?Symbol.for("react.async_mode"):60111,l=o?Symbol.for("react.concurrent_mode"):60111,m=o?Symbol.for("react.forward_ref"):60112,p=o?Symbol.for("react.suspense"):60113,d=o?Symbol.for("react.memo"):60115,b=o?Symbol.for("react.lazy"):60116;function S(e){if("object"==typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case y:case l:case f:case i:case u:case p:return e;default:switch(e=e&&e.$$typeof){case a:case m:case s:return e;default:return t}}case b:case d:case c:return t}}}function $(e){return S(e)===l}t.typeOf=S,t.AsyncMode=y,t.ConcurrentMode=l,t.ContextConsumer=a,t.ContextProvider=s,t.Element=n,t.ForwardRef=m,t.Fragment=f,t.Lazy=b,t.Memo=d,t.Portal=c,t.Profiler=i,t.StrictMode=u,t.Suspense=p,t.isValidElementType=function(e){return"string"==typeof e||"function"==typeof e||e===f||e===l||e===i||e===u||e===p||"object"==typeof e&&null!==e&&(e.$$typeof===b||e.$$typeof===d||e.$$typeof===s||e.$$typeof===a||e.$$typeof===m)},t.isAsyncMode=function(e){return $(e)||S(e)===y},t.isConcurrentMode=$,t.isContextConsumer=function(e){return S(e)===a},t.isContextProvider=function(e){return S(e)===s},t.isElement=function(e){return"object"==typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return S(e)===m},t.isFragment=function(e){return S(e)===f},t.isLazy=function(e){return S(e)===b},t.isMemo=function(e){return S(e)===d},t.isPortal=function(e){return S(e)===c},t.isProfiler=function(e){return S(e)===i},t.isStrictMode=function(e){return S(e)===u},t.isSuspense=function(e){return S(e)===p},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){"use strict";t.exports=o(81),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";
/**
 * Copyright 2015, Yahoo! Inc.
 * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.
 */var o=r(82),p={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},n={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},s={};function y(e){return o.isMemo(e)?n:s[e.$$typeof]||p}s[o.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0};var c=Object.defineProperty,i=Object.getOwnPropertyNames,f=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,u=Object.getPrototypeOf,d=Object.prototype;e.exports=function e(t,r,o){if("string"!=typeof r){if(d){var p=u(r);p&&p!==d&&e(t,p,o)}var n=i(r);f&&(n=n.concat(f(r)));for(var s=y(t),m=y(r),g=0;g<n.length;++g){var O=n[g];if(!(a[O]||o&&o[O]||m&&m[O]||s&&s[O])){var P=l(r,O);try{c(t,O,P)}catch(v){}}}return t}return t},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=e(34,1),i=e(1),r=e(83),o=e(77),c=n.createContext(null),a=c.Provider;s.ContextProvider=a,s.subscribe=function(t){return s=>{const e=s=>{const e={};for(const n of t._argKeys)i.assert(n in s),e[n]=s[n];return e};class a extends u{constructor(t){super(t),this.state={status:"loading"}}componentDidMount(){this.startSubscription()}componentDidUpdate(t){o.argValuesEqual(e(this.props),e(t))||(this.endSubscription(),this.startSubscription())}componentWillUnmount(){this.endSubscription()}startSubscription(){this.setState({status:"loading"}),this.unsubscribe=this.context.client.subscribe(t,e(this.props),t=>this.setState(t))}endSubscription(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=void 0)}render(){const t=Object.assign({},this.props,this.state);return n.createElement(s,Object.assign({},t))}}return a.WrappedComponent=s,a.contextType=c,r(a,s,{})}};class u extends n.Component{constructor(t){super(t),this.withRef=!1,this.setWrappedInstance=this.setWrappedInstance.bind(this)}getWrappedInstance(){return this.wrappedInstance}setWrappedInstance(t){this.wrappedInstance=t}}t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(0                    ),r=i(78            ),o=i(80          ),l=i(84               ),a=i(34,1   );t.livegraphComments=n.default().feature_flags.livegraph_comments,t.LivegraphProvider=function({children:e}){if(t.livegraphComments){const t=`${"https:"===location.protocol?"wss":"ws"}://${location.host}/api/livegraph`,i=new r.LiveGraphClient({},o.default,t,WebSocket);return a.createElement(l.ContextProvider,{value:{client:i}},e)}return a.createElement(a.Fragment,null,e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=Object.create(null);function r(e){let t=e,n=0;for(;o[t];)t=e+`_${n}`,n+=1;return o[t]=!0,t}t.generateUniqueActionType=r,t.actionCreator=function(e){const t=r(e),n=(e={})=>({type:t,payload:e});return n.matches=(e=>e.type===t),n},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.DEFAULT=0]="DEFAULT",t[t.ERROR=1]="ERROR"}(e.FlashStatus||(e.FlashStatus={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(87               );var s=0;!function(t){t.INIT="FLASH_INIT",t.ADD="FLASH_ADD",t.REMOVE="FLASH_REMOVE",t.REMOVE_ALL="FLASH_REMOVE_ALL",t.TIMEOUT=3e3,t.TIMEOUT_SERVER_SIDE=6e3,t.init=function(){return{type:t.INIT}},t.flash=function(e,n){return{type:t.ADD,payload:{message:e,status:o.FlashStatus.DEFAULT,timeout:n,id:s++}}},t.error=function(e,n){return{type:t.ADD,payload:{message:e,status:o.FlashStatus.ERROR,timeout:n,id:s++}}},t.remove=function(e){return{type:t.REMOVE,payload:{id:e}}},t.removeAll=function(){return{type:t.REMOVE_ALL,payload:null}}}(e.flash||(e.flash={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(88               );function n(e={},t){switch(t.type){case a.flash.ADD:return Object.assign({},e,{[t.payload.id]:t.payload});case a.flash.REMOVE:let s=Object.assign({},e);return delete s[t.payload.id],s;case a.flash.REMOVE_ALL:return{};default:return e}}t.flashes=n,t.default=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(s,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=e(88               ),l=e(0                    );a.flashMiddleware=(s=>a=>(function(e){switch(e.type){case t.flash.INIT:const o=a(e);let r=l.default().flash;return r&&(r.error?s.dispatch(t.flash.error(r.error,t.flash.TIMEOUT_SERVER_SIDE)):r.warn?s.dispatch(t.flash.flash(r.warn,t.flash.TIMEOUT_SERVER_SIDE)):r.success&&s.dispatch(t.flash.flash(r.success,t.flash.TIMEOUT_SERVER_SIDE))),o;case t.flash.ADD:const f=s.getState();for(let a in f.flashes){let l=f.flashes[a];if(l.message===e.payload.message&&l.status===e.payload.status){s.dispatch(t.flash.remove(parseInt(a)));break}}let h=e.payload.id,i=e.payload.timeout>t.flash.TIMEOUT?e.payload.timeout:t.flash.TIMEOUT;return setTimeout(()=>{s.dispatch(t.flash.remove(h))},i),a(e);default:return a(e)}})),s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,s,t){e.exports={flashes:"flash_view--flashes--1wuM5",flash:"flash_view--flash--1qTMX text--_whiteText--2PkdM",flashError:"flash_view--flashError--Hen0k flash_view--flash--1qTMX text--_whiteText--2PkdM flash_view--flash--1qTMX text--_whiteText--2PkdM",flashBig:"flash_view--flashBig--3Qp1S"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),r=t(87                  ),l=t(91                );class n extends a.PureComponent{render(){let e=Object.keys(this.props.flashes).map(e=>parseInt(e)).sort((e,s)=>e-s);return a.createElement("div",{className:l.flashes},Array.from(e.entries()).map(([e,s])=>{let t=this.props.flashes[s];return a.createElement("div",{key:`flash-${s}`},a.createElement("div",{className:`${t.status===r.FlashStatus.ERROR?l.flashError:l.flash} ${this.props.isApercu?l.flashBig:""}`},t.message))}))}}n.displayName="FlashView",s.FlashView=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,l){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=l(88                        );a.flashActions=s.flash;var r=l(89                        );a.flashReducer=r.flashes;var i=l(90                           );a.flashMiddleware=i.flashMiddleware;var n=l(92                                );a.FlashView=n.FlashView,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(E,T,e){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E.RESET="AUTOCOMPLETE_RESET",E.SUBMIT_TOKEN="AUTOCOMPLETE_SUBMIT_TOKEN",E.ADD_TOKEN="AUTOCOMPLETE_ADD_TOKEN",E.DELETE_TOKEN_AT="AUTOCOMPLETE_DELETE_TOKEN_AT",E.SELECT_TOKEN_AT="AUTOCOMPLETE_SELECT_TOKEN_AT",E.SELECT_NEXT_TOKEN="AUTOCOMPLETE_SELECT_NEXT_TOKEN",E.SELECT_PREV_TOKEN="AUTOCOMPLETE_SELECT_PREV_TOKEN",E.SELECT_SEARCH_RESULT_AT="AUTOCOMPLETE_SELECT_SEARCH_RESULT_AT",E.SELECT_NEXT_SEARCH_RESULT="AUTOCOMPLETE_SELECT_NEXT_SEARCH_RESULT",E.SELECT_PREV_SEARCH_RESULT="AUTOCOMPLETE_SELECT_PREV_SEARCH_RESULT",E.SET_SEARCH_RESULTS="AUTOCOMPLETE_SET_SEARCH_RESULTS",E.INPUT_CHANGE="AUTOCOMPLETE_INPUT_CHANGE",E.EXCLUDE_ROLES_FOR="AUTOCOMPLETE_EXCLUDE_ROLES_FOR",E.reset=function(T){return{type:E.RESET,payload:{hardReset:T}}},E.excludeRolesFor=function(T,e){return{type:E.EXCLUDE_ROLES_FOR,payload:{resourceType:T,resourceIdOrKey:e}}},E.submitToken=function(T){return{type:E.SUBMIT_TOKEN,payload:{email:T}}},E.addToken=function(T){return{type:E.ADD_TOKEN,payload:{token:T}}},E.deleteTokenAt=function(T){return{type:E.DELETE_TOKEN_AT,payload:{index:T}}},E.selectTokenAt=function(T){return{type:E.SELECT_TOKEN_AT,payload:{index:T}}},E.selectNextToken=function(){return{type:E.SELECT_NEXT_TOKEN}},E.selectPrevToken=function(){return{type:E.SELECT_PREV_TOKEN}},E.selectSearchResultAt=function(T){return{type:E.SELECT_SEARCH_RESULT_AT,payload:{index:T}}},E.selectNextSearchResult=function(){return{type:E.SELECT_NEXT_SEARCH_RESULT}},E.selectPrevSearchResult=function(){return{type:E.SELECT_PREV_SEARCH_RESULT}},E.setSearchResults=function(T){return{type:E.SET_SEARCH_RESULTS,payload:{results:T}}},E.inputChange=function(T){return{type:E.INPUT_CHANGE,payload:{value:T}}}}(T.autocomplete||(T.autocomplete={})),E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(e,n,t){"use strict";
/**
 * FIGMA MODIFIED FROM:

  Copyright Joyent, Inc. and other Node contributors.

  Permission is hereby granted, free of charge, to any person obtaining a
  copy of this software and associated documentation files (the
  "Software"), to deal in the Software without restriction, including
  without limitation the rights to use, copy, modify, merge, publish,
  distribute, sublicense, and/or sell copies of the Software, and to permit
  persons to whom the Software is furnished to do so, subject to the
  following conditions:

  The above copyright notice and this permission notice shall be included
  in all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS
  OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
  MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN
  NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
  DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR
  OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE
  USE OR OTHER DEALINGS IN THE SOFTWARE.
*/function o(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e.toString():"";default:return""}}Object.defineProperty(n,"__esModule",{value:!0}),n.encode=function(e,n,t,r){return n=n||"&",t=t||"=",e&&"object"==typeof e?Object.keys(e).map(function(r){var c=encodeURIComponent(o(r))+t;return Array.isArray(e[r])?e[r].map(function(e){return c+encodeURIComponent(o(e))}).join(n):c+encodeURIComponent(o(e[r]))}).join(n):r?encodeURIComponent(o(r))+t+encodeURIComponent(o(e)):""},n.parse=function(e){let n={};for(let t of e.slice(1).split("&")){let e=null,o=null,r=t.indexOf("=");-1!=r?(e=t.slice(0,r),o=t.slice(r+1)):(e=t,o=""),o=o.replace(/\+/g,"%20"),n[decodeURIComponent(e)]=decodeURIComponent(o)}return n},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";function o(t,e,n=!1){const o=n?-1:1,r=t=>{let n=e(t);return n&&n.toLowerCase?n.toLowerCase():""};t.sort((t,e)=>r(t)<r(e)?-o:o)}Object.defineProperty(e,"__esModule",{value:!0}),e.withElementMovedToFront=function(t,e){if(!(t&&e>=0&&e<t.length))return t;const n=(t=Array.from(t))[e];return t.splice(e,1),t.unshift(n),t},e.moveItem=function(t,e,n,o){const r=t.indexOf(e,0);if(r<0)return t;let u=t.indexOf(n);u<0?u=o?0:t.length:o&&r<u?u-=1:!o&&r>u&&(u+=1);let i=t.slice();return r>-1&&u!==r&&(i.splice(r,1),i.splice(u,0,e)),i},e.pushIfAbsent=function(t,e){-1===t.indexOf(e)&&t.push(e)},e.removeByValue=function(t,e){const n=t.indexOf(e);-1!==n&&t.splice(n,1)},e.valuesEqual=function(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;n++)if(t[n]!==e[n])return!1;return!0},e.joinListsWithoutDuplicates=function(t,e){const n=Object.create(null),o=[];for(const r of t)n[r]||(n[r]=!0,o.push(r));for(const r of e)n[r]||(n[r]=!0,o.push(r));return o},e.shuffle=function(t){let e,n,o=t.length;for(;0!==o;)n=Math.floor(Math.random()*o),e=t[o-=1],t[o]=t[n],t[n]=e;return t},e.sortAlphabeticallyByProperty=function(t,e,n=!1){o(t,t=>t[e],n)},e.sortAlphabeticallyByFn=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";
/**
 * FIGMA MODIFIED FROM:
 *
 * xr (c) James Cleveland 2015
 * URL: https://github.com/radiosilence/xr
 * License: BSD
 */var n=this&&this.__awaiter||function(e,t,s,n){return new(s||(s=Promise))(function(r,o){function a(e){try{u(n.next(e))}catch(t){o(t)}}function i(e){try{u(n.throw(e))}catch(t){o(t)}}function u(e){e.done?r(e.value):new s(function(t){t(e.value)}).then(a,i)}u((n=n.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=s(95               ),o=s(96         );function a(e,t){return{status:e.status,response:e.response,data:t}}let i=null;class u{constructor(e){this.settings=e,this._response=void 0}parsedURL(){const e=document.createElement("a");return e.href=this.settings.url||"",{host:e.host,hostname:e.hostname,port:e.port,pathname:e.pathname,search:e.search}}hostname(){return this.parsedURL().hostname}pathname(){return this.parsedURL().pathname}pathnameMatches(e){return!!new RegExp(e).exec(this.pathname())}sendRealRequest(){this._response="SEND_REAL_REQUEST"}respond(e){this._response=Promise.resolve(e)}failResponse(){this._response=Promise.reject(null)}neverRespond(){this._response=new Promise(()=>{})}response(){return this._response}}t.MockRequest=u;class d{constructor(){this._handlers=[]}static install(){return i||(i=new d),i}addHandler(e){o.pushIfAbsent(this._handlers,e)}removeHandler(e){o.removeByValue(this._handlers,e)}handleRequest(e){for(let t of this._handlers){const s=new u(e);t(s);const n=s.response();if(n)return n}return e.url&&!e.url.endsWith("realtime_token")&&console.log(`[xr.MockServer]: Ignoring ${e.method} request to ${e.url}`,e),new Promise((e,t)=>{})}}function l(e){return n(this,void 0,void 0,function*(){function t(){return n(this,void 0,void 0,function*(){try{return yield function(e){if(i){const t=i.handleRequest(e);if(t!==d.SEND_REAL_REQUEST)return t}return new Promise((t,s)=>{const n=Object.assign({},l.defaults,e),o=new XMLHttpRequest,i=e=>{e.toString=(()=>{let t=n.url;return`XHR for "${t=(t=(t=(t=(t=t.replace(/\?.*$/,"")).replace(/^(\/api\/multiplayer\/)\w+(\/create_savepoint)$/,"$1XXX$2")).replace(/^(\/component\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(\/style\/)\w+(\/canvas)$/,"$1XXX$2")).replace(/^(https:\/\/s3-alpha\.figma\.com\/checkpoints\/)\w+\/\w+\/\w+\/\w+(\.fig)$/,"$1XXX$2")}" failed with status ${e.status}`}),s(e)};o.withCredentials=!!n.withCredentials;try{o.timeout=n.timeout,o.responseType=n.responseType}catch(d){}o.open(n.method,n.params?`${n.url.split("?")[0]}?${r.encode(n.params)}`:n.url,!0),o.addEventListener(l.Events.LOAD,()=>{try{let e=null;"arraybuffer"===o.responseType?e=new Uint8Array(o.response):o.responseText&&(e=!0===n.raw?o.responseText:n.load(o.responseText)),l.shouldTreatStatusCodeAsFailure(o.status)?i(a(o,e)):t(a(o,e))}catch(d){s(d)}}),o.addEventListener(l.Events.ABORT,()=>i(a(o))),o.addEventListener(l.Events.ERROR,()=>i(a(o))),o.addEventListener(l.Events.TIMEOUT,()=>i(a(o)));for(const e in n.headers)({}).hasOwnProperty.call(n.headers,e)&&o.setRequestHeader(e,n.headers[e]);if(n.uploadEvents)for(const e in n.uploadEvents)({}).hasOwnProperty.call(n.uploadEvents,e)&&o.upload.addEventListener(e,n.uploadEvents[e].bind(null,o),!1);if(n.downloadEvents)for(const e in n.downloadEvents)({}).hasOwnProperty.call(n.downloadEvents,e)&&o.addEventListener(e,n.downloadEvents[e].bind(null,o),!1);const u="object"!=typeof n.data||n.raw?n.data:n.dump(n.data);void 0!==u?o.send(u):o.send()})}(e)}catch(t){return t}})}let s,o=0;do{if(s=yield t(),!l.shouldRetryOnStatusCode(s.status)){if(l.shouldTreatStatusCodeAsFailure(s.status))throw s;return s}yield new Promise(e=>setTimeout(e,500*o)),o++}while(o<1+e.retryCount);if(l.shouldTreatStatusCodeAsFailure(s.status))throw s;return s})}d.SEND_REAL_REQUEST="SEND_REAL_REQUEST",t.MockServer=d,function(e){e.Methods={GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH",OPTIONS:"OPTIONS"},e.Events={READY_STATE_CHANGE:"readystatechange",LOAD_START:"loadstart",PROGRESS:"progress",ABORT:"abort",ERROR:"error",LOAD:"load",TIMEOUT:"timeout",LOAD_END:"loadend"},e.defaults={method:e.Methods.GET,data:void 0,headers:{Accept:"application/json","Content-Type":"application/json","X-Csrf-Bypass":"yes"},responseType:"",dump:JSON.stringify,load:JSON.parse,withCredentials:!1,timeout:0},e.get=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.GET,params:s},n))},e.put=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PUT,data:s},n))},e.post=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.POST,data:s},n))},e.patch=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.PATCH,data:s},n))},e.del=function(t,s,n){return e(Object.assign({url:t,method:e.Methods.DELETE,data:s},n))},e.options=function(t,s){return e(Object.assign({url:t,method:e.Methods.OPTIONS},s))},e.shouldTreatStatusCodeAsFailure=function(e){return!(e>=200&&e<300)},e.shouldRetryOnStatusCode=function(e){return!(0!==e&&(e>0&&e<200||200<=e&&e<400||400<=e&&e<500||500!==e))}}(l||(l={})),t.default=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,r,e){"use strict";function n(t,r,e){for(let a=0;a<16;a=a+1|0)t[a]=e[a<<2]<<24|e[1+(a<<2)|0]<<16|e[2+(a<<2)|0]<<8|e[3+(a<<2)|0];for(let a=16;a<80;a=a+1|0){let r=t[a-3|0]^t[a-8|0]^t[a-14|0]^t[a-16|0];t[a]=r<<1|r>>>31}let n=r[0],o=r[1],f=r[2],i=r[3],l=r[4];for(let a=0;a<80;a=a+1|0){let r=((n<<5|n>>>27)+l|0)+t[a]|0;r=a<20?1518500249+(r+(o&f|~o&i)|0)|0:a<40?1859775393+(r+(o^f^i)|0)|0:a<60?2400959708+(r+(o&f|o&i|f&i)|0)|0:3395469782+(r+(o^f^i)|0)|0,l=i,i=f,f=o<<30|o>>>2,o=n,n=r}r[0]=r[0]+n|0,r[1]=r[1]+o|0,r[2]=r[2]+f|0,r[3]=r[3]+i|0,r[4]=r[4]+l|0}Object.defineProperty(r,"__esModule",{value:!0}),r.sha1OfUint8Array=function(t){let r=new Uint8Array(20),e=new Int32Array(80),o=new Uint8Array(64),f=new Int32Array([1732584193,4023233417,2562383102,271733878,3285377520]),i=0,l=0,a=t.length;for(;a>0;)a=a-1|0,o[l]=t[i],i=i+1|0,64==(l=l+1|0)&&(n(e,f,o),l=0);if(o[l]=128,(l=l+1|0)>56){for(;l<64;)o[l]=0,l=l+1|0;n(e,f,o),l=0}for(let n=l;n<56;n=n+1|0)o[n]=0;let u=i<<3;for(let n=7;n>=0;n=n-1|0)o[56+n|0]=255&u,u>>>=8;l=64,n(e,f,o);for(let n=0;n<5;n=n+1|0){let t=f[n];for(let e=3;e>=0;e=e-1|0)r[(n<<2)+e|0]=255&t,t>>>=8}let c=[];for(var s=0;s<r.length;s++)c.push((256|r[s]).toString(16).slice(1));return c.join("")},r.toHex=function(t){return function(t){if(20!==t.length)throw new Error("Invalid SHA1 hash")}(t),function(t){return[].map.call(t,t=>(256|t).toString(16).slice(1)).join("")}(t)},r.fromHex=function(t){!function(t){if(!/^[0-9A-Fa-f]{40}$/.test(t))throw new Error("Invalid SHA1 hash")}(t);const r=new Uint8Array(20);for(let e=0;e<40;e+=2)r[e/2]=parseInt(t.slice(e,e+2),16);return r},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(97      ),o=a(98        );t.postImageToUpnode=function(e,t,a){return null==a&&(a="image/png"),n.default({method:n.default.Methods.POST,url:"/api/upnode/image",data:t,raw:!0,params:{purpose:e,sha1:o.sha1OfUint8Array(t)},headers:{"Content-Type":a}})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=i(79,1            ),s=i(93                  );let o=0;function n(){return o++}e.getOptimisticTransactionID=n,e.optimisticRequest=function(t){let{requestPromise:e,fallbackError:i,store:o,next:c,action:a}=t,p=n();return e.then(t=>{c({type:null,optimist:{type:r.COMMIT,id:p}})}).catch(({response:t})=>{try{t=JSON.parse(t),o.dispatch(s.flashActions.error(t.message))}catch(e){o.dispatch(s.flashActions.error(i||"An error occurred while performing that action."))}c({type:null,optimist:{type:r.REVERT,id:p}})}),(a=Object.assign({},a)).optimist={type:r.BEGIN,id:p},c(a)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(86                  ),o=i(100                     ),s=i(79,1            );e.asyncActionCreator=function(t,e,i){const c=n.generateUniqueActionType(t),p=t=>n=>{if(i){const i=o.getOptimisticTransactionID();return e(n,t,i),{type:c,payload:t,optimist:{type:s.BEGIN,id:i}}}return e(n,t),{type:c,payload:t}};return p.matches=(t=>t.type===c),p},function(t){t.commit=(t=>({type:null,optimist:{type:s.COMMIT,id:t}})),t.revert=(t=>({type:null,optimist:{type:s.REVERT,id:t}}))}(e.optimistActions||(e.optimistActions={})),e.expectDispatchSpyToHaveBeenCalledWithAsyncAction=((t,e,i,n=0)=>{const o=e(i),s=t.calls.allArgs;if(s.length>=1&&"function"==typeof s[n]){const t=s[n](i);expect(t).toEqual(o)}}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(86                  ),a=o(99          ),i=o(232                        ),n=o(101                               );!function(e){e.editorInit=r.actionCreator("AVATAR_EDITOR_INIT"),e.editorUpload=n.asyncActionCreator("AVATAR_EDITOR_UPLOAD",(t,o)=>{let r=a.postImageToUpnode("profile",o.small),n=a.postImageToUpnode("profile",o.large);Promise.all([r,n]).then(function(r){let a=JSON.parse(r[0].response).meta.url,i=JSON.parse(r[1].response).meta.url;t.dispatch(e.editorUploaded({entity:o.entity,entityType:o.entityType,smallUrl:a,largeUrl:i}))},o=>{t.dispatch(i.flash.error("An error occurred while uploading the image.")),console.error("An error occured while uploading the image",o),t.dispatch(e.editorReset())})}),e.editorUploaded=r.actionCreator("AVATAR_EDITOR_UPLOADED"),e.editorReset=r.actionCreator("AVATAR_EDITOR_RESET")}(t.avatar||(t.avatar={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=e(101                               ),n=e(86                  ),r=e(97      );!function(t){t.set=n.actionCreator("SET_BILLING_HISTORY"),t.get=o.asyncActionCreator("GET_BILLING_HISTORY",(i,e)=>{const o=e.org_id;r.default.get(`/api/orgs/${o}/billing`).then(e=>{i.dispatch(t.set({orgBillingHistory:e.data.meta}))})})}(i.orgBillingHistory||(i.orgBillingHistory={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=o(86                  );!function(e){e.reset=E.actionCreator("COLOR_PICKER_RESET"),e.setStylesExpanded=E.actionCreator("COLOR_PICKER_SET_STYLES_EXPANDED"),e.selectStyleFile=E.actionCreator("COLOR_PICKER_SELECT_STYLE_FILE"),e.setViewMode=E.actionCreator("COLOR_PICKER_SET_VIEW_MODE"),e.selectSwatchSet=E.actionCreator("COLOR_PICKER_SELECT_SWATCH_SET"),e.resetSwatchSet=E.actionCreator("COLOR_PICKER_RESET_SWATCH_SET")}(t.colorPicker||(t.colorPicker={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.BUSY=0]="BUSY",e[e.READY=1]="READY"}(t.CommentState||(t.CommentState={})),t.NEW_COMMENT_ID="new-comment-id",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,E){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=E(105                        ),a=E(86                  ),r=E(101                               );!function(t){t.reset=a.actionCreator("COMMENTS_RESET"),t.put=a.actionCreator("COMMENTS_PUT"),t.post=a.actionCreator("COMMENTS_POST"),t.del=a.actionCreator("COMMENTS_DELETE"),t.fetchedUnread=a.actionCreator("COMMENTS_FETCHED_UNREAD"),t.postUnread=a.actionCreator("COMMENTS_POST_UNREAD"),t.deleteUnread=a.actionCreator("COMMENTS_DELETE_UNREAD"),t.readThread=a.actionCreator("COMMENTS_READ_THREAD"),t.startDrag=a.actionCreator("COMMENTS_START_DRAG"),t.updateDrag=a.actionCreator("COMMENTS_UPDATE_DRAG"),t.stopDrag=a.actionCreator("COMMENTS_STOP_DRAG"),t.setActive=a.actionCreator("COMMENTS_SET_ACTIVE"),t.setActiveIfValid=r.asyncActionCreator("COMMENTS_SET_ACTIVE_IF_VALID",(e,E)=>{const a=E.threadId;!e.getState().comments.commentsById[a]&&a!==o.NEW_COMMENT_ID&&a||e.dispatch(t.setActive({threadId:a}))}),t.setThreadPosition=a.actionCreator("COMMENTS_SET_THREAD_POSITION"),t.beginEditing=a.actionCreator("COMMENTS_BEGIN_EDITING"),t.setEditingMessage=a.actionCreator("COMMENTS_SET_EDITING_MESSAGE"),t.stopEditing=a.actionCreator("COMMENTS_STOP_EDITING"),t.setReplyMessage=a.actionCreator("COMMENTS_SET_REPLY_MESSAGE"),t.setNewCommentMessage=a.actionCreator("COMMENTS_SET_NEW_COMMENT_MESSAGE"),t.setNewAnchorPosition=a.actionCreator("COMMENTS_SET_NEW_ANCHOR_POSITION"),t.submitReply=a.actionCreator("COMMENTS_SUBMIT_REPLY"),t.submitNewComment=a.actionCreator("COMMENTS_SUBMIT_NEW_COMMENT"),t.resetThread=a.actionCreator("COMMENTS_RESET_THREAD"),t.resetNewComment=a.actionCreator("COMMENTS_RESET_NEW_COMMENT"),t.setViewportInfo=a.actionCreator("COMMENTS_SET_VIEWPORT_INFO"),t.setShowResolvedComments=a.actionCreator("COMMENTS_SET_SHOW_RESOLVED_COMMENTS"),t.setEmojiPicker=a.actionCreator("COMMENTS_SHOW_EMOJI_PICKER"),t.setTypeahead=a.actionCreator("COMMENTS_SET_TYPEAHEAD"),t.setTypeaheadPositionOffset=a.actionCreator("COMMENTS_SET_TYPEAHEAD_POSITION_OFFSET"),t.setTypeaheadMentionSearch=a.actionCreator("COMMENTS_SET_TYPEAHEAD_MENTION_SEARCH"),t.setTypeaheadEmojiSearch=a.actionCreator("COMMENTS_SET_TYPEAHEAD_EMOJI_SEARCH"),t.clearTypeahead=a.actionCreator("COMMMENTS_CLEAR_TYPEAHEAD"),t.setValidCommentsRect=a.actionCreator("COMMENTS_SET_VALID_COMMENTS_RECT"),t.refreshAnchorPositions=a.actionCreator("COMMENTS_REFRESH_ANCHOR_POSITIONS"),t.setInitialThreadAlreadyOpened=a.actionCreator("COMMENTS_SET_INITIAL_THREAD_ALREADY_OPENED"),t.showThread=a.actionCreator("COMMENTS_SHOW_THREAD"),t.setAnchorPositionById=a.actionCreator("COMMENTS_SET_ANCHOR_POSITION_BY_ID")}(e.comments||(e.comments={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(97      ),r=a(86                  ),o=a(101                               );let i=!1;const n=o.asyncActionCreator("CONTACTS_LOAD_ALL",(t,a)=>{if(i)return void t.dispatch(e.addList({users:[]}));i=!0;const r={};t.getState().currentOrgId&&(r.org_id=t.getState().currentOrgId),s.default.get("/api/contacts",r).then(({data:a})=>{let s=a.meta;t.dispatch(e.addList({users:s}))})});e.loadContacts=n,e.addList=r.actionCreator("CONTACTS_ADD"),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=r(86                  );!function(t){t.startDrag=e.actionCreator("DRAG_AND_DROP_START"),t.stopDrag=e.actionCreator("DRAG_AND_DROP_STOP")}(o.dragAndDrop||(o.dragAndDrop={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=r(86                  );!function(t){t.error=e.actionCreator("TWO_FACTOR_AUTH_SET_CURRENT_ERROR"),t.clearErrors=e.actionCreator("TWO_FACTOR_AUTH_CLEAR_ERRORS")}(o.twoFactorAuth||(o.twoFactorAuth={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(86                  );!function(e){e.setItems=s.actionCreator("EXPORT_PICKER_SET_ITEMS"),e.setChecked=s.actionCreator("EXPORT_PICKER_CHECK")}(t.exportableItems||(t.exportableItems={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,E,_){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const t=_(86                  );!function(e){e.hydrate=t.actionCreator("FILE_BROWSER_HYDRATE"),e.reloadWhenConvenient=t.actionCreator("RELOAD_WHEN_CONVENIENT"),e.handleUrlParamsForCurrentView=t.actionCreator("HANDLE_URL_PARAMS_FOR_CURRENT_VIEW"),e.setFileSortFilterConfigForView=t.actionCreator("BROWSER_SET_FILE_SORT_VIEW"),e.setFileBrowserLoading=t.actionCreator("FILE_BROWSER_SET_LOADING"),e.INIT="INIT",e.SELECT_VIEW="SELECT_VIEW",e.SHOW_DROPDOWN="SHOW_DROPDOWN",e.HIDE_DROPDOWN="HIDE_DROPDOWN",e.SHOW_MODAL="SHOW_MODAL",e.HIDE_MODAL="HIDE_MODAL",e.POP_MODAL_STACK="POP_MODAL_STACK",e.HIDE_SPECIFIC_MODAL="HIDE_SPECIFIC_MODAL",e.BEGIN_CREATE_NEW_FOLDER="BEGIN_CREATE_NEW_FOLDER",e.STOP_CREATE_NEW_FOLDER="STOP_CREATE_NEW_FOLDER",e.BEGIN_RENAME_NAV_FOLDER="BEGIN_RENAME_NAV_FOLDER",e.STOP_RENAME_NAV_FOLDER="STOP_RENAME_NAV_FOLDER",e.BEGIN_RENAME_NAV_TEAM="BEGIN_RENAME_NAV_TEAM",e.STOP_RENAME_NAV_TEAM="STOP_RENAME_NAV_TEAM",e.SHOW_MOBILE_NAV="SHOW_MOBILE_NAV",e.HIDE_MOBILE_NAV="HIDE_MOBILE_NAV",e.DISMISS_TEAM_UPGRADE_CTA_TILE="DISMISS_TEAM_UPGRADE_CTA_TILE",e.SET_LOCAL_FONTS="SET_LOCAL_FONTS",e.SET_FILE_SEARCH_QUERY="SET_FILE_SEARCH_QUERY",e.SET_FILE_SEARCH_RESULTS="SET_FILE_SEARCH_RESULTS",e.SEARCH_RESULT_CLICKED="SEARCH_RESULT_CLICKED",e.DOWNLOAD_FONT_INSTALLER="DOWNLOAD_FONT_INSTALLER",e.DOWNLOAD_FONT_UNINSTALLER="DOWNLOAD_FONT_UNINSTALLER",e.FINISH_ONBOARDING="FINISH_ONBOARDING",e.SET_DELETED_FILES="SET_DELETED_FILES",e.OPEN_NEW_FOLDER_MODAL="FOLDER_OPEN_NEW_FOLDER_MODAL",e.init=function(){return{type:e.INIT}},e.selectView=function(E,_){return{type:e.SELECT_VIEW,payload:Object.assign({},E,{fromPopstate:_})}},e.selectViewByFolderId=function(E,_){return{type:e.SELECT_VIEW,payload:{folderId:E,fromPopstate:_}}},e.selectViewByTeamId=function(E,_){return{type:e.SELECT_VIEW,payload:{teamId:E,fromPopstate:_}}},e.showTeamOnboarding=function(E,_,t){let n={step:_};return{type:e.SELECT_VIEW,payload:{onboardingTeamId:E,viewState:n,fromPopstate:t}}},e.showDropdown=function(E){return{type:e.SHOW_DROPDOWN,payload:E}},e.hideDropdown=function(){return{type:e.HIDE_DROPDOWN}},e.showModal=function(E){return{type:e.SHOW_MODAL,payload:E}},e.hideModal=function(){return{type:e.HIDE_MODAL}},e.dismissTeamUpgradeCtaTile=function(){return{type:e.DISMISS_TEAM_UPGRADE_CTA_TILE}},e.popModalStack=function(){return{type:e.POP_MODAL_STACK}},e.hideSpecificModal=function(E){return{type:e.HIDE_SPECIFIC_MODAL,payload:E}},e.openNewFolderModal=function(E,_){return{type:e.OPEN_NEW_FOLDER_MODAL,payload:{where:E,teamId:_}}},e.beginCreateNewFolder=function(E,_){return{type:e.BEGIN_CREATE_NEW_FOLDER,payload:{where:E,teamId:_}}},e.stopCreateNewFolder=function(E,_,t,n,o){return{type:e.STOP_CREATE_NEW_FOLDER,payload:{shouldRedirect:E,name:_,teamId:t,isInviteOnly:n,isViewOnly:o}}},e.beginRenameNavFolder=function(E){return{type:e.BEGIN_RENAME_NAV_FOLDER,payload:{folderId:E}}},e.stopRenameNavFolder=function(E){return{type:e.STOP_RENAME_NAV_FOLDER,payload:{folderId:E}}},e.beginRenameNavTeam=function(E){return{type:e.BEGIN_RENAME_NAV_TEAM,payload:{teamId:E}}},e.stopRenameNavTeam=function(E){return{type:e.STOP_RENAME_NAV_TEAM,payload:{teamId:E}}},e.showMobileNav=function(){return{type:e.SHOW_MOBILE_NAV}},e.hideMobileNav=function(){return{type:e.HIDE_MOBILE_NAV}},e.setLocalFonts=function(E){return{type:e.SET_LOCAL_FONTS,payload:{value:E}}},e.setFileSearchQuery=function(E){return{type:e.SET_FILE_SEARCH_QUERY,payload:{query:E}}},e.setFileSearchResults=function(E){return{type:e.SET_FILE_SEARCH_RESULTS,payload:{results:E}}},e.searchResultClicked=function(E){return{type:e.SEARCH_RESULT_CLICKED,payload:{index:E}}},e.downloadFontInstaller=function(E){return{type:e.DOWNLOAD_FONT_INSTALLER,payload:{isMac:E}}},e.downloadFontUninstaller=function(){return{type:e.DOWNLOAD_FONT_UNINSTALLER}},e.finishOnboarding=function(E){return{type:e.FINISH_ONBOARDING,payload:{exitedOnPage:E}}},e.setDeletedFiles=function(E){return{type:e.SET_DELETED_FILES,payload:{deletedFiles:E}}}}(E.fileBrowser||(E.fileBrowser={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const r=t(86                  );!function(e){function E(E,t=!1){return{type:e.PUT,payload:{folderId:E.id,folder:E,userInitiated:t}}}e.beginRename=r.actionCreator("FOLDER_BEGIN_RENAME"),e.stopRename=r.actionCreator("FOLDER_STOP_RENAME"),e.RENAME="FOLDER_RENAME",e.POST="FOLDER_POST",e.PUT="FOLDER_PUT",e.TRY_MOVE="FOLDER_TRY_MOVE",e.MOVE="FOLDER_MOVE",e.DELETE="FOLDER_DELETE",e.TOGGLE_ACTIVITY="FOLDER_TOGGLE_ACTIVITY",e.START_GET_ACTIVITY="FOLDER_START_GET_ACTIVITY",e.STOP_GET_ACTIVITY="FOLDER_STOP_GET_ACTIVITY",e.INIT_SUBSCRIBERS="FOLDER_INIT_SUBSCRIBERS",e.POST_SUBSCRIBER="FOLDER_POST_SUBSCRIBER",e.DELETE_SUBSCRIBER="FOLDER_DELETE_SUSCRIBER",e.COPY_LINK="FOLDER_COPY_LINK",e.TURN_OFF_SLACK_NOTIFICATIONS="FOLDER_TURN_OFF_SLACK_NOTIFICATIONS",e.UPDATE_FOLDER_ACCESS="FOLDER_UPDATE_FOLDER_ACCESS",e.FETCHED_ROLES="FOLDER_FETCHED_ROLES",e.rename=function(E,t){return{type:e.RENAME,payload:{folderId:E,folderName:t}}},e.post=function(E){return{type:e.POST,payload:{folder:E}}},e.put=E,e.subscribe=function(e){return E(Object.assign({},e,{is_subscribed:!0}),!0)},e.unsubscribe=function(e){return E(Object.assign({},e,{is_subscribed:!1}),!0)},e.tryMove=function(E,t){return{type:e.TRY_MOVE,payload:{folderId:E.id,folder:E,teamId:t}}},e.move=function(E,t){return{type:e.MOVE,payload:{folderId:E.id,folder:E,teamId:t}}},e.del=function(E,t=!1){return{type:e.DELETE,payload:{folder:E,userInitiated:t}}},e.initSubscribers=function(E,t){return{type:e.INIT_SUBSCRIBERS,payload:{folderId:E.id,subscribers:t}}},e.postSubscriber=function(E,t){return{type:e.POST_SUBSCRIBER,payload:{folderId:E,user:t,userId:t.id}}},e.deleteSubscriber=function(E,t){return{type:e.DELETE_SUBSCRIBER,payload:{folderId:E,userId:t}}},e.copyLink=function(E){return{type:e.COPY_LINK,payload:{folder:E}}},e.turnOffSlackNotifications=function(E){return{type:e.TURN_OFF_SLACK_NOTIFICATIONS,payload:{folder:E}}},e.updateFolderAccess=function(E,t,r){return{type:e.UPDATE_FOLDER_ACCESS,payload:{folderId:E,isInviteOnly:t,isViewOnly:r}}},e.fetchedRoles=function(E){return{type:e.FETCHED_ROLES,payload:{folder:E}}}}(E.folder||(E.folder={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(E,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(86                  );var _;!function(E){E[E.FILE_URL=0]="FILE_URL",E[E.EMBED_CODE=1]="EMBED_CODE"}(_=e.CopyType||(e.CopyType={})),function(E){function e(e){return{type:E.SELECT_FILE,payload:{files:e}}}function t(e){return{type:E.DESELECT_FILES,payload:{files:e}}}E.GET="FILE_GET",E.PUT="FILE_PUT",E.TRY_MOVE="FILE_TRY_MOVE",E.MOVE="FILE_MOVE",E.POST="FILE_POST",E.DUPLICATE="FILE_DUPLICATE",E.DUPLICATE_CHECKPOINT="FILE_DUPLICATE_CHECKPOINT",E.CREATE_SAVEPOINT="FILE_CREATE_SAVEPOINT",E.UPDATE_SAVEPOINT="FILE_UPDATE_SAVEPOINT",E.RECENT_FILE_POST="RECENT_FILE_POST",E.RECENT_FILE_PUT="RECENT_FILE_PUT",E.RECENT_FILES_DELETE="RECENT_FILES_DELETE",E.BEGIN_RENAMING="FILE_BEGIN_RENAMING",E.STOP_RENAMING="FILE_STOP_RENAMING",E.SHOW_IN_FOLDER="FILE_SHOW_IN_FOLDER",E.COPY_LINK="FILE_COPY_LINK",E.RESTORE="FILE_RESTORE",E.MARK_VIEWED="FILE_MARK_VIEWED",E.SELECT_FILE="SELECT_FILE",E.DESELECT_FILES="DESELECT_FILES",E.RESET_FILE_SELECTION="RESET_FILE_SELECTION",E.COPY_SELECTED_FILES="COPY_SELECTED_FILES",E.COPY_SELECTED_FILES_TO_DRAFTS="COPY_SELECTED_FILES_TO_DRAFTS",E.DELETE_FILES="DELETE_FILES",E.DELETE_FILES_FOREVER="DELETE_FILES_FOREVER",E.FETCHED_ROLES="FILE_FETCHED_ROLES",E.RESTORE_TRASHED_FILES="RESTORE_TRASHED_FILES",E.tryDeleteFiles=n.actionCreator("TRY_DELETE_FILES"),E.getActiveUsers=n.actionCreator("FILE_GET_ACTIVE_USERS"),E.setActiveUsers=n.actionCreator("FILE_SET_ACTIVE_USERS"),E.deleteActiveUsers=n.actionCreator("FILE_CLEAR_ACTIVE_USERS"),E.get=function(e){return{type:E.GET,payload:{fileKey:e}}},E.put=function(e,t=!1){return{type:E.PUT,payload:{file:e,userInitiated:t}}},E.tryMove=function(e,t,n=!1){return{type:E.TRY_MOVE,payload:{files:e,folder:t,fromFileModal:n}}},E.move=function(e,t,n=!1){return{type:E.MOVE,payload:{files:e,folderId:t.id,fromFileModal:n}}},E.post=function(e){return{type:E.POST,payload:{file:e}}},E.duplicate=function(e){return{type:E.DUPLICATE,payload:{file:e}}},E.duplicateCheckpoint=function(e,t){return{type:E.DUPLICATE_CHECKPOINT,payload:{file:e,checkpointKey:t}}},E.createSavepoint=function(e,t,n,_,i){return{type:E.CREATE_SAVEPOINT,payload:{file:e,checkpointKey:t,label:n,description:_,hideVisualBell:i}}},E.updateSavepoint=function(e,t,n,_){return{type:E.UPDATE_SAVEPOINT,payload:{file:e,savepointID:t,label:n,description:_}}},E.recentFilePost=function(e){return{type:E.RECENT_FILE_POST,payload:{file:e}}},E.recentFilePut=function(e){return{type:E.RECENT_FILE_PUT,payload:{file:e}}},E.recentFilesDelete=function(e,t=!1){return{type:E.RECENT_FILES_DELETE,payload:{files:e,userInitiated:t}}},E.beginRenaming=function(e){return{type:E.BEGIN_RENAMING,payload:{file:e}}},E.stopRenaming=function(e,t){return{type:E.STOP_RENAMING,payload:{file:e,name:t}}},E.showInFolder=function(e){return{type:E.SHOW_IN_FOLDER,payload:{file:e}}},E.copyLink=function(e,t,n){return null==n&&(n=_.FILE_URL),{type:E.COPY_LINK,payload:{file:e,url:t,copyType:n}}},E.restore=function(e,t){return{type:E.RESTORE,payload:{file:e,checkpointKey:t}}},E.markViewed=function(e){return{type:E.MARK_VIEWED,payload:{file:e}}},E.selectFile=function(E){return e({[E]:!0})},E.selectFiles=e,E.deselectFile=function(E){return t({[E.key]:!0})},E.deselectFiles=t,E.resetFileSelection=function(){return{type:E.RESET_FILE_SELECTION}},E.copySelected=function(){return{type:E.COPY_SELECTED_FILES,payload:{}}},E.copySelectedToDrafts=function(){return{type:E.COPY_SELECTED_FILES_TO_DRAFTS,payload:{toDrafts:!0}}},E.deleteFiles=function(e,t=!1){return{type:E.DELETE_FILES,payload:{fileKeys:e,userInitiated:t}}},E.deleteFilesForever=function(e,t=!1){return{type:E.DELETE_FILES_FOREVER,payload:{fileKeys:e,userInitiated:t}}},E.restoreTrashedFiles=function(e,t=!1){return{type:E.RESTORE_TRASHED_FILES,payload:{fileKeys:e,userInitiated:t}}},E.fetchedRoles=function(e){return{type:E.FETCHED_ROLES,payload:{file:e}}}}(e.file||(e.file={})),E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(97      ),i=r(232                        ),o=r(101                               );!function(e){e.put=o.asyncActionCreator("FILE_BROWSER_PREFERENCES_PUT",(e,t,r)=>{t.userInitiated&&s.default.put("/api/file_browser_preferences",Object.assign({},t.prefs,{org_id:e.getState().currentOrgId})).then(()=>{e.dispatch(o.optimistActions.commit(r))}).catch(t=>{e.dispatch(o.optimistActions.revert(r)),e.dispatch(i.flash.error(t.data&&t.data.message||"An error occurred.")),console.error(t)})},!0)}(t.fileBrowserPreferences||(t.fileBrowserPreferences={})),function(e){e.put=o.asyncActionCreator("FILE_BROWSER_SECTION_PREFERENCES_PUT",(e,t,r)=>{t.userInitiated&&s.default.put(`/api/file_browser_preferences/section/${t.prefs.section_type}`,Object.assign({},t.prefs,{org_id:e.getState().currentOrgId})).then(()=>{e.dispatch(o.optimistActions.commit(r))}).catch(t=>{e.dispatch(o.optimistActions.revert(r)),e.dispatch(i.flash.error(t.data&&t.data.message||"An error occurred.")),console.error(t)})},!0)}(t.fileBrowserSectionPreferences||(t.fileBrowserSectionPreferences={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,E,t){"use strict";var o;Object.defineProperty(E,"__esModule",{value:!0}),(o=E.fileFollower||(E.fileFollower={})).RESET="FILE_FOLLOWER_RESET",o.reset=(()=>({type:o.RESET})),o.POST="FILE_FOLLOWER_POST",o.post=((e,E=!1)=>({type:o.POST,payload:{fileFollower:e,userInitiated:E}})),o.DELETE="FILE_FOLLOWER_DELETE",o.del=((e,E=!1)=>({type:o.DELETE,payload:{fileFollower:e,userInitiated:E}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(_,E,e){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(_){_.OPEN_FILE_INPUT="FILE_IMPORT_OPEN_FILE_INPUT",_.OPEN_SKETCH_FILE_INPUT="FILE_IMPORT_OPEN_SKETCH_FILE_INPUT",_.START_DRAG="FILE_IMPORT_START_DRAG",_.STOP_DRAG="FILE_IMPORT_STOP_DRAG",_.INPUT_CHANGE="FILE_IMPORT_INPUT_CHANGE",_.DROP="FILE_IMPORT_DROP",_.ADD_TO_QUEUE="FILE_IMPORT_ADD_TO_QUEUE",_.UPDATE_ITEM="FILE_IMPORT_UPDATE_ITEM",_.PROCESS_NEXT_IN_QUEUE="FILE_IMPORT_PROCESS_NEXT_IN_QUEUE",_.DONE_PROCESSING_FILE="FILE_IMPORT_DONE_PROCESSING_FILE",_.RESET_IMPORTS="FILE_IMPORT_CLEAR_IMPORTS",_.CANCEL_IMPORT="FILE_IMPORT_CANCEL",_.openFileInput=function(){return{type:_.OPEN_FILE_INPUT}},_.openSketchFileInput=function(){return{type:_.OPEN_SKETCH_FILE_INPUT}},_.startDrag=function(){return{type:_.START_DRAG}},_.stopDrag=function(){return{type:_.STOP_DRAG}},_.addToQueue=function(E,e){return{type:_.ADD_TO_QUEUE,payload:{name:E,bytes:e}}},_.updateItem=function(E,e){return{type:_.UPDATE_ITEM,payload:{id:E,propertiesToUpdate:e}}},_.inputChange=function(E){return{type:_.INPUT_CHANGE,payload:{e:E}}},_.drop=function(E){return{type:_.DROP,payload:{e:E}}},_.processNextInQueue=function(){return{type:_.PROCESS_NEXT_IN_QUEUE}},_.doneProcessingFile=function(){return{type:_.DONE_PROCESSING_FILE}},_.resetImports=function(){return{type:_.RESET_IMPORTS}},_.cancelImport=function(){return{type:_.CANCEL_IMPORT}}}(E.fileImport||(E.fileImport={})),_.exports instanceof Function&&(_.exports.default=_.exports)}),
(function(E,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(86                  );!function(E){E.new_=o.actionCreator("FULLSCREEN_NEW"),E.open=o.actionCreator("FULLSCREEN_OPEN"),E.close=o.actionCreator("FULLSCREEN_CLOSE"),E.attemptClose=o.actionCreator("FULLSCREEN_ATTEMPT_CLOSE"),E.reconnectingStarted=o.actionCreator("FULLSCREEN_RECONNECTING_STARTED"),E.reconnectingSucceeded=o.actionCreator("FULLSCREEN_RECONNECTING_SUCCEEDED"),E.showOpenDesktopAppModal=o.actionCreator("FULLSCREEN_SHOW_OPEN_DESKTOP_APP_MODAL"),E.hideOpenDesktopAppModal=o.actionCreator("FULLSCREEN_HIDE_OPEN_DESKTOP_APP_MODAL"),E.documentLoaded=o.actionCreator("FULLSCREEN_DOCUMENT_LOADED"),E.setSaveStatus=o.actionCreator("FULLSCREEN_SET_SAVE_STATUS"),E.updateMultiplayerState=o.actionCreator("FULLSCREEN_UPDATE_MULTIPLAYER_STATE"),E.stopObservingOtherUser=o.actionCreator("FULLSCREEN_STOP_OBSERVING_OTHER_USER"),E.enterVersionHistoryMode=o.actionCreator("FULLSCREEN_ENTER_VERSION_HISTORY_MODE"),E.requestThumbnailRender=o.actionCreator("FULLSCREEN_REQUEST_THUMBNAIL_RENDER"),E.setProgressBarMode=o.actionCreator("FULLSCREEN_SET_PROGRESS_BAR_MODE"),E.updateMirror=o.actionCreator("FULLSCREEN_UPDATE_MIRROR"),E.updateSelectedStyleProperties=o.actionCreator("FULLSCREEN_UPDATE_SELECTED_STYLE_PROPERTIES"),E.updateSelectedStyleThumbnailURL=o.actionCreator("FULLSCREEN_UPDATE_SELECTED_STYLE_THUMBNAIL_URL"),E.handlePopState=o.actionCreator("FULLSCREEN_HANDLE_POP_STATE"),E.beginRenaming=o.actionCreator("FULLSCREEN_BEGIN_RENAMING"),E.stopRenaming=o.actionCreator("FULLSCREEN_STOP_RENAMING"),E.updateFontList=o.actionCreator("FULLSCREEN_UPDATE_FONT_LIST"),E.computeExport=o.actionCreator("FULLSCREEN_COMPUTE_EXPORT"),E.showPicker=o.actionCreator("FULLSCREEN_SHOW_PICKER"),E.hidePicker=o.actionCreator("FULLSCREEN_HIDE_PICKER"),E.showUpgradeBanner=o.actionCreator("FULLSCREEN_SHOW_UPGRADE_BANNER"),E.hideUpgradeBanner=o.actionCreator("FULLSCREEN_HIDE_UPGRADE_BANNER"),E.setLeftPanelTab=o.actionCreator("FULLSCREEN_SET_LEFT_PANEL_TAB"),E.trackEvent=o.actionCreator("FULLSCREEN_TRACK_EVENT")}(e.fullscreen||(e.fullscreen={})),E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(t,T,e){"use strict";Object.defineProperty(T,"__esModule",{value:!0});const o=e(86                  );!function(t){t.startTestRun=o.actionCreator("INTERACTION_TEST_START"),t.startRecording=o.actionCreator("INTERACTION_TEST_START_RECORDING"),t.recordEvent=o.actionCreator("INTERACTION_TEST_RECORD_EVENT"),t.stopRecording=o.actionCreator("INTERACTION_TEST_STOP_RECORDING"),t.exportRecording=o.actionCreator("INTERACTION_TEST_EXPORT_RECORDING"),t.updateExportSettings=o.actionCreator("INTERACTION_TEST_UPDATE_EXPORT_SETTINGS"),t.doneExporting=o.actionCreator("INERACTION_TEST_DONE_EXPORTING"),t.showRecorder=o.actionCreator("INTERACTION_TEST_SHOW_RECORDER"),t.hideRecorder=o.actionCreator("INTERACTION_TEST_HIDE_RECORDER")}(T.interactionTest||(T.interactionTest={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(86                  );!function(t){t.usedKeyboardShortcut=r.actionCreator("USED_KEYBOARD_SHORTCUT")}(e.keyboardShortcut||(e.keyboardShortcut={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(86                  );!function(e){e.put=o.actionCreator("COMPONENT_UPDATE"),e.del=o.actionCreator("COMPONENT_DELETE"),e.deleteComponentsForFile=o.actionCreator("COMPONENT_DELETE_FOR_FILE"),e.initialize=o.actionCreator("COMPONENT_INITIALIZE"),e.setLibraryView=o.actionCreator("COMPONENT_SET_LIBRARY_VIEW"),e.setLibraryQuery=o.actionCreator("COMPONENT_SET_LIBRARY_QUERY"),e.setPublishedSearchResults=o.actionCreator("COMPONENT_SET_LIBRARY_SEARCH_RESULTS"),e.setLocalQuery=o.actionCreator("COMPONENT_SET_LOCAL_QUERY"),e.setLocalSearchResults=o.actionCreator("COMPONENT_SET_LOCAL_SEARCH_RESULTS"),e.setLocalSearchShowMoreResults=o.actionCreator("COMPONENT_SET_LOCAL_SEARCH_SHOW_MORE_RESULTS"),e.setSelectedNodeId=o.actionCreator("COMPONENT_SET_SELECTED_NODE_ID"),e.clearLocal=o.actionCreator("COMPONENT_CLEAR_LOCAL"),e.replaceLocalItems=o.actionCreator("COMPONENT_REPLACE_LOCAL"),e.generateComponentThumbnails=o.actionCreator("COMPONENT_GENERATE_THUMBNAILS"),e.generateStyleThumbnails=o.actionCreator("COMPONENT_GENERATE_FILL_STYLE_THUMBNAILS"),e.generateLocalStyleThumbnail=o.actionCreator("COMPONENT_GENERATE_LOCAL_STYLE_THUMBNAIL"),e.applySharedStyleToSelection=o.actionCreator("COMPONENT_APPLY_STYLE"),e.updateThumbnail=o.actionCreator("COMPONENT_UPDATE_THUMBNAIL"),e.updateSymbols=o.actionCreator("COMPONENT_UPDATE_SYMBOLS"),e.replaceUpdates=o.actionCreator("COMPONENT_INITIALIZE_UPDATES"),e.showNotification=o.actionCreator("COMPONENT_SHOW_NOTIFICATION"),e.hideNotification=o.actionCreator("COMPONENT_HIDE_NOTIFICATION"),e.pauseNotificationTimer=o.actionCreator("COMPONENT_PAUSE_NOTIFICATION_TIMER"),e.resumeNotificationTimer=o.actionCreator("COMPONENT_RESUME_NOTIFICATION_TIMER"),e.setSparseDragState=o.actionCreator("COMPONENT_SET_DRAG_STATE"),e.updateComponentsForResource=o.actionCreator("COMPONENT_UPDATE_COMPONENTS_FOR_RESOURCE"),e.updateComponentsForTeam=o.actionCreator("COMPONENT_UPDATE_COMPONENTS_FOR_TEAM"),e.setIsRenamingSelectedStyle=o.actionCreator("SET_IS_RENAMING_SELECTED_STYLE"),e.expandStylePanel=o.actionCreator("EXPAND_STYLE_PANEL"),e.collapseStylePanel=o.actionCreator("COLLAPSE_STYLE_PANEL"),e.getLibraryState=o.actionCreator("COMPONENT_GET_LIBRARY_STATE")}(t.library||(t.library={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(86                  );!function(t){t.insertNotifications=r.actionCreator("USER_NOTIFICATIONS_INSERT"),t.reject=r.actionCreator("USER_NOTIFICATIONS_REJECT"),t.resolve=r.actionCreator("USER_NOTIFICATIONS_RESOLVE"),t.selectView=r.actionCreator("USER_NOTIFICATIONS_SELECT_VIEW"),t.markAllAsRead=r.actionCreator("USER_NOTIFICATIONS_MARK_ALL_AS_READ"),t.setBell=r.actionCreator("USER_NOTIFICATIONS_SET_BELL"),t.reset=r.actionCreator("USER_NOTIFICATIONS_RESET"),t.get=r.actionCreator("USER_NOTIFICATIONS_GET")}(e.userNotifications||(e.userNotifications={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(86                  );!function(e){e.setLocked=n.actionCreator("OBJECTS_PANEL_LOCK_ALL_CHILDREN"),e.setVisible=n.actionCreator("OBJECTS_PANEL_SET_VISIBLE_RECURSIVE")}(t.objectsPanel||(t.objectsPanel={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const T=o(86                  );!function(t){t.startProUpgradeFlow=T.actionCreator("PAYMENT_START_UPGRADE_FLOWs"),t.init=T.actionCreator("PAYMENT_INIT"),t.setBillingPeriod=T.actionCreator("PAYMENT_SET_BILLING_PERIOD"),t.setNumEditors=T.actionCreator("PAYMENT_SET_NUM_EDITORS"),t.setSubmitPending=T.actionCreator("PAYMENT_SET_SUBMIT_PENDING"),t.submitPaymentAndAddress=T.actionCreator("PAYMENT_SUBMIT_PAYMENT_AND_ADDRESS"),t.submitConfirmAndPay=T.actionCreator("PAYMENT_SUBMIT_PAYMENT_CONFIRMATION"),t.submitConfirmAddAnnual=T.actionCreator("PAYMENT_SUBMIT_ADD_ANNUAL_CONFIRMATION"),t.submitChangePaymentAndAddress=T.actionCreator("PAYMENT_SUBMIT_CHANGE_PAYMENT_AND_ADDRESS"),t.showError=T.actionCreator("PAYMENT_SHOW_ERROR"),t.setStudentTeam=T.actionCreator("PAYMENT_SET_STUDENT_TEAM"),t.downgrade=T.actionCreator("PAYMENT_DOWNGRADE"),t.makeStudentTeam=T.actionCreator("PAYMENT_MAKE_STUDENT_TEAM"),t.putAnnualQuantity=T.actionCreator("PAYMENT_PUT_ANNUAL_QUANTITY"),t.setSubmitPutAnnualQuantityPending=T.actionCreator("PAYMENT_SET_SUBMIT_PUT_ANNUAL_QUANTITY_PENDING"),t.setPromo=T.actionCreator("PAYMENT_SET_PROMO"),t.setAddress=T.actionCreator("PAYMENT_SET_ADDRESS"),t.setTaxes=T.actionCreator("PAYMENT_SET_TAXES"),t.setToken=T.actionCreator("PAYMENT_SET_TOKEN")}(e.payment||(e.payment={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const T=e(86                  );!function(t){t.reset=T.actionCreator("PROTOTYPE_RESET"),t.setShowHotspots=T.actionCreator("PROTOTYPE_SHOW_HOTSPOTS"),t.setTriggerHotspots=T.actionCreator("PROTOTYPE_TRIGGER_HOTSPOTS"),t.disableHotspotsTemp=T.actionCreator("PROTOTYPE_RESET_HOTSPOTS"),t.setHoverCursor=T.actionCreator("PROTOTYPE_SET_HOVER_CURSOR"),t.showComments=T.actionCreator("PROTOTYPE_SHOW_COMMENTS"),t.hideComments=T.actionCreator("PROTOTYPE_HIDE_COMMENTS"),t.setShowResolvedComments=T.actionCreator("PROTOTYPE_SHOW_RESOLVED_COMMENTS"),t.setScalingMode=T.actionCreator("PROTOTYPE_SET_SCALING_MODE"),t.setCurrentTlfBounds=T.actionCreator("PROTOTYPE_SET_CURRENT_TLF_BOUNDS"),t.setCurrentIndex=T.actionCreator("PROTOTYPE_SET_CURRENT_INDEX"),t.setFrameIds=T.actionCreator("PROTOTYPE_SET_FRAME_IDS"),t.setPages=T.actionCreator("PROTOTYPE_SET_PAGES"),t.setCurrentPageId=T.actionCreator("PROTOTYPE_SET_CURRENT_PAGE"),t.setBackgroundColor=T.actionCreator("PROTOTYPE_SET_BACKGROUND_COLOR"),t.trackEvent=T.actionCreator("PROTOTYPE_TRACK_EVENT"),t.setProgressBarMode=T.actionCreator("PROTOTYPE_SET_PROGRESS_BAR_MODE")}(o.prototype||(o.prototype={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(t){return{type:e.BATCH_SUBSCRIBE,payload:{tokens:t}}}e.BATCH_SUBSCRIBE="REALTIME_BATCH_SUBSCRIBE",e.UNSUBSCRIBE="REALTIME_UNSUBSCRIBE",e.RESET="REALTIME_RESET",e.subscribe=function(e,n){return t([e])},e.batchSubscribe=t,e.reset=function(){return{type:e.RESET}},e.unsubscribe=function(t){return{type:e.UNSUBSCRIBE,payload:{channel:t}}}}(t.realtime||(t.realtime={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,E,o){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.ResourceType={FILE:"file",FOLDER:"folder",TEAM:"team"},function(e){e[e.NONE=-1]="NONE",e[e.VIEW_METADATA=50]="VIEW_METADATA",e[e.VIEWER=100]="VIEWER",e[e.EDITOR=300]="EDITOR",e[e.ADMIN=900]="ADMIN",e[e.OWNER=999]="OWNER"}(E.PermissionLevel||(E.PermissionLevel={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,E,r){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const t=r(126                     );!function(e){e.PUT="ROLE_PUT",e.POST="ROLE_POST",e.DELETE="ROLE_DELETE",e.SEND_INVITES="ROLE_SEND_INVITES",e.RESEND_INVITE="ROLE_RESEND_INVITE",e.SET_USER_FILE_PERMISSION="ROLE_SET_USER_FILE_PERMISSION",e.SET_USER_FOLDER_PERMISSION="ROLE_SET_USER_FOLDER_PERMISSION",e.SET_USER_TEAM_PERMISSION="ROLE_SET_USER_TEAM_PERMISSION",e.post=function(E,r=!1){return{type:e.POST,payload:{role:E,userInitiated:r}}},e.put=function(E,r=!1,t){return{type:e.PUT,payload:{role:E,userInitiated:r,cascade:t}}},e.del=function(E,r=!1,t=!1){return{type:e.DELETE,payload:{role:E,userInitiated:r,isLeavingResource:t}}},e.setUserFilePermission=function(E,r,t){return{type:e.SET_USER_FILE_PERMISSION,payload:{userId:E,fileKey:r,level:t}}},e.setUserFolderPermission=function(E,r,t,n){return{type:e.SET_USER_FOLDER_PERMISSION,payload:{userId:E,folderId:r,level:t,cascade:n}}},e.setUserTeamPermission=function(E,r,t){return{type:e.SET_USER_TEAM_PERMISSION,payload:{userId:E,teamId:r,level:t}}},e.sendInvitesAndFinishTeamOnboarding=function(E,r){return{type:e.SEND_INVITES,payload:{emails:E,resourceType:t.ResourceType.TEAM,resourceIdOrKey:r,level:t.PermissionLevel.EDITOR,selectViewByTeamResourceId:!0,hidePaywall:!0}}},e.sendInvites=function(E,r,t,n){return{type:e.SEND_INVITES,payload:{emails:E,resourceType:r,resourceIdOrKey:t,level:n,selectViewByTeamResourceId:!1}}},e.resendInvite=function(E){return{type:e.RESEND_INVITE,payload:{role:E}}}}(E.role||(E.role={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=o(86                  );!function(e){e.initSelectedStyleFile=E.actionCreator("STYLE_FILE_INIT"),e.put=E.actionCreator("STYLE_FILE_PUT"),e.getStyleSet=E.actionCreator("STYLE_FILE_GET_STYLE_SET"),e.putStyleSet=E.actionCreator("STYLE_FILE_PUT_STYLE_SET"),e.updateSelectedIndices=E.actionCreator("STYLE_FILE_UPDATE_SELECTED_INDICES")}(t.styleFile||(t.styleFile={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(E,T,S){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),function(E){E[E.LAYOUT=0]="LAYOUT",E[E.VECTOR=1]="VECTOR",E[E.TEXT=2]="TEXT",E[E.RASTER=3]="RASTER",E[E.GRADIENT=4]="GRADIENT",E[E.PLACE_IMAGE=5]="PLACE_IMAGE",E[E.HISTORY=6]="HISTORY",E[E.PREVIEW=7]="PREVIEW",E[E.COMMENTS=8]="COMMENTS"}(T.EditModeType||(T.EditModeType={})),function(E){E[E.LAYOUT=0]="LAYOUT",E[E.HISTORY=1]="HISTORY",E[E.PREVIEW=2]="PREVIEW"}(T.TopLevelMode||(T.TopLevelMode={})),function(E){E[E.OFF=0]="OFF",E[E.ON=1]="ON",E[E.MIXED=2]="MIXED"}(T.PropertyState||(T.PropertyState={})),function(E){E[E.NONE=0]="NONE",E[E.COLOR=1]="COLOR"}(T.GradientStopType||(T.GradientStopType={})),function(E){E[E.NONE=0]="NONE",E[E.FILL=1]="FILL",E[E.STROKE=2]="STROKE",E[E.EFFECT=3]="EFFECT",E[E.EXPORT=4]="EXPORT",E[E.LAYOUT_GRID=5]="LAYOUT_GRID",E[E.BACKGROUND=6]="BACKGROUND"}(T.SelectedPropertyType||(T.SelectedPropertyType={})),function(E){E[E.SINGLE_VIEWPORT=0]="SINGLE_VIEWPORT",E[E.HORIZONTAL_SPLIT=1]="HORIZONTAL_SPLIT",E[E.VERTICAL_SPLIT=2]="VERTICAL_SPLIT",E[E.FOUR_WAY_SPLIT=3]="FOUR_WAY_SPLIT"}(T.ViewportLayout||(T.ViewportLayout={})),function(E){E[E.NONE=0]="NONE",E[E.PRESET=1]="PRESET",E[E.CUSTOM=2]="CUSTOM",E[E.PRESENTATION=3]="PRESENTATION"}(T.PrototypeDeviceType||(T.PrototypeDeviceType={})),function(E){E[E.NONE=0]="NONE",E[E.CCW_90=1]="CCW_90"}(T.DeviceRotation||(T.DeviceRotation={})),function(E){E[E.NONE=0]="NONE",E[E.PHONE=1]="PHONE",E[E.TABLET=2]="TABLET",E[E.DESKTOP=3]="DESKTOP",E[E.WATCH=4]="WATCH",E[E.PAPER=5]="PAPER",E[E.SOCIALMEDIA=6]="SOCIALMEDIA"}(T.PresetType||(T.PresetType={})),function(E){E[E.NONE=0]="NONE",E[E.SELECT=1]="SELECT",E[E.HAND=2]="HAND",E[E.COMMENTS=3]="COMMENTS",E[E.DROPPER_COLOR=4]="DROPPER_COLOR",E[E.FRAME=5]="FRAME",E[E.SLICE=6]="SLICE",E[E.SHAPE_STAR=7]="SHAPE_STAR",E[E.SHAPE_LINE=8]="SHAPE_LINE",E[E.SHAPE_ARROW=9]="SHAPE_ARROW",E[E.SHAPE_ELLIPSE=10]="SHAPE_ELLIPSE",E[E.SHAPE_RECTANGLE=11]="SHAPE_RECTANGLE",E[E.SHAPE_REGULAR_POLYGON=12]="SHAPE_REGULAR_POLYGON",E[E.VECTOR_PEN=13]="VECTOR_PEN",E[E.VECTOR_PENCIL=14]="VECTOR_PENCIL",E[E.VECTOR_BEND=15]="VECTOR_BEND",E[E.VECTOR_PAINT_BUCKET=16]="VECTOR_PAINT_BUCKET",E[E.TYPE=17]="TYPE",E[E.SCALE=18]="SCALE"}(T.Tool||(T.Tool={})),function(E){E[E.MISSING=0]="MISSING",E[E.PRESENT=1]="PRESENT",E[E.MIXED=2]="MIXED",E[E.MIXED_VALUES_FIRST=3]="MIXED_VALUES_FIRST",E[E.MIXED_VALUES_NEXT=4]="MIXED_VALUES_NEXT"}(T.SelectionPropertyState||(T.SelectionPropertyState={})),function(E){E[E.FRAME_PRESETS=0]="FRAME_PRESETS",E[E.CANVAS_ITEM=1]="CANVAS_ITEM",E[E.TRANSFORM_ITEM=2]="TRANSFORM_ITEM",E[E.INSTANCE_ITEM=3]="INSTANCE_ITEM",E[E.CONSTRAINTS_ITEM=4]="CONSTRAINTS_ITEM",E[E.VECTOR_ITEM=5]="VECTOR_ITEM",E[E.GRIDS_ITEM=6]="GRIDS_ITEM",E[E.MASK_ITEM=7]="MASK_ITEM",E[E.LAYER_ITEM=8]="LAYER_ITEM",E[E.TYPE_ITEM=9]="TYPE_ITEM",E[E.FILL_ITEM=10]="FILL_ITEM",E[E.STROKE_ITEM=11]="STROKE_ITEM",E[E.EFFECTS_ITEM=12]="EFFECTS_ITEM",E[E.EXPORT_ITEM=13]="EXPORT_ITEM",E[E.OVERFLOW_ITEM=14]="OVERFLOW_ITEM",E[E.NUM_VALUES=15]="NUM_VALUES"}(T.PropertiesPanelType||(T.PropertiesPanelType={})),function(E){E[E.FRAME_PRESETS_ITEM=0]="FRAME_PRESETS_ITEM",E[E.TRANSFORM_CONTROLS=1]="TRANSFORM_CONTROLS",E[E.CORNER_RADIUS=2]="CORNER_RADIUS",E[E.FRAME_OPTIONS=3]="FRAME_OPTIONS",E[E.COUNT=4]="COUNT",E[E.STAR_INNER_SCALE=5]="STAR_INNER_SCALE",E[E.RECTANGLE_CORNER_RADII=6]="RECTANGLE_CORNER_RADII",E[E.FIXED_FRAME_OPTIONS=7]="FIXED_FRAME_OPTIONS",E[E.ARC_DATA=8]="ARC_DATA",E[E.NUM_VALUES=9]="NUM_VALUES"}(T.TransformPanelControl||(T.TransformPanelControl={})),function(E){E[E.NONE=0]="NONE",E[E.INT=1]="INT",E[E.BOOL=2]="BOOL",E[E.FLOAT=3]="FLOAT",E[E.STRING=4]="STRING",E[E.JSON=5]="JSON",E[E.COMMENTS_VIEWPORT_INFO=6]="COMMENTS_VIEWPORT_INFO",E[E.GRADIENT_STOP_SELECTION=7]="GRADIENT_STOP_SELECTION",E[E.SELECTED_PROPERTY=8]="SELECTED_PROPERTY",E[E.BOOL_ARRAY=9]="BOOL_ARRAY",E[E.GUID=10]="GUID"}(T.JSONSerializableType||(T.JSONSerializableType={})),function(E){E[E.ALL_LAYERS=0]="ALL_LAYERS",E[E.ALL_OVERRIDES=1]="ALL_OVERRIDES",E[E.BLANK_ENTRY=2]="BLANK_ENTRY",E[E.EXPORTS=3]="EXPORTS",E[E.EFFECTS=4]="EFFECTS",E[E.LAYER=5]="LAYER",E[E.VISIBLE=6]="VISIBLE",E[E.NAME=7]="NAME",E[E.FILL=8]="FILL",E[E.STROKE=9]="STROKE",E[E.TEXT=10]="TEXT",E[E.TEXT_STYLE=11]="TEXT_STYLE",E[E.SIZE=12]="SIZE",E[E.OVERRIDDEN_SYMBOL=13]="OVERRIDDEN_SYMBOL",E[E.TRANSITION=14]="TRANSITION",E[E.OVERLAY=15]="OVERLAY",E[E.NUM_VALUES=16]="NUM_VALUES"}(T.Reset||(T.Reset={})),function(E){E[E.HEX=0]="HEX",E[E.RGB=1]="RGB",E[E.CSS=2]="CSS",E[E.HSB=3]="HSB",E[E.HSL=4]="HSL"}(T.ColorFormat||(T.ColorFormat={})),function(E){E[E.ALWAYS=0]="ALWAYS",E[E.ONLY_WHEN_NOT_EMPTY=1]="ONLY_WHEN_NOT_EMPTY"}(T.Overwrite||(T.Overwrite={})),function(E){E[E.UNJOINED=0]="UNJOINED",E[E.GOT_SCHEMA=1]="GOT_SCHEMA",E[E.JOINING=2]="JOINING",E[E.JOINED=3]="JOINED",E[E.SHOULD_UPGRADE=4]="SHOULD_UPGRADE",E[E.UPGRADING=5]="UPGRADING",E[E.WAITING_FOR_RELOAD=6]="WAITING_FOR_RELOAD"}(T.MultiplayerSessionState||(T.MultiplayerSessionState={})),function(E){E[E.COMMENT=0]="COMMENT",E[E.EMPTY_LINE=1]="EMPTY_LINE",E[E.DECLARATION=2]="DECLARATION"}(T.CSSExportLineType||(T.CSSExportLineType={})),function(E){E[E.LAYERS=0]="LAYERS",E[E.PUBLISH=1]="PUBLISH",E[E.TEAM_LIBRARY=2]="TEAM_LIBRARY"}(T.LeftPanelTab||(T.LeftPanelTab={})),function(E){E[E.DESIGN=0]="DESIGN",E[E.PROTOTYPE=1]="PROTOTYPE",E[E.CODE=2]="CODE"}(T.PropertiesPanelTab||(T.PropertiesPanelTab={})),function(E){E[E.CSS=0]="CSS",E[E.IOS=1]="IOS",E[E.ANDROID=2]="ANDROID"}(T.HandoffPlatformTarget||(T.HandoffPlatformTarget={})),function(E){E[E.TABULAR=0]="TABULAR",E[E.CODE=1]="CODE"}(T.HandoffOutputFormat||(T.HandoffOutputFormat={})),function(E){E[E.LOCAL=1]="LOCAL",E[E.GOOGLE=2]="GOOGLE",E[E.SHARED=3]="SHARED"}(T.FontSource||(T.FontSource={})),function(E){E[E.SELECTION=0]="SELECTION",E[E.SNAPPING=1]="SNAPPING"}(T.Overlay||(T.Overlay={})),function(E){E[E.SCROLLS=0]="SCROLLS",E[E.FIXED=1]="FIXED"}(T.ScrollBehavior||(T.ScrollBehavior={})),function(E){E[E.CURRENT_TAB=0]="CURRENT_TAB",E[E.NEW_TAB=1]="NEW_TAB"}(T.NavigateTarget||(T.NavigateTarget={})),function(E){E[E.NONE=0]="NONE",E[E.PRESET=1]="PRESET",E[E.CUSTOM=2]="CUSTOM",E[E.PRESENTATION=3]="PRESENTATION"}(T.DeviceType||(T.DeviceType={})),function(E){E[E.CRASH=0]="CRASH",E[E.CONCERNING=1]="CONCERNING",E[E.DANGEROUS=2]="DANGEROUS"}(T.MemoryWarningType||(T.MemoryWarningType={})),function(E){E[E.VALID=0]="VALID",E[E.NO_FRAMES=1]="NO_FRAMES",E[E.INVALID_CONNECTIONS=2]="INVALID_CONNECTIONS",E[E.NO_START_NODE=3]="NO_START_NODE",E[E.NO_VISIBLE_START_NODE=4]="NO_VISIBLE_START_NODE"}(T.PrototypeStatus||(T.PrototypeStatus={})),function(E){E[E.REDUX=0]="REDUX",E[E.PLUGIN=1]="PLUGIN"}(T.NodeContext||(T.NodeContext={})),window.tsapi_init=(E=>{T.PerfInfo=E.PerfInfo,window.PerfInfo=T.PerfInfo,T.Fullscreen=E.Fullscreen,T.ColorHelpers=E.ColorHelpers,T.InteractionTestHelpers=E.InteractionTestHelpers,T.SceneGraphHelpers=E.SceneGraphHelpers,T.PrototypingHelpers=E.PrototypingHelpers,T.CustomFocusHelpers=E.CustomFocusHelpers,T.DebuggingHelpers=E.DebuggingHelpers,window.DebuggingHelpers=T.DebuggingHelpers,T.PluginHelpers=E.PluginHelpers,T.SceneNodeCpp=E.SceneNodeCpp,T.PluginSceneNodeCpp=E.PluginSceneNodeCpp,T.FullscreenPerfMetrics=E.FullscreenPerfMetrics}),E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(129                               );t.sharedFontMetadataToFontInfo=(e=>({postscript:e.postscript_name,family:e.family,style:e.style,weight:e.weight,italic:e.italic,stretch:e.stretch,id:e.id.toString(),source:r.FontSource.SHARED,teamId:e.team_id?e.team_id.toString():void 0,orgId:e.org_id?e.org_id.toString():void 0,version:t.parseVersion(e.version),sampleUrl:e.sample_url,updatedAt:e.updated_at})),t.parseVersion=(e=>e?e.replace(/version/i,"").split(";")[0].trim():void 0),t.uniqueResourceIDForFont=(e=>e.teamId?`team-${e.teamId}`:`org-${e.orgId}`),t.resourceIDForUniqueResourceID=(e=>e.replace(/team-|org-/,"")),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(86                  ),s=o(101               ),n=o(130       ),r=o(97      );function i(t){return t.type?t.type:t.name.endsWith(".otf")?"font/opentype":t.name.endsWith(".ttf")?"font/ttf":""}let c=0;e.getFontUploadId=function(){return c++};const d=t=>{switch(t){case 400:return"Invalid font.";case 403:return"Unfortunately, you don't have permission to complete this action.";case 409:return"This font has already been uploaded to your Organization. Access this font now from the Font Picker.";case 422:return"This file has missing or invalid fields.";case 429:return"This file is too big. Files must be less than 20 MB.";default:return"The font could not be uploaded. Please try again later."}},l=s.asyncActionCreator("UPLOAD_FONTS",(t,e)=>{for(const o in e.fonts){const a=e.fonts[o];r.default.post("/api/upnode/font",a,{params:{resourceType:e.resourceType,resourceId:e.resourceId,overwrite:e.overwrite?"true":void 0},headers:{"content-type":i(a)},raw:!0,uploadEvents:{[r.default.Events.PROGRESS]:(e,a)=>{const s=a.loaded/a.total;t.dispatch(F({uploadId:o,progress:s}))}}}).then(s=>{const r=JSON.parse(s.data).meta,i=n.sharedFontMetadataToFontInfo(r);if("org"===e.resourceType){const o={},a=t.getState(),{fontsByResourceId:s}=a.sharedFonts;Object.keys(s).map(t=>n.resourceIDForUniqueResourceID(t)).filter(t=>a.teams[t]&&a.teams[t].org_id===e.resourceId).forEach(t=>{const e=s[`team-${t}`]&&s[`team-${t}`][i.family]&&s[`team-${t}`][i.family][i.style];e&&e.weight===i.weight&&e.italic===i.italic&&e.stretch===i.stretch&&(o[i.id]=o[i.id]||{font:i,collisions:[]},o[i.id].collisions.push(e))});for(const e in o)t.dispatch(f(o[e]))}t.dispatch(y({font:i})),t.dispatch(u({resourceId:e.resourceId,font:i,filename:a.name,uploadId:o}))}).catch(e=>{let s=void 0;if(e.data)try{const t=JSON.parse(e.data).meta;s=t?{existing:n.sharedFontMetadataToFontInfo(t.collision.existing),uploaded:t.collision.uploaded}:void 0}catch(r){}t.dispatch(p({filename:a.name,uploadId:o,collision:s,message:d(e.status),status:e.status}))})}},!1),u=a.actionCreator("UPLOAD_FONT_SUCCESS"),p=a.actionCreator("UPLOAD_FONT_FAILURE"),f=a.actionCreator("UPLOAD_FONT_WARNING"),h=a.actionCreator("CLEAR_FONT_UPLOAD_RESULTS"),F=a.actionCreator("UPLOAD_FONT_PROGRESS"),T=a.actionCreator("TOGGLE_FONT_TO_DELETE"),_=a.actionCreator("CLEAR_FONTS_TO_DELETE"),O=s.asyncActionCreator("DELETE_FONT",t=>{const{fontsToDelete:e}=t.getState().sharedFonts;r.default.del("/api/fonts",{font_ids:Object.keys(e)}).then(o=>{const a=o.data.meta;for(const s in e)a.errors[s]||t.dispatch(C({font:e[s]}));t.dispatch(E(a))}).catch(e=>{const o={};Object.keys(t.getState().sharedFonts.fontsToDelete).forEach(t=>{o[t]={status:e.status}}),t.dispatch(E({errors:o}))})}),E=a.actionCreator("DELETE_FONT_COMPLETE"),S=a.actionCreator("DISMISS_FONT_COLLISION"),m=a.actionCreator("DISMISS_FONT_WARNING"),I=a.actionCreator("UPDATE_SHARED_FONT_LIST"),y=a.actionCreator("PUT_SHARED_FONT"),C=a.actionCreator("DEL_SHARED_FONT");e.sharedFonts={uploadFonts:l,uploadFontProgress:F,clearFontUploadResults:h,deleteFonts:O,toggleFontsToDelete:T,clearFontsToDelete:_,deleteFontComplete:E,dismissFontCollision:S,dismissFontWarning:m,uploadFontSuccess:u,uploadFontFailure:p,uploadFontWarning:f,updateSharedFontList:I,put:y,del:C},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const E=o(86                  );!function(e){e.resourceDelete=E.actionCreator("TEAM_RESOURCE_DELETE"),e.initMembers=E.actionCreator("TEAM_INIT_MEMBERS"),e.submitNewTeam=E.actionCreator("TEAM_SUBMIT_NEW_TEAM"),e.post=E.actionCreator("TEAM_POST"),e.del=E.actionCreator("TEAM_DELETE"),e.put=E.actionCreator("TEAM_PUT"),e.rename=E.actionCreator("TEAM_RENAME"),e.changeOrgAccess=E.actionCreator("TEAM_CHANGE_ORG_ACCESS"),e.fetchedRoles=E.actionCreator("TEAM_FETCHED_ROLES"),e.setLoading=E.actionCreator("TEAM_CREATION_SET_LOADING"),e.setSendingInvites=E.actionCreator("TEAM_ONBOARDING_SET_SENDING_INVITES"),e.beginRename=E.actionCreator("TEAM_BEGIN_RENAME"),e.stopRename=E.actionCreator("TEAM_STOP_RENAME"),e.onJoin=E.actionCreator("TEAM_JOIN")}(t.team||(t.team={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});const r=e(86                  );!function(t){t.initBillingDetails=r.actionCreator("TEAM_ADMIN_INIT_BILLING_DETAILS"),t.fetchEditors=r.actionCreator("TEAM_ADMIN_FETCH_EDITORS"),t.fetchSummary=r.actionCreator("TEAM_ADMIN_FETCH_SUMMARY"),t.setBillingSummary=r.actionCreator("TEAM_ADMIN_SET_SUMMARY"),t.setEditors=r.actionCreator("TEAM_ADMIN_SET_EDITORS"),t.getAdmins=r.actionCreator("TEAM_ADMIN_GET_ADMINS"),t.setAdmins=r.actionCreator("TEAM_ADMIN_SET_ADMINS_BY_ID"),t.sortEditorsBy=r.actionCreator("TEAM_ADMIN_SORT_EDITORS_BY"),t.setQuery=r.actionCreator("TEAM_ADMIN_SET_QUERY"),t.setSearchResults=r.actionCreator("TEAM_ADMIN_SET_SEARCH_RESULTS"),t.initUserDetails=r.actionCreator("TEAM_ADMIN_INIT_USER_DETAILS"),t.setUserRoles=r.actionCreator("TEAM_ADMIN_SET_USER_ROLES"),t.demoteUserRoles=r.actionCreator("TEAM_ADMIN_DEMOTE_EDITOR_ROLES"),t.initCharges=r.actionCreator("TEAM_ADMIN_INIT_CHARGES"),t.fetchMoreCharges=r.actionCreator("TEAM_ADMIN_FETCH_MORE_CHARGES"),t.appendCharges=r.actionCreator("TEAM_ADMIN_APPEND_CHARGES"),t.noMoreChargesToFetch=r.actionCreator("TEAM_ADMIN_NO_MORE_CHARGES_TO_FETCH")}(_.teamAdmin||(_.teamAdmin={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=o(86                  );!function(t){t.showAfterDelay=a.actionCreator("TOOLTIP_SHOW_AFTER_DELAY"),t.showImmediately=a.actionCreator("TOOLTIP_SHOW_IMMEDIATELY"),t.hide=a.actionCreator("TOOLTIP_HIDE"),t.hideAfterDelay=a.actionCreator("TOOLTIP_HIDE_AFTER_DELAY"),t.cancelHideAfterDelay=a.actionCreator("TOOLTIP_CANCEL_HIDE_AFTER_DELAY"),t.update=a.actionCreator("TOOLTIP_UPDATE")}(e.tooltip||(e.tooltip={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,E,_){"use strict";Object.defineProperty(E,"__esModule",{value:!0});const t=_(86                  );!function(e){e.setFolderSearchQuery=t.actionCreator("FILE_MOVE_SET_FOLDER_SEARCH_QUERY"),e.startFolderRename=t.actionCreator("FILE_MOVE_START_FOLDER_RENAME"),e.endFolderRename=t.actionCreator("FILE_MOVE_END_FOLDER_RENAME"),e.incrementFocusedIndex=t.actionCreator("FILE_MOVE_INCREMENT_FOCUSED_INDEX"),e.decrementFocusedIndex=t.actionCreator("FILE_MOVE_DECREMENT_FOCUSED_INDEX"),e.setFocusedIndexAt=t.actionCreator("FILE_MOVE_SET_FOCUSED_INDEX_AT"),e.resetFocusedIndex=t.actionCreator("FILE_MOVE_RESET_FOCUSED_INDEX"),e.focusFolderId=t.actionCreator("FILE_MOVE_SELECT_FOLDER"),e.setIndexCount=t.actionCreator("FILE_MOVE_SET_FOLDER_COUNT"),e.setIndexOffsets=t.actionCreator("FILE_MOVE_SET_INDEX_OFFSETS"),e.setTeamOrder=t.actionCreator("FILE_MOVE_SET_TEAM_ORDER"),e.setfoldersByTeamId=t.actionCreator("FILE_MOVE_SET_FOLDER_ORDER"),e.isSearchResult=t.actionCreator("FILE_MOVE_IS_SEARCH_RESULT"),e.setFolderRows=t.actionCreator("FILE_MOVE_INDEX_ORDER"),e.isSearchFocused=t.actionCreator("FILE_MOVE_IS_SEARCH_FOCUSED"),e.setKeyPressedToFalse=t.actionCreator("FILE_MOVE_SET_KEY_PRESSED_TO_FALSE"),e.canMouseFocus=t.actionCreator("FILE_MOVE_CAN_MOUSE_FOCUS")}(E.fileMove||(E.fileMove={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(86                  );!function(e){e.put=r.actionCreator("USER_PUT"),e.putPreferences=r.actionCreator("USER_PUT_PREFERENCES"),e.changePassword=r.actionCreator("USER_CHANGE_PASSWORD"),e.changeEmail=r.actionCreator("USER_CHANGE_EMAIL"),e.verifyPassword=r.actionCreator("USER_VERIFY_PASSWORD"),e.invalidateSessions=r.actionCreator("USER_INVALIDATE_SESSIONS"),e.setupTwoFactor=r.actionCreator("USER_SETUP_TWO_FACTOR"),e.disableTwoFactor=r.actionCreator("USER_DISABLE_TWO_FACTOR"),e.verifyOTP=r.actionCreator("USER_VERIFY_OTP"),e.changePhone=r.actionCreator("USER_VERIFY_PHONE"),e.deletePhone=r.actionCreator("USER_DELETE_PHONE"),e.confirmPhone=r.actionCreator("USER_CONFIRM_PHONE"),e.toggleTwoFactor=r.actionCreator("USER_TOGGLE_TWO_FACTOR"),e.getBackupCodes=r.actionCreator("USER_GET_BACKUP_CODES"),e.resetBackupCodes=r.actionCreator("USER_RESET_BACKUP_CODES"),e.eraseSecrets=r.actionCreator("USER_ERASE_SECRETS"),e.forgotPassword=r.actionCreator("USER_FORGOT_PASSWORD"),e.sendValidationEmail=r.actionCreator("USER_SEND_VALIDATION_EMAIL"),e.deleteUserAccount=r.actionCreator("USER_DELETE_ACCOUNT"),e.deleteUserLoading=r.actionCreator("DELETE_USER_LOADING"),e.logOut=r.actionCreator("USER_LOG_OUT")}(o.user||(o.user={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(86                  );!function(t){t.append=r.actionCreator("VERSION_HISTORY_APPEND"),t.loadMore=r.actionCreator("VERSION_HISTORY_LOAD_MORE"),t.toggleLoading=r.actionCreator("VERSION_HISTORY_LOADING"),t.reset=r.actionCreator("VERSION_HISTORY_RESET"),t.setActive=r.actionCreator("VERSION_HISTORY_SET_ACTIVE"),t.setDocHasChangedSinceLastSavepoint=r.actionCreator("VERSION_HISTORY_SET_DOC_HAS_CHANGED")}(e.versionHistory||(e.versionHistory={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(86                  );!function(e){
// enqueue: add to end, e.g. [a,b] -> enqueue(c) -> [a,b,c]
e.enqueue=n.actionCreator("VISUAL_BELL_ENQUEUE"),e.dequeue=n.actionCreator("VISUAL_BELL_DEQUEUE"),e.clearAll=n.actionCreator("VISUAL_BELL_CLEAR_ALL")}(t.visualBell||(t.visualBell={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SPINNER=1]="SPINNER",e[e.CHECK=2]="CHECK",e[e.EXCLAMATION=3]="EXCLAMATION"}(t.VisualBellIcon||(t.VisualBellIcon={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,n,i){"use strict";function o(){return/FigmaMirror-Android/.test(navigator.userAgent)}function t(){return!!window.FigmaMobile}Object.defineProperty(n,"__esModule",{value:!0}),n.windows="Win32"===navigator.platform||"Win64"===navigator.platform,n.mac="MacIntel"===navigator.platform,n.isMobileBrowser=/Mobi/.test(navigator.userAgent),n.isAndroidMirrorApp=o,n.isIosMirrorApp=t,n.getAndroidAppVersion=function(){if(o()){const r=navigator.userAgent.match(/FigmaMirror-Android\/(\d+)/);if(r)return parseInt(r[1])}return null},n.getIosAppVersion=function(){return t()?window.FigmaMobile.appVersion||1:null},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,i,s){var o,r;o=this,r=function(){var e=!0;function i(i){function s(e){var s=i.match(e);return s&&s.length>1&&s[1]||""}function o(e){var s=i.match(e);return s&&s.length>1&&s[2]||""}var r,n=s(/(ipod|iphone|ipad)/i).toLowerCase(),t=!/like android/i.test(i)&&/android/i.test(i),a=/nexus\s*[0-6]\s*/i.test(i),d=!a&&/nexus\s*[0-9]+/i.test(i),m=/CrOS/.test(i),v=/silk/i.test(i),p=/sailfish/i.test(i),c=/tizen/i.test(i),l=/(web|hpw)os/i.test(i),u=/windows phone/i.test(i),f=(/SamsungBrowser/i.test(i),!u&&/windows/i.test(i)),h=!n&&!v&&/macintosh/i.test(i),w=!t&&!p&&!c&&!l&&/linux/i.test(i),b=o(/edg([ea]|ios)\/(\d+(\.\d+)?)/i),g=s(/version\/(\d+(\.\d+)?)/i),k=/tablet/i.test(i)&&!/tablet pc/i.test(i),x=!k&&/[^-]mobi/i.test(i),y=/xbox/i.test(i);/opera/i.test(i)?r={name:"Opera",opera:e,version:g||s(/(?:opera|opr|opios)[\s\/](\d+(\.\d+)?)/i)}:/opr\/|opios/i.test(i)?r={name:"Opera",opera:e,version:s(/(?:opr|opios)[\s\/](\d+(\.\d+)?)/i)||g}:/SamsungBrowser/i.test(i)?r={name:"Samsung Internet for Android",samsungBrowser:e,version:g||s(/(?:SamsungBrowser)[\s\/](\d+(\.\d+)?)/i)}:/coast/i.test(i)?r={name:"Opera Coast",coast:e,version:g||s(/(?:coast)[\s\/](\d+(\.\d+)?)/i)}:/yabrowser/i.test(i)?r={name:"Yandex Browser",yandexbrowser:e,version:g||s(/(?:yabrowser)[\s\/](\d+(\.\d+)?)/i)}:/ucbrowser/i.test(i)?r={name:"UC Browser",ucbrowser:e,version:s(/(?:ucbrowser)[\s\/](\d+(?:\.\d+)+)/i)}:/mxios/i.test(i)?r={name:"Maxthon",maxthon:e,version:s(/(?:mxios)[\s\/](\d+(?:\.\d+)+)/i)}:/epiphany/i.test(i)?r={name:"Epiphany",epiphany:e,version:s(/(?:epiphany)[\s\/](\d+(?:\.\d+)+)/i)}:/puffin/i.test(i)?r={name:"Puffin",puffin:e,version:s(/(?:puffin)[\s\/](\d+(?:\.\d+)?)/i)}:/sleipnir/i.test(i)?r={name:"Sleipnir",sleipnir:e,version:s(/(?:sleipnir)[\s\/](\d+(?:\.\d+)+)/i)}:/k-meleon/i.test(i)?r={name:"K-Meleon",kMeleon:e,version:s(/(?:k-meleon)[\s\/](\d+(?:\.\d+)+)/i)}:u?(r={name:"Windows Phone",osname:"Windows Phone",windowsphone:e},b?(r.msedge=e,r.version=b):(r.msie=e,r.version=s(/iemobile\/(\d+(\.\d+)?)/i))):/msie|trident/i.test(i)?r={name:"Internet Explorer",msie:e,version:s(/(?:msie |rv:)(\d+(\.\d+)?)/i)}:m?r={name:"Chrome",osname:"Chrome OS",chromeos:e,chromeBook:e,chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:/edg([ea]|ios)/i.test(i)?r={name:"Microsoft Edge",msedge:e,version:b}:/vivaldi/i.test(i)?r={name:"Vivaldi",vivaldi:e,version:s(/vivaldi\/(\d+(\.\d+)?)/i)||g}:p?r={name:"Sailfish",osname:"Sailfish OS",sailfish:e,version:s(/sailfish\s?browser\/(\d+(\.\d+)?)/i)}:/seamonkey\//i.test(i)?r={name:"SeaMonkey",seamonkey:e,version:s(/seamonkey\/(\d+(\.\d+)?)/i)}:/firefox|iceweasel|fxios/i.test(i)?(r={name:"Firefox",firefox:e,version:s(/(?:firefox|iceweasel|fxios)[ \/](\d+(\.\d+)?)/i)},/\((mobile|tablet);[^\)]*rv:[\d\.]+\)/i.test(i)&&(r.firefoxos=e,r.osname="Firefox OS")):v?r={name:"Amazon Silk",silk:e,version:s(/silk\/(\d+(\.\d+)?)/i)}:/phantom/i.test(i)?r={name:"PhantomJS",phantom:e,version:s(/phantomjs\/(\d+(\.\d+)?)/i)}:/slimerjs/i.test(i)?r={name:"SlimerJS",slimer:e,version:s(/slimerjs\/(\d+(\.\d+)?)/i)}:/blackberry|\bbb\d+/i.test(i)||/rim\stablet/i.test(i)?r={name:"BlackBerry",osname:"BlackBerry OS",blackberry:e,version:g||s(/blackberry[\d]+\/(\d+(\.\d+)?)/i)}:l?(r={name:"WebOS",osname:"WebOS",webos:e,version:g||s(/w(?:eb)?osbrowser\/(\d+(\.\d+)?)/i)},/touchpad\//i.test(i)&&(r.touchpad=e)):/bada/i.test(i)?r={name:"Bada",osname:"Bada",bada:e,version:s(/dolfin\/(\d+(\.\d+)?)/i)}:c?r={name:"Tizen",osname:"Tizen",tizen:e,version:s(/(?:tizen\s?)?browser\/(\d+(\.\d+)?)/i)||g}:/qupzilla/i.test(i)?r={name:"QupZilla",qupzilla:e,version:s(/(?:qupzilla)[\s\/](\d+(?:\.\d+)+)/i)||g}:/chromium/i.test(i)?r={name:"Chromium",chromium:e,version:s(/(?:chromium)[\s\/](\d+(?:\.\d+)?)/i)||g}:/chrome|crios|crmo/i.test(i)?r={name:"Chrome",chrome:e,version:s(/(?:chrome|crios|crmo)\/(\d+(\.\d+)?)/i)}:t?r={name:"Android",version:g}:/safari|applewebkit/i.test(i)?(r={name:"Safari",safari:e},g&&(r.version=g)):n?(r={name:"iphone"==n?"iPhone":"ipad"==n?"iPad":"iPod"},g&&(r.version=g)):r=/googlebot/i.test(i)?{name:"Googlebot",googlebot:e,version:s(/googlebot\/(\d+(\.\d+))/i)||g}:{name:s(/^(.*)\/(.*) /),version:o(/^(.*)\/(.*) /)},!r.msedge&&/(apple)?webkit/i.test(i)?(/(apple)?webkit\/537\.36/i.test(i)?(r.name=r.name||"Blink",r.blink=e):(r.name=r.name||"Webkit",r.webkit=e),!r.version&&g&&(r.version=g)):!r.opera&&/gecko\//i.test(i)&&(r.name=r.name||"Gecko",r.gecko=e,r.version=r.version||s(/gecko\/(\d+(\.\d+)?)/i)),r.windowsphone||!t&&!r.silk?!r.windowsphone&&n?(r[n]=e,r.ios=e,r.osname="iOS"):h?(r.mac=e,r.osname="macOS"):y?(r.xbox=e,r.osname="Xbox"):f?(r.windows=e,r.osname="Windows"):w&&(r.linux=e,r.osname="Linux"):(r.android=e,r.osname="Android");var S="";r.windows?S=function(e){switch(e){case"NT":return"NT";case"XP":return"XP";case"NT 5.0":return"2000";case"NT 5.1":return"XP";case"NT 5.2":return"2003";case"NT 6.0":return"Vista";case"NT 6.1":return"7";case"NT 6.2":return"8";case"NT 6.3":return"8.1";case"NT 10.0":return"10";default:return}}(s(/Windows ((NT|XP)( \d\d?.\d)?)/i)):r.windowsphone?S=s(/windows phone (?:os)?\s?(\d+(\.\d+)*)/i):r.mac?S=(S=s(/Mac OS X (\d+([_\.\s]\d+)*)/i)).replace(/[_\s]/g,"."):n?S=(S=s(/os (\d+([_\s]\d+)*) like mac os x/i)).replace(/[_\s]/g,"."):t?S=s(/android[ \/-](\d+(\.\d+)*)/i):r.webos?S=s(/(?:web|hpw)os\/(\d+(\.\d+)*)/i):r.blackberry?S=s(/rim\stablet\sos\s(\d+(\.\d+)*)/i):r.bada?S=s(/bada\/(\d+(\.\d+)*)/i):r.tizen&&(S=s(/tizen[\/\s](\d+(\.\d+)*)/i)),S&&(r.osversion=S);var B=!r.windows&&S.split(".")[0];return k||d||"ipad"==n||t&&(3==B||B>=4&&!x)||r.silk?r.tablet=e:(x||"iphone"==n||"ipod"==n||t||a||r.blackberry||r.webos||r.bada)&&(r.mobile=e),r.msedge||r.msie&&r.version>=10||r.yandexbrowser&&r.version>=15||r.vivaldi&&r.version>=1||r.chrome&&r.version>=20||r.samsungBrowser&&r.version>=4||r.firefox&&r.version>=20||r.safari&&r.version>=6||r.opera&&r.version>=10||r.ios&&r.osversion&&r.osversion.split(".")[0]>=6||r.blackberry&&r.version>=10.1||r.chromium&&r.version>=20?r.a=e:r.msie&&r.version<10||r.chrome&&r.version<20||r.firefox&&r.version<20||r.safari&&r.version<6||r.opera&&r.version<10||r.ios&&r.osversion&&r.osversion.split(".")[0]<6||r.chromium&&r.version<20?r.c=e:r.x=e,r}var s=i("undefined"!=typeof navigator&&navigator.userAgent||"");function o(e){return e.split(".").length}function r(e,i){var s,o=[];if(Array.prototype.map)return Array.prototype.map.call(e,i);for(s=0;s<e.length;s++)o.push(i(e[s]));return o}function n(e){for(var i=Math.max(o(e[0]),o(e[1])),s=r(e,function(e){var s=i-o(e);return r((e+=new Array(s+1).join(".0")).split("."),function(e){return new Array(20-e.length).join("0")+e}).reverse()});--i>=0;){if(s[0][i]>s[1][i])return 1;if(s[0][i]!==s[1][i])return-1;if(0===i)return 0}}function t(e,o,r){var t=s;"string"==typeof o&&(r=o,o=void 0),void 0===o&&(o=!1),r&&(t=i(r));var a=""+t.version;for(var d in e)if(e.hasOwnProperty(d)&&t[d]){if("string"!=typeof e[d])throw new Error("Browser version in the minVersion map should be a string: "+d+": "+String(e));return n([a,e[d]])<0}return o}return s.test=function(e){for(var i=0;i<e.length;++i){var o=e[i];if("string"==typeof o&&o in s)return!0}return!1},s.isUnsupportedBrowser=t,s.compareVersions=n,s.check=function(e,i,s){return!t(e,i,s)},s._detect=i,s.detect=i,s},void 0!==e&&e.exports?e.exports=r():"function"==typeof define&&define.amd?define("bowser",r):o.bowser=r(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let t=null,i=!1;function o(e,r){i&&t(e,r)}r.enableRecording=function(){i=!0},r.disableRecording=function(){i=!1},r.isRecording=function(){return i},r.record=o,r.setRecordingListener=function(e){if(t)throw new Error("Tried to register already-registered recording listener");t=e},r.removeRecordingListener=function(){if(!t)throw new Error("Tried to unregister never-registered recording listener");t=null};const c=!1,a=Object.create(null);function l(e,r){if(-1!==(e in a?a[e].indexOf(r):-1))throw new Error(`Tried to register already registered playback handler for ${e}`);a[e]||(a[e]=[]),a[e].push(r)}function d(e,r){const n=e in a?a[e].indexOf(r):-1;if(-1===n)throw new Error(`Tried to unregister unknown playback handler for ${e}`);a[e].splice(n,1),0===a[e].length&&delete a[e]}function s(e,r){return`${e}.${r}`}function g(e){const r=e;if(r.__registeredRecordingKey){c&&console.log("[InteractionRecorder] unregister",r.__registeredRecordingKey);for(let e in r.__playbackHandlers){d(s(r.__registeredRecordingKey,e),r.__playbackHandlers[e])}r.__registeredRecordingKey=null}}r.playback=function(e,r){if(!(e in a)||0===a[e].length)throw new Error(`No playback handler registered for ${e}`);if(a[e].length>1)throw new Error(`Multiple playback handlers registered for ${e}`);a[e][0](r)},r.addPlaybackHandler=l,r.removePlaybackHandler=d,r.hasPlaybackHandler=function(e){return e in a},r.registerInteractable=function e(r){const n=r,t=r.recordingKey();if(null!=t)if(n.__registeredRecordingKey)t!==n.__registeredRecordingKey&&(g(r),e(r));else{n.__registeredRecordingKey=t,c&&console.log("[InteractionRecorder] register",t);for(let e in n.__playbackHandlers)l(s(t,e),n.__playbackHandlers[e])}},r.unregisterInteractable=g,r.SKIP_RECORDING="SKIP_RECORDING",r.recordInteraction=function(e,r,n,t={}){t=Object.assign({record:e=>e,playback:e=>e},t);const c=e;if(c.__playbackHandlers||(c.__playbackHandlers=Object.create(null)),r in c.__playbackHandlers)throw new Error(`Tried to register duplicate playback handler for ${r}`);return c.__playbackHandlers[r]=(e=>n(t.playback(e))),function(e){0===n.length&&(e=void 0);const a=n(e);i&&"SKIP_RECORDING"!=a&&(c.__registeredRecordingKey?o(s(c.__registeredRecordingKey,r),t.record(e)):console.warn(`No recording key registered to handle ${r} on`,c))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34,1   ),o=n(0                  ),c=n(142                      ),a="/test/interactions"===window.location.pathname;function i(){return a}t.isDevelopmentEnvironment=!1,t.isRunningInteractionTests=i;const s=new Set;function u(){return!!t.isDevelopmentEnvironment||(a||o.default().feature_flags&&o.default().feature_flags.interaction_recorder)}function l(e){u()&&c.registerInteractable(e)}function d(e){u()&&c.unregisterInteractable(e)}t.addTestStartListener=function(e){i()&&s.add(e)},t.removeTestStartListener=function(e){i()&&s.delete(e)},t.runTestStartCallbacks=function(){s.forEach(e=>e())},t.recordingOrPlaybackIsEnabled=u,t.register=l,t.unregister=d,t.joinKeys=function(e,...t){let n=e.recordingKey;return n?n+"."+t.join("."):n};class y extends r.PureComponent{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){l(this)}componentDidUpdate(e,t){l(this)}componentWillUnmount(){d(this)}}t.PureComponent=y;class p extends r.Component{recordingKey(){return this.props.recordingKey}UNSAFE_componentWillMount(){l(this)}componentDidUpdate(e,t){l(this)}componentWillUnmount(){d(this)}}function b(e,t,n,r={}){return u()?c.recordInteraction(e,t,n,r):n}function f(e){const t={};return e.altKey&&(t.altKey=!0),e.shiftKey&&(t.shiftKey=!0),e.metaKey&&(t.metaKey=!0),e.ctrlKey&&(t.ctrlKey=!0),t}t.Component=p,t.SKIP_RECORDING=c.SKIP_RECORDING,t.otherEvent=b;const g={preventDefault(){},stopPropagation(){}};function k(e){const t={};return t.altKey=!!e.altKey,t.ctrlKey=!!e.ctrlKey,t.metaKey=!!e.metaKey,t.shiftKey=!!e.shiftKey,t}t.mouseEvent=function(e,t,n,r){return b(e,t,n,{record:e=>(e||(e={}),Object.assign({buttons:e.buttons},f(e),r?r.recordMetadata(e):{})),playback:e=>Object.assign({clientX:0,clientY:0,button:0,buttons:e.buttons},k(e),g,r?r.playbackMetadata(e):{})})},t.wheelEvent=function(e,t,n,r){return b(e,t,n,{record:e=>(e||(e={}),Object.assign({buttons:e.buttons},f(e),r?r.recordMetadata(e):{})),playback:e=>Object.assign({deltaX:0,deltaY:0,deltaMode:WheelEvent.DOM_DELTA_PIXEL,clientX:0,clientY:0,button:0,buttons:e.buttons},k(e),g,r?r.playbackMetadata(e):{})})},t.keyboardEvent=function(e,t,n){return b(e,t,n,{record:e=>Object.assign({key:e.key,keyCode:e.keyCode},f(e)),playback:e=>Object.assign({key:e.key,keyCode:e.keyCode},k(e),g)})},t.propagatingKeyboardEvent=function(e,t,n){return b(e,t,n,{record(e){const t=e.event;return Object.assign({key:t.key,keyCode:t.keyCode},f(t))},playback:e=>({event:Object.assign({key:e.key,keyCode:e.keyCode},k(e),g),accept:()=>null})})},t.changeEvent=function(e,t,n){return b(e,t,n,{record:e=>"checkbox"===e.currentTarget.type?{checked:e.currentTarget.checked}:{value:e.currentTarget.value},playback(e){const t={value:e.value,checked:e.checked};return Object.assign({target:t,currentTarget:t},g)}})},t.submitEvent=function(e,t,n){return b(e,t,n,{record:e=>({}),playback:e=>Object.assign({},g)})},t.focusEvent=function(e,t,n){return b(e,t,n,{record:e=>({}),playback:e=>({})})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(34,1   ),i=t(140           ),r=t(0                    ),o=t(141     ),l=t(143              );s.rawSvgSrc=function(e){return{src:e,id:null}};const a=Object.create(null);class c extends l.PureComponent{constructor(){super(...arguments),this.onClick=l.mouseEvent(this,"click",e=>{this.props.onClick(e)}),this.onMouseDown=l.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e=this.props.svg;if(!e)return null;let s=e.src,t=Object.assign({},this.props);delete t.svg,delete t.useOriginalSrcFills,delete t.useAsBackground,delete t.recordingKey,this.props.onClick&&this.props.recordingKey&&(t.onClick=this.onClick),this.props.onMouseDown&&this.props.recordingKey&&(t.onMouseDown=this.onMouseDown);let l=!(!e.id||this.props.useOriginalSrcFills||this.props.useAsBackground);i.mac||(l=!1);const c=r.initialOptions().feature_flags;if(c&&c.disable_custom_icon_font&&(l=!1),l=l&&(o.chrome||o.firefox||o.safari)){let s={};return o.firefox&&(s.lineHeight="1em"),this.props.href?n.createElement("a",Object.assign({},t),n.createElement("span",{className:`svg ${e.id}`,style:s})):n.createElement("span",Object.assign({},t),n.createElement("span",{className:`svg ${e.id}`,style:s}))}{let e=this.props.useOriginalSrcFills?"":"svg-container";return this.props.className&&(e+=` ${this.props.className}`),s=s.replace("<svg ",'<svg class="svg" '),this.props.href?n.createElement("a",Object.assign({dangerouslySetInnerHTML:{__html:s}},t,{className:e})):this.props.useAsBackground?n.createElement("span",Object.assign({},t),n.createElement("span",{style:function(e){if(!a[e]){let s=`data:image/svg+xml;utf8,${e}`.replace(/\n/g," ").replace(/'/g,"\\'"),t=/width\s*=\s*['"](.*?)['"]/.exec(e),n=/height\s*=\s*['"](.*?)['"]/.exec(e);if(!t||!n)throw new Error("No width or height specified in svg src");a[e]={background:`url('${s}')`,display:"inline-block",width:`${t[1]}px`,height:`${n[1]}px`}}return a[e]}(s)})):n.createElement("span",Object.assign({dangerouslySetInnerHTML:{__html:s}},t,{className:e}))}}}c.displayName="Svg",s.Svg=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,i){n.exports={root:"loading_spinner--root--18y7u",rotate:"loading_spinner--rotate--qgb8P",svgContainer:"loading_spinner--svgContainer--20WMO",blueSpinner:"loading_spinner--blueSpinner--1UrbW loading_spinner--root--18y7u",loadingSpinner:"loading_spinner--loadingSpinner--2Bdf-"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,s,o){t.exports={id:"gf5aa5fd0",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M1 7c0-3.314 2.686-6 6-6 1.679 0 3.196.689 4.286 1.8L12 2.102C10.73.805 8.959 0 7 0 3.134 0 0 3.134 0 7h1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=s(34,1   ),r=s(145                    ),t=s(144                        ),o=s(146                           );class i extends a.Component{render(){return a.createElement("span",{className:`${r.root} ${this.props.className||""}`},a.createElement(t.Svg,{svg:o,className:r.svgContainer}))}}i.displayName="LoadingSpinner",n.LoadingSpinner=i;class p extends a.PureComponent{render(){return a.createElement(i,{className:`${r.blueSpinner} ${this.props.className||""}`})}}p.displayName="BlueLoadingSpinner",n.BlueLoadingSpinner=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){e.exports={base:"visual_bell--base--1xST5",interactive:"visual_bell--interactive--2rWMO",messageContainer:"visual_bell--messageContainer--3tSMR _overlayBase--_overlayBase--1sCqN text--whiteTitleText--2yF_5 text--titleText--10C29 text--_whiteText--2PkdM",shown:"visual_bell--shown--1fe5g",error:"visual_bell--error--32-jv",icon:"visual_bell--icon--ajLA7",message:"visual_bell--message--2RwJy",button:"visual_bell--button--12MWc"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:"g09265f06",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M14.442 4.442L6.5 12.384 2.558 8.442l.884-.884L6.5 10.616l7.058-7.058.884.884z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g8549a429",src:'<svg width="6" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2 0h2v8H2V0zm1 12.25c.69 0 1.25-.56 1.25-1.25 0-.69-.56-1.25-1.25-1.25-.69 0-1.25.56-1.25 1.25 0 .69.56 1.25 1.25 1.25z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),i=s(138                                              ),l=s(139                                    ),n=s(144                        ),r=s(147                                        ),o=s(148                ),u=s(149                                ),h=s(150                                    ),d=a.createElement(n.Svg,{svg:u,style:{display:"block",transform:"translateY(-1px)"}}),c=a.createElement(n.Svg,{svg:h}),m=.5,p=400,v=1e3,T=4e3,D="undefined"!=typeof performance?performance.now.bind(performance):Date.now.bind(Date);class g extends a.PureComponent{constructor(e){super(e),this.onMouseEnter=(e=>{null!==this.state.hideTimer&&(this.setState({hideTimer:null}),clearTimeout(this.state.hideTimer))}),this.onMouseLeave=(e=>{if(this.state.currentData){const e=this.calcTimeout(this.state.currentData,this.props.visualBell.length);this.setState({hideTimer:this.startHideTimer(e)})}}),this.dismiss=(()=>{this.setState({hideTimer:null}),this.props.dispatch(i.visualBell.dequeue({}))}),this.state={hideTimer:null,hideStartTime:0,displayedData:this.props.visualBell[0]||null,currentData:this.props.visualBell[0]||null}}startHideTimer(e){if(e===1/0)return null;var t=setTimeout(()=>{this.props.dispatch(i.visualBell.dequeue({})),this.state.hideTimer===t&&this.setState({hideTimer:null})},Math.max(p,e));return t}calcTimeout(e,t){let s=Math.max(e.timeout||0,0)||(e.button?T:v);return t>1&&(s*=Math.pow(m,t-1)),s}UNSAFE_componentWillReceiveProps(e){const t=e.visualBell,s=t[0]||null;if(this.state.currentData!==s){clearTimeout(this.state.hideTimer);const e=s?this.startHideTimer(this.calcTimeout(s,t.length)):null;this.setState({currentData:s,displayedData:s||this.state.displayedData,hideTimer:e,hideStartTime:D()})}else if(t!==this.props.visualBell&&this.state.currentData){let e=D()-this.state.hideStartTime,s=this.calcTimeout(this.state.currentData,t.length)-e;clearTimeout(this.state.hideTimer),s<20?(this.setState({hideTimer:null}),this.props.dispatch(i.visualBell.dequeue({}))):this.setState({hideTimer:this.startHideTimer(s)})}}render(){const e=this.state.currentData;let t="",s="";e&&e.button&&(t+=` ${o.interactive}`),e&&(s=o.shown),this.state.displayedData&&this.state.displayedData.error&&(s+=` ${o.error}`);const i=this.state.displayedData&&this.state.displayedData.icon||l.VisualBellIcon.NONE;let n=null;return i===l.VisualBellIcon.SPINNER?n=a.createElement(r.LoadingSpinner,null):i===l.VisualBellIcon.CHECK?n=d:i===l.VisualBellIcon.EXCLAMATION&&(n=c),a.createElement("div",{className:`${o.base} ${t}`},a.createElement("div",{className:`${o.messageContainer} ${s}`,onMouseEnter:e&&e.button?this.onMouseEnter:null,onMouseLeave:e&&e.button?this.onMouseLeave:null,onClick:this.dismiss},n&&a.createElement("span",{className:o.icon},n),this.state.displayedData&&a.createElement("span",{className:o.message},this.state.displayedData.message),this.state.displayedData&&this.state.displayedData.button&&a.createElement("button",{onClick:this.state.displayedData.button.action,className:o.button},this.state.displayedData.button.text)))}}g.displayName="VisualBellView",t.VisualBellView=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.visualBellMiddleware=(e=>e=>(function(t){return e(t)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=i(138                             );e.visualBellActions=a.visualBell;var s=i(151                          );e.VisualBellView=s.VisualBellView;var t=i(152                                );e.visualBellMiddleware=t.visualBellMiddleware,l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(86                  );!function(e){e.toggleFullScreen=o.actionCreator("WINDOW_TOGGLE_FULL_SCREEN"),e.enterFullScreen=o.actionCreator("WINDOW_ENTER_FULL_SCREEN"),e.exitFullScreen=o.actionCreator("WINDOW_EXIT_FULL_SCREEN"),e.didEnterFullScreen=o.actionCreator("WINDOW_DID_ENTER_FULL_SCREEN"),e.didExitFullScreen=o.actionCreator("WINDOW_DID_EXIT_FULL_SCREEN")}(t.appWindow||(t.appWindow={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(86                  );!function(t){t.put=r.actionCreator("ORGS_PUT"),t.switchActiveOrg=r.actionCreator("ORGS_SWITCH_ACTIVE_ORG"),t.selectViewAndLoadItsResources=r.actionCreator("ORGS_SELECT_VIEW"),t.selectAdminView=r.actionCreator("ORGS_SELECTED_ADMIN_VIEW"),t.setCurrentOrgId=r.actionCreator("ORGS_SET_ORG_ID"),t.sortTeamsBy=r.actionCreator("ORGS_SORT_TEAMS_BY"),t.resetDashboard=r.actionCreator("ORGS_RESET_DASHBOARD")}(e.orgs||(e.orgs={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(86                  );!function(e){e.updateTeamRoleRequests=s.actionCreator("ORGS_UPDATE_TEAM_ROLE_REQUESTS")}(t.teamRoleRequests||(t.teamRoleRequests={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t,e){var n,r,o=[],f=Math.min;if(!t||!e)return(e||t).length;for(n=0;n<=e.length;o[n]=[n++]);for(r=0;r<=t.length;o[0][r]=r++);for(n=1;n<=e.length;n++)for(r=1;r<=t.length;r++)o[n][r]=e.charAt(n-1)==t.charAt(r-1)?o[n-1][r-1]:o[n][r]=f(o[n-1][r-1]+1,f(o[n][r-1]+1,o[n-1][r]+1));return o[e.length][t.length]},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=e(157              );a.isEmail=function(o){return/^[^<>\/\\:?*"|]*$/.test(o)&&/^[\u0000-\u007F]+$/.test(o)&&/^[^@\s]+@[^@\s]+\.[^@\s]+$/i.test(o)},a.parseEmails=function(o){let a=[],e=o.split(/[,\n]/g);for(let t of e){let o=t.match(/^.*<(.*)>$/);o&&(t=o[1]),(t=t.trim())&&a.push(t)}return a};var i=["gmail.com","googlemail.com","google.com","hotmail.com","outlook.com","msn.com","live.com","windowslive.com","hotmail.be","hotmail.ca","hotmail.ch","hotmail.cl","hotmail.co","hotmail.co.il","hotmail.co.jp","hotmail.co.kr","hotmail.co.nz","hotmail.co.th","hotmail.co.uk","hotmail.co.za","hotmail.com","hotmail.com.ar","hotmail.com.au","hotmail.com.br","hotmail.com.hk","hotmail.com.in","hotmail.com.tw","hotmail.cz","hotmail.de","hotmail.dk","hotmail.dr","hotmail.es","hotmail.fi","hotmail.fr","hotmail.gr","hotmail.hu","hotmail.it","hotmail.lv","hotmail.my","hotmail.nl","hotmail.no","hotmail.ph","hotmail.rs","hotmail.se","hotmail.sg","hotmail.sk","live.at","live.be","live.ca","live.cl","live.cn","live.co.in","live.co.jp","live.co.kr","live.co.uk","live.co.za","live.com","live.com.ar","live.com.au","live.com.mx","live.com.my","live.com.pe","live.com.ph","live.com.pk","live.com.pt","live.com.sg","live.com.ve","live.de","live.dk","live.fi","live.fr","live.ie","live.in","live.it","live.jp","live.nl","live.no","live.ru","live.se","livemail.com.br","livemail.com.tw","yahoo.com","yahoo.com.ar","yahoo.com.au","yahoo.at","yahoo.nl","yahoo.be","yahoo.fr","yahoo.com.br","yahoo.ca","yahoo.en","yahoo.com.cn","yahoo.cn","yahoo.cz","yahoo.dk","yahoo.fi","yahoo.de","yahoo.gr","yahoo.com.hk","yahoo.hu","yahoo.co.in","yahoo.in","yahoo.co.id","yahoo.ie","yahoo.co.il","yahoo.it","yahoo.co.kr","yahoo.com.my","yahoo.com.mx","yahoo.ae","yahoo.co.nz","yahoo.no","yahoo.com.ph","yahoo.pl","yahoo.pt","yahoo.ro","yahoo.ru","yahoo.com.sg","yahoo.co.za","yahoo.es","yahoo.se","yahoo.ch","yahoo.com.tw","yahoo.co.th","yahoo.com.tr","yahoo.co.uk","yahoo.com.vn","att.yahoo.com","ameritech.net","att.net","bellsouth.net","btinternet.com","btopenworld.com","flash.net","y7mail.com","sbcyahoo.net","talk21.com","swbell.net","kimo.com","nvbell.net","prodigy.net","sbcglobal.net","ymail.com","rocketmail.com","wans.net","xtra.co.nz","pacbell.net","snet.net","worldnet.att.net","frontier.com","yahoo.co.jp","aol.com","aim.com","cs.com","netscape.com","orange.fr","wanadoo.co.uk","wanadoo.fr","freeserve.co.uk","orangehome.co.uk","mail.ru","inbox.ru","list.ru","bk.ru","optimum.net","optonline.net","comcast.com","comcast.net","rr.com","roadrunner.com","gmx.com","gmx.net","gmx.ch","gmx.de","gmx.at","icloud.com","mac.com","me.com","libero.it","web.de","seznam.cz","email.cz","o2.com","o2.pl","o2online.de","o2.co.uk","o2mail.de","free.fr","126.com","163.com","yandex.ru","narod.ru","ya.ru","yandex.com","yandex.ua","autorambler.ru","lenta.ru","myrambler.ru","rambler.ru","ro.ru","r0.ru","rediff.com","alice.it","telecomitalia.it","tim.it","virgilio.it","qq.com","freenet.de","verizon.com","verizon.net","sfr.fr","club-internet.fr","neuf.fr","9business.fr","9online.fr","cegetel.net","clearnet.co.nz","earthlink.net","peoplepc.com","cox.net","qip.ru","pochta.ru","pochta.com","fromru.com","front.ru","hotbox.ru","hotmail.ru","krovatka.su","land.ru.","mail15.com","mail333.com","newmail.ru","nightmail.ru","nm.ru","pisem.net","pochtamt.ru","pop3.ru","rbcmail.ru","smtp.ru","5ballov.ru","aeterna.ru","ziza.ru","memori.ru","photofile.ru","fotoplenka.ru","talktalk.co.uk","talktalk.net","tiscali.co.uk","telefonica.net","movistar.es","ig.com.br","ibest.com.br","naver.com","wp.pl"],m={};i.forEach(o=>m[o]=!0),a.spellcheckDomain=function(o){if(o in m)return null;for(let a of i)if(1===t.default(o,a))return a;return null},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(80,1    ),s=a(158        );function n(){const e=new Date;return{today:i(e).format("YYYY-MM-DD"),thirtyDaysAgo:i(e).subtract(30,"days").format("YYYY-MM-DD")}}function d(e){const t=(e||"").trim();return t&&!s.isEmail(t)?{message:"The email is invalid",field:"email"}:{message:null,field:null}}function r(e){const t=i(e.start),a=i(e.end);if(!t.isValid())return{message:"The start date is invalid",field:"startDate"};if(!a.isValid())return{message:"The end date is invalid",field:"endDate"};if(t.diff(a,"days")>0)return{message:"The start date cannot be greater than the end date",field:"startDate"};const{today:s,thirtyDaysAgo:d}=n();return t.diff(s,"days")>0||t.diff(d,"days")<0?{message:"The start date is out of the thirty day range",field:"startDate"}:a.diff(s,"days")>0?{message:"The end date is out of the thirty day range",field:"endDate"}:{message:null,field:null}}t.getThirtyDayEndPoints=n,t.getEndOfDate=function(e){return i(e).add(1,"day").subtract(1,"second").format()},t.validateEmailFilter=d,t.validateDateFilter=r,t.validateFilters=function(e,t){const a=d(t);return a.message?a:r(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getTeamParentOrgId=function(e,t){const n=t.teams[e];if(n&&n.org_id)return n.org_id},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(160                  );t.isFolderEmpty=function(e,t){return t.fileKeysByFolderId[e]&&0===t.fileKeysByFolderId[e].length},t.getFolderParentOrgId=function(e,t){const r=t.folders[e];return r&&r.org_id?r.org_id:r&&r.team_id?o.getTeamParentOrgId(r.team_id,t):void 0},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkAccess={EDIT:"edit",VIEW:"view",ORG_EDIT:"org_edit",ORG_VIEW:"org_view",INHERIT:"inherit"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(232                        ),i=t(57,1   ),n=t(126                     );function l(e,r){return Object.keys(e).reduce((t,o)=>(e[o][r]&&(t[o]=e[o][r]),t),{})}function s(e){return e.pending?`pending-${e.id}`:e.user_id}function d(e,r={},t){let i=t.payload&&t.payload.role;if(i&&i.resource_type===e){let e=i.resource_id_or_key,n=function(e={},r){let t=r.payload.role;switch(r.type){case o.role.POST:case o.role.PUT:{let r,o=Object.assign({},e);for(let i in e){let n=e[i];if(t.pending&&n.pending&&t.user.email&&t.user.email===n.user.email){r=o[i].created_at,delete o[i];break}if(!t.pending&&n.pending&&t.id===n.id){r=o[i].created_at,delete o[i];break}}return o[s(t)]=Object.assign({},e[s(t)],t,r?{created_at:r}:null),o}case o.role.DELETE:if(s(t)in e){let r=Object.assign({},e);return delete r[s(t)],r}}return e}(r[e]||{},t);if(n!==r[e]){const t=Object.assign({},r);return 0===Object.keys(n).length?delete t[e]:t[e]=n,t}}return r}function y(e,r){switch(r){case n.ResourceType.FILE:return e.byFileKey;case n.ResourceType.FOLDER:return e.byFolderId;case n.ResourceType.TEAM:return e.byTeamId}}r.filterRolesByUserId=l,r.getUserRolesFromRoles=function(e,r){return{byFileKey:l(e.byFileKey,r),byFolderId:l(e.byFolderId,r),byTeamId:l(e.byTeamId,r)}},r.roleUserId=s,r.getRolesByResource=y;const c=i.combineReducers({byFileKey:d.bind(void 0,n.ResourceType.FILE),byFolderId:d.bind(void 0,n.ResourceType.FOLDER),byTeamId:d.bind(void 0,n.ResourceType.TEAM)});r.roles=function(e,r){if(!e)return{byFileKey:{},byFolderId:{},byTeamId:{}};if(o.fileBrowser.hydrate.matches(r)){let e={byFileKey:{},byFolderId:{},byTeamId:{}};for(let t of r.payload.roles||[]){let r=y(e,t.resource_type);t.resource_id_or_key in r||(r[t.resource_id_or_key]={}),r[t.resource_id_or_key][s(t)]=t}for(let t of r.payload.files||[])null==e.byFileKey[t.key]&&(e.byFileKey[t.key]={});return e}return c(e,r)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTeamFile=function(e,t){let r=t.folders[e.folder_id];return!(!r||!r.team_id)},t.getFileTeamId=function(e,t){let r=t.folders[e.folder_id];return r&&r.team_id},t.isTeamFolder=function(e){return!!e.team_id},t.getFolderTeamId=function(e){return e.team_id},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createReducerWithPrecheck=function(e,t){const n=e.bind(null);return n.shouldIgnoreAction=t.shouldIgnoreAction,n},t.reduceObject=function(e,t,n){if(n.shouldIgnoreAction(t))return e;let o=null;for(let r of Object.keys(e)){let u=r,l=n(e[u],t);e[u]!==l&&null===o&&(o=Object.assign({},e)),o&&(o[u]=l)}return o||e},t.reduceList=function(e,t,n){if(n.shouldIgnoreAction(t))return e;let o=null;for(let r=0;r<e.length;r++){let u=n(e[r],t);e[r]!==u&&null===o&&(o=e.slice(0,r)),o&&o.push(u)}return o||e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=t(232                        ),n=t(164                              ),o=t(165                                 ),s=t(126                     );function l(e){return e.name||"Drafts"}function d(e,a,t){const r=t.byFolderId[e.id],n=(r?Object.keys(r).map(e=>r[e]):[]).find(e=>e.level===s.PermissionLevel.OWNER);return{folderId:e.id,folderName:l(e),teamName:a[e.team_id]?a[e.team_id].name:"",ownerHandle:n?n.user.handle:""}}function i(e){return e.settings&&e.settings.webhooks&&e.settings.webhooks[Object.keys(e.settings.webhooks)[0]]}function c(e,t){if(!e)return{};if(r.fileBrowser.hydrate.matches(t)){let e={};for(let a of t.payload.folders||[])e[a.id]=Object.assign({},a,{appData:{}});return e}if(r.team.resourceDelete.matches(t)){const a=Object.assign({},e);return t.payload.folderIds.forEach(e=>{e in a&&delete a[e]}),a}switch(t.type){case r.folder.POST:let n=t.payload.folder;return Object.assign({},e,{[n.id]:n});case r.folder.DELETE:let s=Object.assign({},e);return delete s[t.payload.folder.id],s;default:return o.reduceObject(e,t,a.folder)}}a.isADraftsFolder=function(e,a){let t=e[a];return t&&""===t.path&&!n.isTeamFolder(t)},a.getUserDefaultFolder=function(e,a,t,r,o){for(let l in e){let d=e[l],i=t.byFolderId[l],c=i?i[r.id]:null;if(a){const e=r&&o[a]&&o[a][r.id];if(e&&e.drafts_folder_id===d.id)return d}else if(!n.isTeamFolder(d)&&""===d.path&&null==d.org_id&&c&&c.level===s.PermissionLevel.OWNER)return d}throw new Error("User has no default folder")},a.isOrphanedOrgFolder=function(e,a){let t=e[a];return!n.isTeamFolder(t)&&""!==t.path&&!!t.org_id},a.getFolderName=l,a.getFolderNameDisambiguator=function(e,a,t,r){a=a.filter(a=>a.id!==e.id);const n=d(e,t,r),o=a.map(e=>d(e,t,r)).filter(e=>e.folderName===n.folderName);if(0===o.length)return;const s=o.filter(e=>e.teamName===n.teamName);if(n.teamName&&0===s.length)return n.teamName;const l=s.filter(e=>e.ownerHandle===n.ownerHandle);return n.ownerHandle&&0===l.length?n.ownerHandle:void 0},a.getWebhookUrl=function(e){return`/slack/folder_webhook/${e.id}`},a.getSlackChannelName=function(e){let a=i(e);return a&&a.incoming_webhook&&a.incoming_webhook.channel},a.getSlackTeamName=function(e){let a=i(e);return a&&a.team_name},a.getLastUpdatedTime=function(e,a,t){return a[e.id].filter(e=>e in t).map(e=>new Date(t[e].touched_at)).reduce((e,a)=>e>a?e:a,new Date(e.updated_at))},a.canAccessFolder=function(e,a){return a in e},a.folders=c,a.folder=o.createReducerWithPrecheck(function(e=null,a){if(!a.payload||!e||e.id!==a.payload.folderId)return e;switch(a.type){case r.folder.INIT_SUBSCRIBERS:return Object.assign({},e,{appData:Object.assign({},e.appData,{subscribers:a.payload.subscribers})});case r.folder.POST_SUBSCRIBER:case r.folder.DELETE_SUBSCRIBER:{if(!e.appData||!e.appData.subscribers)return e;let t=Array.from(e.appData&&e.appData.subscribers||[]),n=-1;for(let e=0;e<t.length;++e)if(t[e].id===a.payload.userId){n=e;break}return a.type===r.folder.POST_SUBSCRIBER?-1===n&&(t=[a.payload.user].concat(t)):-1!==n&&t.splice(n,1),Object.assign({},e,{appData:Object.assign({},e.appData,{subscribers:t})})}case r.folder.PUT:return Object.assign({},e,a.payload.folder);case r.folder.MOVE:return Object.assign({},e,{team_id:a.payload.teamId});case r.folder.RENAME:let t=Object.assign({},e);return t.name=a.payload.folderName,t.path=t.parent_path?`${t.parent_path}/${t.name}`:t.name,t;case r.folder.UPDATE_FOLDER_ACCESS:return Object.assign({},e,{is_view_only:a.payload.isViewOnly,is_invite_only:a.payload.isInviteOnly});case r.folder.FETCHED_ROLES:return Object.assign({},e,{appData:Object.assign({},e.appData,{fetchedRoles:!0})});default:return e}},{shouldIgnoreAction(e){switch(e.type){case r.folder.INIT_SUBSCRIBERS:case r.folder.POST_SUBSCRIBER:case r.folder.DELETE_SUBSCRIBER:case r.folder.PUT:case r.folder.MOVE:case r.folder.RENAME:case r.folder.UPDATE_FOLDER_ACCESS:case r.folder.FETCHED_ROLES:return!1}return!0}}),a.default=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.OrgUserAccountType={FULL:"full",RESTRICTED:"restricted",STARTER:"starter"},r.OrgUserAccountTypeDisplayText={full:"Full",restricted:"Restricted",starter:"Starter"},r.OrgPermissionType={GUEST:"guest",MEMBER:"member",ADMIN:"admin"},r.OrgPermissionTypeDisplayText={guest:"Guest",member:"Member",admin:"Admin"},function(e){e[e.GUEST=0]="GUEST",e[e.MEMBER=2]="MEMBER",e[e.ADMIN=3]="ADMIN"}(r.OrgUserPermissionLevel||(r.OrgUserPermissionLevel={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrgStanding={GOOD:"GOOD",DELINQUENT:"DELINQUENT",SUSPENDED:"SUSPENDED"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,_){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Restrictions={LOCKED:"locked",EDITORS_LIMITED:"editors_limited",PROJECTS_LIMITED:"projects_limited",EDITORS_AND_PROJECTS_LIMITED:"editors_limited,projects_limited"},t.Subscription={OK:"ok",PAST_DUE:"past_due",GRACE_PERIOD:"grace_period",NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED:"no_monthly_sub_editor_count_exceeded"},t.OrgAccess={PUBLIC:"public",PRIVATE:"private",SECRET:"secret"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isStudent=(t=>!!t.student_validated_at),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(96         ),n=t(167                        );r.getOrgUsersForUser=function(e,r){return Object.keys(e).reduce((t,s)=>(e[s][r]&&t.push(e[s][r]),t),[])},r.getContactableAdmins=function(e){const r=Object.keys(e).reduce((r,t)=>(e[t].permission===n.OrgPermissionType.ADMIN&&r.push(e[t]),r),[]);return s.sortAlphabeticallyByProperty(r,"created_at"),r.slice(0,3)},r.getOrgUserForId=function(e={},r){for(let t in e){const s=e[t];if(s.id===r)return s}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(173                        ),i=t(166                         ),n=t(167                        ),o=t(168                    ),a=t(169                     ),c=t(170          ),d=t(171          ),_=t(173            );r.MAX_FREE_EDITORS=2,r.MAX_FREE_FOLDERS=3,r.FREE_VERSION_HISTORY_MAX_DAYS=30,r.MAX_ANNUAL_SUBSCRIPTIONS=500,r.MAX_DISABLED_VERSIONS=5,r.MONTHLY_EDITOR_COST=1500,r.ANNUAL_EDITOR_COST=1200,r.ANNUAL_ORGANIZATION_MEMBER_COST=4500,r.isTeamPro=(e=>null!=e.subscription),r.canShowProUpgradeLink=((e,t)=>e&&!r.isTeamPro(e)&&e.restrictions!==a.Restrictions.LOCKED&&_.canEditTeam(e.id,t)),r.canShowOrgUpgradeLink=((e,t)=>{const i=d.getOrgUsersForUser(t.orgUsersByOrgId.orgUsers,t.user.id).filter(e=>e.permission!==n.OrgPermissionType.GUEST).length;return e&&r.isTeamPro(e)&&e.restrictions!==a.Restrictions.LOCKED&&s.canAdminTeam(e.id,t)&&!e.org_id&&!t.user.student_validated_at&&0===i}),r.isFileEditingLockedForUser=((e,t)=>{if(e.team_id&&r.isTeamLockedForUser(e.team_id,t))return!0;const s=t.folders[e.folder_id];return!!s&&r.isFolderEditingLockedForUser(s,t)}),r.isFolderEditingLockedForUser=((e,t)=>{if(!e.team_id&&!i.isADraftsFolder(t.folders,e.id))return!0;if(e.team_id){if(r.isTeamLockedForUser(e.team_id,t))return!0;if(!r.canAccessProFeature(t.teams[e.team_id])&&(e.is_invite_only||e.is_view_only))return!0}return!1}),r.isTeamLockedForUser=((e,r)=>{const t=r.teams[e];return!!t&&(t.student_team?!c.isStudent(r.user):t.restrictions===a.Restrictions.LOCKED)}),r.isTeamAtEditorLimit=((e,r)=>{const t=r.teams[e];return t&&(t.restrictions===a.Restrictions.EDITORS_LIMITED||t.restrictions===a.Restrictions.EDITORS_AND_PROJECTS_LIMITED)}),r.isTeamAtFolderLimit=((e,r)=>{const t=r.teams[e];return t&&(t.restrictions===a.Restrictions.PROJECTS_LIMITED||t.restrictions===a.Restrictions.EDITORS_AND_PROJECTS_LIMITED)}),r.isOrgDelinquent=((e,r)=>{const t=r.orgById[e];return t&&t.standing===o.OrgStanding.DELINQUENT}),r.isOrgSuspended=((e,r)=>{const t=r.orgById[e];return t&&t.standing===o.OrgStanding.SUSPENDED}),r.shouldRestrictProFeature=(e=>!r.canAccessProFeature(e)),r.canAccessProFeature=(e=>!!e&&(r.isTeamPro(e)||e.student_team)),r.getLocale=(()=>{if(navigator){const e=navigator.languages;if(e&&e[0])return e[0];const r=navigator.language;if(r)return r}return"en-US"}),r.formatMoney=((e,t,s,i)=>{s=s||r.getLocale();const n={currency:i=i||"USD",style:"currency"};return t&&(n.minimumFractionDigits=0),(.01*Number(e)).toLocaleString(s,n)}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(161                    ),n=s(160                  ),o=s(162                    ),t=s(163                       ),c=s(172                     ),u=s(169                     ),l=s(167                        ),d=s(126                     );function a(e,r){switch(e.resource_type){case d.ResourceType.FILE:return r.fileByKey[e.resource_id_or_key];case d.ResourceType.FOLDER:return r.folders[e.resource_id_or_key];case d.ResourceType.TEAM:return r.teams[e.resource_id_or_key]}}function f(e,r){for(let s of e)if(s.level>=r)return!0;return!1}function y(e,r){const s=r.user&&r.user.id;let i=r.roles;return e in i.byTeamId&&s in i.byTeamId[e]?[i.byTeamId[e][s]]:[]}function m(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFolderId&&s in n.byFolderId[e]&&i.push(n.byFolderId[e][s]);let o=r.folders[e];return o&&o.team_id&&!o.is_invite_only&&(i=i.concat(y(o.team_id,r))),i}function _(e,r){const s=r.user&&r.user.id;let i=[],n=r.roles;e in n.byFileKey&&s in n.byFileKey[e]&&i.push(n.byFileKey[e][s]);let o=r.fileByKey[e];return o&&o.folder_id&&(i=i.concat(m(o.folder_id,r))),i}function E(e,r,s){const i=s.teams[e];if(!i)return!1;const o=f(y(i.id,s),r),t=n.getTeamParentOrgId(i.id,s);return!(M(s.user&&s.orgUsersByOrgId.orgUsers[t]&&s.orgUsersByOrgId.orgUsers[t][s.user.id])&&r>d.PermissionLevel.VIEWER)&&(t?o&&D(t,s):o)}function g(e,r,s){let n;const o=s.user&&s.user.id,t=s.folders[e];if(!o||!t)return!1;const c=i.getFolderParentOrgId(t.id,s);if(c&&!D(c,s))return!1;const u=s.orgUsersByOrgId.orgUsers[c]&&s.orgUsersByOrgId.orgUsers[c][o];if(M(u)&&u.drafts_folder_id!==t.id&&r>d.PermissionLevel.VIEWER)return!1;const l=m(e,s);return l.forEach(e=>{e.resource_type===d.ResourceType.FOLDER&&(n=e)}),t.team_id?t.is_invite_only?!!n&&n.level>=r:t.is_view_only&&r>=d.PermissionLevel.EDITOR?!!n&&n.level>=r:f(l,r):n&&n.level>=r}function R(e,r,s,i){const n=s.user&&s.user.id;let t,c,u;const l=s.fileByKey[e];return!!l&&(!F(l,s,r)&&(!i&&(l.link_access===o.LinkAccess.EDIT||l.link_access===o.LinkAccess.VIEW)&&r<=d.PermissionLevel.VIEWER||!!n&&(!i&&l.link_access===o.LinkAccess.EDIT&&r<=d.PermissionLevel.EDITOR||!(l.parent_org_id&&!D(l.parent_org_id,s))&&(!(i||!l.parent_org_id||l.link_access!==o.LinkAccess.ORG_EDIT&&l.link_access!==o.LinkAccess.ORG_VIEW||!(r<=d.PermissionLevel.VIEWER||r<=d.PermissionLevel.EDITOR&&l.link_access===o.LinkAccess.ORG_EDIT)||!U(l.parent_org_id,s))||(_(e,s).forEach(e=>{switch(e.resource_type){case d.ResourceType.FILE:e.level>=r&&(t=e);break;case d.ResourceType.FOLDER:e.level>=r&&(c=e);break;case d.ResourceType.TEAM:e.level>=r&&(u=e)}}),!(!t&&!c)||!!u&&(!l.folder_id||g(l.folder_id,r,s)))))))}function T(e,r,s){return R(e,d.PermissionLevel.VIEWER,r,s)}function p(e,r,s){const i=r.fileByKey[e];return!!i&&(!(!s&&c.isFileEditingLockedForUser(i,r))&&R(e,d.PermissionLevel.EDITOR,r))}function I(e,r){return g(e,d.PermissionLevel.VIEWER,r)}function O(e,r){return g(e,d.PermissionLevel.EDITOR,r)}function v(e,r){return E(e,d.PermissionLevel.VIEWER,r)}function L(e,r){return E(e,d.PermissionLevel.EDITOR,r)}function P(e,r){return E(e,d.PermissionLevel.ADMIN,r)}function F(e,r,s){const i=r.user&&r.orgUsersByOrgId.orgUsers[e.parent_org_id]&&r.orgUsersByOrgId.orgUsers[e.parent_org_id][r.user.id];return!!i&&(i.drafts_folder_id!==e.folder_id&&(!!(M(i)&&s>d.PermissionLevel.VIEWER)||!!(M(r.orgDraftsOwners[e.folder_id])&&s>d.PermissionLevel.VIEW_METADATA)))}function A(e,r,s){switch(e){case d.ResourceType.FILE:return p(r,s);case d.ResourceType.FOLDER:return O(r,s);case d.ResourceType.TEAM:return L(r,s)}}function h(e,r,s){return e===d.ResourceType.TEAM&&P(r,s)}function D(e,r){return b(e,l.OrgUserPermissionLevel.GUEST,r)}function U(e,r){return b(e,l.OrgUserPermissionLevel.MEMBER,r)}function b(e,r,s){const i=s.user&&s.user.id,n=s.orgById[e],o=s.orgUsersByOrgId.orgUsers[e]&&s.orgUsersByOrgId.orgUsers[e][i];return!!(n&&i&&o)&&function(e){switch(e){case l.OrgPermissionType.GUEST:return l.OrgUserPermissionLevel.GUEST;case l.OrgPermissionType.MEMBER:return l.OrgUserPermissionLevel.MEMBER;case l.OrgPermissionType.ADMIN:return l.OrgUserPermissionLevel.ADMIN}}(o.permission)>=r}function M(e){return e&&e.account_type===l.OrgUserAccountType.RESTRICTED}r.getPermissionsState=function(e){return{user:e.user,fileByKey:e.fileByKey,folders:e.folders,teams:e.teams,roles:e.roles,orgById:e.orgById,orgDraftsOwners:e.orgDraftsOwners,orgUsersByOrgId:e.orgUsersByOrgId}},r.getResource=a,r.getResourceTeamId=function(e,r){switch(e.resource_type){case d.ResourceType.FILE:const s=r.fileByKey[e.resource_id_or_key];return s&&s.team_id;case d.ResourceType.FOLDER:const i=r.folders[e.resource_id_or_key];return i&&i.team_id;case d.ResourceType.TEAM:return e.resource_id_or_key}},r.getResourceName=function(e,r){let s=a(e,r);if(s)return s.name},r.idOrKey=function(e){return e.key||e.id},r.isOwnerOfResource=function(e,r,s){let i=t.getRolesByResource(s.roles,r.resource_type)[r.resource_id_or_key];return!!(i&&e in i)&&i[e].level===d.PermissionLevel.OWNER},r.hasMinRole=f,r.getRolesForUserAndFolder=m,r.getRolesForUserAndFile=_,r.getRolesForResource=function(e,r,s){switch(e){case d.ResourceType.FILE:return _(r,s);case d.ResourceType.FOLDER:return m(r,s);case d.ResourceType.TEAM:return y(r,s)}},r.hasImplicitOrExplicitRoleForFile=function(e,r,s){return R(e,r,s,!0)},r.canViewFileMetadata=function(e,r,s){return R(e,d.PermissionLevel.VIEW_METADATA,r,s)},r.canViewFile=T,r.canEditFile=p,r.canManageFile=function(e,r,s){const i=r.user.id;let n,o=!1;const t=r.fileByKey[e];if(!i||!t)return!1;if(F(t,r,d.PermissionLevel.EDITOR))return!1;if(t.parent_org_id&&!D(t.parent_org_id,r))return!1;if(null===t.folder_id)return!0;if(!s&&c.isFileEditingLockedForUser(t,r))return!1;const u=r.roles.byFileKey[e];u&&i in u&&(n=u[i].level>=d.PermissionLevel.OWNER);const l=r.roles.byFolderId[t.folder_id];return l&&i in l&&(o=l[i].level>=d.PermissionLevel.EDITOR),!!o||(t.team_id?!!L(t.team_id,r)&&O(t.folder_id,r):!(t.team_id||!n))},r.canViewFolder=I,r.canEditFolder=O,r.canOwnFolder=function(e,r){return g(e,d.PermissionLevel.OWNER,r)},r.canViewTeam=v,r.canEditTeam=L,r.canAdminTeam=P,r.canOwnTeam=function(e,r){return E(e,d.PermissionLevel.OWNER,r)},r.canEditResource=A,r.canViewResource=function(e,r,s){switch(e){case d.ResourceType.FILE:return T(r,s);case d.ResourceType.FOLDER:return I(r,s);case d.ResourceType.TEAM:return v(r,s)}},r.canEditRole=function(e,r){return e.level!==d.PermissionLevel.OWNER&&(e.level===d.PermissionLevel.ADMIN?h(e.resource_type,e.resource_id_or_key,r):A(e.resource_type,e.resource_id_or_key,r))},r.canMakeAdmin=h,r.canGuestOrg=D,r.canMemberOrg=U,r.canAdminOrg=function(e,r){return b(e,l.OrgUserPermissionLevel.ADMIN,r)},r.orgPermissionName=function(e){switch(e){case l.OrgPermissionType.GUEST:return"Guest";case l.OrgPermissionType.MEMBER:return"Member";case l.OrgPermissionType.ADMIN:return"Admin"}},r.getOrgAccountTypeString=function(e){switch(e){case l.OrgUserAccountType.FULL:return"Full";case l.OrgUserAccountType.STARTER:return"Starter";case l.OrgUserAccountType.RESTRICTED:return"Restricted"}},r.isOrgUserRestricted=M,r.orgAccessStrings={[u.OrgAccess.PUBLIC]:"Open",[u.OrgAccess.PRIVATE]:"Closed",[u.OrgAccess.SECRET]:"Secret"},r.levelName=function(e){switch(e){case d.PermissionLevel.OWNER:return"owner";case d.PermissionLevel.ADMIN:return"admin";case d.PermissionLevel.EDITOR:return"can edit";case d.PermissionLevel.VIEWER:return"can view";default:return"none"}},r.levelRoleName=function(e){switch(e){case d.PermissionLevel.OWNER:return"owner";case d.PermissionLevel.ADMIN:return"admin";case d.PermissionLevel.EDITOR:return"editor";case d.PermissionLevel.VIEWER:return"viewer";default:return""}},r.isFolderShared=function(e,r){let s=r.folders[e];return s&&s.team_id||Object.keys(r.roles.byFolderId[e]||{}).length>1},r.getTeamAdmins=function(e,r){const s=r.roles.byTeamId[e];if(!s)return[];const i=[];for(let n in s){const e=s[n];e.level>=d.PermissionLevel.ADMIN&&i.push(e.user)}return i},r.getReadOnlyOverrideMessage=function(e,r){if(e.level!==d.PermissionLevel.VIEWER)return null;if(e.resource_type===d.ResourceType.FILE){const s=r.fileByKey[e.resource_id_or_key];if(!s)return null;if(s.link_access===o.LinkAccess.EDIT)return"This person can still edit, because the file is set to allow editing by anybody with the link.";const i=r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id];if(i&&i.level>d.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the team the file is in.";const n=r.roles.byFolderId[s.folder_id]&&r.roles.byFolderId[s.folder_id][e.user_id];if(n&&n.level>d.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the project the file is in."}else if(e.resource_type===d.ResourceType.FOLDER){const s=r.folders[e.resource_id_or_key];if(!s)return null;const i=r.roles.byTeamId[s.team_id]&&r.roles.byTeamId[s.team_id][e.user_id];if(i&&i.level>d.PermissionLevel.VIEWER)return"This person can still edit, because they have edit permissions on the team the project is in."}return null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,o){"use strict";Object.defineProperty(l,"__esModule",{value:!0}),l.sessionStorageOrNull=null,l.localStorageOrNull=null;try{l.sessionStorageOrNull=window.sessionStorage}catch(t){}try{l.localStorageOrNull=window.localStorage}catch(t){}l.getLocalStorageOrNull=function(){return l.localStorageOrNull},l.getSessionStorageOrNull=function(){return l.sessionStorageOrNull},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=window.__figmaDesktop;!function(e){e[e.FOCAL_TAB=0]="FOCAL_TAB",e[e.BACKGROUND_TAB=1]="BACKGROUND_TAB",e[e.NEW_WINDOW=2]="NEW_WINDOW"}(s.OpenTarget||(s.OpenTarget={}));class i{getVersion(){return o.version}getInformationalVersion(){const e=navigator.userAgent.match(/Figma\/([^\s]+)/);return e&&2===e.length?e[1]:"dev"}isFileBrowserTab(){return o.fileBrowser}isFileTab(){return!o.fileBrowser}setMessageHandler(e){o.setMessageHandler(e)}getFonts(){return o.promiseMessage("getFonts")}getFontFile(e,s){return o.promiseMessage("getFontFile",{path:e,postscript:s}).then(e=>new Uint8Array(e))}getClipboardData(e){return o.promiseMessage("getClipboardData",{formats:e})}setClipboardData(e,s){o.postMessage("setClipboardData",{format:e,data:s})}newFile(e){o.postMessage("newFile",{info:e})}openFile(e,s,t){o.postMessage("openFile",{fileKey:e,title:s,target:t})}close(e){o.postMessage("close",{suppressReopening:e})}setTitle(e){o.postMessage("setTitle",{title:e})}setFileKey(e){o.postMessage("setFileKey",{fileKey:e})}setLoading(e){o.postMessage("setLoading",{loading:e})}setSaved(e){o.postMessage("setSaved",{saved:e})}setUser(e){this.isFileBrowserTab()&&this.getVersion()>=13&&o.postMessage("setUser",{id:e})}updateActionState(e){o.postMessage("updateActionState",{state:e})}showFileBrowser(){o.postMessage("showFileBrowser")}setIsPreloaded(){o.postMessage("setIsPreloaded")}supportsLocalFileExtensions(){return this.getVersion()>=14}createNewLocalFileExtension(){if(!this.supportsLocalFileExtensions())throw new Error("Desktop app too old");return this.supportsLocalFileExtensionsAPIV2()?this.createMultipleNewLocalFileExtensions({title:"Pick Extension Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0).then(e=>e.added[0]):o.promiseMessage("createNewLocalFileExtension")}createMultipleNewLocalFileExtensions(e,s){if(!this.supportsLocalFileExtensionsAPIV2())throw new Error("Desktop app too old");return o.promiseMessage("createMultipleNewLocalFileExtensions",{options:e,depth:s})}getAllLocalFileExtensionIds(){if(!this.supportsLocalFileExtensions())throw new Error("Desktop app too old");return o.promiseMessage("getAllLocalFileExtensionIds")}getLocalFileExtensionManifest(e){return o.promiseMessage("getLocalFileExtensionManifest",{id:e})}getLocalFileExtensionSource(e){return o.promiseMessage("getLocalFileExtensionSource",{id:e})}removeLocalFileExtension(e){o.postMessage("removeLocalFileExtension",{id:e})}openExtensionDirectory(e){o.postMessage("openExtensionDirectory",{id:e})}supportsLocalFileExtensionsAPIV2(){return this.getVersion()>=15}writeNewExtensionToDisk(e,s){if(!this.supportsLocalFileExtensionsAPIV2())throw new Error("Desktop app too old");return o.promiseMessage("writeNewExtensionToDisk",{dirName:e,files:s})}openDevTools(e){if(!this.supportsLocalFileExtensionsAPIV2())throw new Error("Desktop app too old");return o.postMessage("openDevTools",{mode:e})}}s.getWrappedDesktopAppWebAPI=function(){return o?new i:null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=p(141     ),n=p(0                    ),s=p(174          ),a=p(175                           );e.OpenTarget=a.OpenTarget,e.desktopApp=a.getWrappedDesktopAppWebAPI();const i=12,r=(()=>{if(s.sessionStorageOrNull){const t="initialPathName";if(s.sessionStorageOrNull[t])return s.sessionStorageOrNull[t];s.sessionStorageOrNull[t]=location.pathname}return location.pathname})();e.isRunningOutdatedDesktopApp=function(){return!!window.__figmaContent||e.desktopApp&&e.desktopApp.getVersion()<i},e.isRunningUnsupportedDesktopAppPlatform=function(){if(e.desktopApp&&n.default().feature_flags.desktop_drop_mac_10_9&&o.mac){const[t,e]=`${o.osversion}`.split(".");return+t<10||+e<10}return!1},e.appAuthSupported=function(){return e.desktopApp&&n.default().feature_flags.app_auth_desktop&&e.desktopApp.getVersion()>=16},e.canAutoOpenInDesktopApp=function(){return!!(!e.desktopApp&&n.default().feature_flags.open_links_desktop_app&&n.default().editing_file&&r.startsWith("/file/")&&location.pathname.startsWith("/file/"))},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.PREVENT_EVENT_CAPTURE="js-fullscreen-prevent-event-capture",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(141     ),c=t(177                             );o.loadScript=function(e,o){console.log(`Fetching ${e} started`);const t=()=>{const e=document.createElement("script");return e.type="text/javascript",e.async=!0,o||(e.crossOrigin="anonymous"),e},n=new Promise((o,n)=>{const c=t();c.onload=o,c.onerror=(r=>{document.head.removeChild(c);const s=t();s.onload=o,s.onerror=n;const a=-1===e.indexOf("?")?"?":"&";s.src=e+a+"lsRetry="+Math.random(),document.head.appendChild(s)}),c.src=e,document.head.appendChild(c)});return n.then(()=>console.log(`Fetching ${e} succeeded`),o=>console.error(`Fetching ${e} failed`,o)),n},o.copyText=function(e){return new Promise((o,t)=>{e.length>104857.6&&console.warn("string too long for copyText usage watchdog timer of 1s.  formatting will take too long");let r=document.createElement("input");r.setAttribute("style","position: fixed; top: -100px"),r.classList.add(c.PREVENT_EVENT_CAPTURE),document.body.appendChild(r),r.value=e,r.focus(),r.select();let s=document.execCommand("copy");!s&&n.msedge&&(s=!0),r.remove(),s?o():t()})},o.scrollTop=function(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0},o.scrollToY=function(e,o,t){var n=window.scrollY||document.documentElement.scrollTop,c=(e=e||0,o=o||2e3,t=t||"easeOutSine",0),r=Math.max(.1,Math.min(Math.abs(n-e)/o,.8)),s={easeOutSine:function(e){return Math.sin(e*(Math.PI/2))},easeInOutSine:function(e){return-.5*(Math.cos(Math.PI*e)-1)},easeInOutQuint:function(e){return(e/=.5)<1?.5*Math.pow(e,5):.5*(Math.pow(e-2,5)+2)}};!function o(){var a=(c+=1/60)/r,i=s[t](a);a<1?(requestAnimationFrame(o),window.scrollTo(0,n+(e-n)*i)):window.scrollTo(0,e)}()},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parallel=function(e){return new Promise((t,n)=>{let r=new Array(e.length),l=e.length,o=()=>{0===l&&t(r)};for(let u=0;u<e.length;u++)e[u].then(e=>{r[u]={type:"resolve",resolve:e,reject:void 0},l--,o()},e=>{r[u]={type:"reject",resolve:void 0,reject:e},l--,o()});o()})},t.mergeAndRetry=function(e){let t=null;return()=>(null===t&&(t=e()).catch(()=>t=null),t)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertDev=function(e,t){},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class i{constructor(){this.elapsedTime=0,this.startTime=0,this.callDepth=0,this.topLevelCallCount=0,this.totalCallCount=0}start(){0===this.callDepth&&(this.startTime=performance.now(),this.topLevelCallCount++),this.callDepth++,this.totalCallCount++}stop(){0!==this.callDepth?(this.callDepth--,0===this.callDepth&&(this.elapsedTime+=performance.now()-this.startTime)):console.error("Called stop on an already-stopped timer")}time(t){this.start();const e=t();return this.stop(),e}static time(t){const e=new i;return e.time(t),e.getElapsedTime()}getElapsedTime(){return this.elapsedTime}getTopLevelCallCount(){return this.topLevelCallCount}getTotalCallCount(){return this.totalCallCount}}e.Timer=i;class r{constructor(){this.timerStack=[],this.startListeners=new Set,this.stopListeners=new Set}start(t){const e=new i;this.timerStack.push({name:t,timer:e}),this.startListeners.forEach(e=>e(t,0)),e.start()}stop(t){const e=this.timerStack.pop();e?e.name===t?(e.timer.stop(),this.stopListeners.forEach(s=>s(t,e.timer.getElapsedTime()))):console.error(`Expected last started timer to be ${t}, but got ${e.name}`):console.error(`Expected last started timer to be ${t}, but got an empty timer stack`)}time(t,e){this.start(t);const s=e();return this.stop(t),s}addStartListener(t){this.startListeners.add(t)}removeStartListener(t){this.startListeners.delete(t)}addStopListener(t){this.stopListeners.add(t)}removeStopListener(t){this.stopListeners.delete(t)}}e.TimerGroup=r;class o{constructor(t){this.name=t,this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children=[]}reset(){this.hitCount=0,this.totalElapsedTime=0,this.maxElapsedTime=0,this.elapsedTimes=[],this.children.forEach(t=>t.reset())}}e.TimerResultNode=o;e.TimerGroupWithHistory=class{constructor(t){this.options=t,this.timerGroup=new r,this.rootNodes=[],this.nodeStack=[],this.onStart=(t=>{let e=null,s=this.rootNodes;this.nodeStack.length>0&&(s=this.nodeStack[this.nodeStack.length-1].children);for(let i of s)if(i.name===t){e=i;break}e||(e=new o(t),s.push(e)),this.nodeStack.push(e)}),this.onStop=((t,e)=>{let s=this.nodeStack.pop();if(s){for(s.hitCount++,s.totalElapsedTime+=e,s.maxElapsedTime=Math.max(s.maxElapsedTime,e);s.elapsedTimes.length>=this.options.bufferSize;)s.elapsedTimes.shift();s.elapsedTimes.push(e)}else console.error("Got onStop with an empty result stack")}),this.timerGroup.addStartListener(this.onStart),this.timerGroup.addStopListener(this.onStop)}start(t){this.timerGroup.start(t)}stop(t){this.timerGroup.stop(t)}time(t,e){this.start(t);const s=e();return this.stop(t),s}report(){return this.nodeStack.length>0&&console.warn("Asking for a report while some timers remain open",JSON.stringify(this.nodeStack.map(t=>t.name))),this.rootNodes}reset(){this.rootNodes.forEach(t=>t.reset())}addStartListener(t){this.timerGroup.addStartListener(t)}removeStartListener(t){this.timerGroup.removeStartListener(t)}addStopListener(t){this.timerGroup.addStopListener(t)}removeStopListener(t){this.timerGroup.removeStopListener(t)}getBufferSize(){return this.options.bufferSize}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(181       );t.appTimer=new i.TimerGroupWithHistory({bufferSize:400}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(182            ),n=[];let s=null;t.registerFrameCallback=(e=>{n.push(e),l()}),t.setLastFrameCallback=(e=>{s=e,l()});const o=()=>{requestAnimationFrame(o),a.appTimer.start("frame");for(let e of n)e();if(s){const e=s;s=null,e()}a.appTimer.stop("frame")};let i=!1;function l(){i||(i=!0,requestAnimationFrame(o))}e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(129        ),o=t(185                              ),i=t(180         ),l=t(182            ),a=t(183           ),s=t(219          ),c=1,u={"frame.react-render":.1,"frame.scene-render":.2,"frame.scene-render.render-tree-generation":.2},d=["frame","frame.react-render","frame.scene-render","frame.scene-render.render-tree-generation","frame.style-updater","frame.symbol-updater","frame.trigger-action","fullscreen-handle-event","fullscreen-handle-event.trigger-action"],f=.2,m=[f,60],p=60,g=60,h=60;let y=!1,b=null,v=null,w=1,T=null,L=null,I=0,S=-1/0,E=-1/0,O=0;const N={};let P=!1;n.setPickedLoader=function(e){v=e},n.setMultiplayerUserCount=function(e){w=e},n.onDocumentSwitch=function(){T=null,L=null},n.onDocumentLoad=function(e){T=e,L=performance.now()},n.setDebug=function(e){y=e};const C=["ALT","META","SHIFT","CONTROL","RIGHT_ALT"];function F(){return null===T||null===v||null===L?[null,[]]:[{deviceInfo:r.FullscreenPerfMetrics.getDeviceInfo(),fileKey:T,fileNodeCount:r.FullscreenPerfMetrics.getFileNodeCount(),multiplayerUserCount:w,nodeTypeHistogram:r.FullscreenPerfMetrics.getNodeTypeHistogram(),pickedLoader:v,recentInteractions:r.FullscreenPerfMetrics.getRecentInteractions(),secondsSinceLoaded:(performance.now()-L)/1e3,version:c,randomID:o.getRandomID(),reportCount:I},r.FullscreenPerfMetrics.getSlowInteractions()]}function M(e,n,t){for(const r in e){const o=""===t?r:t+"."+r;Array.isArray(e[r])?(i.assertDev(!1,"Array values shouldn't be passed into flattenInto."),n[o]=JSON.stringify(e[r])):"object"==typeof e[r]&&null!==e[r]?M(e[r],n,o):n[o]=e[r]}}function D(e){const{fileKey:n,fileNodeCount:t,multiplayerUserCount:r,pickedLoader:o,recentInteractions:i,secondsSinceLoaded:l,version:a,randomID:s}=e;let c={fileKey:n,fileNodeCount:t,multiplayerUserCount:r,pickedLoader:o,secondsSinceLoaded:l,version:a,randomID:s,reportCount:I};for(let u=0;u<i.length;u++)c[`recentInteractions.${u}`]=JSON.stringify(i[u]);return M(e.deviceInfo,c,"deviceInfo"),M(e.nodeTypeHistogram,c,"nodeTypeHistogram"),c}function R(e){y||s.segment.track("Slow Editor Interaction",e),E=performance.now(),O=e.duration}function A(...e){y&&console.log("[FullscreenPerfMetrics]",...e)}function H(){const e={};function n(t,r=""){const o=r.length>0?`${r}.${t.name}`:t.name,i=N[o]||t.hitCount;let l=t.hitCount-i;l>t.elapsedTimes.length&&(P||(console.warn(`Too many elapsed hits of ${o} since last report`),P=!0),l=t.elapsedTimes.length);let a=0;const s=t.elapsedTimes.length;for(let e=s-l;e<s;e++)a+=t.elapsedTimes[e];e[o]=a,N[o]=t.hitCount;for(const e of t.children)n(e,o)}const t=l.appTimer.report();let o=0;for(const r of t)n(r),o+=e[r.name];!function(e){if(null===b)return;if("visible"!==document.visibilityState)return;const n=performance.now()-b,t=n-e;if(t<1e3*m[0]||t>=1e3*m[1])return;A(`Long inter-frame time (${t}ms idle)}!`);const r=F()[0];if(null==r)return void A("Not reporting because we have no metadata. Probably no document is open.");function o(e,n,t){const r=n-(performance.now()-e)/1e3;return!(r>0&&(A("Not reporting a long inter-frame time because we're in the "+`${t} cooldown (${r}s to go).`),1))}if(!o(L,h,"document loading")||!o(S,g,"reporting"))return;let i=Object.assign({msSinceLastFrame:n,msSinceLastFrameIdle:t},D(r));A("Reporting long inter-frame time:"),A(i),y||s.segment.track("Long Inter-frame Time",i),S=performance.now()}(o),function(){if(o/1e3<f)return;A("Long frame!");const[n,t]=F();if(null==n)return void A("Not reporting because we have no metadata. Probably no document is open.");let r={};for(const o in e)-1!==d.indexOf(o)&&(r[o]=e[o]/1e3);let l=t.map(e=>{const t=e.interaction;let o=Object.assign({kind:"interaction",type:t.type,subtype:t.subtype,frame:e.frame,collapsed:!1,duration:e.duration},D(n));if(C.forEach(e=>o["modifier."+e]=null),"MOUSE"==t.type){const e=t;o.collapsed=e.collapsed;for(const n of C)o["modifier."+n]=-1!==e.modifiers.indexOf(n)}return M(r,o,"timer"),o});for(const o in e){let t=e[o]/1e3,i=u[o];if("number"==typeof i&&t>=i){let e=Object.assign({kind:"timer",type:o,subtype:null,frame:null,collapsed:!1,duration:t},D(n));M(r,e,"timer"),C.forEach(n=>e["modifier."+n]=null),l.push(e)}}if(0==l.length)return void A("We would have had nothing to consider reporting.");let a=[],s=l;const c=p-(performance.now()-E)/1e3;if(0==(s=s.filter(e=>c<=0||e.duration>=2*O)).length&&a.push(`we're in the report cooldown period (${c}s `+"to go) and no reports were long enough to override it "+`(the last report duration was ${O}s)`),c>0&&s.length>0&&A("Overriding the reporting cooldown!"),null===L)return void i.assertDev(!1,"getPerfMetadata should have returned null");const m=h-(performance.now()-L)/1e3;m>0&&a.push("we're in the document loading cooldown period "+`(${m}s to go)`),A("ALL REPORTS (including filtered-out)"),A(l),a.length>0?A("NO REPORTS WOULD HAVE BEEN SENT because",function(e){if(1==e.length)return e[0];if(2==e.length)return e[0]+" and "+e[1];let n=e.slice(0,e.length-1).join(", ");return n+=", and ",n+=e[2]}(a)):(s=s.sort((e,n)=>e.duration-n.duration),A("REPORTS THAT WOULD HAVE BEEN SENT"),A(s),s.forEach(R),I++)}(),r.FullscreenPerfMetrics.clearNodeTypeHistogram(),r.FullscreenPerfMetrics.clearSlowInteractions(),b=performance.now()}document.addEventListener("visibilitychange",function(){b=null});let $=!1;n.init=function(){$||($=!0,a.registerFrameCallback(()=>{Promise.resolve().then(H)}))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";var i=this&&this.__awaiter||function(e,n,t,i){return new(t||(t=Promise))(function(o,r){function s(e){try{a(i.next(e))}catch(n){r(n)}}function l(e){try{a(i.throw(e))}catch(n){r(n)}}function a(e){e.done?o(e.value):new t(function(n){n(e.value)}).then(s,l)}a((i=i.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const o=t(178              ),r=t(141     ),s=t(176              ),l=t(179               ),a=t(219          ),c=t(174          ),d=t(0                    ),u=t(184                                     ),f=t(143              );function m(e,{startLoadingBinary:n,loadJavaScript:t,loadCode:o}){console.log(`[Fullscreen] Using ${e}`),o=l.mergeAndRetry(o);const r=l.mergeAndRetry(()=>i(this,void 0,void 0,function*(){const t=n(),i=yield o();return console.log(`Initializing C++ code (${e})`),yield i(t)})),s=l.mergeAndRetry(()=>i(this,void 0,void 0,function*(){const n=yield r();console.log(`Calling C++ main (${e})`),n()}));return{name:e,prepare:()=>i(this,void 0,void 0,function*(){v?yield r():yield Promise.all([b(n()),t()])}),loadAndCallMain:s}}function p(){const e=Fig.fullscreenURLs["compiled_asm.js.mem"],n=Fig.fullscreenURLs["compiled_asm.js"];return m("asm.js",{startLoadingBinary:function(){return w(e)},loadJavaScript:function(){return b(w(n))},loadCode:function(){return i(this,void 0,void 0,function*(){let e;const t={addEventListener(n,t){"load"!==n?setTimeout(()=>{throw new Error(`Unexpected event listener for "${n}" in memory initializer request`)}):void 0!==e?setTimeout(()=>{throw new Error(`Duplicate event listener for "${n}" in memory initializer request`)}):e=t}};window.Module={memoryInitializerRequest:t};try{yield o.loadScript(n)}catch(r){throw new Error(`Failed to load ${n}`)}if(void 0===e)throw new Error('Expected asm.js code to set "applyMemoryInitializer"');return n=>i(this,void 0,void 0,function*(){const i=yield b(n);return t.response=i,t.status=200,()=>{e()}})})}})}function g(){const e=Fig.fullscreenURLs["compiled_wasm.wasm"],n=Fig.fullscreenURLs["compiled_wasm.js"];return m("WebAssembly",{startLoadingBinary:function(){return w(e)},loadJavaScript:function(){return b(w(n))},loadCode:function(){return i(this,void 0,void 0,function*(){let e,t;const r={instantiateWasm:(n,i)=>(e=n,t=i,window.wasmInfo=n,window.wasmReceiveInstance=i,{})};window.Module=r;try{yield o.loadScript(n)}catch(s){throw new Error(`Failed to load ${n}`)}if(void 0===e)throw new Error('Expected WebAssembly code to set "info"');if(void 0===t)throw new Error('Expected WebAssembly code to set "receiveInstance"');return n=>i(this,void 0,void 0,function*(){let i;(i=WebAssembly.instantiateStreaming)||console.log("WebAssembly.instantiateStreaming is not supported. Using WebAssembly.instantiate instead.");const o=performance.now();let r;if(!i||d.initialOptions().feature_flags.wasm_no_instantiate_streaming||f.isRunningInteractionTests()){const t=yield b(n);try{console.log("Calling WebAssembly.instantiate");const n=WebAssembly.instantiate(t,e);console.log("Awaiting WebAssembly.instantiate"),r=yield n,console.log("Finished WebAssembly.instantiate")}finally{const e=performance.now();console.log(`WebAssembly.instantiate: ${(e-o).toFixed(1)}ms`)}}else try{console.log("Calling WebAssembly.instantiateStreaming");const t=i(n,e);console.log("Awaiting WebAssembly.instantiateStreaming"),r=yield t,console.log("Finished WebAssembly.instantiateStreaming")}finally{const e=performance.now();console.log(`WebAssembly.instantiateStreaming: ${(e-o).toFixed(1)}ms`)}return()=>{t(r.instance)}})})}})}const y=Math.random().toString(36).slice(2);function w(e){return i(this,void 0,void 0,function*(){return console.log(`Fetching ${e} started`),fetch(e)})}function b(e){return i(this,void 0,void 0,function*(){const n=yield e;if(!n.ok)throw new Error(`Fetching ${n.url} failed with ${n.status}`);return n.arrayBuffer()})}n.getRandomID=function(){return y};const h=!location.pathname.startsWith("/proto")&&(!s.desktopApp||s.desktopApp.isFileTab()),v=!/Mobi/.test(navigator.userAgent)&&(r.chrome||r.firefox),A="Fig"in window&&Fig.fullscreenURLs?function(){let e;try{e=c.localStorageOrNull?c.localStorageOrNull.forceWASM:null}catch(l){}const n=r.firefox||r.chrome&&+r.version>=61||r.safari&&+r.version>=11||r.msedge&&+r.version>=16,t=!!d.initialOptions().feature_flags.force_asm,i="compiled_asm.js"in Fig.fullscreenURLs,o="compiled_wasm.js"in Fig.fullscreenURLs,s="object"==typeof WebAssembly&&n&&!t;return"enable"===e&&o?g():"disable"===e&&i?p():s&&o?g():i?p():(o?console.error("Cannot initialize fullscreen: WebAssembly isn't supported and there is no asm.js build"):console.error("Cannot initialize fullscreen: no options available"),null)}():null;null!==A&&u.setPickedLoader(A.name),null!==A&&h&&A.prepare(),n.preloadFullscreen=function(){return i(this,void 0,void 0,function*(){if(null===A)throw new Error("Cannot preload fullscreen: no loader available");yield A.prepare()})},n.initializeFullscreen=function(){return i(this,void 0,void 0,function*(){if(s.isRunningOutdatedDesktopApp())return console.error("Cannot initialize fullscreen with an outdated desktop app shell"),new Promise(()=>{});if(null===A)throw new Error("Cannot initialize fullscreen: no loader available");try{yield A.loadAndCallMain()}catch(e){throw a.segment.track("Fullscreen Load Failure",{error:e+""}),setTimeout(()=>{throw e instanceof Error?e:new Error(`Fullscreen load failure: ${e}`)}),e}})},n.isLocalBuild=function(){const e=Fig.fullscreenURLs["compiled_asm.js"],n=Fig.fullscreenURLs["compiled_wasm.js"];return!!(e&&e.startsWith("/")||n&&n.startsWith("/"))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,n){"use strict";Object.defineProperty(i,"__esModule",{value:!0});i.EventState=class{constructor(t){this.id=t.id,this.definition=t}onEnter(){return this.id}onEvent(t){for(const i in this.definition.transitions){const n=this.definition.transitions[i];if(n.eventId===t.id)return n.destinationStateId}return this.id}awaitingEventIds(){return new Set(this.definition.transitions.map(t=>t.eventId))}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ActionState=class{constructor(t,e){this.definition=t,this.actionInterpreter=e}onEnter(){return this.actionInterpreter.handleAction(this.definition.actionType,this.definition.payload),this.definition.destinationStateId}onEvent(t){throw new Error("Illegal State: Should not receive events in ")}awaitingEventIds(){return new Set}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DataState=class{constructor(t,e){this.id=t.id,this.definition=t,this.queryProcessor=e}onEnter(){const t=this.queryProcessor.execute(this.definition.query);for(let e of this.definition.transitions){if("EQUALS"===e.operator&&e.value===t)return e.destinationStateId;if("NOT_EQUALS"===e.operator&&e.value!==t)return e.destinationStateId;if("GREATER_THAN"===e.operator&&e.value<t)return e.destinationStateId}}onEvent(t){throw new Error("Illegal State: Should not receive events in ")}awaitingEventIds(){return new Set}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(186),n=s(187),a=s(188);class r{constructor(t){this.machines={};for(const e of t)this.machines[e.id]=e}static fromJson(t,e,s){return new r(t.map(t=>{const r={};return t.states.forEach(t=>{switch(t.type){case"ACTION":return void(r[t.id]=new n.ActionState(t,s));case"EVENT":return void(r[t.id]=new i.EventState(t));case"DATA":return void(r[t.id]=new a.DataState(t,e))}}),{id:t.id,initialState:r[t.initialStateId],states:r}}))}get(t){return this.machines[t]}getTriggeredMachines(t){const e=[];for(const s in this.machines)this.machines[s].initialState.awaitingEventIds().has(t)&&e.push(this.machines[s]);return e}}e.JsonMachineProvider=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.ACTIVE=0]="ACTIVE",e[e.COMPLETED=1]="COMPLETED"}(n=t.MachineProgress||(t.MachineProgress={}));t.InMemoryUserContextProvider=class{constructor(){this.userToContexts=new Map}getActive(e,t){return this.getContexts(e).filter(e=>e.progress===n.ACTIVE&&e.awaitingEventIds&&e.awaitingEventIds.has(t)).map(e=>Object.assign({},e))}getExitedOrActiveMachineIds(e){return new Set(this.getContexts(e).map(e=>e.machineId))}persist(e){const t=this.getContexts(e.userId).filter(t=>t.machineId!==e.machineId);t.push(e),this.userToContexts.set(e.userId,t)}getContexts(e){return this.userToContexts.get(e)||[]}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(190);t.Handler=class{constructor(e,t){this.machineProvider=e,this.userContextProvider=t}handle(e){if(!e.userId)return;this.userContextProvider.getActive(e.userId,e.id).forEach(t=>{this.processFlowStateFromEvent(this.machineProvider.get(t.machineId),t,e)});const t=this.userContextProvider.getExitedOrActiveMachineIds(e.userId);this.machineProvider.getTriggeredMachines(e.id).forEach(r=>{if(t.has(r.id))return;const i={userId:e.userId,machineId:r.id,progress:s.MachineProgress.ACTIVE,currentStateId:r.initialState.id};this.processFlowStateFromEvent(r,i,e)})}processFlowStateFromEvent(e,t,r){if(!t.currentStateId)return;let i=e.states[t.currentStateId],n=i.onEvent(r);for(;n&&n!==i.id;)n=(i=e.states[n]).onEnter();n?(t.currentStateId=i.id,t.awaitingEventIds=i.awaitingEventIds()):(t.currentStateId=void 0,t.awaitingEventIds=void 0,t.progress=s.MachineProgress.COMPLETED),this.userContextProvider.persist(t)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=o(189);r.JsonMachineProvider=n.JsonMachineProvider;const t=o(191);r.Handler=t.Handler;const s=o(190);r.InMemoryUserContextProvider=s.InMemoryUserContextProvider,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s={id:"suggest_style_on_edit_text",initialStateId:"event_edited_text",states:[{id:"event_edited_text",type:"EVENT",transitions:[{eventId:"edit_mode_text",destinationStateId:"data_check_new_user"}]},{id:"data_check_new_user",type:"DATA",query:{type:"user",field:"created_at"},transitions:[{operator:"GREATER_THAN",value:new Date("2019-01-01T00:00:00.000Z"),destinationStateId:"data_check_have_shown_before"}]},{id:"data_check_have_shown_before",type:"DATA",query:{type:"user_flag",field:"style_suggestion_shown"},transitions:[{operator:"EQUALS",value:!1,destinationStateId:"data_check_is_designer"}]},{id:"data_check_is_designer",type:"DATA",query:{type:"profile",field:"job_title"},transitions:[{operator:"EQUALS",value:"designer",destinationStateId:"data_check_does_file_have_styles"}]},{id:"data_check_does_file_have_styles",type:"DATA",query:{type:"file",field:"num_styles"},transitions:[{operator:"EQUALS",value:0,destinationStateId:"action_show_styles"}]},{id:"data_check_experiment_population",type:"DATA",query:{type:"experiment",field:"rcs_text_styles_01"},transitions:[{operator:"EQUALS",value:"popup",destinationStateId:"action_show_styles"},{operator:"EQUALS",value:"control_1",destinationStateId:"action_segment_track_control_1"},{operator:"EQUALS",value:"control_2",destinationStateId:"action_segment_track_control_2"}]},{id:"action_segment_track_control_1",type:"ACTION",actionType:"segment_track",payload:{eventId:"set_experiment_treatment",params:{experimentId:"rcs_text_styles_01",treatmentId:"control_1"}}},{id:"action_segment_track_control_2",type:"ACTION",actionType:"segment_track",payload:{eventId:"set_experiment_treatment",params:{experimentId:"rcs_text_styles_01",treatmentId:"control_2"}}},{id:"action_show_styles",type:"ACTION",actionType:"show_content",payload:{title:"Create a Style",content:{text:"Styles lets you reuse color or text across your design files. Press the Style icon here to get started.",href:"https://help.figma.com/article/186-styles-creating-styles",href_text:"Learn More"},key:"text-styles"},destinationStateId:"action_segment_track_show_styles"},{id:"action_segment_track_show_styles",type:"ACTION",actionType:"segment_track",payload:{eventId:"set_experiment_treatment",params:{experimentId:"rcs_text_styles_01",treatmentId:"popup"}},destinationStateId:"action_record_show_styles"},{id:"action_record_show_styles",type:"ACTION",actionType:"set_flag",payload:{flag:"style_suggestion_shown"}}]};t.default=s,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=[s(193                                   ).default];t.default=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={rcs_text_styles_01:["control_1","control_2","popup"],exp_upgrade_experience_02:["control","variant"],exp_add_collaborators_01:["control","variant"],exp_review_editors_01:["control","variant"]},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34,1   ),i=r(174          ),o=r(219          ),s=r(0                          ),a=r(195                                   ),l=(e,t)=>o.segmentTrackEvent("set_experiment_treatment",{experimentId:e,treatmentId:t});t.trackExperiment=function(e){const t=u(e);l(e,t)};class c{constructor(e,t,r,n,i){this.treatmentToComponent=new Map,this.experimentId=e,this.defaultTreatment=t,this.report=r,this.seed=n,this.allExperiments=i}treatment(e,t){return this.treatmentToComponent.set(e,t),this}build(){const e=u(this.experimentId,this.seed,this.allExperiments),t=this.treatmentToComponent.get(e);let r=this.defaultTreatment;t&&(r=t);let i=!1;const o=()=>{i||(this.report(this.experimentId,e),i=!0)};return class extends n.Component{componentDidMount(){e&&o()}render(){return n.createElement(r,Object.assign({},this.props))}}}}function u(e,r=p(),n=a.default){const o=function(e){const r=i.getLocalStorageOrNull();if(!r)return;try{const i=r[t.LOCAL_EXPERIMENTS_OVERRIDE];if(i){const t=JSON.parse(i);return t[e]}}catch(n){console.error("Failed to read local experiment override",n)}return null}(e);if(o)return o;if(!s.initialOptions().feature_flags[e])return;if(void 0===r)return;const l=n[e];if(!l)return;let c=r;r>1e8&&(c=Math.ceil(r/1e5));return l[(67*c+e.length)%12345%l.length]}function p(e=function(){if(s.initialOptions().user_data)return parseInt(s.initialOptions().user_data.id)}()){if(e)return e;const r=i.getLocalStorageOrNull();if(!r)return;try{const e=r[t.LOCAL_EXPERIMENTS_SEED];if(e)return parseInt(e)}catch(o){return void console.error("Failed to read local experiment seed.",o)}const n=Math.floor(1e6*Math.random());try{r[t.LOCAL_EXPERIMENTS_SEED]=n}catch(o){return void console.error("Failed to write local experiment seed",o)}return n}t.experiment=function(e,t=p(),r=l,n=a.default){return{defaultComponentClass:function(i){return new c(e,i,r,t,n)}}},t.LOCAL_EXPERIMENTS_SEED="local_experiments_seed",t.LOCAL_EXPERIMENTS_OVERRIDE="local_experiments",t.pickTreatment=u,window&&(window.setExperimentOverride=function(e,r){const n=i.getLocalStorageOrNull();if(n)try{let i={};const s=n[t.LOCAL_EXPERIMENTS_OVERRIDE];return s&&(i=JSON.parse(s)),i[e]=r,n[t.LOCAL_EXPERIMENTS_OVERRIDE]=JSON.stringify(i),i}catch(o){return void console.error("Failed to write local experiment override",o)}}),t.getLocalExperimentSeed=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(196                        );t.WebQueryProcessor=class{constructor(e){this.store=e}execute(e){if("user"===e.type){const t=this.store.getState().user;if(!t)return;const r=t[e.field];return["created_at","email_validated_at"].indexOf(e.field)>-1&&r?new Date(r):r}if("profile"===e.type){const t=this.store.getState().user;if(!t)return;const r=t.profile;if(r)return r[e.field]}return"file"===e.type&&"num_styles"===e.field?Object.keys(this.store.getState().library.local.styles).length:"user_flag"===e.type?!!this.store.getState().userFlags[e.field]:"experiment"===e.type?s.pickTreatment(e.field):void 0}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});class i{constructor(t=0,r=0){this.x=t,this.y=r}clone(){return new i(this.x,this.y)}equals(t){return t&&this.x===t.x&&this.y===t.y}toString(){return`(${this.x}, ${this.y})`}add(t){return new i(this.x+t.x,this.y+t.y)}static add(t,r){return{x:t.x+r.x,y:t.y+r.y}}subtract(t){return new i(this.x-t.x,this.y-t.y)}static subtract(t,r){return{x:t.x-r.x,y:t.y-r.y}}multiply(t){return new i(this.x*t.x,this.y*t.y)}divide(t){return new i(this.x/t.x,this.y/t.y)}dot(t){return i.dot(this,t)}static dot(t,r){return t.x*r.x+t.y*r.y}rounded(){return new i(Math.round(this.x),Math.round(this.y))}static rounded(t){return{x:Math.round(t.x),y:Math.round(t.y)}}static size(t){return Math.sqrt(i.dot(t,t))}distanceTo(t){return i.size(this.subtract(t))}static distance(t,r){return i.size(i.subtract(t,r))}clamp(t){return new i(Math.max(t.x,Math.min(t.x+t.width,this.x)),Math.max(t.y,Math.min(t.y+t.height,this.y)))}}r.Vector=i,r.contains=function(t,r){return r.x>=t.x&&r.y>=t.y&&r.x<=t.x+t.width&&r.y<=t.y+t.height},r.area=function(t){return t.width*t.height},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(E,A,_){"use strict";Object.defineProperty(A,"__esModule",{value:!0});const P=_(141     );var e;function D(E){return(E.altKey?e.ALT:0)|(E.metaKey?e.META:0)|(E.shiftKey?e.SHIFT:0)|(E.ctrlKey?e.CONTROL:0)}!function(E){E[E.ALT=256]="ALT",E[E.META=512]="META",E[E.SHIFT=1024]="SHIFT",E[E.CONTROL=2048]="CONTROL"}(e=A.ModifierKey||(A.ModifierKey={})),function(E){E[E.BACKSPACE=8]="BACKSPACE",E[E.TAB=9]="TAB",E[E.ENTER=13]="ENTER",E[E.SHIFT=16]="SHIFT",E[E.CTRL=17]="CTRL",E[E.ALT=18]="ALT",E[E.PAUSE=19]="PAUSE",E[E.CAPS_LOCK=20]="CAPS_LOCK",E[E.ESCAPE=27]="ESCAPE",E[E.SPACE=32]="SPACE",E[E.PAGE_UP=33]="PAGE_UP",E[E.PAGE_DOWN=34]="PAGE_DOWN",E[E.END=35]="END",E[E.HOME=36]="HOME",E[E.LEFT_ARROW=37]="LEFT_ARROW",E[E.UP_ARROW=38]="UP_ARROW",E[E.RIGHT_ARROW=39]="RIGHT_ARROW",E[E.DOWN_ARROW=40]="DOWN_ARROW",E[E.INSERT=45]="INSERT",E[E.DELETE=46]="DELETE",E[E.KEY_0=48]="KEY_0",E[E.KEY_1=49]="KEY_1",E[E.KEY_2=50]="KEY_2",E[E.KEY_3=51]="KEY_3",E[E.KEY_4=52]="KEY_4",E[E.KEY_5=53]="KEY_5",E[E.KEY_6=54]="KEY_6",E[E.KEY_7=55]="KEY_7",E[E.KEY_8=56]="KEY_8",E[E.KEY_9=57]="KEY_9",E[E.A=65]="A",E[E.B=66]="B",E[E.C=67]="C",E[E.D=68]="D",E[E.E=69]="E",E[E.F=70]="F",E[E.G=71]="G",E[E.H=72]="H",E[E.I=73]="I",E[E.J=74]="J",E[E.K=75]="K",E[E.L=76]="L",E[E.M=77]="M",E[E.N=78]="N",E[E.O=79]="O",E[E.P=80]="P",E[E.Q=81]="Q",E[E.R=82]="R",E[E.S=83]="S",E[E.T=84]="T",E[E.U=85]="U",E[E.V=86]="V",E[E.W=87]="W",E[E.X=88]="X",E[E.Y=89]="Y",E[E.Z=90]="Z",E[E.SELECT=93]="SELECT",E[E.NUMPAD_0=96]="NUMPAD_0",E[E.NUMPAD_1=97]="NUMPAD_1",E[E.NUMPAD_2=98]="NUMPAD_2",E[E.NUMPAD_3=99]="NUMPAD_3",E[E.NUMPAD_4=100]="NUMPAD_4",E[E.NUMPAD_5=101]="NUMPAD_5",E[E.NUMPAD_6=102]="NUMPAD_6",E[E.NUMPAD_7=103]="NUMPAD_7",E[E.NUMPAD_8=104]="NUMPAD_8",E[E.NUMPAD_9=105]="NUMPAD_9",E[E.NUMPAD_DELETE=1e3]="NUMPAD_DELETE",E[E.MULTIPLY=106]="MULTIPLY",E[E.ADD=107]="ADD",E[E.SUBTRACT=109]="SUBTRACT",E[E.DECIMAL=110]="DECIMAL",E[E.DIVIDE=111]="DIVIDE",E[E.SEMICOLON=186]="SEMICOLON",E[E.EQUALS=187]="EQUALS",E[E.COMMA=188]="COMMA",E[E.DASH=189]="DASH",E[E.PERIOD=190]="PERIOD",E[E.FORWARD_SLASH=191]="FORWARD_SLASH",E[E.GRAVE_ACCENT=192]="GRAVE_ACCENT"}(A.Key||(A.Key={})),function(E){E[E.KEY_PRESS=1]="KEY_PRESS",E[E.KEY_RELEASE=2]="KEY_RELEASE"}(A.EventType||(A.EventType={})),A.isStandardShortcutKeyPressed=function(E){return P.mac?E.metaKey:E.ctrlKey},A.modifierKeys=D,A.isNoneOrAllowedModifiersPressed=function(E,A){const _=D(E);return 0===_||0==(_&~A)},A.isExactModifierPressed=function(E,A){return D(E)===A},E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(t,n,o){t.exports={lazyInput:"lazy_input--lazyInput--2kTZE"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(34,1   ),i=a(143              ),n=a(200               );class r extends i.PureComponent{constructor(t){super(t),this.procrastinating=!1,this.procrastinationTimer=null,this.onLazyUpdate=(()=>{this.procrastinating=!1,this.updateIfNotLazy(this.state.requestedValue)}),this.onChange=i.changeEvent(this,"change",t=>{this.procrastinate(),this.setState({value:t.target.value}),this.props.onChange(t)}),this.state={value:this.props.value}}UNSAFE_componentWillReceiveProps(t){this.updateIfNotLazy(t.value)}componentWillUnmount(){super.componentWillUnmount(),this.procrastinationTimer&&(clearTimeout(this.procrastinationTimer),this.procrastinating=!1)}updateIfNotLazy(t){this.procrastinating?this.setState({requestedValue:t}):this.state.value!==t&&this.setState({value:t,requestedValue:void 0})}procrastinate(){this.procrastinating=!0,this.procrastinationTimer&&clearTimeout(this.procrastinationTimer),this.procrastinationTimer=setTimeout(this.onLazyUpdate,this.props.delay)}getProps(){let t=Object.assign({},this.props);return delete t.delay,delete t.recordingKey,t.value=this.state.value,t.onChange&&(t.onChange=this.onChange),null==t.value&&(t.value=void 0),t.className?t.className=`${t.className} ${n.lazyInput}`:t.className=n.lazyInput,t}render(){return s.createElement("textarea"===this.props.type?"textarea":"input",this.getProps())}}r.displayName="LazyInput",r.defaultProps={type:"text",delay:1e3},e.LazyInput=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(i,s,b){i.exports={input:"basic_form--input--3cO2P",bigInput:"basic_form--bigInput--35JZw basic_form--input--3cO2P",textInput:"basic_form--textInput--3ZlM2 basic_form--input--3cO2P",bigTextInput:"basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P",checkboxContainer:"basic_form--checkboxContainer--2LsO1",checkbox:"basic_form--checkbox--3eCIg",disabled:"basic_form--disabled--3MDd0",checkboxShowFocus:"basic_form--checkboxShowFocus--2RbJL",label:"basic_form--label--hdhP9",btn:"basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6",btnBig:"basic_form--btnBig--ft-SV basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--bigInput--35JZw basic_form--input--3cO2P",primaryBtn:"basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6",primaryBtnBig:"basic_form--primaryBtnBig--DLL1m basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--btnBig--ft-SV basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--bigInput--35JZw basic_form--input--3cO2P",negativeBtn:"basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6",negativeBtnBig:"basic_form--negativeBtnBig--2c7h3 basic_form--negativeBtn--2N09z basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--btnBig--ft-SV basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--bigInput--35JZw basic_form--input--3cO2P",greenBtn:"basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6",greenBtnBig:"basic_form--greenBtnBig--1m5Oi basic_form--greenBtn--1opZg basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--btnBig--ft-SV basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--bigInput--35JZw basic_form--input--3cO2P",secondaryBtnBig:"basic_form--secondaryBtnBig--evjXj basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--btnBig--ft-SV basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6 basic_form--bigInput--35JZw basic_form--input--3cO2P",link:"basic_form--link--11HI0 blue_link--blueLink--22X56",inlineLink:"basic_form--inlineLink--3sRG- blue_link--blueLink--22X56",bigSelect:"basic_form--bigSelect--2lByI basic_form--bigTextInput--iKJGz basic_form--textInput--3ZlM2 basic_form--input--3cO2P basic_form--bigInput--35JZw basic_form--input--3cO2P"},i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34,1   ),s=n(220               ),c=r.createContext(void 0);class i extends r.Component{constructor(){super(...arguments),this.calledTrackOnce=!1}trackOnce(e){this.calledTrackOnce||(this.calledTrackOnce=!0,s.trackContextView(Object.assign({name:e},this.props.properties)))}render(){const e=this.context?`${this.context} > ${this.props.name}`:this.props.name;return this.trackOnce(e),r.createElement(c.Provider,{value:e},this.props.children)}}i.displayName="TrackingContext",i.contextType=c,t.TrackingContext=i,t.asTrackedContext=function(e,t){return class extends r.PureComponent{render(){return r.createElement(i,{name:t||e.displayName},r.createElement(e,Object.assign({},this.props)))}}},t.asTrackedElement=function(e,t){return r.createElement(i,{key:t,name:t},e)},t.asTrackedClickable=function(e){var t;return(t=class extends r.Component{render(){const t={};return Object.keys(this.props).filter(e=>"trackingProperties"!==e).forEach(e=>t[e]=this.props[e]),r.createElement(e,Object.assign({},t,{onClick:e=>{const t=Object.assign({},this.props.trackingProperties);this.context&&(t.trackingContext=this.context),this.props.children&&"string"==typeof this.props.children&&(t.text=this.props.children),s.trackContextCtaClicked(t),this.props.onClick&&this.props.onClick(e)}}))}}).contextType=c,t},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),a=s(199      ),o=s(143              ),r=s(201                                      ),i=s(202               ),c=s(203                                                );let l=null;t.setForwardInputKeyToFullscreenIfNecessary=function(e){l=e};class p extends o.Component{constructor(){super(...arguments),this.onKeyDown=(e=>{l&&l(e)||(this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===a.Key.ESCAPE&&e.target.blur())}),this.onClick=o.mouseEvent(this,"click",e=>{this.props.onClick(e)})}render(){const e=Object.assign({},this.props);return e.className=`${this.props.defaultClass} ${this.props.className||""}`,delete e.defaultClass,delete e.recordingKey,this.props.onClick&&this.props.recordingKey&&(e.onClick=this.onClick),n.createElement("button",Object.assign({onKeyDown:this.onKeyDown},e),this.props.children)}}p.displayName="ButtonBase";class u extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.primaryBtn},this.props))}}u.displayName="ButtonPrimary",t.ButtonPrimary=u,t.ButtonPrimaryTracked=c.asTrackedClickable(u);class d extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.primaryBtnBig},this.props))}}d.displayName="BigButtonPrimary",t.BigButtonPrimary=d,t.BigButtonPrimaryTracked=c.asTrackedClickable(d);class m extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.btn,type:"button"},this.props))}}m.displayName="ButtonSecondary",t.ButtonSecondary=m;class h extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.secondaryBtnBig,type:"button"},this.props))}}h.displayName="BigButtonSecondary",t.BigButtonSecondary=h;class g extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.negativeBtn,type:"button"},this.props))}}g.displayName="ButtonNegative",t.ButtonNegative=g;class y extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.negativeBtnBig,type:"button"},this.props))}}y.displayName="BigButtonNegative",t.BigButtonNegative=y;class b extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.greenBtn},this.props))}}b.displayName="ButtonGreen",t.ButtonGreen=b;class B extends n.Component{render(){return n.createElement(p,Object.assign({defaultClass:i.greenBtnBig},this.props))}}B.displayName="BigButtonGreen",t.BigButtonGreen=B,t.BigButtonGreenTracked=c.asTrackedClickable(B);class k extends n.Component{render(){const e=`${i.primaryBtn} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e,rel:"noopener"});return n.createElement("a",Object.assign({},t))}}k.displayName="ButtonLink",t.ButtonLink=k;class C extends n.Component{render(){const e=`${i.textInput} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e});return n.createElement(r.LazyInput,Object.assign({},t))}}C.displayName="TextInput",t.TextInput=C;class N extends n.PureComponent{render(){return n.createElement("input",Object.assign({},this.props))}}N.displayName="MockTextInput",t.MockTextInput=N;class x extends n.Component{render(){const e=`${i.bigTextInput} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e});return n.createElement(r.LazyInput,Object.assign({},t))}}x.displayName="BigTextInput",t.BigTextInput=x;class j extends n.PureComponent{constructor(e){super(e),this.documentKeyDown=(e=>{e.keyCode===a.Key.TAB&&this.setState({showFocus:!0})}),this.documentMouseDown=(e=>{this.setState({showFocus:!1})}),this.onFocus=(e=>{this.state.showFocus||e.target.blur()}),this.classNameForInput=(()=>{let e=`${i.checkbox} ${this.props.className||""}`;return this.state.showFocus&&(e+=` ${i.checkboxShowFocus}`),e}),this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}render(){const e=this.classNameForInput(),t=Object.assign({},this.props,{className:e});return n.createElement("input",Object.assign({type:"checkbox",onFocus:this.onFocus},t))}}j.displayName="Checkbox",t.Checkbox=j;class O extends n.Component{render(){const e=`${i.label} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e});return n.createElement("label",Object.assign({},t))}}O.displayName="Label",t.Label=O;class E extends n.Component{render(){const e=`${i.link} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e,rel:"noopener"});return n.createElement("a",Object.assign({},t))}}E.displayName="Link",t.Link=E,t.LinkTracked=c.asTrackedClickable(E);class w extends n.Component{render(){const e=`${i.inlineLink} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e,rel:"noopener"});return n.createElement("a",Object.assign({},t))}}w.displayName="Link",t.LinkInline=w,t.LinkInlineTracked=c.asTrackedClickable(w);class f extends n.Component{render(){const e=`${i.bigSelect} ${this.props.className||""}`,t=Object.assign({},this.props,{className:e});return n.createElement("select",Object.assign({},t))}}f.displayName="BigSelect",t.BigSelect=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,l){o.exports={callout:"onboarding_callout--callout--3Ervi",pulse:"onboarding_callout--pulse--1VeJ_"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),l=n(205                       );class r extends o.Component{UNSAFE_componentWillMount(){this.interval=setInterval(()=>{this.forceUpdate()},1e3)}componentWillUnmount(){clearInterval(this.interval)}render(){const e=this.props.step.key||this.props.step.highlightOnlyKey,t=document.querySelector(`[data-onboarding-key=${e}]`);if(t){const e=t.getBoundingClientRect();if(!t.offsetParent)return o.createElement("div",null);const n=e.left+e.width/2,r={top:e.top+e.height/2,left:n};return o.createElement("div",{className:l.callout,style:r})}return o.createElement("div",null)}}r.displayName="OnboardingCallout",t.OnboardingCallout=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.PropagatingEvent=class{constructor(t){this.shouldPropagate=!0,this.accept=(()=>{this.shouldPropagate=!1,this.event.stopPropagation(),this.event.preventDefault()}),this.event=t}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),r=s(207                    );var o=s(207                    );t.PropagatingEvent=o.PropagatingEvent;const n=Object.create(null);let c=1;const u=()=>`${c++}`;class a extends i.PureComponent{constructor(e){super(e),this.ref=(e=>{e&&(this.el=e)}),this.focus=(()=>{t.keyboardDispatcher.setFocusedReceiver(this),this.focusDidChange(),this.unmounting&&this.blur()}),this.blur=(()=>{if(t.keyboardDispatcher.isParentOfFocusedReceiver(this)){const e=this.getParentReceiver();e?e.focus():t.keyboardDispatcher.setFocusedReceiver(null),this.focusDidChange()}}),this.hasFocus=(()=>t.keyboardDispatcher.receiverIsReceivingKeyboardEvents(this)),this.focusDidChange=(()=>{if(!this.unmounting)if(this.props.propagateKeyboardFocus){const e=this.getParentReceiver();e&&e.focusDidChange()}else this.props.forceUpdate&&this.props.forceUpdate()}),this.getParentReceiver=(()=>{if(!this.el)return null;let e=this.el.parentElement;for(;e;){const t=e.getAttribute("data-keyboard-receiver");if(null!=t)return n[t];e=e.parentElement}return null}),this.blurSubtreeIfHidden=(e=>{if(!t.keyboardDispatcher.isFocusedReceiver(this))return;const s=[];let i=!1,r=this.el;for(;r;){const t=r.getAttribute("data-keyboard-receiver");if(null!=t&&s.push(t),r===e){i=!0;break}r=r.parentElement}if(i)for(;s.length;){n[s.pop()].onHideOrUnmount()}}),this.handleKeyboardEvent=(e=>{if(this.props.handleKeyDown&&"keydown"===e.event.type&&this.props.handleKeyDown(e),e.shouldPropagate){const t=this.getParentReceiver();t&&t.handleKeyboardEvent(e)}}),this.handleClipboardEvent=((e,t)=>{if(this.props.handleClipboard&&this.props.handleClipboard(e,t),e.shouldPropagate){const s=this.getParentReceiver();s&&s.handleClipboardEvent(e,t)}}),this.id=u(),n[this.id]=this}UNSAFE_componentWillMount(){this.onShowOrMount()}componentWillUnmount(){this.onHideOrUnmount()}onHideOrUnmount(){this.unmounting=!0,this.blur()}onShowOrMount(){this.unmounting=!1,this.props.focusOnMount&&this.focus()}render(){const e=Object.assign({},this.props);return delete e.handleKeyDown,delete e.handleClipboard,delete e.focusOnMount,delete e.forceUpdate,delete e.propagateKeyboardFocus,i.createElement("div",Object.assign({ref:this.ref,"data-keyboard-receiver":this.id},e))}}a.displayName="KeyboardReceiver",t.KeyboardReceiver=a;t.keyboardDispatcher=new class{constructor(){this.hasFocus=!0,this.setCustomFocusElement=(e=>{this.customFocusElement=e,this.customFocusElement.addEventListener("focus",()=>this.focusChanged(!0)),this.customFocusElement.addEventListener("blur",()=>this.focusChanged(!1))}),this.focusChanged=(e=>{this.hasFocus=e,this.focusedReceiver&&this.focusedReceiver.focusDidChange()}),this.setFocusedReceiver=(e=>{const t=this.focusedReceiver;this.focusedReceiver=e,t&&t.focusDidChange()}),this.shouldInterceptKeyboardEvent=(e=>{if(e.target!==this.customFocusElement&&e.target!==document.body){let t=e.target;for(;t;){if("fullscreen-root"===t.id)return!1;t=t.parentElement}return!0}const t=new r.PropagatingEvent(e);return this.dispatchKeyboardEvent(t),!t.shouldPropagate}),this.shouldInterceptClipboardEvent=((e,t)=>{if(e.target===this.customFocusElement||e.target===document.body){e.preventDefault();const s=new r.PropagatingEvent(e);return this.dispatchClipboardEvent(s,t),!s.shouldPropagate}}),this.dispatchKeyboardEvent=(e=>{this.focusedReceiver&&function(e){for(;null!==e;){if("none"===e.style.display)return!0;e=e.parentElement}return!1}(this.focusedReceiver.el)?console.warn("Detected a hidden focused receiver, ignoring keyboard event"):this.focusedReceiver&&this.focusedReceiver.handleKeyboardEvent(e)}),this.dispatchClipboardEvent=((e,t)=>{this.focusedReceiver&&this.focusedReceiver.handleClipboardEvent(e,t)}),this.receiverIsReceivingKeyboardEvents=(e=>{if(!this.hasFocus)return!1;if(this.focusedReceiver===e)return!0;let t=this.focusedReceiver;for(;t&&t.props.propagateKeyboardFocus;){const s=t.getParentReceiver();if(s===e)return!0;t=s}return!1}),this.isFocusedReceiver=(e=>this.focusedReceiver===e),this.isParentOfFocusedReceiver=(e=>{let t=this.focusedReceiver;for(;t;){if(t===e)return!0;t=t.getParentReceiver()}}),this.focusSubtreeIfNecessary=(e=>{const t=[e];let s=0;for(;s<t.length;){const e=t[s],i=e.getAttribute("data-keyboard-receiver");if(i&&n[i].onShowOrMount(),e.children)for(let s=0;s<e.children.length;s++)t.push(e.children[s]);s++}}),this.blurSubtreeIfNecessary=(e=>{this.focusedReceiver&&this.focusedReceiver.blurSubtreeIfHidden(e)}),this.focusedReceiverName=(()=>{if(this.focusedReceiver)return this.focusedReceiver.props.name})}focusIfUnfocused(){const e=document.activeElement;this.customFocusElement&&this.customFocusElement!==e&&(!e||e===document.body)&&this.customFocusElement.focus()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,d){e.exports={modalBackground:"header_modal--modalBackground--3fkKH",modal:"header_modal--modal--3V0h3 modal--modalShadow--HbHkT",header:"header_modal--header--c8kL6",headerSmall:"header_modal--headerSmall--8-Lat header_modal--header--c8kL6",headerLarge:"header_modal--headerLarge--3rkae header_modal--header--c8kL6",headerHidden:"header_modal--headerHidden--1BUZD",headerModalTitle:"header_modal--headerModalTitle--8hnpX",closeX:"header_modal--closeX--1_e8o",fixedTop:"header_modal--fixedTop--34GrB"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g450dd3e9",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 5.293l4.789-4.79.707.708-4.79 4.79 4.79 4.789-.707.707-4.79-4.79-4.789 4.79-.707-.707L5.293 6 .502 1.211 1.21.504 6 5.294z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(34,1   ),i=o(177                             ),n=o(199      ),a=o(144                        ),r=o(209                 ),p=o(210                              );class d extends t.Component{constructor(){super(...arguments),this.onBackgroundMouseDown=(()=>{this.props.disableClickOutsideToHide||this.props.onClose&&this.props.onClose()}),this.onModalMouseDown=(e=>{e.stopPropagation()}),this.onKeyDown=(e=>{e.keyCode===n.Key.ESCAPE&&(this.props.disableClickOutsideToHide||this.props.onClose&&this.props.onClose())})}render(){const e=`${r.modalBackground} ${i.PREVENT_EVENT_CAPTURE} ${this.props.className||""} ${this.props.fixedTop?r.fixedTop:""}`;let s=this.props.maxWidth||492,o=this.props.minWidth||348;return s<o&&(s=492,o=348),t.createElement("div",{tabIndex:0,className:e,onMouseDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown},t.createElement("div",{className:r.modal,style:{maxWidth:s,minWidth:o},onMouseDown:this.onModalMouseDown},t.createElement(l,{headerSize:this.props.headerSize,title:this.props.title,onClose:this.props.onClose,onMouseDown:this.onModalMouseDown,isCloseHidden:this.props.isCloseHidden},this.props.children)))}}d.displayName="HeaderModal",s.HeaderModal=d;class l extends t.Component{render(){let e=r.header;switch(this.props.headerSize){case"small":e=r.headerSmall;break;case"large":e=r.headerLarge;break;case"hidden":e=r.headerHidden}const s=`${this.props.headerClassname||""} ${e}`;return t.createElement("div",{className:`${this.props.className||""}`},t.createElement("div",{className:s,onMouseMove:this.props.onMouseMove},"string"==typeof this.props.title?t.createElement("div",{className:r.headerModalTitle},this.props.title):this.props.title,!this.props.isCloseHidden&&t.createElement("div",{className:r.closeX,onMouseDown:this.props.onMouseDown,onClick:this.props.onClose},t.createElement(a.Svg,{svg:p}))),this.props.children)}}l.displayName="HeaderModalContainer",s.HeaderModalContainer=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(34,1   );class n extends a.Component{constructor(){super(...arguments),this.traverseChildren=(()=>{this.firstTabbableEl=null,this.lastTabbableEl=null;const t=e=>{i(e)&&((!this.firstTabbableEl||e.tabIndex<this.firstTabbableEl.tabIndex)&&(this.firstTabbableEl=e),(!this.lastTabbableEl||e.tabIndex>=this.lastTabbableEl.tabIndex)&&(this.lastTabbableEl=e));for(let s of Array.from(e.children))t(s)};t(this.container)}),this.containerRef=(t=>{this.container=t}),this.onFrontGuardFocus=(()=>{this.traverseChildren(),this.lastTabbableEl&&setTimeout(()=>{this.lastTabbableEl.focus()},0)}),this.onBackGuardFocus=(()=>{this.traverseChildren(),this.firstTabbableEl&&setTimeout(()=>{this.firstTabbableEl.focus()},0)})}render(){return a.createElement("span",null,a.createElement("span",{tabIndex:this.props.startTabIndex||0,onFocus:this.onFrontGuardFocus}),a.createElement("span",{ref:this.containerRef},this.props.children),a.createElement("span",{tabIndex:this.props.endTabIndex||0,onFocus:this.onBackGuardFocus}))}}n.displayName="TabLoop",e.TabLoop=n;const i=t=>{let e;const s=t.nodeName.toLowerCase(),a=null!=t.getAttribute("tabindex");return"-1"!==t.getAttribute("tabindex")&&((e=/^(input|select|textarea|button)$/.test(s)?!t.disabled:"a"===s&&t.href||a)&&r(t))},r=t=>{if(!(t.offsetWidth||t.offsetHeight||t.getClientRects().length))return!1;for(var e=getComputedStyle(t).visibility;"inherit"===e;)t=t.parentElement,e=getComputedStyle(t).visibility;return"hidden"!==e};t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(a,e,r){a.exports={backgroundOverlay:"draggable_modal--backgroundOverlay--CPf6e",positionedContainer:"draggable_modal--positionedContainer--1aHEn",positionedContainerAnimated:"draggable_modal--positionedContainerAnimated--3Exj_ draggable_modal--positionedContainer--1aHEn",popup:"draggable_modal--popup--2HDaD",positionedContainerDragging:"draggable_modal--positionedContainerDragging--CAkAw",frame:"draggable_modal--frame--ZkQEE modal--modalShadow--HbHkT",header:"draggable_modal--header--PzIrk",contentContainer:"draggable_modal--contentContainer--PfnuK",arrow:"draggable_modal--arrow--AnRXT",arrowRightTitle:"draggable_modal--arrowRightTitle--r0wye",arrowRightBody:"draggable_modal--arrowRightBody--2yQTJ",arrowBottom:"draggable_modal--arrowBottom--f5qLk draggable_modal--arrow--AnRXT",resizeTarget:"draggable_modal--resizeTarget--pSHWd",resizeVertical:"draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeHorizontal:"draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeCorner:"draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeTop:"draggable_modal--resizeTop--1k1Zr draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeBottom:"draggable_modal--resizeBottom--3bIv1 draggable_modal--resizeVertical--3omqu draggable_modal--resizeTarget--pSHWd",resizeLeft:"draggable_modal--resizeLeft--Qq71b draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeRight:"draggable_modal--resizeRight--BMx8w draggable_modal--resizeHorizontal--Fi0BD draggable_modal--resizeTarget--pSHWd",resizeTopLeft:"draggable_modal--resizeTopLeft--27ACr draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeTopRight:"draggable_modal--resizeTopRight--3ntDc draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeBottomLeft:"draggable_modal--resizeBottomLeft--2rytk draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd",resizeBottomRight:"draggable_modal--resizeBottomRight--3XxsI draggable_modal--resizeCorner--2aV7B draggable_modal--resizeTarget--pSHWd"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(34,1   ),o=i(198         ),n=i(208                                           ),a=i(211                                              ),h=i(212                                  ),r=i(177                             ),l=i(143              ),p=i(213                    ),d=40,c=16;var g,m,u;!function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.RIGHT_TITLE=2]="RIGHT_TITLE",t[t.RIGHT_BODY=3]="RIGHT_BODY"}(g=e.ArrowPosition||(e.ArrowPosition={})),function(t){t[t.IGNORE=0]="IGNORE"}(m=e.OnCloseIgnore||(e.OnCloseIgnore={}));class w extends l.Component{constructor(t){super(t),this.minBottomMargin=(()=>this.props.minBottomMargin||c),this.windowResized=(()=>{this.state.position&&this.setState({position:new o.Vector(this.state.position.x,this.state.position.y)})}),this.adjustPositionToFitOnScreen=(()=>{if(!this.props.animatedIn&&this.state.position.equals(this.props.initialPosition)){const{top:t,bottom:e,height:i}=this.el.getBoundingClientRect(),s=this.state.position.x;let n=this.state.position.y;t<0?n=0:e+this.minBottomMargin()>window.innerHeight&&(n=window.innerHeight-(i+this.minBottomMargin()));const a=new o.Vector(s,n);a.equals(this.state.position)||this.setState({position:a})}}),this.onKeyDown=(t=>{27===t.event.keyCode&&this.props.onClose&&(this.props.onClose()===m.IGNORE?t.shouldPropagate=!0:t.accept())}),this.keyReceiverRef=(t=>this.keyEl=t),this.focus=(()=>this.keyEl.focus()),this.stopPropagation=(t=>t.stopPropagation()),this.frameRef=(t=>{this.el=t,t&&this.props.acceptHeight&&this.props.acceptHeight(t.getBoundingClientRect().height)}),this.onContentMouseDown=(t=>{this.props.dragHeaderOnly&&t.stopPropagation()}),this.mouseDown=(t=>{if(2===t.button)return;t.stopPropagation();const e=t.target;if("input"===e.tagName.toLowerCase()||"label"===e.tagName.toLowerCase())return;const i=this.el.getBoundingClientRect(),s=new o.Vector(t.pageX,t.pageY);this.setState({position:new o.Vector(i.left,i.top),lastDragPosition:s,startDragPosition:s})}),this.documentMouseMove=(t=>{if(!this.state.lastDragPosition)return l.SKIP_RECORDING;{const e=this.state.position,i=new o.Vector(t.pageX,t.pageY),s=i.subtract(this.state.lastDragPosition);this.setState({position:e.add(s),lastDragPosition:i,hasCustomPosition:!0})}}),this.documentMouseUp=(()=>{(this.state.startDragPosition||this.state.lastDragPosition)&&(this.props.onDragEnd&&this.state.startDragPosition!==this.state.lastDragPosition&&this.props.onDragEnd(),this.setState({lastDragPosition:null,startDragPosition:null}))}),this.resizeTop=(t=>{let e=this.state.height-t;this.props.minHeight&&(e=Math.max(this.props.minHeight,e));const i=new o.Vector(this.state.position.x,this.state.position.y+t);this.setState({height:e,position:i})}),this.resizeBottom=(t=>{let e=this.state.height+t;this.props.minHeight&&(e=Math.max(this.props.minHeight,e)),this.setState({height:e})}),this.resizeLeft=(t=>{let e=this.state.width-t;this.props.minWidth&&(e=Math.max(this.props.minWidth,e));const i=new o.Vector(this.state.position.x+t,this.state.position.y);this.setState({width:e,position:i})}),this.resizeRight=(t=>{let e=this.state.width+t;this.props.minWidth&&(e=Math.max(this.props.minWidth,e)),this.setState({width:e})}),this.state={position:t.initialPosition,width:t.initialWidth,height:null!=t.initialHeight?t.initialHeight+d:void 0,showArrow:!0}}componentDidMount(){document.addEventListener("mousemove",this.documentMouseMove),document.addEventListener("mouseup",this.documentMouseUp),this.adjustPositionToFitOnScreen();const{width:t,height:e}=this.el.getBoundingClientRect();this.setState({width:t,height:e}),window.addEventListener("resize",this.windowResized)}componentWillUnmount(){document.removeEventListener("mousemove",this.documentMouseMove),document.removeEventListener("mouseup",this.documentMouseUp),window.removeEventListener("resize",this.windowResized)}UNSAFE_componentWillUpdate(t){this.state.hasCustomPosition?this.state.showArrow&&this.setState({showArrow:!1}):this.props.initialPosition.equals(t.initialPosition)||this.setState({position:t.initialPosition}),this.props.initialWidth!==t.initialWidth&&this.setState({width:t.initialWidth}),this.props.initialHeight!==t.initialHeight&&this.setState({height:t.initialHeight+d})}componentDidUpdate(t,e){if(this.adjustPositionToFitOnScreen(),!this.props.initialHeight&&t!==this.props){let t=this.el.style.height;this.el.style.height=null;let e=this.el.getBoundingClientRect();this.el.style.height=t,this.state.height!==e.height&&this.setState({height:e.height})}this.state.width===e.width&&this.state.height===e.height||this.props.onSizeChange&&this.props.onSizeChange()}render(){let t=this.state.position||new o.Vector(0,0),e=this.state.width||0;const i={top:(t=t.clamp({x:10-e,y:10-d,width:window.innerWidth-20+e,height:window.innerHeight-20+d})).y,left:t.x};this.state.width&&(i.width=this.state.width),this.state.height&&(i.height=this.state.height);let l=this.props.animatedIn?p.positionedContainerAnimated:p.positionedContainer;this.state.lastDragPosition&&(l+=` ${p.positionedContainerDragging}`);return s.createElement("div",{className:`${l} ${r.PREVENT_EVENT_CAPTURE}`,style:i,ref:this.frameRef,onMouseDown:this.mouseDown},s.createElement("div",{className:p.frame,style:this.props.frameStyle},this.state.showArrow&&this.props.arrowRelativeX&&s.createElement("div",{className:(()=>{switch(this.props.arrowPosition){case g.RIGHT_TITLE:return p.arrowRightTitle;case g.RIGHT_BODY:return p.arrowRightBody;case g.TOP:return p.arrow;case g.BOTTOM:return p.arrowBottom;default:return null}})(),style:{left:this.props.arrowRelativeX,top:this.props.arrowRelativeY}}),s.createElement(h.TabLoop,null,s.createElement(a.HeaderModalContainer,{onClose:this.props.onClose,headerClassname:`${p.header} ${this.props.headerClassName||""}`,onMouseDown:this.stopPropagation,onMouseMove:this.documentMouseMove,headerSize:this.props.headerSize,title:this.props.title},s.createElement("div",{className:p.contentContainer,onMouseDown:this.onContentMouseDown},s.createElement(n.KeyboardReceiver,{name:"Draggable modal",handleKeyDown:this.onKeyDown,focusOnMount:!0,ref:this.keyReceiverRef},this.props.children))))),this.props.allowResize&&s.createElement(R,{resizeTop:this.resizeTop,resizeBottom:this.resizeBottom,resizeLeft:this.resizeLeft,resizeRight:this.resizeRight}))}}w.displayName="DraggableModal",e.DraggableModal=w;class T extends s.Component{render(){return s.createElement("div",{className:`${p.backgroundOverlay} ${r.PREVENT_EVENT_CAPTURE}`},s.createElement(w,Object.assign({},this.props)))}}T.displayName="DraggableModalBgDisabled",e.DraggableModalBgDisabled=T,function(t){t[t.TOP=0]="TOP",t[t.BOTTOM=1]="BOTTOM",t[t.LEFT=2]="LEFT",t[t.RIGHT=3]="RIGHT"}(u||(u={}));class R extends s.PureComponent{constructor(t){super(t),this.startResizing=((t,e)=>{e.stopPropagation(),e.preventDefault();const i=Object.create(null);t.forEach(t=>{i[t]=!0});const s=new o.Vector(e.clientX,e.clientY);this.setState({isResizing:i,lastPosition:s}),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}),this.onMouseMove=(t=>{if(!this.state.isResizing)return void this.unbindDocumentListeners();const e=new o.Vector(t.clientX,t.clientY),i=e.subtract(this.state.lastPosition);this.state.isResizing[u.TOP]&&this.props.resizeTop(i.y),this.state.isResizing[u.BOTTOM]&&this.props.resizeBottom(i.y),this.state.isResizing[u.LEFT]&&this.props.resizeLeft(i.x),this.state.isResizing[u.RIGHT]&&this.props.resizeRight(i.x),this.setState({lastPosition:e})}),this.onMouseUp=(t=>{this.unbindDocumentListeners(),this.setState({isResizing:null})}),this.unbindDocumentListeners=(()=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}),this.state={isResizing:null}}render(){return s.createElement("div",null,s.createElement("div",{className:p.resizeTop,onMouseDown:this.startResizing.bind(this,[u.TOP])}),s.createElement("div",{className:p.resizeTopRight,onMouseDown:this.startResizing.bind(this,[u.TOP,u.RIGHT])}),s.createElement("div",{className:p.resizeTopLeft,onMouseDown:this.startResizing.bind(this,[u.TOP,u.LEFT])}),s.createElement("div",{className:p.resizeLeft,onMouseDown:this.startResizing.bind(this,[u.LEFT])}),s.createElement("div",{className:p.resizeRight,onMouseDown:this.startResizing.bind(this,[u.RIGHT])}),s.createElement("div",{className:p.resizeBottom,onMouseDown:this.startResizing.bind(this,[u.BOTTOM])}),s.createElement("div",{className:p.resizeBottomRight,onMouseDown:this.startResizing.bind(this,[u.BOTTOM,u.RIGHT])}),s.createElement("div",{className:p.resizeBottomLeft,onMouseDown:this.startResizing.bind(this,[u.BOTTOM,u.LEFT])}))}}R.displayName="ResizeTarget",t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,e,n){o.exports={content:"onboarding_frame--content--28S4E text--labelText--1wP9s",imgContainer:"onboarding_frame--imgContainer--3juNp",footer:"onboarding_frame--footer--2VGcw",footer_non_beta:"onboarding_frame--footer_non_beta--33q2N onboarding_frame--footer--2VGcw",footer_beta:"onboarding_frame--footer_beta--qlhUr onboarding_frame--footer--2VGcw"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(34,1   ),o=n(38,1       ),s=n(198         ),r=n(204                                            ),a=n(206                                       ),l=n(214                                                    ),h=n(215                     ),p=n(220                      ),d=n(144                        ),m=n(203                                    ),c=328,g=10,u=12;var E;!function(t){t[t.PUBLISH=0]="PUBLISH",t[t.LIBRARY=1]="LIBRARY",t[t.CREATE_TEAM=2]="CREATE_TEAM",t[t.CREATE_FILE=3]="CREATE_FILE",t[t.CREATE_PROJECT=4]="CREATE_PROJECT",t[t.ORG_SELF_SERVE=5]="ORG_SELF_SERVE"}(E=e.ButtonType||(e.ButtonType={}));class b extends i.Component{constructor(t){super(t),this.getOnboardingKeyElementInterval=null,this.done=(()=>{this.props.done()}),this.startScanningForOnboardingKeyElement=(t=>{if(this.cleanUpOnboardingKeyElementScanner(),!t.key)return void this.setState({onboardingKeyElement:null});const e=this.getOnboardingKeyElement(t);this.setState({onboardingKeyElement:e}),null==e&&(this.getOnboardingKeyElementInterval=setInterval(()=>{const e=this.getOnboardingKeyElement(t);null!=e&&(this.setState({onboardingKeyElement:e}),this.cleanUpOnboardingKeyElementScanner())},50))}),this.cleanUpOnboardingKeyElementScanner=(()=>{null!=this.getOnboardingKeyElementInterval&&(clearInterval(this.getOnboardingKeyElementInterval),this.getOnboardingKeyElementInterval=null)}),this.dismiss=(()=>{(this.props.dismiss||this.props.done)()}),this.acceptHeight=(t=>this.setState({modalHeight:t})),this.getButtonText=(()=>{let t;return this.state.step===this.props.steps.length-1?null!=this.props.buttonType?this.props.buttonType===E.PUBLISH?t="View Components":this.props.buttonType===E.LIBRARY?t="Browse the Library":this.props.buttonType===E.CREATE_FILE?t="Create File":this.props.buttonType===E.CREATE_TEAM?t="Create Team":this.props.buttonType===E.CREATE_PROJECT?t="Create Project":this.props.buttonType===E.ORG_SELF_SERVE&&(t="Got it"):t="Done":t="Next",t}),this.experimentalText=(t=>{if(t)return i.createElement("div",null,i.createElement("span",null,"BETA"),"This feature is still in development")}),this.nextButtonRef=(t=>{t&&(this.button=o.findDOMNode(t),this.focusButton())}),this.focusButton=(()=>{this.button&&this.button.focus()}),this.computeLocation=(t=>{const e=t.left+t.width/2;let n=t.bottom+18,i=e-this.props.width/2;i=Math.max(i,g);let o=e-(i=Math.min(i,window.innerWidth-g-this.props.width)),s=l.ArrowPosition.TOP;return window.innerHeight-n<this.state.modalHeight+u&&(n=t.top-this.state.modalHeight-u,s=l.ArrowPosition.BOTTOM),{left:i,top:n,arrowRelativeX:o,arrowRelativeY:void 0,arrowPosition:s}}),this.calculateFramePosition=(t=>{if(this.state.onboardingKeyElement){const t=this.state.onboardingKeyElement.getBoundingClientRect();return this.computeLocation(t)}return{top:null,left:null,arrowPosition:null,arrowRelativeX:null,arrowRelativeY:null}}),this.next=(()=>{const t=this.state.step+1;if(this.props.hook){const e=this.props.steps[this.state.step],n=this.props.steps[t];this.props.hook(e,n||null)}t===this.props.steps.length?this.done():this.setState({step:t})}),this.getOnboardingKeyElement=(t=>{const e=document.querySelector(`[data-onboarding-key=${t.key}]`);if(!e)return null;const n=e.getBoundingClientRect();return 0===n.left&&0===n.right&&0===n.height&&0===n.width?null:e}),this.state={modalHeight:c,step:0,onboardingKeyElement:null}}componentDidMount(){window.addEventListener("beforeunload",this.dismiss),this.props.typeForLogging&&p.trackEvent("onboardingShown",{type:this.props.typeForLogging})}componentWillUnmount(){window.removeEventListener("beforeunload",this.dismiss),this.cleanUpOnboardingKeyElementScanner()}componentDidUpdate(t,e){if(this.focusButton(),e.step!==this.state.step){const t=this.props.steps[this.state.step];this.startScanningForOnboardingKeyElement(t)}}render(){const t=this.props.steps[this.state.step],e=this.calculateFramePosition(t),n=e.top&&e.left?new s.Vector(e.left,e.top):new s.Vector(window.innerWidth/2-this.props.width/2,window.innerHeight/2-this.props.height/2),o=i.createElement(l.DraggableModal,{acceptHeight:this.acceptHeight,title:t.title,initialPosition:n,arrowRelativeX:e.arrowRelativeX,arrowRelativeY:e.arrowRelativeY,arrowPosition:e.arrowPosition,animatedIn:!0,dragHeaderOnly:!0,onClose:this.props.onClose?this.props.onClose:this.dismiss},(t.key||t.highlightOnlyKey)&&i.createElement(a.OnboardingCallout,{step:t}),i.createElement("div",{style:{width:`${this.props.width}px`}},t.element),i.createElement("div",{className:t.isInBeta?h.footer_beta:h.footer_non_beta},this.experimentalText(t.isInBeta),t.trackingContextName?i.createElement(r.ButtonPrimaryTracked,{ref:this.nextButtonRef,onClick:this.next},this.getButtonText()):i.createElement(r.ButtonPrimary,{ref:this.nextButtonRef,onClick:this.next},this.getButtonText())));return t.trackingContextName?m.asTrackedElement(o,t.trackingContextName):o}}b.displayName="OnboardingFrame",b.defaultProps={width:350,height:c},e.OnboardingFrame=b,e.OnboardingContent=(t=>i.createElement("div",{className:h.content},t.children)),e.OnboardingImg=(t=>{let e=void 0===t.width?{width:"300px"}:{width:`${t.width}px`};return t.margin&&(e.margin=t.margin),i.createElement("div",{className:h.imgContainer},i.createElement("img",{src:t.src,style:e}))}),e.OnboardingSvg=(t=>{let e=void 0===t.width?{width:"300px"}:{width:`${t.width}px`};return t.margin&&(e.margin=t.margin),i.createElement("div",{className:h.imgContainer},i.createElement(d.Svg,{svg:t.svg,style:e,useOriginalSrcFills:!0}))}),e.WelcomeStep=(t=>({title:`Welcome ${t}!`,trackingContextName:"Welcome Onboarding Modal",element:i.createElement(e.OnboardingContent,null,i.createElement("p",null,"Welcome to Figma!"),"Were different from other design tools in some really special ways, so wed like to take you through them.")})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(34,1   ),o=n(232                        ),a=n(219                ),r=n(216                                                    );t.default=class{constructor(e){this.store=e}handleAction(e,t){if("show_content"===e){const e=s.createElement(r.OnboardingContent,null,s.createElement("p",null,t.content.text),s.createElement("a",{target:"_blank",href:t.content.href},t.content.href_text));t.delaySeconds?setTimeout(()=>this.store.dispatch(o.responsiveContent.show(t.title,e,t.key)),1e3*t.delaySeconds):this.store.dispatch(o.responsiveContent.show(t.title,e,t.key))}"set_flag"===e&&this.store.dispatch(o.userFlags.put({name:t.flag})),"segment_track"===e&&a.segmentTrackEvent(t.eventId,t.params)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(192                        ),r=t(194                      ),s=t(197                    ),i=t(217                       );let c={handle(e){}};n.initializeResponsiveContentEventHandler=function(e){const n=o.JsonMachineProvider.fromJson(r.default,new s.WebQueryProcessor(e),new i.default(e));c=new o.Handler(n,new o.InMemoryUserContextProvider),window.responsive_content_handler=c},n.getResponsiveContentEventHandler=function(){return c},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=i(0                    ),s=i(176              ),a=i(174          ),r=i(141     ),o=i(185                              ),l=i(97      ),c=i(218                                                     ),_='\n\n!function(){var analytics=window.analytics=window.analytics||[];if(!analytics.initialize)if(analytics.invoked)window.console&&console.error&&console.error("Segment snippet included twice.");else{analytics.invoked=!0;analytics.methods=["trackSubmit","trackClick","trackLink","trackForm","pageview","identify","reset","group","track","ready","alias","page","once","off","on"];analytics.factory=function(t){return function(){var e=Array.prototype.slice.call(arguments);e.unshift(t);analytics.push(e);return analytics}};for(var t=0;t<analytics.methods.length;t++){var e=analytics.methods[t];analytics[e]=analytics.factory(e)}analytics.load=function(t){var e=document.createElement("script");e.type="text/javascript";e.async=!0;e.src=("https:"===document.location.protocol?"https://":"http://")+"cdn.segment.com/analytics.js/v1/"+t+"/analytics.min.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(e,n)};analytics.SNIPPET_VERSION="3.1.0";\n}}();\n\n',d=10,u={browser_name:s.desktopApp?"Figma Desktop":r.name,browser_version:+r.version,os_name:r.osname,os_version:r.osversion,release:n.initialOptions().release_git_commit,release_tag:n.initialOptions().release_git_tag};s.desktopApp&&(u.desktop_version=s.desktopApp.getInformationalVersion());class f{constructor(t,e){if(this._win=t,this._PREFIX="segment:",this._USER_ID_KEY=this._PREFIX+"userId",this._storage=a.sessionStorageOrNull,this._feature_flags_with_prefix={},this.identifyUser=(t=>{if(!this._storage)return;if(!t||!t.id)return void this.logoutUser();let e={email:t.email,name:t.name,username:t.handle||t.name,handle:t.handle,utcOffset:(new Date).getTimezoneOffset(),trackTags:t.track_tags,createdAt:t.created_at},i=JSON.stringify(e),s=this._PREFIX+"traits:"+t.id;if(this._storage[s]===i)return;this._analytics.identify(t.id,e,{Wootric:!1}),this._storage[this._USER_ID_KEY]=t.id,this._storage[s]=i;const a=window.location.pathname.startsWith("/files"),r=n.initialOptions().created_file_count;window.wootric&&window.wootricSettings&&a&&r>=5&&!function(){try{return window.self!==window.top}catch(t){return!0}}()&&window.wootric("run")}),this.logoutUser=(()=>{if(!this._storage)return;let t=this._storage[this._USER_ID_KEY];t&&(delete this._storage[this._USER_ID_KEY],delete this._storage[this._PREFIX+"traits:"+t],this._analytics.ready(()=>{this._analytics.user().reset()}))}),e){if(!this._analytics)throw new Error('Unable to use Segment, "analytics" is undefined.');if(this.trackingSessionUuid=n.initialOptions().tracking_session_id||Math.random().toString(36).substring(2),n.initialOptions().feature_flags)for(const t in n.initialOptions().feature_flags)this._feature_flags_with_prefix["flag_"+t]=n.initialOptions().feature_flags[t];this._analytics.load(e),this.identifyUser(n.initialOptions().user_data),this._analytics.page()}else console.warn("Segment tracking is disabled.")}get _analytics(){return this._win.analytics}get userId(){if(this._analytics.user)return this._analytics.user().id()}get anonymousId(){if(this._analytics.user)return this._analytics.user().anonymousId()}track(t,e={}){null==e&&(e={}),Object.keys(e).forEach(t=>{if("[object Object]"===Object.prototype.toString.call(e[t]))throw new Error("Analytics payloads CANNOT have object values")});const i=n.initialOptions().feature_flags&&n.initialOptions().feature_flags.stop_tracking_all_feature_flags;let s=Object.assign({},e||{},i?{}:this._feature_flags_with_prefix,u,{tracking_session_id:this.trackingSessionUuid});if(this._analytics.track(t,s),n.initialOptions().feature_flags&&n.initialOptions().feature_flags.responsive_content_system_web)try{c.getResponsiveContentEventHandler().handle({id:t,userId:this._storage[this._USER_ID_KEY]})}catch(a){y(a.toString(),a.stack)}}}e.segmentTrackEvent=((t,i)=>{e.segment&&e.segment.track(t,i)}),e.segment=(()=>{const t=n.initialOptions().segment_web_key;try{if(eval.call(null,_),window.analytics)return new f(window,t)}catch(e){console.error(e)}return{track(){}}})(),window.segmentTrack=function(){return e.segment.track.apply(e.segment,arguments)},window.segmentRandomID=function(){return o.getRandomID()};let p=null;function g(t){return!!/Invalid fit value:/.test(t)||(!!/Calling "\/api\/file_metadata\/:file_key" failed/.test(t)||(!!/Fetching https:\/\/static\.figma\.com\/fullscreen\//.test(t)||(!!/Failed to load https:\/\/static\.figma\.com\/fullscreen\//.test(t)||!!/Cannot initialize fullscreen with an outdated desktop app shell/.test(t))))}e.trackFullscreenEvent=function(t,e){(p||(p=new Promise((t,e)=>{let i=document.createElement("iframe");i.onload=(()=>{try{const a=n.initialOptions().segment_fullscreen_key;let r=i.contentWindow,o=r.document;o.body.appendChild(o.createElement("script")),r.eval(_),r.analytics?t(new f(r,a)):t()}catch(s){console.error(s),e(s)}}),i.src="/fullscreen_analytics_iframe";let s=i.style;s.position="absolute",s.right=s.bottom="200%",document.body.appendChild(i)}))).then(i=>{i&&i.track(t,e)})},e.shouldIgnoreErrorForDashboard=g;let m=0;const h=""+Math.random();function y(t,i){if(!i&&("Script error."===t||"UnknownError"===t)||null===i&&"Uncaught SyntaxError: Unexpected identifier"===t)return;if(function(t,e){return!!(/\bintercomcdn\.com\b/.test(e)||/\bkaspersky-labs\.com\b/.test(e)||/\bchrome-extension:\/\//.test(e)||/\bmoz-extension:\/\//.test(e)||/\bsafari-extension:\/\//.test(e)||/a\[b\]\.target\.className\.indexOf is not a function/.test(t)||/\(event\.target\.className \|\| ""\)\.indexOf is not a function/.test(t))}(t,i+=""))return;if(n.initialOptions().feature_flags.new_error_reporting){if(m>d)return;let a=e.segment.userId;const o=window.store;if(o){const t=o.getState();t.user&&(a=t.user.id)}let c={timestamp:(new Date).toISOString(),userID:a||"",sessionID:e.segment.anonymousId||h,sessionErrorIndex:m,errorMessage:t,errorStack:i,browserName:s.desktopApp?"Figma Desktop":r.name,browserVersion:s.desktopApp?s.desktopApp.getInformationalVersion():""+r.version,release:n.initialOptions().release_git_commit||"dummy_release_version-"+Math.random(),OSName:r.osname,OSVersion:""+r.osversion,cluster:n.initialOptions().cluster_name};l.default.post(`${n.initialOptions().error_dashboard_url}/errors`,c)}if(++m>1)return;if(n.initialOptions().report_frontend_exceptions_to_slack)return void l.default.post("/api/exceptions/frontend",Object.assign({email:n.initialOptions().user_data&&n.initialOptions().user_data.email,url:window.location.href,commit:n.initialOptions().release_git_commit,message:t,stack:i},u));let a=[i.slice(0,512),i.slice(512,1024),i.slice(1024,1536),i.slice(1536,2048),i.slice(2048,2560)],o={message:t,release:n.initialOptions().release_git_commit,raw_stack:a[0],raw_stack2:a[1],raw_stack3:a[2],raw_stack4:a[3],raw_stack5:a[4],ignore:g(t),is_assert:!!t.match(/Assertion failure:/)};e.segment.track("unhandled_error",o)}e.raiseErrorToSegment=function(t){if(t instanceof Error)y(t.toString(),t.stack),console.error(t);else{let e=new Error(t);y(e.toString(),e.stack),console.error(e)}},window.addEventListener("error",t=>{let e=t.error&&t.error.stack;y(t.message,e)}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t(173                        ),n=t(126                     ),r=t(219          );function a(e,i={}){for(const t in i)t.match("_")&&console.error(`WARNING! snake_case not allowed as analytics keys. You're passing "${t}" as a key in params for event "${e}". Use camelCase instead.`);r.segmentTrackEvent(e,i)}function d(e,i,t,o={}){const n=i.map(e=>t.fileByKey[e]);o.fileKeys=i,o.fileParentOrgIds=[],o.fileTeamIds=[],o.containingFolderIds=[],o.rootOwnerUserIds=[],n.forEach(e=>{const i=e.team_id?null:c(e.folder_id,t);o.rootOwnerUserIds.push(i),o.fileParentOrgIds.push(e.parent_org_id),o.fileTeamIds.push(e.team_id),o.containingFolderIds.push(e.folder_id)}),a(e,o)}var s;function c(e,i){let t;const n=i.roles.byFolderId[e];if(n)return Object.keys(n).forEach(e=>{o.isOwnerOfResource(e,n[e],i)&&(t=e)}),t}i.trackEvent=a,i.trackEventForFile=function(e,i,t,o={}){const n=t.fileByKey[i];o.fileKey=i,o.fileParentOrgId=n.parent_org_id,o.fileTeamId=n.team_id,o.containingFolderId=n.folder_id,n.team_id||(o.rootOwnerUserId=c(n.folder_id,t)),a(e,o)},i.trackBatchEventForFiles=d,i.trackEventForFileCopy=function(e,i,t){const o=e.map(e=>e.key),n=[],r=[],a=[];o.forEach((e,t)=>{const o=i[t];n.push(o.key),r.push(o.folder_id),a.push(o.team_id)}),d("File Copied",o,t,{copiedFileKeys:n,copiedContainingFolderIds:r,copiedFileTeamIds:a})},i.trackEventForFolder=function(e,i,t,o={}){const n=t.folders[i];o.folderId=n.id,o.folderTeamId=n.team_id,n.team_id||(o.rootOwnerUserId=c(i,t)),a(e,o)},i.trackEventForTeam=function(e,i,t,o={}){const n=t.teams[i];o.teamId=n.id,o.teamName=n.name,a(e,o)},i.trackEventForOrg=function(e,i,t,o={}){const n=t.orgById[i];o.orgId=n.id,o.orgName=n.name,a(e,o)},i.trackEventForUser=function(e,i,t={}){const o=i.user;t.userId=o.id,a(e,t)},i.trackEventForRole=function(e,i,t,o={}){const r=i.resource_type,d=r===n.ResourceType.FILE?`${r}Key`:`${r}Id`;o.roleId=i.id,o[d]=i.resource_id_or_key,i.user_id&&(o.roleUserId=i.user_id),a(e,o)},i.trackEventForUserNotification=function(e,i,t,o={}){if(!t.userNotifications)return;let n;t.userNotifications.feed.allIds.forEach((e,t)=>{e===i&&(n=t)});const r=t.userNotifications.feed.byId[i];o.userNotificationView=r.view,o.userNotificationId=r.id,o.userNotificationUserId=r.user_id,o.userNotificationFeedIndex=n;const d=r.locals;d&&(d.role_id&&(o.userNotificationRoleId=d.role_id),d.invite_id&&(o.userNotificationInviteId=d.invite_id),d.team_id&&(o.userNotificationTeamId=d.team_id),d.folder_id&&(o.userNotificationFolderId=d.folder_id),d.file_key&&(o.userNotificationFileKey=d.file_key),d.comment_id&&(o.userNotificationCommentId=d.comment_id),d.comment_parent_id&&(o.userNotificationCommentParentId=d.comment_parent_id),o.userNotificationNotifierUserId=d.user_id),a(e,o)},function(e){e[e.UPGRADE_FLOW=0]="UPGRADE_FLOW",e[e.ADMIN_DASHBOARD=1]="ADMIN_DASHBOARD",e[e.FIGMA_FILE_SHARE=2]="FIGMA_FILE_SHARE",e[e.CREATE_PROJECT=3]="CREATE_PROJECT",e[e.ONBOARDING=4]="ONBOARDING",e[e.TEAM_PAGE=5]="TEAM_PAGE",e[e.PAYWALL=6]="PAYWALL",e[e.INVITE=7]="INVITE",e[e.LEFT_PANEL=8]="LEFT_PANEL",e[e.UPGRADE_EXPERIENCE=9]="UPGRADE_EXPERIENCE",e[e.ORG_UPGRADE_FLOW=10]="ORG_UPGRADE_FLOW"}(s=i.CtaCategories||(i.CtaCategories={})),i.trackCtaClicked=function(e){const i=e.category.map(e=>s[e].toLowerCase()).join(",");a("CTA Clicked",Object.assign({},e,{category:i}))},i.trackContextCtaClicked=function(e){a("CTA Clicked",e)},i.trackPageView=function(e){a("Page Viewed",e)},i.trackModalView=function(e){a("Modal Viewed",e)},i.trackContextView=function(e){a("Context Viewed",e)},i.trackPanelView=function(e){a("Panel Viewed",e)},i.getRootOwnerId=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=a(232                        ),r=a(97      ),s=a(86                  ),n=a(101                               ),o=a(159                          ),c=a(220                      );e.PAGE_SIZE=30,function(t){t.set=s.actionCreator("SET_ACTIVITY_LOGS"),t.clearCursor=s.actionCreator("CLEAR_CURSOR_ACTIVITY_LOGS"),t.get=n.asyncActionCreator("GET_ACTIVITY_LOGS",(a,s)=>{const{newQuery:n,teamId:l,actorEmail:g,eventName:_,date:d}=s,f=a.getState(),p=Object.assign({page_size:e.PAGE_SIZE.toString(),org_id:f.currentOrgId,start_time:d.start,end_time:o.getEndOfDate(d.end)},l?{team_id:l}:null,_?{event_name:JSON.stringify(_)}:null,g?{actor_email:g}:null,n?null:{after:f.activityLogs.cursor.after});r.default.get("/api/activity_logs",p).then(e=>{const i=e.data.meta,r=i[0],s=i[1],p=n?r:a.getState().activityLogs.logs.concat(r);a.dispatch(t.set({logs:p,cursor:s})),c.trackEventForOrg("Activity Logs Fetched",f.currentOrgId,f,{teamIdFilter:l,eventNamesFilter:_,startDateFilter:d.start,endDateFilter:o.getEndOfDate(d.end),filtersOnActorEmail:!!g,isNewQuery:n,numberOfResults:r.length})}).catch(t=>{const e=t.data&&t.data.message||"An error occured while fetching activity logs.";a.dispatch(i.flash.flash(e))})}),t.logExport=n.asyncActionCreator("ACTIVITY_LOGS_LOG_EXPORT",(t,e)=>{a("fig_file_export")}),t.logSaveAsFig=((t,e)=>{a("fig_file_save_as")});const a=t=>{const e=window.store.getState(),a=e.fileByKey[e.editingFileKey];a.parent_org_id&&r.default.post(`/api/activity_logs/${a.key}`,{event_name:t})}}(e.activityLogs||(e.activityLogs={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=e(97      ),o=e(86                  ),i=e(232                        ),r=e(101                               );!function(t){t.setAll=o.actionCreator("ORG_DOMAIN_SET_ALL"),t.getAll=r.asyncActionCreator("ORG_DOMAINS_GET_ALL",(t,a)=>{const e=t.getState().currentOrgId;s.default.get(`/api/orgs/${e}/domains`).then(a=>{t.dispatch(i.orgDomains.setAll({domains:a.data.meta}))}).catch(a=>{t.dispatch(i.flash.flash(a.data&&a.data.message||"An error occurred while fetching domains.",5e3)),console.error(a)})},!1),t.putAll=r.asyncActionCreator("ORG_DOMAINS_PUT_ALL",(t,a,e)=>{if(a.userInitiated){const o=t.getState().currentOrgId;s.default.put(`/api/orgs/${o}/domains`,Object.assign({},a.params)).then(s=>{t.dispatch(r.optimistActions.commit(e)),t.dispatch(i.orgDomains.setAll({domains:s.data.meta})),t.dispatch(i.flash.flash(a.successMessage||"Updated Domains"))}).catch(a=>{t.dispatch(r.optimistActions.revert(e)),t.dispatch(i.flash.error(a.data&&a.data.message||"An error occurred.",5e3)),console.error(a)})}},!0)}(a.orgDomains||(a.orgDomains={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(232                        ),R=r(86                  ),s=r(101                               );!function(e){e.setRosterMembers=R.actionCreator("ORG_ROSTER_SET_ROSTER_MEMBERS"),e.setQuery=R.actionCreator("ORG_ROSTER_SET_QUERY"),e.setFilters=R.actionCreator("ORG_ROSTER_FILTERS"),e.setSortConfig=R.actionCreator("ORG_ROSTER_SORT_CONFIG"),e.selectUserIds=R.actionCreator("ORG_ROSTER_SELECT_USER_IDS"),e.unselectUserIds=R.actionCreator("ORG_ROSTER_UNSELECT_USER_IDS"),e.clearUserIds=R.actionCreator("ORG_ROSTER_CLEAR_USER_IDS"),e.get=s.asyncActionCreator("ORG_ROSTER_GET",(e,t)=>{Promise.all([e.dispatch(o.orgUser.getAll({orgId:t.orgId})),e.dispatch(o.idpUser.getAll())])},!1)}(t.orgRoster||(t.orgRoster={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e(232                        ),l=e(57,1   );function i(n=null,e){return null==n?t.orgSamlConfigDefaultState:o.orgSamlConfig.set.matches(e)?e.payload.orgSamlConfig:n}function a(n=!1,t){return(!o.orgSamlConfig||!o.orgSamlConfig.set.matches(t))&&(!(!o.orgSamlConfig||!o.orgSamlConfig.get.matches(t))||n)}t.orgSamlConfigDefaultState={id:null,org_id:null,idp_entity_id:null,idp_sso_target_url:null,sp_acs_target_url:null,idp_name:null,sp_scim_bearer_token_at:null},t.config=i,t.isFetching=a,t.orgSamlConfig=l.combineReducers({config:i,isFetching:a}),n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(97      ),r=t(86                  ),n=t(232                        ),i=t(101                               ),c=t(224                                 );!function(a){a.generateToken=r.actionCreator("ORG_SAML_CONFIG_GENERATE_TOKEN"),a.revokeToken=r.actionCreator("ORG_SAML_CONFIG_REVOKE_TOKEN"),a.set=r.actionCreator("ORG_SAML_CONFIG_SET"),a.get=i.asyncActionCreator("ORG_SAML_CONFIG_GET",(a,e)=>{const t=a.getState().currentOrgId;o.default.get(`/api/org/${t}/org_saml_config`).then(e=>{e.data.meta.length>0?a.dispatch(n.orgSamlConfig.set({orgSamlConfig:e.data.meta[0]})):a.dispatch(n.orgSamlConfig.set({orgSamlConfig:c.orgSamlConfigDefaultState}))}).catch(e=>{a.dispatch(n.flash.flash(e.data&&e.data.message||"An error occurred while fetching org saml config.",5e3)),console.error(e)})},!1)}(e.orgSamlConfig||(e.orgSamlConfig={})),a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(232                        ),o=r(86                  ),a=r(97      ),i=r(101                               );!function(e){e.set=o.actionCreator("ORGS_USER_SET"),e.put=i.asyncActionCreator("ORG_USER_PUT",(t,r,o)=>{r.userInitiated&&a.default.put(`/api/org_users/${r.orgUser.id}`,r.orgUser).then(r=>{t.dispatch(i.optimistActions.commit(o)),e.put({orgUser:r.data,userInitiated:!1})}).catch(e=>{t.dispatch(i.optimistActions.revert(o)),t.dispatch(s.flash.error(e.message||"An error occurred."))})},!0),e.requestAccountType=i.asyncActionCreator("ORG_USER_REQUEST_ACCOUNT_TYPE",(e,t,r)=>{a.default.put(`/api/org_account_type_request/${t.orgUserId}`).then(()=>{e.dispatch(i.optimistActions.commit(r)),e.dispatch(s.flash.flash("Account type request submitted."))}).catch(t=>{console.error(t),e.dispatch(i.optimistActions.revert(r)),e.dispatch(s.flash.error(t&&t.message||"An error occurred while requesting an account type."))})},!0),e.leaveOrg=i.asyncActionCreator("ORG_USER_LEAVE_ORG",(e,t,r)=>{a.default.del(`/api/org_user/${t.orgId}`).then(()=>{e.dispatch(i.optimistActions.commit(r)),e.dispatch(s.visualBell.enqueue({type:"org_guest_leave",message:`You successfully left ${t.orgName} Organization.`,timeout:5e3}))}).catch(o=>{console.error(o),e.dispatch(i.optimistActions.revert(r)),e.dispatch(s.flash.error(o&&o.message||`An error occurred while leaving ${t.orgName} Organization.`))})},!0),e.batchPut=i.asyncActionCreator("ORG_USER_BATCH_UPDATE_ORG_USERS",(e,t,r)=>{a.default.put(`/api/orgs/${t.orgId}/org_users`,t.params).then(o=>{const a=o.data.meta;e.dispatch(i.optimistActions.commit(r)),e.dispatch(s.orgUser.set({orgUsers:a,orgId:t.orgId}))}).catch(t=>{console.log(t),e.dispatch(i.optimistActions.revert(r)),e.dispatch(s.flash.error(t.message||"An error occurred while updating org users."))})},!0),e.batchDel=i.asyncActionCreator("ORG_USER_DELETE_REFACTOR",(t,r,o)=>{a.default.del(`/api/orgs/${r.orgId}/org_users`,r.params).then(e=>{t.dispatch(i.optimistActions.commit(o));const a=r.params.org_user_ids.length,c=1===a?`${a} user has been removed from the organization.`:`${a} users have been removed from the organization.`;t.dispatch(s.flash.flash(c))}).catch(a=>{t.dispatch(i.optimistActions.revert(o)),t.dispatch(e.getAll({orgId:r.orgId})),t.dispatch(s.flash.error(a.message||"An error occurred."))})},!0),e.getAll=i.asyncActionCreator("ORG_USER_GET_ALL",(e,t)=>{const r=t?t.params:{};a.default.get(`/api/orgs/${t.orgId}/org_users`,r).then(r=>{const o=r.data.meta;e.dispatch(s.orgUser.set({orgUsers:o,orgId:t.orgId}))}).catch(t=>{console.log(t),e.dispatch(s.flash.error(t.message||"An error occurred while fetching org users."))})},!1)}(t.orgUser||(t.orgUser={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(232                        ),a=i(86                  ),c=i(97      ),n=i(101                               );!function(t){t.set=a.actionCreator("ORGS_SET_DISCOVERABLE_TEAMS"),t.get=n.asyncActionCreator("ORG_FETCH_DISCOVERABLE_TEAMS",(t,e,i)=>{const a=t.getState().currentOrgId,r=e||{},{includeProjectCount:s,includeMemberCount:m}=r,p={};m&&(p.include_member_count="true"),s&&(p.include_project_count="true"),c.default.get(`/api/orgs/${a}/teams`,p).then(e=>{t.dispatch(n.optimistActions.commit(i));const a=e.data.meta;t.dispatch(o.orgTeam.set({teams:a}))}).catch(e=>{t.dispatch(n.optimistActions.revert(i)),t.dispatch(o.flash.flash(e.message||"An error occurred while trying to fetch teams within the organization."))})},!0),t.join=n.asyncActionCreator("ORG_JOIN_TEAMS",(t,e,i)=>{const a=t.getState().currentOrgId,r=e.teamId;c.default.post(`/api/orgs/${a}/teams/join`,{team_ids:[r]}).then(()=>{t.dispatch(n.optimistActions.commit(i)),t.dispatch(o.team.onJoin({teamId:r}))}).catch(e=>{t.dispatch(n.optimistActions.revert(i)),t.dispatch(o.flash.error(e.message||"An error occurred while joining."))})},!0)}(e.orgTeam||(e.orgTeam={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(86                  ),o=r(232                        ),i=r(101               ),s=r(97      );!function(e){e.setSummary=a.actionCreator("SET_ORG_MIGRATION_SUMMARY"),e.setOrgName=a.actionCreator("SET_ORG_NAME"),e.setOrgNameError=a.actionCreator("SET_ORG_NAME_ERROR"),e.getSummary=i.asyncActionCreator("GET_ORG_MIGRATION_SUMMARY",(e,t)=>{s.default.get("/api/org_self_serve/summary").then(t=>{e.dispatch(o.orgSelfServe.setSummary({summary:t.data.meta}))}).catch(t=>{e.dispatch(o.flash.error("We've already received your request to upgrade to Figma Organization. Redirecting you to the team page.",5e3)),setTimeout(()=>{e.dispatch(o.fileBrowser.selectView(e.getState().selectedView.viewState.previousView))},5e3)})},!1),e.sendEmailToSales=i.asyncActionCreator("ORG_SELF_SERVE_SEND_EMAIL_TO_SALES",(e,t)=>{s.default.post("/api/org_self_serve/email",{org_name:e.getState().orgSelfServe.orgName.trim()}).catch(e=>{console.error(e)})},!1)}(t.orgSelfServe||(t.orgSelfServe={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(232                        ),a=r(97      ),i=r(86                  ),o=r(101                               );!function(t){t.batchPost=i.actionCreator("IDP_USER_BATCH_POST"),t.getAll=o.asyncActionCreator("IDP_USER_GET_ALL",(t,e)=>{const r=t.getState().currentOrgId;a.default.get(`/api/orgs/${r}/idp_users`).then(e=>{t.dispatch(s.idpUser.batchPost({idpUsers:e.data.meta}))}).catch(e=>{t.dispatch(s.flash.error(e.message||"An error occurred while trying to fetch SCIM users."))})})}(e.idpUser||(e.idpUser={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.SHOW="RESPONSIVE_CONTENT_SHOW",e.HIDE="RESPONSIVE_CONTENT_HIDE",e.show=function(t,n,o){return{type:e.SHOW,payload:{title:t,element:n,key:o}}},e.hide=function(){return{type:e.HIDE}}}(t.responsiveContent||(t.responsiveContent={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(86                        );!function(e){e.put=r.actionCreator("USER_FLAG_PUT"),e.post=r.actionCreator("USER_FLAG_POST"),e.resetOnboarding=r.actionCreator("USER_FLAG_RESET_ONBOARDING"),e.receiveUpdate=r.actionCreator("USER_FLAG_RECEIVE_UPDATE"),e.receiveDelete=r.actionCreator("USER_FLAG_RECEIVE_DELETE")}(t.userFlags||(t.userFlags={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,i,o){"use strict";function t(a){for(var o in a)i.hasOwnProperty(o)||(i[o]=a[o])}Object.defineProperty(i,"__esModule",{value:!0}),t(o(86                  ));var s=o(93                  );i.flash=s.flashActions,t(o(94                                      )),t(o(102                               )),t(o(103                                            )),t(o(104                                     )),t(o(106                                 )),t(o(107                                 )),t(o(108                                      )),t(o(109                                        )),t(o(110                                      )),t(o(111                                     )),t(o(112                               )),t(o(113                             )),t(o(114                                                 )),t(o(115                                      )),t(o(116                                    )),t(o(117                                   )),t(o(118                                         )),t(o(119                                          )),t(o(120                                        )),t(o(121                                          )),t(o(122                                      )),t(o(123                                )),t(o(124                                  )),t(o(125                                 )),t(o(127                             )),t(o(128                                   )),t(o(131                             )),t(o(132                             )),t(o(133                                   )),t(o(134                                )),t(o(135                                  )),t(o(136                             )),t(o(137                                        ));var _=o(153                             );i.visualBell=_.visualBellActions,t(o(154                                   )),t(o(155                             )),t(o(156                                          )),t(o(221                                      )),t(o(222                                   )),t(o(223                                   )),t(o(225                                        )),t(o(226                                 )),t(o(227                                 )),t(o(228                                       )),t(o(229                                 )),t(o(230                                           )),t(o(231                                  )),a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AutocompleteTokenState={OK:"ok",WARN:"warn",ERROR:"error"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=l(158        ),s=l(232                        ),a=l(233                            );t.isInputValid=function(e){let t=!!(e.tokens&&e.tokens.length||e.inputValue&&e.inputValue.length);if(e.tokens&&e.tokens.length)for(let l of e.tokens)l.state===a.AutocompleteTokenState.ERROR&&(t=!1);return e.inputValue&&e.inputValue.length&&!n.isEmail(e.inputValue)&&(t=!1),t},t.toEmailList=function(e){let t=[];for(let l of e.tokens)t.push(l.email);return e.inputValue&&t.push(e.inputValue),t},t.defaultAutocompleteValue={inputValue:"",tokens:[],selectedTokenIndex:null,searchResults:[],selectedSearchResultIndex:null,excludeRolesFor:null},t.autocomplete=function(e=t.defaultAutocompleteValue,l){switch(l.type){case s.autocomplete.RESET:{let n=Object.assign({},t.defaultAutocompleteValue);return l.payload.hardReset||(n.excludeRolesFor=e.excludeRolesFor),n}case s.autocomplete.EXCLUDE_ROLES_FOR:return Object.assign({},e,{excludeRolesFor:l.payload});case s.autocomplete.INPUT_CHANGE:return Object.assign({},e,{inputValue:l.payload.value,selectedTokenIndex:null});case s.autocomplete.ADD_TOKEN:return Object.assign({},e,{tokens:e.tokens.concat([l.payload.token])});case s.autocomplete.DELETE_TOKEN_AT:{let t=l.payload.index,n=e.tokens.slice(0,t).concat(e.tokens.slice(t+1)),s=e.selectedTokenIndex;return 0===n.length?s=null:s===t&&(s=Math.max(0,s-1)),Object.assign({},e,{tokens:n,selectedTokenIndex:s})}case s.autocomplete.SELECT_TOKEN_AT:return l.payload.index!==e.selectedTokenIndex?Object.assign({},e,{selectedTokenIndex:l.payload.index}):e;case s.autocomplete.SELECT_NEXT_TOKEN:if(null!==e.selectedTokenIndex){let t=e.selectedTokenIndex<e.tokens.length-1?e.selectedTokenIndex+1:null;return Object.assign({},e,{selectedTokenIndex:t})}return e;case s.autocomplete.SELECT_PREV_TOKEN:if(null===e.selectedTokenIndex){if(e.tokens.length)return Object.assign({},e,{selectedTokenIndex:e.tokens.length-1})}else{let t=Math.max(0,e.selectedTokenIndex-1);if(t!==e.selectedTokenIndex)return Object.assign({},e,{selectedTokenIndex:t})}return e;case s.autocomplete.SET_SEARCH_RESULTS:return Object.assign({},e,{searchResults:l.payload.results,selectedSearchResultIndex:l.payload.results.length?0:null});case s.autocomplete.SELECT_SEARCH_RESULT_AT:return l.payload.index!==e.selectedSearchResultIndex?Object.assign({},e,{selectedSearchResultIndex:l.payload.index}):e;case s.autocomplete.SELECT_NEXT_SEARCH_RESULT:{let t=Math.min(e.searchResults.length-1,e.selectedSearchResultIndex+1);return t!==e.selectedSearchResultIndex?Object.assign({},e,{selectedSearchResultIndex:t}):e}case s.autocomplete.SELECT_PREV_SEARCH_RESULT:{let t=Math.max(0,e.selectedSearchResultIndex-1);return t!==e.selectedSearchResultIndex?Object.assign({},e,{selectedSearchResultIndex:t}):e}default:return e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=e(107                                 );s.contacts=function(t={},s){if(n.addList.matches(s)){const e=Object.assign({},t);for(const t of s.payload.users)e[t.email]=t;return e}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(232                        );function r(e=null,t){switch(t.type){case o.fileBrowser.SHOW_DROPDOWN:return t.payload;case o.fileBrowser.HIDE_DROPDOWN:return null;default:return e}}t.dropdownShown=r,t.default=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(232                        );let n={secret:null,token:null,provisioning_uri:null};function o(e={},t){return s.twoFactorAuth.error.matches(t)?Object.assign({},e,{currentError:t.payload,loading:!1}):s.user.put.matches(t)?Object.assign({},e,{loading:!1}):s.user.verifyPassword.matches(t)||s.user.changePhone.matches(t)||s.user.deletePhone.matches(t)||s.user.confirmPhone.matches(t)||s.user.verifyOTP.matches(t)||s.user.setupTwoFactor.matches(t)||s.user.disableTwoFactor.matches(t)?Object.assign({},e,{loading:!0,currentError:null}):s.fileBrowser.HIDE_MODAL===t.type?Object.assign({},e,{loading:!1,currentError:null}):e}t.storeSecret=function(e){n=e},t.getSecret=function(){return n},t.twoFactorAuth=o,t.default=o,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(232                        ),c=a(57,1   );function o(t=[],e){return s.activityLogs.set.matches(e)?e.payload.logs:t}function i(t=Object.create(null),e){return s.activityLogs.set.matches(e)?e.payload.cursor:s.activityLogs.clearCursor.matches(e)?Object.create(null):t}function r(t=!1,e){return!s.activityLogs.set.matches(e)&&(!!s.activityLogs.get.matches(e)||t)}function n(t=!1,e){return s.activityLogs.get.matches(e)?e.payload.newQuery:t}function u(t={date:{start:null,end:null}},e){if(s.activityLogs.get.matches(e)){const{actorEmail:t,date:a,eventName:s,teamId:c}=e.payload;return{actorEmail:t,date:a,eventName:s,teamId:c}}return t}e.logs=o,e.cursor=i,e.isLoading=r,e.isNewQuery=n,e.lastQuery=u,e.activityLogs=c.combineReducers({logs:o,cursor:i,isLoading:r,isNewQuery:n,lastQuery:u}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.CURRENT_USER=0]="CURRENT_USER",t[t.TEAM=1]="TEAM",t[t.ORG=2]="ORG"}(e.EntityType||(e.EntityType={})),function(t){t[t.POSITIONING=0]="POSITIONING",t[t.UPLOADING=1]="UPLOADING"}(e.AvatarEditorStatus||(e.AvatarEditorStatus={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=e(232                        ),o=e(239                             );function s(t={},a){return i.avatar.editorInit.matches(a)?{file:a.payload.file,entity:a.payload.entity,entityType:a.payload.entityType,status:o.AvatarEditorStatus.POSITIONING}:i.avatar.editorUpload.matches(a)?Object.assign({},t,{status:o.AvatarEditorStatus.UPLOADING}):i.avatar.editorReset.matches(a)?{}:t}a.avatarEditorState=s,a.default=s,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.SUCCESS=0]="SUCCESS",t[t.WARNING=1]="WARNING",t[t.FAILURE=2]="FAILURE",t[t.BUSY=3]="BUSY",t[t.WAITING=4]="WAITING",t[t.CANCELED=5]="CANCELED"}(e.FileImportStatus||(e.FileImportStatus={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(165                                 ),r=t(232                        ),a=t(241                           );var n=0;const c=i.createReducerWithPrecheck((e,s)=>{switch(s.type){case r.fileImport.UPDATE_ITEM:return s.payload.id===e.id?Object.assign({},e,s.payload.propertiesToUpdate):e;default:return e}},{shouldIgnoreAction:e=>e.type!==r.fileImport.UPDATE_ITEM});function o(e,s){if(!e)return n=0,{isDraggingImport:!1,queue:[],files:{},isProcessingFile:!1};switch(s.type){case r.fileImport.START_DRAG:return Object.assign({},e,{isDraggingImport:!0});case r.fileImport.STOP_DRAG:case r.fileImport.DROP:return Object.assign({},e,{isDraggingImport:!1});case r.fileImport.ADD_TO_QUEUE:let t={id:n++,name:s.payload.name,bytes:s.payload.bytes,status:a.FileImportStatus.WAITING},o=Object.assign({},e.files,{[t.id]:t}),u=e.queue.slice();return u.push(t.id),Object.assign({},e,{files:o,queue:u});case r.fileImport.UPDATE_ITEM:let l=i.reduceObject(e.files,s,c);return l!==e.files?Object.assign({},e,{files:l}):e;case r.fileImport.PROCESS_NEXT_IN_QUEUE:return e.isProcessingFile?e:Object.assign({},e,{isProcessingFile:!0});case r.fileImport.DONE_PROCESSING_FILE:return e.queue.length?Object.assign({},e,{queue:e.queue.slice(1),isProcessingFile:!1}):e;case r.fileImport.CANCEL_IMPORT:return e;case r.fileImport.RESET_IMPORTS:return e.queue.length?e:{isDraggingImport:!1,queue:[],files:{},isProcessingFile:!1};default:return e}}s.fileImport=o,s.default=o,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=i(232                        ),t=i(165                ),c=i(162                    );a.isFileOrgBrowsable=function(e){return!(!e||!e.org_browsable||e.link_access!==c.LinkAccess.ORG_EDIT&&e.link_access!==c.LinkAccess.ORG_VIEW)},a.file=t.createReducerWithPrecheck(function(e=null,a){if(a.type===s.folder.DELETE&&a.payload.folder.id===e.folder_id)return Object.assign({},e,{folder_id:null});if(!(a.payload&&a.payload.file&&e&&a.payload.file.key===e.key))return e;switch(a.type){case s.file.BEGIN_RENAMING:return Object.assign({},e,{appData:{isRenaming:!0}});case s.file.STOP_RENAMING:return Object.assign({},e,{appData:{isRenaming:!1}});case s.file.RECENT_FILE_PUT:case s.file.PUT:case s.file.RECENT_FILE_POST:case s.file.POST:return e.appData?Object.assign({},e,a.payload.file,{appData:e.appData}):a.payload.file;case s.file.FETCHED_ROLES:return Object.assign({},e,{appData:Object.assign({},e.appData,{fetchedRoles:!0})});default:return e}},{shouldIgnoreAction(e){switch(e.type){case s.folder.DELETE:case s.file.BEGIN_RENAMING:case s.file.STOP_RENAMING:case s.file.RECENT_FILE_PUT:case s.file.PUT:case s.file.RECENT_FILE_POST:case s.file.POST:case s.file.FETCHED_ROLES:return!1}return!0}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const i=t(232                        ),a=t(165                                 ),r=t(0                    ),s=t(243                      );l.fileByKey=function(e,l){if(!e)return{};if(i.fileBrowser.hydrate.matches(l)){let e={};for(let i of l.payload.recent_files||[])e[i.key]=i;for(let i of l.payload.files||[])e[i.key]=i;let t=r.initialOptions().editing_file;return t&&!e[t.key]&&(e[t.key]=t),e}if(i.team.resourceDelete.matches(l)){const t=l.payload.fileKeys,i=Object.assign({},e);return t.forEach(e=>{e in i&&delete i[e]}),i}switch(l.type){case i.file.RECENT_FILE_PUT:case i.file.PUT:case i.file.RECENT_FILE_POST:case i.file.POST:{let t=l.payload.file;return t.key in e?Object.assign({},e,{[t.key]:s.file(e[t.key],l)}):Object.assign({},e,{[t.key]:t})}case i.fileBrowser.SET_DELETED_FILES:{let t=Object.assign({},e);return l.payload.deletedFiles.forEach(e=>{t[e.key]=e}),t}case i.file.DELETE_FILES:{let t,i=l.payload.fileKeys;for(let l in i)e[l]&&(t||(t=Object.assign({},e)),t[l]=Object.assign({},t[l]),t[l].trashed_at=(new Date).getTime());return t||e}case i.file.DELETE_FILES_FOREVER:let t=null,r=l.payload.fileKeys;for(let l in r)e[l]&&(t||(t=Object.assign({},e)),delete t[l]);return t||e;default:return a.reduceObject(e,l,s.file)}},l.fileKeysByFolderId=function(e,l){if(!e)return{};if(i.fileBrowser.hydrate.matches(l)){let e={};for(let t of l.payload.folders||[])e[t.id]=[];for(let t of l.payload.files||[])e[t.folder_id]||(e[t.folder_id]=[]),e[t.folder_id].push(t.key);return e}if(i.team.resourceDelete.matches(l)){const t=Object.assign({},e);return l.payload.folderIds.forEach(e=>{e in t&&delete t[e]}),t}switch(l.type){case i.file.MOVE:{let t=Object.assign({},e),i={};for(let e of l.payload.files)i[e.key]=!0;for(let l in e)t[l]=t[l].filter(e=>!i[e]);for(let e in i)t[l.payload.folderId].push(e);return t}case i.file.PUT:{let t=l.payload.file.folder_id,i=l.payload.file.key;if(e[t]&&-1!==e[t].indexOf(i))return e;let a=Object.assign({},e);for(let e in a){let l=a[e],t=l.indexOf(i);-1!=t&&(a[e]=l.slice(0,t).concat(l.slice(t+1)))}return a[t]||(a[t]=[]),a[t].push(i),a}case i.file.POST:{let t=l.payload.file.folder_id,i=l.payload.file;if(null!=e[t]&&-1!==e[t].indexOf(i.key))return e;let a=Object.assign({},e);return a[t]||(a[t]=[]),a[t].push(i.key),a}case i.file.RESTORE_TRASHED_FILES:{let t=Object.assign({},e);for(let e in l.payload.fileKeys){let i=l.payload.fileKeys[e].folder_id;i in t||(t[i]=[]),-1===t[i].indexOf(e)&&t[i].push(e)}return t}case i.file.DELETE_FILES:{let t=Object.assign({},e);for(let e in t)t[e]=t[e].filter(e=>!l.payload.fileKeys[e]);return t}case i.folder.POST:{let t=Object.assign({},e);return t[l.payload.folder.id]=[],t}case i.folder.DELETE:{let t=Object.assign({},e);return delete t[l.payload.folder.id],t}default:return e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=l(232                        );function i(e=null,t){switch(e=e||{selectedFileKeys:{}},t.type){case s.file.SELECT_FILE:let l=Object.assign({},e.selectedFileKeys);for(let e in t.payload.files)l[e]=!0;return{selectedFileKeys:l};case s.file.DESELECT_FILES:let i=Object.assign({},e.selectedFileKeys);for(let e in t.payload.files)delete i[e];return{selectedFileKeys:i};case s.file.RESET_FILE_SELECTION:return{selectedFileKeys:{}};case s.file.DELETE_FILES:let c=Object.assign({},e);for(let e in t.payload.fileKeys)delete c.selectedFileKeys[e];return c;default:return e}}t.numSelected=function(e){return e&&e.selectedFileKeys?Object.keys(e.selectedFileKeys).length:0},t.fileSelect=i,t.default=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(232                        );function a(e={},t){switch(t.type){case r.file.DELETE_FILES:if(e.results){let s=Object.assign({},e);return s.results=e.results.filter(e=>!t.payload.fileKeys[e.key]),s}return e;case r.fileBrowser.SET_FILE_SEARCH_QUERY:return Object.assign({},e,{query:t.payload.query});case r.fileBrowser.SET_FILE_SEARCH_RESULTS:return Object.assign({},e,{results:t.payload.results});default:return e}}t.fileSearch=a,t.default=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,E,t){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),function(e){e[e.NAME=0]="NAME",e[e.CREATED_AT=1]="CREATED_AT",e[e.TOUCHED_AT=2]="TOUCHED_AT",e[e.TRASHED_AT=3]="TRASHED_AT",e[e.SEARCH_RELEVANCE=4]="SEARCH_RELEVANCE"}(E.FileSortKey||(E.FileSortKey={})),function(e){e[e.ASC=0]="ASC",e[e.DESC=1]="DESC"}(E.FileSortDir||(E.FileSortDir={})),function(e){e[e.ANY=0]="ANY",e[e.SELF=1]="SELF",e[e.OTHER=2]="OTHER"}(E.FileFilterCreator||(E.FileFilterCreator={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=r(232                        ),s=r(174          ),o=r(247                                );function a(){const e=null!=s.localStorageOrNull?s.localStorageOrNull.getItem("persisted-sorting"):null;if(e){const r=function(e){function r(e){const r=o.FileSortKey[o.FileSortKey[e]];if(void 0!==e)return Object.assign({},t.defaultState,{sort:Object.assign({},t.defaultState.sort,{key:r})})}let l;try{l=JSON.parse(e)}catch(a){return console.error(a),null}let s={};return l.folders&&l.folders.byId&&Object.keys(l.folders.byId).forEach(e=>{s[e]=r(l.folders.byId[e])}),{deletedFiles:r(l.deletedFiles),folders:{default:l.folders&&l.folders.default?r(l.folders.default):void 0,byId:s||void 0},recentFiles:r(l.recentFiles),searchResults:r(l.searchResults)}}(e);return r||null}}t.fileSortFilterConfigEquals=function(e,t){return e.sort.key===t.sort.key&&e.sort.dir===t.sort.dir&&e.filters.creator===t.filters.creator},t.defaultState={sort:{key:o.FileSortKey.NAME,dir:o.FileSortDir.DESC},filters:{creator:o.FileFilterCreator.ANY}},t.defaultStateByView={deletedFiles:Object.assign({},t.defaultState,{filters:Object.assign({},t.defaultState.filters,{creator:o.FileFilterCreator.SELF}),sort:Object.assign({},t.defaultState.sort,{key:o.FileSortKey.TRASHED_AT})}),folders:{default:Object.assign({},t.defaultState,{sort:Object.assign({},t.defaultState.sort,{key:o.FileSortKey.TOUCHED_AT})}),byId:Object.create(null)},recentFiles:Object.assign({},t.defaultState,{sort:Object.assign({},t.defaultState.sort,{key:o.FileSortKey.TOUCHED_AT})}),searchResults:Object.assign({},t.defaultState,{sort:Object.assign({},t.defaultState.sort,{key:o.FileSortKey.SEARCH_RELEVANCE})})},t.fileSortFilterStateByView=function(e=t.defaultStateByView,r){if(l.fileBrowser.hydrate.matches(r)){const t=null!=s.localStorageOrNull?s.localStorageOrNull.getItem("sort-filter-prefs-v1"):null;if(t){const r=function(e){try{const r=JSON.parse(e);return{deletedFiles:r.deletedFiles,folders:{default:r.folders.default,byId:r.folders.byId},recentFiles:r.recentFiles,searchResults:r.searchResults}}catch(t){return null}}(t);return r||e}const r=a();return r||e}if(l.fileBrowser.setFileSortFilterConfigForView.matches(r)){const t=r.payload.selectedView;if(t.folderId){const l=Object.assign({},e.folders,{byId:Object.assign({},e.folders.byId,{[t.folderId]:r.payload.config})}),s=Object.assign({},e,{folders:l});return i(s),s}if(t.recentFiles||t.searchResults||t.deletedFiles){let l;l=t.searchResults?"searchResults":t.deletedFiles?"deletedFiles":"recentFiles";const s=Object.assign({},e,{[l]:r.payload.config});return i(s),s}}return e};const i=e=>{if(s.localStorageOrNull)try{const r=JSON.stringify(e);s.localStorageOrNull.setItem("sort-filter-prefs-v1",r)}catch(t){}};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,i){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=i(232                        );o.orgBillingHistory=function(t=null,o){return n.orgBillingHistory.set.matches(o)?o.payload.orgBillingHistory:t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(232                        ),r=a(165                                 ),i=a(243                      );function f(e,t){if(!e)return[];if(l.fileBrowser.hydrate.matches(t))return t.payload&&t.payload.recent_files||[];if(l.team.resourceDelete.matches(t)){const a=t.payload.fileKeys;return e.filter(e=>-1===a.indexOf(e.key))}switch(t.type){case l.file.RECENT_FILE_PUT:case l.file.RECENT_FILE_POST:let a=-1;for(let l=0;l<e.length;++l)if(e[l].key===t.payload.file.key){a=l;break}return-1!==a?[t.payload.file].concat(e.slice(0,a)).concat(e.slice(a+1)):[t.payload.file].concat(e);case l.file.RECENT_FILES_DELETE:let f=t.payload.files.map(e=>e.key);return e.filter(e=>f.indexOf(e.key)<0);case l.file.DELETE_FILES:let c=[...e],s=t.payload.fileKeys;return c.filter(e=>!s[e.key]);default:return r.reduceList(e,t,i.file)}}t.recentFiles=f,t.default=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(232                        ),n=i(57,1   ),a=i(0                    );e.userNotifications=n.combineReducers({feed:function(t={allIds:[],byId:Object.create(null)},e){if(s.userNotifications.insertNotifications.matches(e)){const t=e.payload.notifications.feed,i=Object.create(null),s=[];return t.forEach(t=>{s.push(t.id),i[t.id]=t}),{allIds:s,byId:i}}if(s.userNotifications.reset.matches(e))return{allIds:[],byId:Object.create(null)};if(s.userNotifications.markAllAsRead.matches(e)){const e=Object.assign({},t.byId);return t.allIds.forEach(t=>{const i=e[t];i.read_at=(new Date).getTime(),e[t]=i}),Object.assign({},t,{byId:e})}if(s.userNotifications.resolve.matches(e)){const i=e.payload,s=Object.assign({},t.byId[i.notificationId],{resolved_at:(new Date).getTime(),read_at:(new Date).getTime()}),n=Object.assign({},t.byId,{[s.id]:s});return Object.assign({},t,{byId:n})}if(s.userNotifications.reject.matches(e)){const i=e.payload.notificationId,s=Object.assign({},t.byId);return delete s[i],{allIds:t.allIds.filter(t=>t!==i),byId:s}}return t},files:function(t=Object.create(null),e){return s.userNotifications.insertNotifications.matches(e)?e.payload.notifications.files:s.userNotifications.reset.matches(e)?Object.create(null):t},folders:function(t=Object.create(null),e){return s.userNotifications.insertNotifications.matches(e)?e.payload.notifications.folders:s.userNotifications.reset.matches(e)?Object.create(null):t},teams:function(t=Object.create(null),e){return s.userNotifications.insertNotifications.matches(e)?e.payload.notifications.teams:s.userNotifications.reset.matches(e)?Object.create(null):t},roles:function(t=Object.create(null),e){return s.userNotifications.insertNotifications.matches(e)?e.payload.notifications.roles:s.userNotifications.reset.matches(e)?Object.create(null):t},users:function(t=Object.create(null),e){return s.userNotifications.insertNotifications.matches(e)?e.payload.notifications.users:s.userNotifications.reset.matches(e)?Object.create(null):t},bellStates:function(t={},e){switch(e.type){case s.fileBrowser.INIT:return!!a.initialOptions().user_notifications_bell&&a.initialOptions().user_notifications_bell.bell}if(s.userNotifications.reset.matches(e))return t;if(s.userNotifications.setBell.matches(e)){if(null!=e.payload.notificationSpaceId){let i=Object.assign({},t);return i[e.payload.notificationSpaceId]=e.payload.isBellStateHigh,i}return t}return t},isFetchingNotifictions:function(t=!1,e){return!!s.userNotifications.get.matches(e)||!s.userNotifications.insertNotifications.matches(e)&&t}}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),function(e){e[e.UNSPECIFIED=0]="UNSPECIFIED",e[e.ANNUAL=1]="ANNUAL",e[e.MONTHLY=2]="MONTHLY"}(n.BillingPeriod||(n.BillingPeriod={})),n.PaymentStep={UPGRADE_NEW_TEAM:"upgrade_new_team",REVIEW_EDITORS:"review_editors",CHOOSE_PLAN:"choose_plan",PAYMENT_AND_ADDRESS:"payment_and_address",CONFIRM_PAY:"confirm_pay"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=e(232                        ),i=e(252                       );n.payment=function(t,n){if(null==t||a.payment.init.matches(n)){const e={error:null,billingPeriod:i.BillingPeriod.UNSPECIFIED,numAnnualEditors:0,numMonthlyEditors:0,studentTeam:!1,submitPending:!1,upgradingNewTeam:!1,submitPutAnnualQuantityPending:!1,promo:t?t.promo:null};return a.payment.init.matches(n)&&(e.billingPeriod=i.BillingPeriod.ANNUAL,e.numAnnualEditors=n.payload.numAnnualEditors),e}if(a.payment.startProUpgradeFlow.matches(n))return Object.assign({},t,{upgradingNewTeam:n.payload.newTeam});if(a.payment.submitPaymentAndAddress.matches(n))return Object.assign({},t,{submitPending:!0,address:n.payload.address});if(a.payment.makeStudentTeam.matches(n))return Object.assign({},t,{submitPending:!0});if(a.payment.setSubmitPending.matches(n))return Object.assign({},t,{submitPending:n.payload.submitPending});if(a.payment.setBillingPeriod.matches(n))return Object.assign({},t,{billingPeriod:n.payload.billingPeriod});if(a.payment.setNumEditors.matches(n))return Object.assign({},t,{numAnnualEditors:n.payload.annualQuantity,numMonthlyEditors:n.payload.monthlyQuantity});if(a.payment.setStudentTeam.matches(n))return Object.assign({},t,{studentTeam:n.payload.studentTeam});if(a.payment.showError.matches(n))return Object.assign({},t,{error:n.payload.error,submitPending:!1});if(a.payment.putAnnualQuantity.matches(n))return Object.assign({},t,{submitPutAnnualQuantityPending:!0});if(a.payment.setSubmitPutAnnualQuantityPending.matches(n))return Object.assign({},t,{submitPutAnnualQuantityPending:n.payload.submitPending});if(a.payment.setPromo.matches(n))return Object.assign({},t,{promo:n.payload.promo});if(a.payment.setToken.matches(n)){let e=n.payload.token;return e&&e.used&&(console.warn("action.payment.setToken dispatched w/ used Stripe token, it will be unset automatically",e),e=null),Object.assign({},t,{token:e})}return a.payment.setTaxes.matches(n)?Object.assign({},t,{taxes:n.payload.taxes}):t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileBrowserSidebarSectionType={USER_FOLDERS:"user_folders",USER_DRAFTS:"user_drafts",TEAM:"team"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(232                        ),i=s(254                            );r.fileBrowserPreferences=function(e={},r){if(t.fileBrowser.hydrate.matches(r)){if(r.payload&&r.payload.file_browser_preferences)return r.payload&&r.payload.file_browser_preferences}else if(t.fileBrowserPreferences.put.matches(r))return Object.assign({},e,r.payload.prefs);return e};const n={bySectionType:{},byTeamId:{}};r.fileBrowserSectionPreferencesBySectionOrTeamId=function(e=n,r){function s(e,r){return r.section_type===i.FileBrowserSidebarSectionType.TEAM?Object.assign({},e,{byTeamId:Object.assign({},e.byTeamId,{[r.team_id]:Object.assign({},e.byTeamId[r.team_id],r)})}):Object.assign({},e,{bySectionType:Object.assign({},e.bySectionType,{[r.section_type]:Object.assign({},e.bySectionType[r.section_type],r)})})}if(t.fileBrowser.hydrate.matches(r)){let e=Object.assign({},n);if(r.payload&&r.payload.file_browser_section_preferences)for(let t of r.payload.file_browser_section_preferences)e=s(e,t);return e}return t.fileBrowserSectionPreferences.put.matches(r)?s(e,r.payload.prefs):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(232                        );t.teamCreation=function(e={},t){if(n.team.submitNewTeam.matches(t))return Object.assign({},e,{loading:!0});if(n.team.setLoading.matches(t))return Object.assign({},e,{loading:t.payload.loading});switch(t.type){case n.fileBrowser.SELECT_VIEW:return t.payload.teamCreation?Object.assign({},e,{loading:!1}):e;default:return e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(232                        );n.teamOnboarding=function(e={},n){if(a.team.setSendingInvites.matches(n))return Object.assign({},e,{loading:n.payload.loading});switch(n.type){case a.fileBrowser.SELECT_VIEW:return n.payload.onboardingTeamId?Object.assign({},e,{loading:!1}):e;case a.role.SEND_INVITES:return Object.assign({},e,{loading:!0});default:return e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(232                        );t.teamView=function(e={},t){return a.team.beginRename.matches(t)?Object.assign({},e,{renamingTeam:!0}):a.team.stopRename.matches(t)?Object.assign({},e,{renamingTeam:!1}):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t[t.ASCENDING=0]="ASCENDING",t[t.DESCENDING=1]="DESCENDING"}(e.SortDirection||(e.SortDirection={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=a(232                        ),i=a(57,1   ),r=a(259                          );s.teamAdmin=i.combineReducers({billingDetails:(e,s)=>{if(null==e||t.teamAdmin.initBillingDetails.matches(s))return{loadingSummary:!0,billingSummary:null,loadingEditors:!0,editors:[],admins:[],editorsSortBy:{field:"name",direction:r.SortDirection.ASCENDING},query:"",searchResults:[]};if(t.teamAdmin.setBillingSummary.matches(s))return Object.assign({},e,{loadingSummary:!1,billingSummary:s.payload.summary});if(t.teamAdmin.setEditors.matches(s))return Object.assign({},e,{loadingEditors:!1,editors:s.payload.editors});if(t.teamAdmin.setAdmins.matches(s))return Object.assign({},e,{admins:s.payload.admins});if(t.teamAdmin.fetchEditors.matches(s))return Object.assign({},e,{loadingEditors:!0,editors:[],searchResults:[]});if(t.teamAdmin.demoteUserRoles.matches(s)){const a=e.editors.filter(e=>e.id!==s.payload.editor.id),t=e.searchResults.filter(e=>e.id!==s.payload.editor.id);return Object.assign({},e,{editors:a,searchResults:t})}return t.teamAdmin.sortEditorsBy.matches(s)?Object.assign({},e,{editorsSortBy:s.payload.sortBy}):t.teamAdmin.setQuery.matches(s)?Object.assign({},e,{query:s.payload.query}):t.teamAdmin.setSearchResults.matches(s)?Object.assign({},e,{searchResults:s.payload.searchResults}):e},userDetails:(e={},s)=>t.teamAdmin.initUserDetails.matches(s)?{loading:!0,editor:s.payload.editor,roles:{}}:t.teamAdmin.setUserRoles.matches(s)?Object.assign({},e,{loading:!1,roles:s.payload.roles}):e,recentCharges:(e,s)=>!e||t.teamAdmin.initCharges.matches(s)?{loading:!1,charges:[],hasMore:!0}:t.teamAdmin.fetchMoreCharges.matches(s)?Object.assign({},e,{loading:!0}):t.teamAdmin.appendCharges.matches(s)?Object.assign({},e,{loading:!1,charges:e.charges.concat(s.payload.charges)}):t.teamAdmin.noMoreChargesToFetch.matches(s)?Object.assign({},e,{loading:!1,hasMore:!1}):e}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(232                        );t.teamRoleRequests=function(e={},t){if(o.teamRoleRequests.updateTeamRoleRequests.matches(t)){const s=Object.assign({},e);return t.payload.teamRoleRequests.forEach(e=>{s[e.team_id]=e}),s}return e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(232                        );n.folderView=function(e={},n){return o.folder.beginRename.matches(n)?Object.assign({},e,{renamingFolder:!0}):o.folder.stopRename.matches(n)?Object.assign({},e,{renamingFolder:!1}):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){t.GET="EMAIL_SETTINGS_GET",t.PUT="EMAIL_SETTINGS_PUT",t.get=function(){return{type:t.GET}},t.put=function(e,n=!1){return{type:t.PUT,payload:{emailLists:e,userInitiated:n}}}}(e.emailSettings||(e.emailSettings={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(263                                ),s=i(0                    );t.EmailListKey={ACTIVITY:"activity"},t.ActivityLevel={EVERY_FOLLOWER:"every_follower",DAILY_FOLLOWER:"daily_follower",WEEKLY_FOLLOWER:"weekly_follower"};const L={listsFetched:!1,lists:{[t.ActivityLevel.EVERY_FOLLOWER]:!1,[t.ActivityLevel.DAILY_FOLLOWER]:!1,[t.ActivityLevel.WEEKLY_FOLLOWER]:!1},token:s.initialOptions().email_token};t.emailSettings=function(e=L,i){switch(i.type){case l.emailSettings.GET:return Object.assign({},e,{listsFetched:!0});case l.emailSettings.PUT:{let l=Object.assign({},e.lists);for(let e in i.payload.emailLists)if(e==t.EmailListKey.ACTIVITY)switch(delete l[t.ActivityLevel.EVERY_FOLLOWER],delete l[t.ActivityLevel.DAILY_FOLLOWER],delete l[t.ActivityLevel.WEEKLY_FOLLOWER],i.payload.emailLists[e]){case"every":l[t.ActivityLevel.EVERY_FOLLOWER]=!0;break;case"daily":l[t.ActivityLevel.DAILY_FOLLOWER]=!0;break;case"weekly":l[t.ActivityLevel.WEEKLY_FOLLOWER]=!0}else l[e]=i.payload.emailLists[e];return Object.assign({},e,{lists:l})}default:return e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(232                        );t.joiningTeamIds=function(e=Object.create(null),t){if(n.orgTeam.join.matches(t))return Object.assign({},e,{[t.payload.teamId]:!0});if(n.team.onJoin.matches(t)){const a=t.payload.teamId,n=Object.assign({},e);return delete n[a],n}return n.orgs.resetDashboard.matches(t)?Object.create(null):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(232                        );t.selectedAdminView=function(e="general",t){return i.orgs.selectAdminView.matches(t)?t.payload.view:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(232                        ),n={property:"name",isDescending:!1};t.teamSortConfig=function(e=n,t){return o.orgs.sortTeamsBy.matches(t)?t.payload:o.orgs.resetDashboard.matches(t)?Object.assign({},n):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t(57,1   ),o=t(265                 ),s=t(266                    ),d=t(267                  );i.orgDashboard=n.combineReducers({joiningTeamIds:o.joiningTeamIds,selectedAdminView:s.selectedAdminView,teamSortConfig:d.teamSortConfig}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=n(232                        ),e=n(57,1   );function a(o=[],s){if(t.orgDomains.setAll.matches(s))return s.payload.domains;if(t.orgDomains.putAll.matches(s)){const n=(new Date).toISOString();return o.map(o=>{const t=s.payload.params;let e={};return void 0!==t.google_sso_only&&(e.google_sso_only_at=t.google_sso_only?n:null),void 0!==t.saml_sso_only&&(e.saml_sso_only_at=t.saml_sso_only?n:null),Object.assign({},o,e)})}return o}function l(o=!1,s){return!t.orgDomains.setAll.matches(s)&&!t.orgs.resetDashboard.matches(s)&&(!!t.orgDomains.getAll.matches(s)||o)}s.domains=a,s.isFetching=l,s.orgDomains=e.combineReducers({domains:a,isFetching:l}),o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OrgPermissionExtendedFilters={IDP:"provisional"},function(e){e[e.EMAIL=0]="EMAIL",e[e.SEARCH=1]="SEARCH",e[e.NAME=2]="NAME"}(t.OrgRosterSortType||(t.OrgRosterSortType={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(232                        ),o=r(57,1   ),a=r(270                          );s.orgRoster=o.combineReducers({sort:function(e={type:a.OrgRosterSortType.NAME,isDescending:!1},s){return t.orgRoster.setSortConfig.matches(s)?s.payload:t.orgs.resetDashboard.matches(s)?{type:a.OrgRosterSortType.NAME,isDescending:!1}:t.orgRoster.setQuery.matches(s)?{type:a.OrgRosterSortType.SEARCH,isDescending:!0}:e},filters:function(e={permissionFilter:null,accountTypeFilter:null},s){return t.orgRoster.setFilters.matches(s)?s.payload:t.orgs.resetDashboard.matches(s)?{permissionFilter:null,accountTypeFilter:null}:e},searchQuery:function(e="",s){return t.orgRoster.setQuery.matches(s)?s.payload.query:t.orgs.resetDashboard.matches(s)?"":e},orgRosterIds:function(e=[],s){return t.orgRoster.setRosterMembers.matches(s)?s.payload.members:t.orgs.resetDashboard.matches(s)?[]:e},selectedUserIds:function(e={},s){if(t.orgRoster.clearUserIds.matches(s)||t.orgs.resetDashboard.matches(s))return{};if(t.orgRoster.unselectUserIds.matches(s)){const r=Object.assign({},e);for(const e of s.payload.ids)delete r[e];return r}if(t.orgRoster.selectUserIds.matches(s)){const r=Object.assign({},e);for(const e of s.payload.ids)r[e]=!0;return r}if(t.orgRoster.setRosterMembers.matches(s)){const r=Object.assign({},e),t=new Set;s.payload.members.forEach(e=>{e.user_id&&t.add(e.user_id)});for(let e in r)t.has(e)||delete r[e];return r}return e}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(232                        ),r=s(57,1   ),c=s(169                     );function o(e=!1,t){return!a.orgTeam.set.matches(t)&&!a.orgs.resetDashboard.matches(t)&&(!!a.orgTeam.get.matches(t)||e)}function n(e=[],t){if(a.orgTeam.set.matches(t))return t.payload.teams;if(a.orgs.resetDashboard.matches(t))return[];if(a.team.onJoin.matches(t)){const s=t.payload.teamId;return e.map(e=>e.id===s?Object.assign({},e,{member_count:e.member_count+1}):e)}if(a.team.del.matches(t)){const s=t.payload.team;return e.reduce((e,t)=>(s.id===t.id?t.org_access!==c.OrgAccess.PUBLIC&&t.org_access!==c.OrgAccess.PRIVATE||e.push(Object.assign({},t,{member_count:t.member_count-1})):e.push(t),e),[])}return e}t.isFetching=o,t.teams=n,t.orgTeams=r.combineReducers({teams:n,isFetching:o}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(232                        ),c=t(57,1   );function n(e={},s){if(i.idpUser.batchPost.matches(s)){const t=Object.assign({},e);return s.payload.idpUsers.forEach(e=>{t[e.id]=e}),t}return e}function r(e=!1,s){return!i.idpUser.batchPost.matches(s)&&(!!i.idpUser.getAll.matches(s)||e)}s.idpUsers=n,s.isFetching=r,s.idpUserById=c.combineReducers({isFetching:r,idpUsers:n}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(232                        ),o=t(57,1   );r.orgSelfServe=o.combineReducers({summary:function(e={domain:null,total_members:null,paid_members:null,sub_total:null,team_ids:[],inaccessible_teams:0,total_teams:0},r){return a.orgSelfServe.setSummary.matches(r)?r.payload.summary:e},orgName:function(e="",r){return a.orgSelfServe.setOrgName.matches(r)?r.payload.orgName:e},orgNameError:function(e=null,r){return a.orgSelfServe.setOrgNameError.matches(r)?r.payload.message:e},isFetchingSummary:function(e=!1,r){return!a.orgSelfServe.setSummary.matches(r)&&(!!a.orgSelfServe.getSummary.matches(r)||e)}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,a){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=a(57,1   ),t=a(238                               ),s=a(240                               ),o=a(242                             ),l=a(244                       ),n=a(245                             ),c=a(246                             ),f=a(248                                  ),d=a(249                                     ),u=a(250                              ),_=a(251                                    ),p=a(253                         ),m=a(255                         ),g=a(256                               ),w=a(257                                 ),B=a(258                           ),y=a(260                            ),E=a(261                   ),S=a(262                             ),I=a(264                                            ),O=a(268                                             ),h=a(269                             ),N=a(271                            ),A=a(272                           ),T=a(273                                ),v=a(224                ),F=a(274                                ),b=a(232                        );function R(e=!1,r){switch(r.type){case b.fileBrowser.INIT:return!1;case b.fileBrowser.SHOW_MOBILE_NAV:return!0;case b.fileBrowser.SELECT_VIEW:case b.fileBrowser.SHOW_MODAL:case b.fileBrowser.HIDE_MOBILE_NAV:return!1;default:return e}}function L(e=!1,r){switch(r.type){case b.fileBrowser.DISMISS_TEAM_UPGRADE_CTA_TILE:return!0;default:return e}}function D(e=!1,r){switch(r.type){case b.fileBrowser.INIT:return!1;case b.fileBrowser.SET_LOCAL_FONTS:return r.payload.value;default:return e}}function M(e=null,r){switch(r.type){case b.fileBrowser.BEGIN_CREATE_NEW_FOLDER:return r.payload;case b.fileBrowser.STOP_CREATE_NEW_FOLDER:return null;default:return e}}function V(e=null,r){switch(r.type){case b.fileBrowser.BEGIN_RENAME_NAV_FOLDER:return r.payload.folderId;case b.fileBrowser.STOP_RENAME_NAV_FOLDER:return null;default:return e}}function C(e=null,r){switch(r.type){case b.fileBrowser.BEGIN_RENAME_NAV_TEAM:return r.payload.teamId;case b.fileBrowser.STOP_RENAME_NAV_TEAM:return null;default:return e}}function P(e=null,r){if(b.file.deleteActiveUsers.matches(r)){const a=Object.assign(Object.create(null),e);return delete a[r.payload.fileKey],a}if(b.file.setActiveUsers.matches(r)){const a=r.payload.fileKey,i=r.payload.users,t=Object.create(null);for(let e of i)t[e.id]=e;return e=e||Object.create(null),Object.assign(Object.create(null),e,{[a]:t})}return e}function U(e=!1,r){return b.fileBrowser.setFileBrowserLoading.matches(r)?r.payload.show:e}function j(){return{userNotifications:_.userNotifications,recentFiles:u.recentFiles,fileKeysByFolderId:l.fileKeysByFolderId,renamingNavFolderWithId:V,renamingNavTeamWithId:C,fileImport:o.fileImport,avatarEditorState:s.avatarEditorState,fileSearch:c.fileSearch,mobileNavShown:R,localFonts:D,creatingNewFolder:M,fileSelect:n.fileSelect,teamCreation:g.teamCreation,teamOnboarding:w.teamOnboarding,emailSettings:I.emailSettings,activeFileUsers:P,teamView:B.teamView,teamAdmin:y.teamAdmin,teamRoleRequests:E.teamRoleRequests,folderView:S.folderView,payment:p.payment,fileSortFilterStateByView:f.fileSortFilterStateByView,showingFileBrowserLoader:U,orgDashboard:O.orgDashboard,activityLogs:t.activityLogs,orgDomains:h.orgDomains,orgSamlConfig:v.orgSamlConfig,fileBrowserPreferences:m.fileBrowserPreferences,fileBrowserSectionPreferencesBySectionOrTeamId:m.fileBrowserSectionPreferencesBySectionOrTeamId,orgRoster:N.orgRoster,orgTeams:A.orgTeams,orgBillingHistory:d.orgBillingHistory,orgSelfServe:F.orgSelfServe,idpUserById:T.idpUserById,teamUpgradeCtaTileDismissed:L}}r.activeFileUsers=P,r.showingFileBrowserLoader=U,r.fileBrowserReducerMap=j,r.fileBrowser=i.combineReducers(j()),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=l(232                        );function s(e={},t){switch(t.type){case a.fileBrowser.SET_DELETED_FILES:{let e={};return t.payload.deletedFiles.forEach(t=>{e[t.key]=t}),e}case a.file.DELETE_FILES:{let l=Object.assign({},e);for(let e in t.payload.fileKeys)l[e]=t.payload.fileKeys[e];return l}case a.file.PUT:{let l=t.payload.file;if(!l.trashed_at&&e[l.key]){let t=Object.assign({},e);return delete t[l.key],t}return e}case a.file.RESTORE_TRASHED_FILES:case a.file.DELETE_FILES_FOREVER:{let l=Object.keys(t.payload.fileKeys),a=Object.assign({},e);for(let e of l)delete a[e];return a}default:return e}}t.deletedFilesByKey=s,t.default=s,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(57,1   ),r=s(232                        );t.USER_FOLDERS="USER_FOLDERS",t.USER_DRAFTS="USER_DRAFTS",t.fileMove=o.combineReducers({folderSearchQuery:function(e="",t){return r.fileMove.setFolderSearchQuery.matches(t)?t.payload.query:r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?"":e},folderRenaming:function(e=null,t){return r.fileMove.startFolderRename.matches(t)?t.payload.folderId:r.fileMove.endFolderRename.matches(t)||r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?null:e},focusedIndex:function(e=-1,t){return r.fileMove.incrementFocusedIndex.matches(t)?e===t.payload.upperBound-1?e:e+1:r.fileMove.decrementFocusedIndex.matches(t)?0===e||-1===e?e:e-1:r.fileMove.setFocusedIndexAt.matches(t)?t.payload.indexAt:r.fileMove.resetFocusedIndex.matches(t)||r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?-1:e},indexCount:function(e=null,t){return r.fileMove.setIndexCount.matches(t)?t.payload.indexCount:r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?null:e},indexOffsets:function(e={},t){return r.fileMove.setIndexOffsets.matches(t)?t.payload.indexOffsets:r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?{}:e},folderRows:function(e=[],t){return r.fileMove.setFolderRows.matches(t)?t.payload.rows:r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?[]:e},teamOrder:function(e=[],t){return r.fileMove.setTeamOrder.matches(t)?t.payload.teamIds:r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?[]:e},foldersByTeamId:function(e={},t){return r.fileMove.setfoldersByTeamId.matches(t)?t.payload.foldersByTeamId:r.fullscreen.attemptClose.matches(t)||r.fileBrowser.HIDE_MODAL===t.type?{}:e},isSearchResult:function(e=!1,t){return r.fileMove.isSearchResult.matches(t)?t.payload.isSearchResult:r.fileBrowser.HIDE_MODAL!==t.type&&e},isSearchFocused:function(e=!1,t){return r.fileMove.isSearchFocused.matches(t)?t.payload.isSearchFocused:r.fileBrowser.HIDE_MODAL!==t.type&&!r.fileMove.decrementFocusedIndex.matches(t)&&!r.fileMove.incrementFocusedIndex.matches(t)&&(!!r.fileMove.setFolderSearchQuery.matches(t)||e)},upDownKeyPressed:function(e=!1,t){return!(!r.fileMove.decrementFocusedIndex.matches(t)&&!r.fileMove.incrementFocusedIndex.matches(t))||!r.fileMove.setKeyPressedToFalse.matches(t)&&!r.fullscreen.attemptClose.matches(t)&&r.fileBrowser.HIDE_MODAL!==t.type&&e},canMouseFocus:function(e=!0,t){return r.fileMove.canMouseFocus.matches(t)?t.payload.canFocus:!(!r.fullscreen.attemptClose.matches(t)&&r.fileBrowser.HIDE_MODAL!==t.type)||e}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(232                        );function r(e=t.defaultPrototype,o){return s.prototype.reset.matches(o)?Object.assign({},t.defaultPrototype):s.prototype.setTriggerHotspots.matches(o)?Object.assign({},e,{triggerHotspots:o.payload.triggerHotspots}):s.prototype.setHoverCursor.matches(o)?Object.assign({},e,{showHoverCursor:o.payload.showHoverCursor}):s.prototype.showComments.matches(o)?Object.assign({},e,{showComments:!0}):s.prototype.hideComments.matches(o)?Object.assign({},e,{showComments:!1}):s.prototype.setShowResolvedComments.matches(o)?Object.assign({},e,{showResolvedComments:o.payload.showResolved}):s.prototype.setCurrentTlfBounds.matches(o)?Object.assign({},e,{currentTlfBounds:o.payload.currentTlfBounds}):s.prototype.setCurrentIndex.matches(o)?Object.assign({},e,{currentIndex:o.payload.currentIndex}):s.prototype.setFrameIds.matches(o)?Object.assign({},e,{frameIds:o.payload.frameIds}):s.prototype.setPages.matches(o)?Object.assign({},e,{pages:o.payload.pages}):s.prototype.setCurrentPageId.matches(o)?Object.assign({},e,{currentPageId:o.payload.currentPageId}):s.prototype.setBackgroundColor.matches(o)?Object.assign({},e,{backgroundColor:o.payload.color}):s.prototype.setProgressBarMode.matches(o)?Object.assign({},e,{showProgressBar:o.payload.showProgress}):e}t.DEFAULT_BG_COLOR={r:0,g:0,b:0,a:255},t.defaultPrototype={showProgressBar:!0,triggerHotspots:!1,showHoverCursor:!1,showComments:!1,showResolvedComments:!1,currentTlfBounds:{x:0,y:0,width:0,height:0},currentIndex:0,frameIds:[],pages:[],currentPageId:null,backgroundColor:t.DEFAULT_BG_COLOR},t.prototypeReducerMap={prototype:r},t.prototype=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){"use strict";function n(t,e){const r=t.charCodeAt(e);if(Number.isNaN(r))return"";if(r<55296||r>57343)return t.charAt(e);if(55296<=r&&r<=56319){if(t.length<=e+1)throw"High surrogate without following low surrogate";const r=t.charCodeAt(e+1);if(56320>r||r>57343)throw"High surrogate without following low surrogate";return t.charAt(e)+t.charAt(e+1)}throw"Not the start of a single- or multibyte-character"}Object.defineProperty(e,"__esModule",{value:!0}),e.capitalizeFirstLetter=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},e.toCamelCase=function(t){return t.toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()})},e.camelCasedToDashed=function(t){return t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()},e.encodeUTF8=function(t){const e=unescape(encodeURIComponent(t)),r=new Uint8Array(e.length);for(var n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},e.decodeUTF8=function(t){let e="";const r=t.length;for(var n=0;n<r;n+=1024)e+=String.fromCharCode.apply(String,t.subarray(n,n+1024));return"\0"===e.slice(-1)&&(e=e.slice(0,-1)),decodeURIComponent(escape(e))},e.truncateText=function(t,e){return t.length>e?t.slice(0,e-3)+"...":t},e.stringToArrayOfRealChars=function(t){const e=[];for(let r=0;r<t.length;r++){const o=n(t,r);r+=o.length-1,e.push(o)}return e},e.compareStringsNaturally=function(t,e){return e=e||"",(t=t||"").localeCompare(e,void 0,{numeric:!0,sensitivity:"base"})},e.joinWordsNaturally=function(t){return 0===t.length?"":1===t.length?t[0]:`${t.slice(0,t.length-1).join(", ")} and ${t[t.length-1]}`},e.default=function(t){var e=[];return(t=t.replace(/_|-/g," ")).split(" ").forEach(function(t){e.push(t.charAt(0).toUpperCase()+t.slice(1).toLowerCase())}),e.join(" ")},e.getPluralOrSingular=function(t,e,r){return r=r||`${e}s`,1===t?e:r},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultStrings={"after-selecting-points":"After selecting points","align-bottom":"Align Bottom","align-horizontal-center":"Align Horizontal Centers","align-left":"Align Left","align-right":"Align Right","align-top":"Align Top","align-vertical-center":"Align Vertical Centers","arrange-menu":"Arrange","back-to-files":"Back to Files","bend-tool":"Bend Tool",bevel:"Bevel","boolean-intersect":"Destructive Intersect Selection","boolean-menu":"Boolean Groups","boolean-subtract":"Destructive Subtract Selection","boolean-union":"Destructive Union Selection","boolean-xor":"Destructive Exclude Selection","bring-forward":"Bring Forward","bring-to-front":"Bring to Front","category-arrange":"Arrange","category-components":"Components","category-edit":"Edit","category-file-properties":"File & Properties","category-misc":"Misc","category-object":"Object","category-select":"Select","category-text":"Text","category-tools":"Tools","category-transform":"Transform","category-view":"View","center-resize-drag":"Resize from Center","choose-symbol":"Team Library","command-bar-mode-all":"all","command-bar-mode-all-label":"Quick Command","command-bar-mode-all-hint":"Type anything (action, layer, file, etc.)","command-bar-mode-run":"run","command-bar-mode-run-label":"Run","command-bar-mode-run-hint":"Run a menu action","command-bar-mode-goto":"goto","command-bar-mode-goto-label":"Goto Layer","command-bar-mode-goto-hint":"Goto a layer","command-bar-mode-insert":"insert","command-bar-mode-insert-label":"Insert Component","command-bar-mode-insert-hint":"Insert a component","command-bar-mode-open":"open","command-bar-mode-open-label":"Open File","command-bar-mode-open-hint":"Open a file","convert-to-raster":"Rasterize Selection","copy-as-menu":"Copy as","copy-export":"Copy Export","copy-as-css":"Copy as CSS","copy-as-svg":"Copy as SVG","copy-as-png":"Copy as PNG","copy-as-jpg":"Copy as JPG","copy-properties":"Copy Properties","copy-text":"Copy as Text",copy:"Copy","create-symbol":"Create Component","create-text-style":"Create Text Style","create-paint-style":"Create Color Style","create-effect-style":"Create Effect Style","create-stroke-style":"Create Stroke Style","crop-image":"Crop Image",cut:"Cut","debug-menu":"Debug","deep-select":"Deep Select","deep-pick":"Select Layer Menu","delete-and-heal-selection":"Delete and Heal Selection","delete-selection":"Delete Selection","deselect-all":"Select None","detach-instance":"Detach Instance","discard-all-images":"Discard All","distribute-bottom":"Distribute Bottom","distribute-horizontal-center":"Distribute Horizontal Centers","distribute-horizontal-spacing":"Distribute Horizontal Spacing","distribute-left":"Distribute Left","distribute-right":"Distribute Right","distribute-top":"Distribute Top","distribute-vertical-center":"Distribute Vertical Centers","distribute-vertical-spacing":"Distribute Vertical Spacing","download-webgl-trace":"Download WebGL Trace","duplicate-in-place":"Duplicate Selection in Place",duplicate:"Duplicate Selection","edit-menu":"Edit","edit-shape-or-image":"Edit Shape or Image","enter-feedback-mode":"Feedback","enter-layout-mode":"Edit","export-all-frames-to-pdf":"Export Frames to PDF...","export-for-framer":"Export for Framer","export-selected-exportables":"Export...","export-selected-exportables-desc":"Export","figma-account-menu":"Help and Account","file-menu":"File","find-symbol":"Go to Master Component","flatten-selection":"Flatten Selection","flip-horizontal":"Flip Horizontal","flip-vertical":"Flip Vertical","frame-selection":"Frame Selection","get-desktop-app":"Get Desktop App","group-selection":"Group Selection","hide-selected-nodes":"Hide Selection","hide-sibling-layers":"Hide Other Layers","ignore-constraints":"Ignore Constraints","ignore-constraints-desc":"Ignore Constraints (Frames Only)","collapse-layers":"Collapse Layers","new-from-sketch":"New from Sketch File...","insert-component-right-text":"from #{name}","integrations-menu":"Integrations","plugins-menu":"Extensions","plugins-menu-dev":"Development","plugins-menu-item":"#{plugin_name}","plugins-menu-sub-item":"#{plugin_sub_name}","plugins-menu-item-run":"Run...","plugins-menu-item-edit":"Edit...","plugins-menu-item-share":"Share...","plugins-menu-show-deprecated":"Deprecated Extensions...","plugins-menu-internal-dev-modal":"Internal Dev...","plugins-menu-use-desktop":"Not Available","plugins-menu-dev-create-new":"Create New Extension...","plugins-menu-dev-add":"Add Extension from File...","plugins-menu-add-from-key":"Add Extension from Key...","plugins-menu-item-reload":"Reload","plugins-menu-item-remove":"Remove","join-selection":"Join Selection","leave-edit-mode":"Done","leave-history-edit-mode":"Exit Version History Mode","leave-vector-edit-mode":"Exit Vector Edit Mode (Esc)","line-height-update-info":"The new rendering changes the line height behavior and fixes many bugs. You can always undo the update.","live-boolean-intersect":"Intersect Selection","live-boolean-subtract":"Subtract Selection","live-boolean-union":"Union Selection","live-boolean-xor":"Exclude Selection","lock-selected-nodes":"Lock Selection","mask-selection":"Use as Mask","measure-to-selection":"Measure to Selection",miter:"Miter","mobile-app-push":"View on Mobile","move-while-resizing":"Move While Resizing","navigation-navigate":"Navigate","navigation-overlay":"Open Overlay","navigation-swap":"Swap",new:"New","next-artboard":"Zoom to Next Frame","next-artboard-same-zoom":"Find Next Frame",none:"(none)","object-menu":"Object","opacity-adjust":"Adjust Opacity","open-account-settings":"Account Settings","open-file-right-text":"in #{folder_name}","open-font-settings":"Open Font Settings","open-in-desktop-app":"Open in Desktop App","open-legal-summary":"Legal Summary","open-links-in-desktop-app":"Open Links in Desktop App","open-release-notes":"Release Notes","open-help":"Help Page","open-shortcuts":"Keyboard Shortcuts","open-community":"Community Forum","open-tutorials":"Video Tutorials","open-preferences-modal":"Libraries","outline-stroke":"Outline Stroke","pack-horizontal":"Pack Horizontal","pack-vertical":"Pack Vertical","page-delete":"Delete Page","page-duplicate":"Duplicate Page","page-move-to":"#{name}","page-move-to-menu":"Move to Page","page-new":"New Page","page-next":"Next Page","page-previous":"Previous Page","page-rename":"Rename Page",pan:"Pan","paste-and-match-style":"Paste and Match Style","paste-over-selection":"Paste Over Selection","paste-properties":"Paste Properties",paste:"Paste","place-all-images":"Place All",place:"Place Image","preferences-menu":"Preferences","prevent-nesting":"Prevent Nesting","previous-artboard":"Zoom to Previous Frame","previous-artboard-same-zoom":"Find Previous Frame","print-image-diagnostics":"Print Image Diagnostics","print-render-tree":"Print Render Tree","purge-all-memory":"Purge All Non-Essential Memory",quit:"Quit","regenerate-all-instances":"Regenerate All Instances (slow)","select-broken-fixed-scrolling-nodes":"Debug broken fixed-scrolling layers",redo:"Redo","remove-fill":"Remove Fill","remove-stroke":"Remove Stroke","rename-selection":"Rename Selection","request-edit-mode-via-toolbar":"Edit Object","request-edit-mode":"Edit Object","reset-symbol":"Reset Instance","resize-proportionally":"Resize Proportionally","resize-to-fit":"Resize to Fit","remove-connections-on-selection":"Remove Connections","remove-connections-on-page":"Remove All Connections","restore-symbol":"Restore Master Component","rotate-180":"Rotate 180","rotate-90-clockwise":"Rotate 90 Right","rotate-90-counterclockwise":"Rotate 90 Left",round:"Round","round-to-pixels":"Round to Pixel","save-as":"Save as .fig...","save-as-desc":"Save As","create-savepoint":"Save to Version History...","create-savepoint-desc":"Save to Version History","toggle-version-history":"Show Version History","search-results-empty":"No results found","search-results-overflow":"More",search:"Search","select-all":"Select All","select-all-text":"Select All Text Layers","select-inverse":"Select Inverse","select-child":"Select Child","select-node":"#{name}","select-node-menu":"Select Layer","select-parent":"Select Parents","select-next-sibling":"Select Next Sibling","select-previous-sibling":"Select Previous Sibling","select-same-effect":"Select All with Same Effect","select-same-fill":"Select All with Same Fill","select-same-font":"Select All with Same Font","select-same-instance":"Select All with Same Instance","select-same-stroke":"Select All with Same Stroke","select-same-style":"Select All with Same Properties","select-same-text":"Select All with Same Text Properties","send-backward":"Send Backward","send-to-back":"Send to Back","set-default-style":"Set Default Properties","set-opacity-0":"Set Opacity to 100%","set-opacity-1":"Set Opacity to 10%","set-opacity-2":"Set Opacity to 20%","set-opacity-3":"Set Opacity to 30%","set-opacity-4":"Set Opacity to 40%","set-opacity-5":"Set Opacity to 50%","set-opacity-6":"Set Opacity to 60%","set-opacity-7":"Set Opacity to 70%","set-opacity-8":"Set Opacity to 80%","set-opacity-9":"Set Opacity to 90%","set-tool-arrow":"Arrow","set-tool-bend":"Bend Tool","set-tool-comments":"Add/Show Comments","set-tool-default":"Move","set-tool-ellipse":"Ellipse","set-tool-frame":"Frame","set-tool-hand":"Hand Tool","set-tool-line":"Line","set-tool-paint-bucket":"Paint Bucket","set-tool-pen":"Pen","set-tool-pencil":"Pencil","set-tool-rectangle":"Rectangle","set-tool-regular-polygon":"Polygon","set-tool-scale":"Scale","set-tool-slice":"Slice","set-tool-star":"Star","set-tool-type":"Text","set-tool-arrow-desc":"Arrow Tool","set-tool-default-desc":"Move Tool","set-tool-ellipse-desc":"Ellipse Tool","set-tool-frame-desc":"Frame Tool","set-tool-line-desc":"Line Tool","set-tool-pen-desc":"Pen Tool","set-tool-pencil-desc":"Pencil Tool","set-tool-rectangle-desc":"Rectangle Tool","set-tool-slice-desc":"Slice Tool","set-tool-type-desc":"Text Tool","show-nudge-amount-picker":"Nudge Amount...","sign-out":"Sign Out","simulate-back-to-files":"Simulate 'Back to Files'","smooth-join-selection":"Smooth Join Selection","stack-selection":"Stack Selection","swap-fill-and-stroke":"Swap Fill and Stroke","test-multiplayer-reject-invalid-permissions":"Test Multiplayer 'Invalid permissions'","test-multiplayer-reject-too-many-connections":"Test Multiplayer 'Too many Connections'","test-multiplayer-reject-too-old":"Test Multiplayer 'Client too old'","test-multiplayer-upgrade":"Test Multiplayer Upgrade Protocol","text-align-menu":"Align","text-align-left":"Text Align Left","text-align-center":"Text Align Center","text-align-right":"Text Align Right","text-align-justified":"Text Align Justified","text-align-top":"Text Align Top","text-align-middle":"Text Align Middle","text-align-bottom":"Text Align Bottom","text-letter-spacing-increase":"Increase Letter Spacing","text-letter-spacing-decrease":"Decrease Letter Spacing","text-letter-spacing-adjust":"Adjust Letter Spacing","text-font-size-increase":"Increase Font Size","text-font-size-decrease":"Decrease Font Size","text-font-size-adjust":"Adjust Font Size","text-line-height-increase":"Increase Line Height","text-line-height-decrease":"Decrease Line Height","text-line-height-adjust":"Adjust Line Height","text-lower-case":"Lower Case","text-menu":"Text","text-original-case":"Original Case","text-relayout":"Recompute Text Layout in Selection","text-toggle-bold":"Bold","text-toggle-italic":"Italic","text-toggle-strikethrough":"Strikethrough","text-toggle-underline":"Underline","text-upper-case":"Upper Case","tidy-up":"Tidy Up","toggle-annotations":"Show Dimensions on Objects","toggle-copy-renaming":"Rename Duplicated Layers","toggle-show-guids":"Show GUIDs","toggle-force-publish-flattened":"Always Publish Flattened Symbols","toggle-dropper":"Pick Color","toggle-dynamic-color-sliders":"Use Dynamic Color Sliders","toggle-flip-during-resize":"Flip Objects While Resizing","toggle-frame-clipping":"Toggle Clipping","toggle-google-fonts":"Show Google Fonts","toggle-gradient-edit-mode":"Edit Gradient Paint","toggle-grid":"Pixel Grid","toggle-perf-hud":"Show Performance HUD","toggle-intercom":"Hide Help UI","toggle-invert-zoom":"Invert Zoom Direction","toggle-keyboard-zoom-to-selection":"Keyboard Zooms into Selection","toggle-layer-hover":"Highlight Layers on Hover","toggle-layers":"Layers","toggle-publish":"Components","toggle-library":"Team Library","toggle-layers-desc":"Show Layers","toggle-publish-desc":"Show Components","toggle-library-desc":"Show Team Library","toggle-locked-for-selected-nodes":"Lock/Unlock Selection","toggle-menu":"Search Menu","toggle-multiplayer-cursors":"Show Multiplayer Cursors","toggle-outlines":"Show Outlines","toggle-pen-tool-avoid-single-handles":"Avoid Single Handles with Pen Tool","toggle-pixel-preview":"Pixel Preview","toggle-properties":"Show Properties","toggle-quick-command":"Quick Command","toggle-raster-edit-mode":"Edit Image Crop","toggle-recording-interactions":"Toggle Interaction Recorder","toggle-retina-mode":"Retina Mode","toggle-rulers":"Rulers","toggle-resource-use":"Resource Use","toggle-show-masks":"Mask Outlines","toggle-show-artboard-outlines":"Frame Outlines","toggle-show-slices":"Show Slices","toggle-shown-for-selected-nodes":"Show/Hide Selection","toggle-shown-layout-grids":"Layout Grids","toggle-sidebar":"Layers Panel","toggle-smart-quotes":"Substitute Smart Quotes","toggle-snapping-to-geometry":"Snap to Geometry","toggle-snapping-to-objects":"Snap to Objects","toggle-snapping-to-pixels":"Snap to Pixel Grid","toggle-sticky-tools":"Keep Tool Selected after Use","toggle-toggle-selected-layers":"Include Selected Layers When Toggling Expansion","toggle-ui":"Show/Hide UI","toggle-use-numbers-for-opacity":"Use Number Keys for Opacity","toggle-verbose-tooltips":"Show Verbose Tooltips","toggle-viewport-overlay-hiding":"Hide Canvas UI During Changes","toggle-zeplin-integration":"Zeplin","toggle-avocode-integration":"Avocode","export-to-dribbble":"Dribbble","zeplin-export-selection":"Export selection to Zeplin","avocode-export-selection":"Export selection to Avocode","toolbar-crop-vector":"Crop Edit","toolbar-gradient-vector":"Gradient Edit","toolbar-place-image":"Click or Drag to Place","toolbar-text-vector":"Text Edit","toolbar-vector-vector":"Vector Edit",undo:"Undo","ungroup-selection":"Ungroup Selection","unhide-all":"Unhide All Objects","unlock-all":"Unlock All Objects","vector-menu":"Vector","savepoint-edit":"Edit Version Info","savepoint-label":"Name This Version","savepoint-restore":"Restore This Version","savepoint-duplicate":"Duplicate","savepoint-clear":"Delete Version Info","view-menu":"View","viewport-single":"Single Viewport","viewport-split-four-way":"4-Way Split Viewport","viewport-split-horizontal":"Horizontal Split Viewport","viewport-split-vertical":"Vertical Split Viewport","while-clicking":"While clicking","while-editing-shape":"While editing a shape","while-moving":"While moving","while-pointing":"While pointing","while-resizing":"While resizing","zoom-in":"Zoom In","zoom-out":"Zoom Out","zoom-reset":"Zoom to 100%","zoom-to-fit":"Zoom to Fit","zoom-to-selection":"Zoom to Selection"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(141     ),i=t(0                    ),o=t(279         ),u=t(232                        ),a=t(280                                     ),l=t(129                               );n.stringsAreEqualOrBothFalsey=function(e,n){return!e&&!n||e===n},n.componentContainersEqual=function(e,n){if(null==e&&null==n)return!0;if(null==e||null==n)return!1;for(let t in e)if((e[t]||n[t])&&e[t]!==n[t])return!1;for(let t in n)if((e[t]||n[t])&&e[t]!==n[t])return!1;return!0},n.appModel=function(e={},n){return n.type===u.fileBrowser.INIT?{strings:a.defaultStrings}:u.fullscreen.updateMirror.matches(n)&&n.payload.appModel?(void 0!==(e=Object.assign({},e,n.payload.appModel)).currentSelectedGradientStop&&-1===e.currentSelectedGradientStop.index&&(e.currentSelectedGradientStop={index:0,type:l.GradientStopType.COLOR}),e):e},n.fullscreenMenuDropdownKey="fullscreen-menu-dropdown",n.isFullscreenMenuVisible=(e=>e&&e.type===n.fullscreenMenuDropdownKey),n.quickCommandBarDropdownKey="quick-command-bar-dropdown",n.isQuickCommandBarVisible=(e=>e&&e.type===n.quickCommandBarDropdownKey);const s=Object.create(null);function c(e){let n=s[e];return n||(n=s[e]="actionEnabled"+o.capitalizeFirstLetter(o.toCamelCase(e))),n}function f(e,n){if(e){let t=e[n];if("string"==typeof t)return t;if(Array.isArray(t))for(let e of t){if("string"==typeof e)return e;if(i.initialOptions().feature_flags[e["feature-flag"]])return e.value}}return console.warn(`Missing string for action: ${n}`),"(missing)"}n.actionEnabledKey=c,n.isActionEnabled=function(e,n){return e[c(n)]},n.getStringWithSubstitutions=function(e,n,t){let r=f(e,n);return t&&(r=r.replace(/#\{(\w+)\}/g,(e,n)=>t[n]?t[n]:"")),r},n.getString=f,n.getKeyboardShortcut=function(e,n){if("set-tool-bend"===n)return r.mac?"":"Ctrl";if(e[n]){let t=e[n];if(t&&t.length>=1)return t[0]}return""},n.currentCanvasNodeId=function(e){return e&&e.currentPage?e.currentPage:"0:1"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";function u(e){return Array.isArray(e)&&e.__mixed_values__}Object.defineProperty(n,"__esModule",{value:!0}),n.MIXED={__mixed__:!0},n.emptyMixedValuesArray=function(){const e=[];return e.__mixed_values__=!0,e},n.notMixed=function(e){return e!==n.MIXED&&!u(e)},n.getValue=function(e,t=null){return e===n.MIXED||null==e?t:e},n.getMixedValues=function(e){return u(e)?e:e===n.MIXED||null==e?[]:[e]},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isEmpty=function(n){for(let t in n)return!1;return!0},t.getFirstKey=function(n){for(let t in n)return t;return null},t.singleKey=function(n){let t=null;for(const e in n){if(null!==t)return null;t=e}return t},t.copyExcluding=function(n,t){const e={};for(const r in n)t.has(r)||(e[r]=n[r]);return e},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(232                        ),i=r(129                               ),o=r(282                             ),s=r(283         );function c(e,t){return null!=e[t]&&e[t]>0}t.selectionProperties=function(e=null,t){if(t.type===n.fileBrowser.INIT)return Object.create(null);if(n.fullscreen.updateMirror.matches(t)&&t.payload.selectionProperties){const r=t.payload.selectionProperties,n=r.message;if(null==n&&s.isEmpty(r.derivedProperties.changes)&&s.isEmpty(r.derivedProperties.mixed))return e;const c=Object.assign(Object.create(null),e);if(null!=n&&"NODE_CHANGES"===n.type)for(const e of n.nodeChanges){const t=e.guid.localID;for(const r in e)if("guid"!==r)switch(t===i.SelectionPropertyState.MIXED_VALUES_FIRST&&(c[r]=o.emptyMixedValuesArray()),t){case i.SelectionPropertyState.PRESENT:c[r]=e[r];break;case i.SelectionPropertyState.MIXED:c[r]=o.MIXED;break;case i.SelectionPropertyState.MIXED_VALUES_FIRST:case i.SelectionPropertyState.MIXED_VALUES_NEXT:c[r].push(e[r]);break;default:c[r]=null}}for(const e in r.derivedProperties.changes)c[e]=r.derivedProperties.changes[e];for(const e in r.derivedProperties.mixed)c[e]=o.MIXED;return c}return e},t.anySelectedOfType=c,t.allSelectedOfType=function(e,t){if(!c(e,t))return!1;let r=0;for(const n in e)if(null!=e[n]&&e[n]>0&&(r+=1)>1)return!1;return!0},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";function n(e,t){const r=e.get(t);return r&&r.parent?e.get(r.parent):null}function o(e,t,r){let o=n(e,t);for(;o;){if("CANVAS"===o.type||"DOCUMENT"===o.type)return;if("stop"===r(o))break;o=n(e,o.guid)}}function u(e,t){return t&&"CANVAS"===t.type&&t.visible&&("FRAME"===(r=e.type)||"SYMBOL"===r||"INSTANCE"===r)&&e.visible&&!e.sharedSymbolReference;var r}Object.defineProperty(t,"__esModule",{value:!0}),t.traverse=function e(t,r,n){if("stop"===n(r))return"stop";if(r.reversedChildren)for(const o of r.reversedChildren)if("stop"===e(t,t.get(o),n))return"stop"},t.getParent=n,t.forEachAncestor=o,t.getAncestors=function(e,t){const r=[];return o(e,t,e=>{r.push(e)}),r},t.countParents=function(e,t){let r=0,o=e.get(t)||null;for(;o&&"CANVAS"!==o.type&&"DOCUMENT"!==o.type;)r++,o=n(e,o.guid);return r},t.pageIdContainingNodeId=function(e,t){let r=null;if(!t)return r;let n=e.get(t);if(!n)return r;for(r=n.guid;n&&"CANVAS"!==n.type&&n.parent;)r=(n=e.get(n.parent)).guid;return r},t.topLevelFramesForPageId=function(e,t){const r=[],n=e.get(t);for(let o of n.reversedChildren){const t=e.get(o);u(t,n)&&r.push(t)}return r},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(232                        ),c=r(180         ),o=r(285                                        );function l(e,t){return!!e[t]}t.sceneGraphSelection=function(e=null,t){if(t.type===n.fileBrowser.INIT||n.fullscreen.close.matches(t))return Object.create(null);if(n.fullscreen.updateMirror.matches(t)&&t.payload.selection){const{add:r,remove:n,replace:o}=t.payload.selection;if(c.assertDev(!((r||n)&&o),"We expect either an add or remove OR a replace."),o)return o;const l=Object.assign(Object.create(null),e,r);for(let e in n)delete l[e];return l}return e},t.forEachSelectedNode=function(e,t,r){for(const n in t){const t=e.get(n);o.traverse(e,t,r)}},t.forEachDirectlySelectedNode=function(e,t,r){for(const n in t)r(e.get(n))},t.isDirectlySelected=l,t.isSelected=function(e,t,r){if(l(t,r))return!0;let n=!1;return o.forEachAncestor(e,r,e=>{if(n=n||l(t,e.guid))return"stop"}),n},t.directlySelectedAncestor=function(e,t,r){if(l(t,r))return e.get(r);let n=null;return o.forEachAncestor(e,r,e=>{n||(n=l(t,e.guid)?e:null)}),n},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.invalidGUID={sessionID:-1,localID:-1},t.invalidGUIDStr="-1:-1",t.isValid=function(n){return!!n&&(0|n.localID)>=0&&(0|n.sessionID)>=0},t.equals=function(n,t){return n&&t?n.sessionID===t.sessionID&&n.localID===t.localID:n===t},t.toString=function(n){return n?`${0|n.sessionID}:${0|n.localID}`:null},t.fromString=function(n){if(!n)return null;const t=n.split(":");if(!t||2!==t.length)return null;let e=-1,s=-1;try{e=parseInt(t[0]),s=parseInt(t[1])}catch(i){return null}return isFinite(e)&&isFinite(s)?{sessionID:e,localID:s}:null},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=l(232                        ),u=l(287       );t.selectedStyleProperties=function(e={},t){if(s.fullscreen.updateSelectedStyleProperties.matches(t)){let l=t.payload.selectedStyleProperties||{};return u.equals(l.guid,e.guid)?Object.assign({},l,{url:e.url}):l}return s.fullscreen.updateSelectedStyleThumbnailURL.matches(t)?Object.assign({},e,{url:t.payload.selectedStyleThumbnailURL}):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){var i=n||i||{};!function(){function e(e){return JSON.stringify(e)}function n(e,n,t){var i=new Error(e);throw i.line=n,i.column=t,i}function t(e){return"string"==typeof e?i.parseSchema(e):e instanceof Uint8Array||e instanceof i.ByteBuffer?i.decodeBinarySchema(e):e}!function(){var e=new Int32Array(1),n=new Float32Array(e.buffer);function t(e){if(e&&!(e instanceof Uint8Array))throw new Error("Must initialize a ByteBuffer with a Uint8Array");this._data=e||new Uint8Array(256),this._index=0,this.length=e?e.length:0}t.prototype.toUint8Array=function(){return this._data.subarray(0,this.length)},t.prototype.readByte=function(){if(this._index+1>this._data.length)throw new Error("Index out of bounds");return this._data[this._index++]},t.prototype.readByteArray=function(){var e=this.readVarUint(),n=this._index,t=n+e;if(t>this._data.length)throw new Error("Read array out of bounds");this._index=t;var i=new Uint8Array(e);return i.set(this._data.subarray(n,t)),i},t.prototype.readVarFloat=function(){var t=this._index,i=this._data,r=i.length;if(t+1>r)throw new Error("Index out of bounds");var a=i[t];if(0===a)return this._index=t+1,0;if(t+4>r)throw new Error("Index out of bounds");var s=a|i[t+1]<<8|i[t+2]<<16|i[t+3]<<24;return this._index=t+4,s=s<<23|s>>>9,e[0]=s,n[0]},t.prototype.readVarUint=function(){var e=0,n=0;do{var t=this.readByte();e|=(127&t)<<n,n+=7}while(128&t&&n<35);return e>>>0},t.prototype.readVarInt=function(){var e=0|this.readVarUint();return 1&e?~(e>>>1):e>>>1},t.prototype.readString=function(){for(var e="";;){var n,t=this.readByte();if(t<192)n=t;else{var i=this.readByte();if(t<224)n=(31&t)<<6|63&i;else{var r=this.readByte();if(t<240)n=(15&t)<<12|(63&i)<<6|63&r;else n=(7&t)<<18|(63&i)<<12|(63&r)<<6|63&this.readByte()}}if(0===n)break;n<65536?e+=String.fromCharCode(n):(n-=65536,e+=String.fromCharCode(55296+(n>>10),56320+(1023&n)))}return e},t.prototype._growBy=function(e){if(this.length+e>this._data.length){var n=new Uint8Array(this.length+e<<1);n.set(this._data),this._data=n}this.length+=e},t.prototype.writeByte=function(e){var n=this.length;this._growBy(1),this._data[n]=e},t.prototype.writeByteArray=function(e){this.writeVarUint(e.length);var n=this.length;this._growBy(e.length),this._data.set(e,n)},t.prototype.writeVarFloat=function(t){var i=this.length;n[0]=t;var r=e[0];if(0!=(255&(r=r>>>23|r<<9))){this._growBy(4);var a=this._data;a[i]=r,a[i+1]=r>>8,a[i+2]=r>>16,a[i+3]=r>>24}else this.writeByte(0)},t.prototype.writeVarUint=function(e){do{var n=127&e;e>>>=7,this.writeByte(e?128|n:n)}while(e)},t.prototype.writeVarInt=function(e){this.writeVarUint(e<<1^e>>31)},t.prototype.writeString=function(e){for(var n,t=0;t<e.length;t++){var i=e.charCodeAt(t);if(t+1===e.length||i<55296||i>=56320)n=i;else n=(i<<10)+e.charCodeAt(++t)+-56613888;if(0===n)throw new Error("Cannot encode a string containing the null character");n<128?this.writeByte(n):(n<2048?this.writeByte(n>>6&31|192):(n<65536?this.writeByte(n>>12&15|224):(this.writeByte(n>>18&7|240),this.writeByte(n>>12&63|128)),this.writeByte(n>>6&63|128)),this.writeByte(63&n|128))}this.writeByte(0)},i.ByteBuffer=t}(),function(){var t=["bool","byte","float","int","string","uint"],r=["ByteBuffer","package"],a=/((?:-|\b)\d+\b|[=;{}]|\[\]|\[deprecated\]|\b[A-Za-z_][A-Za-z0-9_]*\b|\/\/.*|\s+)/g,s=/^[A-Za-z_][A-Za-z0-9_]*$/,u=/^\/\/.*|\s+$/,p=/^=$/,h=/^$/,o=/^;$/,l=/^-?\d+$/,f=/^\{$/,d=/^\}$/,c=/^\[\]$/,b=/^enum$/,m=/^struct$/,y=/^message$/,v=/^package$/,_=/^\[deprecated\]$/;i.nativeTypes=t,i.reservedNames=r,i.parseSchema=function(i){var g=function(t){function i(){return t[w]}function r(e){return!!e.test(i().text)&&(w++,!0)}function a(t,a){if(!r(t)){var s=i();n("Expected "+a+" but found "+e(s.text),s.line,s.column)}}var u,g=[],k=null,w=0;for(r(v)&&(k=i().text,a(s,"identifier"),a(o,'";"'));w<t.length&&!r(h);){var S,E=[];r(b)?S="ENUM":r(m)?S="STRUCT":r(y)?S="MESSAGE":(u=void 0,n("Unexpected token "+e((u=i()).text),u.line,u.column));var B=i();for(a(s,"identifier"),a(f,'"{"');!r(d);){var U=null,A=!1,V=!1;"ENUM"!==S&&(U=i().text,a(s,"identifier"),A=r(c));var M=i();a(s,"identifier");var T=null;"STRUCT"!==S&&(a(p,'"="'),T=i(),a(l,"integer"),(0|T.text)+""!==T.text&&n("Invalid integer "+e(T.text),T.line,T.column));var x=i();r(_)&&("MESSAGE"!==S&&n("Cannot deprecate this field",x.line,x.column),V=!0),a(o,'";"'),E.push({name:M.text,line:M.line,column:M.column,type:U,isArray:A,isDeprecated:V,value:null!==T?0|T.text:E.length+1})}g.push({name:B.text,line:B.line,column:B.column,kind:S,fields:E})}return{package:k,definitions:g}}(function(t){for(var i=t.split(a),r=[],s=0,p=0,h=0;h<i.length;h++){var o=i[h];1&h?u.test(o)||r.push({text:o,line:p+1,column:s+1}):""!==o&&n("Syntax error "+e(o),p+1,s+1);var l=o.split("\n");l.length>1&&(s=0),p+=l.length-1,s+=l[l.length-1].length}return r.push({text:"",line:p,column:s}),r}(i));return function(i){for(var a=t.slice(),s={},u=0;u<i.definitions.length;u++){var p=i.definitions[u];-1!==a.indexOf(p.name)&&n("The type "+e(p.name)+" is defined twice",p.line,p.column),-1!==r.indexOf(p.name)&&n("The type name "+e(p.name)+" is reserved",p.line,p.column),a.push(p.name),s[p.name]=p}for(u=0;u<i.definitions.length;u++){var h=(p=i.definitions[u]).fields;if("ENUM"!==p.kind&&0!==h.length){for(var o=0;o<h.length;o++){var l=h[o];-1===a.indexOf(l.type)&&n("The type "+e(l.type)+" is not defined for field "+e(l.name),l.line,l.column)}var f=[];for(o=0;o<h.length;o++)l=h[o],-1!==f.indexOf(l.value)&&n("The id for field "+e(l.name)+" is used twice",l.line,l.column),l.value<=0&&n("The id for field "+e(l.name)+" must be positive",l.line,l.column),l.value>h.length&&n("The id for field "+e(l.name)+" cannot be larger than "+h.length,l.line,l.column),f.push(l.value)}}var d={},c=function(t){var i=s[t];if(i&&"STRUCT"===i.kind&&(1===d[t]&&n("Recursive nesting of "+e(t)+" is not allowed",i.line,i.column),2!==d[t]&&i)){d[t]=1;for(var r=i.fields,a=0;a<r.length;a++){var u=r[a];u.isArray||c(u.type)}d[t]=2}return!0};for(u=0;u<i.definitions.length;u++)c(i.definitions[u].name)}(g),g}}(),function(){i.prettyPrintSchema=function(e){e=t(e),new i.ByteBuffer;var n=e.definitions,r="";null!==e.package&&(r+="package "+e.package+";\n");for(var a=0;a<n.length;a++){var s=n[a];(a>0||null!==e.package)&&(r+="\n"),r+=s.kind.toLowerCase()+" "+s.name+" {\n";for(var u=0;u<s.fields.length;u++){var p=s.fields[u];r+="  ","ENUM"!==s.kind&&(r+=p.type,p.isArray&&(r+="[]"),r+=" "),r+=p.name,"STRUCT"!==s.kind&&(r+=" = "+p.value),p.isDeprecated&&(r+=" [deprecated]"),r+=";\n"}r+="}\n"}return r}}(),function(){var e=i.ByteBuffer,n=["bool","byte","int","uint","float","string"],r=["ENUM","STRUCT","MESSAGE"];i.decodeBinarySchema=function(t){t instanceof e||(t=new e(t));for(var i=t.readVarUint(),a=[],s=0;s<i;s++){for(var u=t.readString(),p=t.readByte(),h=t.readVarUint(),o=[],l=0;l<h;l++){var f=t.readString(),d=t.readVarInt(),c=!!(1&t.readByte()),b=t.readVarUint();o.push({name:f,line:0,column:0,type:"ENUM"===r[p]?null:d,isArray:c,isDeprecated:!1,value:b})}a.push({name:u,line:0,column:0,kind:r[p],fields:o})}for(s=0;s<i;s++)for(o=a[s].fields,l=0;l<o.length;l++){var m=o[l];if(m.type<0){if(~m.type>=n.length)throw new Error("Invalid type "+m.type);m.type=n[~m.type]}else{if(m.type>=a.length)throw new Error("Invalid type "+m.type);m.type=null===m.type?null:a[m.type].name}}return{package:null,definitions:a}},i.encodeBinarySchema=function(i){i=t(i);var a=new e,s=i.definitions,u={};a.writeVarUint(s.length);for(var p=0;p<s.length;p++)u[s[p].name]=p;for(p=0;p<s.length;p++){var h=s[p];a.writeString(h.name),a.writeByte(r.indexOf(h.kind)),a.writeVarUint(h.fields.length);for(var o=0;o<h.fields.length;o++){var l=h.fields[o],f=n.indexOf(l.type);a.writeString(l.name),a.writeVarInt(-1===f?u[l.type]:~f),a.writeByte(l.isArray?1:0),a.writeVarUint(l.value)}}return a.toUint8Array()}}(),function(){var r=i.ByteBuffer;function a(t,i){var r=[],a="  ";r.push("function(bb) {"),r.push("  var result = {};"),r.push("  if (!(bb instanceof this.ByteBuffer)) {"),r.push("    bb = new this.ByteBuffer(bb);"),r.push("  }"),r.push(""),"MESSAGE"===t.kind&&(r.push("  while (true) {"),r.push("    switch (bb.readVarUint()) {"),r.push("    case 0:"),r.push("      return result;"),r.push(""),a="      ");for(var s=0;s<t.fields.length;s++){var u,p=t.fields[s];switch(p.type){case"bool":u="!!bb.readByte()";break;case"byte":u="bb.readByte()";break;case"int":u="bb.readVarInt()";break;case"uint":u="bb.readVarUint()";break;case"float":u="bb.readVarFloat()";break;case"string":u="bb.readString()";break;default:var h=i[p.type];h?u="ENUM"===h.kind?"this["+e(h.name)+"][bb.readVarUint()]":"this["+e("decode"+h.name)+"](bb)":n("Invalid type "+e(p.type)+" for field "+e(p.name),p.line,p.column)}"MESSAGE"===t.kind&&r.push("    case "+p.value+":"),p.isArray?p.isDeprecated?"byte"===p.type?r.push(a+"bb.readByteArray();"):(r.push(a+"var length = bb.readVarUint();"),r.push(a+"while (length-- > 0) "+u+";")):"byte"===p.type?r.push(a+"result["+e(p.name)+"] = bb.readByteArray();"):(r.push(a+"var length = bb.readVarUint();"),r.push(a+"var values = result["+e(p.name)+"] = [];"),r.push(a+"while (length-- > 0) values.push("+u+");")):p.isDeprecated?r.push(a+u+";"):r.push(a+"result["+e(p.name)+"] = "+u+";"),"MESSAGE"===t.kind&&(r.push("      break;"),r.push(""))}return"MESSAGE"===t.kind?(r.push("    default:"),r.push('      throw new Error("Attempted to parse invalid message");'),r.push("    }"),r.push("  }")):r.push("  return result;"),r.push("}"),r.join("\n")}function s(n,t){var i=[];i.push("function(message, bb) {"),i.push("  var isTopLevel = !bb;"),i.push("  if (isTopLevel) bb = new this.ByteBuffer();");for(var r=0;r<n.fields.length;r++){var a,s=n.fields[r];if(!s.isDeprecated){switch(s.type){case"bool":case"byte":a="bb.writeByte(value);";break;case"int":a="bb.writeVarInt(value);";break;case"uint":a="bb.writeVarUint(value);";break;case"float":a="bb.writeVarFloat(value);";break;case"string":a="bb.writeString(value);";break;default:var u=t[s.type];if(!u)throw new Error("Invalid type "+e(s.type)+" for field "+e(s.name));a="ENUM"===u.kind?"var encoded = this["+e(u.name)+'][value]; if (encoded === void 0) throw new Error("Invalid value " + JSON.stringify(value) + '+e(" for enum "+e(u.name))+"); bb.writeVarUint(encoded);":"this["+e("encode"+u.name)+"](value, bb);"}i.push(""),i.push("  var value = message["+e(s.name)+"];"),i.push("  if (value != null) {"),"MESSAGE"===n.kind&&i.push("    bb.writeVarUint("+s.value+");"),s.isArray?"byte"===s.type?i.push("    bb.writeByteArray(value);"):(i.push("    var values = value, n = values.length;"),i.push("    bb.writeVarUint(n);"),i.push("    for (var i = 0; i < n; i++) {"),i.push("      value = values[i];"),i.push("      "+a),i.push("    }")):i.push("    "+a),"STRUCT"===n.kind&&(i.push("  } else {"),i.push("    throw new Error("+e("Missing required field "+e(s.name))+");")),i.push("  }")}}return"MESSAGE"===n.kind&&i.push("  bb.writeVarUint(0);"),i.push(""),i.push("  if (isTopLevel) return bb.toUint8Array();"),i.push("}"),i.join("\n")}function u(i){var r={},u=(i=t(i)).package,p=[];null!==u?p.push("var "+u+" = exports || "+u+" || {}, exports;"):(p.push("var exports = exports || {};"),u="exports"),p.push(u+".ByteBuffer = "+u+'.ByteBuffer || require("kiwi-schema").ByteBuffer;');for(var h=0;h<i.definitions.length;h++){r[(o=i.definitions[h]).name]=o}for(h=0;h<i.definitions.length;h++){var o;switch((o=i.definitions[h]).kind){case"ENUM":for(var l={},f=0;f<o.fields.length;f++){var d=o.fields[f];l[d.name]=d.value,l[d.value]=d.name}p.push(u+"["+e(o.name)+"] = "+JSON.stringify(l,null,2)+";");break;case"STRUCT":case"MESSAGE":p.push(""),p.push(u+"["+e("decode"+o.name)+"] = "+a(o,r)+";"),p.push(""),p.push(u+"["+e("encode"+o.name)+"] = "+s(o,r)+";");break;default:n("Invalid definition kind "+e(o.kind),o.line,o.column)}}return p.push(""),p.join("\n")}i.compileSchema=function(e){var n={ByteBuffer:r};return new Function("exports",u(e))(n),n},i.compileSchemaJS=u}(),function(){i.ByteBuffer;function r(t,i,r){var a;switch(i.type){case"bool":a="bool";break;case"byte":a="uint8_t";break;case"int":a="int32_t";break;case"uint":a="uint32_t";break;case"float":a="float";break;case"string":a="kiwi::String";break;default:var s=t[i.type];s||n("Invalid type "+e(i.type)+" for field "+e(i.name),i.line,i.column),a=s.name}return r&&(a="kiwi::Array<"+a+">"),a}function a(e){return"_data_"+e.name}function s(e){return e>>5}function u(e){return 1<<e%32>>>0}function p(e,n){return!n.isArray&&n.type in e&&"ENUM"!==e[n.type].kind}i.compileSchemaCPP=function(i){i=t(i);var h={},o=[];o.push('#include "kiwi.h"'),o.push(""),null!==i.package&&(o.push("namespace "+i.package+" {"),o.push(""),o.push("#ifndef INCLUDE_"+i.package.toUpperCase()+"_H"),o.push("#define INCLUDE_"+i.package.toUpperCase()+"_H"),o.push(""));for(var l=0;l<i.definitions.length;l++)h[(m=i.definitions[l]).name]=m;for(o.push("class BinarySchema {"),o.push("public:"),o.push("  bool parse(kiwi::ByteBuffer &bb);"),o.push("  const kiwi::BinarySchema &underlyingSchema() const { return _schema; }"),l=0;l<i.definitions.length;l++)"MESSAGE"===(m=i.definitions[l]).kind&&o.push("  bool skip"+m.name+"Field(kiwi::ByteBuffer &bb, uint32_t id) const;");for(o.push(""),o.push("private:"),o.push("  kiwi::BinarySchema _schema;"),l=0;l<i.definitions.length;l++)"MESSAGE"===(m=i.definitions[l]).kind&&o.push("  uint32_t _index"+m.name+" = 0;");for(o.push("};"),o.push(""),l=0;l<i.definitions.length;l++)if("ENUM"===(m=i.definitions[l]).kind){o.push("enum class "+m.name+" : uint32_t {");for(var f=0;f<m.fields.length;f++){var d=m.fields[f];o.push("  "+d.name+" = "+d.value+",")}o.push("};"),o.push("")}else"STRUCT"!==m.kind&&"MESSAGE"!==m.kind&&n("Invalid definition kind "+e(m.kind),m.line,m.column);for(var c=0;c<3;c++){var b=!1;if(2===c){for(null!==i.package&&o.push("#endif"),o.push("#ifdef IMPLEMENT_SCHEMA_H"),o.push(""),o.push("bool BinarySchema::parse(kiwi::ByteBuffer &bb) {"),o.push("  if (!_schema.parse(bb)) return false;"),l=0;l<i.definitions.length;l++)"MESSAGE"===(m=i.definitions[l]).kind&&o.push('  _schema.findDefinition("'+m.name+'", _index'+m.name+");");for(o.push("  return true;"),o.push("}"),o.push(""),l=0;l<i.definitions.length;l++)"MESSAGE"===(m=i.definitions[l]).kind&&(o.push("bool BinarySchema::skip"+m.name+"Field(kiwi::ByteBuffer &bb, uint32_t id) const {"),o.push("  return _schema.skipField(bb, _index"+m.name+", id);"),o.push("}"),o.push(""))}for(l=0;l<i.definitions.length;l++){var m;if("ENUM"!==(m=i.definitions[l]).kind){var y=m.fields;if(0===c)o.push("class "+m.name+";"),b=!0;else if(1===c){for(o.push("class "+m.name+" {"),o.push("public:"),o.push("  "+m.name+"() { (void)_flags; }"),o.push(""),f=0;f<y.length;f++)if(!(d=y[f]).isDeprecated){var v=a(d),_=r(h,d,d.isArray),g=s(f),k=u(f);p(h,d)?(o.push("  "+_+" *"+d.name+"();"),o.push("  const "+_+" *"+d.name+"() const;"),o.push("  void set_"+d.name+"("+_+" *value);")):d.isArray?(o.push("  "+_+" *"+d.name+"();"),o.push("  const "+_+" *"+d.name+"() const;"),o.push("  "+_+" &set_"+d.name+"(kiwi::MemoryPool &pool, uint32_t count);")):(o.push("  "+_+" *"+d.name+"();"),o.push("  const "+_+" *"+d.name+"() const;"),o.push("  void set_"+d.name+"(const "+_+" &value);")),o.push("")}o.push("  bool encode(kiwi::ByteBuffer &bb);"),o.push("  bool decode(kiwi::ByteBuffer &bb, kiwi::MemoryPool &pool, const BinarySchema *schema = nullptr);"),o.push(""),o.push("private:"),o.push("  uint32_t _flags["+(y.length+31>>5)+"] = {};");var w={bool:1,byte:1,int:4,uint:4,float:4},S=y.slice().sort(function(e,n){var t=!e.isArray&&w[e.type]||8,i=!n.isArray&&w[n.type]||8;return t!==i?i-t:y.indexOf(e)-y.indexOf(n)});for(f=0;f<S.length;f++)(d=S[f]).isDeprecated||(v=a(d),_=r(h,d,d.isArray),p(h,d)?o.push("  "+_+" *"+v+" = {};"):o.push("  "+_+" "+v+" = {};"));o.push("};"),o.push("")}else{for(f=0;f<y.length;f++)v=a(d=y[f]),_=r(h,d,d.isArray),g=s(f),k=u(f),d.isDeprecated||(p(h,d)?(o.push(_+" *"+m.name+"::"+d.name+"() {"),o.push("  return "+v+";"),o.push("}"),o.push(""),o.push("const "+_+" *"+m.name+"::"+d.name+"() const {"),o.push("  return "+v+";"),o.push("}"),o.push(""),o.push("void "+m.name+"::set_"+d.name+"("+_+" *value) {"),o.push("  "+v+" = value;"),o.push("}"),o.push("")):d.isArray?(o.push(_+" *"+m.name+"::"+d.name+"() {"),o.push("  return _flags["+g+"] & "+k+" ? &"+v+" : nullptr;"),o.push("}"),o.push(""),o.push("const "+_+" *"+m.name+"::"+d.name+"() const {"),o.push("  return _flags["+g+"] & "+k+" ? &"+v+" : nullptr;"),o.push("}"),o.push(""),o.push(_+" &"+m.name+"::set_"+d.name+"(kiwi::MemoryPool &pool, uint32_t count) {"),o.push("  _flags["+g+"] |= "+k+"; return "+v+" = pool.array<"+r(h,d,!1)+">(count);"),o.push("}"),o.push("")):(o.push(_+" *"+m.name+"::"+d.name+"() {"),o.push("  return _flags["+g+"] & "+k+" ? &"+v+" : nullptr;"),o.push("}"),o.push(""),o.push("const "+_+" *"+m.name+"::"+d.name+"() const {"),o.push("  return _flags["+g+"] & "+k+" ? &"+v+" : nullptr;"),o.push("}"),o.push(""),o.push("void "+m.name+"::set_"+d.name+"(const "+_+" &value) {"),o.push("  _flags["+g+"] |= "+k+"; "+v+" = value;"),o.push("}"),o.push("")));for(o.push("bool "+m.name+"::encode(kiwi::ByteBuffer &_bb) {"),f=0;f<y.length;f++)if(!(d=y[f]).isDeprecated){v=a(d);var E=d.isArray?"_it":v;switch(g=s(f),k=u(f),d.type){case"bool":case"byte":U="_bb.writeByte("+E+");";break;case"int":U="_bb.writeVarInt("+E+");";break;case"uint":U="_bb.writeVarUint("+E+");";break;case"float":U="_bb.writeVarFloat("+E+");";break;case"string":U="_bb.writeString("+E+".c_str());";break;default:(_=h[d.type])?U="ENUM"===_.kind?"_bb.writeVarUint(static_cast<uint32_t>("+E+"));":"if (!"+E+(p(h,d)?"->":".")+"encode(_bb)) return false;":n("Invalid type "+e(d.type)+" for field "+e(d.name),d.line,d.column)}var B="  ";"STRUCT"===m.kind?o.push("  if ("+d.name+"() == nullptr) return false;"):(o.push("  if ("+d.name+"() != nullptr) {"),B="    "),"MESSAGE"===m.kind&&o.push(B+"_bb.writeVarUint("+d.value+");"),d.isArray?(o.push(B+"_bb.writeVarUint("+v+".size());"),o.push(B+"for ("+r(h,d,!1)+" &_it : "+v+") "+U)):o.push(B+U),"STRUCT"!==m.kind&&o.push("  }")}for("MESSAGE"===m.kind&&o.push("  _bb.writeVarUint(0);"),o.push("  return true;"),o.push("}"),o.push(""),o.push("bool "+m.name+"::decode(kiwi::ByteBuffer &_bb, kiwi::MemoryPool &_pool, const BinarySchema *_schema) {"),f=0;f<y.length;f++)if(y[f].isArray){o.push("  uint32_t _count;");break}for("MESSAGE"===m.kind&&(o.push("  while (true) {"),o.push("    uint32_t _type;"),o.push("    if (!_bb.readVarUint(_type)) return false;"),o.push("    switch (_type) {"),o.push("      case 0:"),o.push("        return true;")),f=0;f<y.length;f++){v=a(d=y[f]),E=d.isArray?"_it":v;var U,A=p(h,d);switch(d.type){case"bool":case"byte":U="_bb.readByte("+E+")";break;case"int":U="_bb.readVarInt("+E+")";break;case"uint":U="_bb.readVarUint("+E+")";break;case"float":U="_bb.readVarFloat("+E+")";break;case"string":U="_bb.readString("+E+", _pool)";break;default:(_=h[d.type])?U="ENUM"===_.kind?"_bb.readVarUint(reinterpret_cast<uint32_t &>("+E+"))":E+(A?"->":".")+"decode(_bb, _pool, _schema)":n("Invalid type "+e(d.type)+" for field "+e(d.name),d.line,d.column)}_=r(h,d,!1),B="  ","MESSAGE"===m.kind&&(o.push("      case "+d.value+": {"),B="        "),d.isArray?(o.push(B+"if (!_bb.readVarUint(_count)) return false;"),d.isDeprecated?o.push(B+"for ("+_+" &_it : _pool.array<"+r(h,d,!1)+">(_count)) if (!"+U+") return false;"):o.push(B+"for ("+_+" &_it : set_"+d.name+"(_pool, _count)) if (!"+U+") return false;")):d.isDeprecated?(A?o.push(B+_+" *"+v+" = _pool.allocate<"+_+">();"):o.push(B+_+" "+v+" = {};"),o.push(B+"if (!"+U+") return false;")):(A&&o.push(B+v+" = _pool.allocate<"+_+">();"),o.push(B+"if (!"+U+") return false;"),A||o.push(B+"set_"+d.name+"("+v+");")),"MESSAGE"===m.kind&&(o.push("        break;"),o.push("      }"))}"MESSAGE"===m.kind?(o.push("      default: {"),o.push("        if (!_schema || !_schema->skip"+m.name+"Field(_bb, _type)) return false;"),o.push("        break;"),o.push("      }"),o.push("    }"),o.push("  }")):o.push("  return true;"),o.push("}"),o.push("")}}}2===c?(o.push("#endif"),o.push("")):b&&o.push("")}return null!==i.package&&(o.push("}"),o.push("")),o.join("\n")}}(),function(){i.ByteBuffer;function e(e,n,t){switch(n){case"bool":return{type:"bool ",name:t};case"byte":return{type:"uint8_t ",name:t};case"int":return{type:"int32_t ",name:t};case"uint":return{type:"uint32_t ",name:t};case"float":return{type:"float ",name:t};case"string":return{type:"const char *",name:t};default:var i=e[n];return"ENUM"===i.kind?{type:i.name+" ",name:t}:null}}function n(t,i,r,a){for(var s=[],u=0;u<r.length;u++){var p=r[u],h=i+p.name;if(p.isArray&&!a)return null;var o=e(t,p.type,h);if(null===o){var l=t[p.type];if("STRUCT"!==l.kind)return null;var f=n(t,h+"_",l.fields,!1);if(null===f)return null;s.push.apply(s,f)}else s.push(o)}return s}function r(e){return e.type+e.name}function a(e){return e.name}function s(e){switch(e.type){case"bool ":case"uint8_t ":return"!bb.readByte("+e.name+")";case"int32_t ":return"!bb.readVarInt("+e.name+")";case"uint32_t ":return"!bb.readVarUint("+e.name+")";case"float ":return"!bb.readVarFloat("+e.name+")";case"const char *":return"!bb.readString("+e.name+")";default:return"!bb.readVarUint(reinterpret_cast<uint32_t &>("+e.name+"))"}}function u(e){switch(e.type){case"bool ":case"uint8_t ":return"_bb.writeByte("+e.name+")";case"int32_t ":return"_bb.writeVarInt("+e.name+")";case"uint32_t ":return"_bb.writeVarUint("+e.name+")";case"float ":return"_bb.writeVarFloat("+e.name+")";case"const char *":return"_bb.writeString("+e.name+")";default:return"_bb.writeVarUint(static_cast<uint32_t>("+e.name+"))"}}function p(e,t,i,u,p){var h=u.name;if(u.isArray){var o="_"+h+"_count";e.push(p+"uint32_t "+o+";"),e.push(p+"if (!bb.readVarUint("+o+")) return false;"),u.isDeprecated||e.push(p+"visitor.visit"+i.name+"_"+u.name+"_count("+o+");"),e.push(p+"while ("+o+"-- > 0) {"),p+="  ",h+="_element"}var l=n(t,"",[u],!0);if(null!==l){for(var f=0;f<l.length;f++)e.push(p+r(l[f])+";");e.push(p+"if ("+l.map(s).join(" || ")+") return false;"),u.isDeprecated||e.push(p+"visitor.visit"+i.name+"_"+h+"("+l.map(a).join(", ")+");")}else{u.isDeprecated||e.push(p+"visitor.visit"+i.name+"_"+h+"();");var d=t[u.type];e.push(p+"if (!parse"+d.name+"(bb, visitor)) return false;")}u.isArray&&e.push(p.slice(2)+"}")}i.compileSchemaCallbackCPP=function(e){e=t(e);for(var i={},h=[],o=0;o<e.definitions.length;o++)i[(m=e.definitions[o]).name]=m;for(null!==e.package&&(h.push("#ifndef INCLUDE_"+e.package.toUpperCase()+"_H"),h.push("#define INCLUDE_"+e.package.toUpperCase()+"_H"),h.push("")),h.push('#include "kiwi.h"'),h.push(""),null!==e.package&&(h.push("namespace "+e.package+" {"),h.push("")),o=0;o<e.definitions.length;o++)if("ENUM"===(m=e.definitions[o]).kind){h.push("enum class "+m.name+" : uint32_t {");for(var l=0;l<m.fields.length;l++)(b=m.fields[l]).isDeprecated||h.push("  "+b.name+" = "+b.value+",");h.push("};"),h.push("")}for(var f=0;f<2;f++){var d=") = 0;";for(0===f?(h.push("class Visitor {"),h.push("public:")):(h.push("class Writer : public Visitor {"),h.push("private:"),h.push("  kiwi::ByteBuffer &_bb;"),h.push("public:"),h.push("  Writer(kiwi::ByteBuffer &bb) : _bb(bb) {}"),d=") override;"),o=0;o<e.definitions.length;o++)if("STRUCT"!==(m=e.definitions[o]).kind||null===(y=n(i,"",m.fields,!1))){if("STRUCT"===m.kind||"MESSAGE"===m.kind){for(h.push("  virtual void begin"+m.name+"("+d),l=0;l<m.fields.length;l++)if(!(b=m.fields[l]).isDeprecated){var c=b.name;b.isArray&&(h.push("  virtual void visit"+m.name+"_"+b.name+"_count(uint32_t size"+d),c+="_element"),null!==(y=n(i,"",[b],!0))?h.push("  virtual void visit"+m.name+"_"+c+"("+y.map(r).join(", ")+d):h.push("  virtual void visit"+m.name+"_"+c+"("+d)}h.push("  virtual void end"+m.name+"("+d)}}else h.push("  virtual void visit"+m.name+"("+y.map(r).join(", ")+d);h.push("};"),h.push("")}for(o=0;o<e.definitions.length;o++)"STRUCT"!==(m=e.definitions[o]).kind&&"MESSAGE"!==m.kind||h.push("bool parse"+m.name+"(kiwi::ByteBuffer &bb, Visitor &visitor);");for(h.push(""),h.push("#ifdef IMPLEMENT_SCHEMA_H"),h.push(""),o=0;o<e.definitions.length;o++)if("STRUCT"===(m=e.definitions[o]).kind)if(null!==(y=n(i,"",m.fields,!1))){for(h.push("bool parse"+m.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),l=0;l<y.length;l++)h.push("  "+r(y[l])+";");h.push("  if ("+y.map(s).join(" || ")+") return false;"),h.push("  visitor.visit"+m.name+"("+y.map(a).join(", ")+");"),h.push("  return true;"),h.push("}"),h.push("")}else{for(h.push("bool parse"+m.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),h.push("  visitor.begin"+m.name+"();"),l=0;l<m.fields.length;l++)p(h,i,m,b=m.fields[l],"  ");h.push("  visitor.end"+m.name+"();"),h.push("  return true;"),h.push("}"),h.push("")}else if("MESSAGE"===m.kind){for(h.push("bool parse"+m.name+"(kiwi::ByteBuffer &bb, Visitor &visitor) {"),h.push("  visitor.begin"+m.name+"();"),h.push("  while (true) {"),h.push("    uint32_t _type;"),h.push("    if (!bb.readVarUint(_type)) return false;"),h.push("    switch (_type) {"),h.push("      case 0: {"),h.push("        visitor.end"+m.name+"();"),h.push("        return true;"),h.push("      }"),l=0;l<m.fields.length;l++){var b=m.fields[l];h.push("      case "+b.value+": {"),p(h,i,m,b,"        "),h.push("        break;"),h.push("      }")}h.push("      default: return false;"),h.push("    }"),h.push("  }"),h.push("}"),h.push("")}for(o=0;o<e.definitions.length;o++){var m;if("STRUCT"!==(m=e.definitions[o]).kind||null===(y=n(i,"",m.fields,!1))){if("STRUCT"===m.kind||"MESSAGE"===m.kind){for(h.push("void Writer::begin"+m.name+"() {"),h.push("}"),h.push(""),l=0;l<m.fields.length;l++){var y;if(!(b=m.fields[l]).isDeprecated)if(c=b.name,b.isArray&&(h.push("void Writer::visit"+m.name+"_"+b.name+"_count(uint32_t size) {"),"MESSAGE"===m.kind&&h.push("  _bb.writeVarUint("+b.value+");"),h.push("  _bb.writeVarUint(size);"),h.push("}"),h.push(""),c+="_element"),null!==(y=n(i,"",[b],!0))){h.push("void Writer::visit"+m.name+"_"+c+"("+y.map(r).join(", ")+") {"),"MESSAGE"!==m.kind||b.isArray||h.push("  _bb.writeVarUint("+b.value+");");for(var v=0;v<y.length;v++)h.push("  "+u(y[v])+";");h.push("}"),h.push("")}else h.push("void Writer::visit"+m.name+"_"+c+"() {"),"MESSAGE"!==m.kind||b.isArray||h.push("  _bb.writeVarUint("+b.value+");"),h.push("}"),h.push("")}h.push("void Writer::end"+m.name+"() {"),"MESSAGE"===m.kind&&h.push("  _bb.writeVarUint(0);"),h.push("}"),h.push("")}}else{for(h.push("void Writer::visit"+m.name+"("+y.map(r).join(", ")+") {"),l=0;l<y.length;l++)h.push("  "+u(y[l])+";");h.push("}"),h.push("")}}return h.push("#endif"),h.push(""),null!==e.package&&(h.push("}"),h.push(""),h.push("#endif"),h.push("")),h.join("\n")}}(),function(){i.ByteBuffer;function r(e){""===e[e.length-1]&&e.pop()}function a(e,n){if(n.isArray)return"null";switch(n.type){case"bool":return"false";case"byte":case"int":case"uint":return"0";case"float":return"0.0";case"string":return"null"}var t=e[n.type];return"ENUM"===t.kind?t.fields.length>0?"."+t.fields[0].name:"0 as "+n.type:"null"}function s(e){var n;switch(e.type){case"bool":n="bool";break;case"byte":case"int":case"uint":n="int";break;case"float":n="double";break;case"string":n="string";break;default:n=e.type}return e.isArray&&(n="List<"+n+">"),n}i.compileSchemaSkew=function(i){var u={},p="",h=[];null!==(i=t(i)).package&&(h.push("namespace "+i.package+" {"),p+="  ");for(var o=0;o<i.definitions.length;o++)u[(l=i.definitions[o]).name]=l;for(h.push(p+"class BinarySchema {"),h.push(p+"  var _schema = Kiwi.BinarySchema.new"),o=0;o<i.definitions.length;o++)"MESSAGE"===(l=i.definitions[o]).kind&&h.push(p+"  var _index"+l.name+" = 0");for(h.push(""),h.push(p+"  def parse(bytes Uint8Array) {"),h.push(p+"    _schema.parse(Kiwi.ByteBuffer.new(bytes))"),o=0;o<i.definitions.length;o++)"MESSAGE"===(l=i.definitions[o]).kind&&h.push(p+"    _index"+l.name+' = _schema.findDefinition("'+l.name+'")');for(h.push(p+"  }"),o=0;o<i.definitions.length;o++)"MESSAGE"===(l=i.definitions[o]).kind&&(h.push(""),h.push(p+"  def skip"+l.name+"Field(bb Kiwi.ByteBuffer, id int) {"),h.push(p+"    _schema.skipField(bb, _index"+l.name+", id)"),h.push(p+"  }"));for(h.push(p+"}"),h.push(""),o=0;o<i.definitions.length;o++){var l;switch((l=i.definitions[o]).kind){case"ENUM":var f={},d={};h.push(p+"enum "+l.name+" {");for(var c=0;c<l.fields.length;c++)f[(g=l.fields[c]).name]=g.value,d[g.value]=g.name,h.push(p+"  "+g.name);h.push(p+"}"),h.push(""),h.push(p+"namespace "+l.name+" {"),h.push(p+"  const _encode = "+JSON.stringify(f,null,2).replace(/"/g,"").replace(/\n/g,"\n  "+p)),h.push(""),h.push(p+"  const _decode = "+JSON.stringify(d,null,2).replace(/"/g,"").replace(/\n/g,"\n  "+p)),h.push(""),h.push(p+"  def encode(value "+l.name+") int {"),h.push(p+"    return _encode[value]"),h.push(p+"  }"),h.push(""),h.push(p+"  def decode(value int) "+l.name+" {"),h.push(p+"    if !(value in _decode) {"),h.push(p+"      Kiwi.DecodeError.throwInvalidEnumValue("+e(l.name)+")"),h.push(p+"    }"),h.push(p+"    return _decode[value]"),h.push(p+"  }"),h.push(p+"}"),h.push("");break;case"STRUCT":case"MESSAGE":for(h.push(p+"class "+l.name+" {"),c=0;c<l.fields.length;c+=32)h.push(p+"  var _flags"+(c>>5)+" = 0");for(c=0;c<l.fields.length;c++)(g=l.fields[c]).isDeprecated||h.push(p+"  var _"+g.name+" "+s(g)+" = "+a(u,g));for(h.push(""),c=0;c<l.fields.length;c++)if(!(g=l.fields[c]).isDeprecated){var b=s(g),m="_flags"+(c>>5),y=""+(1<<c%32>>>0);h.push(p+"  def has_"+g.name+" bool {"),h.push(p+"    return ("+m+" & "+y+") != 0"),h.push(p+"  }"),h.push(""),h.push(p+"  def "+g.name+" "+b+" {"),h.push(p+"    assert(has_"+g.name+")"),h.push(p+"    return _"+g.name),h.push(p+"  }"),h.push(""),h.push(p+"  def "+g.name+"=(value "+b+") {"),h.push(p+"    _"+g.name+" = value"),h.push(p+"    "+m+" |= "+y),h.push(p+"  }"),h.push("")}for(h.push(p+"  def encode(bb Kiwi.ByteBuffer) {"),c=0;c<l.fields.length;c++)if(!(g=l.fields[c]).isDeprecated){var v="_"+g.name;switch(g.isArray&&(v="value"),g.type){case"bool":k="bb.writeByte("+v+" as int)";break;case"byte":k="bb.writeByte("+v+")";break;case"int":k="bb.writeVarInt("+v+")";break;case"uint":k="bb.writeVarUint("+v+")";break;case"float":k="bb.writeVarFloat("+v+")";break;case"string":k="bb.writeString("+v+")";break;default:if(!(b=u[g.type]))throw new Error("Invalid type "+e(g.type)+" for field "+e(g.name));k="ENUM"===b.kind?"bb.writeVarUint("+b.name+".encode("+v+"))":v+".encode(bb)"}var _=p+"    ";"STRUCT"===l.kind?h.push(_+"assert(has_"+g.name+")"):(h.push(_+"if has_"+g.name+" {"),_+="  "),"MESSAGE"===l.kind&&h.push(_+"bb.writeVarUint("+g.value+")"),g.isArray?(h.push(_+"bb.writeVarUint(_"+g.name+".count)"),h.push(_+"for value in _"+g.name+" {"),h.push(_+"  "+k),h.push(_+"}")):h.push(_+k),"STRUCT"!==l.kind&&h.push(p+"    }"),h.push("")}for("MESSAGE"===l.kind?h.push(p+"    bb.writeVarUint(0)"):r(h),h.push(p+"  }"),h.push(""),h.push(p+"  def encode Uint8Array {"),h.push(p+"    var bb = Kiwi.ByteBuffer.new"),h.push(p+"    encode(bb)"),h.push(p+"    return bb.toUint8Array"),h.push(p+"  }"),h.push(p+"}"),h.push(""),h.push(p+"namespace "+l.name+" {"),h.push(p+"  def decode(bytes Uint8Array) "+l.name+" {"),h.push(p+"    return decode(Kiwi.ByteBuffer.new(bytes), null)"),h.push(p+"  }"),h.push(""),h.push(p+"  def decode(bytes Uint8Array, schema BinarySchema) "+l.name+" {"),h.push(p+"    return decode(Kiwi.ByteBuffer.new(bytes), schema)"),h.push(p+"  }"),h.push(""),h.push(p+"  def decode(bb Kiwi.ByteBuffer, schema BinarySchema) "+l.name+" {"),h.push(p+"    var self = new"),c=0;c<l.fields.length;c++)if(l.fields[c].isArray){h.push(p+"    var count = 0");break}for(_=p+"  ","MESSAGE"===l.kind&&(h.push(p+"    while true {"),h.push(p+"      var type = bb.readVarUint"),h.push(p+"      switch type {"),h.push(p+"        case 0 {"),h.push(p+"          break"),h.push(p+"        }"),h.push(""),_+="      "),c=0;c<l.fields.length;c++){var g,k;switch((g=l.fields[c]).type){case"bool":k=g.isDeprecated?"bb.readByte":"bb.readByte as bool";break;case"byte":k="bb.readByte";break;case"int":k="bb.readVarInt";break;case"uint":k="bb.readVarUint";break;case"float":k="bb.readVarFloat";break;case"string":k="bb.readString";break;default:if(!(b=u[g.type]))throw new Error("Invalid type "+e(g.type)+" for field "+e(g.name));k="ENUM"===b.kind?b.name+".decode(bb.readVarUint)":b.name+".decode(bb, schema)"}"MESSAGE"===l.kind&&h.push(_+"case "+g.value+" {"),g.isArray?g.isDeprecated?(h.push(_+"  for i in 0..bb.readVarUint {"),h.push(_+"    "+k),h.push(_+"  }")):(h.push(_+"  count = bb.readVarUint"),h.push(_+"  self."+g.name+" = []"),h.push(_+"  for array = self._"+g.name+"; count != 0; count-- {"),h.push(_+"    array.append("+k+")"),h.push(_+"  }")):g.isDeprecated?h.push(_+"  "+k):h.push(_+"  self."+g.name+" = "+k),"MESSAGE"===l.kind&&(h.push(_+"}"),h.push(""))}"MESSAGE"===l.kind&&(h.push(p+"        default {"),h.push(p+"          if schema == null { Kiwi.DecodeError.throwInvalidMessage }"),h.push(p+"          else { schema.skip"+l.name+"Field(bb, type) }"),h.push(p+"        }"),h.push(p+"      }"),h.push(p+"    }")),h.push(p+"    return self"),h.push(p+"  }"),h.push(p+"}"),h.push("");break;default:n("Invalid definition kind "+e(l.kind),l.line,l.column)}}return null!==i.package&&(r(h),h.push("}")),h.push(""),h.join("\n")}}(),function(){i.ByteBuffer;i.compileSchemaTypeScript=function(i){var r="",a=[];null!==(i=t(i)).package&&(a.push("export namespace "+i.package+" {"),r+="  ");for(var s=0;s<i.definitions.length;s++)if("ENUM"===(o=i.definitions[s]).kind){a.push(r+"export type "+o.name+" =");for(var u=0;u<o.fields.length;u++)a.push(r+"  "+JSON.stringify(o.fields[u].name)+(u+1<o.fields.length?" |":";"));o.fields.length||a.push(r+"  any;"),a.push("")}for(s=0;s<i.definitions.length;s++)if("STRUCT"===(o=i.definitions[s]).kind||"MESSAGE"===o.kind){for(a.push(r+"export interface "+o.name+" {"),u=0;u<o.fields.length;u++){var p,h=o.fields[u];if(!h.isDeprecated){switch(h.type){case"bool":p="boolean";break;case"byte":case"int":case"uint":case"float":p="number";break;default:p=h.type}"byte"===h.type&&h.isArray?p="Uint8Array":h.isArray&&(p+="[]"),a.push(r+"  "+h.name+("MESSAGE"===o.kind?"?":"")+": "+p+";")}}a.push(r+"}"),a.push("")}else"ENUM"!==o.kind&&n("Invalid definition kind "+e(o.kind),o.line,o.column);for(a.push(r+"export interface Schema {"),s=0;s<i.definitions.length;s++){var o;"ENUM"===(o=i.definitions[s]).kind?a.push(r+"  "+o.name+": any;"):"STRUCT"!==o.kind&&"MESSAGE"!==o.kind||(a.push(r+"  encode"+o.name+"(message: "+o.name+"): Uint8Array;"),a.push(r+"  decode"+o.name+"(buffer: Uint8Array): "+o.name+";"))}return a.push(r+"}"),null!==i.package&&a.push("}"),a.push(""),a.join("\n")}}()}(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,t){n.exports='// This is the schema for the file format. We use the Kiwi serialization format,\n// which is a custom format that is similar to Google Protocol Buffers but\n// customized for our needs: https://github.com/evanw/kiwi\n//\n// The files src/multiplayer/sync.h and resources/other/sync.bkiwi in fullscreen\n// are automatically generated from this schema file every time you build\n// fullscreen using Xcode. To manually generate the files, run the\n// "fullscreen/scripts/generate_kiwi.sh" script.\n//\n// The "kiwic" compiler emits errors in a format that Xcode understands, so you\n// should be able to edit the "sync.kiwi" file directly in Xcode and get inline\n// errors if the build fails.\n//\n// Please ensure every property that is an index into the top-level "blobs"\n// array ends in "Blob", like "fooBlob". This is used by the multiplayer\n// server to automatically substitute blob values in the right places.\n\npackage Fig;\n\nenum MessageType {\n  JOIN_START = 0;\n  NODE_CHANGES = 1;\n  USER_CHANGES = 2;\n  JOIN_END = 3;\n  SIGNAL = 4;\n  STYLE = 5;\n  STYLE_SET = 6;\n\n  // This message type is only sent if:\n  //\n  // - The client passes the "snapshot-hash" query parameter on connect\n  // - The value for that parameter is the same as the current document\n  // - There aren\'t any pending unsaved changes or active autosaves\n  //\n  // In this case, the client should skip reloading the document and just assume\n  // that it\'s local document is the exact same as the server. This is just an\n  // optimization to avoid needing to download and parse the document all over\n  // again when the browser tab has timed out because it was in the background\n  // and the network connection was idle. It\'s completely optional; if a client\n  // doesn\'t want to handle JOIN_START_SKIP_RELOAD, it can just not pass the\n  // "snapshot-hash" query parameter and the server will never send this type.\n  JOIN_START_SKIP_RELOAD = 7;\n\n  // Client upgrades work like this:\n  //\n  // 1) Client -> server:\n  // - Make a WebSocket request with an old "version" URL parameter\n  //\n  // 2) Server -> client:\n  // - Send the schema\n  // - Send a NOTIFY_SHOULD_UPGRADE message\n  //   - The "access" property is either READ_ONLY | READ_WRITE. The client\n  //     should use this to update the "isReadOnly" state of the scene.\n  //\n  // 3) Client -> server:\n  // - Send the schema\n  //   - This is optional, and is currently unused by the server. We were\n  //     thinking this could be nice to have if we ever change the wire\n  //     protocol itself since the client definitely knows what format its\n  //     messages are in.\n  // - At this point the upgrade flow pauses until user action. We let the user\n  //   continue to edit the document while we show a persistent banner at the\n  //   top of the screen that prompts them to upgrade. When they click the\n  //   upgrade button in this banner, we kick off the rest of the flow below.\n  // - Send a NODE_CHANGES message for all local changes\n  //   - This will happen if the document was already open and the user made\n  //     some unsaved changes while disconnected.\n  //   - Note that this currently happens even if the document is read-only.\n  //     In that case the server will just reject all of that user\'s changes\n  //     and they will be dropped on the floor when the client reloads.\n  // - Send an UPGRADE_DONE message\n  //\n  // 4) Server -> client:\n  // - Send an UPGRADE_REFRESH message\n  //   - This lets the client know that its changes have been fully committed\n  //     to the server and it\'s ok to reload.\n  //\n  // 5) Client -> server:\n  // - Close the connection and reload\n  //   - The client waits to reload until it gets the UPGRADE_REFRESH message\n  //     to avoid losing data. If the client reloaded earlier, it might lose\n  //     data because the message may not have ever reached the server. For\n  //     example, the user\'s car might have just entered a tunnel and has no\n  //     more internet connection.\n  //\n  // This whole sequence can be easily tested from the editor. Just choose\n  // "Debug > Test Multiplayer Upgrade Protocol". That reconnects to the\n  // multiplayer server with a special flag that forces the upgrade sequence.\n  NOTIFY_SHOULD_UPGRADE = 8;\n  UPGRADE_DONE = 9;\n  UPGRADE_REFRESH = 10;\n  SCENE_GRAPH_QUERY = 11;\n  SCENE_GRAPH_REPLY = 12;\n}\n\nenum Axis {\n  X = 0;\n  Y = 1;\n}\n\nenum Access {\n  READ_ONLY = 0;\n  READ_WRITE = 1;\n}\n\nenum NodePhase {\n  CREATED = 0;\n  REMOVED = 1;\n}\n\nenum WindingRule {\n  NONZERO = 0;\n  ODD = 1;\n}\n\n// Keep the names here up to date with serialization logic in FGDerivedSelectionProperties.cpp\nenum NodeType {\n  NONE = 0;\n  DOCUMENT = 1;\n  CANVAS = 2;\n  GROUP = 3;\n  FRAME = 4;\n  BOOLEAN_OPERATION = 5;\n  VECTOR = 6;\n  STAR = 7;\n  LINE = 8;\n  ELLIPSE = 9;\n  RECTANGLE = 10;\n  REGULAR_POLYGON = 11;\n  ROUNDED_RECTANGLE = 12;\n  TEXT = 13;\n  SLICE = 14;\n  SYMBOL = 15;\n  INSTANCE = 16;\n}\n\n// Keep the names here up to date with serialization logic in FGPaintHelpers.cpp\nenum BlendMode {\n  PASS_THROUGH = 0;\n  NORMAL = 1;\n  DARKEN = 2;\n  MULTIPLY = 3;\n  LINEAR_BURN = 4;\n  COLOR_BURN = 5;\n  LIGHTEN = 6;\n  SCREEN = 7;\n  LINEAR_DODGE = 8;\n  COLOR_DODGE = 9;\n  OVERLAY = 10;\n  SOFT_LIGHT = 11;\n  HARD_LIGHT = 12;\n  DIFFERENCE = 13;\n  EXCLUSION = 14;\n  HUE = 15;\n  SATURATION = 16;\n  COLOR = 17;\n  LUMINOSITY = 18;\n}\n\nenum PaintType {\n  SOLID = 0;\n  GRADIENT_LINEAR = 1;\n  GRADIENT_RADIAL = 2;\n  GRADIENT_ANGULAR = 3;\n  GRADIENT_DIAMOND = 4;\n  IMAGE = 5;\n  EMOJI = 6;\n}\n\nenum ImageScaleMode {\n  STRETCH = 0;\n  FIT = 1;\n  FILL = 2;\n  TILE = 3;\n}\n\nenum EffectType {\n  INNER_SHADOW = 0;\n  DROP_SHADOW = 1;\n  FOREGROUND_BLUR = 2;\n  BACKGROUND_BLUR = 3;\n}\n\nenum TextCase {\n  ORIGINAL = 0;\n  UPPER = 1;\n  LOWER = 2;\n  TITLE = 3;\n}\n\nenum TextDecoration {\n  NONE = 0;\n  UNDERLINE = 1;\n  STRIKETHROUGH = 2;\n}\n\nenum NumberUnits {\n  RAW = 0;\n  PIXELS = 1;\n  PERCENT = 2;\n}\n\nenum ConstraintType {\n  MIN = 0;\n  CENTER = 1;\n  MAX = 2;\n  STRETCH = 3;\n  SCALE = 4;\n\n  // FIXED_MIN and FIXED_MAX are deprecated and should be parsed as MIN\n  // and MAX. They were released internally, so there are documents on\n  // staging with these values stored in them. We already released them\n  // to users behind a feature flag. No external users should have been\n  // able to create documents with these constraint values.\n  FIXED_MIN = 5;\n  FIXED_MAX = 6;\n}\n\nenum StrokeAlign {\n  CENTER = 0;\n  INSIDE = 1;\n  OUTSIDE = 2;\n}\n\nenum StrokeCap {\n  NONE = 0;\n  ROUND = 1;\n  SQUARE = 2;\n  ARROW_LINES = 3;\n  ARROW_EQUILATERAL = 4;\n}\n\nenum StrokeJoin {\n  MITER = 0;\n  BEVEL = 1;\n  ROUND = 2;\n}\n\nenum BooleanOperation {\n  UNION = 0;\n  INTERSECT = 1;\n  SUBTRACT = 2;\n  XOR = 3;\n}\n\nenum TextAlignHorizontal {\n  LEFT = 0;\n  CENTER = 1;\n  RIGHT = 2;\n  JUSTIFIED = 3;\n}\n\nenum TextAlignVertical {\n  TOP = 0;\n  CENTER = 1;\n  BOTTOM = 2;\n}\n\nenum MouseCursor {\n  DEFAULT = 0;\n  CROSSHAIR = 1;\n  EYEDROPPER = 2;\n  HAND = 3;\n  PAINT_BUCKET = 4;\n  PEN = 5;\n  PENCIL = 6;\n}\n\nenum VectorMirror {\n  NONE = 0;\n  ANGLE = 1;\n  ANGLE_AND_LENGTH = 2;\n}\n\nenum DashMode {\n  CLIP = 0;\n  STRETCH = 1;\n}\n\n// Keep the names here up to date with imageTypeFromEnumName() in FWImageIO.cpp\nenum ImageType {\n  PNG = 0;\n  JPEG = 1;\n  SVG = 2;\n  PDF = 3;\n}\n\n// Keep the names here up to date with serialization logic in FGSerialization.cpp\nenum ExportConstraintType {\n  CONTENT_SCALE = 0;\n  CONTENT_WIDTH = 1;\n  CONTENT_HEIGHT = 2;\n}\n\nenum LayoutGridType {\n  MIN = 0;\n  CENTER = 1;\n  STRETCH = 2;\n}\n\nenum LayoutGridPattern {\n  STRIPES = 0;\n  GRID = 1;\n}\n\nenum TextAutoResize {\n  NONE = 0;\n  WIDTH_AND_HEIGHT = 1;\n  HEIGHT = 2;\n}\n\nenum StyleSetType {\n  PERSONAL = 0;\n  TEAM = 1;\n  CUSTOM = 2;\n  FREQUENCY = 3;\n  TEMPORARY = 4;\n}\n\nenum StyleSetContentType {\n  SOLID = 0;\n  GRADIENT = 1;\n  IMAGE = 2;\n}\n\nenum StackMode {\n  NONE = 0;\n  HORIZONTAL = 1;\n  VERTICAL = 2;\n}\n\nenum StackCounterAlign {\n  MIN = 0;\n  CENTER = 1;\n  MAX = 2;\n  STRETCH = 3;\n}\n\nenum StackJustify {\n  MIN = 0;\n  CENTER = 1;\n  MAX = 2;\n  SPACE_EVENLY = 3;\n}\n\nenum ConnectionType {\n  NONE = 0;\n\n  // Prototype link/hotspot points to a node in the same file\n  INTERNAL_NODE = 1;\n\n  // Prototype link/hotspot opens a URL\n  URL = 2;\n\n  // Goes to the previous frame\n  BACK = 3;\n\n  // Closes the overlay\n  CLOSE = 4;\n}\n\nenum InteractionType {\n  ON_CLICK = 0;\n  AFTER_TIMEOUT = 1;\n  MOUSE_IN = 2;\n  MOUSE_OUT = 3;\n  ON_HOVER = 4;\n  MOUSE_DOWN = 5;\n  MOUSE_UP = 6;\n  ON_PRESS = 7;\n  NONE = 8;\n}\n\nenum TransitionType {\n  INSTANT_TRANSITION = 0;\n\n  DISSOLVE = 1;\n\n  FADE = 2;\n\n  // Frame A moves over frame B while frame B\n  // fades out and moves slightly in the direction\n  // of the animation.\n  SLIDE_FROM_LEFT = 3;\n  SLIDE_FROM_RIGHT = 4;\n  SLIDE_FROM_TOP = 5;\n  SLIDE_FROM_BOTTOM = 6;\n\n  // Frame A moves onto screen by pushing frame B\n  // out of the way in the direction of the animation.\n  // The frames never overlap.\n  PUSH_FROM_LEFT = 7;\n  PUSH_FROM_RIGHT = 8;\n  PUSH_FROM_TOP = 9;\n  PUSH_FROM_BOTTOM = 10;\n\n  // Frame A moves over frame B in the direction of the\n  // animation. Frame B remains in place and doesn\'t\n  // change visually.\n  MOVE_FROM_LEFT = 11;\n  MOVE_FROM_RIGHT = 12;\n  MOVE_FROM_TOP = 13;\n  MOVE_FROM_BOTTOM = 14;\n\n  // The current frame on screen slides in the direction OPPOSITE\n  // to the one specified revealing the new frame under it which\n  // fades in and moves slightly in the direction of\n  // the animation.\n  //\n  // Why does ..._TO_LEFT actually move to the right? This was a\n  // mistake when we picked these names, and changing names in our\n  // file format is a huge pain so we\'ve chosen to live with this\n  // for now.\n  SLIDE_OUT_TO_LEFT = 15;\n  SLIDE_OUT_TO_RIGHT = 16;\n  SLIDE_OUT_TO_TOP = 17;\n  SLIDE_OUT_TO_BOTTOM = 18;\n\n  // The current frame on screen moves in the direction OPPOSITE\n  // to the one specified, revealing the new frame under it.\n  //\n  // Why does ..._TO_LEFT actually move to the right? This was a\n  // mistake when we picked these names, and changing names in our\n  // file format is a huge pain so we\'ve chosen to live with this\n  // for now.\n  MOVE_OUT_TO_LEFT = 19;\n  MOVE_OUT_TO_RIGHT = 20;\n  MOVE_OUT_TO_TOP = 21;\n  MOVE_OUT_TO_BOTTOM = 22;\n}\n\nenum EasingType {\n  IN_CUBIC = 0;\n  OUT_CUBIC = 1;\n  INOUT_CUBIC = 2;\n}\n\nenum ScrollDirection {\n  NONE = 0;\n  HORIZONTAL = 1;\n  VERTICAL = 2;\n  BOTH = 3;\n}\n\nenum ScrollContractedState {\n  EXPANDED = 0;\n  CONTRACTED = 1;\n}\n\nstruct GUID {\n  uint sessionID;\n  uint localID;\n}\n\nstruct Color {\n  float r;\n  float g;\n  float b;\n  float a;\n}\n\nstruct Vector {\n  float x;\n  float y;\n}\n\nstruct Rect {\n  float x;\n  float y;\n  float w;\n  float h;\n}\n\nstruct ColorStop {\n  Color color;\n  float position;\n}\n\nstruct Matrix {\n  float m00;\n  float m01;\n  float m02;\n  float m10;\n  float m11;\n  float m12;\n}\n\nstruct ParentIndex {\n  GUID guid;\n  string position;\n}\n\nstruct Number {\n  float value;\n  NumberUnits units;\n}\n\nstruct FontName {\n  string family;\n  string style;\n  string postscript;\n}\n\nenum FontVariantNumericFigure {\n  NORMAL = 0;\n  LINING = 1;\n  OLDSTYLE = 2;\n}\n\nenum FontVariantNumericSpacing {\n  NORMAL = 0;\n  PROPORTIONAL = 1;\n  TABULAR = 2;\n}\n\nenum FontVariantNumericFraction {\n  NORMAL = 0;\n  DIAGONAL = 1;\n  STACKED = 2;\n}\n\nenum FontVariantCaps {\n  NORMAL = 0;\n  SMALL = 1;\n  ALL_SMALL = 2;\n  PETITE = 3;\n  ALL_PETITE = 4;\n  UNICASE = 5;\n  TITLING = 6;\n}\n\nenum FontVariantPosition {\n  NORMAL = 0;\n  SUB = 1;\n  SUPER = 2;\n}\n\nstruct ExportConstraint {\n  ExportConstraintType type;\n  float value;\n}\n\nstruct GUIDMapping {\n  GUID from;\n  GUID to;\n}\n\nstruct Blob {\n  byte[] bytes;\n}\n\nmessage Image {\n  byte[] hash = 1; // SHA1 of compressed data\n  string name = 2; // Just for display, not referenced by anything\n  uint dataBlob = 3; // An index into "blobs", stores a compressed PNG or JPG (optional, will be missing for messages sent over the wire)\n}\n\n// DEPRECATED\nstruct FilterColorAdjust {\n  float tint;\n  float shadows;\n  float highlights;\n  float detail;\n  float exposure;\n  float vignette;\n  float temperature;\n  float vibrance;\n}\n\nmessage PaintFilterMessage {\n  float tint = 1;\n  float shadows = 2;\n  float highlights = 3;\n  float detail = 4 [deprecated];\n  float exposure = 5;\n  float vignette = 6 [deprecated];\n  float temperature = 7;\n  float vibrance = 8;\n  float contrast = 9;\n  float brightness = 10 [deprecated];\n}\n\nmessage Paint {\n  PaintType type = 1;\n  Color color = 2;\n  float opacity = 3;\n  bool visible = 4;\n  BlendMode blendMode = 5;\n  ColorStop[] stops = 6;\n  Matrix transform = 7;\n  Image image = 8;\n  Image imageThumbnail = 9;\n  ImageScaleMode imageScaleMode = 10;\n\n  // NOTE: Either the transform above is used (e.g. for ImageScaleMode::STRETCH),\n  // or these decomposed parameters are used (e.g. for ImageScaleMode::TILE).\n  float rotation = 11;\n  float scale = 12;\n\n  // DEPRECATED, this is not used anywhere.\n  FilterColorAdjust filterColorAdjust = 13 [deprecated];\n\n  PaintFilterMessage paintFilter = 14;\n\n  uint[] emojiCodePoints = 15;\n}\n\nmessage FontMetaData {\n  FontName key = 1;\n  float fontLineHeight = 2;\n}\n\nmessage TextData {\n  string characters = 1;\n  uint[] characterStyleIDs = 2; // All style IDs after the end are assumed to be 0, meaning no override\n  NodeChange[] styleOverrideTable = 3;\n\n  Vector layoutSize = 4;\n  Baseline[] baselines = 5;\n  Glyph[] glyphs = 6;\n  Decoration[] decorations = 7;\n\n  uint layoutVersion = 8;\n\n  FontMetaData[] fontMetaData = 9; // Used for CSS export when font is not locally available\n\n  FontName[] fallbackFonts = 10;\n}\n\nmessage Baseline {\n  Vector position = 1;\n  float width = 2;\n  float lineY = 3;\n  float lineHeight = 4;\n  float lineAscent = 7;\n\n  uint firstCharacter = 5; // An index into "characters" in TextData\n  uint endCharacter = 6; // An index past the last character into "characters" in TextData\n}\n\nmessage Glyph {\n  uint commandsBlob = 1; // An index into "blobs"\n  Vector position = 2;\n  uint styleID = 3;\n  float fontSize = 4;\n  uint firstCharacter = 5; // An index into "characters" in TextData\n  float advance = 6;\n}\n\nmessage Decoration {\n  Rect[] rects = 1;\n  uint styleID = 2;\n}\n\nmessage VectorData {\n  uint vectorNetworkBlob = 1; // An index into "blobs"\n  Vector normalizedSize = 2;\n  NodeChange[] styleOverrideTable = 3;\n}\n\nmessage GUIDPath {\n  GUID[] guids = 1;\n}\n\nmessage SymbolData {\n  GUID symbolID = 1;\n  NodeChange[] symbolOverrides = 2; // Uses GUIDPath as map key\n  float uniformScaleFactor = 3;\n}\n\nmessage GUIDPathMapping {\n  GUID id = 1;\n  GUIDPath path = 2;\n}\n\nmessage SharedSymbolReference {\n  string fileKey = 1; // The fileKey of the document that publishes the Symbol. Will soon be deprecated by componentKey\n  GUID symbolID = 2; // The symbolID as it exists in publishing document. Will soon be deprecated by componentKey\n  string versionHash = 3; // The hash of the version of the published Symbol\n  GUIDPathMapping[] guidPathMappings = 4; // Maps volatile local GUIDs to stable GUID paths.\n  byte[] bytes = 5; // The actual serialized Symbol fig file\n  GUIDMapping[] libraryGUIDToSubscribingGUID = 6 [deprecated]; // The goal of this was to map stable GUIDs in the team library to stable GUIDs in a subscribing document. This work was never finished\n  string componentKey = 7; // Uniquely identifies the component within all of Figma. Will be hex digest of a SHA1 hash.\n  GUIDPathMapping[] unflatteningMappings = 8;  // Maps from the old, unflattened GUIDs on this root symbol to new GUIDPaths in this root symbol.\n  bool isUnflattened = 9; // Stores whether this shared symbol was last published unflattened.\n}\n\nmessage SharedComponentMasterData {\n  string componentKey = 1; // The globally unique component key that references this component.\n  GUIDPathMapping[] publishingGUIDPathToTeamLibraryGUID = 2; // Maps volatile local GUIDPaths to stable GUIDs in the team library.\n  bool isUnflattened = 3; // Stores whether this shared component was published unflattened.\n}\n\nmessage Effect {\n  EffectType type = 1;\n  Color color = 2;\n  Vector offset = 3;\n  float radius = 4;\n  bool visible = 5;\n  BlendMode blendMode = 6;\n}\n\nmessage TransitionInfo {\n  TransitionType type = 1;\n  float duration = 2;\n}\n\nenum PrototypeDeviceType {\n  NONE = 0;\n  PRESET = 1;\n  CUSTOM = 2;\n  PRESENTATION = 3;\n}\n\nenum DeviceRotation {\n  NONE = 0;\n\n  // "Counter clock-wise 90 degrees"\n  CCW_90 = 1;\n}\n\nmessage PrototypeDevice {\n  // If type is ::PRESET, then the size is inferred from `presetIdentifier`.\n  // If type is ::CUSTOM, the device size is encoded in `size`.\n  PrototypeDeviceType type = 1;\n  Vector size = 2;\n\n  // A string that uniquely identifies a device and style, e.g. "APPLE_IPHONE_X_SILVER"\n  // These are uppercase versions of the file names in the Facebook Design devices repo.\n  string presetIdentifier = 3;\n\n  // Right now we expose a portrait/landscape option on device frames that toggles\n  // devices between DeviceRotation.NONE and DeviceRotation.CCW_90.\n  //\n  // We think it\'s possible users will want to be able to rotate their devices 270\n  // degrees as well in future (iPhone X, for example, looks different when rotated\n  // on one side vs. the other).\n  DeviceRotation rotation = 4;\n}\n\nenum OverlayPositionType {\n  CENTER = 0;\n  TOP_LEFT = 1;\n  TOP_CENTER = 2;\n  TOP_RIGHT = 3;\n  BOTTOM_LEFT = 4;\n  BOTTOM_CENTER = 5;\n  BOTTOM_RIGHT = 6;\n  MANUAL = 7;\n}\n\nenum OverlayBackgroundInteraction {\n  NONE = 0;\n  CLOSE_ON_CLICK_OUTSIDE = 1;\n}\n\nenum OverlayBackgroundType {\n  NONE = 0;\n  SOLID_COLOR = 1;\n}\n\nmessage OverlayBackgroundAppearance {\n  OverlayBackgroundType backgroundType = 1;\n  Color backgroundColor = 2;\n}\n\nenum NavigationType {\n  NAVIGATE = 0;\n  OVERLAY = 1;\n  SWAP = 2;\n}\n\nmessage ExportSettings {\n  string suffix = 1;\n  ImageType imageType = 2;\n  ExportConstraint constraint = 3;\n  bool svgDataName = 4;\n  ExportSVGIDMode svgIDMode = 5;\n  bool svgOutlineText = 6;\n  bool contentsOnly = 7;\n  bool svgForceStrokeMasks = 8;\n}\n\nenum ExportSVGIDMode {\n  IF_NEEDED = 0;\n  ALWAYS = 1;\n}\n\nmessage LayoutGrid {\n  LayoutGridType type = 1;\n  Axis axis = 2;\n  bool visible = 3;\n  int numSections = 4;\n  float offset = 5;\n  float sectionSize = 6;\n  float gutterSize = 7;\n  Color color = 8;\n  LayoutGridPattern pattern = 9;\n}\n\nmessage Guide {\n  Axis axis = 1;\n  float offset = 2;\n  GUID guid = 3;\n}\n\nmessage Path {\n  WindingRule windingRule = 1;\n  uint commandsBlob = 2; // An index into "blobs"\n}\n\n// IMPORTANT:\n// If you add a value, you must add it to `VALID_STYLE_TYPES` in lib/models/style.rb.\n// Please never remove any of the StyleType values!\n// They are stored in Postgres as strings (eg: "FILL", "TEXT", "EFFECT")\nenum StyleType {\n  NONE = 0;\n  FILL = 1;\n  STROKE = 2;\n  TEXT = 3;\n  EFFECT = 4;\n  EXPORT = 5;\n  GRID = 6;\n}\n\nmessage SharedStyleReference {\n  string styleKey = 1; // The globally unique style key that references this style\n  string versionHash = 2; // The hash of the version of the published Style\n}\n\nmessage SharedStyleMasterData {\n  string styleKey = 1; // The globally unique style key that references this style\n  string sortPosition = 2; // The sort position of the style, within its defining file\n  string fileKey = 3; // The file where this style belongs to\n}\n\nenum ScrollBehavior {\n  SCROLLS = 0;\n  FIXED_WHEN_CHILD_OF_SCROLLING_FRAME = 1;\n}\n\nmessage ArcData {\n  // These are stored in radians\n  float startingAngle = 1;\n  float endingAngle = 2;\n  // This is store as a ratio from 0 to 1\n  float innerRadius = 3;\n}\n\n// Please ensure every property "foo" has a corresponding "fooTag" property of type "uint"\nmessage NodeChange {\n  GUID guid = 1;                                uint guidTag = 53 [deprecated];\n  NodePhase phase = 2;                          uint phaseTag = 54 [deprecated];\n  ParentIndex parentIndex = 3;                  uint parentIndexTag = 55 [deprecated];\n  NodeType type = 4;                            uint typeTag = 56 [deprecated];\n  string name = 5;                              uint nameTag = 57 [deprecated];\n  bool visible = 6;                             uint visibleTag = 58 [deprecated];\n  bool locked = 7;                              uint lockedTag = 59 [deprecated];\n  float opacity = 8;                            uint opacityTag = 60 [deprecated];\n  BlendMode blendMode = 9;                      uint blendModeTag = 61 [deprecated];\n  uint count = 10;                              uint countTag = 62 [deprecated];\n  Vector size = 11;                             uint sizeTag = 63 [deprecated];\n  Matrix transform = 12;                        uint transformTag = 64 [deprecated];\n  float[] dashPattern = 13;                     uint dashPatternTag = 65 [deprecated];\n  bool autoRename = 14;                         uint autoRenameTag = 66 [deprecated];\n  bool backgroundEnabled = 15;                  uint backgroundEnabledTag = 67 [deprecated];\n  bool mask = 16;                               uint maskTag = 68 [deprecated];\n  bool exportContentsOnly = 17;                 uint exportContentsOnlyTag = 69 [deprecated];\n  bool maskIsOutline = 18;                      uint maskIsOutlineTag = 70 [deprecated];\n  float backgroundOpacity = 19;                 uint backgroundOpacityTag = 71 [deprecated];\n  float cornerRadius = 20;                      uint cornerRadiusTag = 72 [deprecated];\n  float fontSize = 21;                          uint fontSizeTag = 73 [deprecated];\n  float paragraphIndent = 22;                   uint paragraphIndentTag = 74 [deprecated];\n  float paragraphSpacing = 23;                  uint paragraphSpacingTag = 75 [deprecated];\n  float starInnerScale = 24;                    uint starInnerScaleTag = 76 [deprecated];\n  float miterLimit = 25;                        uint miterLimitTag = 77 [deprecated];\n  float strokeWeight = 26;                      uint strokeWeightTag = 78 [deprecated];\n  float textTracking = 27;                      uint textTrackingTag = 79 [deprecated];\n  ConstraintType horizontalConstraint = 28;     uint horizontalConstraintTag = 80 [deprecated];\n  StrokeAlign strokeAlign = 29;                 uint strokeAlignTag = 81 [deprecated];\n  StrokeCap strokeCap = 30;                     uint strokeCapTag = 82 [deprecated];\n  StrokeJoin strokeJoin = 31;                   uint strokeJoinTag = 83 [deprecated];\n  TextAlignHorizontal textAlignHorizontal = 32; uint textAlignHorizontalTag = 84 [deprecated];\n  TextAlignVertical textAlignVertical = 33;     uint textAlignVerticalTag = 85 [deprecated];\n  TextCase textCase = 34;                       uint textCaseTag = 86 [deprecated];\n  TextDecoration textDecoration = 35;           uint textDecorationTag = 87 [deprecated];\n  BooleanOperation booleanOperation = 36;       uint booleanOperationTag = 88 [deprecated];\n  ConstraintType verticalConstraint = 37;       uint verticalConstraintTag = 89 [deprecated];\n  Paint[] fillPaints = 38;                      uint fillPaintsTag = 90 [deprecated];\n  Paint[] strokePaints = 39;                    uint strokePaintsTag = 91 [deprecated];\n  Number lineHeight = 40;                       uint lineHeightTag = 92 [deprecated];\n  FontName fontName = 41;                       uint fontNameTag = 93 [deprecated];\n  TextData textData = 42;                       uint textDataTag = 94 [deprecated];\n  Effect[] effects = 43;                        uint effectsTag = 95 [deprecated];\n  VectorMirror handleMirroring = 44;            uint handleMirroringTag = 96 [deprecated];\n  ExportSettings[] exportSettings = 45;         uint exportSettingsTag = 97 [deprecated];\n  TextAutoResize textAutoResize = 46;           uint textAutoResizeTag = 98 [deprecated];\n  LayoutGrid[] layoutGrids = 47;                uint layoutGridsTag = 99 [deprecated];\n  VectorData vectorData = 48;                   uint vectorDataTag = 100 [deprecated];\n  uint styleID = 49;                            uint styleIDTag = 101 [deprecated];\n  Color backgroundColor = 50;                   uint backgroundColorTag = 102 [deprecated];\n  Path[] fillGeometry = 51;                     uint fillGeometryTag = 103 [deprecated];\n  Path[] strokeGeometry = 52;                   uint strokeGeometryTag = 104 [deprecated];\n  StackMode stackMode = 105;                    uint stackModeTag = 106 [deprecated];\n  float stackSpacing = 107;                     uint stackSpacingTag = 108 [deprecated];\n  float stackPadding = 109;                     uint stackPaddingTag = 110 [deprecated];\n  GUIDPath guidPath = 111;                      uint guidPathTag = 112 [deprecated]; // used by instance override map\n  SymbolData symbolData = 113;                  uint symbolDataTag = 114 [deprecated]; // used by instance to reference overrides\n  bool frameMaskDisabled = 115;                 uint frameMaskDisabledTag = 116 [deprecated];\n  bool resizeToFit = 117;                       uint resizeToFitTag = 118 [deprecated];\n\n  // don\'t add tags anymore... they will be removed in a future update\n  bool exportBackgroundDisabled = 119;\n\n  StackCounterAlign stackCounterAlign = 120;\n  StackJustify stackJustify = 121;\n\n  SharedSymbolReference sharedSymbolReference = 122;\n\n  // TODO: isSymbolPublishable could be merged with isPublishable at some point in the future\n  // because they serve a similar purpose.\n  bool isSymbolPublishable = 123;\n  GUIDPathMapping[] sharedSymbolMappings = 124;\n  NodeChange[] derivedSymbolData = 125; // Uses GUIDPath as map key\n\n  // TODO: sharedSymbolVersion could be merged with version at some point in the future\n  // because they serve a similar purpose.\n  string sharedSymbolVersion = 126;\n\n  bool fontVariantCommonLigatures = 127;\n  bool fontVariantContextualLigatures = 128;\n  bool fontVariantDiscretionaryLigatures = 129;\n  bool fontVariantHistoricalLigatures = 130;\n  bool fontVariantOrdinal = 131;\n  bool fontVariantSlashedZero = 132;\n  FontVariantNumericFigure fontVariantNumericFigure = 133;\n  FontVariantNumericSpacing fontVariantNumericSpacing = 134;\n  FontVariantNumericFraction fontVariantNumericFraction = 135;\n  FontVariantCaps fontVariantCaps = 136;\n  FontVariantPosition fontVariantPosition = 137;\n  Guide[] guides = 138;\n  GUID transitionNodeID = 139;\n  GUID prototypeStartNodeID = 140;\n  Color prototypeBackgroundColor = 141;\n  bool internalOnly = 142;\n  GUID overriddenSymbolID = 143;\n  string symbolDescription = 144;\n\n  // The following values address rectangle corner rounding:\n  // Values 145-148 represent the radius of curvature of\n  // each rectangle corner.  Value 149 controls whether the\n  // rectangle is drawn using the global value (20) or the\n  // four independent values (145-148).  We also need to keep\n  // the state of the corner rounding tool (which is split\n  // between web and fullscreen) because this behavior varies\n  // independently of whether the rectangle\'s corners are\n  // actually independent.  When the tool commits a change, we\n  // update 145-148 and 149 appropriately.\n\n  float rectangleTopLeftCornerRadius = 145;\n  float rectangleTopRightCornerRadius = 146;\n  float rectangleBottomLeftCornerRadius = 147;\n  float rectangleBottomRightCornerRadius = 148;\n  bool rectangleCornerRadiiIndependent = 149;\n  bool rectangleCornerToolIndependent = 150;\n\n  bool proportionsConstrained = 151;\n  SharedComponentMasterData sharedComponentMasterData = 152;\n\n  // DEPRECATED - this was split into the individual fields below\n  TransitionInfo transitionInfo = 153 [deprecated];\n  TransitionType transitionType = 154;\n  float transitionDuration = 155;\n  EasingType easingType = 156;\n\n  // This field would be better named OverflowDirection, which is\n  // what the user sees in the UI. For that reason, most places in\n  // the C++ & viewer code (but not web) also access it as OverflowDirection.\n  ScrollDirection scrollDirection = 159;\n\n  float cornerSmoothing = 160;\n\n  GUID inheritFillStyleID = 158;\n  GUID inheritStrokeStyleID = 162;\n  GUID inheritTextStyleID = 167;\n  GUID inheritExportStyleID = 168;\n  GUID inheritEffectStyleID = 169;\n  GUID inheritGridStyleID = 170;\n  GUID inheritFillStyleIDForStroke = 185;\n\n  bool isFillStyle = 157 [deprecated]; // replaced by styleType\n  bool isStrokeStyle = 161 [deprecated];\n\n  StyleType styleType = 163;\n  string styleDescription = 191;\n\n  // Stores the mappings this symbol needs to correctly remap\n  // its overrides in remote instances.\n  GUIDPathMapping[] unflatteningMappings = 164;\n\n  Number letterSpacing = 165;\n\n  Vector scrollOffset = 166 [deprecated];\n\n  // A generic hash of the version of the node\n  // E.g. a Style master node uses version as the\n  // style master version\n  string version = 171;\n\n  SharedStyleMasterData sharedStyleMasterData = 172;\n  SharedStyleReference sharedStyleReference = 173;\n\n  // A generic boolean indicating if the node (e.g. a Style node)\n  // can be published\n  bool isPublishable = 174;\n\n  bool exportTextAsSVGText = 175;\n\n  bool isSoftDeletedStyle = 176;\n  bool isNonUpdateable = 177;\n\n  ScrollContractedState scrollContractedState = 178 [deprecated];\n  // Due to a bug, some nodes in production have contractedSize set to some\n  // non-zero value even thought it was never used for a feature used in production.\n  Vector contractedSize = 179 [deprecated];\n  string fixedChildrenDivider = 180 [deprecated];\n  bool transitionPreserveScroll = 181;\n  ConnectionType connectionType = 182;\n  string connectionURL = 183;\n  PrototypeDevice prototypeDevice = 184;\n  ScrollBehavior scrollBehavior = 186;\n\n  InteractionType interactionType = 187;\n  float transitionTimeout = 188;\n  bool interactionMaintained = 189;\n  float interactionDuration = 190;\n  bool destinationIsOverlay = 192 [deprecated];\n\n  Paint[] backgroundPaints = 193;\n  GUID inheritFillStyleIDForBackground = 194;\n\n  ArcData arcData = 195;\n\n  int derivedSymbolDataLayoutVersion = 196;\n\n  NavigationType navigationType = 197;\n  OverlayPositionType overlayPositionType = 198;\n  Vector overlayRelativePosition = 199;\n  OverlayBackgroundInteraction overlayBackgroundInteraction = 200;\n  OverlayBackgroundAppearance overlayBackgroundAppearance = 201;\n\n  // The version of the font referenced in fontName\n  string fontVersion = 202;\n\n  uint textUserLayoutVersion = 203;\n}\n\nmessage Viewport {\n  Rect canvasSpaceBounds = 1;\n  bool pixelPreview = 2;\n  float pixelDensity = 3;\n  GUID canvasGuid = 4;\n}\n\nmessage Mouse {\n  MouseCursor cursor = 1;\n  Vector canvasSpaceLocation = 2;\n  Rect canvasSpaceSelectionBox = 3;\n  GUID canvasGuid = 4;\n}\n\nstruct Click {\n  uint id;\n  Vector point; // In canvas space\n}\n\nstruct ScrollPosition {\n  GUID node;\n  Vector scrollOffset;\n}\n\nstruct TriggeredOverlay {\n  GUID overlayGuid;\n  GUID hotspotGuid;\n  GUID swapGuid;\n}\n\nmessage UserChange {\n  uint sessionID = 1;\n  bool connected = 2;\n  string name = 3;\n  Color color = 4;\n  string imageURL = 5;\n  Viewport viewport = 6;\n  Mouse mouse = 7;\n  GUID[] selection = 8;\n  uint[] observing = 9;\n  string deviceName = 10; // Valid values: "viewer" | "editor" | "prototype"\n\n  // Only keeps the last N around to avoid being a memory leak\n  Click[] recentClicks = 11;\n  ScrollPosition[] scrollPositions = 12;\n  TriggeredOverlay[] triggeredOverlays = 13;\n}\n\nmessage SceneGraphQuery {\n  GUID startingNode = 1;\n  uint depth = 2;\n}\n\nmessage Message {\n  MessageType type = 1;\n  uint sessionID = 2;\n  uint ackID = 3;\n  NodeChange[] nodeChanges = 4;\n  UserChange[] userChanges = 5;\n  Blob[] blobs = 6; // All large arrays of bytes are pulled up to the top level and deduplicated to save space\n  string signalName = 7;\n  Access access = 8;\n  string styleSetName = 9;\n  StyleSetType styleSetType = 10;\n  StyleSetContentType styleSetContentType = 11;\n\n  // This is used to support pasting with an offset from the original copied location if both the copy and paste are within the same document\n  int pasteID = 12;\n  Vector pasteOffset = 13;\n  string pasteFileKey = 14; // designate whether paste came from same file or not, shallow vs. deep copy (eventually shared asset ref)\n\n  // This was added so that signals can contain debugging information\n  string signalPayload = 15;\n  SceneGraphQuery[] sceneGraphQueries = 16;\n}\n',n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const c=t(289          ),i=t(290                       );s.schema=c.compileSchema(i),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=new Int32Array(127);for(var o=0;o<127;o++)n[o]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(String.fromCharCode(o));e.decode=function(r){for(var e=0,t=r.length>>>2,o=new Uint8Array(3*t),a=0;e<t<<2;){var c=n[127&r.charCodeAt(e++)],d=n[127&r.charCodeAt(e++)],f=n[127&r.charCodeAt(e++)],i=n[127&r.charCodeAt(e++)];o[a++]=c<<2|d>>>4,f>=0&&(o[a++]=d<<4|f>>>2),i>=0&&(o[a++]=f<<6|i)}return a===o.length?o:o.subarray(0,a)},e.encode=function(r){for(var e="",t=r.length,n=0;n<t;n+=1024)e+=String.fromCharCode.apply(String,r.subarray(n,n+1024));return btoa(e)},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualsIgnoringNumberPrecision=function e(r,n){const t=typeof r;if(typeof n!==t)return!1;if("number"===t)return!Number.isNaN(r)&&!Number.isNaN(n);if("object"!==t)return r===n;if(null===r!=(null===n))return!1;if(null===r)return!0;if(r instanceof Array!=n instanceof Array)return!1;if(r instanceof Array)return r.length===n.length&&r.every((r,t)=>e(r,n[t]));const o=Object.keys(r),u=Object.keys(n);return o.length===u.length&&(o.sort(),u.sort(),!!o.every((e,r)=>e===u[r])&&o.every(t=>e(r[t],n[t])))},r.pluginWarn=function(e){console.error(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(291       ),n=o(129                               ),i=o(292         ),l=o(293                                 );function r(e,t){let o=0,s=!1;for(45===e.charCodeAt(t)&&(s=!0,t++);t<e.length;){const s=e.charCodeAt(t++);if(s<48||s>57)break;o=10*o+s-48}return s?-o:o}t.parseIntegerFast=r;class a{constructor(e,t,o){this.guid=e,this.sessionID=t,this.localID=o}get type(){return s.schema.NodeType[n.SceneNodeCpp.getType(this.sessionID,this.localID,n.NodeContext.REDUX)]||null}get name(){return n.SceneNodeCpp.getName(this.sessionID,this.localID,n.NodeContext.REDUX)}set name(e){n.SceneNodeCpp.setName(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get locked(){return n.SceneNodeCpp.getLocked(this.sessionID,this.localID,n.NodeContext.REDUX)}set locked(e){n.SceneNodeCpp.setLocked(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get mask(){return n.SceneNodeCpp.getMask(this.sessionID,this.localID,n.NodeContext.REDUX)}set mask(e){n.SceneNodeCpp.setMask(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get visible(){return n.SceneNodeCpp.getVisible(this.sessionID,this.localID,n.NodeContext.REDUX)}set visible(e){n.SceneNodeCpp.setVisible(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get resizeToFit(){return n.SceneNodeCpp.getResizeToFit(this.sessionID,this.localID,n.NodeContext.REDUX)}get frameMaskDisabled(){return n.SceneNodeCpp.getFrameMaskDisabled(this.sessionID,this.localID,n.NodeContext.REDUX)}set frameMaskDisabled(e){n.SceneNodeCpp.setFrameMaskDisabled(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get isSymbolPublishable(){return n.SceneNodeCpp.getIsSymbolPublishable(this.sessionID,this.localID,n.NodeContext.REDUX)}get symbolDescription(){return n.SceneNodeCpp.getSymbolDescription(this.sessionID,this.localID,n.NodeContext.REDUX)}set symbolDescription(e){n.SceneNodeCpp.setSymbolDescription(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get cornerRadius(){return n.SceneNodeCpp.getCornerRadius(this.sessionID,this.localID,n.NodeContext.REDUX)}set cornerRadius(e){n.SceneNodeCpp.setCornerRadius(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get objectsPanelThumbnailId(){return n.SceneNodeCpp.getObjectsPanelThumbnailId(this.sessionID,this.localID,n.NodeContext.REDUX)}get isExpandable(){return n.SceneNodeCpp.getIsExpandable(this.sessionID,this.localID,n.NodeContext.REDUX)}get isExpanded(){return n.SceneNodeCpp.getIsExpanded(this.sessionID,this.localID,n.NodeContext.REDUX)}get isTemporarilyExpanded(){return n.SceneNodeCpp.getIsTemporarilyExpanded(this.sessionID,this.localID,n.NodeContext.REDUX)}get styleType(){return s.schema.StyleType[n.SceneNodeCpp.getStyleType(this.sessionID,this.localID,n.NodeContext.REDUX)]||void 0}get styleDescription(){return n.SceneNodeCpp.getStyleDescription(this.sessionID,this.localID,n.NodeContext.REDUX)}set styleDescription(e){n.SceneNodeCpp.setStyleDescription(this.sessionID,this.localID,e,n.NodeContext.REDUX)}get componentKey(){const e=n.SceneNodeCpp.getComponentKey(this.sessionID,this.localID,n.NodeContext.REDUX);return""===e?null:e}get sharedSymbolReference(){const e=n.SceneNodeCpp.getSharedSymbolReference(this.sessionID,this.localID,n.NodeContext.REDUX);if(""!==e)return s.schema.decodeSharedSymbolReference(i.decode(e))}get exportSettings(){const e=n.SceneNodeCpp.getExportSettings(this.sessionID,this.localID,n.NodeContext.REDUX);if(""!==e)return s.schema.decodeNodeChange(i.decode(e)).exportSettings}set exportSettings(e){const t=s.schema.encodeNodeChange({exportSettings:e}),o=s.schema.decodeNodeChange(t).exportSettings;if(!l.deepEqualsIgnoringNumberPrecision(e,o))throw new Error("Invalid format for export settings");n.SceneNodeCpp.setExportSettings(this.sessionID,this.localID,i.encode(t),n.NodeContext.REDUX)}get parent(){const e=n.SceneNodeCpp.getParent(this.sessionID,this.localID,n.NodeContext.REDUX);return""===e?null:e}get position(){const e=n.SceneNodeCpp.getPosition(this.sessionID,this.localID,n.NodeContext.REDUX);return""===e?null:e}get reversedChildren(){const e=n.SceneNodeCpp.getReversedChildren(this.sessionID,this.localID,n.NodeContext.REDUX);return""===e?[]:e.split(" ")}get scrollDirection(){return s.schema.ScrollDirection[n.SceneNodeCpp.getScrollDirection(this.sessionID,this.localID,n.NodeContext.REDUX)]||null}get scrollBehavior(){return s.schema.ScrollBehavior[n.SceneNodeCpp.getScrollBehavior(this.sessionID,this.localID,n.NodeContext.REDUX)]||null}get booleanOperation(){return s.schema.BooleanOperation[n.SceneNodeCpp.getBooleanOperation(this.sessionID,this.localID,n.NodeContext.REDUX)]||null}set booleanOperation(e){const t=s.schema.BooleanOperation[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for booleanOperation");n.SceneNodeCpp.setBooleanOperation(this.sessionID,this.localID,t,n.NodeContext.REDUX)}get horizontalConstraint(){return s.schema.ConstraintType[n.SceneNodeCpp.getHorizontalConstraint(this.sessionID,this.localID,n.NodeContext.REDUX)]||null}set horizontalConstraint(e){const t=s.schema.ConstraintType[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for horizontalConstraint");n.SceneNodeCpp.setHorizontalConstraint(this.sessionID,this.localID,t,n.NodeContext.REDUX)}get verticalConstraint(){return s.schema.ConstraintType[n.SceneNodeCpp.getVerticalConstraint(this.sessionID,this.localID,n.NodeContext.REDUX)]||null}set verticalConstraint(e){const t=s.schema.ConstraintType[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for verticalConstraint");n.SceneNodeCpp.setVerticalConstraint(this.sessionID,this.localID,t,n.NodeContext.REDUX)}}t.SceneGraphShim=class{get(e){const t=r(e,0),o=r(e,e.indexOf(":")+1);if(n.SceneNodeCpp.exists(t,o,n.NodeContext.REDUX))return new a(e,t,o)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.createNodeWithDefaults=function(e,n){const l={guid:e,type:null,name:null,locked:!1,mask:!1,visible:!0,resizeToFit:!1,frameMaskDisabled:!1,isSymbolPublishable:!1,symbolDescription:"",styleDescription:"",parent:null,position:null,reversedChildren:[],booleanOperation:null,cornerRadius:0,objectsPanelThumbnailId:0,isExpandable:!1,isExpanded:!1,isTemporarilyExpanded:!1,scrollDirection:null,horizontalConstraint:null,verticalConstraint:null,componentKey:null};return n&&Object.assign(l,n),l},n.createMockSceneGraph=function(e){return{get:n=>e[n]}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=n(232                        ),c=n(294                                             ),s=n(295                                                     );r.sceneGraph=function(e=null,r){return r.type===a.fileBrowser.INIT||a.fullscreen.close.matches(r)?s.createMockSceneGraph({}):a.fullscreen.updateMirror.matches(r)&&r.payload.invalidateSceneGraph?new c.SceneGraphShim:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(57,1   ),s=t(281          ),n=t(284                     ),c=t(286                      ),i=t(288                          ),p=t(296                   ),a=t(232                        );function l(e=0,r){return a.fullscreen.updateMirror.matches(r)&&r.payload.invalidateSceneGraph&&r.payload.invalidateSceneGraph.rebuildRows?e+1:e}r.objectsPanelRowRebuildCounter=l,r.mirror=o.combineReducers({appModel:s.appModel,selectionProperties:n.selectionProperties,selectedStyleProperties:i.selectedStyleProperties,sceneGraph:p.sceneGraph,sceneGraphSelection:c.sceneGraphSelection,objectsPanelRowRebuildCounter:l}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,t){"use strict";Object.defineProperty(l,"__esModule",{value:!0});const o=t(232                        );l.fileFollowers=((e={},l)=>{switch(l.type){case o.fileFollower.RESET:return{};case o.fileFollower.POST:{let t=l.payload.fileFollower;return Object.assign({},e,{[t.user_id]:t})}case o.fileFollower.DELETE:{let t=Object.assign({},e);return delete t[l.payload.fileFollower.user_id],t}default:return e}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(86                  );!function(o){o.init=r.actionCreator("AUTH_INIT"),o.signIn=r.actionCreator("AUTH_SIGN_IN"),o.signUpExtraInfo=r.actionCreator("AUTH_SIGN_UP_EXTRA_INFO"),o.signUpGoBack=r.actionCreator("AUTH_SIGN_UP_GO_BACK"),o.signUp=r.actionCreator("AUTH_SIGN_UP"),o.resetPassword=r.actionCreator("AUTH_RESET_PASSWORD"),o.sendEmailSamlStart=r.actionCreator("AUTH_SEND_EMAIL_SAML_START"),o.showForm=r.actionCreator("AUTH_SHOW_FORM"),o.sendPasswordReset=r.actionCreator("AUTH_SEND_PASSWORD_RESET"),o.showError=r.actionCreator("AUTH_SHOW_ERROR"),o.clearError=r.actionCreator("AUTH_CLEAR_ERROR"),o.showSuccess=r.actionCreator("AUTH_SHOW_SUCCESS"),o.complete=r.actionCreator("AUTH_COMPLETE"),o.changeEmail=r.actionCreator("AUTH_CHANGE_EMAIL"),o.changeName=r.actionCreator("AUTH_CHANGE_NAME"),o.toggleSMS=r.actionCreator("AUTH_TOGGLE_SMS"),o.requireTwoFactor=r.actionCreator("AUTH_REQUIRE_TWO_FACTOR"),o.sendSMS=r.actionCreator("AUTH_SEND_SMS"),o.changePasswordLength=r.actionCreator("AUTH_CHANGE_PASSWORD_LENGTH"),o.changeJob=r.actionCreator("AUTH_CHANGE_JOB"),o.spellcheckDomain=r.actionCreator("AUTH_SPELLCHECK_DOMAIN"),o.setDomainSuggestion=r.actionCreator("AUTH_SET_DOMAIN_SUGGESTION"),o.useDomainSuggestion=r.actionCreator("AUTH_USE_DOMAIN_SUGGESTION"),o.sendValidationEmail=r.actionCreator("AUTH_SEND_VALIDATION_EMAIL")}(t.auth||(t.auth={})),o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(_,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AuthFormState={SIGN_IN:"sign_in",SAML_START:"saml_start",SIGN_UP:"sign_up",SIGN_UP_EXTRA_INFO:"sign_up_extra_info",FORGOT_PASSWORD:"forgot_password",SENT_PASSWORD_RESET:"sent_password_reset",RESET_PASSWORD:"reset_password",VALIDATE_EMAIL:"validate_email",APP_AUTH_GRANT:"app_auth_grant",APP_AUTH_REDEEM:"app_auth_redeem"},function(_){_[_.UNAUTHORIZED=0]="UNAUTHORIZED",_[_.BAD_REQUEST=1]="BAD_REQUEST",_[_.NO_SAML=2]="NO_SAML",_[_.SAML_REQUIRED=3]="SAML_REQUIRED"}(t.ErrorType||(t.ErrorType={})),t.AuthInputType={EMAIL:"email",PASSWORD:"password",TOTP_KEY:"totp_key",JOB_TITLE:"job_title"},function(_){_.DESKTOP="desktop",_.MOBILE="mobile"}(t.AppAuthAppType||(t.AppAuthAppType={})),_.exports instanceof Function&&(_.exports.default=_.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.debounce=function(e,t,n=!1){let o=0,c=!1;const u=function(){const u=arguments;c=!1;const i=function(){c||(e.apply(void 0,u),c=!0)},s=n&&!o;clearTimeout(o),o=setTimeout(()=>{o=0,i()},t),s&&i()};return u.cancel=(()=>{clearTimeout(o),o=0}),u},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(220                      ),r=t(174          ),l=t(301           );function c(e,n){let t=document.createElement("a");t.href=e,t.rel="noreferrer noopener",n&&(t.target=n),document.body.appendChild(t),t.click(),t.remove()}function i(e,n){let t=document.createElement("a");if(t.href=e,t.hostname!==window.location.hostname)throw new Error("Attempting to redirect to another domain.");window.self===window.top||n?c(e,n):window.top.location.href=e}function u(){if(null==r.sessionStorageOrNull)return!1;null==r.sessionStorageOrNull.getItem("reload_times")&&r.sessionStorageOrNull.setItem("reload_times",JSON.stringify([]));const e=JSON.parse(r.sessionStorageOrNull.getItem("reload_times")),n=Date.now()-3e5;for(;e&&e[0]<n;)e.shift();let t;return e.length>15?t=!0:(e.push(Date.now()),t=!1),r.sessionStorageOrNull.setItem("reload_times",JSON.stringify(e)),t}function s(e=null){return{top:e?e.top:0,right:e?e.right:0,bottom:e?e.bottom:0,left:e?e.left:0,width:e?e.width:0,height:e?e.height:0}}n.unsafeRedirect=c,n.redirect=i,n.openUrlInPrototype=function(e){var n=e.url;n.startsWith("http://")||n.startsWith("https://")||(n="http://"+n),i("/exit?url="+encodeURIComponent(n),e.openInNewWindow?"_blank":"")},n.unsafeWindowOpen=function(e,n,t){return window.open(e,n,t)},n.isLocationReloadExcessive=u,n.locationReload=function(e,n={}){const t=Object.assign({},n,{reason:e});u()?o.trackEvent("Location Reload Excessive",t):(o.trackEvent("Page Reloaded",t),console.log("Reloading the page... reason:",e,n),window.self!==window.top&&window.top.location.reload(),location.reload())},n.figmaClientRect=s,n.clientRectsEqual=function(e,n){return e&&n?JSON.stringify(s(e))===JSON.stringify(s(n)):e===n},n.isVisibleTab=function(){const e=document.__figmaTabHidden;return void 0!==e?!0!==e:!0!==document.hidden},n.isInIframe=function(){return self!==top},n.capabilities={};const a=document&&document.documentElement;function m(e,t){Object.defineProperty(n.capabilities,e,{enumerable:!0,configurable:!0,get(){const o=t();return Object.defineProperty(n.capabilities,e,{enumerable:!0,value:o}),o}})}function d(){window.Intercom&&setTimeout(()=>{window.Intercom("update")},0)}m("pointerEvents",()=>"PointerEvent"in window),m("pointerCapture",()=>a&&"setPointerCapture"in a),m("exitPointerLockFunc",()=>document.exitPointerLock||document.mozExitPointerLock||document.webkitExitPointerLock||document.msExitPointerLock||null),m("requestPointerLockFunc",()=>a&&(a.requestPointerLock||a.mozRequestPointerLock||a.webkitRequestPointerLock||a.msRequestPointerLock||null)),m("pointerLockChangeEventName",()=>"onpointerlockchange"in document?"pointerlockchange":"onmozpointerlockchange"in document?"mozpointerlockchange":"onwebkitpointerlockchange"in document?"webkitpointerlockchange":"onmspointerlockchange"in document?"mspointerlockchange":null),m("pointerLockErrorEventName",()=>"onpointerlockerror"in document?"pointerlockerror":"onmozpointerlockerror"in document?"mozpointerlockerror":"onwebkitpointerlockerror"in document?"webkitpointerlockerror":"onmspointerlockerror"in document?"mspointerlockerror":null),m("pointerLock",()=>!!n.capabilities.requestPointerLockFunc),m("fullscreenChangeEventName",()=>"onfullscreenchange"in document?"fullscreenchange":"onmozfullscreenchange"in document?"mozfullscreenchange":"onwebkitfullscreenchange"in document?"webkitfullscreenchange":"onMSFullscreenChange"in document?"MSFullscreenChange":"onmsfullscreenchange"in document?"msfullscreenchange":null),m("fullscreenErrorEventName",()=>"onfullscreenerror"in document?"fullscreenerror":"onmozfullscreenerror"in document?"mozfullscreenerror":"onwebkitfullscreenerror"in document?"webkitfullscreenerror":"onMSFullscreenError"in document?"MSFullscreenError":"onmsfullscreenerror"in document?"msfullscreenerror":null),m("requestFullscreenFunc",()=>a&&(a.requestFullscreen||a.mozRequestFullScreen||a.webkitRequestFullscreen||a.msRequestFullscreen||null)),m("exitFullscreenFunc",()=>{const e=document.exitFullscreen||document.mozExitFullscreen||document.mozCancelFullScreen||document.webkitExitFullscreen||document.msExitFullscreen||null;return e?e.bind(document):null}),m("getFullscreenElement",()=>{return document.fullscreenElement?()=>document.fullscreenElement:document.mozFullScreenElement?()=>document.mozFullScreenElement:document.webkitFullscreenElement?()=>document.webkitFullscreenElement:document.msFullscreenElement?()=>document.msFullscreenElement:()=>null}),m("fullscreen",()=>null!=n.capabilities.requestFullscreenFunc&&null!=n.capabilities.exitFullscreenFunc&&(document.fullscreenEnabled||document.webkitFullscreenEnabled)),n.debouncedHistoryPushState=l.debounce((e,n,t)=>{try{history.pushState(e,n,t)}catch(o){console.warn(o)}d()},300,!0),n.debouncedHistoryReplaceState=l.debounce((e,n,t)=>{try{history.replaceState(e,n,t)}catch(o){console.warn(o)}d()},300,!0),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=e(174          );s.IPC=class{constructor(){this._PREFIX="ipc:",this._storage=a.localStorageOrNull;const t=this._storage;t&&Object.keys(t).forEach(s=>{0===s.indexOf(this._PREFIX)&&delete t[s]}),this._callbacks={},window.addEventListener("storage",this._onStorageEvent.bind(this),!1)}_onStorageEvent(t){var s=t.key;if(t.storageArea===this._storage&&null!==t.newValue&&s&&0===s.indexOf(this._PREFIX)){try{var e=JSON.parse(t.newValue)[0]}catch(r){return}var a=null;if((this._callbacks[s]||[]).forEach(function(t){try{t(e)}catch(r){a=r}}),a)throw a}}_callbacksForMessage(t){let s=this._PREFIX+t;return this._callbacks[s]||(this._callbacks[s]=[]),this._callbacks[s]}sendToOtherTabs(t,s){if(this._storage)try{this._storage[this._PREFIX+t]=JSON.stringify([s,Math.random()])}catch(e){console.error((e&&e.stack||e)+"")}}sendToAllTabs(t,s){var e=this._callbacksForMessage(t),a=null;if(e.forEach(function(t){try{t(s)}catch(e){a=e}}),this.sendToOtherTabs(t,s),a)throw a}register(t,s){var e=this._callbacksForMessage(t);e.indexOf(s)<0&&e.push(s)}unregister(t,s){var e=this._callbacksForMessage(t),a=e.indexOf(s);a>=0&&e.splice(a,1)}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getFormData=(e=>{const t=e.elements,n={};for(let o=0;o<t.length;o++){let e=t.item(o);e.name&&e.value&&(n[e.name]=e.value)}return n}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(158        ),n=s(279         ),r=s(300                      );!function(e){e.validateSignInForm=(e=>{const s=e.email&&e.email.trim(),t=e.password&&e.password.trim();return a(t,s)}),e.validateSignUpForm=(e=>{const t=e.email&&e.email.trim(),n=e.password&&e.password.trim(),r=e.name&&e.name.trim();let i=a(n,t);return i.message||(i=s(n,t,r)),i});const a=(e,a)=>a?t.isEmail(a)?e?{message:"",invalidInput:null}:{message:"Please provide your password.",invalidInput:r.AuthInputType.PASSWORD}:{message:"Hmm, that email address doesn't look right.",invalidInput:r.AuthInputType.EMAIL}:{message:"Please provide your email.",invalidInput:r.AuthInputType.EMAIL},s=(e,a,s)=>{let t="";return n.encodeUTF8(e).length>500&&(t="Ok, that password is hilariously long!"),Array.from(e).length<6&&(t="Please set a password longer than six characters."),e===a&&(t="Your email cannot be the same as your password."),s&&e===s&&(t="Your name cannot be the same as your password."),{invalidInput:t?r.AuthInputType.PASSWORD:null,message:t}}}(a.authHelpers||(a.authHelpers={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(302          );o.reload=function(){n.locationReload("From window_helpers")},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(219          ),r=a(299             ),o=a(93                  ),i=a(300             ),n=a(97      ),h=a(302          ),m=a(158        ),u=a(0                    ),d=a(303      ),p=a(304               ),c=a(305                       ),l=a(140           ),_=a(306                           );e.authMiddleware=(t=>e=>(function(a){const g=t.getState(),S=e=>{console.error(e);let a=e.data;if(a&&a.reason&&"two_factor"===a.reason.missing){t.dispatch(r.auth.toggleSMS(a.reason.sms));let e=null;return a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(r.auth.requireTwoFactor({required:!0,hint:e}))}let s,o,n=a&&a.message||"An error occurred";a&&401===a.status?s=i.ErrorType.UNAUTHORIZED:a&&400===a.status?s=i.ErrorType.BAD_REQUEST:a&&404===a.status&&"no_saml"===a.reason?s=i.ErrorType.NO_SAML:a&&403===a.status&&"saml_required"===a.reason&&(s=i.ErrorType.SAML_REQUIRED),g.auth.formState===i.AuthFormState.SIGN_IN&&g.auth.twoFactorRequired?o=i.AuthInputType.TOTP_KEY:g.auth.formState===i.AuthFormState.RESET_PASSWORD?o=i.AuthInputType.PASSWORD:a&&a.reason&&("password"===a.reason.missing||"password"===a.reason.invalid)?o=i.AuthInputType.PASSWORD:g.auth.formState===i.AuthFormState.SAML_START&&(o=i.AuthInputType.EMAIL),g.auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO&&(a.reason&&"uniqueness"===a.reason.invalid?t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN})):t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP}))),t.dispatch(r.auth.showError({message:n,errorType:s,invalidInput:o}))},f=(t,e={})=>{s.segment.track("Auth Actions",Object.assign({eventSubtype:t,origin:g.auth.origin},e))};if(r.auth.init.matches(a)){a.payload.formState=a.payload.formState||u.initialOptions().form_state||i.AuthFormState.SIGN_UP,s.segment.track("Auth Actions",{eventSubtype:"show_auth_page",formState:a.payload.formState,origin:a.payload.origin});let o=new d.IPC;return u.initialOptions().user_data||(o.sendToAllTabs("logged-out"),o.register("logged-in",()=>{t.dispatch(r.auth.complete())})),e(a)}if(r.auth.sendSMS.matches(a)){f("sms_recover_attempt");const s=document.getElementById(a.payload.formId),o=p.getFormData(s);return n.default.post("/api/session/sms_recover",o).then(({data:e})=>{f("sms_recover_success"),e&&e.meta&&t.dispatch(r.auth.requireTwoFactor({required:!0,hint:`Code was sent to ${e.meta.phone_number}`}))}).catch(S),e(a)}if(r.auth.signUpExtraInfo.matches(a)){f("sign_up_extra_info_attempt");const e=document.getElementById(a.payload.formId),s=p.getFormData(e),o=c.authHelpers.validateSignUpForm(s);if(o.message)return t.dispatch(r.auth.showError({message:o.message,invalidInput:o.invalidInput}));f("sign_up_extra_info_success"),t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP_EXTRA_INFO}))}else{if(!r.auth.signUpGoBack.matches(a)){if(r.auth.signUp.matches(a)){const s=document.getElementById(a.payload.formId),o=p.getFormData(s);if(!o.googleIdToken){f("sign_up_attempt");const s=c.authHelpers.validateSignUpForm(o);if(s.message)return t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(r.auth.showError({message:s.message,invalidInput:s.invalidInput}));const h=Object.assign({},o,{job_title:g.auth.jobTitle});return n.default.post("/api/session/auth",h).then(()=>{f("sign_up_success"),t.dispatch(r.auth.complete())}).catch(S),e(a)}{f("google_sso_attempt");let e="web";(l.isIosMirrorApp()||l.isAndroidMirrorApp())&&(e="mobile"),n.default.post("/api/session/google_auth/signup",{name:o.name,id_token:o.googleIdToken,source:e,job_title:g.auth.jobTitle}).then(({data:e})=>{f("google_sso_success"),t.dispatch(r.auth.complete())},({data:e})=>(t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_UP})),t.dispatch(r.auth.showError({message:e.message}))))}return e(a)}if(r.auth.signIn.matches(a)){f("sign_in_attempt");const s=document.getElementById(a.payload.formId),i=p.getFormData(s),h=c.authHelpers.validateSignInForm(i);return h.message?t.dispatch(r.auth.showError({message:h.message,invalidInput:h.invalidInput})):(i.username=i.email.trim(),n.default.post("/api/session/login",i).then(({data:e})=>{f("sign_in_success"),t.dispatch(r.auth.complete()),t.dispatch(o.flashActions.flash("Authenticated as "+e.meta.email))}).catch(S),e(a))}if(r.auth.spellcheckDomain.matches(a)){const s=g.auth.email;if(m.isEmail(s)){const e=s.split("@")[1],a=m.spellcheckDomain(e);t.dispatch(r.auth.setDomainSuggestion({domain:a}))}return e(a)}if(r.auth.sendPasswordReset.matches(a))return f("send_reset_password_email_attempt"),n.default.post("/api/password/forgot",{username:g.auth.email}).then(()=>{f("send_reset_password_email_success"),t.dispatch(r.auth.showForm({formState:i.AuthFormState.SENT_PASSWORD_RESET}))}).catch(S),e(a);if(r.auth.sendEmailSamlStart.matches(a)){f("saml_redirect_to_provider_attempt");const t=document.getElementById(a.payload.formId),s=p.getFormData(t);return s.email=s.email.trim(),m.isEmail(s.email)&&n.default.get("/api/saml",{email:s.email}).then(({data:t})=>{f("saml_redirect_to_provider_success"),console.warn("Redirecting to SAML provider: ",t.meta.idp_entity_symbol,t.meta),h.redirect(t.meta.sp_sso_target_url)}).catch(t=>{S(t)}),e(a)}if(r.auth.resetPassword.matches(a)){f("reset_password_attempt"),e(a);const s=document.getElementById(a.payload.formId),o=p.getFormData(s);return void(o.password!==o.password_retype?t.dispatch(r.auth.showError({message:"These passwords don't match. Try again?",invalidInput:i.AuthInputType.PASSWORD})):n.default.post("/api/password/recover",o).then(({data:e})=>{const a=e.meta;if("totp_key"==a.required){let e=null;return a.reason&&a.reason.phone_number&&(e=`SMS sent to ${a.reason.phone_number}`),void t.dispatch(r.auth.requireTwoFactor({required:!0,hint:e}))}f("reset_password_success"),t.dispatch(r.auth.complete())}).catch(S))}if(r.auth.showError.matches(a)){if(f("error",a.payload),e(a),a.payload.errorType===i.ErrorType.UNAUTHORIZED){if(t.getState().auth.formState===i.AuthFormState.SIGN_UP_EXTRA_INFO){const e=a.payload.message;t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN,errorMessage:e}))}}else if(a.payload.errorType==i.ErrorType.SAML_REQUIRED){const e=a.payload.message;t.dispatch(r.auth.showForm({formState:i.AuthFormState.SAML_START,errorMessage:e}))}return}return r.auth.complete.matches(a)?(g.auth.redirectUrl?h.redirect(g.auth.redirectUrl):_.reload(),e(a)):r.auth.sendValidationEmail.matches(a)?(f("send_validation_email_attempt"),n.default.post("/api/validation/email/send").then(e=>(f("send_validation_email_success"),t.dispatch(r.auth.showSuccess({message:e.data.message})))).catch(e=>{console.error(e);return t.dispatch(r.auth.showError({message:"An error occurred while sending the confirmation email."}))}),e(a)):r.auth.showForm.matches(a)?(f("change_form_state",{oldFormState:g.auth.formState,newFormState:a.payload.formState}),e(a)):e(a)}f("sign_up_go_back"),t.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN}))}})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(34,1   );class o extends i.Component{constructor(){super(...arguments),this.submitClicked=!1,this.focusFirstElement=(()=>{if(this.form&&!this.props.noAutofocus)for(let t=0;t<this.form.elements.length;t++){let e=this.form.elements[t];if(!e.value&&!e.dataset.noAutoFocus){e.focus();break}}}),this.focusOnInvalidInput=(()=>{if(this.form)for(let t=0;t<this.form.elements.length;t++){let e=this.form.elements[t];if(e.name===this.props.auth.invalidInput){e.focus(),e.selectionStart=e.selectionEnd;break}}}),this.onSubmit=(t=>{t.preventDefault(),this.submitClicked=!0,this.props.onSubmit(t)})}componentDidUpdate(t){this.submitClicked&&this.props.auth.invalidInput?this.focusOnInvalidInput():this.props.auth.formState!==t.auth.formState&&this.focusFirstElement(),this.submitClicked=!1}componentDidMount(){this.focusFirstElement()}render(){return i.createElement("form",{id:this.props.id,className:this.props.className,onSubmit:this.onSubmit,ref:t=>this.form=t},this.props.children)}}o.displayName="AuthFormInner",e.AuthFormInner=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,o,a){r.exports={modal:"auth_form--modal--2C3yg",form:"auth_form--form--xKnbM auth_form--modal--2C3yg",header:"auth_form--header--21sqq",largeHeader:"auth_form--largeHeader--3FFhx",hint:"auth_form--hint--3Bsa0",error:"auth_form--error--2I51G auth_form--header--21sqq"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),o=s(308                                             ),a=s(309              );class h extends r.PureComponent{render(){const e=this.props.header,t=`${this.props.modal?a.modal:a.form} ${this.props.className||""}`,s=`${a.header} ${this.props.largeHeader?a.largeHeader:""}`;return r.createElement(o.AuthFormInner,{id:this.props.id,className:t,dispatch:this.props.dispatch,auth:this.props.auth,noAutofocus:this.props.noAutofocus,onSubmit:this.props.onSubmit},this.props.header&&r.createElement("div",{className:s},e),this.props.auth.hint&&r.createElement("div",{className:a.hint},this.props.auth.hint),!this.props.hideError&&this.props.auth.error&&r.createElement("div",{className:a.error},this.props.auth.error),this.props.children)}}h.displayName="AuthForm",t.AuthForm=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,i){t.exports={input:"form_inputs--input--r-7Uo",invalidInput:"form_inputs--invalidInput--2tA0l form_inputs--input--r-7Uo"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(34,1   ),a=s(299                                ),r=s(300                      ),i=s(204                                            ),u=s(311                );class o extends n.PureComponent{render(){const t=`${u.input} ${this.props.className||""}`,e=Object.assign({},this.props,{className:t});return n.createElement(i.TextInput,Object.assign({},e))}}o.displayName="AuthInput",e.AuthInput=o;class p extends n.PureComponent{render(){const t=`${this.props.isInvalid?u.invalidInput:""}`,e=Object.assign({},this.props,{className:t});return delete e.isInvalid,n.createElement(o,Object.assign({},e))}}p.displayName="AuthInvalidInput",e.AuthInvalidInput=p;class l extends n.PureComponent{constructor(){super(...arguments),this.onChange=(t=>{this.props.dispatch(a.auth.changeEmail({value:t.currentTarget.value}))}),this.onBlur=(t=>{this.props.dispatch(a.auth.spellcheckDomain()),this.props.onBlur&&this.props.onBlur(t,!0)})}render(){return n.createElement(p,{onChange:this.onChange,onBlur:this.onBlur,value:this.props.auth.email,name:r.AuthInputType.EMAIL,placeholder:"Email",autoCapitalize:"off",autoCorrect:"off",isInvalid:r.AuthInputType.EMAIL===this.props.auth.invalidInput})}}l.displayName="AuthEmailInput",e.AuthEmailInput=l,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,s){e.exports={link:"password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",leftAlign:"password_reset--leftAlign--1mUX_ modal--left--t5YdU password_reset--link--1cQQH modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttonRow:"password_reset--buttonRow--3CoXM modal--buttonRow--23IOU",button:"password_reset--button--1lVHA",modal:"password_reset--modal--1cSyJ",form:"password_reset--form--1jxmp password_reset--modal--1cSyJ",header:"password_reset--header--3N7bH"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(34,1   ),o=s(158        ),r=s(299                                ),i=s(300                      ),n=s(310                                                       ),p=s(312                                                           ),u=s(204                                            ),h=s(300                      ),l=s(313                   );class m extends a.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>this.props.dispatch(r.auth.sendPasswordReset())),this.onBack=(()=>this.props.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN})))}render(){return a.createElement(n.AuthForm,Object.assign({},this.props,{header:"Need a link to reset your password?",onSubmit:this.onSubmit}),a.createElement(p.AuthEmailInput,Object.assign({},this.props)),a.createElement("div",{className:l.buttonRow},a.createElement(u.Link,{onClick:this.onBack,className:l.leftAlign},"Just kidding, I remembered"),a.createElement(f,Object.assign({},this.props,{disabled:!this.props.auth.email||!o.isEmail(this.props.auth.email)}),"Reset password")))}}m.displayName="ForgotPasswordForm",e.ForgotPasswordForm=m;class d extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN})))}render(){const t=this.props.modal?l.modal:l.form;return a.createElement("div",{className:t},a.createElement("div",{className:l.header},"If an account exists for ",this.props.auth.email,", you will get an email with instructions on resetting your password. If it doesn't arrive, be sure to check your spam folder."),a.createElement("div",{className:l.buttonRow},a.createElement(u.Link,{onClick:this.onBack,className:l.link},"Back to Sign in")))}}d.displayName="SentPasswordReset",e.SentPasswordReset=d;class c extends a.PureComponent{constructor(){super(...arguments),this.onBack=(()=>this.props.dispatch(r.auth.showForm({formState:i.AuthFormState.SIGN_IN})))}render(){return a.createElement(n.AuthForm,Object.assign({header:"Choose a new password",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),this.props.auth.emailToken&&a.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),a.createElement(p.AuthInvalidInput,{name:h.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",isInvalid:h.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement(p.AuthInvalidInput,{name:"password_retype",type:"password",placeholder:"Confirm password",autoCapitalize:"off",autoCorrect:"off",isInvalid:h.AuthInputType.PASSWORD===this.props.auth.invalidInput}),a.createElement("div",{className:l.buttonRow},a.createElement(u.Link,{onClick:this.onBack,className:l.leftAlign},"Back to Sign in"),a.createElement(f,Object.assign({},this.props),"Submit")))}}c.displayName="ResetPasswordForm",e.ResetPasswordForm=c;class f extends a.Component{render(){return this.props.isSignup?a.createElement(u.ButtonGreen,{className:l.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children):a.createElement(u.ButtonPrimary,{className:l.button,type:"submit",disabled:this.props.disabled||this.props.auth.loading},this.props.children)}}f.displayName="AuthButton",e.AuthButton=f,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(232                        ),i=t(140           ),r=t(97      ),s=t(302          );function a(o,e){e+="=";for(let t of o.split(";"))if((t=/^\s*(.*)$/.exec(t)[1]).slice(0,e.length)===e)return decodeURIComponent(t.slice(e.length));return null}function l(o){return i.isIosMirrorApp()?i.getIosAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest iOS app to authenticate with Google")}):new Promise((o,e)=>{window.FigmaMobile._sso_login_func=((t,n)=>{n?o({name:t,token:n,source:"mobile"}):e("Unable to get profile information from Google")}),window.FigmaMobile.startGoogleSSO()}):i.isAndroidMirrorApp()?i.getAndroidAppVersion()<2?new Promise((o,e)=>{e("Upgrade to the latest Android app to authenticate with Google")}):new Promise((o,e)=>{window._sso_login_func=((t,n)=>{n?o({name:t,token:n,source:"mobile"}):e("Unable to get profile information from Google")}),window.location.href="/mirror-sso"}):new Promise((o,t)=>{document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";let n=s.unsafeWindowOpen("/start_google_sso","","width=600,height=600");null!==n?window.setTimeout(function i(){const r=a(document.cookie,e.COOKIE);if(null!==r){const n=JSON.parse(r);document.cookie=e.COOKIE+"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;",n.token?(n.source="web",o(n)):t("Unable to get profile information from Google")}else n.closed?t("Unable to get profile information from Google"):window.setTimeout(i,250)},250):t("Unable to get profile information from Google")})}window._sso_login_func=((o,e)=>{}),e.COOKIE="google_sso_temp",e.parseCookieForKey=a,e.getGoogleUser=l,e.doGoogleLogin=function(o){return new Promise((e,t)=>{l().then(i=>{r.default.post("/api/session/google_auth/signin",{name:i.name,id_token:i.token,source:i.source}).then(({data:t})=>{o(n.flash.flash("Authenticated as "+t.meta.email)),e()},({data:o})=>{t(o.message||"Unable to authenticate")})},o=>{t(o)})})},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(n,t,o){n.exports={input:"landing_form--input--1hsoX",button:"landing_form--button--y3eAl landing_form--input--1hsoX",textInput:"landing_form--textInput--2D81H landing_form--input--1hsoX"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=s(34,1   ),a=s(201                                      ),o=s(316                 );class p extends n.Component{render(){const t=`${o.button} ${this.props.className||""}`,e=Object.assign({},this.props,{className:t});return n.createElement("button",Object.assign({},e),this.props.children)}}p.displayName="Button",e.Button=p;class r extends n.Component{render(){const t=`${o.textInput} ${this.props.className||""}`,e=Object.assign({},this.props,{className:t});return n.createElement(a.LazyInput,Object.assign({},e))}}r.displayName="TextInput",e.TextInput=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(n,i,_){n.exports={googleButton:"sign_in_and_up--googleButton--jTeOe",googleButtonInner:"sign_in_and_up--googleButtonInner--1zdhP",googleIcon:"sign_in_and_up--googleIcon--WHHnS",orBlock:"sign_in_and_up--orBlock--3kqvy",domainSuggestion:"sign_in_and_up--domainSuggestion--1tnLa",error:"sign_in_and_up--error--3e3qg auth_form--error--2I51G auth_form--header--21sqq",wideButton:"sign_in_and_up--wideButton--IYcsb auth_view--wideButton--dqVKk",primaryWideButton:"sign_in_and_up--primaryWideButton--15okP auth_view--primaryWideButton--3NOmp auth_view--wideButton--dqVKk",footer:"sign_in_and_up--footer--sCgNV auth_view--footer--2y326",footerButtonRow:"sign_in_and_up--footerButtonRow--1L1a9 auth_view--footerButtonRow--1r5Q6",link:"sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",forgotPassword:"sign_in_and_up--forgotPassword--m0ebi sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",footerRow:"sign_in_and_up--footerRow--pB9-z auth_view--footerButtonRow--1r5Q6",signInWithSaml:"sign_in_and_up--signInWithSaml--1vztF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signUpWithSaml:"sign_in_and_up--signUpWithSaml--22Lub sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",signInWithPassword:"sign_in_and_up--signInWithPassword---d3uW sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",switchFormText:"sign_in_and_up--switchFormText--aon-9 auth_view--footerText--1PPnJ",switchFormLink:"sign_in_and_up--switchFormLink--uuDAF sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56",centerText:"sign_in_and_up--centerText--2y7mR auth_view--centerText--21TLX",openExternallyIcon:"sign_in_and_up--openExternallyIcon--1-frt sign_in_and_up--link--2O7Hy blue_link--blueLink--22X56"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(l,e,t){l.exports={id:null,src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M17.64 9.2c0-.637-.057-1.25-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.079-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z" fill-rule="evenodd" fill="#4285f4"/><path d="M9.003 18c2.43 0 4.467-.806 5.956-2.18l-2.908-2.259c-.806.54-1.837.86-3.048.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z" fill-rule="evenodd" fill="#34a853"/><path d="M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z" fill-rule="evenodd" fill="#fbbc05"/><path d="M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.465.891 11.429 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z" fill-rule="evenodd" fill="#ea4335"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,e,s){t.exports={id:"g2f6f19d5",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h4v1H1v8h8V6h1v4H0V0zm6 0h4v4H9V1.707L4.354 6.354l-.708-.708L8.293 1H6V0z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(34,1   ),a=o(315             ),i=o(176              ),n=o(158        ),r=o(300                      ),p=o(299                                ),h=o(310                                                       ),l=o(312                                                           ),u=o(144                        ),m=o(317                                                ),c=o(318                   ),g=o(204                                            ),d=o(147                                        ),S=o(319                               ),E=o(320                                       );class F extends s.PureComponent{constructor(){super(...arguments),this.handleGoogleError=(t=>{this.props.dispatch(p.auth.showError({message:t}))}),this.onGoogleSignup=(()=>{a.getGoogleUser(this.props.dispatch).then(this.googleAuthSignup,t=>{this.handleGoogleError(t)})}),this.googleAuthSignup=(t=>{this.props.setAuthFormsState({googleIdToken:t.token,password:null}),this.props.dispatch(p.auth.changeName({value:t.name})),this.props.dispatch(p.auth.showForm({formState:r.AuthFormState.SIGN_UP_EXTRA_INFO}))})}render(){return s.createElement(v,Object.assign({onGoogleAuth:this.onGoogleSignup,googleText:"Sign up with Google",submitText:"Create account...",usesSignInFooter:!0},this.props))}}F.displayName="SignUpForm",e.SignUpForm=F;class w extends s.PureComponent{constructor(){super(...arguments),this.onGoogleLogin=(()=>{a.doGoogleLogin(this.props.dispatch).then(()=>{this.props.dispatch(p.auth.complete())},t=>{this.handleGoogleError(t)})}),this.handleGoogleError=(t=>{this.props.dispatch(p.auth.showError({message:t}))})}render(){return s.createElement(v,Object.assign({onGoogleAuth:this.onGoogleLogin,googleText:"Sign in with Google",submitText:"Sign in",usesSignInFooter:!1},this.props))}}w.displayName="SignInForm",e.SignInForm=w;class I extends s.PureComponent{render(){const t=this.props.usesSignInFooter?"Already have an account?":"No account?",e=this.props.usesSignInFooter?"Sign in":"Create account",o=this.props.usesSignInFooter?"Sign up with SAML SSO":"Sign in with SAML SSO";return s.createElement("div",{className:c.footer},s.createElement("div",{className:c.footerButtonRow},s.createElement(g.Link,{className:this.props.usesSignInFooter?c.signInWithSaml:c.signUpWithSaml,onClick:this.props.onSwitchToSaml},o),i.appAuthSupported()&&s.createElement(u.Svg,{className:c.openExternallyIcon,onClick:this.props.onSwitchToSaml,svg:E})),this.props.onForgotPassword&&s.createElement("div",{className:c.footerRow},s.createElement("div",{onClick:this.props.onForgotPassword,tabIndex:-1,className:c.forgotPassword},"Forgot password?")),s.createElement("div",{className:c.footerRow},s.createElement("div",{className:c.switchFormText},t,s.createElement("a",{tabIndex:-1,className:c.switchFormLink,onClick:this.props.onChangeFormClick},e))))}}I.displayName="EmailPasswordFooter",e.EmailPasswordFooter=I;class v extends s.PureComponent{constructor(){super(...arguments),this.state={password:"",googleIdToken:""},this.onClickDomainSuggestion=(()=>this.props.dispatch(p.auth.useDomainSuggestion())),this.onChangePassword=(t=>{this.setState({password:t.currentTarget.value,googleIdToken:""}),this.props.dispatch(p.auth.changePasswordLength({value:t.currentTarget.value.length}))}),this.onForgotPassword=(()=>{this.props.dispatch(p.auth.showForm({formState:r.AuthFormState.FORGOT_PASSWORD}))}),this.onClickSignup=(()=>{this.props.dispatch(p.auth.showForm({formState:r.AuthFormState.SIGN_UP}))}),this.onClickSignin=(()=>{this.props.dispatch(p.auth.showForm({formState:r.AuthFormState.SIGN_IN}))}),this.onClickSaml=(()=>{this.props.dispatch(p.auth.showForm({formState:r.AuthFormState.SAML_START}))})}UNSAFE_componentWillReceiveProps(t){this.props.auth.loading&&!t.auth.loading&&t.auth.errorType===r.ErrorType.UNAUTHORIZED&&this.setState({password:"",googleIdToken:""})}render(){const t=this.props.auth.invalidInput===r.AuthInputType.EMAIL||this.props.auth.invalidInput===r.AuthInputType.PASSWORD;return s.createElement(h.AuthForm,Object.assign({className:c.centerText,largeHeader:!0,hideError:t,onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(m.Button,{type:"button",className:c.googleButton,onClick:this.props.onGoogleAuth,"data-no-auto-focus":!0},s.createElement("div",{className:c.googleButtonInner},s.createElement(u.Svg,{className:c.googleIcon,svg:S,useOriginalSrcFills:!0}),this.props.googleText)),s.createElement("span",{className:c.orBlock},"or"),this.props.auth.invalidInput===r.AuthInputType.EMAIL&&this.props.auth.error&&s.createElement("div",{className:c.error},this.props.auth.error),s.createElement(l.AuthEmailInput,Object.assign({},this.props)),this.props.auth.domainSuggestion&&s.createElement("div",{className:c.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:c.link},this.props.auth.domainSuggestion),"?"),s.createElement(l.AuthInvalidInput,{name:r.AuthInputType.PASSWORD,type:"password",placeholder:"Password",autoCapitalize:"off",autoCorrect:"off",value:this.state.password,onChange:this.onChangePassword,onBlur:this.props.onBlur,isInvalid:this.props.auth.invalidInput===r.AuthInputType.PASSWORD}),this.props.auth.invalidInput===r.AuthInputType.PASSWORD&&this.props.auth.error&&s.createElement("div",{className:c.error},this.props.auth.error),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(m.Button,{type:"submit",className:this.props.usesSignInFooter?c.wideButton:c.primaryWideButton,disabled:this.props.auth.loading},this.props.submitText),this.props.usesSignInFooter?s.createElement(I,{onChangeFormClick:this.onClickSignin,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}):s.createElement(I,{onChangeFormClick:this.onClickSignup,onForgotPassword:this.onForgotPassword,onSwitchToSaml:this.onClickSaml,usesSignInFooter:this.props.usesSignInFooter}))}}v.displayName="EmailPasswordSSOForm";class N extends s.PureComponent{constructor(){super(...arguments),this.onClickDomainSuggestion=(()=>this.props.dispatch(p.auth.useDomainSuggestion())),this.onClickUserPass=(()=>{this.props.dispatch(p.auth.showForm({formState:r.AuthFormState.SIGN_IN}))})}render(){return s.createElement(h.AuthForm,Object.assign({},this.props,{header:"Sign in to Figma with SAML SSO",onSubmit:this.props.onFormSubmit(this.props.id)}),s.createElement(l.AuthEmailInput,Object.assign({},this.props)),this.props.auth.domainSuggestion&&s.createElement("div",{className:c.domainSuggestion},"Did you mean ",s.createElement("a",{onClick:this.onClickDomainSuggestion,className:c.link},this.props.auth.domainSuggestion),"?"),s.createElement(m.Button,{type:"submit",className:c.primaryWideButton,disabled:!this.props.auth.email||!n.isEmail(this.props.auth.email)||this.props.auth.loading},this.props.auth.loading?s.createElement(d.LoadingSpinner,null):"Sign in..."),s.createElement("div",{className:c.footer},s.createElement("div",{className:c.footerButtonRow},s.createElement(g.Link,{onClick:this.onClickUserPass,className:c.signInWithPassword},"Sign in with Google or a password"))))}}N.displayName="SamlStartForm",e.SamlStartForm=N,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,e){t.exports={input:"two_factor--input--XUk8H auth_view--input--PalhP",wideButton:"two_factor--wideButton--J8y48 auth_view--wideButton--dqVKk",footer:"two_factor--footer--3bC83 auth_view--footer--2y326",footerButtonRow:"two_factor--footerButtonRow--qEHnV auth_view--footerButtonRow--1r5Q6",goBack:"two_factor--goBack--229Hp",twoFactorText:"two_factor--twoFactorText--1TmP8"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(299                                ),n=a(300                      ),r=a(312                                                           ),i=a(310                                                       ),h=a(317                                                ),p=a(322               );class u extends s.PureComponent{constructor(){super(...arguments),this.state={smsSent:!1,twoFactorCode:null},this.sendSMS=(()=>{this.props.dispatch(o.auth.sendSMS({formId:this.props.id})),this.setState({smsSent:!0})}),this.goBack=(()=>{this.props.dispatch(o.auth.requireTwoFactor({required:!1,hint:null}))}),this.onChange=(e=>{const t=e.target.value;this.setState({twoFactorCode:t})})}render(){return s.createElement(i.AuthForm,Object.assign({header:this.props.header||"Please enter your authentication code or recovery code",onSubmit:this.props.onFormSubmit(this.props.id)},this.props),s.createElement(r.AuthInvalidInput,{onBlur:this.props.onBlur,onChange:this.onChange,value:this.state.twoFactorCode||"",name:n.AuthInputType.TOTP_KEY,autoComplete:"off",placeholder:"Authentication Code",isInvalid:this.props.auth.invalidInput===n.AuthInputType.TOTP_KEY}),s.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email}),s.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),s.createElement("input",{type:"hidden",name:"password_retype",value:this.props.password||""}),this.props.auth.emailToken&&s.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),s.createElement(h.Button,{type:"submit",disabled:this.props.auth.loading,className:p.wideButton},"Sign in"),s.createElement("div",{className:p.footer},s.createElement("div",{className:p.footerButtonRow},s.createElement("a",{onClick:this.goBack,className:p.goBack},"< Back"),this.props.auth.smsOkay&&!this.state.smsSent&&s.createElement("a",{className:p.twoFactorText,onClick:this.sendSMS},`${this.props.auth.hint?"Resend":"Send"} SMS code`))))}}u.displayName="TwoFactorForm",t.TwoFactorForm=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={selectFullWidth:"extra_info--selectFullWidth--3NJpV",wideButton:"extra_info--wideButton--2z_Bv auth_view--wideButton--dqVKk",termsFlattened:"extra_info--termsFlattened--2Whft auth_view--footerText--1PPnJ",termsLink:"extra_info--termsLink--26YZw",centerText:"extra_info--centerText--z1pDP auth_view--centerText--21TLX",signInText:"extra_info--signInText--35rPS auth_view--footerButtonRow--1r5Q6 auth_view--footerText--1PPnJ",signInLink:"extra_info--signInLink--1M1uC blue_link--blueLink--22X56",error:"extra_info--error--2VSg2 auth_form--error--2I51G auth_form--header--21sqq",invalidInput:"extra_info--invalidInput--1j8xA"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),r=a(299                                ),o=a(312                                                           ),s=a(310                                                       ),i=a(317                                                ),p=a(324               ),l=a(300                         ),h=a(96                              );class u extends n.PureComponent{constructor(){super(...arguments),this.jobTypeOptions=h.shuffle([n.createElement("option",{value:"designer"},"Design"),n.createElement("option",{value:"developer"},"Software Development"),n.createElement("option",{value:"marketer"},"Marketing"),n.createElement("option",{value:"project-manager"},"Product Management")]),this.onChangeName=(e=>{const t=e.target.value;this.props.dispatch(r.auth.changeName({value:t}))}),this.onChangeJobTitle=(e=>{const t=e.target.value;this.props.dispatch(r.auth.changeJob({value:t})),this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE&&t&&this.props.dispatch(r.auth.clearError())}),this.onClickSignIn=(()=>{this.props.dispatch(r.auth.signUpGoBack())})}render(){const e=!this.props.auth||!this.props.auth.jobTitle;return n.createElement(s.AuthForm,Object.assign({className:p.centerText,largeHeader:!!this.props.header,header:this.props.header||"Tell us about yourself",hideError:this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE,onSubmit:t=>{e?this.props.dispatch(r.auth.showError({invalidInput:l.AuthInputType.JOB_TITLE,message:"Please provide your job function"})):this.props.onFormSubmit(this.props.id)(t)}},this.props),n.createElement(o.AuthInput,{onBlur:this.props.onBlur,onChange:this.onChangeName,value:this.props.auth.name||"",name:"name",placeholder:"Your name",autoCorrect:"off"}),n.createElement("input",{type:"hidden",name:"email",value:this.props.auth.email||""}),n.createElement("input",{type:"hidden",name:"password",value:this.props.password||""}),n.createElement("input",{type:"hidden",name:"googleIdToken",value:this.props.googleIdToken||""}),this.props.auth.emailToken&&n.createElement("input",{type:"hidden",name:"email_token",value:this.props.auth.emailToken}),n.createElement("select",{value:this.props.auth.jobTitle,onChange:this.onChangeJobTitle,className:`${p.selectFullWidth} ${this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE?p.invalidInput:""}`},n.createElement("option",{value:"",disabled:!0},"What kind of work do you do? *"),this.jobTypeOptions,n.createElement("option",{value:"other"},"Other")),this.props.auth.invalidInput===l.AuthInputType.JOB_TITLE&&this.props.auth.error&&n.createElement("div",{className:p.error},this.props.auth.error),n.createElement(i.Button,{type:"submit",className:p.wideButton,disabled:this.props.auth.loading},"Create Account"),n.createElement("div",{className:p.termsFlattened},'By clicking "Create Account" you agree to our '," ",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/summary-of-policy"},"TOS")," and",n.createElement("a",{target:"_blank",rel:"noopener",className:p.termsLink,tabIndex:-1,href:"/privacy"},"Privacy Policy"),"."),n.createElement("div",{className:p.signInText},"Already have an account?",n.createElement("a",{tabIndex:-1,className:p.signInLink,onClick:this.onClickSignIn},"Sign in")))}}u.displayName="SignUpExtraInfoForm",t.SignUpExtraInfoForm=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,e,i){a.exports={link:"validate_email--link--1a7V8 modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttons:"validate_email--buttons--3IWyc",modal:"validate_email--modal--4UBx3",form:"validate_email--form--1qLwT validate_email--modal--4UBx3",innerContainer:"validate_email--innerContainer--3E4u1",back:"validate_email--back--3KxRY",header:"validate_email--header--2KHJ5",description:"validate_email--description--3rpEF",footer:"validate_email--footer--3G88r",error:"validate_email--error--2o7OF",success:"validate_email--success--28l2a"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(34,1   ),i=s(204                                            ),r=s(299                                ),o=s(326                   );class l extends t.PureComponent{constructor(){super(...arguments),this.sendValidationEmail=(()=>{this.props.dispatch(r.auth.sendValidationEmail({email:this.props.auth.email}))})}render(){const e=this.props.modal?o.modal:o.form,a=this.props.auth.email.substring(this.props.auth.email.lastIndexOf("@")+1);return t.createElement("div",{className:e},t.createElement("div",{className:o.innerContainer},t.createElement("div",{className:o.back},t.createElement(i.Link,{href:"/logout",className:o.link},"Logout")),t.createElement("div",{className:o.header},"Welcome to Figma, ",this.props.auth.name,"! Please verify your email to continue."),t.createElement("div",{className:o.description},"Please check your email for a message from Figma, and click the link inside to verify your email address."),t.createElement("div",{className:o.buttons},t.createElement(i.Link,{onClick:this.sendValidationEmail,className:o.link},"Resend Verification Email"),this.props.auth.error&&t.createElement("div",{className:o.error},this.props.auth.error),this.props.auth.success&&t.createElement("div",{className:o.success},this.props.auth.success))),t.createElement("div",{className:o.footer},"When you use a domain like ",a,", we ask that you verify your email. If youd like to use Figma outside of this organization, sign up with your personal email."))}}l.displayName="ValidateEmail",a.ValidateEmail=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,e,p){a.exports={modal:"app_auth--modal--21eLL",form:"app_auth--form--1pJEo app_auth--modal--21eLL",innerContainer:"app_auth--innerContainer--1V9qb",logo:"app_auth--logo--2YfGb",message:"app_auth--message--OhFO_",subMessage:"app_auth--subMessage--10AT2",link:"app_auth--link--2RA_H",error:"app_auth--error--1AnkH",redeemButton:"app_auth--redeemButton--3zyJD",redeemEmail:"app_auth--redeemEmail--24xd2"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),r=a(97      ),i=a(302          ),n=a(140           ),o=a(219          ),p=a(300                      ),l=a(299                                ),h=a(204                                            ),c=a(147                                        ),m=a(328             );class u extends s.PureComponent{constructor(e){super(e),this.expirationTimer=null,this.formatGrantUrl=(()=>{if(!this.state.appAuth)return"";let e=`/app_auth/${this.state.appAuth.id}/grant`,t=new URLSearchParams;return this.props.saml&&t.append("saml","true"),t.toString()&&(e+="?"+t.toString()),e}),this.requestAppAuth=(()=>{r.default.post("/api/session/app_auth",{app_type:this.props.appType}).then(e=>{this.setState({loading:!1,appAuth:e.data.meta}),this.openGrantUrl()}).catch(e=>{console.error(e),this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN})),this.props.dispatch(l.auth.showError({message:"An error occurred. Please try again later."}))})}),this.componentDidMount=(()=>{this.requestAppAuth(),this.expirationTimer=setTimeout(this.expire,u.EXPIRATION_MS)}),this.componentWillUnmount=(()=>{this.expirationTimer&&clearTimeout(this.expirationTimer)}),this.expire=(()=>{this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN})),this.props.dispatch(l.auth.showError({message:"An error has occurred. Please try again."}))}),this.openGrantUrl=(()=>{const e=this.formatGrantUrl();console.log("Opening: "+e),i.unsafeWindowOpen(e)}),this.onClickCancel=(()=>{n.isAndroidMirrorApp()||n.isIosMirrorApp()?i.redirect("/mobile-app"):this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN}))}),this.state={loading:!0,appAuth:null}}render(){const e=this.props.modal?m.modal:m.form;return this.state.loading?s.createElement(c.LoadingSpinner,null):s.createElement("div",{className:e},s.createElement("div",{className:m.innerContainer},s.createElement("img",{className:m.logo,src:"https://static.figma.com/uploads/c997a618026ea56ba097bc64eb9875215c70726b"}),s.createElement("div",{className:m.message},"Go to the browser to complete sign in."),s.createElement("div",{className:m.subMessage},'Not seeing the "Sign in with SAML SSO" tab?'),s.createElement(h.Link,{className:m.link,onClick:this.onClickCancel},"Go back and try again")))}}u.displayName="AppAuthRequestForm",u.EXPIRATION_MS=3e5,t.AppAuthRequestForm=u;class d extends s.PureComponent{constructor(e){super(e),this.formatRedeemUrl=(()=>{if(!this.state.gSecret)return"";let e="figma://app_auth/redeem",t=new URLSearchParams;return t.append("g_secret",this.state.gSecret),t.toString()&&(e+="?"+t.toString()),e}),this.openAppToRedeem=(()=>{const e=this.formatRedeemUrl();console.log("Opening: "+e),i.unsafeRedirect(e),setTimeout(()=>{window.close()},3e3)}),this.grantAppAuth=(()=>{this.props.auth.appAuthId?r.default.post(`/api/session/app_auth/${this.props.auth.appAuthId}/grant`).then(e=>{this.setState({loading:!1,gSecret:e.data.meta.g_secret})}).catch(e=>{console.error(e),this.setState({loading:!1,gSecret:null})}):this.setState({loading:!1,gSecret:null})}),this.onClickOpenToRedeem=(()=>{this.openAppToRedeem(),o.segmentTrackEvent("AppAuth",{app_auth_id:this.props.auth.appAuthId,app_auth_status:"click_to_redeem"})}),this.openNativeLoginScreen=(()=>{const e=this.props.auth.appAuthAppType===p.AppAuthAppType.MOBILE?"mobile-app":"login";i.unsafeRedirect("figma://"+e)}),this.onClickSignoutAndTryAgain=(()=>{this.openNativeLoginScreen(),i.redirect("/logout")}),this.onClickOpenToStartOver=(()=>{this.openNativeLoginScreen()}),this.state={loading:!0,gSecret:null}}componentDidMount(){this.grantAppAuth()}render(){const e=this.props.modal?m.modal:m.form,t=this.props.auth.appAuthAppType===p.AppAuthAppType.MOBILE?"Mirror":"Desktop";return this.state.loading?s.createElement(c.LoadingSpinner,null):s.createElement("div",{className:e},s.createElement("div",{className:m.innerContainer},s.createElement("img",{className:m.logo,src:"https://static.figma.com/uploads/6d98ff5b018cc5b85a638a1587268f7541607753"}),this.state.gSecret&&s.createElement(s.Fragment,null,s.createElement("div",{className:m.message},"Almost there! Click below to finish signing into the ",t," App."),s.createElement(h.ButtonPrimary,{className:m.redeemButton,onClick:this.onClickOpenToRedeem},"Open ",t," App"),s.createElement("div",{className:m.redeemEmail},"Signing in as ",this.props.auth.email),s.createElement(h.Link,{className:m.link,onClick:this.onClickSignoutAndTryAgain},"Not you? Sign out and try again")),!this.state.gSecret&&s.createElement(s.Fragment,null,s.createElement("div",{className:m.message},"An error has occurred.",s.createElement("br",null),"Please try again."),s.createElement(h.Link,{className:m.link,onClick:this.onClickOpenToStartOver},"Open ",t," App"))))}}d.displayName="AppAuthGrantForm",t.AppAuthGrantForm=d;class g extends s.PureComponent{constructor(e){super(e),this.redeemAppAuth=(()=>{if(!this.props.auth.appAuthId||!this.props.auth.appAuthGSecret)return this.setState({loading:!1}),void this.handleError();r.default.post("/api/session/app_auth/redeem",{g_secret:this.props.auth.appAuthGSecret}).then(e=>{this.setState({loading:!1}),setTimeout(()=>{const e=this.props.auth.redirectUrl||(n.isAndroidMirrorApp()||n.isIosMirrorApp()?"/mobile-app":"/");console.log("Opening: "+e),i.redirect(e)},500)}).catch(e=>{console.error(e),this.setState({loading:!1}),this.handleError()})}),this.handleError=(()=>{const e="An error has occurred. Please try again.";if(n.isAndroidMirrorApp()||n.isIosMirrorApp()){let t=new URLSearchParams;t.append("error",e),i.redirect("/mobile-app?"+t.toString())}else this.props.dispatch(l.auth.showForm({formState:p.AuthFormState.SIGN_IN})),this.props.dispatch(l.auth.showError({message:e}))}),this.state={loading:!0}}componentDidMount(){this.redeemAppAuth()}render(){const e=this.props.modal?m.modal:m.form;return this.state.loading?s.createElement(c.LoadingSpinner,null):s.createElement("div",{className:e},s.createElement("div",{className:m.innerContainer},s.createElement("img",{className:m.logo,src:"https://static.figma.com/uploads/c997a618026ea56ba097bc64eb9875215c70726b"}),this.state.loading&&s.createElement(c.LoadingSpinner,null),!this.state.loading&&s.createElement(s.Fragment,null,s.createElement("div",{className:m.message},"Loading..."),s.createElement(c.LoadingSpinner,null))))}}g.displayName="AppAuthRedeemForm",t.AppAuthRedeemForm=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=s(34,1   ),r=s(302          ),o=s(176              ),i=s(140           ),h=s(299                                ),n=s(300                      ),p=s(314                                                                 ),u=s(321                                                                                ),m=s(323                                                                        ),S=s(325                                                                        ),c=s(327                                             ),A=s(329                                 );class d extends a.PureComponent{componentWillUnmount(){this.props.dispatch(h.auth.clearError()),this.props.dispatch(h.auth.showForm({formState:n.AuthFormState.SIGN_UP}))}static title(t){switch(t.auth.formState){case n.AuthFormState.SAML_START:case n.AuthFormState.APP_AUTH_GRANT:case n.AuthFormState.APP_AUTH_REDEEM:return"Sign in with SAML SSO";default:return"Figma"}}static headerActionText(t){return t.auth.formState===n.AuthFormState.APP_AUTH_REDEEM?"Go back and try again":null}static headerAction(t){return t.auth.formState===n.AuthFormState.APP_AUTH_REDEEM?()=>{i.isAndroidMirrorApp()||i.isIosMirrorApp()?r.redirect("/mobile-app"):t.dispatch(h.auth.showForm({formState:n.AuthFormState.SIGN_IN}))}:null}render(){switch(this.props.auth.formState){case n.AuthFormState.SIGN_IN:case n.AuthFormState.SIGN_UP:case n.AuthFormState.SIGN_UP_EXTRA_INFO:case n.AuthFormState.RESET_PASSWORD:case n.AuthFormState.SAML_START:return a.createElement(l,Object.assign({},this.props));case n.AuthFormState.FORGOT_PASSWORD:return a.createElement(p.ForgotPasswordForm,Object.assign({},this.props));case n.AuthFormState.SENT_PASSWORD_RESET:return a.createElement(p.SentPasswordReset,Object.assign({},this.props));case n.AuthFormState.VALIDATE_EMAIL:return a.createElement(c.ValidateEmail,Object.assign({},this.props));case n.AuthFormState.APP_AUTH_GRANT:return a.createElement(A.AppAuthGrantForm,Object.assign({},this.props));case n.AuthFormState.APP_AUTH_REDEEM:return a.createElement(A.AppAuthRedeemForm,Object.assign({},this.props))}}}d.displayName="AuthView",e.AuthView=d;class l extends a.PureComponent{constructor(){super(...arguments),this.state={password:"",googleIdToken:""},this.onFormSubmit=(t=>e=>{let s=document.getElementById(t).elements;switch(s.totp_key&&s.totp_key.select(),s.password&&(s.password.select(),this.setState({password:s.password.value,googleIdToken:null})),this.props.auth.formState){case n.AuthFormState.SIGN_IN:this.props.dispatch(h.auth.signIn({formId:t}));break;case n.AuthFormState.RESET_PASSWORD:this.props.dispatch(h.auth.resetPassword({formId:t}));break;case n.AuthFormState.SAML_START:this.props.dispatch(h.auth.sendEmailSamlStart({formId:t}));break;case n.AuthFormState.SIGN_UP_EXTRA_INFO:this.props.dispatch(h.auth.signUp({formId:t}));break;case n.AuthFormState.SIGN_UP:this.props.dispatch(h.auth.signUpExtraInfo({formId:t}))}this.props.onBlur&&this.props.onBlur(e,!0)}),this.setAuthFormsState=(t=>(t=>{this.setState(t)})(t))}UNSAFE_componentWillMount(){this.props.auth.formState!==n.AuthFormState.SIGN_UP_EXTRA_INFO&&this.setState({password:null,googleIdToken:null})}render(){return this.props.auth.twoFactorRequired?a.createElement(m.TwoFactorForm,Object.assign({password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===n.AuthFormState.SIGN_IN?a.createElement(u.SignInForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===n.AuthFormState.SIGN_UP?a.createElement(u.SignUpForm,Object.assign({setAuthFormsState:this.setAuthFormsState,password:this.state.password,onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===n.AuthFormState.SIGN_UP_EXTRA_INFO?a.createElement(S.SignUpExtraInfoForm,Object.assign({onFormSubmit:this.onFormSubmit,password:this.state.password,googleIdToken:this.state.googleIdToken},this.props)):this.props.auth.formState===n.AuthFormState.RESET_PASSWORD?a.createElement(p.ResetPasswordForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):this.props.auth.formState===n.AuthFormState.SAML_START?o.appAuthSupported()?a.createElement(A.AppAuthRequestForm,Object.assign({appType:n.AppAuthAppType.DESKTOP,saml:!0},this.props)):a.createElement(u.SamlStartForm,Object.assign({onFormSubmit:this.onFormSubmit},this.props)):void 0}}l.displayName="AuthForms",e.AuthForms=l,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=a(299                      );t.authActions=r.auth;var u=a(307                         );t.authMiddleware=u.authMiddleware;var i=a(330                                   );t.AuthView=i.AuthView;var n=a(305             );t.authHelpers=n.authHelpers,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=l(97      ),n=l(0                    );let s=null;t.getUserStateRequest=(e=>{let l={org_id:t.getLastSelectedOrgId()},n={};return e&&e>0&&(n={retryCount:e}),r.default.get("/api/user/state",l,n)}),t.setLastSelectedOrgId=(e=>{e||(e="personal"),s=e,document.cookie=`last_org_id=${e};path=/`}),t.getLastSelectedOrgId=(()=>{let e=null;return e=s?"personal"===s?null:s:s=n.initialOptions().org_id||null}),t.resetLastSelectedOrgId=(()=>{s=null}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(232                        ),l=o(1426        ),s=o(332                       );t.loadAllDocumentsForTesting=(e=>{console.log("loading all documents for the current user"),s.getUserStateRequest().then(t=>{let o=t.data.meta.files.map(e=>e.key).sort(),s=null,c=!1,a=!0;console.log(`the current user has ${o.length} documents`);const r=()=>{c=!1,a=!0,u(),console.log(`there are ${o.length} documents remaining`);let t=o.pop();t?(console.log(`loading document ${t}`),e.dispatch(n.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:t}}))):console.log("finished loading all documents for the current user")},u=()=>{c&&a?(console.log("the current document appears to have settled, waiting for 5 seconds"),s=setTimeout(()=>{console.log("the current document had 5 seconds of inactivity, loading the next document"),r()},5e3)):null!==s&&(c&&console.log("detected activity, waiting for the current document to settle"),clearTimeout(s),s=null)};l.fullscreen.fromFullscreen.on("documentIsLoaded",()=>{c=!0,u()}),l.fullscreen.fromFullscreen.on("updateSavedStatus",e=>{a=!e.hasUnsavedChanges,u()}),r()})}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(96         );let i=!1;t.EventEmitter=class{constructor(e){this._name=e,this._listenersByEvent=Object.create(null)}on(e,t){this._listenersByEvent[e]||(this._listenersByEvent[e]=[]),n.pushIfAbsent(this._listenersByEvent[e],t)}removeListener(e,t){const s=this._listenersByEvent[e];s&&n.removeByValue(s,t)}trigger(e,t){if(i&&console.log(`EventEmitter(${this._name}) triggering (${e})`),this._listenersByEvent[e])for(const s of this._listenersByEvent[e])s(t)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";var o=this&&this.__awaiter||function(t,e,n,o){return new(n||(n=Promise))(function(i,r){function a(t){try{c(o.next(t))}catch(e){r(e)}}function u(t){try{c(o.throw(t))}catch(e){r(e)}}function c(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,u)}c((o=o.apply(t,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const i=n(97      ),r=n(141     );e.makeLocalServerRequest=function(t,e,n){return o(this,void 0,void 0,function*(){if(r.chrome&&+r.version>=54||r.firefox&&+r.version>=56){const e=`http://127.0.0.1:${t}`,{data:o}=yield i.default({method:i.default.Methods.GET,url:`${e}${n}`,headers:{"Content-Type":"text/plain"}});return{data:o,origin:e}}const o=`https://figmadaemon.com:${e}`,{data:a}=yield i.default({method:i.default.Methods.GET,url:`${o}${n}`,headers:{"Content-Type":"text/plain"}});return{data:a,origin:o}})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(292         ),r=o(1426        ),i=o(129        );n.isMacDebugApp=-1!==navigator.userAgent.indexOf("FigmaNativeApp");let s=!1;if(n.isMacDebugApp){const e=e=>e instanceof Uint8Array?t.encode(e):e;window.xcodeOnlyCallMethodOnInterface=((n,o,r,i,s)=>{const c=window[n];if(null==c)return void console.error(`[C++ <-> JS] Can't find instance of ${n} on window`);for(let e of i)r[e]=t.decode(r[e]);const l=c[o].apply(c,r);if(s>=0){const t=window.figmaWebContextObjcBridge;l.then(r=>{t.handlePromiseCallback(n,o,s,JSON.stringify(e(r)),null)}),l.catch(e=>{t.handlePromiseCallback(n,o,s,JSON.stringify(null),e+"")})}return e(l)}),window.xcodeOnlyRegisterMethodsOnInterface=((e,n)=>{const o=i[e]={};for(const r of n){const[n,i]=r.split("->");o[n]=function(){const o=window.figmaWebContextObjcBridge;let r=JSON.parse(o.handleCallback(e,n,JSON.stringify(Array.prototype.slice.call(arguments))));return"buffer"===i&&(r=t.decode(r)),r}}})}class c{handleMessageFromWeb(e,n,o){const r=window.figmaWebContextObjcBridge.handleMessageFromWebWithNameArgsAndBuffer(e,JSON.stringify(n),o?t.encode(o):null),i=JSON.parse(r);return i.buffer&&(i.buffer=t.decode(i.buffer)),i}}n.OSXWebContextShim=c;n.OSXWebContextListener=class{constructor(e){e.on("sendMessageToWeb",n=>{let o=n.args||{};null!=n.buffer&&(o.buffer=t.decode(n.buffer)),e.trigger(n.event,o)})}initialize(){if(s)return;s=!0,r.fullscreen.registerWebContext(new c);const e=window.console,n={};for(let o in e)"function"==typeof e[o]&&(n[o]=(n=>(function(){e[n].apply(e,arguments)}))(o));["debug","error","info","log","trace","warn","group"].forEach(o=>{n[o]=function(){e[o].apply(e,arguments),r.fullscreen.sendMessage("console:"+o,Array.prototype.slice.call(arguments),null)}}),window.console=n,n.log("console initialized"),window.onerror=((e,o,t,r,i)=>{n.error("Uncaught exception: "+e+" ("+o+":"+t+":"+r+")")})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,e){"use strict";var o=this&&this.__awaiter||function(n,t,e,o){return new(e||(e=Promise))(function(i,r){function s(n){try{c(o.next(n))}catch(t){r(t)}}function u(n){try{c(o.throw(n))}catch(t){r(t)}}function c(n){n.done?i(n.value):new e(function(t){t(n.value)}).then(s,u)}c((o=o.apply(n,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=e(141     ),r=e(176              ),s=e(335               ),u=e(336                           );function c(){return!(!i.windows&&!i.mac)&&(!r.desktopApp&&!u.isMacDebugApp)}function a(n){return o(this,void 0,void 0,function*(){return s.makeLocalServerRequest(18412,7335,`/figma${n}`)})}t.supportsFontDaemon=c,t.openFontSettings=function(){c()&&(location.href="/settings#fonts")},t.requestFontDaemonFontFiles=function(){return a("/font-files")},t.checkForFontDaemon=function(){return a("/version")},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(1426                               );let r=null,o=0,a=!1,l=!1;t.startMonitorInterval=function(){l||(l=!0,setInterval(()=>s.fullscreen.isReady()&&s.fullscreen.sendMessage("triggerMonitorInterval"),250))},t.setBackgroundFlushInterval=function(e){r||(r=function(){try{let t=new Blob(["("+function(){onmessage=(e=>setTimeout(()=>self.postMessage(""),e.data))}+")()"],{type:"text/javascript"}),n=new Worker(URL.createObjectURL(t));return(e,t)=>{n.onmessage||(n.onmessage=(()=>{n.onmessage=null,e()}),n.postMessage(t))}}catch(e){return console.error(e),(e,t)=>{setTimeout(e,t)}}}()),o=e,a||function e(){o&&(a=!0,r(function(){a=!1,o&&s.fullscreen.sendMessage("triggerBackgroundFlush"),e()},o))}()},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const a=t(97      );n.NEXT_PAGE="next",n.PREV_PAGE="prev",n.paginate=function(e,t,p,i=n.NEXT_PAGE){return new Promise((o,r)=>{let g=p&&p.pagination,_=g&&(i===n.PREV_PAGE?g.prev_page:g.next_page);(null==g||_)&&(_=_||`${e}?page_size=${t}`,a.default.get(_).then(({data:e})=>{const t=e.pagination;null==g?g=t:i===n.PREV_PAGE?t.prev_page&&(g.prev_page=t.prev_page):g.next_page=t.next_page,e.meta.pagination=g,o(e.meta)},r))})},n.hasMore=function(e){return!!(e&&e.pagination&&e.pagination.next_page)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(232                 ),n=i(339             );s.CURRENT_VERSION="current_version",s.getActiveVersion=function(e){for(let s of e.versions)if(s.id===e.activeId)return s};const o={activeId:s.CURRENT_VERSION,versions:[],lastFetched:new Date(0),docHasChanged:!0,loading:!1};s.versionHistory=function(e=o,s){if(t.versionHistory.reset.matches(s))return Object.assign({},o,{docHasChanged:e.docHasChanged});if(t.versionHistory.append.matches(s)){const i=s.payload.history.versions,t=s.payload.direction;if(t===n.PREV_PAGE&&1===i.length){const s=i[0].id;if(e.versions.find(e=>e.id===s))return Object.assign({},e,{loading:!1})}return Object.assign({},e,s.payload.history,{versions:t===n.NEXT_PAGE?e.versions.concat(i):i.concat(e.versions),loading:!1})}if(t.versionHistory.toggleLoading.matches(s))return Object.assign({},e,{loading:s.payload.loading});if(t.versionHistory.setActive.matches(s))return Object.assign({},e,{activeId:s.payload.id});if(t.versionHistory.setDocHasChangedSinceLastSavepoint.matches(s))return Object.assign({},e,{docHasChanged:s.payload.status});switch(s.type){case t.file.UPDATE_SAVEPOINT:{const{savepointID:i,label:t,description:n}=s.payload;return Object.assign({},e,{versions:e.versions.map(e=>e.id!==i?e:Object.assign({},e,{label:t,description:n}))})}}return e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(232                        ),s=n(1430                                             ),l=n(287       ),r=n(180         ),i=n(219          ),c=n(279         ),a=n(291       ),d=n(1426                               ),u=n(176              ),f=n(129                               ),p=n(282                             ),m=n(340                                 ),g=n(301           ),S=n(182            );function y(e,t,n){d.fullscreen.sendMessage("setNodeProperty",{nodeId:e,property:t,value:n})}function b(e){const t=Object.create(null);for(const n in e)t[c.camelCasedToDashed(n)]=e[n];d.fullscreen.sendMessage("updateAppModel",t,null)}function h(e){b({activeCommentNode:e})}function v(e){if(!d.fullscreen.hasOpenFile())return null;const t=d.fullscreen.sendMessage("getCommentAnchorNodeAtPosition",e);return t&&t.args&&t.args.nodeId?t.args.nodeId:null}t.invalidGUID=l.toString(l.invalidGUID),t.setCurrentPageFromNode=function(e){d.fullscreen.sendMessage("setCurrentPageFromNode",{nodeId:e})},t.addToSelection=function(e){d.fullscreen.sendMessage("addToSelection",{nodeIds:e})},t.removeFromSelection=function(e){d.fullscreen.sendMessage("removeFromSelection",{nodeIds:e})},t.clearSelection=function(){d.fullscreen.sendMessage("clearSelection")},t.selectNodesInRange=function(e,t){d.fullscreen.sendMessage("selectNodesInRange",{fromNodeId:e,toNodeId:t})},t.reparentSelection=function(e,t,n=f.ScrollBehavior.SCROLLS){d.fullscreen.sendMessage("transferSelection",{newParentId:e,newIndex:t,behavior:n===f.ScrollBehavior.SCROLLS?"SCROLLS":"FIXED"})},t.duplicateSelection=function(e,t,n=f.ScrollBehavior.SCROLLS){d.fullscreen.sendMessage("duplicateSelection",{newParentId:e,newIndex:t,behavior:n===f.ScrollBehavior.SCROLLS?"SCROLLS":"FIXED"})},t.setLocked=function(e,t){y(e,"locked",t)},t.setVisible=function(e,t){y(e,"visible",t)},t.setName=function(e,t){y(e,"name",t)},t.setIsExpanded=function(e,t){y(e,"is-expanded",t)},t.setIsTemporarilyExpanded=function(e,t){y(e,"is-temporarily-expanded",t)},t.setIsSymbolPublishable=function(e,t){y(e,"is-symbol-published",t)},t.setIsPublishable=function(e,t){y(e,"is-published",t)},t.setStyleDescription=function(e,t){y(e,"style-description",t)},t.expandUpToRoot=function(e){d.fullscreen.sendMessage("expandUpToRoot",{nodeId:e})},t.setExpandedRecursive=function(e,t){d.fullscreen.sendMessage("setExpandedRecursive",{nodeId:e,isExpanded:t})},t.clearTemporarilyExpanded=function(){d.fullscreen.sendMessage("clearTemporarilyExpanded")},t.setSelectionExpanded=function(e,t){d.fullscreen.sendMessage("setSelectionExpanded",{nodeId:e,isExpanded:t})},t.updateAppModel=b,t.setHoveredNode=function(e){b({hoveredNode:e})},t.setActiveCommentNode=h,t.setActiveCommentNodeForPosition=function(e){const n=v(e);h(n||t.invalidGUID)},t.setObjectsPanelWidth=function(e){b({sidebarSplitPosition:e})},t.setPagesPanelHeight=function(e){b({pagesPanelHeight:e})},t.setPagesPanelIsOpen=function(e){b({pagesPanelIsOpen:e})},t.setSmallNudgeAmount=function(e){b({smallNudgeAmount:e})},t.setBigNudgeAmount=function(e){b({bigNudgeAmount:e})},t.setPropertiesPanelTab=function(e){b({propertiesPanelTab:e})},t.setHandoffPlatformTarget=function(e){b({handoffPlatformTarget:e})},t.setHandoffOutputFormat=function(e){b({handoffOutputFormat:e})},t.getCommentAnchorNodeAtPosition=v;const I=["x","y","width","height","angle","canBecomeGroup","miterLimitAngle","detectedList","destinationOverlayPositionType","destinationOverlayBackgroundInteraction","destinationOverlayBackgroundType","destinationOverlayBackgroundColor","name","numSelected","numSelectedByType","arcStart","arcSweep","arcRadius","fontFamily","fontStyle","intrinsicLineHeight"];var P;function O(e,t,n){const o=Object.assign({},e),s=function(e){const t=Object.create(null);for(const n of I)if(n in e){const o=e[n];o!==p.MIXED&&(t[n]=o),delete e[n]}return t}(o),l=function(e){const t={guid:{sessionID:0,localID:0}};for(const n in e){const o=e[n];o!==p.MIXED&&(t[n]=o)}return t}(o),i=M&&M.getState();if(i&&i.mirror.selectedStyleProperties&&i.mirror.selectedStyleProperties.guid){if(s){const e=s.fontFamily&&s.fontStyle;r.assertDev(!e,"UI should never simultaneously update font family and style"),s.fontFamily&&(l.fontName={family:s.fontFamily,style:i.mirror.selectedStyleProperties.fontStyle,postscript:""}),s.fontStyle&&(l.fontName={family:i.mirror.selectedStyleProperties.fontFamily,style:s.fontStyle,postscript:""})}const e=a.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[l]});d.fullscreen.sendMessage("updateSelectedStyleProperties",{shouldCommit:t===P.YES},e),D(i.mirror.selectedStyleProperties.styleType)}else{const e=a.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[l]});d.fullscreen.sendMessage("updateSelectionProperties",{derivedPropertyUpdates:s,overwrite:n,shouldCommit:t===P.YES},e)}}!function(e){e[e.NO=0]="NO",e[e.YES=1]="YES"}(P=t.ShouldCommit||(t.ShouldCommit={})),t.updateSelectionProperties=function(e,t,n){S.appTimer.start("update-selection-properties");try{O(e,t,n)}catch(o){throw o}finally{S.appTimer.stop("update-selection-properties")}},t.updateSelectionProperties_=O;const D=g.debounce(e=>{i.segment.track("Style Edited",{styleType:e})},500);let M=null,N=Object.create(null);function C(e){r.assertDev(!N.invalidateSceneGraph,"We should get at most one sceneGraphMirrorUpdate per frame. We got two."),N.invalidateSceneGraph={rebuildRows:!e||e.rebuildRows}}function E(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function F(e){N.selection||(N.selection=Object.create(null)),r.assertDev(!N.selection.replace,"addSelectors and replaceSelectors called on the same frame"),N.selection.add||(N.selection.add=Object.create(null));const t=e.buffer;if(t)for(let n=0;n<t.length;n+=8){const e=E(t,n),o=E(t,n+4),s=l.toString({sessionID:e,localID:o});N.selection.add[s]=!0}}function x(e){N.selection||(N.selection=Object.create(null)),r.assertDev(!N.selection.replace,"removeSelectors and replaceSelectors called on the same frame"),N.selection.remove||(N.selection.remove=Object.create(null));const t=e.buffer;if(t)for(let n=0;n<t.length;n+=8){const e=E(t,n),o=E(t,n+4),s=l.toString({sessionID:e,localID:o});N.selection.remove[s]=!0}}function A(e){N.selection||(N.selection=Object.create(null)),r.assertDev(!N.selection.add,"addSelectors and replaceSelectors called on the same frame"),r.assertDev(!N.selection.remove,"removeSelectors and replaceSelectors called on the same frame"),N.selection.replace||(N.selection.replace=Object.create(null));const t=e.buffer;if(t)for(let n=0;n<t.length;n+=8){const e=E(t,n),o=E(t,n+4),s=l.toString({sessionID:e,localID:o});N.selection.replace[s]=!0}}function T(e){if(u.desktopApp){const t={},n="action-enabled-";for(let o of Object.keys(e))if(o.startsWith(n)){t[o.substr(n.length)]=e[o].value}Object.keys(t).length>0&&u.desktopApp.updateActionState(t)}let t=Object.create(null);for(let n in e)t[c.toCamelCase(n)]=e[n].value;N.appModel=Object.assign({},N.appModel,t)}function j(e){const t=e.buffer.length>0?a.schema.decodeMessage(e.buffer):null;delete e.buffer;const n=e;r.assertDev(!N.selectionProperties,"Updating selectionProperties multiple times on a frame"),N.selectionProperties={message:t,derivedProperties:n}}t.initialize=function(e){M||(M=e,d.fullscreen.fromFullscreen.on("sceneGraphMirrorUpdate",C),d.fullscreen.fromFullscreen.on("selection:addSelectors",F),d.fullscreen.fromFullscreen.on("selection:removeSelectors",x),d.fullscreen.fromFullscreen.on("selection:replaceSelectors",A),d.fullscreen.fromFullscreen.on("updateAppModel",T),d.fullscreen.fromFullscreen.on("selectionPropertiesUpdate",j))},t.dispatchUpdateMirrorIfNecessary=function(){if(0===Object.keys(N).length)return;const e=N.invalidateSceneGraph&&M.getState().versionHistory.activeId===m.CURRENT_VERSION;M.dispatch(o.fullscreen.updateMirror(N)),N=Object.create(null),e&&M.dispatch(s.updateLibraryFromPublishedAndLocalData())},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(141     ),o=n(232                        ),s=n(1426                               ),i=n(199      ),a=n(204                                            );var l;function y(e,t=l.YES){if(!s.fullscreen)return!1;if(!s.fullscreen.isRootElementVisible())return!1;const n=e.keyCode,o=i.isStandardShortcutKeyPressed(e);if(n===i.Key.TAB&&i.isNoneOrAllowedModifiersPressed(e,i.ModifierKey.SHIFT));else if(r.mac&&e.ctrlKey&&(n===i.Key.A||n===i.Key.B||n===i.Key.D||n===i.Key.E||n===i.Key.F||n===i.Key.H||n===i.Key.K||n===i.Key.L||n===i.Key.N||n===i.Key.O||n===i.Key.P||n===i.Key.T||n===i.Key.V));else if(n===i.Key.A||n===i.Key.DELETE||n===i.Key.BACKSPACE||n===i.Key.NUMPAD_DELETE||n===i.Key.SPACE||n===i.Key.ENTER||n===i.Key.HOME||n===i.Key.END||n===i.Key.PAGE_UP||n===i.Key.PAGE_DOWN);else if(o&&n===i.Key.Z&&t===l.NO);else if(o||e.ctrlKey){if(d(e,!0))return!0}else if(n===i.Key.ESCAPE){if(s.fullscreen.sendMessage("handleEscape").args.accepted)return e.preventDefault(),!0}return!1}function d(e,t=!1){let n=null;if("keydown"===e.type)n=i.EventType.KEY_PRESS;else{if("keyup"!==e.type)return void console.error("Invalid event passed to forwardKeyboardEvent");n=i.EventType.KEY_RELEASE}const r=t?"handleKeyboardShortcut":"handleKeyboardEvent",o=s.fullscreen.sendMessage(r,{type:n,which:e.which,modifierKeys:i.modifierKeys(e),isRepeat:e.repeat}).args.accepted;return o&&e.preventDefault(),o}!function(e){e[e.YES=0]="YES",e[e.NO=1]="NO"}(l=t.ForwardUndo||(t.ForwardUndo={})),t.forwardInputKeyToFullscreenIfNecessary=y,a.setForwardInputKeyToFullscreenIfNecessary(y),t.forwardKeyboardEvent=d,t.webAppHasElementAtPoint=((e,t)=>{const n=document.elementFromPoint(e,t);return n&&!n.getAttribute("data-forward-events-to-fullscreen")}),t.webAppWantsEventAtPoint=((e,n,r)=>{let s=!1;return!1===(s=!!t.webAppHasElementAtPoint(n,r)||(!!e.getState().dropdownShown||document.activeElement&&document.activeElement!==document.body))&&e.getState().tooltip&&e.dispatch(o.tooltip.hide()),s}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(232                        ),r=n(283         ),s=n(285                                        ),l=n(281                                  ),a=n(286                                              );class o{constructor(){this.indexer={}}next(e){return null==this.indexer[e]?this.indexer[e]=0:this.indexer[e]++,this.indexer[e]}}function c(e,t,n,i){let r=`${e}-${t}-${n.imageType}-${n.suffix}`;return`${r}-${i.next(r)}`}t.UniqueIndexer=o,t.exportableItems=function(e=Object.create(null),t){if(i.exportableItems.setItems.matches(t)){let n=Object.assign({},e.checked);for(let e of t.payload.items){let t=e.itemID;null==n[t]&&(n[t]=!0)}return{items:t.payload.items,frames:t.payload.frames,checked:n}}if(i.exportableItems.setChecked.matches(t)){let n=Object.assign({},e.checked);return n[t.payload.itemID]=t.payload.checked,Object.assign({},e,{checked:n})}return e};const p={PNG:".png",JPEG:".jpg",SVG:".svg",PDF:".pdf"};function u(e,t,n,i){let r,s=!1;""===e.trim()&&(e="Untitled"),r=`${e}${t}${n}`;let l=i.next(`${r}`);return l>0&&(r=`${e}${t}-${l}${n}`,s=!0),{filename:r,isDuplicate:s}}function m(e,t,n,i){let r,s;if("CANVAS"===e)""===(r=n).trim()&&(r="Untitled"),s=r=r.replace(/\//g,"_");else{(r=t).endsWith("/")&&(r=r.substr(0,r.length-1));let e=r.lastIndexOf("/");s=-1!==e?r.substr(e+1,r.length):r;for(let t of i){let e=t.substr(0,t.lastIndexOf("/"));e.length>0&&(r=e+"/"+r)}}return{name:r,title:s}}function d(e){return("FRAME"===e.type||"SYMBOL"===e.type)&&!e.resizeToFit}t.computeExportFilename=u,t.computeExportName=m,t.isNodeFrameOrSymbol=d,t.computeExportItems=function(e){const t=[];let n=e=>{(null!=e.exportSettings&&e.exportSettings.length>0||d(e))&&t.push(e)},i=e.mirror;if(r.isEmpty(i.sceneGraphSelection)?s.traverse(i.sceneGraph,i.sceneGraph.get(l.currentCanvasNodeId(i.appModel)),n):a.forEachSelectedNode(i.sceneGraph,i.sceneGraphSelection,n),0===t.length)return{items:[],frames:[]};let f=e.fileByKey[e.editingFileKey].name;const g=[],h=[],x=i.sceneGraph;let b=new o,y=new o;for(let r of t){let e=s.getAncestors(i.sceneGraph,r.guid).filter(e=>!e.visible);if(!r.visible||e.length>0)continue;if(d(r)){const e=x.get(r.parent);null!=e&&"CANVAS"===e.type&&h.push({nodeID:r.guid,name:r.name})}let t=r.exportSettings;if(null!=t)for(let n of t){let e=s.getAncestors(i.sceneGraph,r.guid).map(e=>e.name),{name:t,title:l}=m(r.type,r.name,f,e),a=c(r.guid,t,n,y),{filename:o,isDuplicate:d}=u(t,n.suffix,($=n.imageType,p[$]),b);g.push({itemID:a,nodeID:r.guid,title:l,filename:o,exportSetting:n,warning:d?"Name duplicated":void 0,warningTooltip:d?`Renamed to ${o}`:void 0})}}var $;return{items:g,frames:h}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(s){s[s.OFF=0]="OFF",s[s.KEEP_UI=1]="KEEP_UI",s[s.HIDE_UI=2]="HIDE_UI"}(e.ProgressBarMode||(e.ProgressBarMode={})),function(s){s[s.NONE=0]="NONE",s[s.FOR_OPEN=1]="FOR_OPEN",s[s.FOR_MENU=2]="FOR_MENU"}(e.OpenDesktopAppModalMode||(e.OpenDesktopAppModalMode={}));e.SaveStatus=class{constructor(s,e,t){this.statusHTML=s,this.tabCloseText=e,this.hasUnsavedChanges=t}equals(s){return s&&this.statusHTML===s.statusHTML&&this.tabCloseText===s.tabCloseText&&this.hasUnsavedChanges===s.hasUnsavedChanges}},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(o,t,a){o.exports={modalBackground:"modal--modalBackground--sAvTW",tintedModalBackground:"modal--tintedModalBackground--3Lt8K",fixedTop:"modal--fixedTop--16UX_",modal:"modal--modal--35Ed8 modal--modal--OAB3b modal--modalShadow--HbHkT",modalContent:"modal--modalContent--30gqg modal--modalContent--32TRW",title:"modal--title--2yagD modal--title--1kOv4",buttonRow:"modal--buttonRow--JSWAJ modal--buttonRow--23IOU",cancelLink:"modal--cancelLink--RIsG0 modal--cancelLink--2FS5S modal--button--2Xn7t",confirmButton:"modal--confirmButton--12ON3 modal--confirmButton--3Mjew"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),i=o(38,1       ),n=o(199      ),a=o(143              ),r=o(232                        ),p=o(204                                            ),l=o(212                                  ),c=o(345          ),d=o(177                             ),h=400,m=492;class u extends s.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.popStack?this.props.dispatch(r.fileBrowser.popModalStack()):this.props.dispatch(r.fileBrowser.hideModal()),this.props.onHide&&this.props.onHide()}),this.onBackgroundMouseDown=(()=>{this.props.disableClickOutsideToHide||this.hide()}),this.onModalMouseDown=(e=>{e.stopPropagation()}),this.onKeyDown=(e=>{if(e.keyCode===n.Key.ESCAPE&&!this.props.disableClickOutsideToHide)return this.hide(),e.preventDefault(),void e.stopPropagation();this.props.onKeyDown&&this.props.onKeyDown(e)}),this.bgRef=(e=>{e&&!e.contains(document.activeElement)&&e.focus()})}render(){let e=m,t=h;if("small"===this.props.size)e=h;else if("number"==typeof this.props.size){let o=this.props.size;e=o,t=o}let o=c.modalBackground;this.props.tintedModalBackground&&(o=o+" "+c.tintedModalBackground),this.props.fixedTop&&(o=o+" "+c.fixedTop),o=o+" "+d.PREVENT_EVENT_CAPTURE;let i=c.modal;return this.props.className&&(i+=` ${this.props.className}`),s.createElement("div",{tabIndex:0,className:o,onMouseDown:this.onBackgroundMouseDown,onKeyDown:this.onKeyDown,ref:this.bgRef},s.createElement("div",{className:i,style:{maxWidth:e,minWidth:t},onMouseDown:this.onModalMouseDown},(()=>{if(this.props.title)return s.createElement("div",{className:c.title},this.props.title)})(),this.props.children))}}u.displayName="Modal",t.Modal=u;class f extends a.Component{constructor(){super(...arguments),this.onSubmit=a.otherEvent(this,"confirm",e=>{e.preventDefault(),this.hideModal(),this.props.onConfirm()},{playback:()=>({preventDefault:()=>null})}),this.onCancel=a.otherEvent(this,"cancel",e=>{e.preventDefault(),this.hideModal(),this.props.onCancel&&this.props.onCancel()},{playback:()=>({preventDefault:()=>null})}),this.buttonRef=(e=>{e&&i.findDOMNode(e).focus()})}hideModal(){this.props.dontClose||(this.props.popStack?this.props.dispatch(r.fileBrowser.popModalStack()):this.props.dispatch(r.fileBrowser.hideModal()))}render(){const e=this.props.destructive?p.ButtonNegative:p.ButtonPrimary;return s.createElement(u,Object.assign({size:this.props.size||"small"},this.props,{className:this.props.className||c.modal,onHide:this.props.onCancel}),s.createElement(l.TabLoop,null,s.createElement("div",{className:c.title},this.props.confirmationTitle),this.props.children?this.props.children:s.createElement("div",{className:c.modalContent},this.props.content),s.createElement("div",{className:c.buttonRow},s.createElement(p.ButtonSecondary,{className:c.cancelLink,onClick:this.onCancel,ref:this.buttonRef},this.props.cancelText||"Cancel"),s.createElement("form",{onSubmit:this.onSubmit},s.createElement(e,{tabIndex:0,type:"submit",className:c.confirmButton,disabled:this.props.disableConfirm,autoFocus:this.props.autoFocusConfirm},this.props.confirmText)))))}}f.displayName="ConfirmationModal",t.ConfirmationModal=f,f.defaultProps={confirmationTitle:"You sure?",destructive:!1},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(F,A,G){"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.FIGMA_BLACK="#050505",A.FIGMA_DARK_GRAY="#2C2C2C",A.FIGMA_MEDIUM_GRAY="#666666",A.FIGMA_GRAY="#AAAAAA",A.FIGMA_LIGHT_GRAY="#D4D4D4",A.FIGMA_LIGHT_LIGHT_GRAY="#EFEFEF",A.FIGMA_LIGHTEST_GRAY="#F8F8F8",A.FIGMA_WHITE="#FCFCFC",A.FIGMA_BLUE="#30C2FF",A.FIGMA_LIGHT_BLUE="#A4D9FD",A.FIGMA_GREEN="#3EC28F",A.FIGMA_RED="#F24822",A.FIGMA_ORANGE="#FF6D30",A.WHITE="#FFFFFF",F.exports instanceof Function&&(F.exports.default=F.exports)}),
(function(a,t,r){a.exports={root:"avatar--root--2kH_E",avatarBellWrapper:"avatar--avatarBellWrapper--1uQ1b",bell:"avatar--bell--2YDqE",avatarWithHandle:"avatar--avatarWithHandle--2G2Vu",avatar:"avatar--avatar--rj2Q0",info:"avatar--info--6fmV-",handle:"avatar--handle--fICEU",email:"avatar--email--F5k8l"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),i=s(347                         ),r=s(348           );class l extends a.Component{constructor(e){super(e),this.fallbackName=(()=>this.props.entity.handle||this.props.entity.name||"?"),this.fallbackColor=(()=>{const e=[i.FIGMA_GREEN,i.FIGMA_ORANGE,i.FIGMA_GRAY,i.FIGMA_RED];try{let s=this.props.entity.id.slice(this.props.entity.id.length-4);return e[parseInt(s)%e.length]}catch(t){return i.FIGMA_ORANGE}}),this.imgRef=(e=>{e&&e.addEventListener("error",()=>{this.setState({useFallback:!0})})}),this.state={useFallback:!1}}render(){const e=this.props.size,t=this.props.entity.img_url||this.props.entity.imageURL;if(t&&!this.state.useFallback)return a.createElement("img",{ref:this.imgRef,className:`${r.root} ${this.props.className||""}`,style:e?{width:`${e}px`,height:`${e}px`}:null,src:t});{let t={background:this.fallbackColor()};return e&&(t.width=`${e}px`,t.height=`${e}px`,t.lineHeight=`${e}px`,t.fontSize=`${e/2}px`),a.createElement("span",{className:`${r.root} ${this.props.className||""}`,style:t},this.fallbackName()[0])}}}l.displayName="Avatar",t.Avatar=l;class n extends a.Component{constructor(e){super(e),this.state={useFallback:!1}}render(){const e=this.props.size,t=Math.round(e/4)+1,s=Math.round(t/5);return a.createElement("span",{className:r.avatarBellWrapper,style:e?{width:`${e}px`,height:`${e}px`}:null},a.createElement("div",{className:r.bell,style:e?{width:`${t}px`,height:`${t}px`,top:`-${s}px`,right:`-${s}px`}:null}),a.createElement(l,{entity:this.props.entity,size:this.props.size}))}}n.displayName="AvatarWithBell",t.AvatarWithBell=n;class p extends a.PureComponent{constructor(){super(...arguments),this.fallbackName=(()=>this.props.entity.handle||this.props.entity.name||"?")}render(){return a.createElement("div",{className:`${r.avatarWithHandle} ${this.props.className||""}`},a.createElement(l,{entity:this.props.entity,size:this.props.size}),a.createElement("div",{className:r.info},a.createElement("span",{className:r.handle},this.fallbackName(),""),this.props.includeUserEmailAddress&&this.props.entity.email&&a.createElement("div",{className:r.email},this.props.entity.email,"")))}}p.displayName="AvatarWithHandle",t.AvatarWithHandle=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,a){o.exports={button:"modal--button--2Xn7t",confirmButton:"modal--confirmButton--3Mjew",primaryButtonLink:"modal--primaryButtonLink--1h8YF",disabledButton:"modal--disabledButton--zDN81",cancelLink:"modal--cancelLink--2FS5S modal--button--2Xn7t",list:"modal--list--jxIXF",left:"modal--left--t5YdU",blueLink:"modal--blueLink--3juZ6 blue_link--blueLink--22X56",buttonRow:"modal--buttonRow--23IOU",forgotLink:"modal--forgotLink--gSnd1",modalShadow:"modal--modalShadow--HbHkT",modal:"modal--modal--OAB3b modal--modalShadow--HbHkT",modalContent:"modal--modalContent--32TRW",welcome:"modal--welcome--t-jkm modal--modalContent--32TRW",exportIcon:"modal--exportIcon--3R1s1",important:"modal--important--1ZRxD",title:"modal--title--1kOv4",textInput:"modal--textInput--q3dSz",tfaQrCode:"modal--tfaQrCode--2CnQd",error:"modal--error--1qUJ1",code:"modal--code--1XI4A",codes:"modal--codes--2b2Kp",avatarWithHandle:"modal--avatarWithHandle--EUAc2"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),r=a(232                        ),i=a(346                                 ),n=a(204                                            ),o=a(349                            ),c=a(350          );class l extends s.PureComponent{constructor(){super(...arguments),this.cancel=(e=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){const e=this.props.share?"shared":"opened";return s.createElement(i.Modal,{title:`File cannot be ${e}`,dispatch:this.props.dispatch},s.createElement(o.AvatarWithHandle,{className:c.avatarWithHandle,entity:this.props.user,includeUserEmailAddress:!0}),"This file cannot be ",e," because it's in the ",s.createElement("span",{className:c.important},"Drafts")," of a ",s.createElement("span",{className:c.important},"Restricted")," user. Please contact your Org admin for further assistance.",s.createElement("div",{className:c.buttonRow},s.createElement(n.ButtonPrimary,{onClick:this.cancel},"OK")))}}l.displayName="ViewRestrictedFileModal",t.ViewRestrictedFileModal=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(232                        ),n=a(0                    ),r=10;function o(e=null,t){return t.type===s.fileBrowser.INIT?n.initialOptions().user_data||null:s.user.put.matches(t)?e.id===t.payload.user.id?Object.assign({},e,t.payload.user):e:s.user.eraseSecrets.matches(t)?e?Object.assign({},e,{two_factor_secret_loaded:!1,password_token:null,temp_phone:null,phone_token:null,backup_codes:null}):null:s.user.putPreferences.matches(t)?Object.assign({},e,{preferences:Object.assign({},e.preferences,t.payload.preferences)}):s.user.toggleTwoFactor.matches(t)?Object.assign({},e,{two_factor_app_enabled:t.payload.enabled}):s.user.logOut.matches(t)?e?Object.assign({},e,{appData:Object.assign({},e.appData,{loggedOut:!0})}):e:s.user.deleteUserLoading.matches(t)?Object.assign({},e,{delete_user_loading:t.payload.loading}):e}t.inGracePeriod=function(e){let t=new Date(e.created_at).getTime(),a=864e5*r;return(new Date).getTime()-t<a},t.isUserLoggedOut=function(e){return e&&e.appData&&e.appData.loggedOut},t.formatUserHandle=function(e,t){return t&&t.id===e.id?"You":e.handle},t.user=o,t.default=o,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,a){o.exports={modal:"auth_modal--modal--Sg5hJ"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=a(34,1   ),s=a(346                                 ),r=a(331               ),h=a(300                      ),i=a(212                                  ),p=a(353               );class l extends o.Component{headerText(t){const e=t?`"${t}"`:"this file";let a;return a=this.props.auth.formState===h.AuthFormState.SIGN_IN?`Sign in to collaborate on ${e}`:`Create an account to collaborate on ${e}`,this.props.headerText?this.props.headerText:a}render(){const t=this.props.file&&this.props.file.name;return o.createElement(s.Modal,{className:p.modal,size:420,disableClickOutsideToHide:this.props.auth.formState===h.AuthFormState.SIGN_UP_EXTRA_INFO,dispatch:this.props.dispatch},o.createElement(i.TabLoop,null,o.createElement(r.AuthView,{id:"auth-view-modal",auth:this.props.auth,modal:!0,dispatch:this.props.dispatch,header:this.headerText(t)})))}}l.displayName="AuthModal",e.AuthModal=l,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(n,t,i){n.exports={buttonContainer:"email_validation_modal--buttonContainer--1Iuou",instructions:"email_validation_modal--instructions--ax5m3",settingsLink:"email_validation_modal--settingsLink--1Uek0 blue_link--blueLink--22X56"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(232                        ),a=t(34,1   ),n=t(355                           ),l=t(346                                 ),o=t(204                                            );class r extends a.Component{constructor(e){super(e),this.state={validationEmailResent:!1}}onClickUpdateEmail(e){e.preventDefault(),this.props.dispatch(s.fileBrowser.selectView({userId:this.props.user.id}))}onClickResend(e){e.preventDefault(),this.state.validationEmailResent||(this.setState({validationEmailResent:!0}),this.props.dispatch(s.user.sendValidationEmail()))}render(){return a.createElement(l.Modal,Object.assign({disableClickOutsideToHide:!0,title:"Please confirm your email address",size:"medium"},this.props),a.createElement("div",{className:n.instructions},`To continue using Figma, please click the confirmation link in the email we sent to\n          ${this.props.user.email}. Check your spam folder if the email isn't showing up in your\n          inbox.`,a.createElement("br",null),a.createElement("br",null),"If you need to update your email address, you can visit ",a.createElement("a",{onClick:this.onClickUpdateEmail.bind(this),className:n.settingsLink},"the settings page"),"."),!this.state.validationEmailResent&&a.createElement("div",{className:n.buttonContainer},a.createElement(o.ButtonPrimary,{onClick:this.onClickResend.bind(this)},"Resend Email")))}}r.displayName="EmailValidationModal",i.EmailValidationModal=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(173                        );function l(e,t,n=!1,l){let r=Object.assign({},e);if(!n)return r;for(let o in e)o in t.fileByKey&&(i.canManageFile(o,t,l)||delete r[o]);return r}function r(e,t){return t.fileByKey[e].trashed_at}t.isTrashed=r,t.getDeleteFilesPayload=function(e,t,n=!1){let i=l(e,t,n,!0),o={};for(let l in i)r(l,t)||(o[l]=t.fileByKey[l]);return o},t.getDeleteFilesForeverPayload=function(e,t,n=!1){let o=l(e,t,n,!0),f={};for(let i in o)r(i,t)&&(f[i]=!0);for(let l in e)null===t.fileByKey[l].folder_id&&i.canEditFile(l,t,!0)&&(f[l]=!0);return f},t.getRestoreFilesPayload=function(e,t,n=!1){let i=l(e,t,n,!0),o={};for(let l in i)l in t.fileByKey&&r(l,t)&&t.fileByKey[l].folder_id&&(o[l]=t.fileByKey[l]);return o},t.getFilesToDeselect=function(e){const t={};for(const n in e)t[n]=!0;return t},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),i=s(232                        ),o=s(357                  ),l=s(346                                 ),n=s(350          );class a extends r.Component{constructor(){super(...arguments),this.deleteFileForever=(()=>{let e=o.getDeleteFilesForeverPayload(this.props.fileSelect.selectedFileKeys,this.props,!0);0!==Object.keys(e).length?(this.props.dispatch(i.file.deleteFilesForever(e,!0)),this.props.dispatch(i.file.deselectFiles(e))):this.props.dispatch(i.flash.error("You don't have permission to delete these files forever."))})}render(){let e=Object.keys(this.props.fileSelect.selectedFileKeys).length;if(0===e)return null;let t=this.props.fileByKey[Object.keys(this.props.fileSelect.selectedFileKeys)[0]],s=1===e?`'${t.name}'`:`${e} files`;return r.createElement(l.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Delete forever",confirmText:"Delete "+(e>1?s:"")+" forever",onConfirm:this.deleteFileForever},this.props),r.createElement("span",{className:n.important},"Are you sure you want to delete ",s," forever? "),"You can't undo this action.")}}a.displayName="DeleteForeverConfirmModal",t.DeleteForeverConfirmModal=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),o=s(232                        ),i=s(346                                 ),l=s(204                                            ),n=s(350          );class r extends a.Component{constructor(){super(...arguments),this.inputRef=(e=>{e&&(e.focus(),e.select())}),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){let e=this.props.modal;return a.createElement(i.Modal,Object.assign({size:"small",className:n.modal},this.props),a.createElement("div",null,"Copy link to share this file:"),a.createElement("input",{className:n.textInput,value:e.data.link,readOnly:!0,ref:this.inputRef}),a.createElement("div",{className:n.buttonRow},a.createElement(l.ButtonPrimary,{className:n.confirmButton,onClick:this.hideModal},"Done")))}}r.displayName="FileCopyLinkModal",t.FileCopyLinkModal=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=n(34,1   ),a=n(346                                 );class r extends t.Component{render(){let e=this.props.modal;return t.createElement(a.ConfirmationModal,Object.assign({content:e.data.message,confirmText:"Move",onConfirm:e.data.onConfirm,onCancel:e.data.onCancel},this.props))}}r.displayName="FileMoveConfirmModal",o.FileMoveConfirmModal=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),i=o(232                        ),l=o(346                                 ),r=o(350          );class n extends s.Component{deleteFolder(e){this.props.dispatch(i.folder.del(e,!0))}numFilesInFolder(e){return this.props.fileKeysByFolderId[e].length}render(){let e=this.props.modal,t=this.props.folders[e.data.folderId],o=this.numFilesInFolder(t.id);return s.createElement(l.ConfirmationModal,Object.assign({confirmationTitle:"Delete project",destructive:!0,confirmText:"Delete project",onConfirm:this.deleteFolder.bind(this,t)},this.props),s.createElement("span",{className:r.important},'Are you sure you want to delete "',t.name,'"? '),o>0&&`This will also delete ${o} ${1===o?"file":"files"} in this project. `,"You can't undo this action.")}}n.displayName="FolderDeleteConfirmModal",t.FolderDeleteConfirmModal=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return"data:image/svg+xml;base64,"+btoa(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=l(362                   );e.default=function(){return t.default('\n    <svg width="32" height="32" viewBox="0 0 32 32" version="2.0" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:figma="http://www.figma.com/figma/ns">\n    <title>slack</title>\n    <desc>Created using Figma (9000)</desc>\n    <g id="Canvas" figma:type="canvas">\n    <g id="slack" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path0_fill" transform="translate(0 3.82562)" fill="#70CADB" style="mix-blend-mode:normal;"/>\n    </g>\n    </g>\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path1_fill" transform="translate(3.76455 14.9257)" fill="#E01765" style="mix-blend-mode:normal;"/>\n    </g>\n    </g>\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path2_fill" transform="translate(14.9883 -1.42109e-14)" fill="#E8A723" style="mix-blend-mode:normal;"/>\n    </g>\n    </g>\n    <g id="g" style="mix-blend-mode:normal;" figma:type="group">\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path3_fill" transform="translate(3.75006 3.80727)" fill="#3EB890" style="mix-blend-mode:normal;"/>\n    </g>\n    </g>\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path4_fill" transform="translate(19.9015 16.146)" fill="#CC2027" style="mix-blend-mode:normal;"/>\n    </g>\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path5_fill" transform="translate(8.66822 19.9662)" fill="#361238" style="mix-blend-mode:normal;"/>\n    </g>\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path6_fill" transform="translate(16.1648 4.99483)" fill="#65863A" style="mix-blend-mode:normal;"/>\n    </g>\n    <g id="path" style="mix-blend-mode:normal;" figma:type="vector">\n    <use xlink:href="#path7_fill" transform="translate(4.92153 8.78397)" fill="#1A937D" style="mix-blend-mode:normal;"/>\n    </g>\n    </g>\n    </g>\n    </g>\n    </g>\n    </g>\n    <defs>\n    <path id="path0_fill" d="\n    M 2.72373 13.1135\n    C 1.52974 13.1227 0.518313 12.407 0.145384 11.2899\n    C 0.13104 11.2466 0.118653 11.2046 0.1067 11.1624\n    C -0.299698 9.73187 0.488322 8.23527 1.90072 7.75609\n    L 24.5547 0.12164\n    C 24.83 0.0422851 25.1073 0.00184259 25.382 9.37248e-05\n    C 26.6077 -0.00952503 27.647 0.721937 28.029 1.86263\n    L 28.0629 1.97281\n    C 28.4867 3.46284 27.4338 4.79286 26.1722 5.21914\n    C 26.1713 5.2198 25.9419 5.29784 3.64388 12.9559\n    C 3.34245 13.0589 3.0332 13.1109 2.72373 13.1135\n    Z"/>\n    <path id="path1_fill" d="\n    M 2.7352 13.2204\n    C 1.53187 13.2291 0.516966 12.5235 0.148383 11.4224\n    C 0.134474 11.3804 0.121217 11.3382 0.109264 11.2958\n    C -0.302784 9.84816 0.484367 8.33583 1.90154 7.85598\n    L 24.5564 0.15158\n    C 24.8491 0.053206 25.1514 0.00292621 25.4554 8.43088e-05\n    C 26.662 -0.00909723 27.7221 0.732421 28.0962 1.84601\n    L 28.1309 1.96187\n    C 28.3498 2.73159 28.2205 3.59662 27.7854 4.27934\n    C 27.4611 4.78694 26.4384 5.23378 26.4384 5.23378\n    L 3.69752 13.0554\n    C 3.38066 13.1618 3.05749 13.218 2.7352 13.2208\n    L 2.7352 13.2204\n    L 2.7352 13.2204\n    Z"/>\n    <path id="path2_fill" d="\n    M 10.37 28.1948\n    C 9.16171 28.2042 8.09182 27.4373 7.70672 26.2879\n    L 0.145986 3.69696\n    L 0.108171 3.57017\n    C -0.301487 2.12954 0.486316 0.626828 1.89828 0.148076\n    C 2.1808 0.0525448 2.47288 0.00270214 2.76692 7.88394e-05\n    C 3.20375 -0.00320028 3.62644 0.0958291 4.02458 0.293669\n    C 4.69025 0.627047 5.18814 1.20089 5.42611 1.90962\n    L 12.9862 24.4986\n    L 13.0081 24.5712\n    C 13.4328 26.0669 12.6467 27.5705 11.2348 28.0492\n    C 10.9551 28.143 10.6639 28.1922 10.37 28.1948\n    Z"/>\n    <path id="path3_fill" d="\n    M 10.3698 28.1926\n    C 9.16143 28.202 8.09067 27.4352 7.70535 26.2842\n    L 0.146574 3.69413\n    C 0.133535 3.65259 0.120495 3.61106 0.107891 3.56843\n    C -0.30068 2.12824 0.484732 0.625308 1.89626 0.14612\n    C 2.17769 0.0521182 2.46869 0.00249417 2.7623 8.94823e-05\n    C 3.97084 -0.00952927 5.04095 0.757129 5.42605 1.90701\n    L 12.985 24.498\n    C 12.9992 24.5373 13.012 24.5808 13.0235 24.6223\n    C 13.433 26.0636 12.6471 27.5674 11.2334 28.0466\n    C 10.9526 28.1408 10.6621 28.19 10.3689 28.1924\n    L 10.3698 28.1924\n    L 10.3698 28.1926\n    Z"/>\n    <path id="path4_fill" d="\n    M 1.72947 6.96135\n    L 7.00134 5.14822\n    L 5.27795 0\n    L 0 1.79412\n    L 1.72947 6.96135\n    Z"/>\n    <path id="path5_fill" d="\n    M 1.74164 7.00048\n    L 7.01308 5.18757\n    L 5.27665 0\n    L 0 1.79477\n    L 1.74164 7.00048\n    Z"/>\n    <path id="path6_fill" d="\n    M 1.71296 6.89883\n    L 6.98526 5.0881\n    L 5.28208 0\n    L 0 1.78012\n    L 1.71296 6.89883\n    Z"/>\n    <path id="path7_fill" d="\n    M 1.73382 6.96376\n    L 7.00612 5.15303\n    L 5.28208 0\n    L 0 1.77991\n    L 1.73382 6.96376\n    Z"/>\n    </defs>\n    </svg>\n  ')},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(34,1   ),s=a(38,1       ),n=a(232                        ),i=a(166                         ),l=a(363                     ),c=a(346                                 ),r=a(204                                            ),m=a(350          );class d extends o.Component{constructor(){super(...arguments),this.focusButtonRef=(e=>{e&&s.findDOMNode(e).focus()}),this.turnOffNotifications=(()=>{let e=this.props.modal,t=this.props.folders[e.data.folderId];this.props.dispatch(n.folder.turnOffSlackNotifications(t)),this.props.dispatch(n.fileBrowser.hideModal())}),this.hide=(()=>this.props.dispatch(n.fileBrowser.hideModal()))}render(){let e=this.props.modal,t=this.props.folders[e.data.folderId],a=i.getFolderName(t),s=i.getSlackChannelName(t);return s?o.createElement(c.Modal,Object.assign({size:400,className:m.modal},this.props),o.createElement("img",{src:l.default(),style:{marginBottom:24}}),o.createElement("div",{className:m.title},"Notifications are going to ",s," on ",i.getSlackTeamName(t)),o.createElement("div",{className:m.modalContent},"Whenever someone comments on a file in the ",a," project, a notification will be posted to this channel."),o.createElement("div",{className:m.buttonRow},o.createElement(r.Link,{className:m.left,href:i.getWebhookUrl(t),ref:this.focusButtonRef},"Change channel..."),o.createElement(r.ButtonSecondary,{onClick:this.turnOffNotifications,className:m.button},"Turn off notifications"),o.createElement(r.ButtonPrimary,{onClick:this.hide,className:m.confirmButton},"Done"))):o.createElement(c.Modal,Object.assign({size:"small",className:m.modal},this.props),o.createElement("img",{src:l.default(),style:{marginBottom:24}}),o.createElement("div",{className:m.title},"Get notifications in Slack"),o.createElement("div",{className:m.modalContent},"Choose a slack channel to notify whenever someone comments on a file in the ",a," project. Notifications are encrypted."),o.createElement("div",null,o.createElement("div",{className:m.buttonRow},o.createElement(r.ButtonSecondary,{className:m.cancelLink,onClick:this.hide,ref:this.focusButtonRef},"Cancel"),o.createElement(r.ButtonLink,{className:m.primaryButtonLink,href:i.getWebhookUrl(t)},"Choose a channel..."))))}}d.displayName="FolderSlackSettingsModal",t.FolderSlackSettingsModal=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(34,1   ),n=o(346                                 ),s=o(350          );class r extends a.Component{render(){let e=this.props.modal,t=e.data.folder,o=this.props.teams[t.team_id];const r=e.data.destinationTeam;return a.createElement(n.ConfirmationModal,Object.assign({content:a.createElement("span",null,"Are you sure you want to move ",a.createElement("span",{className:s.important},t.name)," to ",a.createElement("span",{className:s.important},r.name),"? Members of ",a.createElement("span",{className:s.important},o.name)," will no longer be able to access this project, unless you explicitly invite them."),confirmText:"Move Project",confirmationTitle:"Are you sure you want to move this project?",onConfirm:e.data.onConfirm},this.props))}}r.displayName="TeamFolderMoveConfirmModal",t.TeamFolderMoveConfirmModal=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(346                                 );class i extends s.Component{constructor(){super(...arguments),this.getUsers=(()=>{const e=this.props.usersWithoutFileAccess;if(1===e.length)return e[0];if(2===e.length)return e.join(" and ");{const e=[...this.props.usersWithoutFileAccess],t=e.length-1;return e[t]=`and ${e[t]}`,e.join(", ")}})}render(){const e=1===this.props.usersWithoutFileAccess.length;let t=`${this.getUsers()} ${e?"doesnt":"dont"} currently have access to this file. Would you like to give them view only access?`;this.props.selectedView.prototype&&(t=`${this.getUsers()} ${e?"doesnt":"dont"} currently have access to this prototype. Would you like to give them view only access to this prototype and the file it's derived from?`);const o=e?"The person you mentioned needs access":"The people you mentioned need access";return s.createElement(n.ConfirmationModal,Object.assign({confirmationTitle:o,content:t,onConfirm:this.props.onConfirm,onCancel:this.props.onCancel,confirmText:"Share and comment",size:"small"},this.props))}}i.displayName="CommentMentionConfirmModal",t.CommentMentionConfirmModal=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(34,1   ),s=o(232                        ),i=o(346                                 );class r extends n.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.dispatch(s.comments.del({comment:this.props.comment,userInitiated:!0}))})}render(){return n.createElement(i.ConfirmationModal,Object.assign({size:400,content:"Are you sure you want to delete this comment? This will delete all of its replies as well.",onConfirm:this.onConfirm,confirmText:"Delete"},this.props))}}r.displayName="CommentDeleteConfirmModal",t.CommentDeleteConfirmModal=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(232                        ),n=a(204                                            ),i=a(346                                 ),l=a(350          );t.MultiplayerConnectionErrorModal=(e=>{const t=e.modalShown.data;return s.createElement(i.Modal,Object.assign({size:"small",className:l.modal},e),s.createElement("div",{className:l.title},t.title),s.createElement("div",{className:l.modalContent},t.message),s.createElement("div",{className:l.buttonRow},s.createElement(n.ButtonPrimary,{className:l.confirmButton,onClick:()=>{e.dispatch(o.fileBrowser.hideModal())}},"Dismiss")))}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),l=s(232                        ),o=s(346                                 );class r extends i.Component{constructor(){super(...arguments),this.deleteFiles=(()=>{this.props.dispatch(l.file.deleteFiles(this.props.filesToDeleteByKey,!0)),this.props.dispatch(l.file.resetFileSelection())})}render(){const e=Object.keys(this.props.filesToDeleteByKey),t=e.length;if(0===t)return null;let s,l,r;if(1===t){l=`Are you sure you want to delete ${s=this.props.filesToDeleteByKey[e[0]].name}? Its published components will disappear from the Team Library.`,r=`Delete ${s}`}else l=`Are you sure you want to delete these ${s=`${t} files`}? Their published components will disappear from the Team Library.`,r="Delete";return i.createElement(o.ConfirmationModal,Object.assign({content:l,confirmText:r,onConfirm:this.deleteFiles},this.props))}}r.displayName="DeleteFilesUnpublishWarning",t.DeleteFilesUnpublishWarning=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.pxToInt=function(t){return parseInt(t.split("px")[0])},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(E,N,S){"use strict";Object.defineProperty(N,"__esModule",{value:!0}),N.NO_TEAM_ID="NO_TEAM",function(E){E[E.COMPONENT=0]="COMPONENT",E[E.STYLE=1]="STYLE"}(N.LibraryItemType||(N.LibraryItemType={})),function(E){E[E.NEW=0]="NEW",E[E.CURRENT=1]="CURRENT",E[E.CHANGED=2]="CHANGED",E[E.DELETED=3]="DELETED",E[E.NOT_STAGED=4]="NOT_STAGED",E[E.CAN_UPGRADE=5]="CAN_UPGRADE"}(N.LibraryStatus||(N.LibraryStatus={})),function(E){E[E.UPDATES_AVAILABLE=0]="UPDATES_AVAILABLE",E[E.PUBLISH_SUCCESS=1]="PUBLISH_SUCCESS",E[E.PUBLISH_ERROR=2]="PUBLISH_ERROR",E[E.PUBLISHED_COMPONENT_DELETED=3]="PUBLISHED_COMPONENT_DELETED",E[E.PUBLISHED_COMPONENT_UPDATED=4]="PUBLISHED_COMPONENT_UPDATED"}(N.ComponentNotificationType||(N.ComponentNotificationType={})),function(E){E[E.NONE=0]="NONE",E[E.ASSEMBLING_COMPONENTS=1]="ASSEMBLING_COMPONENTS",E[E.UPLOADING=2]="UPLOADING"}(N.PublishProgressState||(N.PublishProgressState={})),function(E){E[E.LIBRARIES=0]="LIBRARIES",E[E.FONTS=1]="FONTS",E[E.UPDATES=2]="UPDATES"}(N.LibraryPreferencesModalTab||(N.LibraryPreferencesModalTab={})),E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=r(180       );t.comparePositions=function(e,t){return+(e<t)-+(e>t)};const n=32,s=126;function a(e){if(""===e||e.charCodeAt(e.length-1)==n)return!1;for(let t=0;t<e.length;t++){const r=e.charCodeAt(t);if(r<n||r>s)return!1}return!0}t.FIRST_POSITION=String.fromCharCode(n+1),t.positionBefore=function(e){o.assertDev(0!==e.length,"");let t=e.length-1,r=t;for(;r>=0;){let t=e.charCodeAt(r);if(t>n+1){let n=e.substr(0,r)+String.fromCharCode(t-1);return o.assertDev(a(n),""),n}r--}let i=e.substr(0,t)+String.fromCharCode(n)+String.fromCharCode(s);return o.assertDev(a(i),""),i},t.positionAfter=function(e){o.assertDev(0!==e.length,"");let t=e.length-1;for(;t>=0;){let r=e.charCodeAt(t);if(r<s){let n=e.substr(0,t)+String.fromCharCode(r+1);return o.assertDev(a(n),""),n}t--}let r=e+String.fromCharCode(n+1);return o.assertDev(a(r),""),r},t.positionBetween=function(e,t){o.assertDev(e<t,"");let r=e.length,i=t.length,f=!1,C="";for(let o=0,a=Math.max(r,i);o<a;o++){let a=o<r?e.charCodeAt(o):n,h=o<i&&!f?t.charCodeAt(o):s;if(a==h)C+=String.fromCharCode(a);else{if(h-a>1){C+=String.fromCharCode(a+h>>1),f=!1;break}C+=String.fromCharCode(a),f=!0}}return f&&(C+=String.fromCharCode(n+s>>1)),o.assertDev(e<C,""),o.assertDev(C<t,""),o.assertDev(a(C),""),C},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.inheritedStyle=(e=>{switch(e){case"inheritTextStyleKey":return"TEXT";case"inheritFillStyleKey":case"inheritFillStyleKeyForStroke":case"inheritFillStyleKeyForBackground":return"FILL";case"inheritEffectStyleKey":return"EFFECT";case"inheritGridStyleKey":return"GRID";case"inheritExportStyleKey":return"EXPORT"}}),t.STYLE_PREFIX="S:";const n=",";function i(e){return!!e&&!!e.key}t.isValidStyleKey=i,t.looksLikeStyleKey=function(e){return e.startsWith(t.STYLE_PREFIX)},t.styleKeyToString=function(e){return i(e)?`${t.STYLE_PREFIX}${e.key}${n}${e.version||""}`:""},t.styleKeyFromString=function(e){if(!e)return null;const r=e.substring(t.STYLE_PREFIX.length).split(n);if(!r||2!==r.length)return null;const i=r[0],l=r[1];return i?{key:i,version:l}:null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(372           ),n=r(371                       ),i=r(286                                              ),o=r(373                              ),l=r(287       ),a=r(173            );function y(e){const t=[];return Object.keys(e).forEach(r=>{Object.keys(e[r]).forEach(s=>{Object.keys(e[r][s]).forEach(n=>{t.push(e[r][s][n])})})}),t}t.isPublished=(e=>e===n.LibraryStatus.CURRENT||e===n.LibraryStatus.CHANGED||e===n.LibraryStatus.DELETED||e===n.LibraryStatus.CAN_UPGRADE),t.willChange=(e=>e===n.LibraryStatus.NEW||e===n.LibraryStatus.CHANGED||e===n.LibraryStatus.DELETED||e===n.LibraryStatus.CAN_UPGRADE),t.hasPendingItemChanges=(e=>{for(let r in e){const s=e[r];if(t.willChange(s.status))return!0}return!1}),t.hasPendingChanges=(e=>t.hasPendingItemChanges(e.local.styles)||t.hasPendingItemChanges(e.local.components)),t.getExternalStyle=((e,t,r)=>{if(!t)return null;for(const s in e)for(const n in e[s])if(n!==r)for(const r in e[s][n]){const i=e[s][n][r];if(i.key===t)return i}return null}),t.publishedLibraryItemsForFile=((e,t)=>{const r=t.team_id||n.NO_TEAM_ID,s=e[r]&&e[r][t.key]||Object.create(null);let i=Object.create(null);for(const n in s)null==s[n].unpublished_at&&(i[n]=s[n]);return i}),t.publishedLibraryItemsForFileAsList=((e,r)=>{const s=t.publishedLibraryItemsForFile(e,r);return Object.keys(s).map(e=>s[e])}),t.flattenLibraryItems=y,t.getNumLibraryItems=(e=>y(e).length),t.numUpdates=function(e){return t.getNumLibraryItems(e.updates.components)+t.getNumLibraryItems(e.updates.styles)},t.numSelected=function(e,t,r){let s=0;for(let n in e){const o=e[n];o.deletedFromSceneGraph||i.isSelected(r,t,o.node_id)&&s++}return s},t.localComponentsAsSortedList=(e=>{return Object.keys(e).map(t=>e[t]).sort((e,t)=>e.name<t.name?-1:e.name>t.name?1:e.node_id<t.node_id?-1:1)}),t.localLibraryItemsExcludingDeleted=(e=>{return Object.keys(e).map(t=>e[t]).filter(e=>!e.deletedFromSceneGraph)}),t.getComponentsToPublish=(e=>{let t=Object.create(null);for(const r in e){const s=e[r].status;s!==n.LibraryStatus.NEW&&s!==n.LibraryStatus.CHANGED&&s!==n.LibraryStatus.DELETED&&s!==n.LibraryStatus.CAN_UPGRADE||(t[r]=e[r])}return t}),t.getStylesOfType=((e,t)=>{const r=[];for(let s in e){const n=e[s];n.style_type===t&&r.push(n)}return r}),t.getLocalStylesOfType=((e,t)=>{const r=[];for(let s in e){const n=e[s];n.style_type!==t||n.deletedFromSceneGraph||r.push(n)}return r}),t.getSubscribedLibraryItems=((e,r,s)=>{const n=[];for(const i in r)for(const o in r[i]){const l={team_id:i,key:o};if(t.isFileSubscribedTo(e,s,l))for(const e in r[i][o]){const t=r[i][o][e];n.push(t)}}return n}),t.getSubscribedStylesByFileOfType=((e,r,s,n)=>{const i={};for(const o in e.published.styles)for(const l in e.published.styles[o]){if(l===s.key)continue;const a=e.published.styles[o][l],y={team_id:o,key:l};if(t.isFileSubscribedTo(e,s,y)){const e=t.getStylesOfType(a,r);e.length>0&&(i[l]=e)}else if(n)for(const e in a){const t=a[e];if(t.key===n){i[l]=[t];break}}}return i}),t.hasStylesOfType=((e,t)=>{const r=e.published.styles;for(let n in r)for(let e in r[n])for(let s in r[n][e]){const i=r[n][e][s];if(i.style_type===t&&!i.unpublished_at)return!0}const s=e.local.styles;for(let n in s){if(s[n].style_type===t)return!0}return!1}),t.allStyleTypes=["TEXT","FILL","EFFECT","GRID"];const c={TEXT:"Text",FILL:"Color",EFFECT:"Effect",GRID:"Grid"};t.styleTypeToStylesHeader=(e=>t.styleTypeToStyleHeader(e)+"s"),t.styleTypeToStyleHeader=(e=>e in c?c[e]+" Style":e[0]+e.slice(1).toLowerCase()+" Style"),t.inheritStyleKeyFieldToStyleHeader=(e=>{let r="";if("inheritFillStyleKeyForStroke"===e)r="Stroke Color Style";else if("inheritFillStyleKeyForBackground"===e)r="Background Color Style";else if("inheritFillStyleKey"===e)r="Fill Color Style";else{const s=o.inheritedStyle(e);r=t.styleTypeToStyleHeader(s)}return r}),t.styleTypeToStyleHeaderWithArticle=(e=>{const r=t.styleTypeToStyleHeader(e);return`${-1===["a","e","i","o","u"].indexOf(r[0].toLowerCase())?"a":"an"} ${r}`}),t.isCurrentOrgSubscribedTo=((e,t)=>!!t&&t.key in e.subscriptions.forCurrentOrg),t.isTeamSubscribedTo=((e,r,s)=>{if(!s)return!1;let n=t.isCurrentOrgSubscribedTo(e,s);const i=e.subscriptions.byTeam[r]||{};return s.key in i&&(n=!!i[s.key]),n}),t.isCurrentUserSubscribedTo=((e,t)=>!!t&&!!e.subscriptions.forCurrentUser[t.key]),t.isAnyTeamSubscribedTo=((e,r)=>{for(const s in e.subscriptions.byTeam)if(t.isTeamSubscribedTo(e,s,r))return!0;return!1}),t.isFileSubscribedTo=((e,r,s)=>{if(!r||!s)return!1;if(r.key===s.key)return!1;let n=!1;n=r.team_id?t.isTeamSubscribedTo(e,r.team_id,s):t.isAnyTeamSubscribedTo(e,s)||t.isCurrentUserSubscribedTo(e,s);const i=e.subscriptions.byFile;return r.key in i&&s.key in i[r.key]&&(n=i[r.key][s.key]),n}),t.sortStylesByPosition=(e=>{e.sort((e,t)=>-s.comparePositions(e.sort_position,t.sort_position))}),t.sortStylesByTypeAndPosition=(e=>{const r=new Map;for(let t of e){const e=r.get(t.style_type);e?e.push(t):r.set(t.style_type,[t])}let s=[];return t.allStyleTypes.forEach(e=>{const n=r.get(e);n&&(t.sortStylesByPosition(n),s=s.concat(n))}),s}),t.sortComponentsByPageAndFrameAndName=(e=>{const t=[...e],r=e=>e&&e.toLowerCase?e.toLowerCase():"";return t.sort((e,t)=>{const s=e.containing_frame||{},n=t.containing_frame||{};return s.pageId!==n.pageId?r(s.pageName)<r(n.pageName)?-1:1:s.nodeId!==n.nodeId?r(s.name)<r(n.name)?-1:1:r(e.name)<r(t.name)?-1:1}),t}),t.getOtherUsedComponents=((e,t=[],r,s)=>{const i=[];for(let o of t){const t=e.get(o);if(!t)continue;const a=e.get(t.parent);if(!a)continue;const y=a.sharedSymbolReference;if(!y)continue;const c=y.fileKey,u=s[c];if(!u)continue;const b=u.team_id||n.NO_TEAM_ID,d=l.toString(y.symbolID),p=((r.published.components[b]||{})[c]||{})[d];p&&i.push(p)}return i}),t.fileCanWriteToLibrary=((e,t)=>a.canEditFile(e&&e.key,t)),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,n,o){r.exports={clipContainer:"scroll_container--clipContainer--2PG4d",scrollContainer:"scroll_container--scrollContainer--1eEK2",innerScrollContainer:"scroll_container--innerScrollContainer--21gfN",noScrollContainer:"scroll_container--noScrollContainer--2jECL scroll_container--scrollContainer--1eEK2",track:"scroll_container--track--b26X_",trackDragging:"scroll_container--trackDragging--fouWu scroll_container--track--b26X_",scrollBar:"scroll_container--scrollBar--3faz-",scrollBarAlways:"scroll_container--scrollBarAlways--2r2hu scroll_container--scrollBar--3faz-"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(34,1   ),l=s(375                     ),r=s(141     ),i=s(143              );class n extends i.Component{constructor(t){super(t),this.MIN_SCROLLBAR_HEIGHT=42,this.scrollingTimeout=null,this.trackHeight=0,this.scrollHeight=0,this.scrollTop=0,this.overrideStack=[],this.scrollTo=(t=>{this.scrollContainer&&(this.scrollContainer.scrollTop=t)}),this.scrollToTop=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=0)}),this.scrollToBottom=(()=>{this.scrollContainer&&(this.scrollContainer.scrollTop=this.scrollContainer.scrollHeight)}),this.getScrollTop=(()=>this.scrollContainer?this.scrollContainer.scrollTop:0),this.getScrollContent=(()=>this.scrollContent),this.getScrollHeight=(()=>this.scrollHeight),this.getTrackHeight=(()=>this.trackHeight),this.refBottomSpacer=(t=>{t&&(this.bottomSpacer=t)}),this.setScrollContent=(t=>{t&&(this.scrollContent=t)}),this.setScrollContainer=(t=>{t&&(this.scrollContainer=t,this.props.initialScrollTop&&(this.scrollContainer.scrollTop=this.props.initialScrollTop),this.recomputeScrollbar())}),this.recalculateLayout=(()=>{this.scrollContainer&&(this.trackHeight=this.scrollContainer.clientHeight,this.scrollHeight=this.scrollContainer.scrollHeight,this.trackTop=this.scrollContainer.getBoundingClientRect().top)}),this.recomputeScrollTop=(()=>{this.scrollContainer&&(this.scrollTop=this.scrollContainer.scrollTop)}),this.onScroll=(t=>{this.recomputeScrollTop(),this.recomputeScrollbar(),this.props.onScroll&&this.props.onScroll(this.scrollTop,this.getStateSnapshot()),r.windows&&r.chrome&&0!==this.scrollContainer.scrollLeft&&(this.scrollContainer.scrollLeft=0),this.scrollingTimeout&&clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(()=>{this.scrollingTimeout=null},200)}),this.recomputeScrollbar=(()=>{if(this.scrollContainer){this.scrollingTimeout||this.recalculateLayout();const t=0===this.scrollHeight?0:Math.max(this.trackHeight*(this.trackHeight/this.scrollHeight),this.MIN_SCROLLBAR_HEIGHT),o=this.scrollHeight>this.trackHeight;let s=0;if(o){const o=this.scrollHeight-this.trackHeight;s=(this.trackHeight-t)*(this.scrollTop/o)}this.state.scrollbarTop===s&&this.state.scrollbarHeight===t||this.setState({scrollbarTop:s,scrollbarHeight:t,canScroll:o})}}),this.isDraggingScrollbar=(()=>null!=this.state.startDragScrollTop&&null!=this.state.startDragY),this.onScrollBarMouseDown=(t=>{t.stopPropagation(),this.setState({startDragY:t.clientY,startDragScrollTop:this.scrollTop})}),this.onTrackMouseDown=(t=>{const o=t.clientY-this.trackTop,s=Math.min(Math.max(0,o-this.state.scrollbarHeight/2),this.trackHeight)/this.trackHeight*this.scrollHeight;this.scrollContainer.scrollTop=s,this.setState({startDragY:t.clientY,startDragScrollTop:this.scrollTop}),this.recomputeScrollbar()}),this.onMouseMove=(t=>{this.isDraggingScrollbar()&&(this.nextClientY=t.clientY,r.safari?null==this.nextFrameRequested&&(this.nextFrameRequested=requestAnimationFrame(this.scrollByNextClientY)):this.scrollByNextClientY())}),this.nextFrameRequested=null,this.scrollByNextClientY=(()=>{const{startDragY:t,startDragScrollTop:o}=this.state,s=this.nextClientY-t,e=this.scrollHeight*(s/this.trackHeight);(s>0&&this.nextClientY>=this.trackTop||s<0&&this.nextClientY<=this.trackTop+this.trackHeight)&&(this.scrollContainer.scrollTop=o+e,this.recomputeScrollbar()),this.nextFrameRequested=null}),this.onMouseUp=(t=>{this.setState({startDragScrollTop:null,startDragY:null})}),this.onMouseDown=i.mouseEvent(this,"mousedown",t=>{this.props.onMouseDown&&this.props.onMouseDown(t)}),this.state={canScroll:!1,scrollbarTop:0,scrollbarHeight:0,startDragY:null,startDragScrollTop:null,bottomSpacerStyle:{display:"none",height:0}}}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}UNSAFE_componentWillUpdate(t,o){this.recomputeScrollbar(),this.props.onCanScrollChange&&this.state.canScroll!==o.canScroll&&this.props.onCanScrollChange(o.canScroll)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}pushStateSnapshot(){this.overrideStack.push(this.getStateSnapshot())}popStateSnapshot(){let t=this.overrideStack.pop();0==this.overrideStack.length&&this.restoreStateSnapshot(t)}getStateSnapshot(){return{trackHeight:this.trackHeight,trackTop:this.trackTop,scrollHeight:this.scrollHeight,scrollTop:this.scrollTop,scrollContainerScrollTop:this.scrollContainer.scrollTop,scrollContainerScrollLeft:this.scrollContainer.scrollLeft,componentState:this.state}}restoreStateSnapshot(t){this.trackHeight=t.trackHeight,this.trackTop=t.trackTop,this.scrollHeight=t.scrollHeight,this.scrollTop=t.scrollTop,this.scrollContainer.scrollTop=t.scrollContainerScrollTop,this.scrollContainer.scrollLeft=t.scrollContainerScrollLeft,this.setState(t.componentState)}getBottomSpace(){return this.state.bottomSpacerStyle?this.state.bottomSpacerStyle.height:0}setBottomSpace(t){if(!this.state.bottomSpacerStyle||t!==this.state.bottomSpacerStyle.height){const o=t<=0?"none":"block";this.bottomSpacer&&(this.bottomSpacer.style.height=`${t}px`,this.bottomSpacer.style.display=o),this.setState({bottomSpacerStyle:{height:t,display:o}})}}render(){const t={width:this.props.width},o={transform:`translate3d(0px, ${this.state.scrollbarTop}px, 0)`,height:this.state.scrollbarHeight};return e.createElement("div",{className:`${l.clipContainer} ${this.props.className||""}`,style:t,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown?this.onMouseDown:null},e.createElement("div",{ref:this.setScrollContainer,className:this.props.scrollingDisabled?l.noScrollContainer:l.scrollContainer,onScroll:this.onScroll},e.createElement("div",{className:l.innerScrollContainer,style:t,ref:this.setScrollContent},this.props.children,e.createElement("div",{ref:this.refBottomSpacer,style:this.state.bottomSpacerStyle}))),this.props.showScrollbar&&this.state.canScroll&&e.createElement("div",{className:this.isDraggingScrollbar()?l.trackDragging:l.track,onMouseDown:this.onTrackMouseDown},e.createElement("div",{className:this.props.scrollBarAlways?l.scrollBarAlways:l.scrollBar,style:o,onMouseDown:this.onScrollBarMouseDown})))}}n.displayName="ScrollContainer",o.ScrollContainer=n,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,r,e){"use strict";function n(t,r){return(.21*t.r+.72*t.g+.07*t.b)*(r?t.a:1)<.627}Object.defineProperty(r,"__esModule",{value:!0}),r.isDark=n,r.blackOrWhiteContrastingColor=function(t){return n(t,!1)?{r:1,g:1,b:1,a:1}:{r:0,g:0,b:0,a:1}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_SMALL_NUDGE_AMOUNT=1,t.DEFAULT_BIG_NUDGE_AMOUNT=10,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ColorFormatter=class{constructor(){this.normalize=(t=>t/255),this.normalize255=(t=>Math.round(255*t)),this.defaultSelection=(t=>this.getSelection(t,{r:!0,g:!0,b:!0})),this.increment=((t,e,n,r)=>{const i=Object.assign({},t);let s=n?this.normalize(10):this.normalize(1);s=e?-s:s;let o=n?.1:.01;return o=e?-o:o,r&&(r.r&&(i.r+=s),r.g&&(i.g+=s),r.b&&(i.b+=s),r.a&&(i.a+=o)),i}),this.clamp=(t=>{const e=Object.assign({},t);for(let n in t){let r=n;e[r]=Math.min(t[r],1),e[r]=Math.max(e[r],0)}return e})}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=r(379                );e.ColorCSSFormatter=class extends s.ColorFormatter{constructor(){super(...arguments),this.parse=(t=>{const e=/([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*,?\s*([\d.]*)/.exec(t),r=this.normalize(parseFloat(e[1])),s=this.normalize(parseFloat(e[2])),o=this.normalize(parseFloat(e[3])),n=e[4];let a=1;if(n&&n.length&&(a=parseFloat(n)),[r,s,o,a].some(t=>isNaN(t)))throw new Error("Could not parse CSS");return{r:r,g:s,b:o,a:a}}),this.format=(t=>null==t?"":`rgba(${this.normalize255(t.r)}, ${this.normalize255(t.g)}, ${this.normalize255(t.b)}, ${parseFloat(t.a.toFixed(4))})`),this.getIncrementTargets=((t,e)=>{const{start:r,end:s}=e,o=r===s,n=this.format(this.parse(t)),a=n.indexOf(","),i=n.indexOf(",",a+1),l=n.indexOf(",",i+1),d={};return(r<=a||o&&r===a+1)&&(d.r=!0),(r<=i&&s>a+1||o&&r===i+1)&&(d.g=!0),(r<=l&&s>i+1||o&&r===l+1)&&(d.b=!0),!(d.r||d.g||d.b)&&s>l+1&&(d.a=!0),d}),this.getSelection=((t,e)=>{const r=t.indexOf("("),s=t.indexOf(","),o=t.indexOf(",",s+1),n=t.indexOf(",",o+1),a=t.indexOf(")");if(e.a)return{start:n+2,end:a};let i=r,l=r;return{start:i=e.r?r+1:e.g?s+2:o+2,end:l=e.b?n:e.g?o:s}})}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=r(379                );class s extends o.ColorFormatter{constructor(){super(...arguments),this.hexToFloat=(t=>this.normalize(parseInt(t,16))),this.floatToHex=(t=>{let e=this.normalize255(t).toString(16);return 1===e.length&&(e="0"+e),e}),this.repeat=(t=>new Array(3).join(t)),this.parse=((t,e)=>{const r=/[^0-9a-f]*([0-9a-f]*)/i.exec(t)[1],o=e?e.a:1;if(r.length>=6){return{r:this.hexToFloat(r.substring(0,2)),g:this.hexToFloat(r.substring(2,4)),b:this.hexToFloat(r.substring(4,6)),a:o}}if(r.length>=3){return{r:this.hexToFloat(this.repeat(r[0])),g:this.hexToFloat(this.repeat(r[1])),b:this.hexToFloat(this.repeat(r[2])),a:o}}if(2===r.length){const t=this.hexToFloat(r);return{r:t,g:t,b:t,a:o}}if(1===r.length){const t=this.hexToFloat(this.repeat(r));return{r:t,g:t,b:t,a:o}}throw new Error("Could not parse hex")}),this.format=(t=>{return`#${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()}),this.formatForAndroid=(t=>{if(1===t.a)return this.format(t);return`#${this.floatToHex(t.a)}${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()}),this.getIncrementTargets=((t,e)=>{const{start:r,end:o}=e,s=r===o,a={};return(r<=2||s&&3===r)&&(a.r=!0),(r<=4&&o>3||s&&5===r)&&(a.g=!0),(r<=6&&o>5||s&&7===r)&&(a.b=!0),a}),this.getSelection=((t,e)=>{const r={start:1,end:1};return e.r?r.start=1:e.g?r.start=3:r.start=5,e.b?r.end=7:e.g?r.end=5:r.end=3,r})}}e.ColorHexFormatter=s;e.ColorHexFormatterWithoutHash=class extends s{constructor(){super(...arguments),this.format=(t=>`${this.floatToHex(t.r)}${this.floatToHex(t.g)}${this.floatToHex(t.b)}`.toUpperCase()),this.getIncrementTargets=((t,e)=>{const{start:r,end:o}=e,s=r===o,a={};return(r<=1||s&&2===r)&&(a.r=!0),(r<=3&&o>2||s&&4===r)&&(a.g=!0),(r<=5&&o>4||s&&6===r)&&(a.b=!0),a}),this.getSelection=((t,e)=>{const r={start:1,end:1};return e.r?r.start=1:e.g?r.start=3:r.start=5,e.b?r.end=7:e.g?r.end=5:r.end=3,r.start-=1,r.end-=1,r})}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.DashFormatter=class{parse(t,e){let r=[];return t.split(/[ ,]+/g).forEach(t=>{if(!t.length)return;let e=parseFloat(t);if(!isFinite(e))throw new Error("Could not parse dash input");r.push(e)}),r.length%2==1&&(r=r.concat(r).slice(0,8)),r}format(t){return null==t?"":t.map(t=>parseFloat(t.toFixed(2))).join(", ")}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,E,r){"use strict";var N,t;Object.defineProperty(E,"__esModule",{value:!0}),function(e){e[e.NONE=0]="NONE",e[e.SYNTAX_EMPTY=1]="SYNTAX_EMPTY",e[e.SYNTAX_UNRECOGNIZED=2]="SYNTAX_UNRECOGNIZED",e[e.SYNTAX_MISMATCHED_PARENS=3]="SYNTAX_MISMATCHED_PARENS",e[e.EVAL_UNEXPECTED_TYPE=4]="EVAL_UNEXPECTED_TYPE",e[e.EVAL_EXPECTED_MORE_ARGUMENTS=5]="EVAL_EXPECTED_MORE_ARGUMENTS",e[e.EVAL_EXPECTED_NUMBER=6]="EVAL_EXPECTED_NUMBER",e[e.EVAL_IMAGINARY=7]="EVAL_IMAGINARY",e[e.EVAL_DIVIDE_BY_ZERO=8]="EVAL_DIVIDE_BY_ZERO",e[e.EVAL_UNKNOWN=9]="EVAL_UNKNOWN"}(N=E.ErrorType||(E.ErrorType={})),E.evaluateExpression=function(e,E){const r=[],p=c(e,r);if(null!==p)return{value:null,error:p};const s=[],i=[];for(let c of r)switch(c.type){case R.NUMBER:s.push(c.value);break;case R.OPERATOR:{const e=T[c.operator];let r;switch(c.operator){case a.UNARY_PLUS:break;case a.PAREN_L:i.push(c);break;case a.PAREN_R:if(!i.length)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:c.position}};for(;i.length;){const e=i[i.length-1];let r;if(e.operator===a.PAREN_L){i.pop();break}if((r=A(e.operator,s,E))!==t.SUCCESS)return{value:null,error:{type:o[r]}};if(i.pop(),!i.length)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:c.position}}}break;default:for(;r=i[i.length-1];)if(e.associativity===n.LEFT){if(!(e.precedence<=T[r.operator].precedence))break;{let e;if((e=A(r.operator,s,E))!==t.SUCCESS)return{value:null,error:{type:o[e]}};i.pop()}}else{if(e.associativity!==n.RIGHT)return{value:null,error:{type:N.EVAL_UNKNOWN}};if(!(e.precedence<T[r.operator].precedence))break;{let e;if((e=A(r.operator,s,E))!==t.SUCCESS)return{value:null,error:{type:o[e]}};i.pop()}}i.push(c)}break}default:return{value:null,error:{type:N.SYNTAX_UNRECOGNIZED}}}for(;i.length;){const r=i.pop();let n;if(r.operator===a.PAREN_L||r.operator===a.PAREN_R)return{value:null,error:{type:N.SYNTAX_MISMATCHED_PARENS,position:e.length}};if((n=A(r.operator,s,E))!==t.SUCCESS)return{value:null,error:{type:o[n]}}}return 1!==s.length?{value:null,error:{type:N.SYNTAX_UNRECOGNIZED}}:{value:s[0],error:null}},function(e){e[e.SUCCESS=0]="SUCCESS",e[e.UNEXPECTED_TYPE=1]="UNEXPECTED_TYPE",e[e.EXPECTED_MORE_ARGUMENTS=2]="EXPECTED_MORE_ARGUMENTS",e[e.EXPECTED_NUMBER=3]="EXPECTED_NUMBER",e[e.IMAGINARY=4]="IMAGINARY",e[e.DIVIDE_BY_ZERO=5]="DIVIDE_BY_ZERO"}(t||(t={}));const o=[N.NONE,N.EVAL_UNEXPECTED_TYPE,N.EVAL_EXPECTED_MORE_ARGUMENTS,N.EVAL_EXPECTED_NUMBER,N.EVAL_IMAGINARY,N.EVAL_DIVIDE_BY_ZERO];var a,n;!function(e){e[e.NONE=0]="NONE",e[e.PAREN_L=1]="PAREN_L",e[e.PAREN_R=2]="PAREN_R",e[e.ADD=3]="ADD",e[e.SUBTRACT=4]="SUBTRACT",e[e.MULTIPLY=5]="MULTIPLY",e[e.DIVIDE=6]="DIVIDE",e[e.UNARY_PLUS=7]="UNARY_PLUS",e[e.UNARY_MINUS=8]="UNARY_MINUS",e[e.EXPONENT=9]="EXPONENT",e[e.PERCENT=10]="PERCENT",e[e.X=11]="X",e[e.PIXELS=12]="PIXELS"}(a=E.OperatorType||(E.OperatorType={})),function(e){e[e.NONE=0]="NONE",e[e.LEFT=1]="LEFT",e[e.RIGHT=2]="RIGHT"}(n||(n={}));const T=[null,{associativity:n.NONE,precedence:-1,degree:0,name:"("},{associativity:n.NONE,precedence:-1,degree:0,name:")"},{associativity:n.LEFT,precedence:1,degree:2,name:"add"},{associativity:n.LEFT,precedence:1,degree:2,name:"sub"},{associativity:n.LEFT,precedence:2,degree:2,name:"mul"},{associativity:n.LEFT,precedence:2,degree:2,name:"div"},{associativity:n.LEFT,precedence:4,degree:1,name:"pos"},{associativity:n.LEFT,precedence:4,degree:1,name:"neg"},{associativity:n.RIGHT,precedence:5,degree:2,name:"exp"},{associativity:n.RIGHT,precedence:6,degree:1,name:"%"},{associativity:n.RIGHT,precedence:6,degree:1,name:"x"},{associativity:n.RIGHT,precedence:6,degree:1,name:"px"}];function A(e,E,r){if(E.length<T[e].degree)return t.EXPECTED_MORE_ARGUMENTS;switch(e){case a.NONE:case a.PAREN_L:case a.PAREN_R:return t.UNEXPECTED_TYPE;case a.ADD:case a.SUBTRACT:case a.MULTIPLY:case a.DIVIDE:case a.EXPONENT:{const r=E.pop(),N=E.pop();switch(e){case a.ADD:E.push(N+r);break;case a.SUBTRACT:E.push(N-r);break;case a.MULTIPLY:E.push(N*r);break;case a.DIVIDE:E.push(N/r);break;case a.EXPONENT:{const e=Math.pow(N,r);if(isNaN(e))return t.IMAGINARY;E.push(e);break}}break}case a.UNARY_PLUS:case a.PIXELS:break;case a.UNARY_MINUS:E.push(-E.pop());break;case a.PERCENT:E.push(r*E.pop()/100);break;case a.X:E.push(r*E.pop())}return t.SUCCESS}var R,p;!function(e){e[e.NONE=0]="NONE",e[e.OPERATOR=1]="OPERATOR",e[e.NUMBER=2]="NUMBER"}(R=E.TokenType||(E.TokenType={})),function(e){e[e.NONE=0]="NONE",e[e.OPEN_PAREN=1]="OPEN_PAREN",e[e.CLOSE_PAREN=2]="CLOSE_PAREN",e[e.PLUS=3]="PLUS",e[e.MINUS=4]="MINUS",e[e.ASTERISK=5]="ASTERISK",e[e.SLASH=6]="SLASH",e[e.CARET=7]="CARET",e[e.PERCENT=8]="PERCENT",e[e.X=9]="X",e[e.PIXELS=10]="PIXELS"}(p=E.TokenId||(E.TokenId={}));const s={"(":p.OPEN_PAREN,")":p.CLOSE_PAREN,"+":p.PLUS,"-":p.MINUS,"*":p.ASTERISK,"/":p.SLASH,"^":p.CARET,"%":p.PERCENT,x:p.X,X:p.X,px:p.PIXELS},i={[p.OPEN_PAREN]:a.PAREN_L,[p.CLOSE_PAREN]:a.PAREN_R,[p.PLUS]:a.ADD,[p.MINUS]:a.SUBTRACT,[p.ASTERISK]:a.MULTIPLY,[p.SLASH]:a.DIVIDE,[p.CARET]:a.EXPONENT,[p.PERCENT]:a.PERCENT,[p.X]:a.X,[p.PIXELS]:a.PIXELS};function c(e,E){const r=(e=e.toLowerCase()).split(/(px|[+*()^\/%x\-]|(?:\d+[.,]?\d*|[.,]?\d+)(?:[e][+\-]?\d+)?|(?:\s+))/g),t=r.length;if(0===t)return{type:N.SYNTAX_EMPTY};let o=0;for(let n=0;n<t;n++){const e=r[n],t=e.length;if(n%2){let r=s.hasOwnProperty(e)?s[e]:p.NONE,N={id:r,text:e,type:r!==p.NONE?R.OPERATOR:R.NONE,operator:r in i?i[r]:a.NONE,position:o,value:NaN};N.type===R.NONE&&/^(?:\d+[.,]?\d*|[.,]?\d+)(?:[eE][+\-]?\d+)?$/.test(e)&&(N.type=R.NUMBER,N.value=+e.replace(",",".")),N.type!==R.NONE&&E.push(N)}else if(t>0)return{type:N.SYNTAX_UNRECOGNIZED,position:o,length:t};o+=t}if(0===E.length)return{type:N.SYNTAX_EMPTY};for(let N,n=0;n<E.length;n++){let e=E[n];e.operator!==a.ADD&&e.operator!==a.SUBTRACT||void 0!==N&&!_(N.operator)||(e.operator=e.operator===a.ADD?a.UNARY_PLUS:a.UNARY_MINUS),N=e}return null}function _(e){const E=T[e];return E&&(e===a.PAREN_L||2===E.degree||1===E.degree&&E.associativity===n.LEFT)}E.tokenize=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=r(383              ),s=r(378          );class u{constructor(t){this.units="",this.min=(()=>"min"in this.options?this.options.min:this.defaultMin),this.max=(()=>"max"in this.options?this.options.max:this.defaultMax),this.smallNudgeAmount=(()=>"smallNudgeAmount"in this.options?this.options.smallNudgeAmount:s.DEFAULT_SMALL_NUDGE_AMOUNT),this.bigNudgeAmount=(()=>"bigNudgeAmount"in this.options?this.options.bigNudgeAmount:s.DEFAULT_BIG_NUDGE_AMOUNT),this.options=t||{}}parse(t,e){t=t.replace(new RegExp(this.units,"g"),"");const r=n.evaluateExpression(t,e);if(null!==r.value&&isFinite(r.value))return r.value;throw new Error("Could not parse input")}format(t){return`${t}`}increment(t,e,r){return r?e?t-this.bigNudgeAmount():t+this.bigNudgeAmount():e?t-this.smallNudgeAmount():t+this.smallNudgeAmount()}clamp(t){return"number"==typeof this.min()&&(t=Math.max(t,this.min())),"number"==typeof this.max()&&(t=Math.min(t,this.max())),t}}e.NumberFormatter=u;e.PixelFormatter=class extends u{constructor(t){super(t)}format(t){return null==t?"":String(parseFloat(t.toFixed(2)))}};var i;e.ScaleFormatter=class extends u{constructor(){super(...arguments),this.units="x"}format(t){return null==t?"":`${parseFloat(t.toFixed(2))}x`}},function(t){t[t.SECONDS=0]="SECONDS",t[t.MILLISECONDS=1]="MILLISECONDS"}(i=e.OutputUnit||(e.OutputUnit={}));e.SecondsFormatter=class extends u{constructor(t,e){super({min:.001,max:e,smallNudgeAmount:.01,bigNudgeAmount:.1}),this.outputUnit=t,this.units="ms",this.units=t===i.MILLISECONDS?"ms":"s"}parse(t,e){const r=this.outputUnit===i.SECONDS?1:.001;return super.parse(t,e)*r}format(t){if(null==t)return"";switch(this.outputUnit){case i.SECONDS:return`${parseFloat(t.toFixed(2))}s`;case i.MILLISECONDS:return`${Math.round(1e3*t)}ms`}}};e.PercentageFormatter=class extends u{constructor(){super(...arguments),this.units="%|px",this.defaultMin=0,this.defaultMax=1}format(t){return null==t?"":`${parseFloat((100*t).toFixed(2))}%`}parse(t,e){return super.parse(t,e)/100}increment(t,e,r){return r?e?t-.1:t+.1:e?t-.01:t+.01}};e.AngleFormatter=class extends u{constructor(){super(...arguments),this.units="|px"}format(t){return null==t?"":(-180==(t=(t+180+360)%360-180)&&(t=180),`${parseFloat(t.toFixed(2))}`)}};class a extends u{constructor(){super(...arguments),this.units="px"}parse(t,e){let r=super.parse(t,e);return Math.round(r)}}e.IntegerFormatter=a,e.IntegerPixelFormatter=a;e.NormalizedIntegerFormatter=class extends u{constructor(t){super(t),this.normalizeFactor=(t||{}).normalizeFactor||1}parse(t,e){return super.parse(t,e)/this.normalizeFactor}format(t){const e=t*this.normalizeFactor;return`${Math.round(e)}`}increment(t,e,r){let n=1/this.normalizeFactor;return r&&(n=10/this.normalizeFactor),e?t-n:t+n}};class o{constructor(t){this.min=t.min,this.max=t.max,this.bigPixelNudgeAmount=t.bigPixelNudgeAmount||s.DEFAULT_BIG_NUDGE_AMOUNT,this.smallPixelNudgeAmount=t.smallPixelNudgeAmount||s.DEFAULT_SMALL_NUDGE_AMOUNT,this.bigPercentageNudgeAmount=t.bigPercentageNudgeAmount||10,this.smallPercentageNudgeAmount=t.smallPercentageNudgeAmount||1}static parse(t){const e=-1!==t.indexOf("%")?"PERCENT":-1!==t.indexOf("px")?"PIXELS":void 0;t=(t=t.toLowerCase()).replace(new RegExp("%|px","g"),"");const r=n.evaluateExpression(t,NaN);if(null!==r.value&&isFinite(r.value))return[r.value,e]}parse(t,e){const r=o.parse(t);if(void 0===r)throw new Error("Could not parse input");let[n,s]=r;return void 0===s&&(s=null==e?"PERCENT":e.units),{value:n,units:s}}format(t){if(null==t||t.value!=t.value)return"";const e=parseFloat(t.value.toFixed(2));return"PERCENT"===t.units?`${e}%`:`${e} px`}increment(t,e,r){let n,s;return s=r?"PIXELS"===t.units?this.bigPixelNudgeAmount:this.bigPercentageNudgeAmount:"PIXELS"===t.units?this.smallPixelNudgeAmount:this.smallPercentageNudgeAmount,{value:n=e?t.value-s:t.value+s,units:t.units}}clamp(t){let e=t.value;return"number"==typeof this.min&&(e=Math.max(e,this.min)),"number"==typeof this.max&&(e=Math.min(e,this.max)),{value:e,units:t.units}}}e.PixelPercentageFormatter=o;e.ExportConstraintFormatter=class{constructor(){this.MAX_SCALE=1024,this.MAX_SIZE=32768}parse(t,e){const r=-1!==(t=t.toLowerCase()).indexOf("w")?"CONTENT_WIDTH":-1!==t.indexOf("h")?"CONTENT_HEIGHT":"CONTENT_SCALE";t=t.replace(new RegExp("x|w|h","g"),"");const s=n.evaluateExpression(t,NaN);if(null!==s.value&&isFinite(s.value))return{value:s.value,type:r};throw new Error("Could not parse input")}format(t){if(null==t)return"";const e=parseFloat(t.value.toFixed(2));switch(t.type){case"CONTENT_SCALE":return`${e}x`;case"CONTENT_WIDTH":return`${e}w`;case"CONTENT_HEIGHT":return`${e}h`}}increment(t,e,r){let n;return r?(n=e?t.value-1:t.value+1,n=Math.round(n)):(n=e?t.value-.5:t.value+.5,n=+(Math.round(2*n)/2).toFixed(1)),{value:n,type:t.type}}clamp(t){let e=t.value,r="CONTENT_SCALE"===t.type?this.MAX_SCALE:this.MAX_SIZE;return(e=Math.min(e,r))<=0&&(e=1),{value:e,type:t.type}}isEqual(t,e){return t.type===e.type&&t.value===e.value}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){e.exports={tabBarHeight:"38px",filebarHeight:"42px",toolbarHeight:"42px",toolbarHeight__REFRESH:"40px",fileBrowserHeaderHeight:"84px",fileBrowserMobileWidth:"645px",fileBrowserFooterHeight:"60px",titleChevronWidth:"18px",leftNavWidth:"200px",leftNavWidth__REFRESH:"208px",navRowHeight:"36px",navRightPadding:"12px",searchInputHeight:"36px",searchInputHeight__REFRESH:"32px",stickyHeaderHeight:"36px",expandableHeaderHeight:"30px",subheaderHeight:"30px",navIconSize:"24px",navIconPadding:"12px",rightNavWidth:"229px",rightNavGridRowHeight__REFRESH:"32px",rightNavGridNumCols__REFRESH:28,rightNavHorizontalPadding__REFRESH:"8px",objectRowHeight:"32px",rightNavWidth__REFRESH:"240px",gridBasis__REFRESH:"8px",dropdownItemHeight:"24px",dropdownOverflowPadding:"6px",copyTextModal:"300px",openDesktopModal:"378px",missingFontsModal:"420px",fileTileMargin:"24px",fileTileOuterMargin:"2px",fileBrowserLeftNavWidth:"200px",orgSwitcherNameWidth:"126px",orgSwitcherNameMobileWidth:"94px",userDetailsModalWidth:"420px",exportPickerWidth:"318px",exportPickerMaxHeight:"460px",nudgeAmountPickerWidth:"180px",stylesPickerWidth:"210px",stylePickerMaxHeight:"300px",stylesPickerGridNumCols__REFRESH:25,stylesPickerWidth__REFRESH:"216px",tooltipDist:"6px",tooltipArrowHeight:"6px",commentThreadWidth:"324px",commentThreadMargins:"48px",commentThreadBuffer:"15px",commentThreadOuterMargin__REFRESH:"16px",commentThreadInnerMargin__REFRESH:"8px",titleFontSize:"14px",baseFontSize:"11px",defaultCornerRadius:"3px",defaultCornerRadius__REFRESH:"2px",libraryPreferencesModalWidth:"460px",sharedFontsModalWidth:"600px",libraryPreferencesModalHeight:"594px",libraryPreferencesModalMaxHeight:"70vh",orgModal:"864px",orgDashboardModalContentHeight:"564px",orgDashboardTabsHeight:"48px",keyboardShortcutsPaneHeight:"240px",iconButtonSize__REFRESH:"32px"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(232                        ),c=n(198         ),o=n(370              ),i=n(385                                        );t.PICKER_WIDTH=o.pxToInt(i.rightNavWidth__REFRESH),t.pickerPositionLeftOf=function(e){const{top:n,left:s}=e.getBoundingClientRect();return new c.Vector(s-t.PICKER_WIDTH,n)},t.pickerShown=function(e=null,t){return s.fullscreen.showPicker.matches(t)?t.payload:s.fullscreen.hidePicker.matches(t)?null:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,e){o.exports={singleRowHeight:"raw_components--singleRowHeight--3PF2a",doubleRowHeight:"raw_components--doubleRowHeight--1jQtW",input:"raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",border:"raw_components--border--3I0I6",borderFocusWithin:"raw_components--borderFocusWithin--3IG2Z",iconInsideBorderFocusWithin:"raw_components--iconInsideBorderFocusWithin--Ry1th",rowSelectedSecondary:"raw_components--rowSelectedSecondary--N6MBn raw_components--rowSelected--1SC96",selectHiddenInput:"raw_components--selectHiddenInput--1Ss5k",iconButton:"raw_components--iconButton--1XZ77",borderFocus:"raw_components--borderFocus--tz1OP",multiValueInput:"raw_components--multiValueInput--1SaL7 raw_components--borderFocusWithin--3IG2Z",base:"raw_components--base--3TpZG",label:"raw_components--label--34YmO raw_components--base--3TpZG",labelInactive:"raw_components--labelInactive--2GwUQ raw_components--label--34YmO raw_components--base--3TpZG",textInput:"raw_components--textInput--23_ta raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",textAreaInput:"raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",noLeftBorder:"raw_components--noLeftBorder--22ykO",squareRightBorder:"raw_components--squareRightBorder--2-R1G",_iconButton:"raw_components--_iconButton--353Le",iconButtonEnabled:"raw_components--iconButtonEnabled--1oUUU raw_components--_iconButton--353Le",iconButtonDisabled:"raw_components--iconButtonDisabled--2yADb raw_components--_iconButton--353Le",iconButtonSelected:"raw_components--iconButtonSelected--2l7Qs raw_components--_iconButton--353Le",chitCenter:"raw_components--chitCenter--3mNyg",outlineButton:"raw_components--outlineButton--1TPi5",modalPanel:"raw_components--modalPanel--3UTJj",panel:"raw_components--panel--3IcXg",_row:"raw_components--_row--73H_w",singleRow:"raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",doubleRow:"raw_components--doubleRow--13dq7 raw_components--doubleRowHeight--1jQtW raw_components--_row--73H_w",labelRow:"raw_components--labelRow--3iB2d raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",rowSelected:"raw_components--rowSelected--1SC96",panelTitle:"raw_components--panelTitle--7MaOu",panelTitleWithTip:"raw_components--panelTitleWithTip--HuW_v raw_components--panelTitle--7MaOu",panelTitleWithTipText:"raw_components--panelTitleWithTipText--2GjkM",panelTitleWithTipIcon:"raw_components--panelTitleWithTipIcon--1mzL2",panelTitleFaded:"raw_components--panelTitleFaded--2DWvf raw_components--panelTitle--7MaOu",flushLeft:"raw_components--flushLeft--2dWma"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),a=s(144         );t.SvgWithFallback=class extends i.PureComponent{constructor(e){super(e),this.mediaQueryList=null,this.onMediaQueryListChange=(e=>{this.setState({matches:e.matches})}),this.mediaQueryList=window.matchMedia("screen and (-webkit-min-device-pixel-ratio: 2), screen and (min-resolution: 2dppx)"),this.mediaQueryList.addListener(this.onMediaQueryListChange),this.state={matches:this.mediaQueryList.matches}}componentWillUnmount(){this.mediaQueryList&&this.mediaQueryList.removeListener(this.onMediaQueryListChange)}render(){const e=Object.assign({},this.props);return delete e.fallbackSvg,this.props.fallbackSvg?(delete e.svg,i.createElement(a.Svg,Object.assign({svg:this.state.matches?this.props.svg:this.props.fallbackSvg},e))):i.createElement(a.Svg,Object.assign({},e))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=s(34,1   ),n=s(38,1       ),i=s(143              ),p=s(387                                   ),r=s(388                                                    );class a extends i.PureComponent{constructor(o){super(o),this.ref=(o=>{o&&(this.el=n.findDOMNode(o))}),this.documentKeyDown=(o=>{9===o.keyCode&&this.setState({isFocused:!0})}),this.onKeyDown=i.keyboardEvent(this,"keydown",o=>{13===o.keyCode?(this.props.onMouseDown&&this.props.onMouseDown(o),this.props.onClick&&this.props.onClick(o)):27===o.keyCode&&this.el&&this.el.blur()}),this.onMouseDown=(o=>{this.props.onMouseDown&&this.props.onMouseDown(o),this.setState({isFocused:!1})}),this.onMouseUp=(o=>{this.el.blur()}),this.state={isFocused:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.documentKeyDown)}render(){let o=this.props.disabled?p.iconButtonDisabled:p.iconButtonEnabled;return this.props.selected&&(o=p.iconButtonSelected),this.props.className&&(o+=` ${this.props.className}`),e.createElement(r.SvgWithFallback,{ref:this.ref,tabIndex:null!=this.props.tabIndex?this.props.tabIndex:this.props.disabled?-1:0,className:o,svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,onKeyDown:this.props.disabled?null:this.onKeyDown,onMouseDown:this.props.disabled?null:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.props.disabled?null:this.props.onClick,href:this.props.disabled?null:this.props.href,target:this.props.target,"data-tooltip":this.props["data-tooltip"],"data-tooltip-text":this.props["data-tooltip-text"],"data-onboarding-key":this.props["data-onboarding-key"],recordingKey:this.props.recordingKey})}}a.displayName="IconButton",t.IconButton=a,o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(c,t,e){c.exports={id:"gc358a75c",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M11 6c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5zm1 0c0 3.313-2.686 6-6 6-3.314 0-6-2.687-6-6 0-3.313 2.686-6 6-6 3.314 0 6 2.687 6 6zm-6.512.383c-.088.216-.133.506-.133.87h1l.016-.237c.029-.256.142-.478.34-.668l.316-.301c.248-.24.421-.457.52-.652.099-.198.148-.408.148-.63 0-.486-.152-.863-.457-1.128-.304-.268-.733-.403-1.285-.403-.547 0-.98.141-1.297.422-.315.281-.475.67-.48 1.168h1.133c.003-.147.035-.272.093-.374.024-.042.053-.08.086-.114.062-.063.134-.11.217-.14.075-.027.157-.04.248-.04.406 0 .61.22.61.66 0 .075-.01.148-.031.22-.02.067-.048.133-.087.198-.078.13-.235.301-.472.512-.235.209-.396.42-.485.637zm-.07 1.64c-.117.112-.176.256-.176.43 0 .172.058.314.172.426.117.112.27.168.461.168.12 0 .227-.023.317-.068.052-.026.098-.06.14-.1.117-.112.176-.254.176-.426 0-.174-.06-.318-.18-.43-.117-.114-.268-.171-.453-.171-.094 0-.18.015-.258.044-.074.029-.14.071-.199.127z" fill-rule="evenodd" fill="#444"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(143              ),r=o(144                        ),l=o(201                                      ),i=o(387                   );!function(e){for(var o in e)t.hasOwnProperty(o)||(t[o]=e[o])}(o(389                         ));const p=(e,t)=>Object.assign({},e,{className:`${t} ${e.className||""}`});class a extends n.PureComponent{constructor(){super(...arguments),this.onClick=n.mouseEvent(this,"click",e=>this.props.onClick?this.props.onClick(e):n.SKIP_RECORDING),this.onContextClick=n.mouseEvent(this,"contextmenu",e=>this.props.onContextMenu?this.props.onContextMenu(e):n.SKIP_RECORDING),this.onDoubleClick=n.mouseEvent(this,"dblclick",e=>this.props.onDoubleClick?this.props.onDoubleClick(e):n.SKIP_RECORDING),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>this.props.onMouseDown?this.props.onMouseDown(e):n.SKIP_RECORDING),this.onMouseUp=n.mouseEvent(this,"mouseup",e=>this.props.onMouseUp?this.props.onMouseUp(e):n.SKIP_RECORDING),this.onMouseMove=n.mouseEvent(this,"mousemove",e=>this.props.onMouseMove?this.props.onMouseMove(e):n.SKIP_RECORDING)}render(){const e=Object.assign({},this.props);return this.recordingKey&&(this.props.onClick&&(e.onClick=this.onClick),this.props.onDoubleClick&&(e.onDoubleClick=this.onDoubleClick),this.props.onMouseDown&&(e.onMouseDown=this.onMouseDown),this.props.onMouseMove&&(e.onMouseMove=this.onMouseMove),this.props.onMouseUp&&(e.onMouseUp=this.onMouseUp),this.props.onContextMenu&&(e.onContextMenu=this.onContextClick),delete e.recordingKey),s.createElement("div",Object.assign({},e))}}a.displayName="RecordableDiv",t.RecordableDiv=a;class c extends s.PureComponent{render(){return s.createElement(a,Object.assign({},p(this.props,i.modalPanel)))}}c.displayName="ModalPanel",t.ModalPanel=c;class d extends n.PureComponent{render(){return s.createElement(a,Object.assign({},p(this.props,i.panel)))}}d.displayName="Panel",t.Panel=d;class u extends n.PureComponent{render(){const e=this.props.selectedSecondary?i.rowSelectedSecondary:this.props.selected?i.rowSelected:null;let t=i.singleRow;e&&(t=t+" "+e);const o=p(this.props,t);return delete o.selected,delete o.selectedSecondary,s.createElement(a,Object.assign({},o))}}u.displayName="Row",t.Row=u;class h extends n.PureComponent{render(){const e=this.props.selectedSecondary?i.rowSelectedSecondary:this.props.selected?i.rowSelected:null;let t=i.doubleRow;e&&(t=t+" "+e);const o=p(this.props,t);return delete o.selected,delete o.selectedSecondary,s.createElement(a,Object.assign({},o))}}h.displayName="Row",t.DoubleRow=h;class m extends n.PureComponent{render(){return s.createElement(a,Object.assign({},p(this.props,i.labelRow)))}}m.displayName="LabelRow",t.LabelRow=m;class C extends n.PureComponent{render(){const e=this.props.faded?i.panelTitleFaded:i.panelTitle,t=p(this.props,e);return delete t.faded,s.createElement(a,Object.assign({},t))}}C.displayName="PanelTitle",t.PanelTitle=C;class b extends n.PureComponent{render(){const e=p(this.props,i.panelTitleWithTip);return delete e.title,delete e.dataTooltipContentKey,delete e.dataTooltipTimeoutDelay,s.createElement(a,Object.assign({},e),s.createElement("div",{className:i.panelTitleWithTipText},this.props.title),s.createElement(r.Svg,{className:i.panelTitleWithTipIcon,svg:b.helpIcon,"data-tooltip-content-key":this.props.dataTooltipContentKey,"data-tooltip-timeout-delay":this.props.dataTooltipTimeoutDelay}))}}function g(e){let t=i.textInput;return e.noLeftBorder&&(t+=` ${i.noLeftBorder}`),e.squareRightBorder&&(t+=` ${i.squareRightBorder}`),e.noBorderOnFocus||(t+=` ${i.border}`),t}b.displayName="PanelTitleWithTip",b.helpIcon=o(390                                              ),t.PanelTitleWithTip=b;class y extends s.PureComponent{render(){const e=g(this.props),t=p(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,delete t.noBorderOnFocus,s.createElement("input",Object.assign({autoComplete:"new-password",spellCheck:!1},t))}}y.displayName="SimpleInput",t.SimpleInput=y;class R extends n.PureComponent{constructor(){super(...arguments),this.onChange=n.changeEvent(this,"change",e=>this.props.onChange?this.props.onChange(e):n.SKIP_RECORDING),this.onBlur=n.focusEvent(this,"blur",e=>this.props.onBlur?this.props.onBlur(e):n.SKIP_RECORDING)}render(){const e=g(this.props),t=p(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,delete t.recordingKey,this.props.recordingKey&&(this.props.onChange&&(t.onChange=this.onChange),this.props.onBlur&&(t.onBlur=this.onBlur)),s.createElement(l.LazyInput,Object.assign({type:"text",spellCheck:!1},t))}}R.displayName="TextInput",t.TextInput=R,t.Label=(e=>s.createElement("label",Object.assign({},p(e,i.label)))),t.LabelInactive=(e=>s.createElement("label",Object.assign({},p(e,i.labelInactive))));class E extends s.PureComponent{render(){const e=g(this.props)+" "+i.outlineButton,t=p(this.props,e);return delete t.noLeftBorder,delete t.squareRightBorder,s.createElement("div",Object.assign({},t),t.children)}}E.displayName="OutlineButton",t.OutlineButton=E,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=a(292         ),o=a(1426                               ),s=a(291       );!function(e){e[e.CUT=0]="CUT",e[e.COPY=1]="COPY",e[e.PASTE=2]="PASTE"}(n.ClipboardAction||(n.ClipboardAction={}));const c="\x3c!--(figma)",i="(/figma)--\x3e",r=e=>e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");n.writeToClipboardAsBlobInHTML=function(e,n,a){const o='<meta charset="utf-8">'+c+t.encode(n)+i+r(a);try{e.setData("text/html",o)}catch(s){console.warn("DataTransfer failed in clipboard event")}},n.tryToReadFromClipboardAsBlobInHTML=function(e){try{const a=e.getData("text/html"),o=a.indexOf(c),s=a.indexOf(i);if(o>=0&&s>=0&&o<s)return t.decode(a.slice(o+c.length,s))}catch(n){console.warn("DataTransfer failed in clipboard event")}return null},n.encodeClipboardData=function(e,n){const a=s.schema.encodeMessage({type:"STYLE",pasteFileKey:e,sessionID:0,ackID:0,nodeChanges:[Object.assign({guid:{sessionID:0,localID:0},phase:"CREATED"},n)]});return o.fullscreen.sendMessage("encodeClipboardData",{},a).buffer},n.decodeClipboardData=function(e){const n=o.fullscreen.sendMessage("decodeClipboardData",{},e);return s.schema.decodeMessage(n.buffer)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){e.exports={insertDivider:"draggable_list--insertDivider--td483",disabledView:"draggable_list--disabledView--zrOXO",removeButton:"draggable_list--removeButton--3zc4c",stylesButton:"draggable_list--stylesButton--2nB0f",addButton:"draggable_list--addButton--30aI8",panelTitle:"draggable_list--panelTitle--gr5yM",panelHeaderRowFaded:"draggable_list--panelHeaderRowFaded--JlLHP",panelTitleText:"draggable_list--panelTitleText--1q89R",label:"draggable_list--label--izgTc"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(34,1   ),r=t(208                                           );s.CachedSubtree=class{constructor(e,s){this._callback=e,this._previousValue=null,s&&(this._previousValue=this._callback())}render(e){const s=e?this._previousValue=this._callback():this._previousValue;return s instanceof Array?s.map(s=>s&&i.createElement(a,{key:s.key,visible:e},s)):s&&i.createElement(a,{key:s.key,visible:e},s)}};class a extends i.Component{constructor(){super(...arguments),this.ref=(e=>{this.el=e})}componentDidUpdate(e){this.el&&(!e.visible&&this.props.visible&&r.keyboardDispatcher.focusSubtreeIfNecessary(this.el),e.visible&&!this.props.visible&&r.keyboardDispatcher.blurSubtreeIfNecessary(this.el))}render(){const e={display:this.props.visible?"inline":"none"};return i.createElement("div",{ref:this.ref,className:"cachedSubtree",style:e},this.props.children)}}a.displayName="CachedSubtreeComponent",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),n=s(393                   ),o=s(394                          ),r=s(143              );class l extends i.Component{constructor(e){super(e),this.selectedIndicesAsSet=(()=>{const e=Object.create(null);for(let t of this.props.selectedIndices)e[t]=!0;return e}),this.isIndexSelected=(e=>-1!==this.props.selectedIndices.indexOf(e)),this.isDraggingSelection=!1,this.onListItemMouseDown=((e,t)=>{t.stopPropagation();let s=this.selectedIndicesAsSet();if(0===this.props.selectedIndices.length&&(this.indicesBeforeShift=null,this.lastIndexSelected=null),t.shiftKey&&null!=this.lastIndexSelected){s=Object.assign(Object.create(null),this.indicesBeforeShift);const t=Math.min(e,this.lastIndexSelected),i=Math.max(e,this.lastIndexSelected);for(let e=t;e<=i;e++)s[e]=!0}else t.metaKey?e in(s=Object.assign(Object.create(null),s))?(delete s[e],this.lastIndexSelected=null,this.indicesBeforeShift=null):s[e]=!0:s[e]||((s=Object.create(null))[e]=!0),this.lastIndexSelected=e,this.indicesBeforeShift=s;this.isDraggingSelection=!0,this.props.updateSelection(Object.keys(s).map(e=>parseInt(e)).sort())}),this.onListItemMouseMove=((e,t)=>{if(!this.isDraggingSelection)return r.SKIP_RECORDING;{const s=t.target.getBoundingClientRect(),i=s.top+s.height/2;let n=t.pageY<i?e:e+1;this.props.reversed&&(n=t.pageY>i?e:e+1),this.setState({indexToInsertSelection:n})}}),this.onListItemMouseUp=((e,t)=>{this.state.indexToInsertSelection||t.shiftKey||t.metaKey||!this.isIndexSelected(e)||(this.props.updateSelection([e]),this.indicesBeforeShift={[e]:!0})}),this.onDocumentMouseUp=(()=>{if(null!=this.state.indexToInsertSelection){if(this.props.onInsertItemsBetween){const e=[];for(const i of this.props.selectedIndices)this.props.listItems[i]&&e.push(this.props.listItems[i]);const t=this.props.listItems[this.state.indexToInsertSelection-1],s=this.props.listItems[this.state.indexToInsertSelection];this.props.onInsertItemsBetween(e,t,s)}else if(this.props.onChange){const e=this.props.listItems,t=this.selectedIndicesAsSet(),s=[],i=[];for(let n=0;n<this.state.indexToInsertSelection;n++)t[n]||s.push(e[n]);for(let n of this.props.selectedIndices)i.push(s.length),s.push(e[n]);for(let n=this.state.indexToInsertSelection;n<e.length;n++)t[n]||s.push(e[n]);this.props.onChange(s),this.props.updateSelection(i)}this.props.onReorder&&this.props.onReorder()}this.isDraggingSelection=!1,this.setState({indexToInsertSelection:null})}),this._cachedListItems=[],this.state={indexToInsertSelection:null}}componentDidMount(){document.addEventListener("mouseup",this.onDocumentMouseUp)}componentWillUnmount(){document.removeEventListener("mouseup",this.onDocumentMouseUp)}cachedItemCallback(e){return new o.CachedSubtree(()=>this.props.renderListItem(this.props.listItems[e],e,this.props.selectedIndices.indexOf(e)>=0,this.onListItemMouseDown.bind(this,e),this.onListItemMouseMove.bind(this,e),this.onListItemMouseUp.bind(this,e)))}render(){let e=this._cachedListItems,t=this.props.listItems.length,s=e.length,o=[];if(t>s){for(let i=s;i<t;i++)e.push(this.cachedItemCallback(i));s=t}for(let r=0;r<s;r++){const s=[e[r].render(r<t)];r===this.state.indexToInsertSelection&&(this.props.reversed?s.push(i.createElement("div",{className:n.insertDivider,key:`separator-${r}`})):s.unshift(i.createElement("div",{className:n.insertDivider,key:`separator-${r}`}))),r===t-1&&this.state.indexToInsertSelection===t&&(this.props.reversed?s.unshift(i.createElement("div",{className:n.insertDivider,key:`separator-${r}`})):s.push(i.createElement("div",{className:n.insertDivider,key:`separator-${r}`}))),o.push(s)}return this.props.reversed&&o.reverse(),i.createElement("div",null,o)}}l.displayName="DraggableList",t.DraggableList=l,l.propTypes={onChange:(e,t,s)=>{if(!e.onChange&&!e.onInsertItemsBetween)return new Error("DraggableList: onChange or onInsertItemsBetween must be provided")},onInsertSelectionAt:(e,t,s)=>{if(!e.onChange&&!e.onInsertItemsBetween)return new Error("DraggableList: onChange or onInsertItemsBetween must be provided")}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,E){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(t){t[t.NONE=0]="NONE",t[t.PENDING=1]="PENDING",t[t.SHOWING=2]="SHOWING"}(o.TooltipState||(o.TooltipState={})),function(t){t[t.BELOW=0]="BELOW",t[t.LEFT=1]="LEFT",t[t.RIGHT=2]="RIGHT",t[t.ABOVE=3]="ABOVE"}(o.TooltipPosition||(o.TooltipPosition={})),function(t){t[t.ELEMENT=0]="ELEMENT",t[t.KEY=1]="KEY",t[t.TEXT=2]="TEXT"}(o.TargetKind||(o.TargetKind={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,t,i){o.exports={notInteractive:"tooltip--notInteractive--2q4-q",arrow:"tooltip--arrow--13xfp",upArrow:"tooltip--upArrow--3q67E tooltip--arrow--13xfp",downArrow:"tooltip--downArrow--2_Bdd tooltip--arrow--13xfp",leftArrow:"tooltip--leftArrow--2X3pK tooltip--arrow--13xfp",rightArrow:"tooltip--rightArrow--ZxI4Y tooltip--arrow--13xfp",content:"tooltip--content--3GEna",row:"tooltip--row--1E13k",column:"tooltip--column--2d6NT",interactiveTooltipContainer:"tooltip--interactiveTooltipContainer--3ejwd tooltip--column--2d6NT",avatar:"tooltip--avatar--Og84B",tooltipName:"tooltip--tooltipName--qApnf",italicText:"tooltip--italicText--G5cDr",important:"tooltip--important--27cm9",prototypeInfoText:"tooltip--prototypeInfoText--PTCCf",fixPositionInfoText:"tooltip--fixPositionInfoText--2OPlq",prototypeOriginInfoIcon:"tooltip--prototypeOriginInfoIcon--2Kltu",prototypeNoOriginFrameInfoIcon:"tooltip--prototypeNoOriginFrameInfoIcon--1wPvZ",prototypeDestinationInfoIcon:"tooltip--prototypeDestinationInfoIcon--1rGqq",prototypeTransitionInfoIcon:"tooltip--prototypeTransitionInfoIcon--1nNiC",prototypeScrollInfoIcon:"tooltip--prototypeScrollInfoIcon--eX1l8",fixPositionInfoIcon:"tooltip--fixPositionInfoIcon--OEZT6",text:"tooltip--text--3Jl9L",textWithShortcut:"tooltip--textWithShortcut--2r28_",shortcut:"tooltip--shortcut--30dt8"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,l,f){t.exports={id:null,src:'<svg width="25" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M.95.95h24v24h-24z" fill="#30c2ff"/><path d="M9.45 6.066L18.353 12l-8.901 5.934V6.066zm1 1.868v8.132L16.55 12l-6.1-4.066z" fill-rule="evenodd" fill="#f8f8f8"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,v,t){h.exports={id:"g26eb1cad",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M12 4H4v8h8V4zM4 3H3v10h10V3H4zM2 4H0V3h2v1zm14 0h-2V3h2v1zM2 13H0v-1h2v1zm14 0h-2v-1h2v1zM12 2V0h1v2h-1zm0 14v-2h1v2h-1zM3 2V0h1v2H3zm0 14v-2h1v2H3z" fill-rule="evenodd"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,v,z){h.exports={id:"g624143ed",src:'<svg width="34" height="22" xmlns="http://www.w3.org/2000/svg"><path d="M1 1V.5H.5V1H1zm19.5 0h.5V.5h-.5V1zm0 20v.5h.5V21h-.5zM1 21H.5v.5H1V21zm32-10l.354.354.374-.375-.396-.353L33 11zM1 1.5h19.5v-1H1v1zm19.5 19H1v1h19.5v-1zm-19 .5V1h-1v20h1zm22-10c0 1.657-1.343 3-3 3v1c2.21 0 4-1.79 4-4h-1zm-3 3c-1.657 0-3-1.343-3-3h-1c0 2.21 1.79 4 4 4v-1zm-3-3c0-1.657 1.343-3 3-3V7c-2.21 0-4 1.79-4 4h1zm3-3c1.657 0 3 1.343 3 3h1c0-2.21-1.79-4-4-4v1zm3.5 3.5h9v-1h-9v1zm8.646-.854l-4.5 4.5.708.708 4.5-4.5-.708-.708zm.686-.02l-4.5-4-.664.748 4.5 4 .664-.748zM20 1v6.5h1V1h-1zm0 13.5V21h1v-6.5h-1z" fill="#fcfcfc"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,v,l){h.exports={id:null,src:'<svg width="32" height="29" xmlns="http://www.w3.org/2000/svg"><path d="M21 6H11v17h10V6zM10 5v19h12V5H10z" fill-rule="evenodd" fill="#fff"/><path d="M22 24h2.958v-1H22v1zm0-18h2.958V5H22v1zm4.042-1h3.25v1h-3.25V5zm4.333 0H32v1.425h-1V6h-.625V5zM32 7.375v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8v2.85h-1v-2.85h1zm0 3.8V24h-1.625v-1H31v-.425h1zM29.292 24h-3.25v-1h3.25v1z" fill="#fff"/><path d="M21 1H1v27h20V1zM0 0v29h22V0H0z" fill-rule="evenodd" fill="#828282"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,v,l){h.exports={id:null,src:'<svg width="29" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M23 21V11H6v10h17zm1-11H5v12h19V10z" fill-rule="evenodd" fill="#fff"/><path d="M6 22v2.959H5V22h1zm17 0h1v2.959h-1V22zm1 4.041v3.25h-1v-3.25h1zm0 4.334V32h-1.425v-1H23v-.625h1zM21.625 32h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0h-2.85v-1h2.85v1zm-3.8 0H5v-1.625h1V31h.425v1zM5 29.291v-3.25h1v3.25H5z" fill="#fff"/><path d="M28 21V1H1v20h27zm1-21H0v22h29V0z" fill-rule="evenodd" fill="#828282"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,h,v){t.exports={id:null,src:'<svg width="22" height="29" xmlns="http://www.w3.org/2000/svg"><path d="M21 1H1v27h20V1zM0 0v29h22V0H0z" fill-rule="evenodd" fill="#828282"/><path d="M5 4h12v4H5V4zm0 6h12v4H5v-4zm0 6h12v4H5v-4zm0 6h12v4H5v-4z" fill="#828282"/><path d="M0 0h22v5H0V0z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=o(34,1   ),a=o(370              ),n=o(232                        ),s=o(385                                        ),r=o(144                        ),l=o(302          ),p=o(279         ),c=o(198         ),m=o(281                                  ),d=o(396                       ),O=o(204                                            ),T=o(397            ),E=150,_=a.pxToInt(s.tooltipArrowHeight),I=a.pxToInt(s.tooltipDist);class g extends i.Component{constructor(t){super(t),this.contentRef=(t=>{if(t){const e=t.cloneNode(!0);e.setAttribute("style","display: block; visibility: hidden; position: fixed"),t.parentElement.appendChild(e);let o,i=this.props.tooltip.maxWidth?this.props.tooltip.maxWidth:E,a=e.offsetHeight+1;const n=this.props.tooltip.target,s=n.kind===d.TargetKind.ELEMENT&&n.data&&n.data.unconstrainWidth;o=s?e.offsetWidth+1:e.offsetWidth+1<i?e.offsetWidth:i,s||(e.style.width=`${o}px`,a=e.offsetHeight+1);const r=this._pointAt();switch(this.props.tooltip.position){case d.TooltipPosition.ABOVE:case d.TooltipPosition.BELOW:{this.props.tooltip.position===d.TooltipPosition.ABOVE?r.y-=e.offsetHeight+_:r.y+=_,r.x-=o/2,r.x=Math.max(r.x,I),r.y=Math.max(r.y,I);const t=r.x+o,i=window.innerWidth-I;t>i&&(r.x=i-o);break}case d.TooltipPosition.RIGHT:r.x+=_,r.y-=a/2,r.x=Math.max(r.x,I),r.y=Math.max(r.y,I);break;case d.TooltipPosition.LEFT:r.x-=_+o,r.y-=a/2,r.x=Math.max(r.x,I),r.y=Math.max(r.y,I)}const l=s?o:i;t.setAttribute("style",`left: ${0|r.x}px; top: ${0|r.y}px; max-width: ${l}px`),e.remove()}}),this.renderTargetElement=(t=>{if(t.key===g.USER_INFO){const e=t.data.userImgUrl,o=t.data.userHandle;return i.createElement("div",{className:T.row},i.createElement("img",{className:T.avatar,src:e}),i.createElement("span",{className:T.tooltipName},p.truncateText(o,25)))}if(t.key===g.STYLE_INFO){const e=t.data.styleName,o=t.data.styleDescription,a=t.data.styleFileName;return i.createElement("div",{className:T.column},e&&i.createElement("div",null,e),o&&i.createElement("div",null,o),a&&i.createElement("div",{className:T.italicText},"in ",a))}return t.key===g.PROTOTYPE_ORIGIN_INFO?i.createElement("div",{className:T.row},i.createElement(r.Svg,{className:T.prototypeOriginInfoIcon,svg:g.PROTOTYPE_ORIGIN_INFO_ICON,useOriginalSrcFills:!0}),i.createElement("span",{className:T.prototypeInfoText},"Select the frame your prototype will begin with.")):t.key===g.PROTOTYPE_NO_ORIGIN_FRAME_INFO?i.createElement("div",{className:T.row},i.createElement(r.Svg,{className:T.prototypeNoOriginFrameInfoIcon,svg:g.PROTOTYPE_NO_ORIGIN_FRAME_INFO_ICON}),i.createElement("span",{className:T.prototypeInfoText},"A prototype needs to have at least one frame.")):t.key===g.PROTOTYPE_ACTION_INFO?i.createElement("div",{className:T.row},i.createElement(r.Svg,{className:T.prototypeDestinationInfoIcon,svg:g.PROTOTYPE_ACTION_INFO_ICON}),i.createElement("span",{className:T.prototypeInfoText},"Use the circular node to connect the selected object to another frame.")):t.key===g.PROTOTYPE_SCROLL_HORIZONTAL_INFO||t.key===g.PROTOTYPE_SCROLL_VERTICAL_INFO?i.createElement("div",{className:T.row},i.createElement(r.Svg,{className:T.prototypeScrollInfoIcon,useOriginalSrcFills:!0,svg:t.key===g.PROTOTYPE_SCROLL_HORIZONTAL_INFO?g.PROTOTYPE_SCROLL_HORIZONTAL_INFO_ICON:g.PROTOTYPE_SCROLL_VERTICAL_INFO_ICON}),i.createElement("span",{className:T.prototypeInfoText},"For scrolling to work on this frame, the content needs to be bigger than the frame.")):t.key===g.SIDEBAR_GUEST_INFO?i.createElement("div",{className:T.interactiveTooltipContainer},i.createElement("p",null,"You are a guest of this organization, so you can only see files and teams you are explicitly invited to."),i.createElement("p",null,i.createElement(O.Link,{href:"https://help.figma.com/article/235-getting-started-with-figma-organization",target:"_blank",rel:"noopener"},"More info on permissions"))):t.key===g.PERMISSIONS_MODAL_RESTRICTED_USER_SELF?i.createElement("div",{className:T.interactiveTooltipContainer},i.createElement("p",null,"Your account is ",i.createElement("span",{className:T.important},"Restricted"),". You will be able to ",i.createElement("span",{className:T.important},"Edit")," when your account is upgraded."),i.createElement("p",null,i.createElement(O.Link,{href:"/settings"},"Request Upgrade..."))):t.key===g.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER?i.createElement("div",{className:T.interactiveTooltipContainer},i.createElement("p",null,"This person has a ",i.createElement("span",{className:T.important},"Restricted")," account. They will be able to ",i.createElement("span",{className:T.important},"Edit")," files when their account is upgraded.")):t.key===g.FIX_POSITION_INFO?i.createElement("div",{className:T.row},i.createElement(r.Svg,{className:T.fixPositionInfoIcon,svg:g.FIX_POSITION_INFO_ICON,useOriginalSrcFills:!0}),i.createElement("span",{className:T.fixPositionInfoText},"Keep the object in place when scrolling in prototypes.")):void 0}),this.renderContent=(()=>{let t=this.props.tooltip;switch(t.target.kind){case d.TargetKind.TEXT:return i.createElement("span",{className:T.text},t.target.text);case d.TargetKind.KEY:const e=m.getString(this.props.strings,p.camelCasedToDashed(t.target.key)),o=m.getKeyboardShortcut(this.props.keyboardShortcuts,p.camelCasedToDashed(t.target.key));return o?i.createElement("span",{className:T.textWithShortcut},i.createElement("span",null,e),i.createElement("span",{className:T.shortcut},o)):i.createElement("span",{className:T.text},e);case d.TargetKind.ELEMENT:return this.renderTargetElement(t.target)}})}_pointAt(){const t=this.props.tooltip.targetRect;switch(this.props.tooltip.position){case d.TooltipPosition.ABOVE:return new c.Vector(t.left+t.width/2,t.top);case d.TooltipPosition.BELOW:return new c.Vector(t.left+t.width/2,t.bottom);case d.TooltipPosition.RIGHT:return new c.Vector(t.right,t.top+t.height/2);case d.TooltipPosition.LEFT:return new c.Vector(t.left,t.top+t.height/2)}}render(){if(this.props.tooltip.state!==d.TooltipState.SHOWING)return i.createElement("div",null);const t=Math.random();let e=null,o=null,a=this._pointAt();switch(this.props.tooltip.position){case d.TooltipPosition.ABOVE:e={left:a.x-_,top:Math.floor(a.y-_)},o=T.downArrow;break;case d.TooltipPosition.BELOW:e={left:a.x-_,top:a.y},o=T.upArrow;break;case d.TooltipPosition.RIGHT:e={left:a.x,top:a.y-_},o=T.leftArrow;break;case d.TooltipPosition.LEFT:e={left:a.x-_-1,top:a.y-_},o=T.rightArrow}return i.createElement("div",{className:this.props.tooltip.interactive?"":T.notInteractive},i.createElement("div",{className:o,style:e,"data-is-the-tooltip":!0}),i.createElement("div",{key:t,className:T.content,ref:this.contentRef,"data-is-the-tooltip":!0},this.renderContent()))}}function N(t,e){const o=e.getAttribute("data-tooltip-proxy-element-id");if(o){const t=document.getElementById(o);t&&(e=t)}if(e.getAttribute("data-is-the-tooltip"))return{target:t.tooltip.target,position:t.tooltip.position,targetRect:t.tooltip.targetRect};let i=!!e.getAttribute("data-tooltip-show-immediately"),a=!!e.getAttribute("data-tooltip-show-above"),n=~~e.getAttribute("data-tooltip-timeout-delay")||500,s=!!e.getAttribute("data-tooltip-interactive"),r=!!e.getAttribute("data-tooltip-show-left"),l=~~e.getAttribute("data-tooltip-max-width")||E;if(t.dropdownShown){let t=e.getAttribute("data-dropdown-tooltip");if(t){const o=e.getBoundingClientRect();let a=d.TooltipPosition.RIGHT;const p=200;return(r||o.left+o.width>window.innerWidth-p)&&(a=d.TooltipPosition.LEFT),{target:{kind:d.TargetKind.KEY,key:t},position:a,targetRect:o,timeoutDelay:n,showImmediately:i,interactive:s,maxWidth:l}}}else{let t=e.getAttribute("data-tooltip");if(t){const o=e.getBoundingClientRect();let p=d.TooltipPosition.BELOW;return r?p=d.TooltipPosition.LEFT:(a||window.innerHeight-o.bottom<100)&&(p=d.TooltipPosition.ABOVE),{target:{kind:d.TargetKind.KEY,key:t},position:p,targetRect:o,timeoutDelay:n,showImmediately:i,interactive:s,maxWidth:l}}let o=e.getAttribute("data-tooltip-text");if(o)return{target:{kind:d.TargetKind.TEXT,text:o},position:r?d.TooltipPosition.LEFT:a?d.TooltipPosition.ABOVE:d.TooltipPosition.BELOW,targetRect:e.getBoundingClientRect(),timeoutDelay:n,showImmediately:i,interactive:s,maxWidth:l};const p=e.getAttribute("data-tooltip-content-key");if(p){let t;if(p===g.USER_INFO){const o=e.getAttribute("data-tooltip-user-img-url"),i=e.getAttribute("data-tooltip-user-handle"),a="true"===e.getAttribute("data-tooltip-unconstrain-width");t={kind:d.TargetKind.ELEMENT,key:p,data:{userImgUrl:o,userHandle:i,unconstrainWidth:a}}}else if(p===g.STYLE_INFO){const o=e.getAttribute("data-tooltip-style-name"),i=e.getAttribute("data-tooltip-style-description"),a=e.getAttribute("data-tooltip-style-file-name"),n="true"===e.getAttribute("data-tooltip-unconstrain-width");t={kind:d.TargetKind.ELEMENT,key:p,data:{styleName:o,styleDescription:i,styleFileName:a,unconstrainWidth:n}}}else-1!==[g.PROTOTYPE_ORIGIN_INFO,g.PROTOTYPE_ACTION_INFO,g.PROTOTYPE_SCROLL_HORIZONTAL_INFO,g.PROTOTYPE_SCROLL_VERTICAL_INFO,g.SIDEBAR_GUEST_INFO,g.PERMISSIONS_MODAL_RESTRICTED_USER_SELF,g.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER,g.FIX_POSITION_INFO].indexOf(p)&&(t={kind:d.TargetKind.ELEMENT,key:p,data:{unconstrainWidth:!0}});return{target:t,position:r?d.TooltipPosition.LEFT:a?d.TooltipPosition.ABOVE:d.TooltipPosition.BELOW,targetRect:e.getBoundingClientRect(),timeoutDelay:n,showImmediately:i,interactive:s,maxWidth:l}}}return null}g.displayName="TooltipView",g.USER_INFO="tooltip-user-info",g.STYLE_INFO="tooltip-style-info",g.PROTOTYPE_ORIGIN_INFO="tooltip-prototype-origin-info",g.PROTOTYPE_NO_ORIGIN_FRAME_INFO="tooltip-prototype-no-origin-frame-info",g.PROTOTYPE_ACTION_INFO="tooltip-prototype-destination-info",g.PROTOTYPE_SCROLL_HORIZONTAL_INFO="tooltip-prototype-scroll-horizontal-info",g.PROTOTYPE_SCROLL_VERTICAL_INFO="tooltip-prototype-scroll-vertical-info",g.SIDEBAR_GUEST_INFO="tooltip-sidebar-guest-info",g.PERMISSIONS_MODAL_RESTRICTED_USER_SELF="tooltip-permissions-modal-restricted-user-self",g.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER="tooltip-permissions-modal-restricted-user-other",g.FIX_POSITION_INFO="tooltip-fix-position-info",g.PROTOTYPE_ORIGIN_INFO_ICON=o(398                                                ),g.PROTOTYPE_NO_ORIGIN_FRAME_INFO_ICON=o(399                                            ),g.PROTOTYPE_ACTION_INFO_ICON=o(400                                                                    ),g.PROTOTYPE_SCROLL_HORIZONTAL_INFO_ICON=o(401                                                                     ),g.PROTOTYPE_SCROLL_VERTICAL_INFO_ICON=o(402                                                                   ),g.FIX_POSITION_INFO_ICON=o(403                                                                ),e.TooltipView=g,e.initializeTooltipListener=function(t){document.addEventListener("mouseleave",()=>{t.dispatch(n.tooltip.hide())}),document.addEventListener("mousemove",e=>{let o=t.getState(),i=e.target;if(1!==i.nodeType)return;let a=null;for(;i&&!(a=N(o,i));)i=i.parentElement;a?a.position===o.tooltip.position&&l.clientRectsEqual(a.targetRect,o.tooltip.targetRect)?o.tooltip.state===d.TooltipState.SHOWING&&null!==o.tooltip.timeoutID&&t.dispatch(n.tooltip.cancelHideAfterDelay()):o.tooltip.state===d.TooltipState.SHOWING||a.showImmediately?t.dispatch(n.tooltip.showImmediately({target:a.target,targetRect:a.targetRect,position:a.position,interactive:a.interactive,maxWidth:a.maxWidth})):t.dispatch(n.tooltip.showAfterDelay({target:a.target,targetRect:a.targetRect,position:a.position,timeoutDelay:a.timeoutDelay,interactive:a.interactive,maxWidth:a.maxWidth})):o.tooltip.state===d.TooltipState.PENDING?t.dispatch(n.tooltip.hide()):o.tooltip.state===d.TooltipState.SHOWING&&t.dispatch(n.tooltip.hideAfterDelay({timeoutDelay:500}))},!0)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,e){t.exports={dropdown:"dropdown--dropdown--35dH4 _overlayBase--_overlayBase--1sCqN",_optionBase:"dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",option:"dropdown--option--20q-- dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionHover:"dropdown--optionHover--hW-C9 dropdown--option--20q-- dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionDisabled:"dropdown--optionDisabled--3N18M dropdown--option--20q-- dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",separator:"dropdown--separator--11K1o",updateBadge:"dropdown--updateBadge--3sGoO",checkedOption:"dropdown--checkedOption--2Ac0a",check:"dropdown--check--3SFoQ"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=0;function o(e){return e.replace(/[A-Z]/g,function(e){return"-"+e.toLowerCase()})}function l(e){return Array.isArray(e)?n.VALUE:"object"==typeof e?n.DECLARATION:n.VALUE}function a(e,t,i,r){var p,b,x="."+i+" {\n";for(p in r)if(l(b=r[p])===n.VALUE){let e=Array.isArray(b)?b:[b];for(b of e)if(p in f)for(let e of f[p].concat([""]))x+="  "+e+o(p)+": "+b+";\n";else if(p in s&&b in s[p])for(let e of s[p][b].concat([""]))x+="  "+o(p)+": "+e+b+";\n";else"number"!=typeof b||p in c||(b=`${b}px`),x+="  "+o(p)+": "+b+";\n"}for(p in x+="}\n",r)if(l(b=r[p])===n.DECLARATION){var k="";if(p in u)k=":"+o(p);else if(p in d)k="::"+o(p);else{p.startsWith("_")?(p=p.slice(1),k=" "):p.startsWith(">")&&(p=p.slice(1),k=" > ");var w=p+"-"+t;k+="."+w,e[p]=w}x+=a(e,t,i+k,b)}return x}!function(e){e[e.DECLARATION=0]="DECLARATION",e[e.VALUE=1]="VALUE"}(n||(n={})),t.create=function(e){var t=document.createElement("style"),i={},n="\n",o=r++;for(var l in e){var f=l+"-"+o;i[l]=f,n+=a(i,o,f,e[l])}return t.textContent=n,document.head.appendChild(t),i},t.join=function(...e){return e.filter(e=>e).join(" ")};var f={appearance:["-webkit-","-moz-"],justifyContent:["-webkit-"],flexWrap:["-webkit-"],flexGrow:["-webkit-"],flex:["-webkit-"],flexPositive:["-webkit-"],flexShrink:["-webkit-"],flexNegative:["-webkit-"],flexOrder:["-webkit-"],flexDirection:["-webkit-"],alignItems:["-webkit-"],transform:["-webkit-"],transformOrigin:["-webkit-"],userSelect:["-webkit-","-moz-","-ms-"],flexFlow:["-webkit-"],alignContent:["-webkit-"]},s={display:{flex:["-webkit-"],"inline-flex":["-webkit-"]}},c={animationIterationCount:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,stopOpacity:!0,strokeDashoffset:!0,strokeOpacity:!0,strokeWidth:!0},u={active:!0,any:!0,checked:!0,default:!0,disabled:!0,empty:!0,enabled:!0,first:!0,firstChild:!0,firstOfType:!0,fullscreen:!0,focus:!0,hover:!0,indeterminate:!0,inRange:!0,invalid:!0,lastChild:!0,lastOfType:!0,left:!0,link:!0,onlyChild:!0,onlyOfType:!0,optional:!0,outOfRange:!0,readOnly:!0,readWrite:!0,required:!0,right:!0,root:!0,scope:!0,target:!0,valid:!0,visited:!0,"-moz-focusring":!0},d={after:!0,before:!0,selection:!0,MozPlaceholder:!0,WebkitInputPlaceholder:!0};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g838448e5",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M2 4L.5 5.5 4 9l5.5-5.5L8 2 4 6 2 4z" fill="#dadada"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(405             ),i=t(406             ),p=t(143              ),n=t(144                        ),a=t(407                                  );!function(e){class s extends p.PureComponent{constructor(){super(...arguments),this.preventDefault=(e=>{e.preventDefault()}),this.onClick=p.mouseEvent(this,"click",e=>{if(!this.props.onClick)return p.SKIP_RECORDING;this.props.onClick(e)})}render(){return o.createElement("div",{className:`${r.dropdown} ${this.props.className||""}`,onClick:this.onClick,onContextMenu:this.preventDefault,style:this.props.style},this.props.children)}}s.displayName="Dropdown",e.Dropdown=s;class t extends p.PureComponent{constructor(e){super(e),this.onDragStart=(e=>{e.preventDefault()}),this.onMouseOver=(e=>{this.setState({hover:!0}),this.mouseOverTimestamp=Number(e.timeStamp)}),this.onMouseOut=(e=>{this.setState({hover:!1})}),this.onMouseUp=(e=>{if(Number(e.timeStamp)-this.mouseOverTimestamp>20){const s=e.target;null!=s.click&&(this.mouseUpTimer=setTimeout(s.click.bind(s),1))}}),this.onClick=p.mouseEvent(this,"click",e=>{clearTimeout(this.mouseUpTimer),this.props.onClick&&this.props.onClick(e)}),this.state={hover:!1}}render(){const e=i.join(this.props.disabled?r.optionDisabled:this.state.hover?r.optionHover:r.option,this.props.className);return o.createElement("a",{id:this.props.id,className:e,href:this.props.href,target:this.props.target,rel:"noopener",onClick:this.props.disabled?null:this.onClick,onMouseUp:this.props.disabled?null:this.onMouseUp,onMouseOver:this.props.disabled?null:this.onMouseOver,onMouseOut:this.props.disabled?null:this.onMouseOut,onDragStart:this.onDragStart,"data-dropdown-tooltip":this.props.tooltip},this.props.children)}}t.displayName="Option",e.Option=t,t.defaultProps={padding:18};class l extends t{}e.Option6=l,l.defaultProps={padding:6};class c extends o.PureComponent{render(){let e=r.separator;return this.props.className&&(e+=` ${this.props.className}`),o.createElement("div",{className:e,style:this.props.style})}}c.displayName="Separator",e.Separator=c;class h extends o.PureComponent{render(){return o.createElement(t,Object.assign({},this.props,{className:this.props.className?`${r.checkedOption} ${this.props.className}`:r.checkedOption}),this.props.checked?o.createElement(n.Svg,{className:r.check,svg:a}):o.createElement("span",{className:r.check}),this.props.children)}}h.displayName="CheckedOption",e.CheckableOption=h}(s.dropdown||(s.dropdown={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){e.exports={styleIcon:"style_icon--styleIcon--3-PzQ",image:"style_icon--image--1eP8e",listImage:"style_icon--listImage--rgLLM style_icon--image--1eP8e",bitmapImage:"style_icon--bitmapImage--3DND9 style_icon--image--1eP8e",bitmapListImage:"style_icon--bitmapListImage--27lkv style_icon--bitmapImage--3DND9 style_icon--image--1eP8e",fillIcon:"style_icon--fillIcon--2kZ-_",selectedWithOutline:"style_icon--selectedWithOutline--IJmJK",selectedWithBackground:"style_icon--selectedWithBackground--3z5DF",imageWithBorder:"style_icon--imageWithBorder--1QlF1",selectedOutline:"style_icon--selectedOutline---dYHC style_icon--styleIcon--3-PzQ",strokeMask:"style_icon--strokeMask--3UZKg",strokeMaskWithBorder:"style_icon--strokeMaskWithBorder--2CfCI",styleChit:"style_icon--styleChit--1lHkA chit--chit--1bkYY",failedStyleChit:"style_icon--failedStyleChit--2Cvvo",failedThumb:"style_icon--failedThumb--38_4t",failedTextThumb:"style_icon--failedTextThumb--1lgGi style_icon--failedThumb--38_4t",failedFillThumb:"style_icon--failedFillThumb---3JnL style_icon--failedThumb--38_4t",failedPropertyThumb:"style_icon--failedPropertyThumb--3sh30 style_icon--failedThumb--38_4t"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.hasInvalidCssThumbnail=(t=>!!e.cssThumbnailMaybeSupported(t.style_type)&&!(t.meta&&t.meta.style_thumbnail)),e.hasValidCssThumbnail=(t=>!!t.meta&&!!t.meta.style_thumbnail&&"INVALID"!==t.meta.style_thumbnail.type),e.parseLibraryMeta=(t=>{if("string"==typeof t)try{return JSON.parse(t)}catch(e){return{}}return t}),e.cssThumbnailMaybeSupported=(t=>"FILL"===t||"EFFECT"===t||"GRID"===t),e.cssThumbnailDefinitelySupported=(t=>"EFFECT"===t||"GRID"===t),e.extractStyleThumbnailFromNodeChange=((t,e)=>"FILL"===e?{type:e,fillPaints:t.fillPaints}:"EFFECT"===e?{type:e,effects:t.effects}:"GRID"===e?{type:e,layoutGrids:t.layoutGrids}:{type:"INVALID"}),e.isSingleSolidPaintStyle=(t=>{if(t.meta&&t.meta.style_thumbnail&&"FILL"===t.meta.style_thumbnail.type){const e=t.meta.style_thumbnail.fillPaints;return 1==e.length&&"SOLID"===e[0].type}return!0}),e.shouldUseBorderForFillStyleChit=(t=>{if(t.meta&&t.meta.style_thumbnail&&"FILL"===t.meta.style_thumbnail.type){const l=t.meta.style_thumbnail.fillPaints;if(1===l.length&&"SOLID"===l[0].type)return e.shouldUseBorderForBackground(l[0].color)}return!1}),e.shouldUseBorderForBackground=(t=>(t.r+t.g+t.b)/3>.9373),e.isColorStyleTransparent=(t=>{if("FILL"!==t.style_type)return!1;const e=t.meta&&t.meta.style_thumbnail;if(!e)return!1;if("FILL"!==e.type)return!1;for(const l of e.fillPaints)if(l.opacity>0)return!1;return!0}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"geeab8bb2",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-6.738-1.817C6.817 19.2 9.256 20.5 12 20.5c2.744 0 5.183-1.3 6.738-3.317l.792.61C17.793 20.047 15.066 21.5 12 21.5c-3.066 0-5.793-1.453-7.53-3.707l.792-.61z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){e.exports={id:"gee3c1e27",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm6.738-12.183C17.183 4.8 14.744 3.5 12 3.5c-2.744 0-5.183 1.3-6.738 3.317l-.792-.61C6.207 3.953 8.934 2.5 12 2.5c3.066 0 5.793 1.453 7.53 3.707l-.792.61z" fill-rule="evenodd"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:"g566b11d4",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm5.183-13.738C19.2 6.817 20.5 9.256 20.5 12c0 2.744-1.3 5.183-3.317 6.738l.61.792C20.047 17.793 21.5 15.066 21.5 12c0-3.066-1.453-5.793-3.707-7.53l-.61.792z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"geb106596",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-1.1 1.43c.36.046.727.07 1.1.07 4.694 0 8.5-3.806 8.5-8.5 0-.373-.024-.74-.07-1.1l.991-.129c.052.402.079.813.079 1.229 0 5.247-4.253 9.5-9.5 9.5-.416 0-.827-.027-1.229-.079l.13-.991z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g1e12165c",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zM10.9 3.57c.36-.046.727-.07 1.1-.07 4.694 0 8.5 3.806 8.5 8.5 0 .373-.024.74-.07 1.1l.991.129c.052-.402.079-.813.079-1.229 0-5.247-4.253-9.5-9.5-9.5-.416 0-.826.027-1.229.079l.13.991z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,c){t.exports={id:"ge0dc4c5e",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zM6.817 5.262C4.8 6.817 3.5 9.256 3.5 12c0 2.743 1.3 5.183 3.317 6.738l-.61.792C3.954 17.793 2.5 15.066 2.5 12c0-3.066 1.453-5.793 3.708-7.53l.61.792z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gc66dd1d1",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm-8.43-8.1c-.046.36-.07.727-.07 1.1 0 4.694 3.806 8.5 8.5 8.5.373 0 .74-.024 1.1-.07l.129.991c-.403.052-.813.079-1.229.079-5.247 0-9.5-4.253-9.5-9.5 0-.416.027-.827.079-1.229l.992.13z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,e){t.exports={id:"gdcb9fc71",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 18c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0 1c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm1.1-15.43c-.36-.046-.727-.07-1.1-.07-4.694 0-8.5 3.806-8.5 8.5 0 .373.024.74.07 1.1l-.991.129C2.527 12.827 2.5 12.416 2.5 12c0-5.247 4.253-9.5 9.5-9.5.416 0 .827.027 1.229.079l-.13.991z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g9ec4792f",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zM8.433 9.256C9.256 8.188 10.548 7.5 12 7.5c1.452 0 2.744.688 3.567 1.756l.793-.61C15.354 7.341 13.775 6.5 12 6.5c-1.775 0-3.354.841-4.36 2.146l.793.61z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g015b14f4",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-3.567-5.256C9.256 15.812 10.548 16.5 12 16.5c1.452 0 2.744-.688 3.567-1.756l.793.61C15.354 16.659 13.775 17.5 12 17.5c-1.775 0-3.354-.841-4.36-2.146l.793-.61z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g61df6c87",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-2.744-4.433C8.188 14.744 7.5 13.452 7.5 12c0-1.452.688-2.744 1.756-3.567l-.61-.793C7.341 8.646 6.5 10.225 6.5 12c0 1.775.841 3.354 2.146 4.36l.61-.793z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g669fa631",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-4.463-7.418c-.024-.19-.037-.385-.037-.582 0-2.485 2.015-4.5 4.5-4.5.197 0 .391.013.582.037l.13-.991c-.233-.03-.471-.046-.712-.046-3.038 0-5.5 2.462-5.5 5.5 0 .241.016.479.046.711l.991-.129z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf209a574",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-4.463-8.582c-.024.19-.037.385-.037.582 0 2.485 2.015 4.5 4.5 4.5.197 0 .391-.013.582-.037l.13.991c-.233.03-.471.046-.712.046-3.038 0-5.5-2.462-5.5-5.5 0-.241.016-.479.046-.711l.991.129z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g2848436a",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm2.744-4.433l.61.793C16.659 15.354 17.5 13.775 17.5 12c0-1.775-.841-3.354-2.146-4.36l-.61.793C15.812 9.256 16.5 10.548 16.5 12c0 1.452-.688 2.744-1.756 3.567z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g3d6830e4",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.582-12.463c.19-.024.385-.037.582-.037 2.485 0 4.5 2.015 4.5 4.5 0 .197-.013.392-.037.582l.991.13c.03-.233.046-.47.046-.712 0-3.038-2.462-5.5-5.5-5.5-.24 0-.478.016-.711.046l.129.991z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gc1ea2f9d",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm-.582-3.537c.19.024.385.037.582.037 2.485 0 4.5-2.015 4.5-4.5 0-.197-.013-.391-.037-.582l.991-.13c.03.233.046.471.046.712 0 3.038-2.462 5.5-5.5 5.5-.24 0-.478-.015-.711-.046l.129-.991z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(l,z,c){l.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm0 1c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8z" fill-rule="evenodd"/><path d="M17.29 7.416c-.218-.252-.454-.488-.706-.707l-1.938 1.937.708.708 1.937-1.938zm-3.288-2.125c.353.105.694.237 1.02.393l-1.168 1.17-.708-.708.856-.855zm-3.998-.002c.541-.161 1.11-.258 1.697-.283L8.854 7.854l-.708-.708 1.858-1.857zM5.006 11.7c.025-.587.122-1.156.283-1.697l1.857-1.858.708.708L5.006 11.7zm.679 3.322c-.157-.327-.29-.668-.394-1.02l.855-.857.708.708-1.17 1.169zm1.731 2.268c-.252-.219-.488-.455-.707-.707l.937-.938.708.708-.938.937zm2.582 1.418c-.353-.105-.694-.237-1.02-.393l2.668-2.67.708.708-2.356 2.355zm3.998.002c-.541.161-1.11.258-1.697.283l2.847-2.848.708.708-1.858 1.857zm4.998-6.412c-.025.587-.122 1.156-.283 1.697l-1.857 1.858-.708-.708 2.848-2.847zm-.678-3.322c.156.327.288.668.393 1.02l-2.355 2.357-.708-.708 2.67-2.669zm-6.17-1.83l.708.707-2 2-.708-.708 2-2zm-3 3l.708.707-2 2-.708-.708 2-2zm4.208 5.207l-.708-.708 2-2 .708.708-2 2zm.292-5.708l-2 2 .708.708 2-2-.708-.708zm-5 5l2-2 .708.708-2 2-.708-.708z"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(l,z,c){l.exports={id:"ga5f9ca19",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.478 4.815L6.646 6.646l.708.708 3.228-3.229c-.742.133-1.448.368-2.104.69zm4.725-.725l-2.557 2.556.708.708 3-3.002c-.372-.115-.757-.203-1.15-.262zm2.937 1.063l-1.494 1.493.708.708 1.62-1.62c-.265-.21-.544-.405-.834-.58zm2.126 1.873l-2.62 2.62.708.708 2.493-2.494c-.176-.29-.37-.569-.58-.834zm1.382 2.62l-3.002 3 .708.708 2.556-2.557c-.06-.394-.148-.779-.262-1.152zm.227 3.772l-2.229 2.228.708.708.83-.832c.323-.656.558-1.362.69-2.104zm-4.353 5.767l1.832-1.831-.708-.708-3.228 3.229c.742-.133 1.448-.368 2.104-.69zm-4.725.725l2.557-2.556-.708-.708-3 3.002c.372.115.757.203 1.15.262zM7.86 18.847l1.494-1.493-.708-.708-1.62 1.62c.265.21.544.405.834.581zm-2.126-1.873l2.12-2.12-.708-.708-1.993 1.994c.176.29.37.569.58.834zm-1.382-2.62l3.002-3-.708-.708-2.556 2.557c.06.394.148.779.262 1.152zm-.227-3.772l2.229-2.228-.708-.708-.83.832c-.323.656-.558 1.362-.69 2.104zm9.729-1.728l-.708-.708-2 2 .708.708 2-2zm-3.708 2.292l-2 2 .708.708 2-2-.708-.708zm3.5 4.5l.708.708 2-2-.708-.708-2 2zm-1-3l2-2 .708.708-2 2-.708-.708zm-1 1l-2 2 .708.708 2-2-.708-.708zm-2-6l-2 2 .708.708 2-2-.708-.708z"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(h,t,v){h.exports={id:null,src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8.5.5h-1v3h1v-3zM3.05 2.343l-.707.707 2.122 2.122.707-.708-2.122-2.12zm10.607.707l-.707-.707-2.121 2.121.707.708 2.121-2.122zM.5 7.5v1h3v-1h-3zm12 0v1h3v-1h-3zm-7.328 4.036l-.707-.708-2.122 2.122.707.707 2.122-2.121zm6.363-.708l-.707.708 2.122 2.12.707-.706-2.122-2.122zM8.5 12.5h-1v3h1v-3z"/><path d="M10.498 7.998c0 1.38-1.12 2.5-2.5 2.5-1.38 0-2.5-1.12-2.5-2.5 0-1.38 1.12-2.5 2.5-2.5 1.38 0 2.5 1.12 2.5 2.5zm-1 0c0 .828-.672 1.5-1.5 1.5-.829 0-1.5-.672-1.5-1.5 0-.829.671-1.5 1.5-1.5.828 0 1.5.671 1.5 1.5z" fill-rule="evenodd"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,e,h){t.exports={id:"gd5684ed9",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 .5V0H7v3h1V.5zM2.904 2.197l-.354-.354-.707.707.354.354L3.61 4.318l.354.354.707-.708-.354-.353-1.414-1.414zm9.9.707l.353-.354-.707-.707-.354.354-1.414 1.414-.354.353.708.708.353-.354 1.414-1.414zM.5 7H0v1h3V7H.5zm12 0H12v1h3V7h-2.5zm-8.182 4.39l.354-.354-.707-.708-.354.354-1.414 1.414-.354.354.707.707.354-.354 1.414-1.414zm7.071-.708l-.354-.354-.707.708.354.353 1.414 1.414.354.354.707-.707-.354-.354-1.414-1.414zM8 12.5V12H7v3h1v-2.5zm.998-5.002c0 .828-.672 1.5-1.5 1.5-.829 0-1.5-.672-1.5-1.5 0-.829.671-1.5 1.5-1.5.828 0 1.5.671 1.5 1.5zm1 0c0 1.38-1.12 2.5-2.5 2.5-1.38 0-2.5-1.12-2.5-2.5 0-1.38 1.12-2.5 2.5-2.5 1.38 0 2.5 1.12 2.5 2.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"ge8f0c4d6",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M15 0v3H0V0h15zm0 6v3H0V6h15zm0 6v3H0v-3h15z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"ge53748a8",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v15H0V0zm6 0h3v15H6V0zm6 0h3v15h-3V0z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,v,t){h.exports={id:"g4be849bb",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v3H0V0zm6 0h3v3H6V0zm6 0h3v3h-3V0zM0 6h3v3H0V6zm6 0h3v3H6V6zm6 0h3v3h-3V6zM0 12h3v3H0v-3zm6 0h3v3H6v-3zm6 0h3v3h-3v-3z" fill="#444"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,h,v){t.exports={id:"g28d0418d",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7 16.5h2.5v-1h-2v-14h5v3h1v-4H.5v4h1v-3h5v14h-2v1H7z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),l=t(1427                      ),i=t(404                              ),r=t(409               ),n=t(410                                   ),p=t(144                        ),m=t(542                   ),o=t(388                                                    ),c=new m.ColorCSSFormatter,g=t(411                                                           ),f=t(412                                                              ),h=t(413                                                           ),u=t(414                                                           ),d=t(415                                                              ),_=t(416                                                              ),y=t(417                                                              ),b=t(418                                                                 ),v=t(419                                                            ),N=t(420                                                               ),E=t(421                                                            ),S=t(422                                                            ),T=t(423                                                               ),k=t(424                                                               ),C=t(425                                                               ),F=t(426                                                                  ),w=t(427                                                    ),$=t(428                                                       ),I=t(429                                                          ),x=t(430                                                            ),L={INNER_SHADOW:{"01":v,"0-1":N,10:E,11:S,"1-1":T,"-10":k,"-11":C,"-1-1":F},DROP_SHADOW:{"01":g,"0-1":f,10:h,11:u,"1-1":d,"-10":_,"-11":y,"-1-1":b}},R=t(431                                                  ),D=t(432                                                     ),M=t(433                                                      ),O=M,P=t(434                                                        );class W extends a.PureComponent{render(){return"TEXT"===this.props.styleType?a.createElement("div",{className:r.failedTextThumb},a.createElement(p.Svg,{svg:P})):"EFFECT"===this.props.styleType?a.createElement("div",{className:r.failedPropertyThumb},a.createElement(o.SvgWithFallback,{svg:I,fallbackSvg:x})):"FILL"===this.props.styleType?a.createElement("div",{className:r.failedFillThumb},"?"):a.createElement("div",{className:r.failedThumb},"?")}}W.displayName="FailedThumb",s.FailedThumb=W;class B extends a.PureComponent{render(){let e=null;e=l.isValidThumbnailUrl(this.props.style.thumbnail_url)?a.createElement("img",{draggable:!1,src:this.props.style.thumbnail_url}):a.createElement("div",{className:r.failedStyleChit},"?");let s=r.styleChit;return this.props.className&&(s+=` ${this.props.className}`),a.createElement("div",{className:s,onMouseDown:this.props.onMouseDown},e)}}B.displayName="FillStyleChit",s.FillStyleChit=B;class U extends a.Component{static canRenderStyleThumbnail(e){const s=e.fillPaints;return s&&1===s.length&&"SOLID"===s[0].type}render(){const e=this.props.styleThumbnail.fillPaints;if(U.canRenderStyleThumbnail(this.props.styleThumbnail)){const s=e[0],t=Object.assign({},s.color,{a:s.opacity}),l=c.format(t);let i=this.props.inList?r.listImage:r.image,p=r.strokeMask;n.shouldUseBorderForBackground(t)&&(i+=` ${r.imageWithBorder}`,p+=` ${r.strokeMaskWithBorder}`);let m=null;return this.props.maskIconForStroke&&(m=a.createElement("div",{className:p})),this.props.className&&(i+=` ${this.props.className}`),a.createElement("div",null,a.createElement("div",{className:i,style:{backgroundColor:l}}),m)}return a.createElement("div",{className:`${r.failedFillThumb} ${this.props.className||""}`},"?")}}U.displayName="FillCSSThumbnail";class G extends a.Component{render(){const e=this.props.styleThumbnail.effects;if(!e||0===e.length)return a.createElement("div",{className:r.failedPropertyThumb},a.createElement(o.SvgWithFallback,{svg:I,fallbackSvg:x}));let s,t;if(1===e.length){const a=e[0];if(a.type)if("FOREGROUND_BLUR"===a.type)s=$;else if("BACKGROUND_BLUR"===a.type)s=w;else{(s=L[a.type][`${Math.sign(a.offset.x)}${Math.sign(a.offset.y)}`])||(s=I,t=x)}}else s=I,t=x;return s?a.createElement("div",{className:`${r.image} ${this.props.className||""}`},a.createElement(o.SvgWithFallback,{svg:s,fallbackSvg:t})):a.createElement("div",{className:`${r.failedPropertyThumb} ${this.props.className||""}`},a.createElement(o.SvgWithFallback,{svg:I,fallbackSvg:x}))}}G.displayName="EffectCSSThumbnail";class V extends a.Component{render(){const e=this.props.styleThumbnail.layoutGrids;if(!e||0===e.length)return a.createElement("div",{className:r.failedPropertyThumb},a.createElement(p.Svg,{svg:O}));let s=M;if(1===e.length){const t=e[0];"STRIPES"===t.pattern&&(s="Y"===t.axis?R:D)}return s?a.createElement("div",{className:`${r.image} ${this.props.className||""}`},a.createElement(p.Svg,{svg:s})):a.createElement("div",{className:`${r.failedPropertyThumb} ${this.props.className||""}`},a.createElement(p.Svg,{svg:O}))}}V.displayName="GridCSSThumbnail";class A extends a.PureComponent{getCSSThumbnail(e){switch((e=e||{type:"INVALID"}).type){case"FILL":return U.canRenderStyleThumbnail(e)?a.createElement(U,{maskIconForStroke:this.props.maskIconForStroke,styleThumbnail:e,inList:this.props.inList,className:this.props.thumbnailClassName}):null;case"EFFECT":return a.createElement(G,{styleThumbnail:e,className:this.props.thumbnailClassName});case"GRID":return a.createElement(V,{styleThumbnail:e,className:this.props.thumbnailClassName})}return null}getImageThumbnail(e){const s=e.style_type;if(!l.isValidThumbnailUrl(e.thumbnail_url))return a.createElement("div",{className:`${r.image} ${this.props.thumbnailClassName||""}`},a.createElement(W,{styleType:s}));let t=this.props.inList?r.bitmapListImage:r.bitmapImage;return this.props.className&&(t+=` ${this.props.thumbnailClassName}`),a.createElement("img",{draggable:!1,className:t,src:e.thumbnail_url})}render(){const e=this.props.style.style_type,s=this.props.showTooltip&&this.props.style.name?i.TooltipView.STYLE_INFO:"";let t,l=r.styleIcon;if(this.props.className&&(l+=` ${this.props.className}`),"FILL"===e&&(l+=` ${r.fillIcon}`),"background"===this.props.selectedState&&(l+=` ${r.selectedWithBackground}`),"outline"===this.props.selectedState&&(l+=` ${r.selectedWithOutline}`),n.cssThumbnailMaybeSupported(this.props.style.style_type)){const e=n.hasValidCssThumbnail(this.props.style)&&this.props.style.meta.style_thumbnail;t=this.getCSSThumbnail(e)}let p=null;return t||(t=this.getImageThumbnail(this.props.style),this.props.maskIconForStroke&&(p=a.createElement("div",{className:r.strokeMask}))),a.createElement("div",{className:l,"data-tooltip-content-key":s,"data-tooltip-style-name":this.props.style.name,"data-tooltip-style-description":this.props.style.description,onContextMenu:this.props.onContextMenu,onMouseDown:this.props.onMouseDown,onDoubleClick:this.props.onDoubleClick},t,p,"outline"===this.props.selectedState?a.createElement("div",{className:`${r.selectedOutline} ${this.props.selectedOutlineClassName||""}`}):null)}}A.displayName="StyleIcon",s.StyleIcon=A,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){e.exports={_stylePickerRow:"style_grid--_stylePickerRow--2MPKf raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",scrollContainer:"style_grid--scrollContainer--3Tlb8",pickerTitleRow:"style_grid--pickerTitleRow--3CnZS style_grid--_stylePickerRow--2MPKf raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",pickerTitle:"style_grid--pickerTitle--3BZhR header_modal--headerModalTitle--8hnpX",emptyStateContainer:"style_grid--emptyStateContainer--15sdK",emptyStateMessage:"style_grid--emptyStateMessage--2siY_ text--paragraphText--25SJf",pickerTitleButton:"style_grid--pickerTitleButton--yXgGN",browseLibrariesButton:"style_grid--browseLibrariesButton--JItqj",contextMenu:"style_grid--contextMenu--1DF2j",styleGrid:"style_grid--styleGrid--3TrGE",styleIcon:"style_grid--styleIcon--au-hL",styleList:"style_grid--styleList--39nhA",thumbnail:"style_grid--thumbnail--e5j8z",selectedOutline:"style_grid--selectedOutline--1PV-0",styleRow:"style_grid--styleRow--xWAeH",selectedStyleRow:"style_grid--selectedStyleRow--3IigJ style_grid--styleRow--xWAeH",name:"style_grid--name--281Gh ellipsis--ellipsis--1RWY6",sectionOrganized:"style_grid--sectionOrganized--3kfwf",sectionHeader:"style_grid--sectionHeader--1Kjmv",sectionHeaderFileName:"style_grid--sectionHeaderFileName--2h4RZ style_grid--sectionHeader--1Kjmv",sectionHeaderPrefix:"style_grid--sectionHeaderPrefix--1SW9w style_grid--sectionHeader--1Kjmv"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),n=s(143              ),i=s(374                            ),r=s(1427                      ),l=s(404                              ),a=s(408                                  ),p=s(435           ),c=s(436               ),d=s(391                               ),y=a.dropdown.Dropdown,m=a.dropdown.Option;class h extends o.PureComponent{render(){const{style:e,position:t}=this.props.dropdownShown.data;return e.file_key===this.props.fileKey?o.createElement(y,{className:c.contextMenu,style:t},o.createElement(m,{onClick:this.props.onEditStyle.bind(this,e)},"Edit Style"),o.createElement(m,{onClick:this.props.onDeleteStyle.bind(this,e)},"Delete Style")):null}}h.displayName="StyleChitContextMenu",t.StyleChitContextMenu=h;class u extends o.PureComponent{render(){const{masterStyleKey:e,localStyles:t,sharedStylesByFile:s,teams:i}=this.props;let r=0;r+=t.length?1:0;const l=(r+=Object.keys(s).length)>1,a=Object.keys(s).sort((e,t)=>{if(!this.props.fileByKey)return 0;const s=this.props.fileByKey[e],o=this.props.fileByKey[t];if(!s||!o)return s?1:-1;if(s.team_id===o.team_id||!s.team_id&&!o.team_id)return s.name.toLocaleLowerCase().localeCompare(o.name.toLocaleLowerCase());if(!s.team_id||!o.team_id)return s.team_id?1:-1;const n=i[s.team_id],r=i[o.team_id];return n&&r?n.name&&r.name?n.name.toLocaleLowerCase().localeCompare(r.name.toLocaleLowerCase()):n.name?1:-1:n?1:-1});return o.createElement("div",null,t.length>0&&o.createElement(S,Object.assign({stylelist:t,selectedId:e,showHeader:l,recordingKey:n.joinKeys(this.props,"localStyleSection")},this.props)),a.map(t=>{const i=this.props.fileByKey[t].name;return o.createElement(S,Object.assign({key:t,stylelist:s[t],selectedId:e,fileName:i,showHeader:l,recordingKey:n.joinKeys(this.props,`section.${i}`)},this.props))}))}}u.displayName="StyleGrid",t.StyleGrid=u;class S extends o.PureComponent{constructor(){super(...arguments),this.onMouseDownStyle=((e,t)=>{t.stopPropagation(),0===t.button&&this.props.onApplyStyle(e)}),this.groupSortedStylesByPrefix=(e=>{const t={};e.forEach(e=>{const s=r.getNamePrefix(e.name);t[s]=t[s]||[],t[s].push(e)});for(const s in t)i.sortStylesByPosition(t[s]);return t}),this.renderStyleList=(e=>o.createElement("div",{className:this.props.showListLayout?c.styleList:c.styleGrid},e.map(e=>{const t=e.node_id,s=this.props.selectedId&&this.props.selectedId===e.key,i=this.props.showListLayout&&e.description;let a="";return this.props.showListLayout&&(a=s?c.selectedStyleRow:c.styleRow),o.createElement(d.RecordableDiv,{key:t,"data-tooltip-content-key":i?l.TooltipView.STYLE_INFO:"","data-tooltip-style-description":e.description,recordingKey:n.joinKeys(this.props,e.name),className:a,onMouseDown:this.onMouseDownStyle.bind(this,e),onDoubleClick:this.props.onNavigateToStyle?this.props.onNavigateToStyle.bind(this,e):null,onContextMenu:this.props.onContextMenu?this.props.onContextMenu.bind(this,e):null},o.createElement(p.StyleIcon,{selectedState:s&&(this.props.showListLayout?"background":"outline")||void 0,showTooltip:!this.props.showListLayout,style:e,className:c.styleIcon,thumbnailClassName:"TEXT"!==e.style_type?c.thumbnail:null,selectedOutlineClassName:c.selectedOutline}),this.props.showListLayout&&o.createElement("div",{className:c.name},r.getLastPartOfName(e.name)))})))}render(){const{stylelist:e,showHeader:t,fileName:s}=this.props,n=this.groupSortedStylesByPrefix([...e]),i=Object.keys(n).sort((e,t)=>n[e][0].sort_position<n[t][0].sort_position?-1:1);return o.createElement("div",{className:c.sectionOrganized},t&&s&&o.createElement("div",{className:c.sectionHeaderFileName},s),n[""]&&this.renderStyleList(n[""]),i.map(e=>e?o.createElement(o.Fragment,{key:e},o.createElement("div",{className:c.sectionHeaderPrefix},e),this.renderStyleList(n[e])):null))}}S.displayName="StyleSection",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){e.exports={_stylePickerRow:"style_panel--_stylePickerRow--2jEgk raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",scrollContainer:"style_panel--scrollContainer--HIibi",pickerTitleRow:"style_panel--pickerTitleRow--1edNa style_panel--_stylePickerRow--2jEgk raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",pickerTitle:"style_panel--pickerTitle--2lTTT header_modal--headerModalTitle--8hnpX",emptyStateContainer:"style_panel--emptyStateContainer---x3j8",emptyStateMessage:"style_panel--emptyStateMessage--3eGWk text--paragraphText--25SJf",pickerTitleButton:"style_panel--pickerTitleButton--3hI6S",browseLibrariesButton:"style_panel--browseLibrariesButton--3en3s"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,h,s){t.exports={id:"gf22cf720",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 5.5v-5h1v5h5v1h-5v5h-1v-5h-5v-1h5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"gc856ef5a",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M5 5V0h1v5h5v1H6v5H5V6H0V5h5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,e){t.exports={id:"gaadfb995",src:'<svg width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2 7.05V0h1v7.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V14H2v-2.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45zM4 9.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5C1 8.672 1.672 8 2.5 8 3.328 8 4 8.672 4 9.5zM9 14h1V6.95c1.141-.232 2-1.24 2-2.45 0-1.21-.859-2.218-2-2.45V0H9v2.05c-1.141.232-2 1.24-2 2.45 0 1.21.859 2.218 2 2.45V14zm2-9.5c0-.828-.672-1.5-1.5-1.5C8.672 3 8 3.672 8 4.5 8 5.328 8.672 6 9.5 6c.828 0 1.5-.672 1.5-1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,e){t.exports={id:"g2ef9490b",src:'<svg width="18" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M8.475 2.66c-.053-.172-.21-.567-.595-.973C7.326 1.105 6.298.5 4.42.5.797.5 0 2.75 0 2.75v10.19h1.488c1.382-1.019 3.91-.97 5.388-.105.39.229.734.517 1.018.85.25.292.456.621.606.975.151-.353.357-.681.609-.974.284-.331.628-.617 1.017-.845 1.479-.862 4.005-.908 5.386.11H17V2.75c0 0-.797-2.25-4.42-2.25-1.878 0-2.906.605-3.46 1.187-.385.406-.542.801-.595.973h-.05zm.525.3v9.463c.2-.167.408-.317.622-.446.927-.54 2.115-.795 3.241-.786 1.006.008 2.081.227 2.952.76H16V2.975c-.139-.226-.3-.423-.505-.594-.46-.397-1.33-.882-2.915-.882-1.586 0-2.34.484-2.694.835-.203.19-.277.325-.354.49-.03.064-.04.09-.052.132L9 2.959zm-1.886-.625c.203.19.277.325.354.49.03.063.039.089.054.133L8 2.959v9.459c-.198-.167-.406-.317-.618-.445-.927-.543-2.115-.8-3.243-.792-1.006.008-2.082.227-2.954.759H1V2.976c.139-.226.3-.423.505-.594.46-.397 1.33-.882 2.915-.882 1.586 0 2.34.484 2.694.835z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),l=i(38,1       ),r=i(180         ),o=i(232                        ),n=i(1430                                             ),a=i(143              ),p=i(219          ),y=i(1426                               ),h=i(129                               ),c=i(282                             ),d=i(374                            ),S=i(301           ),u=i(371                       ),m=i(437                                                                 ),f=i(287       ),g=i(283         ),_=i(214                                                    ),w=i(198         ),b=i(370              ),E=i(385                                        ),K=i(376                                                  ),k=i(144                        ),T=i(389                                                                  ),C=i(204                                            ),B=i(1417                       );t.STYLES_PICKER_WIDTH=b.pxToInt(E.stylesPickerWidth__REFRESH);const P=i(438                ),v=i(439                                                       ),M=i(440                                                         ),D=i(441                                                         ),x=i(442                                      );function F(e){return`styles-picker-${e}`}function L(e){return e&&f.isValid(e.guid)}function N(e){const t=d.getLocalStylesOfType(e.library.local.styles,e.styleType),i=R(e)?c.getValue(e.inheritStyleKey):"";return{localStyles:t,sharedStylesByFile:d.getSubscribedStylesByFileOfType(e.library,e.styleType,e.fileByKey[e.fileKey],i),masterStyleKey:i}}function R(e){if(e.inheritStyleKey&&c.notMixed(e.inheritStyleKey)){if(c.getValue(e.inheritStyleKey).length>0)return!0}return!1}function I(e){return e.initialPosition?e.initialPosition:e.pickerShown?new w.Vector(e.pickerShown.initialX,e.pickerShown.initialY):new w.Vector(0,0)}t.stylesPickerId=F,t.stylesPickerShown=function(e){return e.pickerShown&&e.pickerShown.id===F(e.inheritStyleKeyField)},t.hasSelectedStyle=L,t.mixedOrEmpty=function(e){if(e.filter(e=>e===c.MIXED).length)return!0;for(let t of e)if(0!==c.getValue(t,[]).length)return!1;return!0},t.isStyleConsumer=R,t.getMasterStyle=function(e){if(!R(e))return;const{masterStyleKey:t,localStyles:i,sharedStylesByFile:s}=N(e),l=e=>e.key===t,o=i.filter(l);if(o.length>0)return r.assertDev(1===o.length,"styles: multiple local style matches for masterStyleKey"),o[0];for(let n in s){const e=s[n].filter(l);if(e.length>0)return r.assertDev(1===e.length,"styles: multiple shared style matches for masterStyleKey"),e[0]}},t.getSelectedStyle=function(e){if(R(e)||!L(e.selectedStyleProperties))return;const{localStyles:t,sharedStylesByFile:i}=N(e),s=t=>t.key===e.selectedStyleProperties.styleKey,l=t.filter(s);if(l.length>0)return r.assertDev(1===l.length,"styles: multiple local style matches for selected styleKey"),l[0];for(let o in i){const e=i[o].filter(s);if(e.length>0)return r.assertDev(1===e.length,"styles: multiple shared style matches for selected styleKey"),e[0]}},t.extractStyleContainerProps=function(e){return{sceneGraphSelection:e.sceneGraphSelection,library:e.library,dispatch:e.dispatch,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,fileKey:e.fileKey,fileByKey:e.fileByKey,inheritStyleKeyField:e.inheritStyleKeyField,inheritStyleKey:e.inheritStyleKey,selectedStyleProperties:e.selectedStyleProperties,styleType:e.styleType,showListLayout:e.showListLayout,onCreateStyle:e.onCreateStyle,scrollContainer:e.scrollContainer,teams:e.teams,hasMixedProperties:e.hasMixedProperties||!1}};class z extends s.PureComponent{constructor(e){super(e),this.generateStyleThumbnails=S.debounce(()=>{this.props.dispatch(o.library.generateStyleThumbnails({styleType:this.props.styleType}))},200),this.uiSize={width:0,height:0},this.handleApplyStyle=(e=>{this.props.dispatch(n.applyStyle({style:e,inheritStyleKeyField:this.props.inheritStyleKeyField})),this.props.dispatch(o.tooltip.hide()),this.props.pickerShown&&this.props.pickerShown.modal&&this.props.dispatch(o.fullscreen.hidePicker())}),this.handleNavigateToStyle=(e=>{h.Fullscreen.selectStyle(e.key,e.content_hash),this.props.dispatch(o.tooltip.hide()),p.segment.track("Style Inspected",{styleType:e.style_type,from:"stylePickerContextMenu"})}),this.handleDeleteStyle=(e=>{e.file_key===this.props.fileKey&&(h.Fullscreen.deleteNode(e.node_id),y.fullscreen.triggerAction("commit"),p.segment.track("Style Deleted",{styleType:e.style_type,from:"stylePickerContextMenu"}))}),this.handleContextMenu=((e,t)=>{this.props.dispatch(o.fileBrowser.showDropdown({type:z.EDIT_STYLE_MENU,data:{style:e,position:{top:t.clientY,left:t.clientX}}}))}),this.onClose=(()=>{this.props.dispatch(o.fullscreen.hidePicker())}),this.onDragEnd=(()=>{this.isShown()&&this.props.pickerShown.modal&&this.props.dispatch(o.fullscreen.showPicker(Object.assign({},this.props.pickerShown,{modal:!1})))}),this.onBrowseLibrariesButtonClick=(()=>{this.props.dispatch(o.fileBrowser.showModal({type:B.AppModal.LIBRARY_PREFERENCES_MODAL,data:{tab:u.LibraryPreferencesModalTab.LIBRARIES}}))}),this.state={initialPosition:I(e)}}componentDidMount(){this.generateStyleThumbnails(),this.checkSizeChange()}UNSAFE_componentWillReceiveProps(e){this.generateStyleThumbnails(),this.props.initialPosition===e.initialPosition&&this.props.pickerShown===e.pickerShown||this.setState({initialPosition:I(e)})}componentDidUpdate(e,t){this.checkSizeChange()}checkSizeChange(){if(!this.props.onSizeChange)return;let e=l.findDOMNode(this),t=0,i=0;if(e){let s=e.getBoundingClientRect();t=s.width,i=s.height}t===this.uiSize.width&&i===this.uiSize.height||(this.uiSize.width=t,this.uiSize.height=i,this.props.onSizeChange(t,i,e))}shouldShowContextMenu(){return this.props.dropdownShown&&this.props.dropdownShown.type===z.EDIT_STYLE_MENU&&this.props.dropdownShown.data.style.style_type===this.props.styleType}isShown(){return this.props.pickerShown&&this.props.pickerShown.id===F(this.props.inheritStyleKeyField)}render(){if(!this.isShown())return null;const{localStyles:e,sharedStylesByFile:i}=N(this.props),l=R(this.props)&&c.getValue(this.props.inheritStyleKey),r=e.length>0||!g.isEmpty(i),o=d.getSubscribedLibraryItems(this.props.library,this.props.library.published.styles,this.props.fileByKey[this.props.fileKey]).length>0;return s.createElement(_.DraggableModal,{title:"",headerSize:"hidden",initialWidth:t.STYLES_PICKER_WIDTH,initialPosition:this.state.initialPosition,minBottomMargin:this.props.minBottomMargin,onDragEnd:this.onDragEnd,onClose:this.onClose},s.createElement("div",{className:P.pickerTitleRow},s.createElement("div",{className:P.pickerTitle},d.styleTypeToStylesHeader(this.props.styleType)),s.createElement(T.IconButton,{className:P.pickerTitleButton,"data-tooltip-text":"Edit style",recordingKey:a.joinKeys(this.props,"editStyleButton"),svg:D,disabled:!this.props.onEditStyle,onClick:this.props.onEditStyle}),s.createElement(T.IconButton,{className:P.pickerTitleButton,"data-tooltip-text":"Create style",recordingKey:a.joinKeys(this.props,"addStyleButton"),svg:v,fallbackSvg:M,disabled:!this.props.onCreateStyle,onClick:this.props.onCreateStyle})),r&&s.createElement(K.ScrollContainer,{className:P.scrollContainer,showScrollbar:!0,width:t.STYLES_PICKER_WIDTH},s.createElement(m.StyleGrid,{inheritStyleKeyField:this.props.inheritStyleKeyField,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,sharedStylesByFile:i,masterStyleKey:l,localStyles:e,onApplyStyle:this.handleApplyStyle,onNavigateToStyle:this.handleNavigateToStyle,onContextMenu:this.handleContextMenu,showListLayout:this.props.showListLayout,recordingKey:a.joinKeys(this.props,"styleGrid")})),!r&&s.createElement("div",{className:P.emptyStateContainer},s.createElement("div",{className:P.emptyStateMessage},"No ",d.styleTypeToStylesHeader(this.props.styleType),"."),!o&&s.createElement(C.ButtonSecondary,{className:P.browseLibrariesButton,onClick:this.onBrowseLibrariesButtonClick},s.createElement("div",null,s.createElement(k.Svg,{svg:x})),"Browse libraries...")),this.shouldShowContextMenu()&&s.createElement(m.StyleChitContextMenu,{dropdownShown:this.props.dropdownShown,onEditStyle:this.handleNavigateToStyle,onDeleteStyle:this.handleDeleteStyle,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams}))}}z.displayName="StylePicker",z.EDIT_STYLE_MENU="edit-local-styles-context-menu",t.StylePicker=z,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(s,t,e){"use strict";t.__esModule=!0,t.default=function(s,t){return s.classList?!!t&&s.classList.contains(t):-1!==(" "+(s.className.baseVal||s.className)+" ").indexOf(" "+t+" ")},s.exports=t.default,s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(s,e,a){"use strict";var t=a(444);e.__esModule=!0,e.default=function(s,e){s.classList?s.classList.add(e):(0,l.default)(s,e)||("string"==typeof s.className?s.className=s.className+" "+e:s.setAttribute("class",(s.className&&s.className.baseVal||"")+" "+e))};var l=t(a(445));s.exports=e.default,s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(s,e,t){"use strict";function a(s,e){return s.replace(new RegExp("(^|\\s)"+e+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}s.exports=function(s,e){s.classList?s.classList.remove(e):"string"==typeof s.className?s.className=a(s.className,e):s.setAttribute("class",a(s.className&&s.className.baseVal||"",e))},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */
function o(){var t=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=t&&this.setState(t)}function i(t){this.setState(function(e){var n=this.constructor.getDerivedStateFromProps(t,e);return null!=n?n:null}.bind(this))}function p(t,e){try{var n=this.props,o=this.state;this.props=t,this.state=e,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,o)}finally{this.props=n,this.state=o}}Object.defineProperty(e,"__esModule",{value:!0}),o.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,p.__suppressDeprecationWarning=!0,e.polyfill=function(t){var e=t.prototype;if(!e||!e.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof t.getDerivedStateFromProps&&"function"!=typeof e.getSnapshotBeforeUpdate)return t;var n=null,l=null,r=null;if("function"==typeof e.componentWillMount?n="componentWillMount":"function"==typeof e.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof e.componentWillReceiveProps?l="componentWillReceiveProps":"function"==typeof e.UNSAFE_componentWillReceiveProps&&(l="UNSAFE_componentWillReceiveProps"),"function"==typeof e.componentWillUpdate?r="componentWillUpdate":"function"==typeof e.UNSAFE_componentWillUpdate&&(r="UNSAFE_componentWillUpdate"),null!==n||null!==l||null!==r){var s=t.displayName||t.name,a="function"==typeof t.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+s+" uses "+a+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==l?"\n  "+l:"")+(null!==r?"\n  "+r:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof t.getDerivedStateFromProps&&(e.componentWillMount=o,e.componentWillReceiveProps=i),"function"==typeof e.getSnapshotBeforeUpdate){if("function"!=typeof e.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");e.componentWillUpdate=p;var c=e.componentDidUpdate;e.componentDidUpdate=function(t,e,n){var o=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;c.call(this,t,e,o)}}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";s.__esModule=!0,s.classNamesShape=s.timeoutsShape=void 0;var o;(o=t(60,1))&&o.__esModule;s.timeoutsShape=null;s.classNamesShape=null,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";e.__esModule=!0,e.default=e.EXITING=e.ENTERED=e.ENTERING=e.EXITED=e.UNMOUNTED=void 0;var i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var i=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(t,n):{};i.get||i.set?Object.defineProperty(e,n,i):e[n]=t[n]}return e.default=t,e}(n(60,1)),r=s(n(34,1)),o=s(n(38,1)),a=n(448);n(449);function s(t){return t&&t.__esModule?t:{default:t}}var u="unmounted";e.UNMOUNTED=u;var l="exited";e.EXITED=l;var p="entering";e.ENTERING=p;var c="entered";e.ENTERED=c;e.EXITING="exiting";var f=function(t){var e,n;function i(e,n){var i;i=t.call(this,e,n)||this;var r,o=n.transitionGroup,a=o&&!o.isMounting?e.enter:e.appear;return i.appearStatus=null,e.in?a?(r=l,i.appearStatus=p):r=c:r=e.unmountOnExit||e.mountOnEnter?u:l,i.state={status:r},i.nextCallback=null,i}n=t,(e=i).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var a=i.prototype;return a.getChildContext=function(){return{transitionGroup:null}},i.getDerivedStateFromProps=function(t,e){return t.in&&e.status===u?{status:l}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(t){var e=null;if(t!==this.props){var n=this.state.status;this.props.in?n!==p&&n!==c&&(e=p):n!==p&&n!==c||(e="exiting")}this.updateStatus(!1,e)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var t,e,n,i=this.props.timeout;return t=e=n=i,null!=i&&"number"!=typeof i&&(t=i.exit,e=i.enter,n=void 0!==i.appear?i.appear:e),{exit:t,enter:e,appear:n}},a.updateStatus=function(t,e){if(void 0===t&&(t=!1),null!==e){this.cancelNextCallback();var n=o.default.findDOMNode(this);e===p?this.performEnter(n,t):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===l&&this.setState({status:u})},a.performEnter=function(t,e){var n=this,i=this.props.enter,r=this.context.transitionGroup?this.context.transitionGroup.isMounting:e,o=this.getTimeouts(),a=r?o.appear:o.enter;e||i?(this.props.onEnter(t,r),this.safeSetState({status:p},function(){n.props.onEntering(t,r),n.onTransitionEnd(t,a,function(){n.safeSetState({status:c},function(){n.props.onEntered(t,r)})})})):this.safeSetState({status:c},function(){n.props.onEntered(t)})},a.performExit=function(t){var e=this,n=this.props.exit,i=this.getTimeouts();n?(this.props.onExit(t),this.safeSetState({status:"exiting"},function(){e.props.onExiting(t),e.onTransitionEnd(t,i.exit,function(){e.safeSetState({status:l},function(){e.props.onExited(t)})})})):this.safeSetState({status:l},function(){e.props.onExited(t)})},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(t,e){e=this.setNextCallback(e),this.setState(t,e)},a.setNextCallback=function(t){var e=this,n=!0;return this.nextCallback=function(i){n&&(n=!1,e.nextCallback=null,t(i))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(t,e,n){this.setNextCallback(n),t?(this.props.addEndListener&&this.props.addEndListener(t,this.nextCallback),null!=e&&setTimeout(this.nextCallback,e)):setTimeout(this.nextCallback,0)},a.render=function(){var t=this.state.status;if(t===u)return null;var e=this.props,n=e.children,i=function(t,e){if(null==t)return{};var n,i,r={},o=Object.keys(t);for(i=0;i<o.length;i++)n=o[i],e.indexOf(n)>=0||(r[n]=t[n]);return r}(e,["children"]);if(delete i.in,delete i.mountOnEnter,delete i.unmountOnExit,delete i.appear,delete i.enter,delete i.exit,delete i.timeout,delete i.addEndListener,delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,"function"==typeof n)return n(t,i);var o=r.default.Children.only(n);return r.default.cloneElement(o,i)},i}(r.default.Component);function d(){}f.contextTypes={transitionGroup:i.object},f.childContextTypes={transitionGroup:function(){}},f.propTypes={},f.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:d,onEntering:d,onEntered:d,onExit:d,onExiting:d,onExited:d},f.UNMOUNTED=0,f.EXITED=1,f.ENTERING=2,f.ENTERED=3,f.EXITING=4;var E=(0,a.polyfill)(f);e.default=E,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n(60,1));var r=i(n(446)),s=i(n(447)),o=i(n(34,1)),a=i(n(450));n(449);function i(e){return e&&e.__esModule?e:{default:e}}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var l=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,r.default)(e,t)})},c=function(e,t){return e&&t&&t.split(" ").forEach(function(t){return(0,s.default)(e,t)})},u=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),l(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("enter").doneClassName;t.removeClasses(e,n?"appear":"enter"),l(e,r),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),l(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),l(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"!=typeof n?n[e]:n+"-"+e;return{className:r,activeClassName:"string"!=typeof n?n[e+"Active"]:r+"-active",doneClassName:"string"!=typeof n?n[e+"Done"]:r+"-done"}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=r.prototype;return s.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,s=n.activeClassName,o=n.doneClassName;r&&c(e,r),s&&c(e,s),o&&c(e,o)},s.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,l(e,t))},s.render=function(){var e=p({},this.props);return delete e.classNames,o.default.createElement(a.default,p({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);u.propTypes={};var f=u;t.default=f,e.exports=t.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,t){"use strict";e.__esModule=!0,e.getChildMapping=r,e.mergeChildMappings=l,e.getInitialChildMapping=function(n,e){return r(n.children,function(t){return(0,i.cloneElement)(t,{onExited:e.bind(null,t),in:!0,appear:o(t,"appear",n),enter:o(t,"enter",n),exit:o(t,"exit",n)})})},e.getNextChildMapping=function(n,e,t){var u=r(n.children),a=l(e,u);return Object.keys(a).forEach(function(r){var l=a[r];if((0,i.isValidElement)(l)){var c=r in e,p=r in u,f=e[r],d=(0,i.isValidElement)(f)&&!f.props.in;!p||c&&!d?p||!c||d?p&&c&&(0,i.isValidElement)(f)&&(a[r]=(0,i.cloneElement)(l,{onExited:t.bind(null,l),in:f.props.in,exit:o(l,"exit",n),enter:o(l,"enter",n)})):a[r]=(0,i.cloneElement)(l,{in:!1}):a[r]=(0,i.cloneElement)(l,{onExited:t.bind(null,l),in:!0,exit:o(l,"exit",n),enter:o(l,"enter",n)})}}),a};var i=t(34,1);function r(n,e){var t=Object.create(null);return n&&i.Children.map(n,function(n){return n}).forEach(function(n){t[n.key]=function(n){return e&&(0,i.isValidElement)(n)?e(n):n}(n)}),t}function l(n,e){function t(t){return t in e?e[t]:n[t]}n=n||{},e=e||{};var i,r=Object.create(null),l=[];for(var o in n)o in e?l.length&&(r[o]=l,l=[]):l.push(o);var u={};for(var a in e){if(r[a])for(i=0;i<r[a].length;i++){var c=r[a][i];u[r[a][i]]=t(c)}u[a]=t(a)}for(i=0;i<l.length;i++)u[l[i]]=t(l[i]);return u}function o(n,e,t){return null!=t[e]?t[e]:n.props[e]}n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,e,n){"use strict";e.__esModule=!0,e.default=void 0;var r=p(n(60,1)),i=p(n(34,1)),o=n(448),a=n(452);function p(t){return t&&t.__esModule?t:{default:t}}function u(){return(u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t}).apply(this,arguments)}function c(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var d=Object.values||function(t){return Object.keys(t).map(function(e){return t[e]})},l=function(t){var e,n;function r(e,n){var r,i=(r=t.call(this,e,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=t,(e=r).prototype=Object.create(n.prototype),e.prototype.constructor=e,e.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(t,e){var n=e.children,r=e.handleExited;return{children:e.firstRender?(0,a.getInitialChildMapping)(t,r):(0,a.getNextChildMapping)(t,n,r),firstRender:!1}},o.handleExited=function(t,e){var n=(0,a.getChildMapping)(this.props.children);t.key in n||(t.props.onExited&&t.props.onExited(e),this.mounted&&this.setState(function(e){var n=u({},e.children);return delete n[t.key],{children:n}}))},o.render=function(){var t=this.props,e=t.component,n=t.childFactory,r=function(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}(t,["component","childFactory"]),o=d(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===e?o:i.default.createElement(e,r,o)},r}(i.default.Component);l.childContextTypes={transitionGroup:r.default.object.isRequired},l.propTypes={},l.defaultProps={component:"div",childFactory:function(t){return t}};var s=(0,o.polyfill)(l);e.default=s,t.exports=e.default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,n,t){"use strict";n.__esModule=!0,n.default=void 0;l(t(60,1));var r=l(t(34,1)),o=t(38,1),i=l(t(453));function l(e){return e&&e.__esModule?e:{default:e}}var a=function(e){var n,t;function l(){for(var n,t=arguments.length,r=new Array(t),o=0;o<t;o++)r[o]=arguments[o];return(n=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEnter",0,t)},n.handleEntering=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEntering",0,t)},n.handleEntered=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onEntered",0,t)},n.handleExit=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExit",1,t)},n.handleExiting=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExiting",1,t)},n.handleExited=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return n.handleLifecycle("onExited",1,t)},n}t=e,(n=l).prototype=Object.create(t.prototype),n.prototype.constructor=n,n.__proto__=t;var a=l.prototype;return a.handleLifecycle=function(e,n,t){var i,l=this.props.children,a=r.default.Children.toArray(l)[n];a.props[e]&&(i=a.props)[e].apply(i,t),this.props[e]&&this.props[e]((0,o.findDOMNode)(this))},a.render=function(){var e=this.props,n=e.children,t=e.in,o=function(e,n){if(null==e)return{};var t,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(o[t]=e[t]);return o}(e,["children","in"]),l=r.default.Children.toArray(n),a=l[0],d=l[1];return delete o.onEnter,delete o.onEntering,delete o.onEntered,delete o.onExit,delete o.onExiting,delete o.onExited,r.default.createElement(i.default,o,t?r.default.cloneElement(a,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(d,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},l}(r.default.Component);a.propTypes={};var d=a;n.default=d,e.exports=n.default,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,i){"use strict";var e=s(i(451)),o=s(i(454)),a=s(i(453)),r=s(i(450));function s(n){return n&&n.__esModule?n:{default:n}}n.exports={Transition:r.default,TransitionGroup:a.default,ReplaceTransition:o.default,CSSTransition:e.default},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,a,t){e.exports={appear:"fade_out_transition--appear--3LOyV","appear-active":"fade_out_transition--appear-active--ewEzY",leave:"fade_out_transition--leave--nQRDq","leave-active":"fade_out_transition--leave-active--2HwHt"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(34,1   ),r=n(455                     ),i=n(456                        );t.FadeOutTransition=class extends s.PureComponent{constructor(){super(...arguments),this.selectionStayedTheSame=!1}UNSAFE_componentWillReceiveProps(e){this.selectionStayedTheSame=this.props.sceneGraphSelection===e.sceneGraphSelection}render(){return s.createElement(r.CSSTransition,{classNames:{enter:"",appear:i.appear,exit:i.leave},timeout:{exit:this.selectionStayedTheSame?90:void 0}},s.createElement("div",null,this.props.children))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,p){e.exports={panelTitleRow:"collapsible_property_panel--panelTitleRow--15lkQ",titleButton:"collapsible_property_panel--titleButton--3lkDn",showOnTitleHover:"collapsible_property_panel--showOnTitleHover--1NAi-",panelEmptyTitleRow:"collapsible_property_panel--panelEmptyTitleRow--3mfdy collapsible_property_panel--panelTitleRow--15lkQ",panelTitle:"collapsible_property_panel--panelTitle--1cZql raw_components--panelTitle--7MaOu",fadeOutOnTitleUnhover:"collapsible_property_panel--fadeOutOnTitleUnhover--5BIxM",panelStyleTitle:"collapsible_property_panel--panelStyleTitle--3gOJz collapsible_property_panel--panelTitle--1cZql raw_components--panelTitle--7MaOu",panelMixedMessage:"collapsible_property_panel--panelMixedMessage--1T_xL",panelTitleText:"collapsible_property_panel--panelTitleText--3GA0U",titleButtons:"collapsible_property_panel--titleButtons--31ND1",collapsedPanelPreviewTitle:"collapsible_property_panel--collapsedPanelPreviewTitle--3zR9X",selectedCollapsedPanelPreviewTitle:"collapsible_property_panel--selectedCollapsedPanelPreviewTitle--2eC4k collapsible_property_panel--collapsedPanelPreviewTitle--3zR9X",narrowCollapsedPanelPreviewTitle:"collapsible_property_panel--narrowCollapsedPanelPreviewTitle--ZH1MQ",collapsedPanelPreviewIcon:"collapsible_property_panel--collapsedPanelPreviewIcon--t8fhY",styleTitleName:"collapsible_property_panel--styleTitleName--nHmnE ellipsis--ellipsis--1RWY6"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"g810aaf41",src:'<svg width="12" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M11.5 3.5H.5v-1h11v1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gbc8afba2",src:'<svg width="12" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M11 3H0V2h11v1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,h){t.exports={id:"gb07ca67a",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v3h1V0H4zm9.103.896c-1.162-1.161-3.045-1.161-4.207 0l-2.75 2.75.707.708 2.75-2.75c.771-.772 2.022-.772 2.793 0 .771.77.771 2.021 0 2.792l-2.75 2.75.707.708 2.75-2.75c1.162-1.162 1.162-3.046 0-4.208zM.896 13.104c-1.162-1.162-1.162-3.046 0-4.208l2.75-2.75.707.708-2.75 2.75c-.771.77-.771 2.021 0 2.792.771.772 2.022.772 2.793 0l2.75-2.75.707.707-2.75 2.75c-1.162 1.162-3.045 1.162-4.207 0zM14 10h-3V9h3v1zM10 11v3H9v-3h1zM3 4H0v1h3V4z" fill-opacity=".9"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,c){t.exports={id:"gd8088ea8",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M.5 2c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5C3.5 1.172 2.828.5 2 .5 1.172.5.5 1.172.5 2zm6 0c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5C9.5 1.172 8.828.5 8 .5c-.828 0-1.5.672-1.5 1.5zM8 9.5c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zM.5 8c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C1.172 6.5.5 7.172.5 8z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g7450c596",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 1.5C0 2.328.672 3 1.5 3 2.328 3 3 2.328 3 1.5 3 .672 2.328 0 1.5 0 .672 0 0 .672 0 1.5zm6 0C6 2.328 6.672 3 7.5 3 8.328 3 9 2.328 9 1.5 9 .672 8.328 0 7.5 0 6.672 0 6 .672 6 1.5zM7.5 9C6.672 9 6 8.328 6 7.5 6 6.672 6.672 6 7.5 6 8.328 6 9 6.672 9 7.5 9 8.328 8.328 9 7.5 9zM0 7.5C0 8.328.672 9 1.5 9 2.328 9 3 8.328 3 7.5 3 6.672 2.328 6 1.5 6 .672 6 0 6.672 0 7.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),o=i(38,1       ),p=i(143              ),l=i(232                        ),n=i(219          ),r=i(301           ),a=i(198         ),c=i(282                             ),h=i(129                               ),S=i(404                              ),y=i(443                                                                  ),d=i(391                                                                        ),m=i(389                                                                  ),g=i(1417                       ),E=i(435                                                                 ),_=i(457                                         ),u=i(458                               ),k=i(439                                                       ),P=i(440                                                         ),T=i(459                                                        ),M=i(460                                                          ),f=i(461                                                        ),w=i(462                                                         ),C=i(463                                                           );var R;function v(e){return new a.Vector(e?e.initialX:0,e?e.initialY:0)}!function(e){e[e.STYLE_CONSUMER=0]="STYLE_CONSUMER",e[e.MIXED_STYLE_CONSUMER=1]="MIXED_STYLE_CONSUMER",e[e.CUSTOM_OR_MIXED_PROPERTIES=2]="CUSTOM_OR_MIXED_PROPERTIES"}(R||(R={})),t.pickerMinBottomMargin=4,t.pickerPosition=v;class O extends p.PureComponent{constructor(e){super(e),this.panelTitleRef=(e=>{e&&(this.panelTitle=o.findDOMNode(e))}),this.hasPushedScrollStateSnapshot=!1,this.pickerHeight=0,this.onPickerSizeChange=((e,t,i)=>{this.pickerHeight=t,this.onPickerChanged()}),this.stopPropagation=(e=>e.stopPropagation()),this.toggleShowingStyles=(e=>{if(y.stylesPickerShown(this.props))this.props.dispatch(l.fullscreen.hidePicker());else{const e=this.panelTitle.getBoundingClientRect(),t=e.left+(e.width-y.STYLES_PICKER_WIDTH)/2,i=e.top+e.height;this.props.dispatch(l.fullscreen.showPicker({id:y.stylesPickerId(this.props.inheritStyleKeyField),initialX:t,initialY:i,modal:!0})),n.segment.track("Style Picker Opened",{styleType:this.props.styleType})}}),this.detachStyle=(()=>{this.props.dispatch(l.tooltip.hide()),h.Fullscreen.applyStyleToSelection(this.props.inheritStyleKeyField,"","",!0),n.segment.track("Style Detached",{styleType:this.props.styleType})}),this.createStyle=(()=>{if(!this.props.isEmpty&&!this.props.hasMixedProperties){const e=Object.keys(this.props.sceneGraphSelection)[0]||null;e&&this.props.dispatch(l.fileBrowser.showModal({type:g.AppModal.CREATE_STYLE,data:{type:this.props.styleType,nodeId:e,inheritStyleKeyField:this.props.inheritStyleKeyField}}))}}),this.titleClicked=(e=>{e.currentTarget===e.target&&this.props.isEmpty&&(this.props.pickerShown||this.props.dropdownShown||this.props.addProperty())}),this.editMasterStyle=(()=>{const e=y.getMasterStyle(this.props);e&&(h.Fullscreen.selectStyle(e.key,e.content_hash),n.segment.track("Style Inspected",{styleType:e.style_type,from:"propertyPanelIcon"}))}),this.state={pickerInitialPosition:v(e.pickerShown)}}restoreScrollContainer(){this.hasPushedScrollStateSnapshot&&(this.props.scrollContainer.popStateSnapshot(),this.hasPushedScrollStateSnapshot=!1)}componentWillUnmount(){this.restoreScrollContainer()}UNSAFE_componentWillReceiveProps(e){if(y.stylesPickerShown(e)){let t;const i=this.panelTitle.getBoundingClientRect(),s=i.top+i.height;e.pickerShown.modal&&s!==e.pickerShown.initialY&&(t=new a.Vector(e.pickerShown.initialX,s)),t||e.pickerShown===this.props.pickerShown||((t=v(e.pickerShown)).y=s),t&&!this.state.pickerInitialPosition.equals(t)&&this.setState({pickerInitialPosition:t})}}componentDidUpdate(e,t){e.pickerShown&&e.pickerShown.id===y.stylesPickerId(this.props.inheritStyleKeyField)&&(!this.props.pickerShown||this.props.pickerShown.id!==e.pickerShown.id||e.pickerShown.modal&&!this.props.pickerShown.modal)&&this.restoreScrollContainer()}onPickerChanged(){const e=this.props.scrollContainer;if(!y.stylesPickerShown(this.props)||!this.props.pickerShown.modal||!e)return;const i=e.getScrollHeight()-e.getBottomSpace(),s=e.getTrackHeight(),o=e.getScrollTop(),p=e.getScrollContent().getBoundingClientRect().top,l=this.panelTitle.getBoundingClientRect(),n=s+o-(l.top+l.height-p+this.pickerHeight+t.pickerMinBottomMargin);if(this.hasPushedScrollStateSnapshot||(e.pushStateSnapshot(),this.hasPushedScrollStateSnapshot=!0),n>=0)return;const r=o-n,a=Math.max(0,-(i-s-r));e.setBottomSpace(a),n<0&&e.scrollTo(r)}render(){const e=y.getMasterStyle(this.props);let i,o;this.props.inheritStyleKey===c.MIXED?(i=R.MIXED_STYLE_CONSUMER,o=this.props.addProperty):e?i=R.STYLE_CONSUMER:(i=R.CUSTOM_OR_MIXED_PROPERTIES,o=this.props.addProperty);const l=y.stylesPickerShown(this.props),n=i===R.STYLE_CONSUMER&&!this.props.hasMixedProperties;return s.createElement("div",null,s.createElement(d.Row,{ref:this.panelTitleRef,className:this.props.isEmpty?u.panelEmptyTitleRow:u.panelTitleRow,onMouseDown:this.titleClicked},s.createElement(d.PanelTitle,{className:n?u.panelStyleTitle:u.panelTitle},n?s.createElement(N,{recordingKey:p.joinKeys(this.props,"titleButton"),style:e,inheritStyleKeyField:this.props.inheritStyleKeyField,collapse:!0,onClick:this.toggleShowingStyles,onMouseDown:this.stopPropagation,selected:l,isNarrow:!!this.props.removeAllProperties,fileKey:this.props.fileKey,dispatch:this.props.dispatch}):s.createElement(d.RecordableDiv,{recordingKey:p.joinKeys(this.props,"panelTitle"),className:u.panelTitleText,onMouseDown:this.titleClicked},this.props.title)),s.createElement("span",{className:u.titleButtons},(i===R.STYLE_CONSUMER||i===R.MIXED_STYLE_CONSUMER)&&s.createElement(m.IconButton,{className:`${u.showOnTitleHover} ${u.titleButton}`,recordingKey:p.joinKeys(this.props,"detachButton"),svg:f,"data-tooltip-text":"Detach style",onMouseDown:this.detachStyle,onClick:this.stopPropagation}),i===R.STYLE_CONSUMER&&this.props.removeAllProperties&&s.createElement(m.IconButton,{className:u.titleButton,recordingKey:p.joinKeys(this.props,"removeAllButton"),svg:T,fallbackSvg:M,onClick:this.props.removeAllProperties,onMouseDown:this.stopPropagation}),!(i===R.STYLE_CONSUMER||i===R.MIXED_STYLE_CONSUMER)&&s.createElement(m.IconButton,{className:`${this.props.isEmpty&&!l?u.fadeOutOnTitleUnhover:""} ${u.titleButton}`,selected:l,svg:w,fallbackSvg:C,"data-onboarding-key":this.props.stylesButtonDataTag,recordingKey:p.joinKeys(this.props,"showStylesButton"),onClick:this.toggleShowingStyles,onMouseDown:this.stopPropagation}),!(i===R.STYLE_CONSUMER)&&!!o&&s.createElement(m.IconButton,{className:u.titleButton,recordingKey:p.joinKeys(this.props,"addButton"),svg:k,fallbackSvg:P,onClick:o,onMouseDown:this.stopPropagation}))),(i===R.MIXED_STYLE_CONSUMER||i===R.STYLE_CONSUMER&&this.props.hasMixedProperties)&&s.createElement(d.Row,{key:"label"},s.createElement(d.LabelInactive,{className:u.panelMixedMessage},"Unlink from styles to customize mixed contents.")),s.createElement(_.FadeOutTransition,{sceneGraphSelection:this.props.sceneGraphSelection},l&&s.createElement(y.StylePicker,Object.assign({onSizeChange:this.onPickerSizeChange,recordingKey:"stylePicker"},y.extractStyleContainerProps(this.props),{initialPosition:this.state.pickerInitialPosition,minBottomMargin:t.pickerMinBottomMargin,onCreateStyle:!this.props.isEmpty&&!this.props.hasMixedProperties&&this.createStyle,onEditStyle:i===R.STYLE_CONSUMER&&this.editMasterStyle,styleType:this.props.styleType,teams:this.props.teams}))),i===R.CUSTOM_OR_MIXED_PROPERTIES&&this.props.children)}}O.displayName="CollapsibleStyleAndPropertyPanel",t.CollapsibleStyleAndPropertyPanel=O;class N extends p.PureComponent{constructor(){super(...arguments),this.generateThumbnail=r.debounce(()=>{if(this.props.style.file_key===this.props.fileKey){const e=this.props.style;this.props.dispatch(l.library.generateLocalStyleThumbnail({style:e}))}},200),this.onClick=p.mouseEvent(this,"click",this.props.onClick)}componentDidMount(){this.generateThumbnail()}UNSAFE_componentWillReceiveProps(){this.generateThumbnail()}render(){let e=this.props.selected?u.selectedCollapsedPanelPreviewTitle:u.collapsedPanelPreviewTitle;return this.props.isNarrow&&(e=`${e} ${u.narrowCollapsedPanelPreviewTitle}`),s.createElement("div",{className:e,onClick:this.onClick,onMouseDown:this.props.onMouseDown},s.createElement("div",{className:u.collapsedPanelPreviewIcon},s.createElement(E.StyleIcon,{style:this.props.style,maskIconForStroke:"inheritFillStyleKeyForStroke"===this.props.inheritStyleKeyField})),s.createElement("div",{className:u.styleTitleName,"data-tooltip-content-key":this.props.style.description?S.TooltipView.STYLE_INFO:"","data-tooltip-style-description":this.props.style.description},this.props.style.name))}}N.displayName="StyleTitle",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),r=s(38,1       ),o=s(141     ),p=s(143              ),n=s(232                        ),l=s(96         ),a=s(1426                               ),c=s(129                               ),h=s(282                             ),d=s(392                                 ),y=s(341                              ),g=s(391                               ),u=s(389                         ),m=s(395               ),f=s(208                                           ),P=s(393                   ),S=s(443                                                                  ),b=s(464                                                                                                ),_=s(457                                         ),v=s(439                                                       ),E=s(440                                                         ),C=s(459                                                        ),k=s(460                                                          ),T=s(462                                                         ),R=s(463                                                           );class w extends p.Component{constructor(e){super(e),this.panelTitleRef=(e=>{e&&(this.panelTitle=r.findDOMNode(e))}),this.stopPropagation=(e=>e.stopPropagation()),this.focusChange=(()=>this.forceUpdate()),this.keyboardReceiverRef=(e=>{this.keyboardReceiver=e}),this.onKeyDown=p.propagatingKeyboardEvent(this,"keydown",e=>{const t=e.event;switch(t.keyCode){case 8:case 46:this.removeProperty(),e.accept();break;case 68:(t.metaKey&&o.mac||t.ctrlKey&&!o.mac)&&(this.duplicateProperty(),e.accept());break;case 27:this.selectedIndices().length&&(this.updateSelection([]),e.accept())}}),this.clipboardDataType=(()=>{switch(this.props.selectedPropertyType){case c.SelectedPropertyType.FILL:return"fillPaints";case c.SelectedPropertyType.STROKE:return"strokePaints";case c.SelectedPropertyType.EXPORT:return"exportSettings";case c.SelectedPropertyType.LAYOUT_GRID:return"layoutGrids";case c.SelectedPropertyType.EFFECT:return"effects";case c.SelectedPropertyType.BACKGROUND:return"backgroundPaints"}}),this.onClipboard=((e,t)=>{const s=this.clipboardDataType();if(!s)return;const i=e.event.clipboardData||window.clipboardData,r=this.selectedIndices();switch(t){case d.ClipboardAction.COPY:case d.ClipboardAction.CUT:if(r.length){const o=d.encodeClipboardData(this.props.fileKey,{[s]:r.map(e=>h.getValue(this.props.propertyList)[e])});d.writeToClipboardAsBlobInHTML(i,o,""),t===d.ClipboardAction.CUT&&this.removeProperty(),e.accept()}break;case d.ClipboardAction.PASTE:if(r.length){const t=d.tryToReadFromClipboardAsBlobInHTML(i);if(t){const i=d.decodeClipboardData(t).nodeChanges[0]||{},o=this.getProperties(i,s);if(o&&o.length){const t=r[r.length-1];let s=h.getValue(this.props.propertyList,[]);s=s.slice(0,t+1).concat(o).concat(s.slice(t+1)),this.props.onChange(s);let i=o.map((e,s)=>t+s+1);this.updateSelection(i),e.accept()}}}}}),this.selectedIndices=(e=>{e=e||this.props;const t=h.getValue(e.propertyList,[]);return e.selectedPropertyType===e.currentSelectedProperty.type?e.currentSelectedProperty.indices.filter(e=>e>=0&&e<t.length):[]}),this.selectedIndicesAsSet=(()=>{const e=Object.create(null);for(let t of this.selectedIndices())e[t]=!0;return e}),this.updateSelection=(e=>{l.valuesEqual(e,this.selectedIndices())||(0===e.length?a.fullscreen.deselectProperty():a.fullscreen.updateAppModel({currentSelectedProperty:{type:this.props.selectedPropertyType,indices:e}}),this.props.dispatch(n.fullscreen.hidePicker()))}),this.onPropertyChange=((e,t,s)=>{const i=h.getValue(this.props.propertyList,[]).slice(0);i[e]=t,this.props.onChange(i,s)}),this.removeProperty=(()=>{const e=h.getValue(this.props.propertyList,[]);if(this.selectedIndices().length){const t=this.selectedIndicesAsSet();this.props.onChange(e.filter((e,s)=>!t[s])),this.updateSelection([])}else this.props.onChange(e.slice(0,e.length-1))}),this.duplicateProperty=(()=>{const e=h.getValue(this.props.propertyList,[]).slice();if(this.selectedIndices().length){const t=this.selectedIndices().map(t=>e[t]);for(let i of t){const t=Object.assign({},i);e.splice(e.indexOf(i),0,t)}this.props.onChange(e);const s=[];for(let i of t)s.push(e.indexOf(i));this.updateSelection(s)}}),this.renderListItem=((e,t,s,i,r,o)=>this.props.renderProperty(e,t,s,this.keyboardReceiver&&this.keyboardReceiver.hasFocus(),this.onPropertyChange.bind(this,t),i,r,o)),this.titleClicked=(e=>{const t=h.notMixed(this.props.propertyList)&&0===h.getValue(this.props.propertyList,[]).length;e.currentTarget===e.target&&t&&this.props.addProperty()}),this.handleStylesIconClick=(()=>{const e=this.panelTitle.getBoundingClientRect();this.props.toggleShowingStyles(e)}),this.onMouseEnter=(()=>{this.setState({isMouseOverTitle:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOverTitle:!1})}),this.state={isMouseOverTitle:!1}}UNSAFE_componentWillReceiveProps(e){this.props.currentSelectedProperty!==e.currentSelectedProperty&&(this.selectedIndices(e).length?this.keyboardReceiver.focus():this.keyboardReceiver.blur())}getProperties(e,t){let s=e[t];const i=["fillPaints","strokePaints","backgroundPaints"];return i.indexOf(t)>=0&&(s=s||(()=>{for(let t of i){const s=e[t];if(s&&s.length)return s}return null})()),s}render(){const e=h.getValue(this.props.propertyList,[]),t=this.props.propertyList===h.MIXED||this.props.isMixed,s=h.notMixed(this.props.propertyList)&&0===h.getValue(this.props.propertyList,[]).length;return i.createElement(f.KeyboardReceiver,{name:"Draggable property list",handleKeyDown:this.onKeyDown,handleClipboard:this.onClipboard,ref:this.keyboardReceiverRef,forceUpdate:this.focusChange},this.props.title&&i.createElement(g.Row,{onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter,onMouseDown:this.titleClicked,className:s&&!this.state.isMouseOverTitle&&P.panelHeaderRowFaded},i.createElement(g.PanelTitle,{ref:this.panelTitleRef,faded:s,className:P.panelTitle},i.createElement(g.RecordableDiv,{className:P.panelTitleText,recordingKey:p.joinKeys(this.props,"panelTitle"),onMouseDown:this.titleClicked},this.props.title)),!s&&this.props.showRemoveButton&&i.createElement(u.IconButton,{recordingKey:p.joinKeys(this.props,"removeButton"),className:P.removeButton,svg:C,fallbackSvg:k,disabled:s,onClick:this.removeProperty,onMouseDown:this.stopPropagation}),this.props.toggleShowingStyles&&i.createElement(u.IconButton,{recordingKey:p.joinKeys(this.props,"stylesButton"),className:P.stylesButton,svg:T,fallbackSvg:R,selected:this.props.isStylesPickerShown,onClick:this.handleStylesIconClick,onMouseDown:this.stopPropagation}),i.createElement(u.IconButton,{recordingKey:p.joinKeys(this.props,"addButton"),className:P.addButton,svg:v,fallbackSvg:E,onClick:this.props.addProperty})),t&&i.createElement(g.Row,null,i.createElement(g.LabelInactive,{className:P.label},"Click + to replace mixed content.")),!t&&i.createElement(m.DraggableList,{listItems:e,onChange:this.props.onChange,onReorder:this.props.onReorder,selectedIndices:this.selectedIndices(),updateSelection:this.updateSelection,renderListItem:this.renderListItem,reversed:!0}))}}w.displayName="DraggablePropertyList",t.DraggablePropertyList=w;class I extends p.Component{constructor(){super(...arguments),this.addProperty=(()=>{this.props.addProperty(),this.props.dispatch(n.library.expandStylePanel({styleType:this.props.styleType}))}),this.removeAllProperties=(()=>{S.isStyleConsumer(this.props)&&c.Fullscreen.applyStyleToSelection(this.props.inheritStyleKeyField,"","",!1),this.props.onChange([],y.ShouldCommit.YES)}),this.toggleShowingStyles=(e=>{if(S.stylesPickerShown(this.props))this.props.dispatch(n.fullscreen.hidePicker());else{const t=e.left+(e.width-S.STYLES_PICKER_WIDTH)/2,s=e.top+e.height;this.props.dispatch(n.fullscreen.showPicker({id:S.stylesPickerId(this.props.inheritStyleKeyField),initialX:t,initialY:s,modal:!0}))}})}render(){const e=this.props.propertyList===h.MIXED||this.props.inheritStyleKey===h.MIXED,t=!e&&0===h.getValue(this.props.propertyList,[]).length&&!h.getValue(this.props.inheritStyleKey),s=S.hasSelectedStyle(this.props.selectedStyleProperties);if(e){const e=S.stylesPickerShown(this.props);return i.createElement("div",null,i.createElement(w,Object.assign({},this.props,{isMixed:!0,addProperty:this.addProperty,toggleShowingStyles:this.toggleShowingStyles,isStylesPickerShown:e})),i.createElement(_.FadeOutTransition,{sceneGraphSelection:this.props.sceneGraphSelection},e&&i.createElement(S.StylePicker,Object.assign({recordingKey:"stylePicker"},S.extractStyleContainerProps(this.props),{initialPosition:b.pickerPosition(this.props.pickerShown),minBottomMargin:b.pickerMinBottomMargin}))))}if(s){const e=S.getSelectedStyle(this.props),t=e&&e.file_key===this.props.fileKey;return i.createElement("div",{className:t?"":P.disabledView},i.createElement(w,Object.assign({},this.props,{title:"Properties",addProperty:this.addProperty})))}return i.createElement(b.CollapsibleStyleAndPropertyPanel,Object.assign({},this.props,{addProperty:this.addProperty,isEmpty:t,removeAllProperties:this.removeAllProperties}),i.createElement(w,Object.assign({},this.props,{title:""})))}}I.displayName="StyleAndPropertyList",t.StyleAndPropertyList=I,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=s(1426        ),r=s(279         ),i=s(291       );function a(e,n){const s=document.createElement("canvas"),t=s.getContext("2d");s.width=n.x,s.height=n.y;const r=t.createImageData(n.x,n.y);return r.data.set(e),t.putImageData(r,0,0),s}n.requestPaintIcon=function(e,n,s){const r=i.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[{guid:{sessionID:0,localID:0},fillPaints:[e]}]}),a={size:{x:n.x,y:n.y}};s&&(a.backgroundColor=s);const o=t.fullscreen.sendMessage("requestPaintIcon",a,r);if(!o.args)return null;const{pixelSize:u,displaySize:l}=o.args;return o.buffer&&u&&l?{pixels:o.buffer,pixelSize:u,displaySize:l}:null},n.requestExportPreview=function(e){const n={x:e.x,y:e.y},s=t.fullscreen.sendMessage("requestExportPreview",{size:n},null);if(!s.args)return null;const{pixelSize:r,displaySize:i}=s.args;return s.buffer&&r&&i?{pixels:s.buffer,pixelSize:r,displaySize:i}:null},n.requestObjectsPanelIcon=function(e){const n=t.fullscreen.sendMessage("requestObjectsPanelIcon",{nodeId:e});return n.buffer?r.decodeUTF8(n.buffer):""},n.renderCanvasFromPixels=a,n.pixelsToDataURI=function(e,n){return a(e,n).toDataURL()},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,e){t.exports={singleRowHeight:"chit--singleRowHeight--3feD8",doubleRowHeight:"chit--doubleRowHeight--pi9iR",input:"chit--input--3Zr_l chit--singleRowHeight--3feD8",border:"chit--border--22UBS",borderFocusWithin:"chit--borderFocusWithin--1Ef8v",iconInsideBorderFocusWithin:"chit--iconInsideBorderFocusWithin--3Nv71",rowSelectedSecondary:"chit--rowSelectedSecondary--3Ksm- chit--rowSelected--mbRWb",selectHiddenInput:"chit--selectHiddenInput--2kQ9k",iconButton:"chit--iconButton--336Yf",borderFocus:"chit--borderFocus--2j7nR",multiValueInput:"chit--multiValueInput--KT8HS chit--borderFocusWithin--1Ef8v",base:"chit--base--3jlyk",label:"chit--label--6QW7u chit--base--3jlyk",labelInactive:"chit--labelInactive--w25BN chit--label--6QW7u chit--base--3jlyk",textInput:"chit--textInput--294Ut chit--base--3jlyk chit--input--3Zr_l chit--singleRowHeight--3feD8",textAreaInput:"chit--textAreaInput--3robg chit--base--3jlyk chit--input--3Zr_l chit--singleRowHeight--3feD8",noLeftBorder:"chit--noLeftBorder--2sbB1",squareRightBorder:"chit--squareRightBorder--3JFgS",_iconButton:"chit--_iconButton--1Z5Ec",iconButtonEnabled:"chit--iconButtonEnabled--3fmKi chit--_iconButton--1Z5Ec",iconButtonDisabled:"chit--iconButtonDisabled--guL8_ chit--_iconButton--1Z5Ec",iconButtonSelected:"chit--iconButtonSelected--2XYxx chit--_iconButton--1Z5Ec",chitCenter:"chit--chitCenter--2z0J5",outlineButton:"chit--outlineButton--fNAc3",modalPanel:"chit--modalPanel--3gre7",panel:"chit--panel--2rDOl",_row:"chit--_row--YGuL5",singleRow:"chit--singleRow--JBzrE chit--singleRowHeight--3feD8 chit--_row--YGuL5",doubleRow:"chit--doubleRow--30buf chit--doubleRowHeight--pi9iR chit--_row--YGuL5",labelRow:"chit--labelRow--2CXVD chit--singleRow--JBzrE chit--singleRowHeight--3feD8 chit--_row--YGuL5",rowSelected:"chit--rowSelected--mbRWb",panelTitle:"chit--panelTitle--2H7wN",panelTitleWithTip:"chit--panelTitleWithTip--PRyRR chit--panelTitle--2H7wN",panelTitleWithTipText:"chit--panelTitleWithTipText--11wQx",panelTitleWithTipIcon:"chit--panelTitleWithTipIcon--3pAIX",panelTitleFaded:"chit--panelTitleFaded--3RCnZ chit--panelTitle--2H7wN",flushLeft:"chit--flushLeft--1AITe",chitThumbnail:"chit--chitThumbnail--2XjgI",chitAlpha:"chit--chitAlpha--HA8gA",chit:"chit--chit--1bkYY",chitWithBorder:"chit--chitWithBorder--pt2ch",chitShowFocus:"chit--chitShowFocus--h66Hu chit--chit--1bkYY"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(34,1   ),n=o(38,1       ),r=o(282                             ),i=o(466                                          ),a=o(198         ),c=o(542                   ),l=o(467         ),p=o(143              ),h=o(410                                   ),m=new a.Vector(24,24),u=new c.ColorCSSFormatter,d=new c.PercentageFormatter;function g(t,e,o){return t*(1-o)+e*o}class b extends p.PureComponent{constructor(t){super(t),this.ref=(t=>{t&&(this.el=n.findDOMNode(t))}),this.updateThumbnailSrc=((t,e)=>{const o=i.requestPaintIcon(t,e),s=o&&o.pixels&&o.pixelSize?i.pixelsToDataURI(o.pixels,o.pixelSize):null;this.setState({thumbnailSrc:s})}),this.documentKeyDown=(t=>{9===t.keyCode&&this.setState({showFocus:!0})}),this.onKeyDown=p.keyboardEvent(this,"keydown",t=>{13===t.keyCode&&(this.props.onMouseDown&&this.props.onMouseDown(t),this.props.onClick&&this.props.onClick(t)),27===t.keyCode&&this.el&&this.el.blur()}),this.onClick=p.mouseEvent(this,"click",t=>{if(!this.props.onClick)return p.SKIP_RECORDING;this.props.onClick(t)}),this.onMouseDown=p.mouseEvent(this,"mousedown",t=>{if(t.stopPropagation(),this.setState({showFocus:!1}),!this.props.onMouseDown)return p.SKIP_RECORDING;this.props.onMouseDown(t)}),this.onMouseUp=p.mouseEvent(this,"mouseup",t=>{t.stopPropagation(),this.el.blur()}),this.generateContainerProps=(()=>{let t=this.state.showFocus?l.chitShowFocus:l.chit;return this.props.className&&(t=t+" "+this.props.className),{className:t,ref:this.ref,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.onClick,onContextMenu:this.props.onContextMenu,onKeyDown:this.onKeyDown,tabIndex:0}}),this.state={thumbnailSrc:null,showFocus:!1}}paintNeedsThumbnail(t){const e=r.getValue(t);return e&&"SOLID"!==e.type&&"GRADIENT_LINEAR"!==e.type&&"GRADIENT_RADIAL"!==e.type}componentDidMount(){this.paintNeedsThumbnail(this.props.paint)&&this.updateThumbnailSrc(r.getValue(this.props.paint),m),document.addEventListener("keydown",this.documentKeyDown)}UNSAFE_componentWillReceiveProps(t){this.paintNeedsThumbnail(t.paint)&&this.updateThumbnailSrc(r.getValue(t.paint),m)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.documentKeyDown)}renderSolid(t){const e=Object.assign({},t,{a:1}),o=u.format(e),n=this.generateContainerProps();return h.shouldUseBorderForBackground(e)&&(n.className+=` ${l.chitWithBorder}`),s.createElement("div",Object.assign({style:{backgroundColor:o}},n),s.createElement("div",{className:l.chitAlpha,style:{opacity:1-t.a}}))}renderGradient(t){let e,o=0,n=1;if("GRADIENT_LINEAR"===t.type){const s=function(t){const e=t.m00*t.m11-t.m01*t.m10;if(0===e)return{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0};const o=1/e;return{m00:t.m11*o,m01:-t.m01*o,m02:(t.m01*t.m12-t.m11*t.m02)*o,m10:-t.m10*o,m11:t.m00*o,m12:(t.m10*t.m02-t.m00*t.m12)*o}}(t.transform),r=s.m00*s.m11-s.m01*s.m10>0?1:-1,i=function(t,e){return{x:t.m00*e.x+t.m01*e.y,y:t.m10*e.x+t.m11*e.y}}(s,{x:0,y:1});e="linear-gradient("+(Math.atan2(i.y*r,i.x*r)/Math.PI*180).toFixed(2)+"deg";const a=(Math.abs(i.x)+Math.abs(i.y))/Math.hypot(i.x,i.y);n=1/a,o=(a-1)/2}else e="radial-gradient(circle closest-side";1==t.stops.length&&(e+=", "+u.format(t.stops[0].color));let r=t.stops[0];for(const s of t.stops){if(r.position!=s.position&&r.color.a!=s.color.a&&(r.color.r!=s.color.r||r.color.g!=s.color.g||r.color.b!=s.color.b)){const t=5;for(let i=1;i<t;i++){const a=i/t,c={r:g(r.color.r,s.color.r,a),g:g(r.color.g,s.color.g,a),b:g(r.color.b,s.color.b,a),a:g(r.color.a,s.color.a,a)},l=g(r.position,s.position,a);e+=", "+u.format(c)+" "+d.format(l*n+o)}}e+=", "+u.format(s.color)+" "+d.format(s.position*n+o),r=s}e+=")";let i=this.generateContainerProps();return t.stops.every(t=>h.shouldUseBorderForBackground(t.color))&&(i.className+=` ${l.chitWithBorder}`),s.createElement("div",Object.assign({style:{backgroundColor:"white",backgroundImage:e}},i))}render(){let t=r.getValue(this.props.color);if(t)return void 0!==this.props.opacity&&(t=Object.assign({},t,{a:r.getValue(this.props.opacity)})),this.renderSolid(t);let e=r.getValue(this.props.paint);return e?"SOLID"===e.type?this.renderSolid(Object.assign({},e.color,{a:e.opacity})):"GRADIENT_LINEAR"===e.type||"GRADIENT_RADIAL"===e.type?this.renderGradient(e):this.paintNeedsThumbnail(this.props.paint)?s.createElement("div",Object.assign({},this.generateContainerProps()),this.state.thumbnailSrc&&s.createElement("img",{src:this.state.thumbnailSrc,className:l.chitThumbnail})):(setTimeout(()=>{throw new Error("Don't know how to create chit for Paint: "+JSON.stringify(e))},0),s.createElement("div",Object.assign({},this.generateContainerProps()))):s.createElement("div",Object.assign({},this.generateContainerProps()))}}b.displayName="Chit",e.Chit=b,b.defaultProps={isStroke:!1},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});s.DelayedTask=class{constructor(){this.unschedule=null}scheduleOnce(e,s){if(this.isScheduled())throw new Error("Task already scheduled");const t=setTimeout(()=>{this.reset(),e()},s);this.unschedule=(()=>clearTimeout(t))}scheduleRepeating(e,s){if(this.isScheduled())throw new Error("Task already scheduled");const t=setInterval(()=>{!1===e()&&this.reset()},s);this.unschedule=(()=>clearInterval(t))}isScheduled(){return null!==this.unschedule}reset(){this.unschedule&&(this.unschedule(),this.unschedule=null)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.KeyRecycler=class{constructor(){this.freeKeyStack=[],this.usedKeysById={},this.nextKey=1}getKeyForId(e){if(e in this.usedKeysById)return this.usedKeysById[e];let t;return t=this.freeKeyStack.length?this.freeKeyStack.pop():this.nextKey++,this.usedKeysById[e]=t,t}freeKeyForId(e){if(e in this.usedKeysById){let t=this.usedKeysById[e];this.freeKeyStack.push(t),delete this.usedKeysById[e]}}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={container:"truncated_text--container--1pk3Q",first:"truncated_text--first--2W9Cw",last:"truncated_text--last--1ddrl"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),a=s(471                   );class r extends n.PureComponent{render(){const e=this.props.text||"";let t;const s=e.lastIndexOf("/"),r=e.lastIndexOf(" ");t=s>0?s:r>0?r:Math.round(.75*e.length);const c=e.substr(0,t),o=e.substr(t);return n.createElement("div",{className:`${a.container} ${this.props.className||""}`},n.createElement("div",{className:a.first},c),n.createElement("div",{className:a.last},o))}}r.displayName="TruncatedText",t.TruncatedText=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){e.exports={singleRowHeight:"select--singleRowHeight--2UMKM",doubleRowHeight:"select--doubleRowHeight--o-SCd",input:"select--input--1r-K_ select--singleRowHeight--2UMKM raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",border:"select--border--3fvIc",borderFocusWithin:"select--borderFocusWithin--2dIfX",iconInsideBorderFocusWithin:"select--iconInsideBorderFocusWithin--2hL-k",rowSelectedSecondary:"select--rowSelectedSecondary--2KZfh select--rowSelected--3lP2e",selectHiddenInput:"select--selectHiddenInput--1zrBl",iconButton:"select--iconButton---Z5bD",borderFocus:"select--borderFocus--1PQIW",multiValueInput:"select--multiValueInput--3H8aH select--borderFocusWithin--2dIfX",base:"select--base--1SMnI",label:"select--label--3vJ80 select--base--1SMnI",labelInactive:"select--labelInactive--3Rqxg select--label--3vJ80 select--base--1SMnI",textInput:"select--textInput--1HEo8 select--base--1SMnI select--input--1r-K_ select--singleRowHeight--2UMKM",textAreaInput:"select--textAreaInput--3eA9E select--base--1SMnI select--input--1r-K_ select--singleRowHeight--2UMKM",noLeftBorder:"select--noLeftBorder--XChN_",squareRightBorder:"select--squareRightBorder--YlMI1",_iconButton:"select--_iconButton--qQtAt",iconButtonEnabled:"select--iconButtonEnabled--3gbuN select--_iconButton--qQtAt",iconButtonDisabled:"select--iconButtonDisabled--2U8BG select--_iconButton--qQtAt",iconButtonSelected:"select--iconButtonSelected--1Ndpj select--_iconButton--qQtAt",chitCenter:"select--chitCenter--rxk8b",outlineButton:"select--outlineButton--16Agi",modalPanel:"select--modalPanel--1IuiU",panel:"select--panel--sOj2Q",_row:"select--_row--IiIf3",singleRow:"select--singleRow--2U8v3 select--singleRowHeight--2UMKM select--_row--IiIf3",doubleRow:"select--doubleRow--3UvQK select--doubleRowHeight--o-SCd select--_row--IiIf3",labelRow:"select--labelRow--1g9D- select--singleRow--2U8v3 select--singleRowHeight--2UMKM select--_row--IiIf3",rowSelected:"select--rowSelected--3lP2e",panelTitle:"select--panelTitle--23-Pw",panelTitleWithTip:"select--panelTitleWithTip--2JVTs select--panelTitle--23-Pw",panelTitleWithTipText:"select--panelTitleWithTipText--1zOOz",panelTitleWithTipIcon:"select--panelTitleWithTipIcon--2K0VG",panelTitleFaded:"select--panelTitleFaded--3BE5r select--panelTitle--23-Pw",flushLeft:"select--flushLeft--22YC8",container:"select--container--1nk7y raw_components--singleRowHeight--3PF2a",hiddenInput:"select--hiddenInput--3hA_8 raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"select--selectInputExpanded--RyOud",inputDisabled:"select--inputDisabled--3rTyl select--input--1r-K_ select--singleRowHeight--2UMKM raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",chevron:"select--chevron--AAmeH",inputTextWrapper:"select--inputTextWrapper--2jICb",inputText:"select--inputText--6fenW select--inputTextWrapper--2jICb ellipsis--ellipsis--1RWY6",dropdownContainer:"select--dropdownContainer--1zXjt _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"select--dropdownScrollClip--3r8xt",dropdown:"select--dropdown--3fRT9",dropdownContentWrapper:"select--dropdownContentWrapper--OEC2c",option:"select--option--1FpEe dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",divider:"select--divider--2u63O",optionFocused:"select--optionFocused--3n-7f select--option--1FpEe dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionDisabled:"select--optionDisabled--3la4M select--option--1FpEe dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionHeader:"select--optionHeader--1Iq-9 select--option--1FpEe dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionTruncatedText:"select--optionTruncatedText--QlY5l",optionFullWidth:"select--optionFullWidth--3OvFc",optionText:"select--optionText--2C5M1 select--optionTruncatedText--QlY5l ellipsis--ellipsis--1RWY6",check:"select--check--2_6C_",comboBoxShowChevronOnHover:"select--comboBoxShowChevronOnHover--1eA_s",_comboBoxSelect:"select--_comboBoxSelect--34Ccj",comboBoxSelectDisabled:"select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",comboBoxSelect:"select--comboBoxSelect--3gK7x select--_comboBoxSelect--34Ccj"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(_,E,I){"use strict";Object.defineProperty(E,"__esModule",{value:!0}),E.TOOLBAR_HEIGHT=42,E.TOOLBAR_HEIGHT__REFRESH=40,E.LEFT_NAV_HEIGHT__REFRESH=40,E.LEFT_NAV_WIDTH=200,E.TOOLTIP_DIST=6,E.FILE_BROWSER_HEADER_HEIGHT=E.TOOLBAR_HEIGHT,E.FILE_BROWSER_MOBILE_WIDTH=645,E.BASE_FONT_SIZE=11,E.SMALL_FONT_SIZE=11,E.mobileQuery=`(max-width: ${E.FILE_BROWSER_MOBILE_WIDTH-1}px)`,E.desktopQuery=`(min-width: ${E.FILE_BROWSER_MOBILE_WIDTH}px)`,E.SUBSCRIBERS_WIDTH=265,E.showSubscribersQuery="(min-width: 800px)",E.DEFAULT_BORDER_RADIUS=3,_.exports instanceof Function&&(_.exports.default=_.exports)}),
(function(t,e,l){t.exports={id:"gab052da3",src:'<svg width="8" height="7" xmlns="http://www.w3.org/2000/svg"><path d="M3.646 5.354l-3-3 .708-.708L4 4.293l2.646-2.647.708.708-3 3L4 5.707l-.354-.353z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g541ae889",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M13.207 5.207L7 11.414 3.292 7.707l1.415-1.414L7 8.586l4.793-4.793 1.414 1.414z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(34,1   ),i=o(38,1       ),n=o(143              ),r=o(232                        ),p=o(141     ),l=o(408                                  ),h=l.dropdown.Dropdown,d=l.dropdown.Separator,a=o(469               ),c=o(199      ),u=o(470               ),w=o(282                             ),m=o(342                                        ),f=o(144                        ),y=o(472                                              ),S=o(473           ),I=o(474                               ),_=o(475                                                     ),E=o(476                                                         ),C=I.TOOLBAR_HEIGHT__REFRESH,g="Mixed",v=8,M=24,T=17,V=8,O=V+C;class x extends n.PureComponent{constructor(t){super(t),this.keyRecycler=new u.KeyRecycler,this.containerRect=null,this.containerRef=(t=>{this.container=t,this.container&&(this.containerRect=this.container.getBoundingClientRect())}),this.hiddenInputRef=(t=>this.hiddenInput=t),this.stopPropagation=(t=>t.stopPropagation()),this.dropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.id),this.formattedSelectedValue=(()=>w.notMixed(this.props.property)?this.props.formatter.format(this.props.property):g),this.allowSelectionTask=new a.DelayedTask,this.cacheOptionPositions=(t=>{let e=v;this.childPositionByIndex=Object.create(null),this.optionIndexByFormattedValue=Object.create(null),this.optionValueByIndex=Object.create(null),t.property===w.MIXED&&(e+=M,0!==s.Children.count(this.props.children)&&(e+=T));let o=0;s.Children.forEach(t.children,s=>{if(null==s)return null;if("Option"===s.type.__CLASS_NAME__){const i=s,n=t.formatter.format(i.props.value);this.optionIndexByFormattedValue[n]=o,this.optionValueByIndex[o]=i.props.value,this.childPositionByIndex[o]=e,e+=M,o++}else this.childPositionByIndex[o]=e,e+=T,o++}),e+=v,this.dropdownContentHeight=e}),this.onMouseDown=n.mouseEvent(this,"mousedown",t=>{this.props.onMouseDown||t.stopPropagation(),this.dropdownShown()?this.props.dispatch(r.fileBrowser.hideDropdown()):(n.isRunningInteractionTests()?this.setState({allowSelection:!0}):(this.setState({allowSelection:!1}),this.allowSelectionTask.reset(),this.allowSelectionTask.scheduleOnce(()=>{this.setState({allowSelection:!0})},250)),this.showDropdown())}),this.showDropdown=(()=>{this.props.willShowDropdown?this.props.willShowDropdown().then(this.showDropdownHelper):Promise.resolve().then(this.showDropdownHelper)}),this.showDropdownHelper=(()=>{if(this.hiddenInput&&this.hiddenInput.focus(),this.container&&(this.containerRect=this.container.getBoundingClientRect()),!this.containerRect)return;const t=this.positionForFormattedValue(this.formattedSelectedValue());let e=-t,o=this.dropdownContentHeight;const i=w.getValue(this.props.property),n=null!==i?this.props.formatter.format(i):g;let l,h=()=>this.containerRect.top+e,d=()=>this.containerRect.top+(()=>e+o)();const a=null!=this.props.minTop?this.props.minTop:O,c=window.innerHeight-V;if(this.props.neverConstrain||p.windows){if(d()>c){let t=d()-c;e-=t}if(h()<a){let t=a-h();e+=t}if(d()>c){let t=d()-c;o-=t}this.shouldConstrainTop=!1,this.shouldConstrainBottom=!1}else{if(this.shouldConstrainTop=h()<a,this.shouldConstrainTop){let i=this.containerRect.top-a;const r=t-i;e=-i,o=this.dropdownContentHeight-r,l=this.scrollTopForValueOverInput(e,n);const p=s.Children.toArray(this.props.children);for(let t=p.length-2;t>=0;t--){let s=this.childPositionByIndex[t]-l;if(Math.abs(s)<=M/3){if("SelectDivider"===p[t].type.__CLASS_NAME__||t===this.optionIndexByFormattedValue[n])break;let i=s;i+=(this.childPositionByIndex[t+1]-this.childPositionByIndex[t])/2,e+=i,o-=i;break}}}if(this.shouldConstrainBottom=d()>c,this.shouldConstrainBottom){o=window.innerHeight-h()-V,l=this.scrollTopForValueOverInput(e,n);const t=s.Children.toArray(this.props.children);for(let e=1;e<t.length;e++){let s=this.childPositionByIndex[e]-l;if(Math.abs(s-o)<=M/3){if("SelectDivider"===t[e-1].type.__CLASS_NAME__||e===this.optionIndexByFormattedValue[n])break;o+=s-o,o-=(this.childPositionByIndex[e]-this.childPositionByIndex[e-1])/2;break}}}}l=this.scrollTopForValueOverInput(e,n),this.setState({focusedOptionValue:w.getValue(this.props.property),dropdownScreenTop:h(),dropdownScreenLeft:this.containerRect.left,dropdownWidth:this.containerRect.width,dropdownHeight:o,dropdownScrollTop:l}),this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.id}))}),this.ignoreMouseMove=!1,this.onOptionMouseMove=((t,e)=>{t===this.state.focusedOptionValue||this.ignoreMouseMove||(this.setState({focusedOptionValue:t}),this.props.onOptionFocus&&this.props.onOptionFocus(t)),this.ignoreMouseMove=!1}),this.onOptionMouseUp=((t,e)=>{this.state.allowSelection&&this.submitValue(t)}),this.looksEqual=((t,e)=>{const o=!w.notMixed(t),s=!w.notMixed(e);return!(!o||!s)||o===s&&w.getValue(t)===w.getValue(e)}),this.submitValue=(t=>{this.looksEqual(t,this.props.property)||this.props.onChange(t),this.props.dispatch(r.fileBrowser.hideDropdown())}),this.dropdownRef=(t=>{t&&(this.dropdownEl=i.findDOMNode(t),this.scrollValueOverInput(this.formattedSelectedValue()))}),this.onScroll=(t=>{let e=this.dropdownEl.scrollTop;const o=e-this.state.dropdownScrollTop;this.setState({dropdownScrollTop:e});let{dropdownScreenTop:s,dropdownHeight:i}=this.state;if(this.dropdownContentHeight>i&&(this.shouldConstrainTop&&o<0||this.shouldConstrainBottom&&o>0)){const t=null!=this.props.minTop?this.props.minTop:O;let n=Math.min(i+Math.abs(o),this.dropdownContentHeight,window.innerHeight-t-V);n-i>0&&(o>0&&(s=Math.max(s-o,t),e-=o,this.dropdownEl.scrollTop=e,this.setState({dropdownScrollTop:e})),this.setState({dropdownScreenTop:s,dropdownHeight:n}))}this.ignoreMouseMove=!0}),this.onKeyDown=n.keyboardEvent(this,"keydown",t=>{if(m.forwardInputKeyToFullscreenIfNecessary(t))return n.SKIP_RECORDING;if(this.dropdownShown()){const e=this.optionIndexByFormattedValue[this.props.formatter.format(this.state.focusedOptionValue)];switch(t.keyCode){case c.Key.UP_ARROW:case c.Key.DOWN_ARROW:if(void 0!==e){const o=s.Children.toArray(this.props.children),i=t.keyCode===c.Key.UP_ARROW?-1:1;let n,r=e;do{n=o[r+=i]}while(n&&"SelectDivider"===n.type.__CLASS_NAME__);const p=this.optionValueByIndex[r];p&&(this.setState({focusedOptionValue:p}),this.scrollValueIntoView(this.props.formatter.format(p)),this.ignoreMouseMove=!0)}break;case c.Key.ENTER:this.submitValue(this.state.focusedOptionValue);break;case c.Key.ESCAPE:this.hiddenInput&&this.hiddenInput.blur();break;default:this.addInputChar(t.keyCode)}}else t.keyCode===c.Key.ESCAPE?this.hiddenInput&&this.hiddenInput.blur():t.keyCode===c.Key.UP_ARROW||t.keyCode===c.Key.DOWN_ARROW?this.showDropdown():this.addInputChar(t.keyCode)}),this.userInput="",this.lastInputAt=0,this.addInputChar=(t=>{const e=String.fromCharCode(t).toLowerCase(),o=(new Date).getTime();this.userInput=o-this.lastInputAt<1500?this.userInput+e:e,this.lastInputAt=o;let i=null;if(s.Children.forEach(this.props.children,t=>{if(null!=t&&null===i&&null!=t.props.value){this.props.formatter.format(t.props.value).toLowerCase().startsWith(this.userInput)&&(i=t.props.value)}}),null!==i)if(this.dropdownShown()){this.setState({focusedOptionValue:i});const t=this.props.formatter.format(i);this.scrollValueOverInput(t)}else this.submitValue(i)}),this.cloneChildForRender=((t,e)=>{const o=this.props.formatter.isEqual||((t,e)=>t===e);if(null==t)return null;if(null==t.props.value){const o=this.childPositionByIndex[e];return s.cloneElement(t,{style:{top:o}})}const i=Math.max(this.state.dropdownHeight,3*M),n=this.state.dropdownScrollTop-i,r=this.state.dropdownScrollTop+this.state.dropdownHeight+i,p=this.childPositionByIndex[e];if(p+M<n||p>r)return void this.keyRecycler.freeKeyForId(t.key);const l=this.keyRecycler.getKeyForId(t.key);return s.cloneElement(t,{key:l,selected:o(w.getValue(this.props.property),t.props.value),focused:o(this.state.focusedOptionValue,t.props.value),formattedValue:this.props.formatter.format(t.props.value),onMouseUp:t.props.disabled||!this.state.allowSelection?null:this.onOptionMouseUp.bind(this,t.props.value),onMouseMove:this.onOptionMouseMove.bind(this,t.props.value),style:{top:p}})}),this.state={focusedOptionValue:w.getValue(this.props.property)},this.cacheOptionPositions(t)}componentWillUnmount(){super.componentWillUnmount(),this.allowSelectionTask.reset()}UNSAFE_componentWillUpdate(t){this.cacheOptionPositions(t),this.dropdownShown()&&s.Children.count(this.props.children)!==s.Children.count(t.children)&&(this.props.dispatch(r.fileBrowser.hideDropdown()),this.showDropdown())}componentDidUpdate(){super.componentDidUpdate(this.props,this.state),this.hiddenInput&&(this.dropdownShown()?this.hiddenInput.focus():this.props.blurOnChange&&this.hiddenInput.blur())}positionForFormattedValue(t){let e=0;return this.containerRect&&(e=(this.containerRect.height-M)/2),t===g?v-e:this.childPositionByIndex[this.optionIndexByFormattedValue[t]]-e}scrollTopForValueOverInput(t,e){const o=this.positionForFormattedValue(e);return Math.max(o+t,0)}scrollValueOverInput(t){if(!this.dropdownEl||!this.containerRect)return;const e=this.scrollTopForValueOverInput(this.state.dropdownScreenTop-this.containerRect.top,t);this.dropdownEl.scrollTop=e,this.setState({dropdownScrollTop:e})}scrollValueIntoView(t){if(!this.dropdownEl)return;const e=this.dropdownEl.scrollTop,o=this.dropdownEl.scrollTop+this.dropdownEl.offsetHeight,s=this.positionForFormattedValue(t),i=s+M;if(s<e){const t=s;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}else if(i>o){const t=s-this.dropdownEl.offsetHeight+M;this.dropdownEl.scrollTop=t,this.setState({dropdownScrollTop:t})}}renderInput(){let t;t=this.props.dropdownOverride?this.props.dropdownOverride:w.notMixed(this.props.property)?this.props.formatter.format(this.props.property):g;let e=S.input;return this.props.disabled&&(e=S.inputDisabled),s.createElement("div",{className:`${e} ${this.props.inputClassName||""}`,onMouseDown:this.props.disabled?null:this.onMouseDown},this.props.truncateInMiddle?s.createElement("span",{className:S.inputTextWrapper},s.createElement(y.TruncatedText,{text:t})):s.createElement("span",{className:S.inputText},t),s.createElement(f.Svg,{svg:_,className:S.chevron}))}render(){const t=`${S.container} ${this.props.className||""}`;if(this.props.disabled)return s.createElement("div",{className:t},this.renderInput());let e=[];if(this.dropdownShown()){let t=0;e=s.Children.map(this.props.children,e=>{const o=this.cloneChildForRender(e,t);return e&&t++,o}),this.props.property===w.MIXED&&(0!==s.Children.count(this.props.children)&&e.unshift(s.createElement(D,{key:"mixed-divider",style:{top:M+v}})),e.unshift(s.createElement(R,{key:"select-option-mixed",selected:!0,formattedValue:"Mixed",disabled:!0,style:{top:v}})))}return s.createElement("div",{className:t,ref:this.containerRef,onClick:this.stopPropagation,onMouseDown:this.props.onMouseDown},s.createElement("input",{ref:this.hiddenInputRef,className:S.hiddenInput,onKeyDown:this.onKeyDown,autoFocus:this.props.autoFocus}),this.renderInput(),this.dropdownShown()&&s.createElement("div",{className:`${S.dropdownContainer} ${this.props.dropdownClassName||""}`,style:{top:this.state.dropdownScreenTop,height:this.state.dropdownHeight,left:this.state.dropdownScreenLeft,width:this.state.dropdownWidth},onScroll:this.onScroll},s.createElement("div",{className:S.dropdownScrollClip},s.createElement(h,{className:S.dropdown,ref:this.dropdownRef},s.createElement("div",{className:S.dropdownContentWrapper,style:{height:this.dropdownContentHeight,minHeight:this.dropdownContentHeight}},e)))))}}x.displayName="Select",x.propTypes={children:(t,e,o)=>{const i=t[e];let n=null;return s.Children.forEach(i,t=>{null==t||t.type&&t.type.__IS_VALID_SELECT_CHILD__||(n=new Error(`${o} children should be of type 'Option' or 'SelectDivider'`))}),n}},e.Select=x;class R extends n.PureComponent{constructor(){super(...arguments),this.onMouseUp=n.mouseEvent(this,"mouseup",t=>{if(!this.props.onMouseUp)return n.SKIP_RECORDING;this.props.onMouseUp(t)})}render(){let t;return t=this.props.disabled?S.optionDisabled:this.props.focused?S.optionFocused:this.props.isHeader?S.optionHeader:S.option,this.props.fullWidth&&(t+=" "+S.optionFullWidth),s.createElement("div",{className:t,onMouseUp:this.onMouseUp,onMouseMove:this.props.onMouseMove,style:this.props.style},this.props.selected?s.createElement(f.Svg,{className:S.check,svg:E}):s.createElement("span",{className:S.check}),this.props.children||!this.props.truncateInMiddle?s.createElement("span",{className:S.optionText},this.props.children||this.props.formattedValue):s.createElement(y.TruncatedText,{className:S.optionTruncatedText,text:this.props.formattedValue}))}}R.displayName="Option",R.__IS_VALID_SELECT_CHILD__=!0,R.__CLASS_NAME__="Option",e.Option=R;e.NumberOption=class extends R{};class D extends s.PureComponent{render(){return s.createElement(d,Object.assign({},this.props,{className:S.divider}))}}D.displayName="SelectDivider",D.__IS_VALID_SELECT_CHILD__=!0,D.__CLASS_NAME__="SelectDivider",e.SelectDivider=D,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(34,1   ),i=s(38,1       ),r=s(282                             ),n=s(199      ),p=s(391                               ),l=s(199      ),h=s(342                                        ),a=s(143              );class u extends a.PureComponent{constructor(t){super(t),this.ref=(t=>{this.input=i.findDOMNode(t),this.input&&this.props.autoFocus&&this.input.select()}),this.didIncrement=!1,this.looksEqual=((t,e)=>{const s=!r.notMixed(t);return s===!r.notMixed(e)&&(!!s||this.props.formatter.format(r.getValue(t))===this.props.formatter.format(r.getValue(e)))}),this.selectAll=(()=>{if(this.input)if(r.notMixed(this.props.property)&&this.props.formatter.defaultSelection){const t=this.props.formatter.defaultSelection(this.input.value);this.input.setSelectionRange(t.start,t.end)}else this.input.select();this.needToSelectAll=!1}),this.needToSelectAll=!1,this.onFocus=a.focusEvent(this,"focus",t=>{this.needToSelectAll=!0,this.input&&this.input.setSelectionRange(0,0),this.props.shouldClearOnFocus&&this.setState({editingValue:""}),this.props.onFocus&&this.props.onFocus()}),this.onBlur=a.focusEvent(this,"blur",()=>{const t=this.props.property,e=this.input.value;if("Mixed"!==e)try{let o=t;o=this.props.formatter.parse(e,r.getValue(t)),this.props.formatter.clamp&&(o=this.props.formatter.clamp(o)),this.looksEqual(o,t)||this.props.onChange(o)}catch(s){}this.setState({editingValue:null}),this.props.onBlur&&this.props.onBlur()}),this.onChange=a.changeEvent(this,"change",t=>{this.setState({editingValue:t.target.value})}),this.onKeyDown=a.keyboardEvent(this,"keydown",t=>{if(h.forwardInputKeyToFullscreenIfNecessary(t,this.shouldForwardUndo()))return a.SKIP_RECORDING;if(this.didIncrement=!1,t.keyCode===n.Key.ESCAPE)this.setState({editingValue:null}),setTimeout(()=>this.input.blur(),0),t.preventDefault();else{if(t.keyCode===n.Key.ENTER)return this.input.blur(),t.preventDefault(),a.SKIP_RECORDING;if(t.keyCode!==n.Key.UP_ARROW&&t.keyCode!==n.Key.DOWN_ARROW)return this.needToSelectAll&&this.selectAll(),a.SKIP_RECORDING;if(t.preventDefault(),this.props.formatter.increment){let e=this.props.property;try{e=this.props.formatter.parse(this.input.value,r.getValue(this.props.property))}catch(t){}if(r.notMixed(e)){let s=null;if(this.props.formatter.getIncrementTargets){const t=this.input.selectionStart,e=this.input.selectionEnd;s=this.props.formatter.getIncrementTargets(this.input.value,{start:t,end:e})}let o=this.props.formatter.increment(e,40===t.keyCode,t.shiftKey,s);this.props.formatter.clamp&&(o=this.props.formatter.clamp(o)),this.setState({editingValue:null,incrementTargets:s}),this.looksEqual(e,o)||(this.props.onChange(o),this.didIncrement=!0)}}}}),this.onKeyUp=a.keyboardEvent(this,"keyup",t=>{if(h.forwardInputKeyToFullscreenIfNecessary(t,this.shouldForwardUndo()))return a.SKIP_RECORDING;if(this.props.formatter.autocomplete){const e=this.input.value,s=e.length>0&&this.input.selectionStart===e.length&&this.input.selectionEnd===e.length,o=t.key&&1===t.key.length,i=32===t.keyCode||t.keyCode>=65&&t.keyCode<=90;if(s&&(o||i)&&l.isNoneOrAllowedModifiersPressed(t,l.ModifierKey.SHIFT)){const t=this.props.formatter.autocomplete(e);null!==t&&(this.input.value=t,this.input.setSelectionRange(e.length,t.length))}}else{if(t.keyCode!==n.Key.TAB)return a.SKIP_RECORDING;this.needToSelectAll&&this.selectAll()}}),this.onMouseDown=a.mouseEvent(this,"mousedown",t=>{if(!this.props.onMouseDown)return a.SKIP_RECORDING;this.props.onMouseDown(t)}),this.onMouseUp=a.mouseEvent(this,"mouseup",t=>{if(!this.needToSelectAll)return a.SKIP_RECORDING;this.input&&this.input.selectionStart===this.input.selectionEnd&&this.selectAll(),this.needToSelectAll=!1}),this.onMouseLeave=(t=>{this.needToSelectAll&&(this.needToSelectAll=!1)}),this.state={editingValue:null,incrementTargets:null}}componentDidUpdate(t){if(super.componentDidUpdate(),t.source!==this.props.source&&this.setState({editingValue:null}),this.didIncrement&&t.property!==this.props.property)if(this.didIncrement=!1,this.state.incrementTargets&&this.props.formatter.getSelection){const{start:t,end:e}=this.props.formatter.getSelection(this.input.value,this.state.incrementTargets);this.input.setSelectionRange(t,e)}else this.selectAll();else this.lastSelection&&this.input.setSelectionRange(this.lastSelection[0],this.lastSelection[1])}shouldForwardUndo(){if(null===this.state.editingValue)return h.ForwardUndo.YES;if(r.notMixed(this.props.property)){const t=null==this.props.property?"":this.props.formatter.format(this.props.property);return this.state.editingValue===t?h.ForwardUndo.YES:h.ForwardUndo.NO}return h.ForwardUndo.YES}valueForRender(){return null!==this.state.editingValue?this.state.editingValue:r.notMixed(this.props.property)?null==this.props.property?"":this.props.formatter.format(this.props.property):"Mixed"}render(){return o.createElement(p.SimpleInput,{ref:this.ref,className:this.props.className,placeholder:this.props.placeholder,disabled:this.props.disabled,noLeftBorder:this.props.noLeftBorder,squareRightBorder:this.props.squareRightBorder,style:this.props.style,value:this.valueForRender(),onFocus:this.onFocus,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp,onMouseLeave:this.onMouseLeave,onBlur:this.onBlur,onChange:this.onChange,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,autoFocus:this.props.autoFocus,noBorderOnFocus:this.props.noBorderOnFocus})}}u.displayName="FormattedInput",e.FormattedInput=u;e.NumberInput=class extends u{};e.NumberArrayInput=class extends u{};e.FigNumberInput=class extends u{};e.ColorInput=class extends u{},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,e,t){o.exports={singleRowHeight:"combo_box--singleRowHeight--VIcbB",doubleRowHeight:"combo_box--doubleRowHeight--3giS_",input:"combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",border:"combo_box--border--1_z5p",borderFocusWithin:"combo_box--borderFocusWithin--1lo_z",iconInsideBorderFocusWithin:"combo_box--iconInsideBorderFocusWithin--26Jgp",rowSelectedSecondary:"combo_box--rowSelectedSecondary--1LkJC combo_box--rowSelected--2y1zv",selectHiddenInput:"combo_box--selectHiddenInput--2Hxbc",iconButton:"combo_box--iconButton--mMrnc",borderFocus:"combo_box--borderFocus--1Belk",multiValueInput:"combo_box--multiValueInput--3PORd combo_box--borderFocusWithin--1lo_z",base:"combo_box--base--n8ZTg",label:"combo_box--label--3jZvz combo_box--base--n8ZTg",labelInactive:"combo_box--labelInactive--1JJgp combo_box--label--3jZvz combo_box--base--n8ZTg",textInput:"combo_box--textInput--3aQ7W combo_box--base--n8ZTg combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB",textAreaInput:"combo_box--textAreaInput--tezGr combo_box--base--n8ZTg combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB",noLeftBorder:"combo_box--noLeftBorder--tD-RV",squareRightBorder:"combo_box--squareRightBorder--y5pkA",_iconButton:"combo_box--_iconButton--z4WXh",iconButtonEnabled:"combo_box--iconButtonEnabled--3KUEX combo_box--_iconButton--z4WXh",iconButtonDisabled:"combo_box--iconButtonDisabled--2_eyx combo_box--_iconButton--z4WXh",iconButtonSelected:"combo_box--iconButtonSelected--4WiEl combo_box--_iconButton--z4WXh",chitCenter:"combo_box--chitCenter--XhHTM",outlineButton:"combo_box--outlineButton--1iJrS",modalPanel:"combo_box--modalPanel--a2ZiD",panel:"combo_box--panel--2Qa9w",_row:"combo_box--_row--2lHrL",singleRow:"combo_box--singleRow--1_VuS combo_box--singleRowHeight--VIcbB combo_box--_row--2lHrL",doubleRow:"combo_box--doubleRow--jvwGu combo_box--doubleRowHeight--3giS_ combo_box--_row--2lHrL",labelRow:"combo_box--labelRow--2c_nX combo_box--singleRow--1_VuS combo_box--singleRowHeight--VIcbB combo_box--_row--2lHrL",rowSelected:"combo_box--rowSelected--2y1zv",panelTitle:"combo_box--panelTitle--ggrbM",panelTitleWithTip:"combo_box--panelTitleWithTip--21NP9 combo_box--panelTitle--ggrbM",panelTitleWithTipText:"combo_box--panelTitleWithTipText--2rmBA",panelTitleWithTipIcon:"combo_box--panelTitleWithTipIcon--2i8HS",panelTitleFaded:"combo_box--panelTitleFaded--xOjUo combo_box--panelTitle--ggrbM",flushLeft:"combo_box--flushLeft--1KpKs",container:"combo_box--container--3eByq raw_components--singleRowHeight--3PF2a combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a select--comboBoxShowChevronOnHover--1eA_s",hiddenInput:"combo_box--hiddenInput--3CM2H raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"combo_box--selectInputExpanded--1cocj select--selectInputExpanded--RyOud",inputDisabled:"combo_box--inputDisabled--3UlJn combo_box--input--2pNqt combo_box--singleRowHeight--VIcbB raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",chevron:"combo_box--chevron--2B2iL",inputTextWrapper:"combo_box--inputTextWrapper--1CL91",inputText:"combo_box--inputText--yQW8H combo_box--inputTextWrapper--1CL91 ellipsis--ellipsis--1RWY6",dropdownContainer:"combo_box--dropdownContainer--Wu4sW _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"combo_box--dropdownScrollClip--1Tt15",dropdown:"combo_box--dropdown--2R69T",dropdownContentWrapper:"combo_box--dropdownContentWrapper--20-0t",option:"combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",divider:"combo_box--divider--2w-5b",optionFocused:"combo_box--optionFocused--yBzDx combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionDisabled:"combo_box--optionDisabled--1ffPA combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionHeader:"combo_box--optionHeader--LLuwf combo_box--option--1N8i6 dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionTruncatedText:"combo_box--optionTruncatedText--1wU1V",optionFullWidth:"combo_box--optionFullWidth--3Li0w",optionText:"combo_box--optionText--1m3jZ combo_box--optionTruncatedText--1wU1V ellipsis--ellipsis--1RWY6",check:"combo_box--check--2BWbZ",comboBoxShowChevronOnHover:"combo_box--comboBoxShowChevronOnHover--3AaSL",_comboBoxSelect:"combo_box--_comboBoxSelect--31NEt",comboBoxSelectDisabled:"combo_box--comboBoxSelectDisabled--2l8KD combo_box--_comboBoxSelect--31NEt",comboBoxSelect:"combo_box--comboBoxSelect--3Y65U combo_box--_comboBoxSelect--31NEt",_container:"combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a",containerDisabled:"combo_box--containerDisabled--2-NDb combo_box--_container--2qBYM raw_components--singleRowHeight--3PF2a",_select:"combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",selectDisabled:"combo_box--selectDisabled--1fh37 combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",select:"combo_box--select--29RZ8 select--comboBoxSelect--3gK7x select--_comboBoxSelect--34Ccj combo_box--_select--1iNCZ select--comboBoxSelectDisabled--1jtuY select--_comboBoxSelect--34Ccj",selectInput:"combo_box--selectInput--ouHqX raw_components--input--13lRh raw_components--singleRowHeight--3PF2a",scrubbableControl:"combo_box--scrubbableControl--1OKXg raw_components--input--13lRh raw_components--singleRowHeight--3PF2a"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(r,o,e){r.exports={cursor:"PointerScrubManager--cursor--1KIUB",defaultCursor:"PointerScrubManager--defaultCursor--3Zvq7 PointerScrubManager--cursor--1KIUB"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.ScrubEvent=class{constructor(t,e,s=!1,i={x:0,y:0},n={x:0,y:0},c=!1,o=!1){this.target=t,this.sourceEvent=e,this.canceled=s,this.distance=i,this.delta=n,this.isBigIncrement=c,this.isUnbounded=o}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const h=i(481           );e.WheelCaptureContext=class{constructor(t,e){switch(this.ended=!1,this.onBatchTimeout=(()=>{this.batchTimer=null,this.end(null)}),this.trackedEl=t,this.ctx=e,this.multiplier={x:1,y:1},e.wheelMultiplier&&("number"==typeof e.wheelMultiplier?this.multiplier.x=this.multiplier.y=e.wheelMultiplier:(void 0!==e.wheelMultiplier.x&&(this.multiplier.x=e.wheelMultiplier.x),void 0!==e.wheelMultiplier.y&&(this.multiplier.y=e.wheelMultiplier.y))),this.batchDuration=void 0!==e.wheelInputBatchDuration?e.wheelInputBatchDuration:200,this.batchTimer=null,this.distance={x:0,y:0},e.wheelSingleAxis||e.lockAxis||!1){case"x":this.deltaMutator=(t=>{Math.abs(t.y)>Math.abs(t.x)&&(t.x=t.y),t.x*=this.multiplier.x,t.y=0});break;case"y":this.deltaMutator=(t=>{Math.abs(t.x)>Math.abs(t.y)&&(t.y=t.x),t.x=0,t.y*=this.multiplier.y})}this.batchDuration<=0&&(this.onWheelDelta=this.onWheelDeltaUnbatched)}deltaMutator(t){t.x*=this.multiplier.x,t.y*=this.multiplier.y}onWheelDeltaUnbatched(t,e,i){this.deltaMutator(e);const n=this.ctx,s=this.trackedEl;if(n.onBegin){const e=new h.ScrubEvent(t.target||s,t);if(!1===n.onBegin(e))return!1}return n.onChange(new h.ScrubEvent(s,t,!1,e,e,i,!0)),n.onEnd&&n.onEnd(new h.ScrubEvent(s,t,!1,void 0,e,!1,!0)),!0}end(t){this.ended||(this.ended=!0,null!==this.batchTimer&&(clearTimeout(this.batchTimer),this.batchTimer=null),this.ctx.onEnd&&this.ctx.onEnd(new h.ScrubEvent(this.trackedEl,t,!1,this.distance,void 0,!1,!0)))}onWheelDelta(t,e,i){this.deltaMutator(e);const n=this.ctx,s=this.trackedEl;if(null===this.batchTimer){if(n.onBegin){const e=new h.ScrubEvent(t.target||s,t,!1,void 0,void 0,i,!0);if(!1===n.onBegin(e))return!1}this.distance.x=e.x,this.distance.y=e.y,this.ended=!1}else clearTimeout(this.batchTimer),this.distance.x+=e.x,this.distance.y+=e.y;return this.batchTimer=setTimeout(this.onBatchTimeout,this.batchDuration),n.onChange(new h.ScrubEvent(s,t,!1,this.distance,e,i,!0)),!0}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(482                    ),s=i(481           );var r;!function(e){e[e.None=0]="None",e[e.Left=1]="Left",e[e.Right=2]="Right",e[e.Middle=4]="Middle",e[e.Other1=8]="Other1",e[e.Other2=16]="Other2"}(r||(r={}));t.BaseScrubManager=class{constructor(e){this.trackedElements=new Map,this.styleOverrideElements=new Set,this.startPosition={x:0,y:0},this.activeDistance={x:0,y:0},this.activeElement=null,this.activeContext=null,this.activeBigIncrementMultiplier=10,this.pointerInTrackedElement=null,this.isTracking=!1,this.isTrackingMovementWithEventName=!1,this.isAltKeyPressed=!1,this.isShiftKeyPressed=!1,this.wheelCaptureContext=null,this._onPointerDown=(e=>{const t=e.target,i=this.trackedElements.get(t);if(i)this.onPointerDown(t,t,e,i),e.preventDefault(),e.stopPropagation();else if(e.buttons&&e.buttons&r.Middle){const[i,n]=this.findTrackedElement(e.target);i&&!n.ignoreMiddleMouseButton&&(this.onPointerDown(t,i,e,n),e.preventDefault(),e.stopPropagation())}}),this._onPointerUp=(e=>{this.activeContext&&this.onPointerUp(e,this.activeContext)}),this.onClick=(e=>{this.trackedElements.has(e.target)&&(e.stopPropagation(),e.preventDefault())}),this.onWheelForTracked=(e=>{const t={x:-e.deltaX,y:e.deltaY};switch(e.deltaMode){case WheelEvent.DOM_DELTA_LINE:t.x*=10,t.y*=10;break;case WheelEvent.DOM_DELTA_PAGE:t.x*=100,t.y*=100;break;case WheelEvent.DOM_DELTA_PIXEL:}e.shiftKey&&(t.x*=this.activeBigIncrementMultiplier,t.y*=this.activeBigIncrementMultiplier),this.wheelCaptureContext.onWheelDelta(e,t,e.shiftKey)&&(e.preventDefault(),e.stopPropagation())}),this.onPointerEnterTracked=(e=>{const t=this.findTrackedElement(e.target)[0];this.pointerInTrackedElement=t,this.updateCaptureWheelEvents(e),this.isAltKeyPressed&&t&&this.enableStyleOverridesForTracked(t)}),this.onPointerLeaveTracked=(e=>{this.pointerInTrackedElement=null,this.updateCaptureWheelEvents(e)}),this.onKeyDown=(e=>{this.isAltKeyPressed!=e.altKey&&(this.isAltKeyPressed=e.altKey,this.onAltKeyChange(e)),this.isShiftKeyPressed!=e.shiftKey&&(this.isShiftKeyPressed=e.shiftKey,this.onShiftKeyChange(e)),27==e.keyCode&&this.activeContext&&(e.preventDefault(),e.stopPropagation())}),this.onKeyUp=(e=>{this.isAltKeyPressed!=e.altKey&&(this.isAltKeyPressed=e.altKey,this.onAltKeyChange(e)),this.isShiftKeyPressed!=e.shiftKey&&(this.isShiftKeyPressed=e.shiftKey,this.onShiftKeyChange(e)),27==e.keyCode&&this.activeContext&&(this.stopTracking(e,!0),e.preventDefault(),e.stopPropagation())}),this.onPointerMove=(e=>{}),this.onWindowBlur=(e=>{this.isAltKeyPressed=!1,this.onAltKeyChange(null),this.isShiftKeyPressed=!1,this.onShiftKeyChange(null),this.stopTracking(e,!1)}),this.eventNames=e}addTracking(e,t){this.trackedElements.set(e,t),this.isTracking||(this.isTracking=!0,this.enable(document)),e.addEventListener(this.eventNames.pointerEnter,this.onPointerEnterTracked,!1),e.addEventListener(this.eventNames.pointerLeave,this.onPointerLeaveTracked,!1)}removeTracking(e){this.trackedElements.delete(e)&&(e.removeEventListener(this.eventNames.pointerEnter,this.onPointerEnterTracked,!1),e.removeEventListener(this.eventNames.pointerLeave,this.onPointerLeaveTracked,!1),e===this.pointerInTrackedElement&&(this.disableStyleOverridesForTracked(this.pointerInTrackedElement),this.pointerInTrackedElement&&(this.pointerInTrackedElement=null,this.updateCaptureWheelEvents(null))),e===this.activeElement&&(this.activeElement=null),this.isTracking&&0==this.trackedElements.size&&(this.disable(document),this.isTracking=!1))}enable(e){e.addEventListener("click",this.onClick,!1),e.addEventListener("keydown",this.onKeyDown,!1),e.addEventListener("keyup",this.onKeyUp,!1),e.addEventListener(this.eventNames.pointerDown,this._onPointerDown,!1),e.addEventListener(this.eventNames.pointerUp,this._onPointerUp,!1),window.addEventListener("blur",this.onWindowBlur)}disable(e){e.removeEventListener("click",this.onClick,!1),e.removeEventListener("keydown",this.onKeyDown,!1),e.removeEventListener("keyup",this.onKeyUp,!1),e.removeEventListener(this.eventNames.pointerDown,this._onPointerDown,!1),e.removeEventListener(this.eventNames.pointerUp,this._onPointerUp,!1),window.removeEventListener("blur",this.onWindowBlur)}findTrackedElement(e){for(;e;){const t=this.trackedElements.get(e);if(t)return[e,t];e=e.parentElement}return[null,null]}cssCursorForContext(e){if(e){if(void 0!==e.cursorStyle)return e.cursorStyle;switch(e.lockAxis||!1){case"x":return"ew-resize";case"y":return"ns-resize"}}return"all-scroll"}updateCaptureWheelEvents(e){if(this.wheelCaptureContext){const t=this.wheelCaptureContext.trackedEl;this.isAltKeyPressed&&t===this.pointerInTrackedElement||(t.removeEventListener("wheel",this.onWheelForTracked,!0),0===this.activeDistance.x&&0===this.activeDistance.y||this.wheelCaptureContext.end(e),this.wheelCaptureContext=null)}if(this.isAltKeyPressed){const e=this.pointerInTrackedElement;if(e&&!this.wheelCaptureContext){const t=this.trackedElements.get(e);this.wheelCaptureContext=new n.WheelCaptureContext(e,t),e.addEventListener("wheel",this.onWheelForTracked,!0)}}}_setStyleOverridesForTracked(e,t){const i=this.trackedElements.get(e),n=t?"none":null,s=t&&i?this.cssCursorForContext(i):null;e.style.cursor=s;for(let r=0,o=e.children.length;r<o;++r){const t=e.children[r].style;t.pointerEvents=n,t.cursor=s}}enableStyleOverridesForTracked(e){this.styleOverrideElements.has(e)||(this._setStyleOverridesForTracked(e,!0),this.styleOverrideElements.add(e))}disableStyleOverridesForTracked(e){this.styleOverrideElements.delete(e)&&this._setStyleOverridesForTracked(e,!1)}disableAllStyleOverrides(){this.styleOverrideElements.forEach(e=>{this._setStyleOverridesForTracked(e,!1)}),this.styleOverrideElements.clear()}onAltKeyChange(e){const t=this.pointerInTrackedElement;t&&(this.isAltKeyPressed&&this.enableStyleOverridesForTracked(t),this.updateCaptureWheelEvents(e)),this.isAltKeyPressed||this.disableAllStyleOverrides()}onShiftKeyChange(e){if(this.activeContext&&!this.wheelCaptureContext){let t=this.activeDistance;if(this.isShiftKeyPressed){const e=this.activeBigIncrementMultiplier;t={x:t.x*e,y:t.y*e}}this.activeContext.onChange(new s.ScrubEvent(this.activeElement,e,!1,t,void 0,this.isShiftKeyPressed))}}startTracking(e){if(this.isTrackingMovementWithEventName)return;this.isTrackingMovementWithEventName=e||this.eventNames.pointerMove,document.addEventListener(this.isTrackingMovementWithEventName,this.onPointerMove,!1),document.body.style.pointerEvents="none",document.documentElement.style.userSelect="none";const t=this.cssCursorForContext(this.activeContext);t&&(document.documentElement.style.cursor=t)}stopTracking(e,t){this.isTrackingMovementWithEventName&&(document.removeEventListener(this.isTrackingMovementWithEventName,this.onPointerMove,!1),document.body.style.pointerEvents=null,document.documentElement.style.userSelect=null,document.documentElement.style.cursor=null,this.isTrackingMovementWithEventName=!1),this.activeContext&&(this.activeContext.onEnd&&this.activeContext.onEnd(new s.ScrubEvent(this.activeElement,e,t,this.activeDistance)),this.activeContext=null),this.activeElement=null}onPointerDown(e,t,i,n){return this.startPosition.x=i.clientX,this.startPosition.y=i.clientY,(!n.onBegin||!1!==n.onBegin(new s.ScrubEvent(e,i)))&&(this.activeDistance.x=0,this.activeDistance.y=0,this.activeContext=n,this.activeElement=t,this.activeBigIncrementMultiplier=n.bigIncrementMultiplier||10,!0)}onPointerUp(e,t){this.stopTracking(e,!1)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,n){"use strict";function t(e,o){return Math.floor(e*o+.5)/o}Object.defineProperty(o,"__esModule",{value:!0}),o.imod=function(e,o){return(e%o+o)%o},o.roundTo=t,o.roundPx="devicePixelRatio"in window?e=>t(e,window.devicePixelRatio):e=>Math.round(e),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=i(38,1       ),s=i(480                        ),o=i(481           ),n=i(483             ),a=i(484       ),c=i(302          ),u=i(180         ),h=i(141     );t.PointerScrubManager=class extends n.BaseScrubManager{constructor(){super({pointerDown:"pointerdown",pointerMove:"pointermove",pointerUp:"pointerup",pointerEnter:"pointerenter",pointerLeave:"pointerleave"}),this.activeCursorElement=null,this.activeCursorOffset={x:0,y:0},this.activeCursorSize={x:0,y:0},this.activeCapturedPointerId=null,this.activeCustomCursorRender=null,this.onPointerCancel=(e=>{this.stopTracking(e,!0)}),this.onPointerMove=(e=>{const t={x:e.movementX,y:e.movementY};if(Math.abs(t.x)>200||Math.abs(t.y)>200)return;this.activeDistance.x+=t.x,this.activeDistance.y+=t.y;let i=this.activeDistance;if(e.shiftKey){const e=this.activeBigIncrementMultiplier;i={x:i.x*e,y:i.y*e},t.x*=e,t.y*=e}this.activeContext.onChange(new o.ScrubEvent(this.activeElement,e,!1,i,t,this.isShiftKeyPressed)),this.activeCursorElement&&this.updateCursorPosition()}),this.onPointerLockFailure=(e=>{this.activeCursorElement&&this.removeCustomCursor(),this.startTracking()}),this.onPointerLockChange=(e=>{this.activeContext&&((document.pointerLockElement||document.webkitPointerLockElement||document.mozPointerLockElement||document.msPointerLockElement)===this.activeElement?h.firefox&&+h.version>=59?this.startTracking():this.startTracking("mousemove"):this.stopTracking(e,!1))}),u.assertDev(c.capabilities.pointerEvents,"missing PointerEvent API")}enable(e){super.enable(e),e.addEventListener("pointercancel",this.onPointerCancel,!1),c.capabilities.pointerLock&&(e.addEventListener(c.capabilities.pointerLockChangeEventName,this.onPointerLockChange,!1),e.addEventListener(c.capabilities.pointerLockErrorEventName,this.onPointerLockFailure,!1))}disable(e){super.disable(e),e.removeEventListener("pointercancel",this.onPointerCancel,!1),c.capabilities.pointerLock&&(e.removeEventListener(c.capabilities.pointerLockChangeEventName,this.onPointerLockChange,!1),e.removeEventListener(c.capabilities.pointerLockErrorEventName,this.onPointerLockFailure,!1))}addTracking(e,t){super.addTracking(e,t),e.addEventListener("pointercancel",this.onPointerLeaveTracked,!1)}removeTracking(e){super.removeTracking(e),e.removeEventListener("pointercancel",this.onPointerLeaveTracked,!1)}onPointerDown(e,t,i,r){if(!super.onPointerDown(e,t,i,r))return!1;if(c.capabilities.pointerCapture){this.activeCapturedPointerId=i.pointerId;try{this.activeElement.setPointerCapture(i.pointerId)}catch(s){}}return this.createCustomCursor(),c.capabilities.pointerLock?c.capabilities.requestPointerLockFunc.call(this.activeElement):this.onPointerLockFailure(),!0}stopTracking(e,t){c.capabilities.pointerLock&&c.capabilities.exitPointerLockFunc.call(document),null!==this.activeCapturedPointerId&&this.activeElement&&this.activeElement.releasePointerCapture(this.activeCapturedPointerId),this.activeCursorElement&&this.removeCustomCursor(),super.stopTracking(e,t)}updateCursorPosition(){let e=this.startPosition.x+this.activeDistance.x-this.activeCursorOffset.x,t=this.startPosition.y+this.activeDistance.y-this.activeCursorOffset.y;switch(this.activeContext.lockAxis||!1){case"x":t=this.startPosition.y-this.activeCursorOffset.y;break;case"y":e=this.startPosition.x-this.activeCursorOffset.x}const i=a.roundPx(this.activeCursorSize.x/2),r=a.roundPx(this.activeCursorSize.y/2);e=a.imod(e+i,window.innerWidth)-i,t=a.imod(t+r,window.innerHeight)-r,this.activeCursorElement.style.transform=`translate3d(${e}px, ${t}px, 0)`,this.activeCustomCursorRender&&this.activeCustomCursorRender()}removeCustomCursor(){this.activeCursorElement.parentElement&&this.activeCursorElement.parentElement.removeChild(this.activeCursorElement),this.activeCursorElement.style.display="none",this.activeCustomCursorRender=null}createCustomCursor(){const e=this.activeContext;if(!e.renderCursor&&null===e.cursorStyle)return;this.activeCursorElement||(this.activeCursorElement=document.createElement("div"),this.activeCursorElement.className=s.cursor,this.activeCursorElement.style.display="none"),this.activeCursorSize=e.cursorSize?{x:a.roundPx(e.cursorSize.x),y:a.roundPx(e.cursorSize.y)}:{x:24,y:24},this.activeCursorElement.style.width=this.activeCursorSize.x+"px",this.activeCursorElement.style.height=this.activeCursorSize.y+"px",e.cursorOffset?this.activeCursorOffset=e.cursorOffset:(this.activeCursorOffset.x=a.roundPx(this.activeCursorSize.x/2),this.activeCursorOffset.y=a.roundPx(this.activeCursorSize.y/2));const t=e.getCursorStartPosition?e.getCursorStartPosition():{};void 0!==t.x&&(this.startPosition.x=t.x),void 0!==t.y&&(this.startPosition.y=t.y),this.activeCursorElement.className=e.renderCursor?s.cursor:s.defaultCursor,this.updateCursorPosition(),document.body.appendChild(this.activeCursorElement),e.renderCursor&&(this.activeCustomCursorRender=(()=>{const t=e.renderCursor({distance:this.activeDistance});r.render(t,this.activeCursorElement)}),this.activeCustomCursorRender()),this.activeCursorElement.style.display=null}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(483             ),n=i(481           );e.MouseScrubManager=class extends s.BaseScrubManager{constructor(){super({pointerDown:"mousedown",pointerMove:"mousemove",pointerUp:"mouseup",pointerEnter:"mouseover",pointerLeave:"mouseout"}),this.lastPosition={x:0,y:0},this.onPointerMove=(t=>{const e={x:t.clientX-this.lastPosition.x,y:t.clientY-this.lastPosition.y};this.activeDistance.x=t.clientX-this.startPosition.x,this.activeDistance.y=t.clientY-this.startPosition.y;let i=this.activeDistance;if(t.shiftKey){const t=this.activeBigIncrementMultiplier;i={x:i.x*t,y:i.y*t},e.x*=t,e.y*=t}this.activeContext.onChange(new n.ScrubEvent(this.activeElement,t,!1,i,e,this.isShiftKeyPressed)),this.lastPosition.x=t.clientX,this.lastPosition.y=t.clientY})}onPointerDown(t,e,i,s){return!!super.onPointerDown(t,e,i,s)&&(this.lastPosition.x=i.clientX,this.lastPosition.y=i.clientY,this.startTracking(),!0)}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=n(485                    ),a=n(486                  ),u=n(302          );var c=n(481           );r.ScrubEvent=c.ScrubEvent,r.scrubManager=u.capabilities.pointerEvents?new t.PointerScrubManager:new a.MouseScrubManager,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,o){n.exports={container:"container--container--CvhDe",containerBordered:"container--containerBordered--2rlPH raw_components--borderFocusWithin--3IG2Z container--container--CvhDe"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(34,1   ),n=r(487                   ),c=r(283         ),o=r(488              ),a=new Set(["className","scrub","noBorderOnFocus"]),i={cursorSize:{x:9,y:9}};class l extends t.PureComponent{constructor(){super(...arguments),this.ref=(e=>{this.element!==e&&(this.element&&n.scrubManager.removeTracking(this.element),this.element=e,this.element&&n.scrubManager.addTracking(e,Object.assign({},i,this.props.scrub)))})}render(){const e=c.copyExcluding(this.props,a);let s=o.containerBordered;return this.props.noBorderOnFocus&&(s=o.container),s+=` ${this.props.className||""}`,t.createElement("label",Object.assign({ref:this.ref},e,{className:s}))}}l.displayName="ScrubbableContainer",s.ScrubbableContainer=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,o,e){r.exports={foreground:"resizable_arrow--foreground--IcChG",background:"resizable_arrow--background--1a0gc"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),o=r(283         ),i=r(490                    );var n;!function(e){e[e.Horizontal=0]="Horizontal"}(t.ResizableArrowDirection||(t.ResizableArrowDirection={})),function(e){e[e.LeftToRight=0]="LeftToRight",e[e.Center=1]="Center"}(n=t.ResizableArrowGrow||(t.ResizableArrowGrow={}));const a=new Set(["arrowWidth","direction"]),p=3,h=3.5,l=7,c=2,d=l+4;class m extends s.PureComponent{constructor(e){super(e),this.elementProps=this.makeElementProps(e)}UNSAFE_componentWillUpdate(e,t){this.elementProps=this.makeElementProps(e)}makeElementProps(e){return o.copyExcluding(e,a)}makePath(e,t){const r=this.props.arrowWidth,s=(r,s)=>r+e+" "+(s+t);return"M "+s(h,(l-c)/2)+"L "+s(h,0)+"L "+s(0,l/2)+"L "+s(h,l)+"L "+s(h,(l+c)/2)+"L "+s(r-h,(l+c)/2)+"L "+s(r-h,l)+"L "+s(r,l/2)+"L "+s(r-h,0)+"L "+s(r-h,(l-c)/2)+"Z"}render(){const e=this.props.width?"string"==typeof this.props.width?parseInt(this.props.width):this.props.width:12,t=this.props.height?"string"==typeof this.props.height?parseInt(this.props.height):this.props.height:l+2*p,r=this.props.grow==n.LeftToRight?0:(e-this.props.arrowWidth)/2,o=this.makePath(r,(t-d)/2);return s.createElement("svg",Object.assign({version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:e,height:t,className:this.props.className},this.elementProps),s.createElement("g",{transform:`translate(2 ${p})`},s.createElement("path",{className:i.background,style:{strokeWidth:2},fillRule:"evenodd",d:o}),s.createElement("path",{className:i.foreground,fillRule:"evenodd",d:o})))}}m.displayName="ResizableArrow",t.ResizableArrow=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.limitValue=function(t,e){return void 0!==t.min&&(e=Math.max(t.min,e)),void 0!==t.max&&(e=Math.min(t.max,e)),e},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,n,o){r.exports={scrubCursorSvg:"controls--scrubCursorSvg--3llpl",containerInLiveScrub:"controls--containerInLiveScrub--2KxnE",scrubbingDisabled:"controls--scrubbingDisabled--2paZV",disabled:"controls--disabled--18DMF"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(34,1   ),s=r(34,1   ),n=r(232                        ),c=r(282                             ),u=r(489          ),l=r(491                               ),o=r(283         ),a=r(492     ),h=r(493             ),p=8,b=15,d=10,S=5*p,g=S+6,m=new Set(["value","onScrubBegin","onScrubChange","onScrubEnd","scrubbingDisabled","scrubMultiplier","wheelMultiplier","bigIncrementMultiplier","min","max","resolution","dispatch","showsVisualBell"]),x={left:`-${(g-b)/2}px`};class M extends s.PureComponent{constructor(e){super(e),this.preScrubValue=0,this.scrubMultiplier=1,this.currentScrubScale=0,this.currentArrowWidth=0,this.onScrubBegin=(e=>{if(this.props.scrubbingDisabled||!c.notMixed(this.props.value))return!1;this.currentScrubScale=0,this.scrubMultiplier=this.props.scrubMultiplier||1,this.preScrubValue=c.getValue(this.props.value,0),this.props.onScrubBegin&&this.props.onScrubBegin(e),this.setState({inLiveScrub:!0})}),this.onScrubChange=(e=>{let t=1;if(!e.isUnbounded){const r=this.distanceMultiplier(this.relativeDistance(e.distance.y));t=r>0?r:1/-r}const r=this.valueFilter(e,a.limitValue(this.props,this.preScrubValue+e.distance.x*t*this.scrubMultiplier));this.props.onScrubChange&&this.props.onScrubChange(r,e)}),this.onScrubEnd=(e=>{this.setState({inLiveScrub:!1}),this.props.onScrubEnd&&this.props.onScrubEnd(e)}),this.renderScrubCursor=(e=>{const t=this.relativeDistance(e.distance.y),r=this.distanceMultiplier(t);if(this.currentScrubScale!=r){const e=this.currentScrubScale;this.currentScrubScale=r;const t=(p+r)/(2*p);this.currentArrowWidth=Math.round(Math.max(d,S*t)),!1!==this.props.showsVisualBell&&this.props.dispatch&&0!=e&&this.props.dispatch(n.visualBell.enqueue({message:`Scrubbing at ${this.labelForDistanceMultiplier(r)}`,type:"scrub-scale"}))}return i.createElement(l.ResizableArrow,{className:h.scrubCursorSvg,width:g,height:b,style:x,arrowWidth:this.currentArrowWidth})}),this.scrubContext={cursorStyle:"ew-resize",wheelSingleAxis:"x",cursorSize:{x:b,y:b},onBegin:this.onScrubBegin,onChange:this.onScrubChange,onEnd:this.onScrubEnd,renderCursor:this.renderScrubCursor},this.state={inLiveScrub:!1},this.updateScrubContext()}UNSAFE_componentWillUpdate(e,t){this.updateScrubContext()}updateScrubContext(){const e=this.scrubContext;e.wheelMultiplier=this.props.wheelMultiplier,e.bigIncrementMultiplier=this.props.bigIncrementMultiplier}valueFilter(e,t){const r=this.props.resolution;return r?1===r?Math.round(t):Math.round(t/r)*r:t}relativeDistance(e){let t=e/(window.screen?window.screen.height:768);return t<-1?-1:t>1?1:t}distanceMultiplier(e){return e<-.5?8:e<-.25?4:e<-.125?2:e>.5?-8:e>.25?-4:e>.125?-2:1}labelForDistanceMultiplier(e){return e<=-8?"1/8":e<=-4?"1/4":e<=-2?"1/2":e>=8?"8x":e>=4?"4x":e>=2?"2x":"1x"}render(){const e=this.state.inLiveScrub?`${h.containerInLiveScrub} ${this.props.className||""}`:this.props.className,t=o.copyExcluding(this.props,m);return t.className=e,this.props.scrubbingDisabled&&(t.className+=" "+h.scrubbingDisabled),this.props.disabled&&(t.className+=` ${h.disabled}`),t.scrub=this.scrubContext,i.createElement(u.ScrubbableContainer,Object.assign({},t))}}M.displayName="ScrubbableControl",t.ScrubbableControl=M,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.memoizeLast=function(e,t=null){let n=null,l=null;return function(){const r=Array.prototype.slice.call(arguments);if(null!=n&&n.length===r.length){let e=!0;for(let t=0,l=r.length;t<l;t++)if(r[t]!=n[t]){e=!1;break}if(e)return l}return n=r,l=e.apply(t,r)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),n=r(141     ),o=r(34,1   ),i=r(1426                               ),a=r(341                              ),u=r(283         ),l=r(542                   ),c=r(478                                                                          ),p=r(498                                                              ),m=r(494         ),h=r(492     ),b=r(282                             ),d=r(495          ),g=new Set(["valueFilter","onValueChange","smallNudgeAmount","bigNudgeAmount"]);function f(e,t,r){if(e===l.PixelFormatter||e===l.IntegerFormatter){if(t.min!==r.min||t.max!==r.max||t.smallNudgeAmount!==r.smallNudgeAmount||t.bigNudgeAmount!==r.bigNudgeAmount)return new e({min:void 0===t.min?r.min:t.min,max:void 0===t.max?r.max:t.max,smallNudgeAmount:t.smallNudgeAmount||l.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:t.bigNudgeAmount||l.DEFAULT_BIG_NUDGE_AMOUNT})}else if(t.min!==r.min||t.max!==r.max)return new e({min:void 0===t.min?r.min:t.min,max:void 0===t.max?r.max:t.max});return r.formatter}class S extends o.Component{constructor(e,t,r,s=I,n=I,o=w){super(e),this.formatterCons=t,this.propsDefault=r,this.postScrubMultiplier=s,this.postBigNudgeAmount=n,this.postWheelMultiplier=o,this.onScrubBegin=(e=>{this.setState({inLiveScrub:!0}),i.fullscreen.commit(),this.effectiveProps.onScrubBegin&&this.effectiveProps.onScrubBegin(e)}),this.onScrubChange=((e,t)=>{this.effectiveProps.valueFilter&&(e=this.effectiveProps.valueFilter(t,e,this.effectiveProps)),e=h.limitValue(this.effectiveProps,e),this.setState({value:e}),this.effectiveProps.onValueChange&&this.effectiveProps.onValueChange(e,a.ShouldCommit.NO),this.effectiveProps.onScrubChange&&this.effectiveProps.onScrubChange(e,t)}),this.onScrubEnd=(e=>{this.effectiveProps.onScrubEnd&&this.effectiveProps.onScrubEnd(e),this.effectiveProps.onValueChange&&this.effectiveProps.onValueChange(this.state.value,a.ShouldCommit.YES),this.updateEffectiveProps(this.props),this.setState({inLiveScrub:!1})}),this.formatterCons=t,this.propsDefault=r,this.state={value:e.value,formatter:f(this.formatterCons,e,this.propsDefault),inLiveScrub:!1},this.updateEffectiveProps(e)}updateEffectiveProps(e){this.effectiveProps=Object.assign({},this.propsDefault,{formatter:this.state.formatter},e),this.effectiveProps.scrubMultiplier*=this.postScrubMultiplier,this.effectiveProps.bigIncrementMultiplier=this.effectiveProps.bigNudgeAmount*this.postBigNudgeAmount,this.effectiveProps.wheelMultiplier*=this.postWheelMultiplier}UNSAFE_componentWillReceiveProps(e){if(!this.state.inLiveScrub){const t=this.effectiveProps;this.updateEffectiveProps(e);const r=this.effectiveProps;t===r||t.min===r.min&&t.max===r.max&&t.smallNudgeAmount===r.smallNudgeAmount&&t.bigNudgeAmount===r.bigNudgeAmount?e.value!=this.state.value&&this.setState({value:e.value}):this.setState({formatter:f(this.formatterCons,r,this.propsDefault),value:e.value})}}shouldComponentUpdate(e,t){return!this.state.inLiveScrub||this.state.inLiveScrub!==t.inLiveScrub||t.value!=this.state.value}render(){return this.renderInput(this.effectiveProps)}renderInput(e){if(this)throw new Error("missing implementation");return s.createElement("p",null)}}t.ScrubbableInputBase=S;const C={smallNudgeAmount:l.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:l.DEFAULT_BIG_NUDGE_AMOUNT},N=new l.IntegerFormatter(C),v=new l.PixelFormatter(C),x=new l.PixelFormatter(Object.assign({},C,{min:0})),E=new l.PercentageFormatter({min:0,max:1}),F=new l.AngleFormatter,P=new Set([...Array.from(g),"formatter","inputClassName","noLeftBorder","squareRightBorder","recordingKey"]);class A extends S{constructor(){super(...arguments),this.onChange=(e=>{this.props.onValueChange&&this.props.onValueChange(e,a.ShouldCommit.YES)})}renderInput(e){const t=u.copyExcluding(e,P);return e.disabled&&!e.scrubbingDisabled&&(t.scrubbingDisabled=!0),s.createElement(m.ScrubbableControl,Object.assign({},t,{onScrubBegin:this.onScrubBegin,onScrubChange:this.onScrubChange,onScrubEnd:this.onScrubEnd}),e.children,s.createElement(c.NumberInput,{recordingKey:e.recordingKey,className:e.inputClassName,noLeftBorder:e.noLeftBorder,squareRightBorder:e.squareRightBorder,formatter:this.state.formatter,property:this.state.value,onChange:this.onChange,disabled:void 0===e.disabled?null===this.state.value:e.disabled,autoFocus:e.autoFocus,noBorderOnFocus:!0}))}}t.ScrubbableNumberInput=A;const M=new Set([...Array.from(P),"dropdownShown","formatter","inputClassName","dropdownClassName"]);class _ extends S{constructor(){super(...arguments),this.onChange=(e=>{this.props.onValueChange&&this.props.onValueChange(e,a.ShouldCommit.YES)})}renderInput(e){const t=u.copyExcluding(e,M);return s.createElement(p.NumberComboBox,{id:e.id,className:e.className,inputClassName:e.inputClassName,dropdownClassName:e.dropdownClassName,formatter:this.state.formatter,dispatch:e.dispatch,dropdownShown:e.dropdownShown,property:this.state.value,onChange:this.onChange,disabled:null==this.state.value||e.disabled,recordingKey:this.props.recordingKey,scrubbableControlProps:Object.assign({},t,{onScrubBegin:this.onScrubBegin,onScrubChange:this.onScrubChange,onScrubEnd:this.onScrubEnd})},e.children)}}t.ScrubbableNumberComboBox=_;const I=.5,w=.2,O={scrubMultiplier:1,wheelMultiplier:1,smallNudgeAmount:l.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:l.DEFAULT_BIG_NUDGE_AMOUNT},B=Object.assign({},O,{resolution:1,min:0,formatter:x,valueFilter(e,t,r){if(e.isBigIncrement){const e=r.bigIncrementMultiplier/I;return Math.round(t/e)*e}return t}});class U extends s.PureComponent{constructor(){super(...arguments),this.formatter=new l.PixelFormatter({min:0,smallNudgeAmount:1,bigNudgeAmount:10}),this.onChange=(e=>{this.props.onValueChange&&this.props.onValueChange(e,a.ShouldCommit.YES)})}render(){return n.safari?s.createElement("div",{className:this.props.className},s.createElement(p.NumberComboBox,{id:this.props.id,inputClassName:this.props.inputClassName,formatter:this.formatter,property:this.props.value,onChange:this.onChange,dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,autoFocus:this.props.autoFocus,recordingKey:this.props.recordingKey},this.props.children)):s.createElement(D,Object.assign({},this.props))}}U.displayName="ScrubbablePositivePixelComboBox",t.ScrubbablePositivePixelComboBox=U;class D extends _{constructor(e){super(e,l.PixelFormatter,B)}}const L=Object.assign({},O,{resolution:1,formatter:N,valueFilter(e,t,r){if(e.isBigIncrement){const e=r.bigIncrementMultiplier/I;return Math.round(t/e)*e}return Math.round(t)}});t.ScrubbableIntInput=class extends A{constructor(e){super(e,l.IntegerFormatter,L)}};const y=Object.assign({},L,{formatter:v});t.ScrubbablePixelInput=class extends A{constructor(e){super(e,l.PixelFormatter,y)}};const j=Object.assign({},L,{formatter:x,min:0});t.ScrubbablePositivePixelInput=class extends A{constructor(e){super(e,l.PixelFormatter,j)}};class V extends l.SecondsFormatter{constructor(e){super(l.OutputUnit.SECONDS,1e3)}}const T=new V({}),G=Object.assign({},O,{formatter:T,min:1,max:1e3,resolution:1});t.ScrubbableSecondsInput=class extends A{constructor(e){super(e,V,G)}};class K extends l.SecondsFormatter{constructor(e){super(l.OutputUnit.MILLISECONDS,10)}}const Y=new K({}),R=Object.assign({},O,{formatter:Y,min:.001,max:10,resolution:.001});t.ScrubbableMillisecondsInput=class extends A{constructor(e){super(e,K,R)}};const q=Object.assign({},O,{formatter:E,min:0,max:1,scrubMultiplier:4,wheelMultiplier:2,valueFilter:(e,t)=>e.isBigIncrement?.1*Math.round(t/.1):t});t.ScrubbablePercentageInput=class extends A{constructor(e){super(e,l.PercentageFormatter,q,.001,.1)}};const W=Object.assign({},O,{formatter:F,valueFilter:(e,t)=>e.isBigIncrement?15*Math.round(t/15):t});t.ScrubbableAngleInput=class extends A{constructor(e){super(e,l.AngleFormatter,W,-.5,-.1,-.2)}};class z extends S{constructor(e){super(e,l.IntegerFormatter,L),this.excludedProps=new Set([...Array.from(P),"numberFormatter","toNumber","onNumberChange","placeholder","shouldClearOnFocus"])}renderInput(e){const t=u.copyExcluding(e,this.excludedProps);return e.disabled&&!e.scrubbingDisabled&&(t.scrubbingDisabled=!0),s.createElement(m.ScrubbableControl,Object.assign({},t,{onScrubBegin:this.onScrubBegin,onScrubChange:this.onScrubChange,onScrubEnd:this.onScrubEnd}),e.children,s.createElement(c.FormattedInput,{disabled:this.props.disabled,className:this.props.inputClassName,formatter:this.props.numberFormatter,property:this.props.toNumber(this.state.value),source:this.state.inLiveScrub?"scrub":"document",onChange:this.props.onNumberChange,recordingKey:this.props.recordingKey,noBorderOnFocus:!0,shouldClearOnFocus:this.props.shouldClearOnFocus,placeholder:this.props.placeholder}))}}class X extends s.Component{constructor(e){super(e),this.onChange=((e,t=a.ShouldCommit.YES)=>{this.props.onValueChange&&this.props.onValueChange(e,t)}),this.getUnits=(()=>b.notMixed(this.props.value)&&this.props.value?this.props.value.units:null),this.toNumber=(e=>{if(b.notMixed(e)){if(null==e)return null;let t=e.value;const r=this.props.multipliers&&this.props.multipliers[this.getUnits()];return void 0!==r&&(t*=r),t}return b.MIXED}),this.toFigNumber=(e=>{const t=this.getUnits();if(b.notMixed(e)){if(null==e||null==t)return null;const r=this.props.multipliers&&this.props.multipliers[t];return null!=r&&(e/=r),{value:e,units:t}}return b.MIXED}),this.onNumberChange=((e,t)=>{const r=this.toFigNumber(e);b.notMixed(r)&&this.onChange(r,t)}),this.onValueChange=(e=>this.onNumberChange(e,a.ShouldCommit.YES)),this.onScrubChange=(e=>this.onNumberChange(e,a.ShouldCommit.NO)),this.getFormatter=d.memoizeLast((e,t)=>void 0===e?new l.PixelPercentageFormatter({min:this.props.min,smallPixelNudgeAmount:l.DEFAULT_SMALL_NUDGE_AMOUNT,bigPixelNudgeAmount:l.DEFAULT_BIG_NUDGE_AMOUNT}):e)}render(){const e=u.copyExcluding(this.props,X.localProps);e.value=this.toNumber(this.props.value),e.onValueChange=this.onValueChange,e.onScrubChange=this.onScrubChange,e.numberFormatter=this.getFormatter(this.props.formatter,this.props.min),e.toNumber=this.toFigNumber,e.onNumberChange=this.onChange,this.props.disabled&&(e.scrubbingDisabled=!0);const t=z;return s.createElement(t,Object.assign({},e),this.props.children)}}X.displayName="ScrubbableFigNumberInput",X.localProps=new Set(["value","formatter","onChange"]),t.ScrubbableFigNumberInput=X,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";function o(t){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}Object.defineProperty(e,"__esModule",{value:!0}),o(n(489          )),o(n(494         )),o(n(496       )),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(143              ),p=t(282                             ),i=t(478                                 ),n=t(477               ),a=t(479              ),l=t(497                                  );class h extends o.PureComponent{constructor(e){super(e),this.onChange=(e=>{this.props.onChange(e)}),this.onSelectChange=(e=>{this.props.onChange(e)}),this.onMouseOver=(()=>{this.setState({isMouseOver:!0})}),this.onMouseLeave=(()=>{this.setState({isMouseOver:!1})}),this.onFocus=(()=>{this.setState({isFocused:!0})}),this.onBlur=(()=>{this.setState({isFocused:!1})}),this.state={isMouseOver:!1,isFocused:!1}}render(){const e=n.Select,s=p.getValue(this.props.property),t=[];let h=!0;const c=this.props.formatter.isEqual||function(e,s){return e===s};o.Children.forEach(this.props.children,e=>{c(e.props.value,s)&&(h=!1)}),h&&s&&(t.push(o.createElement(n.Option,{value:s,key:"custom-option"},this.props.formatter.format(s))),0!==o.Children.count(this.props.children)&&t.push(o.createElement(n.SelectDivider,{key:"custom-option-divider"})));let u=a.selectInput;this.props.disabled||!this.state.isMouseOver&&!this.state.isFocused||(u=a.selectInputExpanded);let d=a.container;return this.props.disabled&&(d=a.containerDisabled),o.createElement("div",{className:`${d} ${this.props.className||""}`,onMouseDown:this.props.onMouseDown,onMouseOver:this.onMouseOver,onMouseLeave:this.onMouseLeave},o.createElement(e,{id:this.props.id,formatter:this.props.formatter,property:this.props.property,className:this.props.disabled?a.selectDisabled:a.select,inputClassName:`${u} ${this.props.inputClassName||""}`,dropdownClassName:this.props.dropdownClassName,onChange:this.onSelectChange,dispatch:this.props.dispatch,disabled:this.props.disabled,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"select")},t,this.props.children),this.props.scrubbableControlProps?o.createElement(l.ScrubbableControl,Object.assign({},this.props.scrubbableControlProps,{className:a.scrubbableControl}),o.createElement(i.FormattedInput,{className:this.props.inputClassName,formatter:this.props.formatter,property:this.props.property,onChange:this.onChange,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:r.joinKeys(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur,noBorderOnFocus:!0})):o.createElement(i.FormattedInput,{className:`${a.input} ${this.props.inputClassName||""}`,formatter:this.props.formatter,property:this.props.property,onChange:this.onChange,disabled:this.props.disabled,autoFocus:this.props.autoFocus,recordingKey:r.joinKeys(this.props,"input"),onFocus:this.onFocus,onBlur:this.onBlur}))}}h.displayName="ComboBox",s.ComboBox=h,h.propTypes={children:(e,s,t)=>{const r=e[s];let p=null;return o.Children.forEach(r,e=>{e.type&&e.type.__IS_VALID_SELECT_CHILD__||(p=new Error(`${t} children should be of type 'Option' or 'SelectDivider'`))}),p}};s.NumberComboBox=class extends h{},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(m,t,n){"use strict";function e(m,t,n,e,r,o){return{m00:m,m01:t,m02:n,m10:e,m11:r,m12:o}}Object.defineProperty(t,"__esModule",{value:!0}),t.identity=function(){return e(1,0,0,0,1,0)},t.create=e,t.translated=function(m,t,n){const{m00:r,m01:o,m02:u,m10:c,m11:i,m12:s}=m;return e(r,o,t*r+n*o+u,c,i,t*c+n*i+s)},t.rotated=function(m,t){const{m00:n,m01:r,m02:o,m10:u,m11:c,m12:i}=m,s=Math.sin(t),a=Math.cos(t);return e(a*n+s*r,a*r-s*n,o,a*u+s*c,a*c-s*u,i)},t.scaled=function(m,t,n){const{m00:r,m01:o,m02:u,m10:c,m11:i,m12:s}=m;return e(r*t,o*n,u,c*t,i*n,s)},t.product=function(m,t){return e(m.m00*t.m00+m.m01*t.m10,m.m00*t.m01+m.m01*t.m11,m.m00*t.m02+m.m01*t.m12+m.m02,m.m10*t.m00+m.m11*t.m10,m.m10*t.m01+m.m11*t.m11,m.m10*t.m02+m.m11*t.m12+m.m12)},m.exports instanceof Function&&(m.exports.default=m.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=s(1426                               ),r=s(291       ),a=s(499                   );e.defaultFill={r:196/255,g:196/255,b:196/255,a:1},e.defaultStroke={r:0,g:0,b:0,a:1};let n=[{position:0,color:{r:1,g:1,b:1,a:1}},{position:1,color:{r:1,g:1,b:1,a:0}}];const o=(()=>{let t=a.identity();return t=a.translated(t,.5,.5),t=a.rotated(t,-Math.PI/2),t=a.translated(t,-.5,-.5)})();let l=null;function c(t){return-1!==["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"].indexOf(t)}e.isGradient=c;e.paintCache=new class{constructor(){this.clearCache=(t=>{null!=t?delete this.cache[t]:this.cache={}}),this.getId=((t,e)=>`${e}-${t}`),this.initPaint=((t,e,s,i)=>{let r={type:t,opacity:1,visible:!0,blendMode:"NORMAL"};if("SOLID"===t?r.color=e:c(t)?(r.stops=n,r.transform=o):"IMAGE"===t&&this.transferImageAttributes(l,r),!s)return r;const a=this.cachePaint(s,i);return this.transferGeneralAttributes(a,r),"SOLID"===t?a.color?this.transferColorAttributes(a,r):a.stops&&a.stops.length&&this.transferColorAttributes(a.stops[0],r):c(t)?a.stops?this.transferGradientAttributes(a,r):a.color&&(r.stops=[{position:0,color:Object.assign({},a.color,{a:1})},{position:1,color:Object.assign({},a.color,{a:0})}]):"IMAGE"===t&&a.image&&a.imageThumbnail&&(this.transferImageAttributes(a,r),r.transform=a.imageTransform),r}),this.cachePaint=((t,e)=>(this.cache[e]=this.cache[e]||t,c(t.type)?this.transferGradientAttributes(t,this.cache[e]):"SOLID"===t.type?this.transferColorAttributes(t,this.cache[e]):"IMAGE"===t.type&&(this.transferImageAttributes(t,this.cache[e]),this.cache[e].imageTransform=t.transform),this.cache[e])),this.transferGeneralAttributes=((t,e)=>{e.opacity=t.opacity,e.blendMode=t.blendMode,e.visible=t.visible}),this.transferColorAttributes=((t,e)=>{e.color=t.color}),this.transferGradientAttributes=((t,e)=>{e.stops=t.stops,e.transform=t.transform}),this.transferImageAttributes=((t,e)=>{e.image=t.image,e.imageThumbnail=t.imageThumbnail,e.imageScaleMode=t.imageScaleMode,e.rotation=t.rotation,e.scale=t.scale,e.paintFilter=t.paintFilter}),this.clearCache()}};let h=!1;e.initialize=function(){h||(h=!0,i.fullscreen.fromFullscreen.on("handleDefaultImageStyle",t=>{const e=r.schema.decodeMessage(t.buffer);l=e.nodeChanges[0].fillPaints[0]}),i.fullscreen.onReady().then(()=>{i.fullscreen.sendMessage("requestDefaultImageStyle")}))},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,n,r){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const e=r(129                               );function s(o){const n=e.ColorHelpers.hslToRGB(o.h,o.s,o.l);return{r:n[0],g:n[1],b:n[2],a:o.a}}function t(o){const n=e.ColorHelpers.hsvToRGB(o.h,o.s,o.v);return{r:n[0],g:n[1],b:n[2],a:o.a}}n.HSLToRGB=s,n.RGBToHSL=function(o){const n=e.ColorHelpers.hslFromRGB(o.r,o.g,o.b);return{h:n[0],s:n[1],l:n[2],a:o.a}},n.HSVToRGB=t,n.RGBToHSV=function(o){const n=e.ColorHelpers.hsvFromRGB(o.r,o.g,o.b);return{h:n[0],s:n[1],v:n[2],a:o.a}},n.HSLVToRGB=function(o){return"l"in o?s(o):t(o)},n.saturate=function(o){return"l"in o?Object.assign({},o,{s:1,l:.5,a:1}):Object.assign({},o,{s:1,v:1,a:1})},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),n=s(143              ),o=s(198         ),a=s(542                   );class r extends n.PureComponent{constructor(e){super(e),this.canvasElement=null,this.canvasRef=(e=>{this.canvasElement=e,this.canvasElement&&this.props.renderCanvas(this.props.value,this.canvasElement)}),this.barElement=null,this.barRef=(e=>{this.barElement=e,e&&this.disableWeirdHorizontalScrollingPageNavigation(e)}),this.handleElement=null,this.handleRef=(e=>{this.handleElement=e,this.handleElement&&(this.props.renderHandle(this.props.value,this.handleElement),this.disableWeirdHorizontalScrollingPageNavigation(e))}),this.offset=new o.Vector(0,0),this.setOffset=(e=>{if(null!=e){const t=e.target.getBoundingClientRect(),s=new o.Vector(t.left+t.width/2,t.top+t.height/2);this.offset=s.subtract(new o.Vector(e.clientX,e.clientY))}else null!=this.props.offset?this.offset=this.props.offset:this.offset=new o.Vector(0,0)}),this.dragging=!1,this.startDragging=(()=>{this.dragging=!0,window.fullscreen_isReactUIDragging=!0}),this.stopDragging=(()=>{this.dragging=!1,window.fullscreen_isReactUIDragging=!1}),this.mouseToValue=(e=>{const t=this.barElement.getBoundingClientRect();let s=e.x+this.offset.x,i=e.y+this.offset.y;return s-=t.left+(this.props.handlePadding?this.props.handle/2:0),i-=t.top+(this.props.handlePadding?this.props.handle/2:0),s/=this.props.width,i/=this.props.height,s=Math.max(Math.min(s,1),0),i=Math.max(Math.min(i,1),0),new o.Vector(s,i)}),this.valueToPosition=(e=>{let t=e.x,s=e.y;return t*=this.props.width,s*=this.props.height,t-=this.props.handlePadding?0:this.props.handle/2,s-=this.props.handlePadding?0:this.props.handle/2,new o.Vector(t,s)}),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{e.stopPropagation(),this.startDragging(),e.target===this.handleElement?this.setOffset(e):(this.setOffset(),this.props.mouseCallback(this.mouseToValue(new o.Vector(e.clientX,e.clientY)),!1))},{recordMetadata:e=>{const t=this.barElement.getBoundingClientRect();return{left:(e.clientX-t.left)/t.width,top:(e.clientY-t.top)/t.height}},playbackMetadata:e=>{const t=this.barElement.getBoundingClientRect();return{clientX:e.left*t.width+t.left,clientY:e.top*t.height+t.top}}}),this.onMouseMove=(e=>{this.dragging&&this.props.mouseCallback(this.mouseToValue(new o.Vector(e.clientX,e.clientY)),!1)}),this.onMouseUp=n.mouseEvent(this,"mouseup",e=>{if(!this.dragging)return n.SKIP_RECORDING;this.stopDragging(),this.props.mouseCallback(this.mouseToValue(new o.Vector(e.clientX,e.clientY)),!0)},{recordMetadata:e=>{const t=this.barElement.getBoundingClientRect();return{left:(e.clientX-t.left)/t.width,top:(e.clientY-t.top)/t.height}},playbackMetadata:e=>{const t=this.barElement.getBoundingClientRect();return{clientX:e.left*t.width+t.left,clientY:e.top*t.height+t.top}}}),this.onWheel=n.wheelEvent(this,"wheel",e=>{e.stopPropagation(),this.props.wheelCallback(new o.Vector(e.deltaX,e.deltaY),e.altKey)},{recordMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode}),playbackMetadata:e=>({deltaX:e.deltaX,deltaY:e.deltaY,deltaMode:e.deltaMode})})}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}componentDidUpdate(e,t){super.componentDidUpdate(e,t),e.value!==this.props.value&&(this.canvasRef(this.canvasElement),this.handleRef(this.handleElement))}componentWillUnmount(){super.componentWillUnmount(),this.stopDragging(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}disableWeirdHorizontalScrollingPageNavigation(e){e.addEventListener("wheel",e=>e.preventDefault(),{passive:!1})}render(){const e={position:"relative",boxSizing:"border-box",overflow:"hidden",width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0},t={position:"absolute",boxShadow:"inset 0 0 0 .5px rgba(0, 0, 0, .2)",left:0,top:0,width:this.props.width+(this.props.handlePadding?this.props.handle:0),height:this.props.height+(this.props.handlePadding?this.props.handle:0),borderRadius:this.props.handlePadding?.5*this.props.handle:0},s=this.valueToPosition(this.props.value),n={position:"absolute",boxSizing:"border-box",boxShadow:"0 0 0 .5px rgba(0, 0, 0, .2)",left:s.x,top:s.y,width:this.props.handle,height:this.props.handle,borderRadius:.5*this.props.handle};return i.createElement("div",{className:this.props.containerClass,style:{position:"relative"}},i.createElement("div",{ref:this.barRef,onMouseDown:this.onMouseDown,onWheel:this.onWheel,style:e},i.createElement("canvas",{ref:this.canvasRef,width:`${this.props.width+(this.props.handlePadding?this.props.handle:0)}px`,height:`${this.props.height+(this.props.handlePadding?this.props.handle:0)}px`}),i.createElement("div",{style:t})),this.props.children,i.createElement("div",{ref:this.handleRef,onMouseDown:this.onMouseDown,onWheel:this.onWheel,style:n}))}}r.displayName="SliderControl",t.SliderControl=r;class h extends n.PureComponent{constructor(){super(...arguments),this.renderHandle=((e,t)=>{const s=this.props.colorHandle(e),i=h.formatter.format(s);t.style.borderRadius=`${h.handle/2}px`,t.style.borderStyle="solid",t.style.borderWidth=`${h.border}px`,t.style.borderColor="white",t.style.background=i})}render(){return i.createElement(r,{width:this.props.width,height:this.props.height,handle:h.handle,handlePadding:this.props.handlePadding,value:this.props.value,offset:this.props.offset,mouseCallback:this.props.mouseCallback,wheelCallback:this.props.wheelCallback,renderCanvas:this.props.renderCanvas,renderHandle:this.renderHandle,containerClass:this.props.containerClass,recordingKey:this.props.recordingKey},this.props.children)}}h.displayName="StandardSliderControl",h.handle=12,h.border=2,h.formatter=new a.ColorCSSFormatter,t.StandardSliderControl=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=r(34,1   ),l=r(143              ),a=r(198         ),s=r(501                                     ),n=r(542                   ),i=r(502                                                       );class d extends l.PureComponent{constructor(){super(...arguments),this.mouseCallback=((e,o)=>{this.props.changeCallback(this.valueToColor(e),o)}),this.wheelCallback=((e,o)=>{}),this.renderCanvas=((e,o)=>{const r=o.getContext("2d"),t=r.createLinearGradient(i.StandardSliderControl.handle/2,0,i.StandardSliderControl.handle/2+this.props.width,0);for(let l=0;l<32;l++){const e=l/32,o=s.HSLVToRGB(s.saturate(Object.assign({},this.props.color,{h:e})));t.addColorStop(e,d.formatter.format(o))}r.fillStyle=t,r.fillRect(0,0,this.props.width+i.StandardSliderControl.handle,i.StandardSliderControl.handle)}),this.colorHandle=(e=>s.HSLVToRGB(s.saturate(this.valueToColor(e)))),this.colorToValue=(e=>new a.Vector(e.h,0)),this.valueToColor=(e=>Object.assign({},this.props.color,{h:Math.round(100*e.x)/100}))}render(){return t.createElement(i.StandardSliderControl,{width:this.props.width,height:0,handlePadding:!0,value:this.colorToValue(this.props.color),mouseCallback:this.mouseCallback,wheelCallback:this.wheelCallback,renderCanvas:this.renderCanvas,colorHandle:this.colorHandle,containerClass:this.props.containerClass,recordingKey:this.props.recordingKey})}}d.displayName="HueControl",d.formatter=new n.ColorCSSFormatter,o.HueControl=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,a){"use strict";Object.defineProperty(i,"__esModule",{value:!0}),i.smallCheckerboardImageURL="/images/checkerboard.png",i.default=function(){return"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTYiIGhlaWdodD0iMTYiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3QgZmlsbD0iI0ZGRkZGRiIgd2lkdGg9IjE2IiBoZWlnaHQ9IjE2Ii8+PHBhdGggZmlsbD0iI0YxRjFGMSIgZD0iTSAwIDggSCAxNiBWIDAgSCA4IFYgMTYgSCAwIi8+PC9zdmc+"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=o(34,1   ),t=o(143              ),l=o(198         ),s=o(501                                     ),n=o(542                   ),i=o(502                                                       ),d=o(504                            );class c extends t.PureComponent{constructor(){super(...arguments),this.mouseCallback=((e,r)=>{this.props.changeCallback(this.valueToColor(e),r)}),this.wheelCallback=((e,r)=>{}),this.renderCanvas=((e,r)=>{const o=r.getContext("2d"),a=new Image;a.onload=(()=>{const r=o.createPattern(a,"repeat");o.fillStyle=r,o.fillRect(0,0,this.props.width+i.StandardSliderControl.handle,i.StandardSliderControl.handle);const t=s.HSLVToRGB(this.valueToColor(e)),l=o.createLinearGradient(i.StandardSliderControl.handle/2,0,this.props.width+i.StandardSliderControl.handle/2,0);l.addColorStop(0,c.formatter.format(Object.assign({},t,{a:0}))),l.addColorStop(1,c.formatter.format(Object.assign({},t,{a:1}))),o.fillStyle=l,o.fillRect(0,0,this.props.width+i.StandardSliderControl.handle,i.StandardSliderControl.handle)}),a.src=d.smallCheckerboardImageURL}),this.colorHandle=(e=>{const r=s.HSLVToRGB(this.valueToColor(e)),o=e=>1-r.a+e*r.a;return{r:o(r.r),g:o(r.g),b:o(r.b),a:1}}),this.colorToValue=(e=>new l.Vector(e.a,0)),this.valueToColor=(e=>Object.assign({},this.props.color,{a:Math.round(100*e.x)/100}))}render(){return a.createElement(i.StandardSliderControl,{width:this.props.width,height:0,handlePadding:!0,value:this.colorToValue(this.props.color),mouseCallback:this.mouseCallback,wheelCallback:this.wheelCallback,renderCanvas:this.renderCanvas,colorHandle:this.colorHandle,containerClass:this.props.containerClass,recordingKey:this.props.recordingKey})}}c.displayName="OpacityControl",c.formatter=new n.ColorCSSFormatter,r.OpacityControl=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t(34,1   ),s=t(143              ),l=t(198         ),a=t(501                                     ),i=t(542                   ),n=t(502                                                       );class p extends s.PureComponent{constructor(o){super(o),this.offset=new l.Vector(0,0),this.mouseCallback=((o,e)=>{this.props.changeCallback(this.valueToColor(o),e)}),this.renderHSLCanvas=((o,e)=>{const t=e.getContext("2d");t.fillStyle=p.formatter.format(a.HSLVToRGB(a.saturate(this.props.color))),t.fillRect(0,0,this.props.size,this.props.size);const r=t.createLinearGradient(0,0,this.props.size,0);r.addColorStop(0,"rgba(128, 128, 128, 1.0)"),r.addColorStop(1,"rgba(128, 128, 128, 0.0)"),t.fillStyle=r,t.fillRect(0,0,this.props.size,this.props.size);const s=t.createLinearGradient(0,0,0,this.props.size);s.addColorStop(0,"rgba(255, 255, 255, 1.0)"),s.addColorStop(.499999,"rgba(255, 255, 255, 0.0)"),s.addColorStop(.500001,"rgba(0, 0, 0, 0.0)"),s.addColorStop(1,"rgba(0, 0, 0, 1.0)"),t.fillStyle=s,t.fillRect(0,0,this.props.size,this.props.size)}),this.renderHSVCanvas=((o,e)=>{const t=e.getContext("2d"),r=t.createLinearGradient(0,0,this.props.size,0);r.addColorStop(0,"#ffffff"),r.addColorStop(1,p.formatter.format(a.HSLVToRGB(a.saturate(this.props.color)))),t.fillStyle=r,t.fillRect(0,0,this.props.size,this.props.size);const s=t.createLinearGradient(0,0,0,this.props.size);s.addColorStop(0,"rgba(0, 0, 0, 0)"),s.addColorStop(1,"rgba(0, 0, 0, 1.0)"),t.fillStyle=s,t.fillRect(0,0,this.props.size,this.props.size)}),this.colorHandle=(o=>{const e=Object.assign({},this.valueToColor(o),{a:1});return a.HSLVToRGB(e)}),this.colorToValue=(o=>new l.Vector(o.s,1-("l"in o?o.l:o.v))),this.valueToColor=(o=>{const e=Object.assign({},this.props.color,{s:o.x});return e["l"in e?"l":"v"]=1-o.y,e}),this.wheelCallback=((o,e)=>{let t=(-o.x+o.y)/2e3,{h:r,a:s}=this.props.color;if(e){s+=t;let o=1e3,e=10*(s=t>0?Math.ceil(s*o)/o:Math.floor(s*o)/o);Math.abs(e-Math.round(e))<=.03&&(s=Math.round(e)/10),s>1?s=1:s<0&&(s=0)}else{for(r+=t;r>1;)r--;for(;r<0;)r++}this.props.changeCallback(Object.assign({},this.props.color,{h:r,a:s}),!0)}),this.offset=new l.Vector(0,-n.StandardSliderControl.handle/2)}render(){return r.createElement(n.StandardSliderControl,{width:this.props.size,height:this.props.size,handlePadding:!1,value:this.colorToValue(this.props.color),offset:this.offset,mouseCallback:this.mouseCallback,wheelCallback:this.wheelCallback,renderCanvas:"l"in this.props.color?this.renderHSLCanvas:this.renderHSVCanvas,colorHandle:this.colorHandle,containerClass:this.props.containerClass,recordingKey:this.props.recordingKey})}}p.displayName="SlvControl",p.formatter=new i.ColorCSSFormatter,e.SlvControl=p,o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(o,r,t){o.exports={saturationBrightness:"color_controls--saturationBrightness--2RABk",sliderContainer:"color_controls--sliderContainer--2CLlN",slider:"color_controls--slider--1qxPT",controls:"color_controls--controls--28zPN",dropperContainer:"color_controls--dropperContainer--1Cp1M",typeSelect:"color_controls--typeSelect--3pUnq",typeSelectDropdown:"color_controls--typeSelectDropdown--1TfzY",colorInputs:"color_controls--colorInputs--3jh7c raw_components--multiValueInput--1SaL7 raw_components--borderFocusWithin--3IG2Z",rgb:"color_controls--rgb--3tbC1",css:"color_controls--css--1z10R",hex:"color_controls--hex--3idmL",opacity:"color_controls--opacity--1DZph"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,c,s){t.exports={id:"gec11d466",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M14.122.688c-.8-.8-2-.8-2.8 0l-2.8 2.8-.8-.7c-.4-.4-1-.4-1.4 0-.4.4-.4 1 0 1.4l.7.7-5.8 5.8c-.4.4-1 1.9 0 2.9 1 1 2.5.4 2.9 0l5.8-5.8.7.7c.4.4 1 .4 1.4 0 .4-.4.4-1 0-1.4l-.7-.7 2.8-2.8c.8-.9.8-2.1 0-2.9zm-10.9 11.9h-1v-1l5.8-5.8 1 1c-.1 0-5.8 5.8-5.8 5.8z" fill="#666"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=r(34,1   ),s=r(129                               ),n=r(501                                     ),a=r(1426                               ),i=r(341                              ),l=r(503            ),p=r(505                ),c=r(506            ),h=r(391                                  ),m=r(389                            ),g=r(477                  ),u=r(478                                    ),d=r(542                   ),C=r(129                               ),y=r(497                                  ),b=r(370              ),v=r(507                   ),K=r(385                                        ),f=r(143              );o.SLIDER_WIDTH=168,o.PICKER_WIDTH=b.pxToInt(K.rightNavWidth__REFRESH);const j=r(508                                                       );function F(e,o){return Object.keys(e).every(r=>e[r]===o[r])}class E extends g.Select{}class O extends g.Option{}const S={format:e=>C.ColorFormat[e]};class _ extends f.PureComponent{constructor(e){super(e),this.onHSLVAChange=((e,o)=>{const r=n.HSLVToRGB(e);this.setState({hslva:e,rgba:r}),this.props.onChange(r,o?i.ShouldCommit.YES:i.ShouldCommit.NO)}),this.toggleDropper=(e=>{e.stopPropagation(),a.fullscreen.triggerAction("toggle-dropper")}),this.onColorFormatChange=(e=>{a.fullscreen.updateAppModel({colorFormat:e})}),this.state=this.stateFromProps(e)}UNSAFE_componentWillReceiveProps(e){if((F(e.color,this.props.color)||F(e.color,this.state.rgba))&&this.props.colorFormat===e.colorFormat)return;const o=this.stateFromProps(e);var r;("l"in o.hslva&&(0===o.hslva.l||1===o.hslva.l)||"v"in o.hslva&&0===o.hslva.v)&&(o.hslva=Object.assign({},o.hslva,{s:this.state.hslva.s})),(r=e.color).r===r.g&&r.r===r.b&&(o.hslva=Object.assign({},o.hslva,{h:this.state.hslva.h})),this.setState(o)}stateFromProps(e){return{hslva:e.colorFormat===C.ColorFormat.HSL?n.RGBToHSL(e.color):n.RGBToHSV(e.color),rgba:e.color}}render(){const e=Object.assign({},this.props);return delete e.recordingKey,t.createElement("div",null,t.createElement(c.SlvControl,{size:o.PICKER_WIDTH,color:this.state.hslva,changeCallback:this.onHSLVAChange,recordingKey:f.joinKeys(this.props,"slvControl")}),t.createElement(h.ModalPanel,null,t.createElement("div",{className:v.controls},t.createElement("div",{className:v.dropperContainer},t.createElement(m.IconButton,{svg:j,selected:this.props.currentTool===s.Tool.DROPPER_COLOR,onMouseDown:this.toggleDropper,recordingKey:f.joinKeys(this.props,"dropperButton")})),t.createElement("div",{className:v.sliderContainer},t.createElement(l.HueControl,{width:o.SLIDER_WIDTH-12,color:this.state.hslva,changeCallback:this.onHSLVAChange,containerClass:v.slider,recordingKey:f.joinKeys(this.props,"hueControl")}),t.createElement(p.OpacityControl,{width:o.SLIDER_WIDTH-12,color:this.state.hslva,changeCallback:this.onHSLVAChange,containerClass:v.slider,recordingKey:f.joinKeys(this.props,"opacityControl")}))),t.createElement(h.Row,null,t.createElement(E,{id:"color-input-type-select",className:v.typeSelect,dropdownClassName:v.typeSelectDropdown,property:this.props.colorFormat,formatter:S,onChange:this.onColorFormatChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:f.joinKeys(this.props,"colorFormatSelect")},t.createElement(O,{value:C.ColorFormat.HEX,recordingKey:f.joinKeys(this.props,"hexOption")}),t.createElement(O,{value:C.ColorFormat.RGB,recordingKey:f.joinKeys(this.props,"rgbOption")}),t.createElement(O,{value:C.ColorFormat.CSS,recordingKey:f.joinKeys(this.props,"cssOption")}),t.createElement(O,{value:C.ColorFormat.HSL,recordingKey:f.joinKeys(this.props,"hslOption")}),t.createElement(O,{value:C.ColorFormat.HSB,recordingKey:f.joinKeys(this.props,"hsvOption")})),this.props.colorFormat===C.ColorFormat.HEX&&t.createElement(I,Object.assign({recordingKey:f.joinKeys(this.props,"hexInput")},e)),this.props.colorFormat===C.ColorFormat.RGB&&t.createElement(B,Object.assign({recordingKey:f.joinKeys(this.props,"rgbInput")},e)),this.props.colorFormat===C.ColorFormat.CSS&&t.createElement(H,Object.assign({recordingKey:f.joinKeys(this.props,"cssInput")},e)),(this.props.colorFormat===C.ColorFormat.HSL||this.props.colorFormat===C.ColorFormat.HSB)&&t.createElement(R,Object.assign({value:this.state.hslva,changeCallback:this.onHSLVAChange,recordingKey:f.joinKeys(this.props,"hslvInput")},e)))))}}_.displayName="ColorControls",o.ColorControls=_;const N=e=>t.createElement("div",Object.assign({className:v.colorInputs},e));class I extends f.PureComponent{constructor(){super(...arguments),this.formatter=new d.ColorHexFormatterWithoutHash}render(){let e=Object.assign(Object.create(null),this.props);return delete e.recordingKey,t.createElement(N,null,t.createElement(u.ColorInput,{className:v.hex,squareRightBorder:!0,formatter:this.formatter,property:this.props.color,onChange:this.props.onChange,autoFocus:!0,recordingKey:f.joinKeys(this.props,"color"),noBorderOnFocus:!0}),t.createElement(L,Object.assign({recordingKey:f.joinKeys(this.props,"opacity")},e)))}}I.displayName="HexInputs";class B extends f.PureComponent{constructor(){super(...arguments),this.formatter=new d.NormalizedIntegerFormatter({normalizeFactor:255,min:0,max:1}),this.onRChange=(e=>this.props.onChange(Object.assign({},this.props.color,{r:e}))),this.onGChange=(e=>this.props.onChange(Object.assign({},this.props.color,{g:e}))),this.onBChange=(e=>this.props.onChange(Object.assign({},this.props.color,{b:e})))}render(){let e=Object.assign(Object.create(null),this.props);return delete e.recordingKey,t.createElement(N,null,t.createElement(u.NumberInput,{className:v.rgb,squareRightBorder:!0,formatter:this.formatter,property:this.props.color.r,onChange:this.onRChange,autoFocus:!0,recordingKey:f.joinKeys(this.props,"red"),noBorderOnFocus:!0}),t.createElement(u.NumberInput,{className:v.rgb,noLeftBorder:!0,squareRightBorder:!0,formatter:this.formatter,property:this.props.color.g,onChange:this.onGChange,recordingKey:f.joinKeys(this.props,"green"),noBorderOnFocus:!0}),t.createElement(u.NumberInput,{className:v.rgb,noLeftBorder:!0,squareRightBorder:!0,formatter:this.formatter,property:this.props.color.b,onChange:this.onBChange,recordingKey:f.joinKeys(this.props,"blue"),noBorderOnFocus:!0}),t.createElement(L,Object.assign({recordingKey:f.joinKeys(this.props,"opacity")},e)))}}B.displayName="RgbInputs";class H extends f.PureComponent{constructor(){super(...arguments),this.formatter=new d.ColorCSSFormatter}render(){return t.createElement(N,null,t.createElement(u.ColorInput,{className:v.css,formatter:this.formatter,property:this.props.color,onChange:this.props.onChange,recordingKey:f.joinKeys(this.props,"color"),autoFocus:!0,noBorderOnFocus:!0}))}}H.displayName="CssInputs";class R extends f.PureComponent{constructor(){super(...arguments),this.formatter360=new d.NormalizedIntegerFormatter({normalizeFactor:360,min:0,max:1}),this.formatter100=new d.NormalizedIntegerFormatter({normalizeFactor:100,min:0,max:1}),this.onHChange=(e=>this.props.changeCallback(Object.assign({},this.props.value,{h:e}),!0)),this.onSChange=(e=>this.props.changeCallback(Object.assign({},this.props.value,{s:e}),!0)),this.onLChange=(e=>this.props.changeCallback(Object.assign({},this.props.value,{l:e}),!0)),this.onVChange=(e=>this.props.changeCallback(Object.assign({},this.props.value,{v:e}),!0))}render(){let e=Object.assign(Object.create(null),this.props);return delete e.recordingKey,t.createElement(N,null,t.createElement(u.NumberInput,{className:v.rgb,squareRightBorder:!0,formatter:this.formatter360,property:this.props.value.h,onChange:this.onHChange,recordingKey:f.joinKeys(this.props,"hue"),autoFocus:!0,noBorderOnFocus:!0}),t.createElement(u.NumberInput,{className:v.rgb,noLeftBorder:!0,squareRightBorder:!0,formatter:this.formatter100,property:this.props.value.s,onChange:this.onSChange,recordingKey:f.joinKeys(this.props,"saturation"),noBorderOnFocus:!0}),t.createElement(u.NumberInput,{className:v.rgb,noLeftBorder:!0,squareRightBorder:!0,formatter:this.formatter100,property:"l"in this.props.value?this.props.value.l:this.props.value.v,onChange:"l"in this.props.value?this.onLChange:this.onVChange,recordingKey:f.joinKeys(this.props,"value"),noBorderOnFocus:!0}),t.createElement(L,Object.assign({recordingKey:f.joinKeys(this.props,"opacity")},e)))}}R.displayName="HslvInputs";class L extends f.PureComponent{constructor(){super(...arguments),this.onChange=((e,o)=>{this.props.onChange(Object.assign({},this.props.color,{a:e}),o)}),this.onScrubChange=(e=>{this.onChange(e,i.ShouldCommit.NO)})}render(){return t.createElement(y.ScrubbablePercentageInput,{className:v.opacity,noLeftBorder:!0,value:this.props.color.a,onValueChange:this.onChange,onScrubChange:this.onScrubChange,dispatch:this.props.dispatch,resolution:.01,recordingKey:this.props.recordingKey,noBorderOnFocus:!0})}}L.displayName="Opacity",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,n){t.exports={singleRowHeight:"gradient_control--singleRowHeight--Qo1D-",doubleRowHeight:"gradient_control--doubleRowHeight--34JVQ",input:"gradient_control--input--2qO36 gradient_control--singleRowHeight--Qo1D-",border:"gradient_control--border--3R4Yn",borderFocusWithin:"gradient_control--borderFocusWithin--1ez69",iconInsideBorderFocusWithin:"gradient_control--iconInsideBorderFocusWithin--3pqxy",rowSelectedSecondary:"gradient_control--rowSelectedSecondary--2i_4v gradient_control--rowSelected--1loNM",selectHiddenInput:"gradient_control--selectHiddenInput--37jjP",iconButton:"gradient_control--iconButton--19V5F",borderFocus:"gradient_control--borderFocus--1IBBT",multiValueInput:"gradient_control--multiValueInput--3vtMS gradient_control--borderFocusWithin--1ez69",base:"gradient_control--base--10Wq9",label:"gradient_control--label--1C0X_ gradient_control--base--10Wq9",labelInactive:"gradient_control--labelInactive--3c73C gradient_control--label--1C0X_ gradient_control--base--10Wq9",textInput:"gradient_control--textInput--1d5du gradient_control--base--10Wq9 gradient_control--input--2qO36 gradient_control--singleRowHeight--Qo1D-",textAreaInput:"gradient_control--textAreaInput--3Z3D- gradient_control--base--10Wq9 gradient_control--input--2qO36 gradient_control--singleRowHeight--Qo1D-",noLeftBorder:"gradient_control--noLeftBorder--1wolV",squareRightBorder:"gradient_control--squareRightBorder--2MvRL",_iconButton:"gradient_control--_iconButton--fSyvN",iconButtonEnabled:"gradient_control--iconButtonEnabled--29wGn gradient_control--_iconButton--fSyvN",iconButtonDisabled:"gradient_control--iconButtonDisabled--26P7y gradient_control--_iconButton--fSyvN",iconButtonSelected:"gradient_control--iconButtonSelected--4tdw_ gradient_control--_iconButton--fSyvN",chitCenter:"gradient_control--chitCenter--1L550",outlineButton:"gradient_control--outlineButton--3a_r4",modalPanel:"gradient_control--modalPanel--12qJn",panel:"gradient_control--panel--3-hf3",_row:"gradient_control--_row--3mzlZ",singleRow:"gradient_control--singleRow--2cB8Z gradient_control--singleRowHeight--Qo1D- gradient_control--_row--3mzlZ",doubleRow:"gradient_control--doubleRow--3jwzt gradient_control--doubleRowHeight--34JVQ gradient_control--_row--3mzlZ",labelRow:"gradient_control--labelRow--2kSM- gradient_control--singleRow--2cB8Z gradient_control--singleRowHeight--Qo1D- gradient_control--_row--3mzlZ",rowSelected:"gradient_control--rowSelected--1loNM",panelTitle:"gradient_control--panelTitle--3_Dhu",panelTitleWithTip:"gradient_control--panelTitleWithTip--2cC6A gradient_control--panelTitle--3_Dhu",panelTitleWithTipText:"gradient_control--panelTitleWithTipText--mJeWA",panelTitleWithTipIcon:"gradient_control--panelTitleWithTipIcon--2waHB",panelTitleFaded:"gradient_control--panelTitleFaded--3ZRyk gradient_control--panelTitle--3_Dhu",flushLeft:"gradient_control--flushLeft--31bm5",canvasContainer:"gradient_control--canvasContainer---C8Ki color_controls--slider--1qxPT",stop:"gradient_control--stop--9DJOX",stopSelected:"gradient_control--stopSelected--1aM9m gradient_control--stop--9DJOX",arrow:"gradient_control--arrow--StU-g",stopSecondarySelected:"gradient_control--stopSecondarySelected--1jC2X gradient_control--stopSelected--1aM9m gradient_control--stop--9DJOX",stopChit:"gradient_control--stopChit--1hWGd",tempStop:"gradient_control--tempStop--24qfV gradient_control--stop--9DJOX"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=o(34,1   ),i=o(232                        ),n=o(143              ),r=o(129                               ),p=o(1426                               ),a=o(341                              ),c=o(391                                  ),l=o(468              ),h=o(542                   ),d=o(504                            ),u=o(386                        ),S=o(510                     ),m=new h.ColorCSSFormatter;class g extends s.PureComponent{constructor(t){super(t),this.WIDTH=u.PICKER_WIDTH-48,this.HEIGHT=12,this.THRESHOLD=5,this.canvasRef=(t=>this.canvas=t),this.renderCanvas=(()=>{if(!this.canvas)return;const t=this.canvas.getContext("2d"),e=new Image;e.onload=(()=>{const o=t.createPattern(e,"repeat");t.fillStyle=o,t.fillRect(0,0,this.WIDTH,this.HEIGHT);const s=t.createLinearGradient(0,0,this.WIDTH,0);for(let t of this.props.paint.stops)s.addColorStop(t.position,m.format(t.color));t.fillStyle=s,t.fillRect(0,0,this.WIDTH,this.HEIGHT)}),e.src=d.smallCheckerboardImageURL}),this.sortStopsInPlace=(t=>t.sort((t,e)=>t.position-e.position)),this.onCurrentSelectedStopPositionChange=((t,e,o)=>{const s=this.props.paint.stops.slice();let i=this.currentSelectedStopIndex();const n=s[i];if(!n)return;const r=Object.assign({},n,{position:t});if(s[i]=r,!o){const e=.02,o=s[i-1];o&&Math.abs(t-o.position)<e&&(r.position=o.position+1e-4);const n=s[i+1];n&&Math.abs(n.position-t)<e&&(r.position=n.position-1e-4)}this.sortStopsInPlace(s);let p=s.indexOf(r);this.updateStops(s,e),this.updateCurrentSelectedStop(p)}),this.clientXToStopPosition=(t=>{const{left:e,width:o}=this.canvas.getBoundingClientRect();let s=t-e;return(s=Math.min(Math.max(s,0),o))/o}),this.stopPositionToLeft=(t=>t*this.WIDTH),this.colorAtPosition=(t=>{const e=(t,e,o)=>t*(1-o)+e*o,o=this.props.paint.stops;if(t<=o[0].position)return o[0].color;if(t>=o[o.length-1].position)return o[o.length-1].color;for(let s=0;s<o.length-1;s++){let i=o[s],n=o[s+1];if(t>i.position&&t<=n.position){const o=(t-i.position)/(n.position-i.position);return{r:e(i.color.r,n.color.r,o),g:e(i.color.g,n.color.g,o),b:e(i.color.b,n.color.b,o),a:e(i.color.a,n.color.a,o)}}}}),this.onMouseDown=(t=>{t.stopPropagation(),this.setState({isDragging:!0});const e=this.clientXToStopPosition(t.clientX),o=this.colorAtPosition(e);this.addNewStop(e,o)}),this.onMouseMove=(t=>{this.onMouseMoveHelper(t,a.ShouldCommit.NO)}),this.onMouseUp=(t=>{this.onMouseMoveHelper(t,a.ShouldCommit.YES),this.setState({isDragging:!1}),this.stopClickedClientX=null}),this.onStopMouseEnter=(t=>{this.setState({isMouseOverStop:!0})}),this.onStopMouseLeave=(t=>{this.setState({isMouseOverStop:!1})}),this.onStopMouseDown=((t,e)=>{if(e.stopPropagation(),this.stopClickedClientX=e.clientX,e.altKey){const o=this.clientXToStopPosition(e.clientX),s=this.props.paint.stops[t];this.addNewStop(o,s.color)}else this.updateCurrentSelectedStop(t);this.props.dispatch(i.styleFile.updateSelectedIndices({indices:[]}))}),this.updateStops=((t,e)=>{this.props.onChange(Object.assign({},this.props.paint,{stops:t}),e)}),this.updateCurrentSelectedStop=(t=>{this.nextCurrentSelectedStopIndex=t,p.fullscreen.updateAppModel({currentSelectedGradientStop:{type:r.GradientStopType.COLOR,index:t}})}),this.currentSelectedStopIndex=(()=>null!=this.nextCurrentSelectedStopIndex?this.nextCurrentSelectedStopIndex:this.props.currentSelectedGradientStop&&this.props.currentSelectedGradientStop.index),this.stopClickedClientX=null,this.state={isMouseOverStop:!1,isDragging:!1,mousePosition:null}}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),this.renderCanvas(),this.updateCurrentSelectedStop(0)}componentDidUpdate(t){this.props.paint!==t.paint&&this.renderCanvas(),this.props.currentSelectedGradientStop!==t.currentSelectedGradientStop&&null!=this.nextCurrentSelectedStopIndex&&(this.nextCurrentSelectedStopIndex=null)}componentWillUnmount(){document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}addNewStop(t,e){const o=this.props.paint.stops.slice(),s={color:e,position:t};o.push(s),this.sortStopsInPlace(o),this.updateStops(o),this.updateCurrentSelectedStop(o.indexOf(s))}onMouseMoveHelper(t,e){const o=this.clientXToStopPosition(t.clientX);null!==this.stopClickedClientX&&Math.abs(t.clientX-this.stopClickedClientX)>this.THRESHOLD&&this.setState({isDragging:!0}),this.state.isDragging&&this.onCurrentSelectedStopPositionChange(o,e,t.altKey),this.setState({mousePosition:o})}render(){return s.createElement(c.Panel,{className:S.panel,onMouseDown:this.onMouseDown,recordingKey:this.props.recordingKey},this.props.paint.stops.map((t,e)=>s.createElement(f,{key:e,color:t.color,left:this.stopPositionToLeft(t.position),onMouseDown:this.onStopMouseDown.bind(this,e),onMouseEnter:this.onStopMouseEnter,onMouseLeave:this.onStopMouseLeave,selected:e===this.currentSelectedStopIndex(),hasFocus:this.props.hasFocus,recordingKey:n.joinKeys(this.props,"stop",e)})),!this.state.isDragging&&!this.state.isMouseOverStop&&s.createElement(f,{className:S.tempStop,color:this.colorAtPosition(this.state.mousePosition),left:this.stopPositionToLeft(this.state.mousePosition),hasFocus:this.props.hasFocus}),s.createElement("div",{className:S.canvasContainer},s.createElement("canvas",{ref:this.canvasRef,width:this.WIDTH,height:this.HEIGHT})))}}g.displayName="GradientControl",e.GradientControl=g;class f extends s.PureComponent{render(){const t=this.props.className?this.props.className:this.props.selected?this.props.hasFocus?S.stopSelected:S.stopSecondarySelected:S.stop;return s.createElement(c.RecordableDiv,{className:t,style:{left:this.props.left},onMouseDown:this.props.onMouseDown,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,recordingKey:this.props.recordingKey},s.createElement(l.Chit,{className:S.stopChit,color:this.props.color}),s.createElement("div",{className:S.arrow}))}}f.displayName="GradientStop",t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=i(34,1   ),a=i(96         ),r=i(198         ),n=i(542                   ),l=i(466                                          ),o=i(347                         );class p extends s.PureComponent{constructor(t){super(t),this.updateThumbnailSrc=(t=>{const e=l.requestPaintIcon(t,new r.Vector(this.props.width,this.props.height),(new n.ColorHexFormatter).parse(o.FIGMA_BLACK,null)),i=e&&e.pixels&&e.pixelSize?l.pixelsToDataURI(e.pixels,e.pixelSize):null;this.setState({src:i,lastPaintFilter:t.paintFilter})}),this.state={src:null,lastPaintFilter:null}}componentDidMount(){this.updateThumbnailSrc(this.props.imagePaint)}colorAdjustEqual(t,e){if(!t||!e)return!t==!e;for(const i in t){const s=i;if(t.hasOwnProperty(s)&&t[s]!==e[s])return!1}return!0}UNSAFE_componentWillReceiveProps(t){const e=this.props.imagePaint,i=t.imagePaint;(!a.valuesEqual(e.image.hash,i.image.hash)||t.forceUpdate&&!this.colorAdjustEqual(this.state.lastPaintFilter,i.paintFilter))&&this.updateThumbnailSrc(i)}render(){return s.createElement("img",{className:this.props.className,src:this.state.src?this.state.src:"",width:this.props.width,height:this.props.height})}}p.displayName="ImagePaintThumbnail",e.ImagePaintThumbnail=p,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(i,r,e){i.exports={sliderContainer:"slider--sliderContainer--oevg2",sliderThumb:"slider--sliderThumb--7CzfN",sliderClipContainer:"slider--sliderClipContainer--3Quki",sliderThumbInactive:"slider--sliderThumbInactive--2LrwS slider--sliderThumb--7CzfN",sliderTrack:"slider--sliderTrack--vfQME",sliderIndicator:"slider--sliderIndicator--2qFRQ",sliderIndicatorContainer:"slider--sliderIndicatorContainer--1K6gx"},i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(143              ),a=s(513           ),n=s(199      );class l extends o.PureComponent{constructor(){super(...arguments),this.setSliderRef=(e=>{this.sliderRef=e}),this.onChange=o.otherEvent(this,"change",e=>{this.props.onChange(e)}),this.onMouseMove=(e=>{this.state.dragging&&(this.updateSliderValue(e.pageX),e.stopPropagation())}),this.onMouseUp=(e=>{document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),this.updateSliderValue(e.clientX),this.props.onStopDragging(),this.setState({dragging:!1})}),this.onKeyDown=(e=>{const t=e.shiftKey?10:1;e.keyCode===n.Key.LEFT_ARROW?(this.setSliderValue(this.state.localValue-.02*t),e.stopPropagation(),e.preventDefault()):e.keyCode===n.Key.RIGHT_ARROW?(this.setSliderValue(this.state.localValue+.02*t),e.stopPropagation(),e.preventDefault()):e.keyCode!==n.Key.SHIFT&&e.currentTarget.blur()}),this.setSliderValue=(e=>{let t=this.valueFromPercent((e=>Math.max(0,Math.min(1,e)))(e));t!==this.state.value&&(this.setState({value:t,localValue:this.percentFromValue(t)}),this.onChange(t))}),this.onMouseDown=(e=>{0===e.button&&(this.updateSliderValue(e.clientX),this.setState({dragging:!0}),e.stopPropagation(),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp))})}getSliderInfo(){const e=this.sliderRef;return{bounds:e.getBoundingClientRect(),length:e.clientWidth,height:e.clientHeight}}valueFromPercent(e){return this.props.min+(this.props.max-this.props.min)*e}percentFromValue(e){return(e-this.props.min)/(this.props.max-this.props.min)}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.setState({value:this.props.value,localValue:this.percentFromValue(this.props.value),dragging:!1})}UNSAFE_componentWillReceiveProps(e){this.setState({value:e.value,localValue:this.percentFromValue(e.value)})}updateSliderValue(e){let t=(e-this.getSliderInfo().bounds.left)/this.getSliderInfo().length;Math.abs(.5-t)<.05&&(t=.5),this.setSliderValue(t)}render(){const e={marginLeft:`${100*this.state.localValue}%`},t={width:`${Math.abs(100*this.state.localValue-100*-this.props.min/(this.props.max-this.props.min))}%`};this.state.value<0?t.right="0":t.left="0";const s={left:`${this.state.value<0?-50:50}%`};return i.createElement("div",{className:a.sliderContainer,tabIndex:this.props.tabIndex,onKeyDown:this.onKeyDown},i.createElement("div",{className:a.sliderClipContainer,onMouseDown:this.onMouseDown,ref:this.setSliderRef},i.createElement("div",{className:a.sliderTrack}),i.createElement("div",{className:a.sliderIndicatorContainer,style:s},i.createElement("div",{className:a.sliderIndicator,style:t})),i.createElement("div",{className:.5===this.state.localValue?a.sliderThumbInactive:a.sliderThumb,style:e})))}}l.displayName="Slider",t.Slider=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){e.exports={imageContainer:"image_settings_modal--imageContainer--235CA",imageButtonContainer:"image_settings_modal--imageButtonContainer--1_YzA",imageContainerDrop:"image_settings_modal--imageContainerDrop--2ozkU",imagePreview:"image_settings_modal--imagePreview--1aPO2",imageButton:"image_settings_modal--imageButton--2JDxy",imageScaleMode:"image_settings_modal--imageScaleMode--3zwVX",imageScalingFactor:"image_settings_modal--imageScalingFactor--3yvDp",imageRotateBtn:"image_settings_modal--imageRotateBtn--2cYkl",colorAdjustScrollContainer:"image_settings_modal--colorAdjustScrollContainer--22tW9",colorAdjustLabel:"image_settings_modal--colorAdjustLabel--2F676",colorAdjustSlider:"image_settings_modal--colorAdjustSlider--ljNxe"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.throttle=((e,t=200)=>{let l,n=null;return(...o)=>{const u=(new Date).getTime();null!=l&&u<l+t?(n&&clearTimeout(n),n=setTimeout(()=>{n=null,l=(new Date).getTime(),e.apply(void 0,o)},t-(u-l))):(null!=n&&clearTimeout(n),l=u,e.apply(void 0,o))}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=e(34,1   ),a=e(516           );class s extends n.PureComponent{constructor(){super(...arguments),this.firstDragEnter=!1,this.secondDragEnter=!1,this.dragQuadrant=null,this.targetContainer=null,this.targetContainerBounds=null,this.setTargetContainerBounds=(t=>{this.targetContainer=t}),this.invalidateTargetContainerBounds=(()=>{this.targetContainerBounds&&(this.targetContainerBounds=null)}),this.scrollListener=a.throttle(this.invalidateTargetContainerBounds),this.onDragEndOrDrop=(t=>{this.firstDragEnter=!1,this.secondDragEnter=!1,this.dragQuadrant=null,this.targetContainerBounds=null}),this.getDragQuadrant=(t=>{return this.targetContainerBounds||(this.targetContainerBounds=this.targetContainer.getBoundingClientRect()),{left:t.clientX<this.targetContainerBounds.left+this.targetContainerBounds.width/2,upper:t.clientY<this.targetContainerBounds.top+this.targetContainerBounds.height/2}}),this.updateDragQuadrant=(t=>{if(this.props.onTargetDragQuadrantUpdate){const r=this.getDragQuadrant(t);this.dragQuadrant&&r.left===this.dragQuadrant.left&&r.upper===this.dragQuadrant.upper||(this.props.onTargetDragQuadrantUpdate(r),this.dragQuadrant=r)}}),this.acceptDrag=(t=>(this.updateDragQuadrant(t),!(!this.props.isDragTarget||!this.props.isDragTarget(t.dataTransfer,this.dragQuadrant))&&(t.preventDefault(),t.stopPropagation(),!0))),this.onDragEnter=(t=>{this.firstDragEnter?this.secondDragEnter=!0:(this.firstDragEnter=!0,this.acceptDrag(t)&&this.props.onTargetDragEnter&&this.props.onTargetDragEnter(t.dataTransfer,this.dragQuadrant))}),this.onDragLeave=(t=>{this.secondDragEnter?this.secondDragEnter=!1:this.firstDragEnter&&(this.firstDragEnter=!1),!this.firstDragEnter&&!this.secondDragEnter&&this.acceptDrag(t)&&this.props.onTargetDragLeave&&this.props.onTargetDragLeave(t.dataTransfer)}),this.onDrop=(t=>{this.acceptDrag(t)&&this.props.onTargetDrop&&this.props.onTargetDrop(t.dataTransfer,this.dragQuadrant)})}UNSAFE_componentWillMount(){document.addEventListener("dragend",this.onDragEndOrDrop),document.addEventListener("drop",this.onDragEndOrDrop),window.addEventListener("scroll",this.scrollListener,!0)}componentWillUnmount(){document.removeEventListener("dragend",this.onDragEndOrDrop),document.removeEventListener("drop",this.onDragEndOrDrop),window.removeEventListener("scroll",this.scrollListener,!0)}render(){const t=Object.assign({},this.props);return delete t.isDragTarget,delete t.onTargetDragEnter,delete t.onTargetDragQuadrantUpdate,delete t.onTargetDragLeave,delete t.onTargetDrop,delete t.onDragEnter,delete t.onDragOver,delete t.onDragLeave,delete t.onDrop,n.createElement("div",Object.assign({ref:this.setTargetContainerBounds,onDragEnter:this.onDragEnter,onDragOver:this.acceptDrag,onDragLeave:this.onDragLeave,onDrop:this.onDrop},t),this.props.children)}}s.displayName="DragTarget",r.DragTarget=s,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,e){t.exports={id:"gc6f9d48d",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 4c3.867 0 7 3.134 7 7v2.793l-2.146-2.147-.707.708 3 3 .354.353.353-.354 3-3-.707-.707L20 13.793V11c0-4.418-3.582-8-8-8v1zm-8 7h8v8H4v-8zm-1-1h10v10H3V10z" fill-rule="evenodd" fill="#2c2c2c"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(499                   ),i=a(143              ),r=a(1426                               ),n=a(341                              ),p=a(542                   ),l=a(386                        ),c=a(204                                            ),g=a(477                  ),h=a(391                                  ),m=a(389                            ),d=a(512                                             ),u=a(514               ),C=a(478                                    ),b=a(515                         ),S=a(517                                        );class f extends g.Select{}class y extends g.Option{}const j=a(518                                                          ),E=e=>e.stopPropagation(),I=l.PICKER_WIDTH,_=152;class D extends s.Component{constructor(){super(...arguments),this.rotateImagePaint=(e=>{if("STRETCH"===this.props.paint.imageScaleMode){let t=o.identity();t=o.translated(t,.5,.5),t=o.rotated(t,Math.PI/180*-e),t=o.translated(t,-.5,-.5),t=o.product(t,this.props.paint.transform),this.props.onChange(Object.assign({},this.props.paint,{transform:t}))}else this.props.onChange(Object.assign({},this.props.paint,{rotation:this.props.paint.rotation+e}))}),this.onRotateClockwiseClick=(()=>{this.rotateImagePaint(90)}),this.onScalingFactorChange=(e=>{this.props.onChange(Object.assign({},this.props.paint,{scale:e}))}),this.onPaintColorAdjustChange=((e,t)=>{const a=Object.assign({},this.props.paint.paintFilter);a[e]=t,this.props.onChange(Object.assign({},this.props.paint,{paintFilter:a}),n.ShouldCommit.NO),this.setState(Object.assign({},this.state,{forceThumbnailUpdate:!1}))}),this.onPaintColorAdjustStopDragging=(()=>{const e=Object.assign({},this.props.paint.paintFilter);this.props.onChange(Object.assign({},this.props.paint,{paintFilter:e}),n.ShouldCommit.YES),this.setState(Object.assign({},this.state,{forceThumbnailUpdate:!0}))}),this.uploadImagePaint=(()=>{const e=this.props.paint.blendMode,t=this.props.paint.opacity;r.fullscreen.sendMessage("uploadPaintImage",{blendMode:e,opacity:t})}),this.isDragTarget=(()=>!0),this.onDragEnter=(()=>{this.setState(Object.assign({},this.state,{isDragHover:!0}))}),this.onDragLeave=(()=>{this.setState(Object.assign({},this.state,{isDragHover:!1}))}),this.onDrop=(e=>{this.setState(Object.assign({},this.state,{isDragHover:!1}));const t=this.props.paint.blendMode,a=this.props.paint.opacity,s=window.Module,o=s&&s.fileArrayToString;if(o){const s=o(e.files);r.fullscreen.sendMessage("dropImageOnPaintThumbnail",{blendMode:t,opacity:a,files:s})}})}UNSAFE_componentWillMount(){this.setState({isDragHover:!1,forceThumbnailUpdate:!1})}render(){return s.createElement(h.ModalPanel,null,s.createElement(h.Row,null,s.createElement(M,Object.assign({},this.props,{recordingKey:i.joinKeys(this.props,"imageScale")})),s.createElement(N,{className:b.imageScalingFactor,value:"TILE"!==this.props.paint.imageScaleMode?1:this.props.paint.scale,onChange:this.onScalingFactorChange,disabled:"TILE"!==this.props.paint.imageScaleMode,recordingKey:i.joinKeys(this.props,"scalingFactor")}),s.createElement(m.IconButton,{svg:j,className:b.imageRotateBtn,onClick:this.onRotateClockwiseClick,recordingKey:i.joinKeys(this.props,"rotateClockwise")})),s.createElement(S.DragTarget,{className:b.imageContainer+(this.state.isDragHover?" "+b.imageContainerDrop:""),isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop},s.createElement(d.ImagePaintThumbnail,{imagePaint:this.props.paint,width:I,height:_,className:b.imagePreview,forceUpdate:this.state.forceThumbnailUpdate}),s.createElement("div",{className:b.imageButtonContainer,style:{width:I,height:_}},s.createElement(c.ButtonSecondary,{className:b.imageButton,onClick:this.uploadImagePaint},"Choose Image..."))),s.createElement("div",{className:b.colorAdjustScrollContainer},["exposure","contrast","vibrance","temperature","tint","highlights","shadows"].map((e,t)=>s.createElement(P,{key:e,propertyName:e,tabIndex:t+1,onChange:this.onPaintColorAdjustChange,filterColorAdjust:this.props.paint.paintFilter,onStopDragging:this.onPaintColorAdjustStopDragging,min:"contrast"===e?-.3:-1,max:"contrast"===e?.3:1,recordingKey:i.joinKeys(this.props,e)}))))}}D.displayName="ImageSettingsModal",t.ImageSettingsModal=D;const T=["FILL","FIT","STRETCH","TILE"];class M extends s.PureComponent{constructor(){super(...arguments),this.imageScaleModeFormatter=new p.ImageScaleModeFormatter,this.onImageScaleModeChange=(e=>{"STRETCH"===e?r.fullscreen.triggerAction("crop-image"):this.props.onChange(Object.assign({},this.props.paint,{imageScaleMode:e}))})}render(){const e=T.map((e,t)=>s.createElement(y,{key:t,value:e,recordingKey:i.joinKeys(this.props,e)}));return s.createElement(f,{id:"image-scale-mode-select",className:b.imageScaleMode,property:this.props.paint.imageScaleMode,onChange:this.onImageScaleModeChange,formatter:this.imageScaleModeFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:E,recordingKey:this.props.recordingKey},e)}}M.displayName="ImageScaleSelection";class N extends s.PureComponent{constructor(){super(...arguments),this.formatter=new p.PercentageFormatter({min:.01,max:100})}render(){return s.createElement(C.NumberInput,{className:this.props.className,formatter:this.formatter,property:this.props.value,disabled:this.props.disabled,onChange:this.props.onChange,recordingKey:this.props.recordingKey})}}N.displayName="ScalingFactorInputs";class P extends s.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{this.props.onChange(this.props.propertyName,e)})}render(){return s.createElement(h.Row,null,s.createElement("div",{className:b.colorAdjustLabel},"vibrance"===this.props.propertyName?"Saturation":(new p.TitleCaseFormatter).format(this.props.propertyName)),s.createElement("div",{className:b.colorAdjustSlider},s.createElement(u.Slider,{value:this.props.filterColorAdjust?this.props.filterColorAdjust[this.props.propertyName]:0,min:null!=this.props.min?this.props.min:-1,max:null!=this.props.max?this.props.max:1,onChange:this.onChange,onStopDragging:this.props.onStopDragging,tabIndex:null!=this.props.tabIndex?this.props.tabIndex:1,recordingKey:this.props.recordingKey})))}}P.displayName="ColorAdjustProperty",t.ColorAdjustProperty=P,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const e=t(178              ),o="fig-kiwi\0\0\0";var n=null;function a(r){return String.fromCharCode.apply(String,Array.prototype.slice.call(r,0,o.length))!==o}i.needsMigration=a,i.migrateOldFigFile=function(r){return a(r)?(n||(n=e.loadScript(Fig.figMigratorURL).then(()=>{const r=window.fig_migrator;if(!r||"function"!=typeof r.upgrade)throw new Error(`Failed to load migration script from ${JSON.stringify(Fig.figMigratorURL)}`);return i=>r.upgrade(i)}).catch(r=>(n=null,Promise.reject(r)))),n.then(i=>i(r))):Promise.resolve(r)},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=s(1426        ),o=s(291       ),l=s(520                                    );function r(e){const n={type:e.styleSetType,paints:[]};for(const s of e.nodeChanges)n.paints.push({name:s.name,paint:s.fillPaints[0]});return n}n.decodeStyleFile=function(e,n){(l.needsMigration(e)?l.migrateOldFigFile(e):Promise.resolve(e)).then(e=>{const s=t.fullscreen.sendMessage("requestDecodedStyleFile",{},e);if(s.buffer&&s.buffer.length>0){const e=r(o.schema.decodeMessage(s.buffer));n(e)}else n(null)})},n.encodeStyleFile=function(e){const n=function(e,n="SOLID"){const s={blobs:[],nodeChanges:[],styleSetContentType:n,styleSetType:e.type,type:"STYLE_SET"},t=e.paints;for(let o=0;o<t.length;o++){const e=t[o];s.nodeChanges.push({guid:{sessionID:0,localID:o},phase:"CREATED",name:e.name,fillPaints:[e.paint]})}return s}(e),s=o.schema.encodeMessage(n);return t.fullscreen.sendMessage("requestEncodedStyleFile",{},s).buffer},n.requestDocumentColors=function(){const e=t.fullscreen.sendMessage("requestDocumentColors");if(e.buffer&&e.buffer.length>0)return r(o.schema.decodeMessage(e.buffer));return null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.GRID=0]="GRID",e[e.LIST=1]="LIST"}(t.ViewMode||(t.ViewMode={})),t.DOCUMENT_SWATCH_SET_ID="document-swatch-set-id",t.LOCAL_SWATCH_SET_ID="local-swatch-set-id",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(232                        );t.DOCUMENT_COLORS_STYLE_FILE_ID="-1",t.styleFiles=function(e=Object.create(null),n){if(n.type===l.fileBrowser.INIT){const n=Object.assign(Object.create(null),e);return n[t.DOCUMENT_COLORS_STYLE_FILE_ID]={canvas_url:null,checkpoint_id:null,id:t.DOCUMENT_COLORS_STYLE_FILE_ID,name:"Document Colors",style_file_type:"solid",team_id:null,updated_at:null,user_id:null},n}if(l.styleFile.put.matches(n)){const t=n.payload.styleFile;return Object.assign(Object.create(null),e,{[t.id]:t})}if(l.team.put.matches(n)){const t=n.payload.team;if(null!=t.name)for(let n in e){const l=e[n];if(l.team_id===t.id&&"solid"===l.style_file_type)return Object.assign({},e,{[n]:Object.assign({},l,{name:`${t.name} Colors`})})}return e}return e},t.styleSets=function(e=Object.create(null),t){if(l.styleFile.putStyleSet.matches(t)){const n=Object.assign({},t.payload.styleSet,{checkpointId:t.payload.checkpointId});return Object.assign(Object.create(null),e,{[t.payload.id]:n})}return e},t.selectedSharedColorIndices=function(e=[],t){return l.styleFile.updateSelectedIndices.matches(t)?t.payload.indices:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,l){e.exports={singleRowHeight:"color_picker_styles--singleRowHeight--2IqnA",doubleRowHeight:"color_picker_styles--doubleRowHeight--w_Apc",input:"color_picker_styles--input--2NMZd color_picker_styles--singleRowHeight--2IqnA",border:"color_picker_styles--border--2WLVz",borderFocusWithin:"color_picker_styles--borderFocusWithin--2mM17",iconInsideBorderFocusWithin:"color_picker_styles--iconInsideBorderFocusWithin--1R8UK",rowSelectedSecondary:"color_picker_styles--rowSelectedSecondary--1Hkp- color_picker_styles--rowSelected--35ayD",selectHiddenInput:"color_picker_styles--selectHiddenInput--254Yk",iconButton:"color_picker_styles--iconButton--3xnfC",borderFocus:"color_picker_styles--borderFocus--1VFK5",multiValueInput:"color_picker_styles--multiValueInput--1UgH6 color_picker_styles--borderFocusWithin--2mM17",base:"color_picker_styles--base--_AH3s",label:"color_picker_styles--label--2Zboa color_picker_styles--base--_AH3s",labelInactive:"color_picker_styles--labelInactive--2Itvc color_picker_styles--label--2Zboa color_picker_styles--base--_AH3s",textInput:"color_picker_styles--textInput--2YKOH color_picker_styles--base--_AH3s color_picker_styles--input--2NMZd color_picker_styles--singleRowHeight--2IqnA",textAreaInput:"color_picker_styles--textAreaInput--2T3In color_picker_styles--base--_AH3s color_picker_styles--input--2NMZd color_picker_styles--singleRowHeight--2IqnA",noLeftBorder:"color_picker_styles--noLeftBorder--3WkVm",squareRightBorder:"color_picker_styles--squareRightBorder--1RKjq",_iconButton:"color_picker_styles--_iconButton--3PDe0",iconButtonEnabled:"color_picker_styles--iconButtonEnabled--28UyC color_picker_styles--_iconButton--3PDe0",iconButtonDisabled:"color_picker_styles--iconButtonDisabled--3W_GU color_picker_styles--_iconButton--3PDe0",iconButtonSelected:"color_picker_styles--iconButtonSelected--8_f7v color_picker_styles--_iconButton--3PDe0",chitCenter:"color_picker_styles--chitCenter--zhbzP",outlineButton:"color_picker_styles--outlineButton--3Bk58",modalPanel:"color_picker_styles--modalPanel--3vgv4",panel:"color_picker_styles--panel--1j3jm",_row:"color_picker_styles--_row--TR_vf",singleRow:"color_picker_styles--singleRow--3R-rh color_picker_styles--singleRowHeight--2IqnA color_picker_styles--_row--TR_vf",doubleRow:"color_picker_styles--doubleRow--1hJ_h color_picker_styles--doubleRowHeight--w_Apc color_picker_styles--_row--TR_vf",labelRow:"color_picker_styles--labelRow--21GWQ color_picker_styles--singleRow--3R-rh color_picker_styles--singleRowHeight--2IqnA color_picker_styles--_row--TR_vf",rowSelected:"color_picker_styles--rowSelected--35ayD",panelTitle:"color_picker_styles--panelTitle--ZEJYQ",panelTitleWithTip:"color_picker_styles--panelTitleWithTip--3SsWS color_picker_styles--panelTitle--ZEJYQ",panelTitleWithTipText:"color_picker_styles--panelTitleWithTipText--2vEYy",panelTitleWithTipIcon:"color_picker_styles--panelTitleWithTipIcon--36vZN",panelTitleFaded:"color_picker_styles--panelTitleFaded--3n6-L color_picker_styles--panelTitle--ZEJYQ",flushLeft:"color_picker_styles--flushLeft--2vUeK",chitThumbnail:"color_picker_styles--chitThumbnail--g9-67",chitAlpha:"color_picker_styles--chitAlpha--69EBS",chit:"color_picker_styles--chit--2d4yN",chitWithBorder:"color_picker_styles--chitWithBorder--I1fxg",chitShowFocus:"color_picker_styles--chitShowFocus--2cVqw color_picker_styles--chit--2d4yN",styleSetContainer:"color_picker_styles--styleSetContainer--2B3UM",stylesGridWrapper:"color_picker_styles--stylesGridWrapper--3EsU5",grid:"color_picker_styles--grid--1mvzc",baseChit:"color_picker_styles--baseChit--BiJ0K",gridChit:"color_picker_styles--gridChit--16F6A color_picker_styles--baseChit--BiJ0K",hairlineShadow:"color_picker_styles--hairlineShadow--2g6b0",listChit:"color_picker_styles--listChit--2dSsP",selectContainer:"color_picker_styles--selectContainer--3uXzT"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(143              ),l=s(232                        ),r=s(141     ),n=s(1427                      ),a=s(374                            ),c=s(1426                               ),p=s(521                                   ),h=s(522                            ),y=s(386                        ),S=s(523                             ),d=s(96         ),_=s(376                                                  ),m=s(468              ),C=s(391                                  ),u=s(477                  ),f=s(435                           ),g=s(524                        ),w=s(410                                   ),I=(r.chrome||r.firefox?g.hairlineShadow+" ":"")+g.gridChit;class E extends u.Select{}class b extends u.Option{}class L extends i.PureComponent{constructor(){super(...arguments),this.fetchDocumentColorsFromFullscreen=(()=>{const e=p.requestDocumentColors();if(e){for(const t of e.paints)t.name=null;this.props.dispatch(l.styleFile.putStyleSet({id:S.DOCUMENT_COLORS_STYLE_FILE_ID,styleSet:e,checkpointId:null,userInitiated:!1}))}}),this.onChitClick=(e=>{if("paint"===e.type){const t=e.stylePaint.paint,s=Object.assign({},t.color);s.a=t.opacity,this.props.onChange(s)}else"style"===e.type&&this.handleApplyStyle(e.style)}),this.onStyleSwatchIdChange=(e=>{this.props.dispatch(l.colorPicker.selectSwatchSet({swatchId:e}))}),this.handleApplyStyle=(e=>{if(e.file_key!==this.props.fileKey)n.componentSceneGraphCache.get(e).then(t=>{const s=c.fullscreen.sendMessage("getColorForSharedFillStyle",{styleKey:e.key,versionHash:e.content_hash},t).args;s&&this.props.onChange(s)}).catch(()=>{});else{const t=c.fullscreen.sendMessage("getColorForFillStyle",{nodeId:e.node_id}).args;t&&this.props.onChange(t)}}),this.swatchSetSelectFormatter={format:e=>{switch(e){case h.DOCUMENT_SWATCH_SET_ID:return"Document Colors";case h.LOCAL_SWATCH_SET_ID:return"Local Colors";default:return this.props.fileByKey[e]?this.props.fileByKey[e].name:""}}},this.getSwatchSetIds=(()=>{const e=[h.DOCUMENT_SWATCH_SET_ID];a.getLocalStylesOfType(this.props.library.local.styles,"FILL").length>0&&e.push(h.LOCAL_SWATCH_SET_ID);const t=[],s=a.getSubscribedStylesByFileOfType(this.props.library,"FILL",this.props.fileByKey[this.props.fileKey]);for(let i in s)t.push(i);return d.sortAlphabeticallyByFn(t,e=>this.props.fileByKey[e]?this.props.fileByKey[e].name:""),e.concat(t)}),this.getPaints=(()=>{switch(this.props.colorPicker.selectedSwatchSetId){case h.DOCUMENT_SWATCH_SET_ID:{const e=[];if(this.props.styleSets[S.DOCUMENT_COLORS_STYLE_FILE_ID]){const t=this.props.styleSets[S.DOCUMENT_COLORS_STYLE_FILE_ID].paints||[];e.push(...t.map(e=>({type:"paint",stylePaint:e})))}return e}case h.LOCAL_SWATCH_SET_ID:{const e=[],t=[...a.getLocalStylesOfType(this.props.library.local.styles,"FILL")];return a.sortStylesByPosition(t),e.push(...t.filter(w.isSingleSolidPaintStyle).map(e=>({type:"style",style:e}))),e}default:{const e=[],t=this.props.colorPicker.selectedSwatchSetId,s=a.getSubscribedStylesByFileOfType(this.props.library,"FILL",this.props.fileByKey[this.props.fileKey]);if(s[t]){const i=[...s[t]];a.sortStylesByPosition(i),e.push(...i.filter(w.isSingleSolidPaintStyle).map(e=>({type:"style",style:e})))}return e}}})}componentDidMount(){this.fetchDocumentColorsFromFullscreen()}render(){const e=this.getPaints();return i.createElement(C.ModalPanel,{className:g.panel,recordingKey:o.joinKeys(this.props,"modalPanel")},i.createElement(C.Row,null,i.createElement(E,{className:g.selectContainer,id:"color-picker-swatch-set-select-id",formatter:this.swatchSetSelectFormatter,property:this.props.colorPicker.selectedSwatchSetId,onChange:this.onStyleSwatchIdChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,blurOnChange:!0,recordingKey:o.joinKeys(this.props,"swatchSetSelect")},this.getSwatchSetIds().map(e=>i.createElement(b,{key:e,value:e,recordingKey:o.joinKeys(this.props,"swatchSetOption")})))),i.createElement(_.ScrollContainer,{width:y.PICKER_WIDTH,className:g.styleSetContainer,showScrollbar:!0,recordingKey:o.joinKeys(this.props,"scrollContainer")},i.createElement(T,{paints:e,onChitClick:this.onChitClick,recordingKey:o.joinKeys(this.props,"styleSetGrid")})))}}L.displayName="ColorPickerStyles",t.ColorPickerStyles=L;class T extends o.PureComponent{render(){return i.createElement("div",{className:g.grid},this.props.paints.map((e,t)=>"paint"===e.type?i.createElement(m.Chit,{className:I,key:t,paint:e.stylePaint.paint,onMouseDown:this.props.onChitClick.bind(this,e),recordingKey:o.joinKeys(this.props,"chit",t)}):"style"===e.type?i.createElement(f.FillStyleChit,{className:I,key:t,style:e.style,onMouseDown:this.props.onChitClick.bind(this,e)}):void 0))}}T.displayName="StyleSetGrid",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,d,l){e.exports={modalBackground:"blend_mode_select--modalBackground--11VG5",modal:"blend_mode_select--modal--1TfAr modal--modalShadow--HbHkT",header:"blend_mode_select--header--L8oST",headerSmall:"blend_mode_select--headerSmall--1i0do blend_mode_select--header--L8oST",headerLarge:"blend_mode_select--headerLarge--2MqR_ blend_mode_select--header--L8oST",headerHidden:"blend_mode_select--headerHidden--16ytm",headerModalTitle:"blend_mode_select--headerModalTitle--2T7Mf",closeX:"blend_mode_select--closeX--1ZQGG",fixedTop:"blend_mode_select--fixedTop--3K0Gz",blendModeSelectDropdown:"blend_mode_select--blendModeSelectDropdown--1TvVV",blendModeSelect:"blend_mode_select--blendModeSelect--2XEhX",blendModeSelectInput:"blend_mode_select--blendModeSelectInput--3zPbb",blendModeSelectInputActive:"blend_mode_select--blendModeSelectInputActive--34BLH blend_mode_select--blendModeSelectInput--3zPbb"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,c){t.exports={id:"g13bb1aeb",src:'<svg width="8" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M6.83 2.925L4 0 1.17 2.925C.39 3.733 0 4.81 0 5.845c0 1.036.39 2.129 1.17 2.936.78.808 1.805 1.217 2.83 1.217 1.025 0 2.05-.409 2.83-1.217C7.61 7.974 8 6.881 8 5.846c0-1.036-.39-2.113-1.17-2.92zM1 6.032c.005-1.036.31-1.693.88-2.278L4 1.512 6.12 3.78c.57.58.875 1.216.88 2.252H1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g3d35b0e4",src:'<svg width="8" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M4 0L1.17 2.925C.39 3.733 0 4.81 0 5.845c0 1.036.39 2.129 1.17 2.936.78.808 1.805 1.217 2.83 1.217 1.025 0 2.05-.409 2.83-1.217C7.61 7.974 8 6.881 8 5.846c0-1.036-.39-2.113-1.17-2.92L4 0zm0 1.438L6.11 3.62C6.7 4.23 7 5.052 7 5.846c0 .797-.304 1.634-.89 2.24-.589.61-1.353.912-2.11.912-.757 0-1.521-.301-2.11-.911C1.303 7.48 1 6.643 1 5.846c0-.794.301-1.617.89-2.226-.001 0 0 0 0 0L4 1.438z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(34,1   ),s=o(143              ),r=o(542                   ),l=o(389                            ),p=o(282                             ),d=o(477                  ),c=o(526                      ),i=o(527                                                        ),a=o(528                                                              ),E=e=>e.stopPropagation(),m=["NORMAL","SELECT_DIVIDER","DARKEN","MULTIPLY","COLOR_BURN","SELECT_DIVIDER","LIGHTEN","SCREEN","COLOR_DODGE","SELECT_DIVIDER","OVERLAY","SOFT_LIGHT","HARD_LIGHT","SELECT_DIVIDER","DIFFERENCE","EXCLUSION","SELECT_DIVIDER","HUE","SATURATION","COLOR","LUMINOSITY"];class u extends d.Option{}class I extends d.Select{renderInput(){let e=a,t=c.blendModeSelectInput;return"NORMAL"!==p.getValue(this.props.property)&&(e=i,t=c.blendModeSelectInputActive),n.createElement(l.IconButton,{className:t,tabIndex:-1,onMouseDown:this.onMouseDown,svg:e})}}class _ extends n.PureComponent{constructor(){super(...arguments),this.blendModeFormatter=new r.TitleCaseFormatter}render(){const e=m.map((e,t)=>"SELECT_DIVIDER"===e?n.createElement(d.SelectDivider,{key:t}):n.createElement(u,{key:t,value:e,recordingKey:s.joinKeys(this.props,e)}));return n.createElement(I,{id:"color-picker-blend-mode-select",dropdownClassName:c.blendModeSelectDropdown,inputClassName:c.blendModeSelectInput,className:c.blendModeSelect,property:this.props.blendMode,onChange:this.props.onBlendModeChange,formatter:this.blendModeFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:E,minTop:6,recordingKey:this.props.recordingKey},e)}}_.displayName="ColorPickerBlendModeSelection",t.ColorPickerBlendModeSelection=_,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,p){e.exports={typeSelect:"type_select--typeSelect--2cDBn",typeSelectDropdown:"type_select--typeSelectDropdown--b6wR5",typeSelectInput:"type_select--typeSelectInput--12jnV"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=p(34,1   ),s=p(143              ),r=p(500                                     ),n=p(341                              ),i=p(542                   ),a=p(477                  ),c=p(530                );class l extends a.Select{}class d extends a.Option{}const h=e=>e.stopPropagation(),y=["SOLID","GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND","IMAGE"];class m extends o.PureComponent{constructor(){super(...arguments),this.typeFormatter=new i.PaintTypeFormatter,this.onTypeChange=(e=>{if(this.props.paint.type===e)return;const t=r.paintCache.initPaint(e,this.props.defaultColor,this.props.paint,this.props.paintId),p=!r.isGradient(this.props.paint.type)&&r.isGradient(e),o="IMAGE"!==this.props.paint.type&&"IMAGE"===e,s=p||o?n.ShouldCommit.NO:n.ShouldCommit.YES;this.props.onChange(t,s)})}render(){const e=y.map((e,t)=>o.createElement(d,{key:t,value:e,recordingKey:s.joinKeys(this.props,e)}));return o.createElement(l,{id:"color-picker-type-select",dropdownClassName:c.typeSelectDropdown,inputClassName:c.typeSelectInput,className:c.typeSelect,property:this.props.paint.type,onChange:this.onTypeChange,formatter:this.typeFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:h,minTop:6,recordingKey:this.props.recordingKey},e)}}m.displayName="ColorPickerTypeSelection",t.ColorPickerTypeSelection=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={typeAndBlendModeSelectContainer:"color_picker--typeAndBlendModeSelectContainer--2RfT7"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=t(34,1   ),i=t(232                        ),r=t(143              ),p=t(1426                               ),n=t(342                                        ),l=t(129                               ),a=t(500                                     ),d=t(341                              ),c=t(198         ),h=t(214                                                    ),y=t(509                              ),g=t(511                                  ),m=t(519                                          ),u=t(208                                           ),S=t(525                                  ),C=t(529                                    ),f=t(531                        ),w=t(532                 ),K=t(199      );o.extractColorPickerContainerProps=function(e){return{colorFormat:e.colorFormat,currentTool:e.currentTool,styleFiles:e.styleFiles,styleSets:e.styleSets,dispatch:e.dispatch,dropdownShown:e.dropdownShown,selectedSharedColorIndices:e.selectedSharedColorIndices,colorPicker:e.colorPicker,editModeType:e.editModeType,library:e.library,fileKey:e.fileKey,fileByKey:e.fileByKey,teams:e.teams}},o.extractPaintPickerContainerProps=function(e){return{currentSelectedGradientStop:e.currentSelectedGradientStop,currentTool:e.currentTool,colorFormat:e.colorFormat,styleFiles:e.styleFiles,styleSets:e.styleSets,dispatch:e.dispatch,dropdownShown:e.dropdownShown,pickerShown:e.pickerShown,editModeType:e.editModeType,selectedSharedColorIndices:e.selectedSharedColorIndices,defaultColor:e.defaultColor,colorPicker:e.colorPicker,library:e.library,fileKey:e.fileKey,fileByKey:e.fileByKey,teams:e.teams}};class M extends r.PureComponent{constructor(){super(...arguments),this.onClose=r.otherEvent(this,"close",()=>{this.props.dispatch(i.fullscreen.hidePicker()),p.fullscreen.deselectProperty()}),this.onChange=((e,o)=>{a.paintCache.clearCache(this.props.paintId),this.props.onChange(e,o)}),this.onColorChange=((e,o)=>{if(a.isGradient(this.props.paint.type)){const t=this.props.paint.stops.slice(),s=t[this.props.currentSelectedGradientStop.index];t[this.props.currentSelectedGradientStop.index]={color:e,position:s.position},this.onChange(Object.assign({},this.props.paint,{stops:t}),o)}else{const t=e.a;this.onChange(Object.assign({},this.props.paint,{color:e,opacity:t}),o)}}),this.onBlendModeChange=(e=>{this.onChange(Object.assign({},this.props.paint,{blendMode:e}))}),this.keyboardReceiverRef=(e=>{this.keyboardReceiver=e}),this.focusChange=(()=>this.forceUpdate()),this.onKeyDown=(e=>{if(a.isGradient(this.props.paint.type)){const o=e.event.keyCode;if(o===K.Key.BACKSPACE||o===K.Key.DELETE){if(this.props.editModeType===l.EditModeType.GRADIENT)n.forwardKeyboardEvent(e.event);else{const e=this.props.currentSelectedGradientStop;let o=this.props.paint.stops.slice();e&&e.index>=0&&o.length>1&&((o=o.slice()).splice(e.index,1),p.fullscreen.updateAppModel({currentSelectedGradientStop:{type:l.GradientStopType.COLOR,index:0}}),this.props.onChange(Object.assign({},this.props.paint,{stops:o}),d.ShouldCommit.YES))}e.accept()}}}),this.onMouseDown=(()=>{this.props.dispatch(i.styleFile.updateSelectedIndices({indices:[]}))})}componentDidMount(){a.isGradient(this.props.paint.type)&&this.props.editModeType!==l.EditModeType.GRADIENT?p.fullscreen.triggerAction("toggle-gradient-edit-mode"):"IMAGE"===this.props.paint.type&&this.props.editModeType!==l.EditModeType.RASTER&&p.fullscreen.triggerAction("toggle-raster-edit-mode")}componentDidUpdate(e){super.componentDidUpdate(e);const o=!a.isGradient(e.paint.type)&&a.isGradient(this.props.paint.type),t="IMAGE"!==e.paint.type&&"IMAGE"===this.props.paint.type;o&&this.props.editModeType!==l.EditModeType.GRADIENT?p.fullscreen.triggerAction("toggle-gradient-edit-mode"):t&&this.props.editModeType!==l.EditModeType.RASTER&&p.fullscreen.triggerAction("toggle-raster-edit-mode")}componentWillUnmount(){super.componentWillUnmount(),this.props.editModeType!==l.EditModeType.GRADIENT&&this.props.editModeType!==l.EditModeType.RASTER||p.fullscreen.triggerAction("leave-edit-mode")}render(){const e=new c.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY);let o;if(a.isGradient(this.props.paint.type)){const e=this.props.paint.stops[this.props.currentSelectedGradientStop.index];o=e?e.color:this.props.paint.stops[0].color}else o=Object.assign({},this.props.paint.color,{a:this.props.paint.opacity});const t=s.createElement("div",{className:w.typeAndBlendModeSelectContainer},s.createElement(f.ColorPickerTypeSelection,{paint:this.props.paint,paintId:this.props.paintId,onChange:this.props.onChange,defaultColor:this.props.defaultColor,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"typeSelection"),key:`color-picker-type-selection-${this.props.paintId}`}),s.createElement(C.ColorPickerBlendModeSelection,{blendMode:this.props.paint.blendMode,onBlendModeChange:this.onBlendModeChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"blendModeSelection"),key:`color-picker-blend-mode-selection-${this.props.paintId}`}));return s.createElement(h.DraggableModal,{title:t,headerSize:"small",initialPosition:e,onClose:this.onClose,recordingKey:r.joinKeys(this.props,"modal")},"IMAGE"===this.props.paint.type&&s.createElement(m.ImageSettingsModal,{paint:this.props.paint,paintId:this.props.paintId,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"imageSettings")}),"IMAGE"!==this.props.paint.type&&s.createElement(u.KeyboardReceiver,{name:"Color picker",ref:this.keyboardReceiverRef,handleKeyDown:this.onKeyDown,onMouseDown:this.onMouseDown,focusOnMount:!0,forceUpdate:this.focusChange},a.isGradient(this.props.paint.type)&&s.createElement(g.GradientControl,{paint:this.props.paint,onChange:this.onChange,currentSelectedGradientStop:this.props.currentSelectedGradientStop,hasFocus:this.keyboardReceiver&&this.keyboardReceiver.hasFocus(),dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"gradient")}),s.createElement(E,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,color:o,colorFormat:this.props.colorFormat,onChange:this.onColorChange,currentTool:this.props.currentTool,styleSets:this.props.styleSets,colorPicker:this.props.colorPicker,recordingKey:this.props.recordingKey,library:this.props.library,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams})))}}M.displayName="PaintPicker",o.PaintPicker=M;class b extends r.PureComponent{constructor(){super(...arguments),this.onClose=r.otherEvent(this,"close",()=>{this.props.onClose?this.props.onClose():this.props.dispatch(i.fullscreen.hidePicker())}),this.onMouseDown=(()=>{this.props.dispatch(i.styleFile.updateSelectedIndices({indices:[]}))})}render(){return s.createElement(h.DraggableModal,{title:this.props.title,headerSize:"small",initialPosition:this.props.initialPosition,onClose:this.onClose,recordingKey:r.joinKeys(this.props,"modal")},s.createElement("div",{onMouseDown:this.onMouseDown},s.createElement(E,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,color:this.props.color,colorFormat:this.props.colorFormat,onChange:this.props.onChange,currentTool:this.props.currentTool,styleSets:this.props.styleSets,colorPicker:this.props.colorPicker,library:this.props.library,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:this.props.recordingKey})))}}b.displayName="ColorPicker",o.ColorPicker=b;class E extends s.PureComponent{render(){return s.createElement("div",null,!this.props.colorPicker.stylesExpanded&&s.createElement(y.ColorControls,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,color:this.props.color,onChange:this.props.onChange,currentTool:this.props.currentTool,colorFormat:this.props.colorFormat,recordingKey:r.joinKeys(this.props,"colorControls")}),s.createElement(S.ColorPickerStyles,{colorPicker:this.props.colorPicker,onChange:this.props.onChange,library:this.props.library,fileKey:this.props.fileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,styleSets:this.props.styleSets,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"colorPickerStyles")}))}}E.displayName="ExpandingColorControlsAndStyles",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){e.exports={patternControl:"grid_settings--patternControl--1Osh5",patternElement:"grid_settings--patternElement--1qCMv",_centered:"grid_settings--_centered--3_nAU",_label:"grid_settings--_label--2tASu grid_settings--_centered--3_nAU",gridTypeSelect:"grid_settings--gridTypeSelect--1KDvJ",gridTypeDropdown:"grid_settings--gridTypeDropdown--1fZL1",gridTypeInput:"grid_settings--gridTypeInput--3MZ0U",gridSizeLabel:"grid_settings--gridSizeLabel--2KPgq grid_settings--_label--2tASu grid_settings--_centered--3_nAU",gridColorLabel:"grid_settings--gridColorLabel--1rmwy grid_settings--_label--2tASu grid_settings--_centered--3_nAU",gridSectionSize:"grid_settings--gridSectionSize--1jSzV grid_settings--_centered--3_nAU",gridChit:"grid_settings--gridChit--2jt3d paint_panels--chit--1AKml",stripesChit:"grid_settings--stripesChit--3WHn- paint_panels--chit--1AKml",gridColor:"grid_settings--gridColor--25g8T grid_settings--_centered--3_nAU",gridOpacity:"grid_settings--gridOpacity--2UhJE paint_panels--opacityInputContainer--1ckND",stripesOpacity:"grid_settings--stripesOpacity--21enr paint_panels--opacityInputContainer--1ckND",stripesCountLabel:"grid_settings--stripesCountLabel--3M1lB grid_settings--_label--2tASu grid_settings--_centered--3_nAU",stripesSizeLabel:"grid_settings--stripesSizeLabel--2rzwt grid_settings--_label--2tASu grid_settings--_centered--3_nAU",stripesGutterLabel:"grid_settings--stripesGutterLabel--25UL8 grid_settings--_label--2tASu grid_settings--_centered--3_nAU",stripesNumSections:"grid_settings--stripesNumSections--qC0tv grid_settings--_centered--3_nAU",stripesSectionSize:"grid_settings--stripesSectionSize--SelJv grid_settings--_centered--3_nAU",stripesGutterSize:"grid_settings--stripesGutterSize--1_rax grid_settings--_centered--3_nAU",stripesTypeLabel:"grid_settings--stripesTypeLabel--t-zNe grid_settings--_label--2tASu grid_settings--_centered--3_nAU",stripesOffsetLabel:"grid_settings--stripesOffsetLabel--2TDhb grid_settings--_label--2tASu grid_settings--_centered--3_nAU",stripesType:"grid_settings--stripesType--jIFPz grid_settings--_centered--3_nAU",stripesTypeDropdown:"grid_settings--stripesTypeDropdown--11tGL",stripesOffset:"grid_settings--stripesOffset--1q0mA grid_settings--_centered--3_nAU",stripesColorLabel:"grid_settings--stripesColorLabel--2hEZR grid_settings--_label--2tASu grid_settings--_centered--3_nAU",stripesColor:"grid_settings--stripesColor--2f-Bv grid_settings--_centered--3_nAU",spacer:"grid_settings--spacer--27cvs",colorValueContainer:"grid_settings--colorValueContainer--29z1U paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a",gridColorValueContainer:"grid_settings--gridColorValueContainer--289s8 grid_settings--colorValueContainer--29z1U paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),o=r(38,1       ),i=r(232                        ),a=r(143              ),n=r(198         ),p=r(1426                               ),l=r(386                        ),c=r(341                              ),h=r(391                               ),m=r(214                                                    ),d=r(468           ),u=r(477               ),g=r(478                                 ),y=r(498                     ),C=r(477               ),N=r(542                   ),E=r(497                                  ),b=r(533                           ),S=r(540                           ),f=r(534                  );class G extends u.Select{}class w extends u.Option{}class P{constructor(){this.format=(e=>{switch(e){case"GRID":return"Grid";case"X":return"Columns";case"Y":return"Rows"}return""})}parse(){return null}}t.GridPatternFormatter=P;class I extends u.Select{}class O extends u.Option{}class j extends a.PureComponent{constructor(e){super(e),this.gridPatternFormatter=new P,this.onClose=a.otherEvent(this,"close",()=>{this.props.dispatch(i.fullscreen.hidePicker()),p.fullscreen.deselectProperty()}),this.chitRowRef=(e=>{e&&(this.chitRow=o.findDOMNode(e))}),this.onColorChange=((e,t)=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{color:e}),t)}),this.onGridPatternChange=(e=>{"GRID"===e?this.props.onChange(Object.assign({},this.props.layoutGrid,{pattern:"GRID"})):this.props.onChange(Object.assign({},this.props.layoutGrid,{axis:e,pattern:"STRIPES"}))}),this.toggleColorPicker=(()=>{this.state.colorPickerShown?this.hideColorPicker():(this.pickerPosition=l.pickerPositionLeftOf(this.chitRow),this.setState({colorPickerShown:!0}))}),this.hideColorPicker=(()=>{this.setState({colorPickerShown:!1})}),this.state={colorPickerShown:!1}}renderGridPatternSettings(){return s.createElement(s.Fragment,null,s.createElement(h.Row,null,s.createElement(h.LabelInactive,{className:f.gridSizeLabel},"Size"),s.createElement(h.LabelInactive,{className:f.gridColorLabel},"Color")),s.createElement(h.Row,{ref:this.chitRowRef},s.createElement(K,Object.assign({className:f.gridSectionSize},this.props)),s.createElement("div",{className:f.gridColorValueContainer},s.createElement(d.Chit,{className:f.gridChit,onClick:this.toggleColorPicker,color:this.props.layoutGrid.color,recordingKey:a.joinKeys(this.props,"chit")}),s.createElement(k,Object.assign({className:f.gridColor},this.props)),s.createElement(x,Object.assign({className:f.gridOpacity},this.props)))))}renderStripesPatternSettings(){const e="X"===this.props.layoutGrid.axis?"Width":"Height",t="STRETCH"===this.props.layoutGrid.type?"Margin":"Offset";return s.createElement(s.Fragment,null,s.createElement(h.Row,null,s.createElement(h.LabelInactive,{className:f.stripesCountLabel},"Count"),s.createElement(h.LabelInactive,{className:f.stripesColorLabel},"Color")),s.createElement(h.Row,{ref:this.chitRowRef},s.createElement(R,Object.assign({className:f.stripesNumSections},this.props)),s.createElement("div",{className:f.colorValueContainer},s.createElement(d.Chit,{className:f.stripesChit,onClick:this.toggleColorPicker,color:this.props.layoutGrid.color,recordingKey:a.joinKeys(this.props,"chit")}),s.createElement(k,Object.assign({className:f.stripesColor},this.props)),s.createElement(x,Object.assign({className:f.stripesOpacity},this.props)))),s.createElement("div",{className:f.spacer}),s.createElement(h.Row,null,s.createElement(h.LabelInactive,{className:f.stripesTypeLabel},"Type"),s.createElement(h.LabelInactive,{className:f.stripesSizeLabel},e),s.createElement(h.LabelInactive,{className:f.stripesOffsetLabel},t)),s.createElement(h.Row,null,s.createElement(_,Object.assign({className:f.stripesType},this.props)),s.createElement(K,Object.assign({className:f.stripesSectionSize},this.props)),s.createElement(v,Object.assign({className:f.stripesOffset},this.props))),s.createElement("div",{className:f.spacer}),s.createElement(h.Row,null,s.createElement(h.LabelInactive,{className:f.stripesGutterLabel},"Gutter")),s.createElement(h.Row,null,s.createElement(T,Object.assign({className:f.stripesGutterSize},this.props))))}render(){const e=new n.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY),t=s.createElement(I,{id:"grid-pattern-select",className:f.gridTypeSelect,dropdownClassName:f.gridTypeDropdown,inputClassName:f.gridTypeInput,property:"GRID"===this.props.layoutGrid.pattern?"GRID":this.props.layoutGrid.axis,onChange:this.onGridPatternChange,formatter:this.gridPatternFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:a.joinKeys(this.props,"pattern")},s.createElement(O,{value:"GRID",recordingKey:a.joinKeys(this.props,"pattern","GRID")}),s.createElement(O,{value:"X",recordingKey:a.joinKeys(this.props,"pattern","X")}),s.createElement(O,{value:"Y",recordingKey:a.joinKeys(this.props,"pattern","Y")}));return s.createElement(m.DraggableModal,{title:t,headerSize:"small",initialPosition:e,onClose:this.onClose},s.createElement(h.ModalPanel,null,"GRID"===this.props.layoutGrid.pattern?this.renderGridPatternSettings():this.renderStripesPatternSettings()),this.state.colorPickerShown&&s.createElement(b.ColorPicker,Object.assign({title:"Layout Grid",initialPosition:this.pickerPosition,color:this.props.layoutGrid.color,onChange:this.onColorChange,onClose:this.hideColorPicker,recordingKey:this.props.recordingKey},b.extractColorPickerContainerProps(this.props))))}}j.displayName="GridSettings",t.GridSettings=j;class R extends s.PureComponent{constructor(){super(...arguments),this.integerFormatter=new N.IntegerFormatter({min:0}),this.formatter={format:e=>e===S.NUM_SECTIONS_INFINITE?"Auto":this.integerFormatter.format(e),parse:(e,t)=>"Auto"===e?S.NUM_SECTIONS_INFINITE:this.integerFormatter.parse(e,t),clamp:e=>this.integerFormatter.clamp(e),increment:(e,t,r)=>this.integerFormatter.increment(e,t,r)},this.onChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{numSections:e}))})}render(){return s.createElement(y.NumberComboBox,{id:"grid-settings-num-sections",className:this.props.className,formatter:this.formatter,property:this.props.layoutGrid.numSections,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:a.joinKeys(this.props,"numSections"),autoFocus:!0},s.createElement(C.NumberOption,{key:"Auto",value:S.NUM_SECTIONS_INFINITE}),s.createElement(u.SelectDivider,{key:"divider"}),new Array(12).fill(null).map((e,t)=>s.createElement(C.NumberOption,{key:t,value:t+1})))}}R.displayName="NumSections";class K extends s.PureComponent{constructor(){super(...arguments),this.formatter=new N.IntegerPixelFormatter({min:0,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount}),this.onChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{sectionSize:e}))})}render(){const e="GRID"!==this.props.layoutGrid.pattern&&"STRETCH"===this.props.layoutGrid.type;return s.createElement(g.NumberInput,{className:this.props.className,formatter:this.formatter,property:e?null:this.props.layoutGrid.sectionSize,onChange:this.onChange,disabled:e,placeholder:"Auto",autoFocus:!0,recordingKey:a.joinKeys(this.props,"sectionSize")})}}K.displayName="SectionSize";class T extends s.PureComponent{constructor(){super(...arguments),this.formatter=new N.IntegerPixelFormatter({min:0,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount}),this.onChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{gutterSize:e}))})}render(){return s.createElement(g.NumberInput,{className:this.props.className,formatter:this.formatter,property:this.props.layoutGrid.gutterSize,onChange:this.onChange,recordingKey:a.joinKeys(this.props,"gutter")})}}T.displayName="GutterSize";class _ extends s.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"MIN":return"X"===this.props.layoutGrid.axis?"Left":"Top";case"CENTER":return"Center";case"STRETCH":return"Stretch"}}},this.onChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{type:e}))})}render(){return s.createElement(G,{id:"layout-grid-settings-layout-type",className:this.props.className,dropdownClassName:f.stripesTypeDropdown,formatter:this.formatter,property:this.props.layoutGrid.type,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:a.joinKeys(this.props,"type")},s.createElement(w,{value:"MIN",recordingKey:a.joinKeys(this.props,"type","MIN")}),s.createElement(w,{value:"CENTER",recordingKey:a.joinKeys(this.props,"type","CENTER")}),s.createElement(w,{value:"STRETCH",recordingKey:a.joinKeys(this.props,"type","STRETCH")}))}}_.displayName="Type";class v extends s.PureComponent{constructor(){super(...arguments),this.formatter=new N.IntegerPixelFormatter({min:0,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount}),this.onChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{offset:e}))})}render(){return s.createElement(g.NumberInput,{className:this.props.className,formatter:this.formatter,property:"CENTER"===this.props.layoutGrid.type?0:this.props.layoutGrid.offset,onChange:this.onChange,disabled:"CENTER"===this.props.layoutGrid.type,recordingKey:a.joinKeys(this.props,"offset")})}}v.displayName="Offset";class k extends s.PureComponent{constructor(){super(...arguments),this.formatter=new N.ColorHexFormatterWithoutHash,this.onChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{color:e}))})}render(){return s.createElement(g.ColorInput,{className:this.props.className,noLeftBorder:!0,property:this.props.layoutGrid.color,formatter:this.formatter,onChange:this.onChange,recordingKey:a.joinKeys(this.props,"color"),noBorderOnFocus:!0})}}k.displayName="Color";class x extends s.PureComponent{constructor(){super(...arguments),this.onChange=((e,t)=>{const r=Object.assign({},this.props.layoutGrid.color,{a:e});this.props.onChange(Object.assign({},this.props.layoutGrid,{color:r}),t)}),this.onScrubChange=(e=>{this.onChange(e,c.ShouldCommit.NO)})}render(){return s.createElement(E.ScrubbablePercentageInput,{className:this.props.className,value:this.props.layoutGrid.color.a,onValueChange:this.onChange,onScrubChange:this.onScrubChange,dispatch:this.props.dispatch,resolution:.01,recordingKey:a.joinKeys(this.props,"opacity"),noBorderOnFocus:!0})}}x.displayName="Opacity",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:null,src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 10c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.104 0-2 .895-2 2 0 1.105.896 2 2 2z"/><path d="M8 4c2.878 0 5.378 1.621 6.635 4-1.257 2.379-3.757 4-6.635 4-2.878 0-5.377-1.621-6.635-4C2.623 5.621 5.122 4 8 4zm0 7c-2.3 0-4.322-1.194-5.478-3C3.678 6.194 5.7 5 8 5c2.3 0 4.322 1.194 5.479 3C12.322 9.806 10.3 11 8 11z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,c){t.exports={id:"g33f6d9aa",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M13.508 7.801c.556-.527 1.036-1.134 1.422-1.801h-1.185C12.48 7.814 10.378 9 8 9 5.622 9 3.52 7.814 2.254 6H1.07c.386.667.866 1.274 1.421 1.801L.896 9.396l.708.707L3.26 8.446c.71.523 1.511.932 2.374 1.199l-.617 2.221.964.268.626-2.255C7.06 9.96 7.525 10 8 10c.475 0 .94-.041 1.392-.12l.626 2.254.964-.268-.617-2.221c.863-.267 1.663-.676 2.374-1.2l1.657 1.658.708-.707-1.595-1.595z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(34,1   ),i=o(282                             ),n=o(389                         ),p=o(143              ),r=o(536                                                          ),a=o(537                                                         );class u extends p.PureComponent{constructor(){super(...arguments),this.onMouseDown=p.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown?this.props.onMouseDown(e):e.stopPropagation(),this.props.onChange(this.props.visible===i.MIXED||!this.props.visible)})}render(){const e=i.getValue(this.props.visible);return t.createElement(n.IconButton,{svg:e?r:a,className:this.props.className,onMouseDown:this.onMouseDown})}}u.displayName="Visible",s.Visible=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,i){e.exports={singleRowHeight:"grids_panel--singleRowHeight--1Mt1N",doubleRowHeight:"grids_panel--doubleRowHeight--3Wb_O",input:"grids_panel--input--3EJm4 grids_panel--singleRowHeight--1Mt1N",border:"grids_panel--border--1YW1v",borderFocusWithin:"grids_panel--borderFocusWithin--1xNne",iconInsideBorderFocusWithin:"grids_panel--iconInsideBorderFocusWithin--1kKrV",rowSelectedSecondary:"grids_panel--rowSelectedSecondary--3p3cr grids_panel--rowSelected--1Ykd3",selectHiddenInput:"grids_panel--selectHiddenInput--1I0KA",iconButton:"grids_panel--iconButton--Re5k6",borderFocus:"grids_panel--borderFocus--3ovDT",multiValueInput:"grids_panel--multiValueInput--2_bXb grids_panel--borderFocusWithin--1xNne",base:"grids_panel--base--1RpWO",label:"grids_panel--label--1UOC9 grids_panel--base--1RpWO",labelInactive:"grids_panel--labelInactive--3pKsW grids_panel--label--1UOC9 grids_panel--base--1RpWO",textInput:"grids_panel--textInput--3Nr4Y grids_panel--base--1RpWO grids_panel--input--3EJm4 grids_panel--singleRowHeight--1Mt1N",textAreaInput:"grids_panel--textAreaInput--2PWRW grids_panel--base--1RpWO grids_panel--input--3EJm4 grids_panel--singleRowHeight--1Mt1N",noLeftBorder:"grids_panel--noLeftBorder--TQQ6N",squareRightBorder:"grids_panel--squareRightBorder--2_vcC",_iconButton:"grids_panel--_iconButton--2U9s2",iconButtonEnabled:"grids_panel--iconButtonEnabled--H9Xjj grids_panel--_iconButton--2U9s2",iconButtonDisabled:"grids_panel--iconButtonDisabled--3L33P grids_panel--_iconButton--2U9s2",iconButtonSelected:"grids_panel--iconButtonSelected--1cph5 grids_panel--_iconButton--2U9s2",chitCenter:"grids_panel--chitCenter--2ibm_",outlineButton:"grids_panel--outlineButton--1kNme",modalPanel:"grids_panel--modalPanel--LeSfy",panel:"grids_panel--panel--3ZNL_",_row:"grids_panel--_row--1h_QT",singleRow:"grids_panel--singleRow--1_3ZV grids_panel--singleRowHeight--1Mt1N grids_panel--_row--1h_QT",doubleRow:"grids_panel--doubleRow--2yV2- grids_panel--doubleRowHeight--3Wb_O grids_panel--_row--1h_QT",labelRow:"grids_panel--labelRow--1PkIQ grids_panel--singleRow--1_3ZV grids_panel--singleRowHeight--1Mt1N grids_panel--_row--1h_QT",rowSelected:"grids_panel--rowSelected--1Ykd3",panelTitle:"grids_panel--panelTitle--2EzI0",panelTitleWithTip:"grids_panel--panelTitleWithTip--3lJD9 grids_panel--panelTitle--2EzI0",panelTitleWithTipText:"grids_panel--panelTitleWithTipText--1z-FR",panelTitleWithTipIcon:"grids_panel--panelTitleWithTipIcon--13NtT",panelTitleFaded:"grids_panel--panelTitleFaded--elrbA grids_panel--panelTitle--2EzI0",flushLeft:"grids_panel--flushLeft--1ZsrN",labelInvisible:"grids_panel--labelInvisible--2WCeZ grids_panel--label--1UOC9 grids_panel--base--1RpWO",iconButtonInvisible:"grids_panel--iconButtonInvisible--3tXmf grids_panel--iconButton--Re5k6",addButton:"grids_panel--addButton--2Owm5",visibleButton:"grids_panel--visibleButton--1NTmy",removeButton:"grids_panel--removeButton--3uUaE"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(34,1   ),o=t(38,1       ),i=t(232                        ),p=t(143              ),n=t(1426                               ),a=t(282                             ),l=t(129                               ),c=t(386                        ),d=t(391                               ),h=t(389                         ),g=t(465                                        ),u=t(535                             ),y=t(538                 ),m=t(533                           ),P=t(443                         ),b=t(539                ),f=t(542                   ),S=t(431                                                  ),_=t(432                                                     ),v=t(433                                                      ),G=t(459                                                        ),w=t(460                                                          );s.NUM_SECTIONS_INFINITE=2147483647;class C extends r.PureComponent{constructor(){super(...arguments),this.onGridsChange=((e,s)=>{this.props.showFrameGrids||n.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),n.fullscreen.updateSelectionProperties({layoutGrids:e},s)}),this.addProperty=(()=>{const e={pattern:"GRID",sectionSize:this.props.bigNudgeAmount,color:{r:1,g:0,b:0,a:.1},visible:!0,axis:"X",gutterSize:20,numSections:5,offset:0,type:"STRETCH"},s=a.getValue(this.props.layoutGrids,[]);this.onGridsChange(s.concat([e]))})}render(){const e=P.extractStyleContainerProps(Object.assign({},this.props,{styleType:"GRID",inheritStyleKeyField:"inheritGridStyleKey"}));return r.createElement(d.Panel,null,r.createElement(k,Object.assign({propertyList:this.props.layoutGrids,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,onChange:this.onGridsChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:l.SelectedPropertyType.LAYOUT_GRID,pickerShown:this.props.pickerShown,addProperty:this.addProperty,recordingKey:p.joinKeys(this.props,"list")},m.extractColorPickerContainerProps(this.props),e,{showListLayout:!0})))}}C.displayName="GridsPanel",s.GridsPanel=C;class N extends g.StyleAndPropertyList{}class k extends r.PureComponent{constructor(){super(...arguments),this.removeProperty=(e=>{const s=a.getValue(this.props.propertyList,[]);this.props.onChange(s.filter((s,t)=>t!==e)),n.fullscreen.deselectProperty()}),this.renderProperty=((e,s,t,o,i,n,a,l)=>r.createElement(E,Object.assign({key:`grid-${s}`,recordingKey:p.joinKeys(this.props,"grid",s),id:`${this.props.selectedPropertyType}-${s}`,index:s,layoutGrid:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,selected:t,hasFocus:o,onChange:i,onMouseDown:n,onMouseMove:a,onMouseUp:l,onRemoveGrid:this.removeProperty.bind(this,s),pickerShown:this.props.pickerShown},m.extractColorPickerContainerProps(this.props))))}render(){return r.createElement(N,Object.assign({title:"Layout Grid",propertyList:this.props.propertyList,onChange:this.props.onChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:this.props.selectedPropertyType,addProperty:this.props.addProperty,renderProperty:this.renderProperty,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,recordingKey:this.props.recordingKey},P.extractStyleContainerProps(this.props)))}}k.displayName="GridsList";class E extends r.PureComponent{constructor(){super(...arguments),this.stopPropagation=(e=>e.stopPropagation()),this.onChange=(e=>{e.visible=!0,this.props.onChange(e)}),this.stopEventPropagation=(e=>{e.stopPropagation()}),this.onVisibleChange=(e=>{this.props.onChange(Object.assign({},this.props.layoutGrid,{visible:e}))}),this.rowRef=(e=>{e&&(this.row=o.findDOMNode(e))}),this.settingsShown=(()=>this.props.pickerShown&&this.props.pickerShown.id===this.props.id),this.toggleSettings=(e=>{if(e&&e.stopPropagation(),this.settingsShown())this.props.dispatch(i.fullscreen.hidePicker()),n.fullscreen.deselectProperty();else{const e=c.pickerPositionLeftOf(this.row);n.fullscreen.updateAppModel({currentSelectedProperty:{type:l.SelectedPropertyType.LAYOUT_GRID,indices:[this.props.index]}}),this.props.dispatch(i.fullscreen.showPicker({id:this.props.id,initialX:e.x,initialY:e.y}))}}),this.layoutGridFormatter=new f.LayoutGridFormatter}render(){const e=this.props.layoutGrid,{axis:s,pattern:t}=e;let o;o="GRID"===t?v:"X"===s?_:S;const i=this.layoutGridFormatter.format(e);return r.createElement("div",null,r.createElement(d.Row,{ref:this.rowRef,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,recordingKey:this.props.recordingKey},r.createElement(h.IconButton,{className:this.props.layoutGrid.visible?b.iconButton:b.iconButtonInvisible,svg:o,onMouseDown:this.toggleSettings,onMouseUp:this.stopPropagation,recordingKey:p.joinKeys(this.props,"settings"),selected:this.settingsShown()}),r.createElement(d.Label,{className:this.props.layoutGrid.visible?b.label:b.labelInvisible},i),r.createElement(y.Visible,{visible:this.props.layoutGrid.visible,onChange:this.onVisibleChange,onMouseDown:this.stopEventPropagation,recordingKey:p.joinKeys(this.props,"visibleToggle"),className:b.visibleButton}),r.createElement(h.IconButton,{className:b.removeButton,recordingKey:p.joinKeys(this.props,"removeButton"),svg:G,fallbackSvg:w,onClick:this.props.onRemoveGrid})),this.settingsShown()&&r.createElement(u.GridSettings,Object.assign({layoutGrid:this.props.layoutGrid,onChange:this.onChange,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,pickerShown:this.props.pickerShown,recordingKey:p.joinKeys(this.props,"settings")},m.extractColorPickerContainerProps(this.props))))}}E.displayName="Grid",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(540                                                                  );r.TitleCaseFormatter=class{constructor(){this.format=(e=>null==e?"":e.replace(/_/g," ").toLowerCase().replace(/\b\w/g,e=>e.toUpperCase()))}parse(){return null}};r.PaintTypeFormatter=class{constructor(){this.format=(e=>{switch(e){case"SOLID":return"Solid";case"IMAGE":return"Image";case"GRADIENT_LINEAR":return"Linear";case"GRADIENT_RADIAL":return"Radial";case"GRADIENT_ANGULAR":return"Angular";case"GRADIENT_DIAMOND":return"Diamond"}return""})}parse(){return null}};r.ImageScaleModeFormatter=class{constructor(){this.format=(e=>{switch(e){case"FILL":return"Fill";case"FIT":return"Fit";case"STRETCH":return"Crop";case"TILE":return"Tile"}return""})}parse(){return null}};r.HorizontalConstraintFormatter=class{constructor(){this.format=(e=>{switch(e){case"MIN":return"Left";case"MAX":return"Right";case"STRETCH":return"Left & Right";case"CENTER":return"Center";case"SCALE":return"Scale"}return""})}parse(){return null}};r.VerticalConstraintFormatter=class{constructor(){this.format=(e=>{switch(e){case"MIN":return"Top";case"MAX":return"Bottom";case"STRETCH":return"Top & Bottom";case"CENTER":return"Center";case"SCALE":return"Scale"}return""})}parse(){return null}};r.EffectFormatter=class{constructor(){this.format=(e=>{switch(e){case"INNER_SHADOW":return"Inner Shadow";case"DROP_SHADOW":return"Drop Shadow";case"FOREGROUND_BLUR":return"Layer Blur";case"BACKGROUND_BLUR":return"Background Blur"}return""})}parse(){return null}};r.LayoutGridFormatter=class{constructor(){this.format=(e=>{const{axis:r,numSections:t,type:s,sectionSize:a,pattern:o}=e;let u;return"GRID"===o?u="Grid"+` (${a}px)`:(u="X"===r?t===n.NUM_SECTIONS_INFINITE?"Columns":1===t?"1 Column":`${t} Columns`:t===n.NUM_SECTIONS_INFINITE?"Rows":1===t?"1 Row":`${t} Rows`,u+="STRETCH"===s?" (Auto)":` (${a}px)`),u})}parse(){return null}};class s{constructor(e){this.scene=e}hasNameForNode(e){return"-1:-1"===e||null==e||!!this.scene.get(e)}format(e){if("-1:-1"===e||null==e)return"None";const r=this.scene.get(e);return r?r.name:"(missing)"}parse(){return null}}r.NodeNameFormatter=s;r.DestinationFormatter=class{constructor(e){this.nodeNameFormatter=new s(e)}hasNameForNode(e){return this.nodeNameFormatter.hasNameForNode(e)}format(e){if(!e)return"";switch(e.type){case"NODE":return this.nodeNameFormatter.format(e.nodeId);case"NONE":return"None";case"URL":return"Open URL";case"BACK":return"Back";case"CLOSE":return"Close Overlay"}return""}isEqual(e,r){return null==e||null==r?e===r:e.type===r.type&&("NODE"!==e.type||"NODE"!==r.type||e.nodeId===r.nodeId)}parse(){return null}};r.InteractionTypeClickFormatter=class{constructor(){this.format=(e=>{switch(e){case"NONE":return"None";case"ON_CLICK":return"On Click";case"ON_HOVER":return"While Hovering";case"ON_PRESS":return"While Pressing";case"MOUSE_IN":return"Mouse Enter";case"MOUSE_OUT":return"Mouse Leave";case"MOUSE_DOWN":return"Mouse Down";case"MOUSE_UP":return"Mouse Up";case"AFTER_TIMEOUT":return"After Delay"}return""})}parse(){return null}};r.InteractionTypeTouchFormatter=class{constructor(){this.format=(e=>{switch(e){case"NONE":return"None";case"ON_CLICK":return"On Tap";case"ON_HOVER":return"While Hovering";case"ON_PRESS":return"While Pressing";case"MOUSE_IN":return"Mouse Enter";case"MOUSE_OUT":return"Mouse Leave";case"MOUSE_DOWN":return"Touch Down";case"MOUSE_UP":return"Touch Up";case"AFTER_TIMEOUT":return"After Delay"}return""})}parse(){return null}};r.OverlayPositionFormatter=class{constructor(){this.format=(e=>{switch(e){case"CENTER":return"Centered";case"TOP_LEFT":return"Top Left";case"TOP_CENTER":return"Top Center";case"TOP_RIGHT":return"Top Right";case"BOTTOM_LEFT":return"Bottom Left";case"BOTTOM_CENTER":return"Bottom Center";case"BOTTOM_RIGHT":return"Bottom Right";case"MANUAL":return"Manual"}return""})}parse(){return null}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,t,o){"use strict";function e(r){for(var o in r)t.hasOwnProperty(o)||(t[o]=r[o])}Object.defineProperty(t,"__esModule",{value:!0}),e(o(378          )),e(o(380                    )),e(o(379                )),e(o(381                    )),e(o(382               )),e(o(384                  )),e(o(541                  )),r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,t,o){e.exports={tileNoBg:"component_tile--tileNoBg--22oxb",tile:"component_tile--tile--3AL2h component_tile--tileNoBg--22oxb",tileWithBorder:"component_tile--tileWithBorder--28I0l component_tile--tile--3AL2h component_tile--tileNoBg--22oxb",thumbWrapper:"component_tile--thumbWrapper--1TJn_","border-deleted":"component_tile--border-deleted--3oVbn","border-new":"component_tile--border-new--qtK7o",thumb:"component_tile--thumb--2Yg4u",name:"component_tile--name--NlmqO ellipsis--ellipsis--1RWY6",statusIcon:"component_tile--statusIcon---18t1","icon-new":"component_tile--icon-new--3An-6","icon-deleted":"component_tile--icon-deleted--3lyXS",selection:"component_tile--selection--33IvL",badge:"component_tile--badge--2IMHY",actionBadge:"component_tile--actionBadge--2maHh component_tile--badge--2IMHY",updateBadge:"component_tile--updateBadge--1vu0f",descriptionPopoutContainer:"component_tile--descriptionPopoutContainer--2ruV0 text--_whiteText--2PkdM",descriptionPopoutArrow:"component_tile--descriptionPopoutArrow--LAh68",privateOutline:"component_tile--privateOutline--1HGFS",privateComponent:"component_tile--privateComponent--1xA1U"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   );class i extends r.PureComponent{constructor(){super(...arguments),this.state={requestNumber:null},this.timerHandle=null,this.reload=(()=>{this.clearTimer(),this.timerHandle=this.scheduleNextReload()}),this.updateRequestTime=(()=>{const e=null===this.state.requestNumber?1:this.state.requestNumber+1;this.setState({requestNumber:e})})}clearTimer(){null!==this.timerHandle&&(clearTimeout(this.timerHandle),this.timerHandle=null)}scheduleNextReload(){const{delayMultiplier:e=10}=this.props,t=Math.min(300,e*((this.state.requestNumber||0)+Math.random()));return setTimeout(this.updateRequestTime,1e3*t)}getSrc(){return null===this.state.requestNumber?this.props.src:`${this.props.src}?requestNumber=${this.state.requestNumber}`}imgProps(){let e=Object.assign({},this.props);return delete e.delayMultiplier,e}UNSAFE_componentWillReceiveProps(e){e.src!==this.props.src&&(this.clearTimer(),this.setState({requestNumber:null}))}componentWillUnmount(){this.clearTimer()}render(){return r.createElement("img",Object.assign({},this.imgProps(),{src:this.getSrc(),onError:this.reload}))}}i.displayName="ReloadingImage",t.ReloadingImage=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,e){t.exports={localComponentsHeaderHeight:"54px",tilePaddingGrid:"12px",tilePaddingList:"6px",tileMargin:"12px",tileThumbHeightList:"24px",tileHeightList:"30px",tileHeightDraggingList:"128px",tileMargin__REFRESH:"16px",localComponentsHeaderHeight__REFRESH:"40px"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,l){t.exports={id:"g2d1870d2",src:'<svg width="17" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M11.861 1.84l.556 3.889-3.89.555 1.39-1.852c-1.504-.513-3.236-.169-4.436 1.031-.859.858-1.279 1.99-1.26 3.115l-1.191.744c-.248-1.68.275-3.45 1.567-4.743 1.65-1.65 4.077-2.045 6.1-1.187l1.164-1.552zM6.357 13.624c2.022.856 4.449.46 6.097-1.188 1.292-1.292 1.815-3.063 1.568-4.742l-1.191.745c.017 1.124-.403 2.255-1.26 3.113-1.2 1.2-2.93 1.543-4.434 1.032l1.39-1.855-3.888.556.555 3.889 1.163-1.55z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g8c1be529",src:'<svg width="17" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 9h-10V8h10v1z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"ge8c87f35",src:'<svg width="17" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M8 8V3.5h1V8h4.5v1H9v4.5H8V9H3.5V8H8z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(38,1       ),r=o(143              ),i=o(1426                               ),a=o(370              ),l=o(377        ),p=o(198         ),c=o(371                       ),u=o(144                        ),h=o(542                   ),m=o(543                   ),d=o(544                ),g=o(545                                  ),b=o(385                                        ),f=o(410                                   );t.DEFAULT_SIZE=120,t.THUMB_PADDING=a.pxToInt(g.tilePaddingGrid);const y=a.pxToInt(b.toolbarHeight),C=a.pxToInt(g.localComponentsHeaderHeight),M=o(546                                 ),N=o(547                         ),w=o(548                        ),v=new h.ColorHexFormatter,E=new h.ColorCSSFormatter;function P(e){if(e.containing_frame&&e.containing_frame.backgroundColor){const t=e.containing_frame.backgroundColor,o="#"==t[0]?v.parse(t):E.parse(t);return 0==o.a?null:(o.a=1,o)}return null}t.backgroundColorToUseForComponent=P;class T extends s.PureComponent{render(){const{component:e}=this.props,t={},o=P(this.props.component);return o&&(t.background=E.format(o)),s.createElement(k,Object.assign({backgroundColor:o},this.props),s.createElement(B,Object.assign({},this.props,{className:void 0})),this.props.showName&&s.createElement("div",{className:m.name,style:t},e.name))}}T.displayName="ComponentTile",t.ComponentTile=T;class x extends s.PureComponent{constructor(){super(...arguments),this.ref=(e=>{this.el=n.findDOMNode(e)}),this.onFullscreenScrollToNode=(({nodeId:e})=>{if(e===this.props.component.node_id&&this.el){const e=this.el.getBoundingClientRect();e.top<y+C?this.el.scrollIntoView():e.bottom>window.innerHeight-y&&this.el.scrollIntoView(!1)}}),this.onMouseUp=(e=>{e.stopPropagation()})}componentDidMount(){i.fullscreen.fromFullscreen.on("scrollToNode",this.onFullscreenScrollToNode)}componentWillUnmount(){i.fullscreen.fromFullscreen.removeListener("scrollToNode",this.onFullscreenScrollToNode)}render(){const e=this.props.component,t=this.props.isFilePublished&&(e.status===c.LibraryStatus.NOT_STAGED||e.status===c.LibraryStatus.DELETED),o={},n=t?null:P(this.props.component);if(n){o.background=E.format(n);const e=l.blackOrWhiteContrastingColor(n);e.a=.6,o.color=E.format(e)}return s.createElement(k,Object.assign({ref:this.ref},this.props,{onMouseUp:this.onMouseUp,className:t?m.privateComponent:null,backgroundColor:n}),s.createElement(B,Object.assign({},this.props)),s.createElement("div",{className:m.name,style:o},e.name),this.props.selected&&s.createElement("div",{className:m.selection}),t&&!this.props.selected&&s.createElement("div",{className:m.privateOutline}))}}x.displayName="LocalLibraryItemTile",t.LocalLibraryItemTile=x;class _ extends s.PureComponent{constructor(){super(...arguments),this.setPublishable=(()=>this.props.setIsPublishable(!0)),this.setNotPublishable=(()=>this.props.setIsPublishable(!1))}render(){const e=this.props.libraryItem,t=e.isPublishable?N:w,o=e.isPublishable?"Remove from library":"Add to library",n=e.isPublishable?this.setNotPublishable:this.setPublishable;return s.createElement(u.Svg,{svg:t,className:`${m.actionBadge} ${this.props.className||""}`,onClick:n,"data-tooltip-text":o,"data-tooltip-show-immediately":!0,"data-tooltip-show-above":!0})}}_.displayName="ToggleIsPublishableButton",t.ToggleIsPublishableButton=_;class S extends s.PureComponent{render(){return s.createElement(u.Svg,{svg:M,className:`${m.updateBadge} ${this.props.className||""}`})}}S.displayName="UpdateBadge",t.UpdateBadge=S;class k extends s.PureComponent{constructor(){super(...arguments),this.state={popoutStyle:null,popoutArrowStyle:null},this.ref=(e=>{this.el=e}),this.popoutRef=(e=>{this.popout=e}),this.onMouseEnter=(()=>{if(this.el&&this.popout){const e=this.el.getBoundingClientRect(),t=(e.top+e.bottom)/2,o=this.popout.offsetHeight,s=y+6,n=window.innerHeight-o-6;let r=t-o/2;r=Math.min(r,n),r=Math.max(r,s),this.setState({popoutStyle:{left:e.right+9,top:r},popoutArrowStyle:{left:e.right,top:t}})}}),this.onMouseLeave=(()=>{this.setState({popoutStyle:null,popoutArrowStyle:null})})}render(){let e=this.props.size||t.DEFAULT_SIZE;e%2==1&&(e-=1);let o=this.props.noBackground?m.tileNoBg:m.tile;const n=Object.assign({width:e,height:e},this.props.style);return!this.props.noBackground&&this.props.backgroundColor&&(f.shouldUseBorderForBackground(this.props.backgroundColor)&&(o=m.tileWithBorder),n.background=E.format(this.props.backgroundColor)),s.createElement("div",{ref:this.ref,className:`${o} ${this.props.className||""}`,style:n,onMouseUp:this.props.onMouseUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.props.children,this.props.component.description&&!this.props.contextMenuShown&&s.createElement("div",{className:m.descriptionPopoutContainer,style:this.state.popoutStyle,ref:this.popoutRef},this.props.component.description,s.createElement("div",{className:m.descriptionPopoutArrow,style:this.state.popoutArrowStyle})))}}k.displayName="ComponentWrapper";class B extends r.Component{constructor(){super(...arguments),this.onMouseDown=r.mouseEvent(this,"mousedown",e=>{this.props.onComponentMouseDown&&this.props.onComponentMouseDown(e,this.props.component)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new p.Vector(t.left,t.top),s=new p.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new p.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size,o=this.props.size;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}}),this.onContextMenu=r.mouseEvent(this,"contextmenu",e=>{this.props.onContextMenu&&this.props.onContextMenu(e)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new p.Vector(t.left,t.top),s=new p.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new p.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size,o=this.props.size;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}})}recordingKey(){return`componentThumb.${this.props.recordingNodePath}`}render(){const{component:e}=this.props,o=this.props.size||t.DEFAULT_SIZE;let n=o;return o%2==1&&(n=o-1),s.createElement("div",{className:`${m.thumbWrapper} ${this.props.className||""}`,style:{width:2*n,height:2*n},onClick:this.props.onClick,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu},s.createElement(d.ReloadingImage,{className:m.thumb,src:e.thumbnail_url}))}}B.displayName="ComponentThumb",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){e.exports={scrollContainer:"updates--scrollContainer--2pkY7",updatesContent:"updates--updatesContent--fZ0Zt updates--scrollContainer--2pkY7",updatesTeamSection:"updates--updatesTeamSection--oIzVP",updatesTeamHeader:"updates--updatesTeamHeader--1SPa-",updateRow:"updates--updateRow--3D3bW",updateTile:"updates--updateTile--1e5VZ",updateDeets:"updates--updateDeets--1Cp6S",updateComponentName:"updates--updateComponentName--338bg",updateSubText:"updates--updateSubText--2t9vN",updateFooter:"updates--updateFooter--1JjnE",updateButton:"updates--updateButton--3lvlN"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,a){e.exports={scrollContainer:"library_preferences_modal--scrollContainer--1ssqn",orgDashboardModal:"library_preferences_modal--orgDashboardModal--RLFhM",fileListView:"library_preferences_modal--fileListView--hKVBM",fileView:"library_preferences_modal--fileView--1kR_M",modal:"library_preferences_modal--modal--eeT9M",header:"library_preferences_modal--header--p1hw3",tabs:"library_preferences_modal--tabs--2RgSw",modalContentContainer:"library_preferences_modal--modalContentContainer--2XR4r",sharedFonts:"library_preferences_modal--sharedFonts--1hG-3",slidingPaneContainer:"library_preferences_modal--slidingPaneContainer--3oziB",slidingPane:"library_preferences_modal--slidingPane--2C_Nx",slidingPaneRight:"library_preferences_modal--slidingPaneRight---x1w_ library_preferences_modal--slidingPane--2C_Nx",slidingPaneLeft:"library_preferences_modal--slidingPaneLeft--2_5u7 library_preferences_modal--slidingPane--2C_Nx",searchWrapper:"library_preferences_modal--searchWrapper--1CBys",search:"library_preferences_modal--search--2G8iq",info:"library_preferences_modal--info--1a4bO",teamSubscriptionHint:"library_preferences_modal--teamSubscriptionHint--2YuvF text--paragraphText--25SJf undefined",teamSectionsWrapper:"library_preferences_modal--teamSectionsWrapper--2cDFo",teamSection:"library_preferences_modal--teamSection--1o2xv",sectionHeader:"library_preferences_modal--sectionHeader--2Ot7E",fileRowNoHover:"library_preferences_modal--fileRowNoHover--36k7n",fileRow:"library_preferences_modal--fileRow--3sAH9 library_preferences_modal--fileRowNoHover--36k7n",fileRowCaretRightWrapper:"library_preferences_modal--fileRowCaretRightWrapper--3aXfJ",updatesRow:"library_preferences_modal--updatesRow--1EDca library_preferences_modal--fileRow--3sAH9 library_preferences_modal--fileRowNoHover--36k7n",updateBadge:"library_preferences_modal--updateBadge--2As4y",nameAndToggle:"library_preferences_modal--nameAndToggle--os21t",fileName:"library_preferences_modal--fileName--6Nvsb ellipsis--ellipsis--1RWY6 text--largeBodyText--1919S",fileViewHeader:"library_preferences_modal--fileViewHeader--1Ft5D",fileItemCount:"library_preferences_modal--fileItemCount--V5-bP",subscriptionToggleContainer:"library_preferences_modal--subscriptionToggleContainer--cewHU",disabledSubscriptionToggleContainer:"library_preferences_modal--disabledSubscriptionToggleContainer--1SF04 library_preferences_modal--subscriptionToggleContainer--cewHU",subscribeLabel:"library_preferences_modal--subscribeLabel--FJCFH",toggleOff:"library_preferences_modal--toggleOff--1QJ-V",toggleOn:"library_preferences_modal--toggleOn--24sB7 library_preferences_modal--toggleOff--1QJ-V",toggle:"library_preferences_modal--toggle--2FDXk",libraryModalHintSpacer:"library_preferences_modal--libraryModalHintSpacer--1wN3u",libraryModalHint:"library_preferences_modal--libraryModalHint--JLkri text--paragraphText--25SJf undefined",libraryModalHintText:"library_preferences_modal--libraryModalHintText--3bKEc",link:"library_preferences_modal--link--2M16y blue_link--blueLink--22X56",dismissLibraryModalHint:"library_preferences_modal--dismissLibraryModalHint--3KReI",bestMatches:"library_preferences_modal--bestMatches--PTVEZ",bestMatchesSpacer:"library_preferences_modal--bestMatchesSpacer--2nyqG",currentFileView:"library_preferences_modal--currentFileView--1_-vn library_preferences_modal--fileView--1kR_M",currentFileLabel:"library_preferences_modal--currentFileLabel--3pHCM",fileViewFooter:"library_preferences_modal--fileViewFooter--2wikB",fileViewFooterText:"library_preferences_modal--fileViewFooterText--1r-d-",fileViewFooterButtons:"library_preferences_modal--fileViewFooterButtons--1KiTl",fileViewFooterButton:"library_preferences_modal--fileViewFooterButton---CYTg",stylesSection:"library_preferences_modal--stylesSection--2reYe",sectionWrapper:"library_preferences_modal--sectionWrapper--eeuOZ",styleThumb:"library_preferences_modal--styleThumb--1CsKY",emptyState:"library_preferences_modal--emptyState--nrq4e",emptyStateTitle:"library_preferences_modal--emptyStateTitle--2GMFD",emptyStateSubtitle:"library_preferences_modal--emptyStateSubtitle--1Ln44"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),r=a(232                        ),n=a(1430                                             ),l=a(80,1    ),p=a(371                       ),o=a(374                            ),i=a(376                                                  ),c=a(212                                  ),d=a(549                                                                ),m=a(204                                            ),u=a(550            ),h=a(551                                                 ),y=a(96         );class b extends s.PureComponent{constructor(){super(...arguments),this.onClickUpdateAll=(()=>{this.props.dispatch(n.updateSharedComponents({components:o.flattenLibraryItems(this.props.library.updates.components)})),this.props.dispatch(n.updateSharedStyles({styles:o.flattenLibraryItems(this.props.library.updates.styles)})),this.props.dispatch(r.fileBrowser.hideModal())}),this.updateComponent=(e=>{this.props.dispatch(n.updateSharedComponents({components:[e]}))}),this.updateStyle=(e=>{this.props.dispatch(n.updateSharedStyles({styles:[e]}))})}render(){const e=this.props.library.updates.components,t=this.props.library.updates.styles,a=Object.keys(Object.assign({},e,t)),r={id:p.NO_TEAM_ID,name:"Drafts"},n=a.map(e=>e===p.NO_TEAM_ID?r:this.props.teams[e]).filter(e=>!!e);y.sortAlphabeticallyByProperty(n,"name");const l=0===n.length;return s.createElement(c.TabLoop,null,s.createElement(i.ScrollContainer,{width:this.props.width,className:u.updatesContent,showScrollbar:!0},l&&s.createElement("div",{className:h.emptyState},s.createElement("div",{className:h.emptyStateTitle},"No updates available"),s.createElement("div",{className:h.emptyStateSubtitle},s.createElement("div",null,"Updates to components or styles"),s.createElement("div",null,"will show up here as they become available."))),!l&&n.map(a=>{const r=a.id,n=e[r]||{},l=t[r]||{},p=Object.keys(Object.assign({},n,l));if(p.length)return s.createElement("div",{className:u.updatesTeamSection,key:r},s.createElement("div",{className:u.updatesTeamHeader},"Updates from ",a.name),s.createElement("div",null,p.map(e=>{const t=Object.keys(n[e]||{}).map(t=>n[e][t]),a=Object.keys(l[e]||{}).map(t=>l[e][t]);return s.createElement("div",{key:e},s.createElement(_,Object.assign({itemList:t,onClickUpdate:this.updateComponent},this.props)),s.createElement(_,Object.assign({itemList:a,onClickUpdate:this.updateStyle},this.props)))})))})),s.createElement("div",{className:u.updateFooter},s.createElement(m.ButtonPrimary,{disabled:l,autoFocus:!0,className:u.updateButton,onClick:this.onClickUpdateAll},"Update all")))}}b.displayName="Updates",t.Updates=b;class _ extends s.PureComponent{render(){return s.createElement("div",null,this.props.itemList.map(e=>s.createElement(E,Object.assign({key:e.node_id,libraryItemToUpdate:e,onClickUpdate:this.props.onClickUpdate},this.props))))}}_.displayName="UpdateList";class E extends s.PureComponent{constructor(){super(...arguments),this.onClickUpdate=(()=>{this.props.onClickUpdate(this.props.libraryItemToUpdate)})}render(){const e=this.props.libraryItemToUpdate,t=this.props.fileByKey[e.file_key],a=t?this.props.folders[t.folder_id]:null;return s.createElement("div",{className:u.updateRow},s.createElement(d.ComponentTile,{size:82,className:u.updateTile,component:e}),s.createElement("div",{className:u.updateDeets},s.createElement("div",{className:u.updateComponentName},s.createElement("strong",null,e.name),t&&` in ${t.name}`),s.createElement("div",{className:u.updateSubText},s.createElement("div",null,"Updated by ",e.user.handle),a&&s.createElement("div",null,"in ",a.name),l(e.updated_at).fromNow())),s.createElement(m.ButtonSecondary,{className:u.updateButton,onClick:this.onClickUpdate},"Update"))}}E.displayName="LibraryItemUpdate",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(i,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const e=s(86                  ),r=s(101                               ),c=s(97      ),o=s(1471                    ),a=s(374                            ),n=s(1427                      ),p=e.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_TEAM");t.initializeTeamSubscriptions=p;const _=e.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_FILE");t.initializeFileSubscriptionsForFile=_;const b=e.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_USER");t.initializeUserSubscriptions=b;const l=e.actionCreator("LIBRARY_SUBSCRIPTIONS_INITIALIZE_ORG");t.initializeOrgSubscriptions=l;const S=r.asyncActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(i,t,s)=>{const{libraryTeamSubscription:e,userInitiated:o}=t,{file_key:a,is_subscribed:n,team_id:p}=e;if(o){c.default.post(`/api/library_team_subscriptions/${a}`,{is_subscribed:n,team_id:p}).then(({data:t})=>{i.dispatch(r.optimistActions.commit(s))}).catch(()=>{i.dispatch(r.optimistActions.revert(s))})}},!0);t.postTeamSubscription=S;const I=r.asyncActionCreator("LIBRARAY_SUBSCRIPTION_POST_FILE",(i,t,s)=>{const{libraryFileSubscription:e,userInitiated:o}=t,{file_key:a,library_file_key:n,is_subscribed:p}=e;if(o){c.default.post(`/api/library_file_subscriptions/${a}/${n}`,{is_subscribed:p}).then(({data:t})=>{i.dispatch(r.optimistActions.commit(s)),i.dispatch(f())}).catch(()=>{i.dispatch(r.optimistActions.revert(s))})}},!0);t.postFileSubscription=I;const u=r.asyncActionCreator("LIBRARAY_SUBSCRIPTION_POST_USER",(i,t,s)=>{const{libraryUserSubscription:e,userInitiated:o}=t,{file_key:a,is_subscribed:n}=e;if(o){c.default.post(`/api/library_user_subscriptions/${a}`,{is_subscribed:n}).then(({data:t})=>{i.dispatch(r.optimistActions.commit(s)),i.dispatch(f())}).catch(()=>{i.dispatch(r.optimistActions.revert(s))})}},!0);t.postUserSubscription=u;const d=r.asyncActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(i,t,s)=>{const{libraryOrgSubscription:e,userInitiated:o}=t;if(o){c.default.post(`/api/library_org_subscriptions/${e.file_key}`).then(({data:t})=>{i.dispatch(r.optimistActions.commit(s))}).catch(()=>{i.dispatch(r.optimistActions.revert(s))})}},!0);t.postOrgSubscription=d;const A=r.asyncActionCreator("LIBRARY_SUBSCRIPTION_POST_TEAM",(i,t,s)=>{const{libraryOrgSubscription:e,userInitiated:o}=t;if(o){c.default.del(`/api/library_org_subscriptions/${e.file_key}`).then(({data:t})=>{i.dispatch(r.optimistActions.commit(s))}).catch(()=>{i.dispatch(r.optimistActions.revert(s))})}},!0);t.deleteOrgSubscription=A;const f=r.asyncActionCreator("PREFETCH_SUBSCRIBED_STYLES",(i,t)=>{const s=i.getState(),e=o.getEditingFile(s),r=s.library.published.styles;if(e)for(const c in r)for(const i in r[c]){if(i===e.key)continue;const t=s.fileByKey[i];if(a.isFileSubscribedTo(s.library,e,t))for(const s in r[c][i]){const t=r[c][i][s];n.componentSceneGraphCache.get(t)}}});t.prefetchSubscribedStyles=f,i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(s,n,e){s.exports={input:"shared_fonts--input--Bs0sl",bigInput:"shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",textInput:"shared_fonts--textInput--TtPIC shared_fonts--input--Bs0sl",bigTextInput:"shared_fonts--bigTextInput--2O3L_ shared_fonts--textInput--TtPIC shared_fonts--input--Bs0sl shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",checkboxContainer:"shared_fonts--checkboxContainer--2V02M",checkbox:"shared_fonts--checkbox--2vQ9t",disabled:"shared_fonts--disabled--2f24y",checkboxShowFocus:"shared_fonts--checkboxShowFocus--fsSoe",label:"shared_fonts--label--1QgmC",btn:"shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6",btnBig:"shared_fonts--btnBig--LWeFf shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",primaryBtn:"shared_fonts--primaryBtn--3rdCZ shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6",primaryBtnBig:"shared_fonts--primaryBtnBig--2SlBx shared_fonts--primaryBtn--3rdCZ shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--btnBig--LWeFf shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",negativeBtn:"shared_fonts--negativeBtn--1ozdS shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6",negativeBtnBig:"shared_fonts--negativeBtnBig--hrWdd shared_fonts--negativeBtn--1ozdS shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--btnBig--LWeFf shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",greenBtn:"shared_fonts--greenBtn--3i2pB shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6",greenBtnBig:"shared_fonts--greenBtnBig--3uaPa shared_fonts--greenBtn--3i2pB shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--btnBig--LWeFf shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",secondaryBtnBig:"shared_fonts--secondaryBtnBig--3aljB shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--btnBig--LWeFf shared_fonts--btn--30B9N ellipsis--ellipsis--1RWY6 shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",link:"shared_fonts--link--1-itX blue_link--blueLink--22X56",inlineLink:"shared_fonts--inlineLink--r8Qr6 blue_link--blueLink--22X56",bigSelect:"shared_fonts--bigSelect--S6PJI shared_fonts--bigTextInput--2O3L_ shared_fonts--textInput--TtPIC shared_fonts--input--Bs0sl shared_fonts--bigInput--SWjqC shared_fonts--input--Bs0sl",container:"shared_fonts--container--19wni",modalInfo:"shared_fonts--modalInfo--13FQB",modalCheckbox:"shared_fonts--modalCheckbox--1P2bC",modalCheckboxInfo:"shared_fonts--modalCheckboxInfo--121Nh",scrollContainer:"shared_fonts--scrollContainer--2oJnC",collisionScrollContainer:"shared_fonts--collisionScrollContainer--3PVS1 shared_fonts--scrollContainer--2oJnC",applyAll:"shared_fonts--applyAll--v5tCB",column:"shared_fonts--column--2ZX7C table--column--CuH34",actionColumn:"shared_fonts--actionColumn--bC9Qy table--column--CuH34",actionColumnInactive:"shared_fonts--actionColumnInactive--3pTJv shared_fonts--actionColumn--bC9Qy table--column--CuH34",familyColumn:"shared_fonts--familyColumn--2gAhm shared_fonts--column--2ZX7C table--column--CuH34",sourceColumn:"shared_fonts--sourceColumn--32-CJ shared_fonts--column--2ZX7C table--column--CuH34",dateColumn:"shared_fonts--dateColumn--10mOB shared_fonts--column--2ZX7C table--column--CuH34",row:"shared_fonts--row--3TNRG",rowInactive:"shared_fonts--rowInactive--3fmQc shared_fonts--row--3TNRG",collisionRow:"shared_fonts--collisionRow--207TB shared_fonts--row--3TNRG",existingRow:"shared_fonts--existingRow--2HhXS shared_fonts--collisionRow--207TB shared_fonts--row--3TNRG",uploadInProgress:"shared_fonts--uploadInProgress--2PLfT",uploadIndicator:"shared_fonts--uploadIndicator--1sheb",headerRow:"shared_fonts--headerRow--vVSaZ shared_fonts--row--3TNRG",uploadFont:"shared_fonts--uploadFont--2aV3L",sample:"shared_fonts--sample--2T_2s",actions:"shared_fonts--actions--1JjTf",errorColumnFile:"shared_fonts--errorColumnFile--3zdeS",errorColumnMessage:"shared_fonts--errorColumnMessage--3mDtv",licenseModalInfo:"shared_fonts--licenseModalInfo--2zuFZ",licenseModalActionsContainer:"shared_fonts--licenseModalActionsContainer--3p99I",searchInputWrapper:"shared_fonts--searchInputWrapper--ZKam7",searchInput:"shared_fonts--searchInput--131zh",fontsContainer:"shared_fonts--fontsContainer--m8VdY",fontsContainerWithFooter:"shared_fonts--fontsContainerWithFooter--23f0N shared_fonts--fontsContainer--m8VdY",noSearchResultsInfo:"shared_fonts--noSearchResultsInfo--3AERw",nullContainer:"shared_fonts--nullContainer--122yZ",nullMessagesContainer:"shared_fonts--nullMessagesContainer--2XAfL",primaryNullMessage:"shared_fonts--primaryNullMessage--2f7AK",orgNullMessageAdmin:"shared_fonts--orgNullMessageAdmin--29PmQ",orgNullMessage:"shared_fonts--orgNullMessage--30M_R shared_fonts--orgNullMessageAdmin--29PmQ",footerBorderInvisible:"shared_fonts--footerBorderInvisible--2QXEi",footerBorder:"shared_fonts--footerBorder--1-b6V",footer:"shared_fonts--footer--RIs8g",deleteAction:"shared_fonts--deleteAction--1cGh2",blueLink:"shared_fonts--blueLink--2kMl0 blue_link--blueLink--22X56",uploadFooterMessage:"shared_fonts--uploadFooterMessage--2NQ2F",uploadFooterMessageOrg:"shared_fonts--uploadFooterMessageOrg--y5Zjg",progress:"shared_fonts--progress--1OXZ1 shared_fonts--footer--RIs8g",action:"shared_fonts--action--yscKh",progressFailure:"shared_fonts--progressFailure--3Kg0v shared_fonts--progress--1OXZ1 shared_fonts--footer--RIs8g",errorActionContainer:"shared_fonts--errorActionContainer--3USMC shared_fonts--progress--1OXZ1 shared_fonts--footer--RIs8g",errorAction:"shared_fonts--errorAction--3KayE shared_fonts--action--yscKh"},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,n,t){e.exports={row:"entity--row--39iSC table--row--F9DxE",headerRow:"entity--headerRow--1bvIf entity--row--39iSC table--row--F9DxE",loadingRow:"entity--loadingRow--3nZfK entity--row--39iSC table--row--F9DxE",headerCell:"entity--headerCell--38zTQ",sortableField:"entity--sortableField--24nJX",chevronIcon:"entity--chevronIcon--3cT90",chevronIconAscending:"entity--chevronIconAscending--2dcy0 entity--chevronIcon--3cT90"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"g24069fa8",src:'<svg width="6" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M3 5l3-4H0l3 4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"gb0fc15af",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 3L3 7h6L6 3z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=o(34,1   ),n=o(144                        ),t=o(147                                        ),a=o(555           ),l=o(556                                       ),i=o(557                            );class p extends r.PureComponent{render(){return r.createElement("div",{className:`${this.props.header?a.headerRow:a.row} ${this.props.className||""}`,onClick:this.props.onClick?this.props.onClick:null,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},this.props.children)}}p.displayName="TableRow",s.TableRow=p;class c extends r.PureComponent{render(){return r.createElement(p,{className:`${a.loadingRow} ${this.props.className||""}`},r.createElement(t.LoadingSpinner,null))}}c.displayName="LoadingRow",s.LoadingRow=c;class d extends r.PureComponent{render(){return r.createElement("div",{className:`${a.headerCell} ${this.props.className||""}`,onClick:this.props.onClick?this.props.onClick:null},this.props.children)}}d.displayName="HeaderCell",s.HeaderCell=d;class h extends r.PureComponent{constructor(){super(...arguments),this.sortBy=(()=>{this.props.sortBy(this.props.field)})}render(){const e=this.props.isDescending?l:i;return r.createElement("div",{className:`${a.sortableField} ${this.props.className||""}`,onClick:this.sortBy},this.props.children,this.props.hasChevron&&r.createElement(n.Svg,{className:a.chevronIcon,svg:e}))}}h.displayName="SortableHeaderCell",s.SortableField=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=n(34,1   ),r=n(38,1       );class s extends i.PureComponent{constructor(){super(...arguments),this.textContainerEl=null,this.textContainerRef=(t=>{this.textContainerEl=r.findDOMNode(t)}),this.getFittingText=(()=>{if(!this.textContainerEl)return null;const t=this.textContainerEl.getBoundingClientRect().width,{text:e}=this.props,n=document.createElement("p");if(n.className=this.props.className,n.setAttribute("style","\n      display: inline;\n      white-space: nowrap;\n    "),this.textContainerEl.appendChild(n),n.innerText=e,n.getBoundingClientRect().width<=t)return this.textContainerEl.removeChild(n),e;let i="";for(let r=0;r<e.length;r+=2){const s=`${e.slice(0,r/2)}...${e.slice(e.length-r/2)}`;n.innerText=s;const{width:o}=n.getBoundingClientRect();if(o>t)return this.textContainerEl.removeChild(n),i;i=s}return this.textContainerEl.removeChild(n),i})}componentDidMount(){this.forceUpdate()}render(){return i.createElement("div",{ref:this.textContainerRef,style:{width:this.props.maxWidth?`${this.props.maxWidth}px`:"100%"}},i.createElement("p",{className:this.props.className},this.getFittingText()))}}s.displayName="CenterTruncatedText",e.CenterTruncatedText=s,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,l,e){t.exports={id:null,src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 15c3.866 0 7-3.134 7-7 0-3.866-3.134-7-7-7-3.866 0-7 3.134-7 7 0 3.866 3.134 7 7 7zm8-7c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd" fill="#ff6d30"/><path d="M8.688 9.571H7.306l-.195-5.808h1.773l-.196 5.808zm-.69.91c.28 0 .504.082.673.248.172.165.259.376.259.633 0 .253-.087.462-.26.627-.168.165-.393.248-.673.248-.276 0-.5-.083-.673-.248-.17-.165-.254-.374-.254-.627 0-.254.085-.463.254-.628.172-.169.397-.253.673-.253z" fill="#ff6d30"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});class r{constructor(t,e,s,r){this.compileHighlightForMenuItem=(()=>{let t="";for(let e in this.result){const s=parseInt(e),r=this.result[s],i=s%2?"1":"0";t+=Array(r.length+1).join(i)}return t}),this.equals=(t=>JSON.stringify(this)===JSON.stringify(t)),this.result=t,this.score=e,this.text=s,this.highlight=r}}e.FuzzyStringMatch=r;e.FuzzyStringMatcher=class{constructor(t){this.isValidQuery=(()=>!!this.forwardRegex||!!this.backwardRegex),this.matchAgainst=(t=>{const e=[];return t.forEach(t=>{const s=this.matchAgainstText(t);s&&(s.highlight=s.compileHighlightForMenuItem(),e.push(s))}),e.sort((t,e)=>t.score>e.score||t.score===e.score&&t.text<e.text?-1:1)}),this.matchAgainstText=(t=>{if(!this.isValidQuery())return null;const e=this.forwardRegex.exec(t),s=this.backwardRegex.exec(this.reverseText(t));if(!e||!s)return null;const i=e.slice(1);let h=s.slice(1).map(t=>this.reverseText(t)).reverse();const c=this.scoreMatch(i),o=this.scoreMatch(h),n=Math.max(c,o);return new r(c>=o?i:h,n,t)}),this.compileRegularExpression=(t=>{let e="^(.*?)",s=!1;for(let r of t)(r>="A"&&r<="Z"||r>="a"&&r<="z"||r>="0"&&r<="9")&&(e+=`(${r})(.*?)`,s=!0);return s?(e+="$",new RegExp(e,"i")):null}),this.reverseText=(t=>{let e="";for(let s=t.length-1;s>=0;s--)e+=t[s];return e}),this.scoreMatch=(t=>{let e="",s=0;for(let r=0;r<t.length;r++){const i=t[r];r%2&&(""===e?(s+=10,1===r&&s++):" "===e.slice(-1)&&(s+=10)),e=i}return s}),this.forwardRegex=this.compileRegularExpression(t),this.backwardRegex=this.compileRegularExpression(this.reverseText(t))}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),a=s(143              ),n=s(554                 ),r=s(232                        ),l=s(131                             ),i=s(130       ),c=s(376                                                  ),h=s(558                           ),d=s(204                                            ),p=s(346                                 ),m=s(144                        ),u=s(559                                                            ),g=s(389                                                                  ),f=s(439                                                       ),y=s(440                                                         ),F=s(560                           ),C=s(139                                    ),E=s(204                                            ),N=s(173                        ),v=s(201                                      ),k=s(561                     ),S=s(80,1    ),w=s(279         ),b=s(1417                       );class I extends a.Component{constructor(e){super(e),this.fileInput=document.createElement("input"),this.files=[],this.firstUploadRow=null,this.handleFontListScroll=((e,t)=>{this.setState({shouldShowFooterBorder:e+t.trackHeight!==t.scrollHeight})}),this.handleFontListCanScrollChange=(e=>{this.setState({shouldShowFooterBorder:e})}),this.resourceId=(()=>"team"===this.props.resourceType?this.props.teamId:this.props.orgId),this.uniqueResourceId=(()=>`${this.props.resourceType}-${this.resourceId()}`),this.canAdmin=(()=>"team"===this.props.resourceType?N.canAdminTeam(this.props.teamId,this.props):N.canAdminOrg(this.props.orgId,this.props)),this.toggleApplyToAll=(()=>this.setState({applyToAll:!this.state.applyToAll})),this.skipCollision=(()=>{(this.state.applyToAll?this.props.sharedFonts.collisions:[this.props.sharedFonts.collisions[0]]).forEach(()=>{this.props.dispatch(r.sharedFonts.dismissFontCollision())}),this.setState({applyToAll:!1})}),this.replaceCollision=(()=>{(this.state.applyToAll?this.props.sharedFonts.collisions:[this.props.sharedFonts.collisions[0]]).forEach(e=>{this.props.dispatch(r.sharedFonts.uploadFonts({fonts:{[l.getFontUploadId()]:e.file},resourceType:this.props.resourceType,resourceId:this.resourceId(),overwrite:!0})),this.props.dispatch(r.sharedFonts.dismissFontCollision())}),this.setState({applyToAll:!1})}),this.reviewUploadErrors=(()=>{this.setState({shouldShowUploadErrors:!0})}),this.dismissUploadErrors=(()=>{this.props.dispatch(r.sharedFonts.clearFontUploadResults()),this.setState({shouldShowUploadErrors:!1})}),this.clearFontUploadResults=(()=>this.props.dispatch(r.sharedFonts.clearFontUploadResults())),this.onUploadConfirm=(()=>{const{uploadsRemaining:e}=this.props.sharedFonts;0===Object.keys(e).length&&this.clearFontUploadResults();const t={};for(const s of this.files)t[l.getFontUploadId()]=s;this.fileInput.value=null,this.props.dispatch(r.sharedFonts.uploadFonts({fonts:t,resourceType:this.props.resourceType,resourceId:this.resourceId(),overwrite:!1})),this.resetUpload()}),this.onUploadClick=(()=>{this.fileInput.click()}),this.getOrgFontsForTeam=(()=>{if("team"!==this.props.resourceType)return null;const e=this.getOrgForTeam();return e&&this.props.sharedFonts.fontsByResourceId[`org-${e.id}`]}),this.renderFonts=(()=>{const{fontsByResourceId:e}=this.props.sharedFonts;if(!e[this.uniqueResourceId()])return[];if("org"===this.props.resourceType)return this.renderFontsForResource(this.uniqueResourceId(),this.canAdmin());{const t=this.props.teams[this.resourceId()].org_id;return this.renderFontsForResource(this.uniqueResourceId(),this.canAdmin(),e[`org-${t}`])}}),this.getSortedFonts=(e=>{let t=[],s={};const o=this.props.sharedFonts.fontsByResourceId[e];if(!o)return{sortedFamilyNames:t,familyNameToSortedStyleNames:s};if(this.state.query){const e=new k.FuzzyStringMatcher(this.state.query),a=[];for(const n in o){const r=[];let l=e.matchAgainstText(n);for(const t in o[n]){const s=e.matchAgainstText(`${n} ${t}`);if(s){l||(l=new k.FuzzyStringMatch(s.result,s.score,n));const e=new k.FuzzyStringMatch(s.result,s.score,t);r.push(e)}}r.length>0?(l?a.push(l):t.push(n),s[n]=r.sort((e,t)=>t.score-e.score).map(e=>e.text)):l&&(a.push(l),s[n]=Object.keys(o[n]).sort())}t=[...a.sort((e,t)=>t.score-e.score).map(e=>e.text),...t]}else{t=Object.keys(o).sort();for(const e of t)s[e]=Object.keys(o[e]).sort()}return{sortedFamilyNames:t,familyNameToSortedStyleNames:s}}),this.renderFontsForResource=((e,t,s)=>{const a=this.props.sharedFonts.fontsByResourceId[e];if(!a)return[];const n=[],{sortedFamilyNames:r,familyNameToSortedStyleNames:l}=this.getSortedFonts(e);for(const i of r)for(const r of l[i]){const l=a[i][r],c=!!(s&&s[i]&&s[i][r]);n.push(o.createElement(T,{key:`${i}-${r}-${e}`,fontInfo:l,dispatch:this.props.dispatch,canCheck:t,orgById:this.props.orgById,teams:this.props.teams,shouldShowCheckbox:Object.keys(this.props.sharedFonts.fontsToDelete).length>0,isChecked:l.id in this.props.sharedFonts.fontsToDelete,handleToggleCheck:this.toggleCheckFont,isOverridden:c}))}return n}),this.updateUploadRef=(e=>this.firstUploadRow=e),this.renderUploadingFont=((e,t)=>{const s=this.props.sharedFonts.uploadsRemaining[e];return o.createElement(h.TableRow,{className:n.row,key:e},o.createElement("div",{className:n.actionColumn}),o.createElement("div",{className:n.uploadInProgress,ref:0===t?this.updateUploadRef:null},o.createElement(u.CenterTruncatedText,{text:s.file.name}),o.createElement("div",{className:n.uploadIndicator,style:{width:`${100*s.progress}%`}})),o.createElement("div",{className:n.actionColumn}))}),this.dismissWarning=(()=>{this.props.dispatch(r.sharedFonts.dismissFontWarning())}),this.showDeleteFontsModal=(()=>{this.setState({shouldShowDeleteModal:!0})}),this.renderUploadErrors=(()=>o.createElement("div",{className:n.container},o.createElement(c.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:n.scrollContainer},o.createElement(h.TableRow,{header:!0,className:n.headerRow},o.createElement(h.HeaderCell,{className:n.errorColumnFile},"File"),o.createElement(h.HeaderCell,{className:n.errorColumnMessage},"Error")),this.props.sharedFonts.unsuccessfulUploads.map(e=>o.createElement(h.TableRow,{className:n.row,key:e.filename},o.createElement("div",{className:n.errorColumnFile},o.createElement(u.CenterTruncatedText,{text:e.filename})),o.createElement("div",{className:n.errorColumnMessage},o.createElement("span",null,e.message))))),o.createElement("div",{className:n.errorActionContainer},o.createElement(d.ButtonSecondary,{className:n.errorAction,onClick:this.dismissUploadErrors},"Dismiss")))),this.resetUpload=(()=>{this.files=[],this.setState({shouldShowLicenseModal:!1,hasConfirmedLicense:!1})}),this.toggleConfirmLicense=(()=>{this.setState({hasConfirmedLicense:!this.state.hasConfirmedLicense})}),this.deleteCheckedFonts=(()=>{this.props.dispatch(r.sharedFonts.deleteFonts()),this.setState({shouldShowDeleteModal:!1})}),this.resetDelete=(()=>{this.setState({shouldShowDeleteModal:!1})}),this.toggleCheckAllFontIDs=(()=>{const e=this.props.sharedFonts.fontsByResourceId[this.uniqueResourceId()],{sortedFamilyNames:t,familyNameToSortedStyleNames:s}=this.getSortedFonts(this.uniqueResourceId()),o=[];for(const a of t)for(const t of s[a])o.push(e[a][t]);this.props.dispatch(r.sharedFonts.toggleFontsToDelete({fonts:o,checked:Object.keys(this.props.sharedFonts.fontsToDelete).length<o.length}))}),this.toggleCheckFont=(e=>{this.props.dispatch(r.sharedFonts.toggleFontsToDelete({fonts:[e]}))}),this.onSearchQueryChange=(e=>{this.setState({query:e})}),this.renderFooter=(()=>[o.createElement("div",{className:this.state.shouldShowFooterBorder?n.footerBorder:n.footerBorderInvisible,key:"footer-border"}),Object.keys(this.props.sharedFonts.fontsToDelete).length>0?this.renderDeleteFooter():this.renderUploadFooter()]),this.onViewOrgFontsClick=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:b.AppModal.ORG_DASHBOARD_MODAL})),this.props.dispatch(r.orgs.selectAdminView({view:"fonts"}))}),this.renderUploadFooter=(()=>{let e=o.createElement("div",null);if("team"===this.props.resourceType){const t=this.getOrgForTeam(),s=this.getOrgFontsForTeam();if(s&&Object.keys(s).length>0){let a=0;Object.keys(s).forEach(e=>{a+=Object.keys(s[e]).length}),e=o.createElement("div",null,o.createElement("div",{className:n.uploadFooterMessage},o.createElement("span",{onClick:this.onViewOrgFontsClick,className:n.blueLink},"View ",a," shared ",w.getPluralOrSingular(a,"font"))," available to this team"),o.createElement("div",{className:n.uploadFooterMessageOrg},"from ",t.name," Organization."))}}const t=this.canAdmin()?o.createElement(d.ButtonPrimary,{onClick:this.onUploadClick},"Upload Fonts"):null;return t||e?o.createElement("div",{className:n.footer,key:"shared-fonts-upload-footer"},e,t):null}),this.renderNullState=(()=>{let e=null,t=null;const s=this.getOrgFontsForTeam();let a=0;s&&Object.keys(s).forEach(e=>{a+=Object.keys(s[e]).length}),"team"===this.props.resourceType?this.canAdmin()?e="Upload fonts you own to share with your team.":(e="No fonts have been uploaded to this team.",t="Only team admins have permission to upload fonts."):this.canAdmin()?e="Upload fonts you own to share with your organization.":(e="No fonts have been uploaded to this organization.",t="Only organization admins have permission to upload fonts.");const r="team"===this.props.resourceType&&a>0,l=this.getOrgForTeam();return o.createElement("div",{className:n.nullContainer},o.createElement("div",{className:n.nullMessagesContainer},e&&o.createElement("div",{className:n.primaryNullMessage},e),t&&o.createElement("div",null,t),r&&o.createElement("div",{className:this.canAdmin()?n.orgNullMessageAdmin:n.orgNullMessage},o.createElement("span",{onClick:this.onViewOrgFontsClick,className:n.blueLink},"View ",a," Shared Fonts")," from ",l.name," Organization")),this.canAdmin()&&o.createElement(d.ButtonPrimary,{onClick:this.onUploadClick},"Upload Fonts"))}),this.fileInput.type="file",this.fileInput.multiple=!0,this.fileInput.accept="font/opentype,font/ttf,.otf,.ttf",this.fileInput.onchange=(e=>{this.files=e.target.files,this.setState({shouldShowLicenseModal:!0})}),this.state={applyToAll:!1,shouldShowUploadErrors:e.sharedFonts.unsuccessfulUploads.length>0,shouldShowLicenseModal:!1,shouldShowDeleteModal:!1,hasConfirmedLicense:!1,query:"",shouldShowFooterBorder:!1}}componentDidUpdate(e){Object.keys(this.props.sharedFonts.uploadsRemaining).length>0&&0===Object.keys(e.sharedFonts.uploadsRemaining).length&&this.firstUploadRow&&this.firstUploadRow.scrollIntoView({behavior:"smooth",block:"start"})}componentWillUnmount(){this.props.dispatch(r.sharedFonts.clearFontsToDelete());const{uploadsLaunched:e,uploadsRemaining:t}=this.props.sharedFonts;0!==e&&(Object.keys(t).length>0?this.props.dispatch(r.visualBell.enqueue({type:"shared-fonts",message:"Importing shared fonts",icon:C.VisualBellIcon.SPINNER,timeout:1/0})):this.clearFontUploadResults())}getOrgForTeam(){if(!this.props.teams[this.resourceId()])return null;const e=this.props.teams[this.resourceId()].org_id;return this.props.orgById[e]}renderLoading(){return o.createElement(h.LoadingRow,null)}renderUploadProgress(){const{uploadsLaunched:e,successfulUploads:t,unsuccessfulUploads:s}=this.props.sharedFonts;return 0===e?null:e-t.length-s.length>0?o.createElement("div",{className:n.progress},o.createElement("span",null,"Importing ",t.length+s.length+1,"/",e," font files...")):0===s.length?null:o.createElement("div",{className:n.progressFailure},o.createElement("span",null,"Import complete, with ",s.length," ",w.getPluralOrSingular(s.length,"error")),o.createElement("div",null,o.createElement(d.ButtonSecondary,{className:n.action,onClick:this.reviewUploadErrors},"Review ",w.getPluralOrSingular(s.length,"error")),o.createElement(d.ButtonSecondary,{className:n.action,onClick:this.clearFontUploadResults},"OK")))}renderWarning(){if(this.props.sharedFonts.collisions.length>0)return null;const e=this.props.sharedFonts.warnings[0];if(!e)return null;const t=e.collisions.filter(e=>e.teamId&&this.props.teams[e.teamId]).map(e=>this.props.teams[e.teamId]).map(e=>e.name);return t.length?o.createElement(p.Modal,{size:400,dispatch:this.props.dispatch,title:"Team Fonts will be Overridden"},o.createElement("div",{className:n.modalInfo},e.font.family," ",e.font.style," has already been added to ",w.joinWordsNaturally(t),". In new text objects, the font shared with the organization will be used instead of fonts uploaded to teams."),o.createElement("div",{className:n.modalInfo},"Organization Fonts take precedence over Fonts uploaded to individual Teams; any text objects created using this font will use the Organization Shared Font."),o.createElement("div",{className:n.modalInfo},"To use the Team version of the Font, you will need to remove the Font from the Organization."),o.createElement("div",{className:n.actions},o.createElement(d.ButtonPrimary,{onClick:this.dismissWarning},"Okay"))):null}renderCollision(){const e=this.props.sharedFonts.collisions[0];return e?o.createElement(p.Modal,{size:400,dispatch:this.props.dispatch,title:"You already have a font with this name."},o.createElement(c.ScrollContainer,{width:352,showScrollbar:!1,className:n.collisionScrollContainer},o.createElement(h.TableRow,{className:n.existingRow},o.createElement("div",{className:n.familyColumn},e.existing.family,", ",e.existing.style," ",e.existing.version&&`(v${e.existing.version})`),o.createElement("div",{className:n.dateColumn},e.existing.updatedAt&&S(e.existing.updatedAt).format("M/D/YYYY"))),o.createElement(h.TableRow,{className:n.collisionRow},o.createElement("div",{className:n.familyColumn},e.existing.family,", ",e.existing.style," ",e.uploaded.version&&`(v${i.parseVersion(e.uploaded.version)})`),o.createElement("div",{className:n.dateColumn}))),this.props.sharedFonts.collisions.length>1&&o.createElement("div",{className:n.applyAll},o.createElement(E.Checkbox,{checked:this.state.applyToAll,onClick:this.toggleApplyToAll}),o.createElement("span",{onClick:this.toggleApplyToAll},"Apply to All ",this.props.sharedFonts.collisions.length," Remaining")),o.createElement("div",{className:n.actions},o.createElement(d.ButtonSecondary,{onClick:this.skipCollision},"Skip"),o.createElement(d.ButtonPrimary,{onClick:this.replaceCollision},"Replace"))):null}renderUploadModal(){return o.createElement(p.Modal,{size:"small",dispatch:this.props.dispatch,title:`Uploading ${this.files.length} ${w.getPluralOrSingular(this.files.length,"Font")}`},o.createElement("label",{className:n.licenseModalInfo},o.createElement(E.Checkbox,{className:n.modalCheckbox,checked:this.state.hasConfirmedLicense,onClick:this.toggleConfirmLicense}),o.createElement("div",{className:n.modalCheckboxInfo},"I own the fonts I am uploading, or have the right to distribute copies to others and to authorize the use of copies with Figma.")),o.createElement("div",{className:n.licenseModalActionsContainer},o.createElement(d.ButtonPrimary,{className:n.action,onClick:this.onUploadConfirm,disabled:!this.state.hasConfirmedLicense},"Upload"),o.createElement(d.ButtonSecondary,{className:n.action,onClick:this.resetUpload},"Cancel")))}renderDeleteModal(){const e=Object.keys(this.props.sharedFonts.fontsToDelete).length;return o.createElement(p.Modal,{size:"small",dispatch:this.props.dispatch,title:"Confirm Delete"},o.createElement("div",{className:n.modalInfo},"Are you sure you want to delete ",e," ",w.getPluralOrSingular(e,"font"),"?"),o.createElement("div",{className:n.licenseModalActionsContainer},o.createElement(d.ButtonPrimary,{className:n.action,onClick:this.deleteCheckedFonts},"Confirm"),o.createElement(d.ButtonSecondary,{className:n.action,onClick:this.resetDelete},"Cancel")))}renderDeleteFooter(){const e=Object.keys(this.props.sharedFonts.fontsToDelete).length;return o.createElement("div",{className:n.footer,key:"shared-fonts-delete-footer"},o.createElement("span",null,e," ",w.getPluralOrSingular(e,"font")," selected"),o.createElement(d.ButtonSecondary,{className:n.deleteAction,onClick:this.showDeleteFontsModal},"Delete"))}render(){if(this.state.shouldShowUploadErrors)return this.renderUploadErrors();const{uploadsRemaining:e}=this.props.sharedFonts,t=this.renderFonts(),s=!I.fontLoadPromise&&0===t.length&&!this.state.query;return o.createElement("div",{className:n.container},o.createElement("div",{className:n.searchInputWrapper},o.createElement(O,{className:n.searchInput,query:this.state.query,onChange:this.onSearchQueryChange})),o.createElement("div",{className:s?n.fontsContainer:n.fontsContainerWithFooter},o.createElement(h.TableRow,{header:!0,className:n.headerRow},o.createElement(h.HeaderCell,{className:n.actionColumn},this.canAdmin()&&o.createElement(E.Checkbox,{checked:Object.keys(this.props.sharedFonts.fontsToDelete).length>0,onClick:this.toggleCheckAllFontIDs})),o.createElement(h.HeaderCell,{className:n.familyColumn},"Font"),"team"===this.props.resourceType&&this.state.query&&o.createElement(h.HeaderCell,{className:n.sourceColumn},"Source"),o.createElement(h.HeaderCell,{className:n.column},"Version"),o.createElement(h.HeaderCell,{className:n.column},"Sample"),o.createElement(h.HeaderCell,{className:n.actionColumn},this.canAdmin()&&o.createElement(g.IconButton,{recordingKey:a.joinKeys(this.props,"addButton"),svg:f,fallbackSvg:y,onClick:this.onUploadClick}))),s?this.renderNullState():[o.createElement(c.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:n.scrollContainer,onScroll:this.handleFontListScroll,onCanScrollChange:this.handleFontListCanScrollChange,key:"shared-fonts-scroll-container"},I.fontLoadPromise&&this.renderLoading(),Object.keys(e).sort().map(this.renderUploadingFont),t.length>0&&t,0===t.length&&this.state.query&&o.createElement("div",{className:n.noSearchResultsInfo},"No results for ",this.state.query)),I.fontLoadPromise?null:this.renderFooter()]),this.renderUploadProgress(),this.renderCollision(),this.renderWarning(),this.state.shouldShowLicenseModal&&this.renderUploadModal(),this.state.shouldShowDeleteModal&&this.renderDeleteModal())}}I.displayName="SharedFonts",I.fontLoadPromise=null,I.loadedFonts=!1,t.SharedFonts=I;class T extends o.PureComponent{constructor(){super(...arguments),this.handleCheck=(e=>{this.props.handleToggleCheck(this.props.fontInfo),e.stopPropagation()})}render(){const{family:e,style:t,version:s,sampleUrl:a}=this.props.fontInfo;return o.createElement(h.TableRow,{className:this.props.isOverridden?n.rowInactive:n.row,onClick:this.props.canCheck?this.handleCheck:null},o.createElement("div",{className:this.props.shouldShowCheckbox?n.actionColumn:n.actionColumnInactive},this.props.canCheck&&o.createElement(E.Checkbox,{checked:this.props.isChecked,onClick:this.handleCheck})),o.createElement("div",{className:n.familyColumn},o.createElement(u.CenterTruncatedText,{text:`${e} ${t}`})),o.createElement("div",{className:n.column},s||""),o.createElement("div",{className:n.column},o.createElement("img",{className:n.sample,src:a})),o.createElement("div",{className:n.actionColumn},this.props.isOverridden&&o.createElement("div",{"data-tooltip-text":"This font style was uploaded to your Organization. Any new text objects will use the Organization font."},o.createElement(m.Svg,{svg:F}))))}}class O extends o.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{const t=e.target;this.props.onChange(t.value)})}render(){return o.createElement(v.LazyInput,{className:this.props.className,placeholder:"Search",value:this.props.query,onChange:this.onChange})}}O.displayName="SharedFontsSearchInput",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=e(198         );function i(o,t){return n.Vector.rounded({x:o.width/2+(t.x-o.offsetX)*o.zoomScale,y:o.height/2+(t.y-o.offsetY)*o.zoomScale})}t.canvasPositionToViewport=i,t.viewportPositionToCanvas=function(o,t){return n.Vector.rounded({x:(t.x-o.width/2)/o.zoomScale+o.offsetX,y:(t.y-o.height/2)/o.zoomScale+o.offsetY})},t.canvasRectToViewport=function(o,t){const e=i(o,{x:t.x,y:t.y});return{x:e.x,y:e.y,width:t.width*o.zoomScale,height:t.height*o.zoomScale}},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.LRUCache=class{constructor(e){this.maxElements=e,this.size=0,this.nodeByKey=Object.create(null),this.head=null,this.tail=null}get length(){return this.size}get(e){const t=this.nodeByKey[e];if(t)return this.moveElemToHead(t),t.value}set(e,t){let s=this.nodeByKey[e];s?this.moveElemToHead(s):(s={key:e,value:t,prev:null,next:null},this.addElemAsHead(s),this.nodeByKey[e]=s,this.size++,this.size>this.maxElements&&this.delete(this.tail.key)),s.value=t}delete(e){const t=this.nodeByKey[e];t&&(delete this.nodeByKey[t.key],this.removeFromList(t),this.size--)}moveElemToHead(e){this.removeFromList(e),this.addElemAsHead(e)}removeFromList(e){const t=e.prev,s=e.next;t&&(t.next=s),s&&(s.prev=t),e==this.tail&&(this.tail=t),e==this.head&&(this.head=s),e.next=e.prev=null}addElemAsHead(e){this.head?(e.next=this.head,e.next.prev=e,this.head=e):this.head=this.tail=e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){e.exports={row:"object_row--row--2t1Gu",sectionHeader:"object_row--sectionHeader--2-0y8",frame:"object_row--frame--Q78_7",group:"object_row--group--2x3YP",symbol:"object_row--symbol--2ztsg",instance:"object_row--instance--31XIW",topLevel:"object_row--topLevel--1ThUW",layerIcon:"object_row--layerIcon--LXryZ",expanded:"object_row--expanded--21VO5",layerAbove:"object_row--layerAbove--tZgPY",fixed:"object_row--fixed--1laVu",disabled:"object_row--disabled--26pwr",selected:"object_row--selected--1aGIk",hovered:"object_row--hovered--3-taR",symbolChild:"object_row--symbolChild--Ljqrd",instanceChild:"object_row--instanceChild--2QEun",parentSelected:"object_row--parentSelected--2Xjxx",style:"object_row--style--3BsZw",indents:"object_row--indents--2XlJC",mask:"object_row--mask--LibtB",indent:"object_row--indent--2n1Cf",expandCaret:"object_row--expandCaret--3nMet object_row--indent--2n1Cf",expandCaretOpen:"object_row--expandCaretOpen--1JXmf object_row--expandCaret--3nMet object_row--indent--2n1Cf",customLayerIcon:"object_row--customLayerIcon--pV50f object_row--layerIcon--LXryZ",customMenuLayerIcon:"object_row--customMenuLayerIcon--EXOUU object_row--layerIcon--LXryZ",customComponentMenuLayerIcon:"object_row--customComponentMenuLayerIcon--38kY0 object_row--layerIcon--LXryZ",input:"object_row--input--1tzs2",rowText:"object_row--rowText--2tEqb ellipsis--ellipsis--1RWY6",rowActions:"object_row--rowActions--4AOul",hideEye:"object_row--hideEye--19Q5g",lockIcon:"object_row--lockIcon--cwjkx",visibleIcon:"object_row--visibleIcon--1gPvn",locked:"object_row--locked--1wJHI"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"g856d89dd",src:'<svg width="6" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M5 3L1 0v6l4-3z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gca30ab8b",src:'<svg width="24" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M13 0v16h-1V0h1zm11 17H12v-1h12v1z" fill-rule="evenodd" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"ga3a7bb35",src:'<svg width="24" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M13 0v8h-1V0h1zm11 17h-4v-1h4v1z" fill-rule="evenodd" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g73204aeb",src:'<svg width="24" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M13 0v32h-1V0h1z" fill-rule="evenodd" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g950a0a5c",src:'<svg width="24" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M13 0h-1v8h1V0zm-1 32h1v-8h-1v8z" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,d,e){t.exports={id:"g3d689847",src:'<svg width="24" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M13 10v22h-1V10h1zm-.496-1.207l.353.354 4 4-.707.707-3.646-3.647-3.647 3.647-.707-.707 4-4 .354-.354z" fill-rule="evenodd" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,d){t.exports={id:"ged20588d",src:'<svg width="24" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M12 32h1v-8h-1v8z" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g98320c2b",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 .5C2.962.5.5 2.962.5 6c0 3.038 2.462 5.5 5.5 5.5 3.038 0 5.5-2.462 5.5-5.5C11.5 2.962 9.038.5 6 .5zM4.86 1.646C5.224 1.55 5.606 1.5 6 1.5c2.485 0 4.5 2.015 4.5 4.5 0 2.485-2.015 4.5-4.5 4.5-.394 0-.776-.05-1.14-.146C6.162 9.35 7 7.772 7 6c0-1.772-.838-3.349-2.14-4.354z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"gc5badfd5",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M16 2v14H2V2h14zm0 15h1V1H1v16h15z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"gb02966ff",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M17 17V6h-5V1H1v11h5v5h11z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g896ab984",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M6 6v6h6V6H6zm5-4v9H2V2h9zm0 10h1V1H1v11h10zm5-5v9H7V7h9zm0 10h1V6H6v11h10z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"ge44255a9",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M17 17V6h-5v6H6v5h11zM11 2v9H2V2h9zm0 10h1V1H1v11h10z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g8ff52026",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M12 1H1v11h5V6h6V1zm5 16V6h-5v6H6v5h11z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,l,z){c.exports={id:"g051e71ac",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3.315 6.336l-.479-.143-.15.503.479.143.15-.503zm.3-1.006l-.479-.143-.15.503.479.143.15-.503zm-.328-.646l.479.143.15-.503-.479-.143-.15.503zm.93-1.365l-.479-.143-.15.503.479.143.15-.503zm5.566 9.393l.479.143.15-.503-.479-.143-.15.503zm.93-1.365l-.479-.143-.15.503.479.143.15-.503zm-.328-.646l.479.143.15-.503-.479-.143-.15.503zm.3-1.006l.479.143.15-.503-.479-.143-.15.503zM4.5 3.25c.69 0 1.25-.56 1.25-1.25 0-.69-.56-1.25-1.25-1.25-.69 0-1.25.56-1.25 1.25 0 .69.56 1.25 1.25 1.25zm0-2c.414 0 .75.336.75.75 0 .414-.336.75-.75.75-.414 0-.75-.336-.75-.75 0-.414.336-.75.75-.75zm5 11.5c-.69 0-1.25.56-1.25 1.25 0 .69.56 1.25 1.25 1.25.69 0 1.25-.56 1.25-1.25 0-.69-.56-1.25-1.25-1.25zm0 2c-.414 0-.75-.336-.75-.75 0-.414.336-.75.75-.75.414 0 .75.336.75.75 0 .414-.336.75-.75.75zM12.5 3c-.828 0-1.5.672-1.5 1.5 0 .455.206.857.526 1.132-.011-.009-.025-.013-.036-.023-.248.556-.568 1.231-.93 1.904C9.068 10.285 8.223 10.5 8 10.5c-.093 0-.266 0-.387-.546C7.5 9.445 7.5 8.711 7.5 8c0-.764 0-1.555-.137-2.171C7.119 4.731 6.487 4.5 6 4.5c-.934 0-1.935.93-3.049 2.823l-.416-.125-.15.503.301.09c-.042.076-.083.143-.126.222-.046.085-.083.165-.127.25l-.198-.059-.15.503.106.032c-.081.163-.162.321-.236.477l-.02-.006-.041.139c-.106.225-.216.456-.305.655.016.001.03.009.045.011C1.588 10.009 1.546 10 1.5 10c-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.455-.207-.857-.526-1.132.011.009.026.014.036.023.248-.556.568-1.231.93-1.904C4.932 5.715 5.777 5.5 6 5.5c.093 0 .266 0 .387.546C6.5 6.555 6.5 7.29 6.5 8c0 .764 0 1.555.137 2.171C6.881 11.269 7.513 11.5 8 11.5c.93 0 1.926-.921 3.034-2.796l.432.129.15-.503-.316-.095c.047-.085.093-.16.141-.249.041-.076.074-.147.114-.223l.212.063.15-.503-.12-.036c.081-.162.163-.321.237-.477l.033.01.068-.226c.096-.205.197-.417.279-.599-.016-.001-.029-.009-.045-.011.043.007.086.016.131.016.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5zm-10 8.5c0 .551-.449 1-1 1-.551 0-1-.449-1-1 0-.551.449-1 1-1 .551 0 1 .449 1 1zm10-6c-.551 0-1-.449-1-1 0-.551.449-1 1-1 .551 0 1 .449 1 1 0 .551-.449 1-1 1z" fill-rule="evenodd"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,s,e){t.exports={id:"g2115ce62",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M8.96 4.032l1.058 3.282.224.695.73-.002L14.42 8l-2.795 2.02-.591.428.227.694 1.073 3.277-2.786-2.033-.59-.43-.589.43-2.786 2.033 1.073-3.277.227-.694-.591-.427L3.499 8l3.448.007.73.002.224-.695L8.96 4.032zM6.95 7.007l-4.838-.01L.4 6.993l1.387 1.003 3.92 2.835-1.505 4.598-.533 1.626 1.383-1.009 3.908-2.852 3.907 2.852 1.383 1.01-.533-1.627-1.505-4.598 3.92-2.835 1.387-1.003-1.712.004-4.837.01-1.485-4.604L8.96.774l-.526 1.629L6.95 7.007z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g636795f0",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1.644 15.354l-.354.353.707.707.354-.353-.707-.707zM16.35 2.06l.353-.354L15.997 1l-.354.354.708.707zm-14 14l14-14-.708-.707-14 14 .708.707z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g63de4e16",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 17c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm0-1c-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g54949cc7",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M16.29 16H1.71L9 3.04 16.29 16zM9.574 2.02L9 1l-.574 1.02L.562 16 0 17H18l-.563-1L9.575 2.02z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,t,e){c.exports={id:"gac584ee0",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13 4H5c-1.105 0-2 .895-2 2v6c0 1.105.895 2 2 2h8c1.105 0 2-.895 2-2V6c0-1.105-.895-2-2-2zm1 7c0 1.105-.895 2-2 2H6c-1.105 0-2-.895-2-2V7c0-1.105.895-2 2-2h6c1.105 0 2 .895 2 2v4z" fill-rule="evenodd"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,s,e){t.exports={id:"gc7f0e87f",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h10v3H9V1H5.5v8H7v1H3V9h1.5V1H1v2H0V0z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,t,v){h.exports={id:"gfec344c3",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M7 0H3v1h4V0zM1 1V0H0v1h1zM0 3h1v4H0V3zm9 0h1v4H9V3zm1-2H9V0h1v1zM3 9h4v1H3V9zM1 9H0v1h1V9zm8 1V9h1v1H9z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,t,V){h.exports={id:"g1711b6a2",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M6 0H4v1h2V0zm2.5 9H9v-.5h1V10H8.5V9zM1 4v2H0V4h1zm8-2.5V1h-.5V0H10v1.5H9zM9 4v2h1V4H9zM1 1.5V1h.5V0H0v1.5h1zm-1 7h1V9h.5v1H0V8.5zM6 9H4v1h2V9z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,s,o){t.exports={id:"g4aadc98a",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M1 10H0V0h1v10zm8 0h1V0H9v10zM5 .293L2.646 2.646l.708.708L4.5 2.207v5.586L3.354 6.646l-.708.708L5 9.707l2.354-2.353-.708-.708L5.5 7.793V2.207l1.146 1.147.708-.708L5 .293z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"gf2c8a448",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 1V0h10v1H0zm10 8v1H0V9h10zM7.354 2.646l-.708.708L7.793 4.5H2.207l1.147-1.146-.708-.708L.293 5l2.353 2.354.708-.708L2.207 5.5h5.586L6.646 6.646l.708.708L9.707 5 7.354 2.646z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,L,l){t.exports={id:"g62afe702",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 .293L3.647 2.647l.707.707L5.5 2.207V5.5H2.207l1.147-1.146-.707-.707L.293 6l2.354 2.354.707-.707L2.207 6.5H5.5v3.293L4.354 8.647l-.707.707L6 11.707l2.354-2.353-.707-.707L6.5 9.793V6.5h3.293L8.647 7.647l.707.707L11.707 6 9.354 3.647l-.707.707L9.793 5.5H6.5V2.207l1.147 1.147.707-.707L6 .293z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,h){t.exports={id:"g56e780fc",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M4 .5V3h4V.5h1V3h2.5v1H9v4h2.5v1H9v2.5H8V9H4v2.5H3V9H.5V8H3V4H.5V3H3V.5h1zM8 8V4H4v4h4z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g7a628fe6",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M3.743 2.748L6 .5l2.257 2.248L6 4.996 3.743 2.748zm-.995 5.51L.5 6l2.248-2.257L4.996 6 2.748 8.257zm5.51.994L6 11.5 3.743 9.252 6 7.004l2.257 2.248zM11.5 6L9.252 3.743 7.004 6l2.248 2.257L11.5 6z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gcde01737",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M.828 7L7 .828 13.172 7 7 13.172.828 7zM7 11.828L11.828 7 7 2.172 2.172 7 7 11.828z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){e.exports={id:"ge5b98e5e",src:'<svg width="12" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h11v3h-1V1H6v8h1.5v1h-4V9H5V1H1v2H0V0z" fill-rule="evenodd"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:"g5af4d5f0",src:'<svg width="12" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M1 1v9H0V0h1v1zm9 9h1V0h-1v10zM5.854.646L5.5.293l-.354.353-2 2 .708.708L5 2.207v5.586L3.854 6.646l-.708.708 2 2 .354.353.354-.353 2-2-.708-.708L6 7.793V2.207l1.146 1.147.708-.708-2-2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g920e0c16",src:'<svg width="10" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M9 1H0V0h10v1H9zm0 9h1v1H0v-1h9zm.354-4.854l-2-2-.708.708L7.793 5H2.207l1.147-1.146-.708-.708-2 2-.353.354.353.354 2 2 .708-.708L2.207 6h5.586L6.646 7.146l.708.708 2-2 .353-.354-.353-.354z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,l){t.exports={id:"ga25a7914",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M6.854 1.147L6.5.793l-.353.354-1.5 1.5.707.707L6 2.707V6H2.707l.647-.646-.707-.707-1.5 1.5-.354.353.354.354 1.5 1.5.707-.707L2.707 7H6v3.293l-.646-.646-.707.707 1.5 1.5.353.353.354-.353 1.5-1.5-.707-.707-.647.646V7h3.293l-.646.647.707.707 1.5-1.5.353-.354-.353-.353-1.5-1.5-.707.707.646.646H7V2.707l.647.647.707-.707-1.5-1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gb6ea86d0",src:'<svg width="7" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1zm4-1.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g8e8339f4",src:'<svg width="8" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M5 2.5V4H2V2.5C2 1.672 2.672 1 3.5 1 4.328 1 5 1.672 5 2.5zM1 4V2.5C1 1.12 2.12 0 3.5 0 4.88 0 6 1.12 6 2.5V4h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"gf4853f86",src:'<svg width="7" height="7" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.5C2 2.672 2.672 2 3.5 2 4.328 2 5 2.672 5 3.5 5 4.328 4.328 5 3.5 5 2.672 5 2 4.328 2 3.5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g6fa64b7d",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M10 6v1h.5c.276 0 .5.224.5.5v5c0 .276-.224.5-.5.5h-6c-.276 0-.5-.224-.5-.5v-5c0-.276.224-.5.5-.5H9V4.5C9 3.12 10.12 2 11.5 2 12.88 2 14 3.12 14 4.5V6h-1V4.5c0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5V6z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(38,1       ),n=t(143              ),r=t(199      ),a=t(1426                               ),p=t(342                                        ),l=t(466                                          ),c=t(564            ),h=t(144                        ),u=t(565               ),g=t(129                               ),m=t(391                                                   ),d=t(388                                                    ),_=t(370              ),f=t(385                                        ),b=t(556                                       ),E=t(566                                        ),v=t(567                                                       ),R=t(568                                                               ),D=t(569                                                      ),k=t(570                                                              ),S=t(571                                                          ),y=t(572                                                                  );s.ROW_HEIGHT=_.pxToInt(f.objectRowHeight),s.SECTION_ROW_HEIGHT=24;class C extends n.PureComponent{render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:s.SECTION_ROW_HEIGHT},t=`${u.row} ${u.sectionHeader}`;return this.props.isParentSelected&&(t+=" "+u.parentSelected),this.props.isDescendantOfSymbol&&(t+=" "+u.symbolChild),this.props.isDescendantOfInstance&&(t+=" "+u.instanceChild),o.createElement("div",{className:t,style:e},o.createElement(N,{level:this.props.level,dispatch:this.props.dispatch}),this.props.sectionType===g.ScrollBehavior.FIXED?"Fixed":"Scrolls")}}C.displayName="SectionRow",s.SectionRow=C;class w extends n.PureComponent{constructor(e){super(e),this.onDoubleClickName=n.mouseEvent(this,"dblclick",e=>{this.props.startRenaming(this.props.guid)}),this.inputRef=(e=>{e&&(this.input=i.findDOMNode(e),this.input.select())}),this.onInputChange=n.changeEvent(this,"change",e=>{this.setState({renamingValue:e.currentTarget.value})}),this.onKeyDown=n.keyboardEvent(this,"keydown",e=>{if(e.keyCode===r.Key.ESCAPE)this.props.stopRenaming(!1);else if(e.keyCode===r.Key.ENTER)this.props.stopRenaming(!0,this.input.value);else{if(e.keyCode!==r.Key.TAB)return p.forwardInputKeyToFullscreenIfNecessary(e,p.ForwardUndo.NO),n.SKIP_RECORDING;e.preventDefault(),this.props.stopRenaming(!0,this.input.value),e.shiftKey?this.props.prevNodeGuid&&this.props.startRenaming(this.props.prevNodeGuid):this.props.nextNodeGuid&&this.props.startRenaming(this.props.nextNodeGuid)}}),this.onBlur=n.focusEvent(this,"blur",e=>{this.props.stopRenaming(!0,this.input.value)}),this.onContextMenu=(e=>{this.props.onContextMenu&&this.props.onContextMenu(this.props.guid,e)}),this.onMouseEnter=(e=>{this.props.onMouseEnter&&this.props.onMouseEnter(this.props.guid,e)}),this.onLockMouseDown=(e=>{this.props.lockMouseDown&&this.props.lockMouseDown(this.props.guid,e)}),this.onVisibleMouseDown=(e=>{this.props.visibleMouseDown&&this.props.visibleMouseDown(this.props.guid,e)}),this.onDragStart=(e=>{e.dataTransfer.effectAllowed="none",null!=this.props.onDragStartCallback&&this.props.onDragStartCallback(this.props.guid,e)}),this.onDragOver=(e=>{null!=this.props.onDragOverCallback&&this.props.onDragOverCallback(this.props.guid,e)}),this.onDragDrop=(e=>{null!=this.props.onDragDropCallback&&this.props.onDragDropCallback(this.props.guid,e)}),this.onDragEnter=(e=>{null!=this.props.onDragEnterCallback&&this.props.onDragEnterCallback(this.props.guid,e)}),this.onDragLeave=(e=>{null!=this.props.onDragLeaveCallback&&this.props.onDragLeaveCallback(this.props.guid,e)}),this.state={renamingValue:e.isRenaming?e.name:null}}UNSAFE_componentWillReceiveProps(e){!this.props.isRenaming&&e.isRenaming&&this.setState({renamingValue:e.name})}getName(){const e=this.props.name.replace(/\n/," ");if(this.props.shouldShowGuids){const s=a.fullscreen.sendMessage("getOverridePathsForNodes",{nodeIds:[this.props.guid]}).args;return`${e} (${this.props.guid}): [${s[this.props.guid]}]`}return e}render(){let e={transform:`translate3d(0px, ${this.props.top}px, 0)`,width:this.props.width,height:s.ROW_HEIGHT};const t=this.props.fixed&&0!==this.props.width;t&&(e.top=this.props.stickyOffset);const i={row:!0,topLevel:0===this.props.level,frame:"FRAME"===this.props.nodeType&&!this.props.resizeToFit,group:"GROUP"===this.props.nodeType||"FRAME"===this.props.nodeType&&this.props.resizeToFit,symbol:"SYMBOL"===this.props.nodeType,instance:"INSTANCE"===this.props.nodeType,symbolChild:this.props.isDescendantOfSymbol,instanceChild:this.props.isDescendantOfInstance,mask:this.props.mask,fixed:t,layerAbove:this.props.layerAbove,hovered:this.props.isHovered,selected:this.props.isSelected,parentSelected:this.props.isAncestorSelected,disabled:!this.props.visible||this.props.isAncestorHidden,locked:this.props.locked||this.props.isAncestorLocked,expanded:this.props.hasChildren&&this.props.isExpanded};let r="";for(let s in i)i[s]&&u[s]&&(r+=` ${u[s]}`);return o.createElement("div",{className:r,style:e,onContextMenu:this.onContextMenu,onMouseEnter:this.onMouseEnter,draggable:!1,onDragOver:this.onDragOver,onDrop:this.onDragDrop,onDragStart:this.onDragStart,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave},o.createElement(N,{guid:this.props.guid,mask:this.props.mask,level:this.props.level,hasChildren:this.props.hasChildren,isExpanded:this.props.isExpanded,isMaskedAtLevels:this.props.isMaskedAtLevels,isLastMaskedAtLevels:this.props.isLastMaskedAtLevels,dispatch:this.props.dispatch,expandMouseDown:this.props.expandMouseDown,currentPage:this.props.currentPage,recordingKey:n.joinKeys(this.props,"indents")}),o.createElement(M,{guid:this.props.guid,scrollDirection:this.props.scrollDirection,type:this.props.nodeType,booleanOperation:this.props.booleanOperation,resizeToFit:this.props.resizeToFit,cornerRadius:this.props.cornerRadius,mask:this.props.mask,objectsPanelThumbnailId:this.props.objectsPanelThumbnailId}),this.props.isRenaming&&o.createElement(m.TextInput,{className:u.input,ref:this.inputRef,value:this.state.renamingValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!this.props.isRenaming&&o.createElement("span",{className:u.rowText,onDoubleClick:this.onDoubleClickName},this.getName()),!this.props.isRenaming&&!this.props.readonly&&o.createElement("span",{className:u.rowActions},o.createElement(O,{recordingKey:n.joinKeys(this.props,"lockIcon"),locked:this.props.locked,isAncestorLocked:this.props.isAncestorLocked,onMouseDown:this.onLockMouseDown}),o.createElement(j,{recordingKey:n.joinKeys(this.props,"visibleIcon"),visible:this.props.visible,isAncestorHidden:this.props.isAncestorHidden,onMouseDown:this.onVisibleMouseDown})))}}w.displayName="ObjectRow",s.ObjectRow=w;class N extends o.PureComponent{constructor(){super(...arguments),this.expandMouseDown=(e=>{this.props.expandMouseDown(this.props.guid,e)})}renderNodeIndents(){const e=[];for(let s=0;s<this.props.level+1;s++){const t=`[${s}]`,i=-1!==this.props.isLastMaskedAtLevels.indexOf(t),r=-1!==this.props.isMaskedAtLevels.indexOf(t),a=s===this.props.level&&this.props.mask,p=s===this.props.level&&this.props.hasChildren;a||r||i?i?e.push(o.createElement(h.Svg,{key:s,svg:p?y:S,className:u.mask})):r?e.push(o.createElement(h.Svg,{key:s,svg:p?k:D,className:u.mask})):a&&e.push(o.createElement(h.Svg,{key:s,svg:p?R:v,className:u.mask})):e.push(o.createElement("span",{key:s,className:u.indent})),p&&e.push(o.createElement(h.Svg,{key:"expand-caret",className:this.props.isExpanded?u.expandCaretOpen:u.expandCaret,svg:this.props.isExpanded?b:E,onMouseDown:this.expandMouseDown,recordingKey:n.joinKeys(this.props,"expandCaret")}))}return e}render(){let e;if(this.props.guid)e=this.renderNodeIndents();else{e=[];for(let s=0;s<this.props.level+1;s++)e.push(o.createElement("span",{key:s,className:u.indent}))}return o.createElement("span",{className:u.indents},e)}}N.displayName="Indents";const T=new c.LRUCache(750);function I(e,s){const t=T.get(e);return t&&t.thumbnailId===s||T.set(e,{thumbnailId:s,svg:l.requestObjectsPanelIcon(e)}),T.get(e).svg}s.iconForNode=I;class M extends o.PureComponent{constructor(){super(...arguments),this.state={thumbnailSrc:""},this.onDoubleClick=(()=>{a.fullscreen.panToNode(this.props.guid)})}componentDidMount(){this.updateThumbnailSrc(this.props)}UNSAFE_componentWillReceiveProps(e){this.props.guid===e.guid&&this.props.objectsPanelThumbnailId===e.objectsPanelThumbnailId||this.updateThumbnailSrc(e)}updateThumbnailSrc(e){const s=I(e.guid,e.objectsPanelThumbnailId);this.setState({thumbnailSrc:s})}render(){let e,s,i=u.layerIcon;return this.state.thumbnailSrc&&(i=u.customLayerIcon),this.props.isMenuIcon&&(i=this.props.isMenuIconPurple?u.customComponentMenuLayerIcon:u.customMenuLayerIcon),this.props.mask?e=t(573                                                              ):this.state.thumbnailSrc?e=h.rawSvgSrc(this.state.thumbnailSrc):(e=function(e){const s=t(574                                           );switch(e.type){case"BOOLEAN_OPERATION":switch(e.booleanOperation){case"UNION":return t(575                                                );case"INTERSECT":return t(576                                                    );case"SUBTRACT":return t(577                                                   );case"XOR":return t(578                                              )}return s;case"VECTOR":return t(579                                                      );case"STAR":return t(580                                           );case"LINE":return t(581                                           );case"ELLIPSE":return t(582                                              );case"RECTANGLE":return t(574                                           );case"REGULAR_POLYGON":return t(583                                              );case"ROUNDED_RECTANGLE":return 0===e.cornerRadius?s:t(584                                                      );case"TEXT":return t(585                                                    );case"SLICE":return t(586                                                     );case"GROUP":case"FRAME":return e.resizeToFit?t(587                                                     ):"VERTICAL"===e.scrollDirection?t(588                                                                         ):"HORIZONTAL"===e.scrollDirection?t(589                                                                           ):"BOTH"===e.scrollDirection?t(590                                                                     ):t(591                                                     );case"SYMBOL":return t(592                                                      );case"INSTANCE":return t(593                                                        )}return s}(this.props),s=function(e){switch(e.type){case"TEXT":return t(594                                                      );case"FRAME":if("VERTICAL"===e.scrollDirection)return t(595                                                                           );if("HORIZONTAL"===e.scrollDirection)return t(596                                                                             );if("BOTH"===e.scrollDirection)return t(597                                                                       )}return null}(this.props)),o.createElement(d.SvgWithFallback,{className:i,svg:e,fallbackSvg:s,onDoubleClick:this.onDoubleClick})}}M.displayName="LayerIcon",s.LayerIcon=M;class O extends n.PureComponent{constructor(){super(...arguments),this.stopPropagation=(e=>e.stopPropagation()),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e,s;return this.props.locked?(e=t(598                                                    ),s=t(599                                                      )):e=this.props.isAncestorLocked?t(600                                  ):t(601                                                      ),o.createElement(d.SvgWithFallback,{className:u.lockIcon,svg:e,fallbackSvg:s,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation})}}O.displayName="LockIcon";class j extends n.PureComponent{constructor(){super(...arguments),this.stopPropagation=(e=>e.stopPropagation()),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown(e)})}render(){let e;return e=this.props.isAncestorHidden&&this.props.visible?t(600                                  ):this.props.visible?t(536                                                          ):t(537                                                         ),o.createElement(h.Svg,{className:u.visibleIcon,svg:e,onMouseDown:this.onMouseDown,onDoubleClick:this.stopPropagation})}}j.displayName="VisibleIcon",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(143              ),o=n(688              ),i=n(602                      ),r=n(689                                                             ),c=n(129                               ),d=n(286                                              );function l(e){return r.isNodeTypeInFrame(e.type)&&!e.resizeToFit&&!e.frameMaskDisabled}function a(e){for(let t=e.length-1;t>=0;t--){const n=e[t];if("object"===n.rowType)return n}}function p(e,t,n,o){const{indentLevel:i,opts:r,pathFromRoot:c}=n,d={nodeGuid:t[o],indentLevel:i+1,opts:{isDescendantOfSymbol:"SYMBOL"===e.type||r.isDescendantOfSymbol,isDescendantOfInstance:"INSTANCE"===e.type||r.isDescendantOfInstance}};return s.recordingOrPlaybackIsEnabled()&&(d.pathFromRoot=[...c,o]),d}function f(e,t,n,s,o){const r=`${t}.${e.numSections}`,c={rowType:"section",top:e.top,level:n,sectionType:t,sectionId:r,isDescendantOfSymbol:s,isDescendantOfInstance:o};return e.allRowProps.push(c),e.top+=i.SECTION_ROW_HEIGHT,e.numSections++,c}function h(e,t){const{nodeGuid:n,indentLevel:s,opts:r,pathFromRoot:d}=t,l=e.sceneGraph.get(n);if(!l)return;if(l.sharedSymbolReference)return;l.mask&&e.maskGuids.push(l.guid);let u=null;if(e.allRowProps.length){const t=a(e.allRowProps);t.nextNodeGuid=l.guid,u=t.guid}const g={rowType:"object",guid:l.guid,isExpanded:l.isExpanded,isTemporarilyExpanded:l.isTemporarilyExpanded,hasChildren:l.reversedChildren.length>0,top:e.top,level:s,prevNodeGuid:u,nextNodeGuid:null,isDescendantOfSymbol:r.isDescendantOfSymbol,isDescendantOfInstance:r.isDescendantOfInstance};d&&(g.recordingKey=`objectsPanel.row.${d.join(".")}`),e.allRowProps.push(g),e.objectRowByGuid[l.guid]=g,e.topByGuid[n]=e.top,e.top+=i.ROW_HEIGHT,(l.isExpanded||l.isTemporarilyExpanded)&&l.reversedChildren.length>0&&(o.fixedChildrenCount(l,e.sceneGraph)>0?function(e,t,n){const s=o.fixedChildrenCount(t,e.sceneGraph),i=t.reversedChildren,r=e.top,d="SYMBOL"===t.type||n.opts.isDescendantOfSymbol,l="INSTANCE"===t.type||n.opts.isDescendantOfInstance,a=f(e,c.ScrollBehavior.FIXED,n.indentLevel+1,d,l);for(let o=0;o<s;o++)h(e,p(t,i,n,o));const u=e.top,g=f(e,c.ScrollBehavior.SCROLLS,n.indentLevel+1,d,l);for(let o=s;o<i.length;o++)h(e,p(t,i,n,o));const y=e.top;e.sectionById[a.sectionId]={parentGuid:t.guid,top:r,height:u-r,type:a.sectionType},e.sectionById[g.sectionId]={parentGuid:t.guid,top:u,height:y-u,type:g.sectionType}}(e,l,t):function(e,t,n){const s=t.reversedChildren;for(let o=0;o<s.length;o++)h(e,p(t,s,n,o))}(e,l,t))}t.NodeInfoCache=class{constructor(e,t){this.sceneGraph=e,this.sceneGraphSelection=t,this.nodes={},this.ancestorInfos={},this.maskInfos={}}getNode(e){return this.nodes[e]||(this.nodes[e]=this.sceneGraph.get(e))}getAncestorInfo(e){let t=this.ancestorInfos[e];if(t)return t;let n=!1,s=!1,o=!1;if(e){const t=this.getNode(e);if(t){const i=this.getAncestorInfo(t.parent);s=i.isAncestorHidden||!t.visible,o=i.isAncestorLocked||t.locked,n=i.isAncestorSelected||d.isDirectlySelected(this.sceneGraphSelection,e)}}return t={isAncestorLocked:o,isAncestorHidden:s,isAncestorSelected:n},this.ancestorInfos[e]=t,t}getMaskInfo(e){const t=this.maskInfos[e];if(t)return t;const n=e&&this.getNode(e);if(n)if("CANVAS"===n.type)this.maskInfos[e]={level:0,isMaskedAtLevels:"",isLastMaskedAtLevels:""};else{const e=n.parent,t=this.getMaskInfo(e),s=t.level,i=t.isMaskedAtLevels,r=t.isLastMaskedAtLevels,c=this.getNode(e);if(c){const e=o.fixedChildrenCount(c,this.sceneGraph),t=c.reversedChildren;let n=!1,d=!1;for(let o=0;o<t.length;o++){const c=t[t.length-o-1],a=this.getNode(c);if(!a)continue;const p=a.mask,f=n&&(p||l(a)||t.length-o===e);f&&(n=!1),p&&(n=a.visible),f&&!d&&(this.maskInfos[t[t.length-o]].isLastMaskedAtLevels+=`[${s}]`),this.maskInfos[c]={level:s+1,isMaskedAtLevels:i+(n&&!p?`[${s}]`:""),isLastMaskedAtLevels:r},d=p}n&&!d&&(this.maskInfos[t[0]].isLastMaskedAtLevels+=`[${s}]`)}}return this.maskInfos[e]}},t.buildAllRowPropsAndHeightInfo=function(e,t){const n={allRowProps:[],numSections:0,top:0,topByGuid:Object.create(null),objectRowByGuid:Object.create(null),sectionById:Object.create(null),sceneGraph:e,maskGuids:[]};if(function(e,t){if(!t)return;const n=t.reversedChildren;if(n&&n.length){const t={isAncestorHidden:!1,isAncestorLocked:!1,isDescendantOfSymbol:!1,isDescendantOfInstance:!1};for(let o=0;o<n.length;o++){const i={nodeGuid:n[o],indentLevel:0,opts:t};s.recordingOrPlaybackIsEnabled()&&(i.pathFromRoot=[o]),h(e,i)}}}(n,n.sceneGraph.get(t)),n.allRowProps.length>1){const e=function(e){for(let t=0;t<e.length;t++){const n=e[t];if("object"===n.rowType)return n}}(n.allRowProps),t=a(n.allRowProps);e.prevNodeGuid=t.guid,t.nextNodeGuid=e.guid}return{rowProps:n.allRowProps,topByGuid:n.topByGuid,sectionById:n.sectionById,totalHeight:n.top}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(129        )),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var o=this&&this.__awaiter||function(e,t,n,o){return new(n||(n=Promise))(function(r,i){function u(e){try{c(o.next(e))}catch(t){i(t)}}function a(e){try{c(o.throw(e))}catch(t){i(t)}}function c(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(u,a)}c((o=o.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=n(176              ),i=n(0                    ),u=n(335               ),a=n(140           ),c=i.default().user_data&&i.default().user_data.id;function p(e){return o(this,void 0,void 0,function*(){const t=a.mac||a.windows;return!r.desktopApp&&i.default().feature_flags.open_links_desktop_app&&t?u.makeLocalServerRequest(44950,44960,`/figma${e}`).then(e=>e.data):Promise.reject(null)})}t.canOpenUrlInDesktopApp=function(e){return o(this,void 0,void 0,function*(){try{const n=yield p(`/desktop/can-open-url?userID=${c}&url=${e}`);if("boolean"==typeof n.canOpen)return n.canOpen}catch(t){}return!1})},t.openUrlInDesktopApp=function(e){return o(this,void 0,void 0,function*(){try{const n=yield p(`/desktop/open-url?userID=${c}&url=${encodeURIComponent(e)}`);if("boolean"==typeof n.opened)return n.opened}catch(t){}return!1})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,t){n.exports={container:"open_desktop_app_modal--container--2FYIu",inputContainer:"open_desktop_app_modal--inputContainer--1rsj4"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(34,1   ),o=n(370              ),s=n(176              ),i=n(605                     ),p=n(219          ),l=n(174          ),c=n(198         ),r=n(232                        ),d=n(214                                                    ),k=n(204                                            ),h=n(385                                        ),_=n(606                           ),u=o.pxToInt(h.openDesktopModal);function m(){return l.localStorageOrNull?l.localStorageOrNull[t.PREFERENCE_KEY]:void 0}function f(e){l.localStorageOrNull&&(l.localStorageOrNull[t.PREFERENCE_KEY]=e)}t.PREFERENCE_KEY="autoOpenInDesktopApp";class w extends a.PureComponent{constructor(e){super(e),this.initialPosition=new c.Vector(window.innerWidth/2-u/2,window.innerHeight-150),this.onClose=(()=>{this.props.dispatch(r.fullscreen.hideOpenDesktopAppModal()),f("never"),p.segment.track("desktop_links",{action:"notification_dismissed"})}),this.onClickOpenInApp=(()=>{this.props.dispatch(r.fullscreen.hideOpenDesktopAppModal()),f(this.state.alwaysChecked?"always":"never"),i.openUrlInDesktopApp(location.href).then(e=>{e?p.segment.track("desktop_links",{action:"opened_in_app",source:"notification"}):p.segment.track("desktop_links",{action:"open_in_app_rejected",source:"notification"})}).catch(()=>{p.segment.track("desktop_links",{action:"open_in_app_failed",source:"notification"})}),p.segment.track("desktop_links",{action:this.state.alwaysChecked?"notification_set_and_open_in_app":"notification_open_once_in_app"})}),this.onClickAlwaysOpenDesktopApp=(()=>{this.setState({alwaysChecked:!this.state.alwaysChecked})}),this.state={alwaysChecked:"never"!==m()}}static shouldShowOnce(){return s.canAutoOpenInDesktopApp()&&void 0===m()}static shouldAutoOpen(){return s.canAutoOpenInDesktopApp()&&"always"===m()}static toggleAutoOpen(){const e="always"===m();f(e?"never":"always"),p.segment.track("desktop_links",{action:e?"preference_disabled":"preference_enabled"})}static isAutoOpenEnabled(){return"always"===m()}static enableAutoOpen(){f("always")}static disableAutoOpenIfUnset(){void 0===m()&&f("never")}render(){return a.createElement(d.DraggableModal,{initialPosition:this.initialPosition,title:"Do you want to open this file in the Desktop App?",headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},a.createElement("div",{className:_.container},a.createElement("div",{className:_.inputContainer},a.createElement(k.Checkbox,{id:"always-open-desktop-app",checked:this.state.alwaysChecked,onClick:this.onClickAlwaysOpenDesktopApp}),a.createElement(k.Label,{htmlFor:"always-open-desktop-app"},"Always open in the app")),a.createElement("div",{className:_.inputContainer},a.createElement(k.ButtonSecondary,{onClick:this.onClose},"Dismiss"),a.createElement(k.ButtonPrimary,{onClick:this.onClickOpenInApp},"Open in app"))))}}w.displayName="OpenDesktopAppModal",t.OpenDesktopAppModal=w,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";var s=this&&this.__awaiter||function(e,n,t,s){return new(t||(t=Promise))(function(c,i){function o(e){try{a(s.next(e))}catch(n){i(n)}}function r(e){try{a(s.throw(e))}catch(n){i(n)}}function a(e){e.done?c(e.value):new t(function(n){n(e.value)}).then(o,r)}a((s=s.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const c=t(97      );let i,o,r=new Map,a=0;function u(){return o||(o=function(){if(!i){const e="https://static.figma.com/scripts/esprima-4.0.1.min.js";(i=c.default.get(e,null,{raw:!0}).then(e=>e.response+"")).catch(()=>i=void 0)}return i}().then(e=>{const n=URL.createObjectURL(new Blob([e,"\n        onmessage = function(e) {\n          var id = e.data[0];\n          try {\n            esprima.parse(e.data[1]);\n            postMessage([id, { success: true }]);\n          } catch (e) {\n            e = {\n              index: e.index,\n              description: e.description,\n              column: e.column, // Annoyingly, this is non-enumerable\n              lineNumber: e.lineNumber\n            };\n            postMessage([id, { success: false, error: e }]);\n          }\n        };\n      "])),t=new Worker(n);return t.onmessage=(e=>{const[t,s]=e.data,c=r.get(t);void 0!==c&&(r.delete(t),c(s)),URL.revokeObjectURL(n)}),t})).catch(()=>o=void 0),o}n.prepareForSyntaxChecking=function(){u()},n.checkJavaScriptSyntax=function(e){return s(this,void 0,void 0,function*(){const n=yield u();return new Promise(t=>{const s=a++;return r.set(s,t),n.postMessage([s,e]),{success:!0}})})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});const i=r(611     ),s=Symbol("internal"),o=Symbol("wasDestroyed"),h=Function.prototype.apply;function u(t,e){if(t[o])throw new Error("This VM has been destroyed");if("object"==typeof e&&null!==e&&s in e)throw new Error("Wrapping a handle twice!");return{[s]:e}}function a(t,e){if(t[o])throw new Error("This VM has been destroyed");if("object"!=typeof e||null===e||!(s in e))throw new Error("The provided value is not a handle");return e[s]}n=o,e.NoOpJavascriptVm=class{constructor(){this.errorHandler=(()=>{}),this.executionDepth=0,this[n]=!1,this.global=u(this,window),this.null=u(this,null),this.undefined=u(this,void 0)}typeof(t){return typeof a(this,t)}isNumber(t){return"number"==typeof a(this,t)}isBoolean(t){return"boolean"==typeof a(this,t)}isString(t){return"string"==typeof a(this,t)}isNull(t){return null===a(this,t)}isUndefined(t){return void 0===a(this,t)}isObject(t){const e=a(this,t);return"object"==typeof e&&null!==e}isArray(t){return a(this,t)instanceof Array}isUint8Array(t){return a(this,t)instanceof Uint8Array}isFunction(t){return a(this,t)instanceof Function}shallowFreezeObject(t){Object.freeze(a(this,t))}getNumber(t){const e=a(this,t);if("number"!=typeof e)throw new Error("Value is not a number");return e}getBoolean(t){const e=a(this,t);if("boolean"!=typeof e)throw new Error("Value is not a boolean");return e}getString(t){const e=a(this,t);if("string"!=typeof e)throw new Error("Value is not a string");return e}getUint8Array(t){if(!this.isUint8Array(t))throw new Error("Value is not a Uint8Array");return new Uint8Array(a(this,t))}toNumber(t){const e=a(this,t);try{return+e}catch(r){throw new i.VmError(this,u(this,r))}}toBoolean(t){const e=a(this,t);try{return!!e}catch(r){throw new i.VmError(this,u(this,r))}}toString(t){const e=a(this,t);try{return""+e}catch(r){throw new i.VmError(this,u(this,r))}}newNumber(t){return u(this,+t)}newBoolean(t){return u(this,!!t)}newString(t){return u(this,""+t)}newObject(t){return u(this,void 0===t?{}:Object.create(a(this,t)))}newArray(){return u(this,[])}newUint8Array(t){return u(this,new Uint8Array(t))}isEqual(t,e){return a(this,t)===a(this,e)}newFunction(t,e){const r=this;let n=function(...t){const n=t.map(t=>u(r,t));for(;n.length<e.length;)n.push(r.undefined);return a(r,e.apply(u(r,this),n))};return Object.defineProperty(n,"name",{writable:!1,value:t}),u(r,n)}newPromise(){let t,e;return{promise:u(this,new Promise((r,n)=>{t=r,e=n})),resolve:u(this,t),reject:u(this,e)}}getKeys(t){return Object.keys(a(this,t))}getProp(t,e){return"string"!=typeof e&&(e=a(this,e)+""),u(this,a(this,t)[e])}setProp(t,e,r){"string"!=typeof e&&(e=a(this,e)+""),a(this,t)[e]=a(this,r)}defineProp(t,e,r){"string"!=typeof e&&(e=a(this,e)+"");let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&(n.value=a(this,r.value)),"get"in r&&(n.get=a(this,this.newFunction("get_"+e,r.get))),"set"in r&&(n.set=a(this,this.newFunction("set_"+e,r.set))),Object.defineProperty(a(this,t),e,n)}callFunction(t,e,...r){const n=a(this,t),s=a(this,e),o=r.map(t=>a(this,t));try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,h.call(n,s,o))}}catch(l){console.error(l);let t=new i.VmError(this,u(this,l));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}evalCode(t){try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,(0,eval)('"use strict";\n'+t))}}catch(e){console.error(e);let t=new i.VmError(this,u(this,e));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}setErrorHandler(t){this.errorHandler=t}destroy(){this[o]=!0}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});const o=r(611     ),i=["log","error","assert","info","warn","clear"],s={};for(let y of i)s[y]=console[y].bind(console);const a=Symbol("internal"),h=Symbol("wasDestroyed"),l=Function.prototype.apply;function u(e,t){if(e[h])throw new Error("This VM has been destroyed");if("object"==typeof t&&null!==t&&a in t)throw new Error("Wrapping a handle twice!");return{[a]:t}}function c(e,t){if(e[h])throw new Error("This VM has been destroyed");if("object"!=typeof t||null===t||!(a in t))throw new Error("The provided value is not a handle");return t[a]}n=h,t.RealmsVm=class{constructor(){this.globalHandle=null,this.nullHandle=null,this.undefinedHandle=null,this[n]=!1,this.errorHandler=(()=>{}),this.executionDepth=0;const e=document.body.lastChild;this.realm=Realm.makeRootRealm();const t=document.body.lastChild;if(e===t||!t||"IFRAME"!==t.nodeName)throw new Error("can't find iframe to create plugin environment");this.iframe=t;const{safeFunctionWrapper:r,objectCreate:o,uint8ArrayCopy:a,emptyObject:h,emptyArray:l,promiseCreate:y}=this.realm.evaluate("\n      ({\n        safeFunctionWrapper: (outerRealmUnsafeFunction, functionName) => {\n          // This function is safe because it is created here inside the realm.\n          const innerRealmSafeFunction = function innerRealmSafeFunction(...innerRealmArgs) {\n            try {\n              return outerRealmUnsafeFunction(this, ...innerRealmArgs)\n            } catch (outerRealmException) {\n              let outerMessage = ''\n              try {\n                // This nested try-catch exists because it's theoretically possible for .message\n                // to throw an error from the outer realm if it's a getter or an object whose\n                // toString() throws an error.\n                if (outerRealmException && outerRealmException.message) {\n                  outerMessage =  \": \" + outerRealmException.message\n                }\n              } catch(ignored) {\n                throw new Error('API error trying to convert error message -- please contact support')\n              }\n\n              // We need to re-throw a new error object created in the inner realm\n              // so that it's safe for the plugin to look at\n              throw new Error('in ' + functionName + outerMessage)\n            }\n          }\n          return innerRealmSafeFunction\n        },\n        objectCreate: (() => {\n          // Wrap Object.create so it can't be modified and can't be accessed by the plugin\n          let objCreate = Object.create\n          return (prototype) => {\n            return objCreate(prototype)\n          }\n        })(),\n        uint8ArrayCopy: (() => {\n          // Wrap Uint8Array so it can't be modified by the plugin\n          let arrayConstructor = Uint8Array\n          return (outerRealmArray) => {\n            return new arrayConstructor(outerRealmArray)\n          }\n        })(),\n        emptyObject: () => {\n          return {}\n        },\n        emptyArray: () => {\n          return []\n        },\n        promiseCreate: (() => {\n          const promiseCtor = Promise\n          return () => {\n            let resolve\n            let reject\n            const promise = new promiseCtor((innerResolve, innerReject) => {\n              resolve = innerResolve\n              reject = innerReject\n            })\n            return {\n              promise,\n              resolve,\n              reject,\n            }\n          }\n        })(),\n      })\n    "),f=(e,t,n)=>{const o=r((e,...r)=>{const o=u(this,e),i=n?r.map(e=>u(this,e)):r;if(n)for(;i.length<t.length;)i.push(u(this,void 0));const s=t.apply(o,i);return void 0===s?void 0:c(this,s)},e);return Object.defineProperty(o,"name",{value:e,writable:!1}),o};this.outerToInnerFunctionTransformer=((e,t)=>f(e,t,!0)),this.objectFactory=o,this.uint8ArrayFactory=a,this.emptyObjectFactory=h,this.emptyArrayFactory=l,this.promiseFactory=y,this.globalHandle=u(this,this.realm.global),this.nullHandle=u(this,null),this.undefinedHandle=u(this,void 0);const p=this.newObject();this.setProp(this.global,"console",p);for(let n of i)this.setProp(p,n,u(this,f(n,s[n],!1)))}get global(){if(this.globalHandle)return this.globalHandle;throw new Error("no global handle")}get null(){if(this.nullHandle)return this.nullHandle;throw new Error("no null handle")}get undefined(){if(this.undefinedHandle)return this.undefinedHandle;throw new Error("no undefined handle")}typeof(e){return typeof c(this,e)}isNumber(e){return"number"==typeof c(this,e)}isBoolean(e){return"boolean"==typeof c(this,e)}isString(e){return"string"==typeof c(this,e)}isNull(e){return null===c(this,e)}isUndefined(e){return void 0===c(this,e)}isObject(e){const t=c(this,e);return"object"==typeof t&&null!==t}isArray(e){return Array.isArray(c(this,e))}isUint8Array(e){const t=c(this,e);return"[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t)}isFunction(e){return"function"==typeof c(this,e)}shallowFreezeObject(e){Object.freeze(c(this,e))}getNumber(e){const t=c(this,e);if("number"!=typeof t)throw new Error("Value is not a number");return+t}getBoolean(e){const t=c(this,e);if("boolean"!=typeof t)throw new Error("Value is not a boolean");return!!t}getString(e){const t=c(this,e);if("string"!=typeof t)throw new Error("Value is not a string");return""+t}getUint8Array(e){if(!this.isUint8Array(e))throw new Error("Value is not a Uint8Array");const t=c(this,e);try{const e=+t.byteOffset,n=+t.byteLength,i=ArrayBuffer.prototype.slice.call(t.buffer,e,e+n);return new Uint8Array(i)}catch(r){throw new o.VmError(this,u(this,r))}}toNumber(e){const t=c(this,e);try{return+t}catch(r){throw new o.VmError(this,u(this,r))}}toBoolean(e){const t=c(this,e);try{return!!t}catch(r){throw new o.VmError(this,u(this,r))}}toString(e){const t=c(this,e);try{return""+t}catch(r){throw new o.VmError(this,u(this,r))}}newNumber(e){if("number"!=typeof e)throw new Error("Value is not a number");return u(this,e)}newBoolean(e){if("boolean"!=typeof e)throw new Error("Value is not a boolean");return u(this,e)}newString(e){if("string"!=typeof e)throw new Error("Value is not a string");return u(this,e)}newObject(e){if(!e)return u(this,this.emptyObjectFactory());let t,r=e?c(this,e):null;try{t=this.objectFactory(r)}catch(n){throw new o.VmError(this,u(this,n))}return u(this,t)}newArray(){return u(this,this.emptyArrayFactory())}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return u(this,this.uint8ArrayFactory(e));throw new Error("Value is not an Uint8Array")}newFunction(e,t){if("function"!=typeof t)throw new Error("Value is not a function");return u(this,this.outerToInnerFunctionTransformer(e,t))}newPromise(){const{promise:e,resolve:t,reject:r}=this.promiseFactory();return{promise:u(this,e),resolve:u(this,t),reject:u(this,r)}}getKeys(e){let t=c(this,e);if("object"!=typeof t)throw new Error("not an object");return Object.keys(t)}getProp(e,t){let r,n="string"==typeof t?t:this.toString(t),i=c(this,e);try{r=i[n]}catch(s){throw new o.VmError(this,u(this,s))}return u(this,r)}setProp(e,t,r){let n="string"==typeof t?t:this.toString(t),i=c(this,e),s=c(this,r);try{i[n]=s}catch(a){throw new o.VmError(this,u(this,a))}}defineProp(e,t,r){"string"!=typeof t&&(t=c(this,t)+"");let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&(n.value=c(this,r.value)),"get"in r&&(n.get=this.outerToInnerFunctionTransformer("get_"+t,r.get)),"set"in r&&(n.set=this.outerToInnerFunctionTransformer("set_"+t,r.set)),Object.defineProperty(c(this,e),t,n)}isEqual(e,t){return c(this,e)===c(this,t)}callFunction(e,t,...r){const n=c(this,e),i=c(this,t),a=r.map(e=>c(this,e));try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,l.call(n,i,a))}}catch(h){s.error(h);let e=new o.VmError(this,u(this,h));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalCode(e){try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,this.realm.evaluate(e))}}catch(t){s.error(t);let e=new o.VmError(this,u(this,t));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}setErrorHandler(e){this.errorHandler=e}destroy(){this[h]=!0,this.iframe.remove()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(609           ),o=t(610            ),a=t(178              );class s extends Error{constructor(e,r){let t="The plugin threw an error that could not be converted to a string";try{t=e.toString(r).replace(/^Error: /,"")}catch(n){}super(t),this.handle=r,Object.setPrototypeOf(this,s.prototype)}}function c(e){const r=new e;return r.getBooleanProp=((e,t)=>r.toBoolean(r.getProp(e,t))),r.getNumberProp=((e,t)=>r.toNumber(r.getProp(e,t))),r.getStringProp=((e,t)=>r.toString(r.getProp(e,t))),r.setBooleanProp=((e,t,n)=>r.setProp(e,t,r.newBoolean(n))),r.setNumberProp=((e,t,n)=>r.setProp(e,t,r.newNumber(n))),r.setStringProp=((e,t,n)=>r.setProp(e,t,r.newString(n))),r.callMethod=((e,t,...n)=>r.callFunction(r.getProp(e,t),e,...n)),r.deepWrap=(e=>{switch(typeof e){case"undefined":return r.undefined;case"boolean":return r.newBoolean(e);case"number":return r.newNumber(e);case"string":return r.newString(e);case"object":if(null===e)return r.null;if(e instanceof Array){const t=r.newArray(),n=e.length;for(let o=0;o<n;o++)r.setProp(t,o.toString(),r.deepWrap(e[o]));return t}if(e instanceof Uint8Array)return r.newUint8Array(e);{const t=r.newObject();for(const n in e)r.setProp(t,n,r.deepWrap(e[n]));return t}default:throw new Error(`Cannot wrap ${typeof e}`)}}),r.deepUnwrap=(e=>{switch(r.typeof(e)){case"undefined":return;case"boolean":return r.toBoolean(e);case"number":return r.toNumber(e);case"string":return r.toString(e);case"object":if(r.isNull(e))return null;if(r.isArray(e)){const t=[],n=r.getNumberProp(e,"length");for(let o=0;o<n;o++)t.push(r.deepUnwrap(r.getProp(e,o.toString())));return t}if(r.isUint8Array(e))return r.getUint8Array(e);{const t={};for(const n of r.getKeys(e))t[n]=r.deepUnwrap(r.getProp(e,n));return t}default:throw new Error(`Cannot unwrap ${r.typeof(e)}`)}}),r.deepFreezeObject=(e=>{if(r.isObject(e))for(const t of r.getKeys(e))r.deepFreezeObject(r.getProp(e,t));r.shallowFreezeObject(e)}),r.defineFunction=((e,t,n)=>{"string"!=typeof t&&(t=r.toString(t)),r.defineProp(e,t,{enumerable:!1,value:r.newFunction(t,n)})}),r}r.VmError=s,r.createNoOpJavascriptVm=function(){return c(n.NoOpJavascriptVm)},r.createRealmsVm=function(){return c(o.RealmsVm)};let i=null;r.loadRealms=function(){return i||(i=a.loadScript("/fullscreen/static/realm-shim.min.js").then(()=>{})).catch(()=>{i=null}),i},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(129                               ),o=s(291       ),i=s(292         ),r=s(293                                 ),l=s(373       ),a=s(129        ),c=s(294                      ),d=/^-?\d+:-?\d+$/;class h{constructor(e,t,s){this.guid=e,this.sessionID=t,this.localID=s}get type(){return o.schema.NodeType[n.SceneNodeCpp.getType(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||null}get name(){return n.SceneNodeCpp.getName(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set name(e){n.SceneNodeCpp.setName(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get locked(){return n.SceneNodeCpp.getLocked(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set locked(e){n.SceneNodeCpp.setLocked(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get mask(){return n.SceneNodeCpp.getMask(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set mask(e){n.SceneNodeCpp.setMask(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get visible(){return n.SceneNodeCpp.getVisible(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set visible(e){n.SceneNodeCpp.setVisible(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get resizeToFit(){return n.SceneNodeCpp.getResizeToFit(this.sessionID,this.localID,n.NodeContext.PLUGIN)}get frameMaskDisabled(){return n.SceneNodeCpp.getFrameMaskDisabled(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set frameMaskDisabled(e){n.SceneNodeCpp.setFrameMaskDisabled(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get isSymbolPublishable(){return n.SceneNodeCpp.getIsSymbolPublishable(this.sessionID,this.localID,n.NodeContext.PLUGIN)}get symbolDescription(){return n.SceneNodeCpp.getSymbolDescription(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set symbolDescription(e){n.SceneNodeCpp.setSymbolDescription(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get cornerRadius(){return n.SceneNodeCpp.getCornerRadius(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set cornerRadius(e){n.SceneNodeCpp.setCornerRadius(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get objectsPanelThumbnailId(){return n.SceneNodeCpp.getObjectsPanelThumbnailId(this.sessionID,this.localID,n.NodeContext.PLUGIN)}get isExpandable(){return n.SceneNodeCpp.getIsExpandable(this.sessionID,this.localID,n.NodeContext.PLUGIN)}get isExpanded(){return n.SceneNodeCpp.getIsExpanded(this.sessionID,this.localID,n.NodeContext.PLUGIN)}get isTemporarilyExpanded(){return n.SceneNodeCpp.getIsTemporarilyExpanded(this.sessionID,this.localID,n.NodeContext.PLUGIN)}get styleType(){return o.schema.StyleType[n.SceneNodeCpp.getStyleType(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||void 0}get styleDescription(){return n.SceneNodeCpp.getStyleDescription(this.sessionID,this.localID,n.NodeContext.PLUGIN)}set styleDescription(e){n.SceneNodeCpp.setStyleDescription(this.sessionID,this.localID,e,n.NodeContext.PLUGIN)}get componentKey(){const e=n.SceneNodeCpp.getComponentKey(this.sessionID,this.localID,n.NodeContext.PLUGIN);return""===e?null:e}get sharedSymbolReference(){const e=n.SceneNodeCpp.getSharedSymbolReference(this.sessionID,this.localID,n.NodeContext.PLUGIN);if(""!==e)return o.schema.decodeSharedSymbolReference(i.decode(e))}get exportSettings(){const e=n.SceneNodeCpp.getExportSettings(this.sessionID,this.localID,n.NodeContext.PLUGIN);if(""!==e)return o.schema.decodeNodeChange(i.decode(e)).exportSettings}set exportSettings(e){const t=o.schema.encodeNodeChange({exportSettings:e}),s=o.schema.decodeNodeChange(t).exportSettings;if(!r.deepEqualsIgnoringNumberPrecision(e,s))throw new Error("Invalid format for export settings");n.SceneNodeCpp.setExportSettings(this.sessionID,this.localID,i.encode(t),n.NodeContext.PLUGIN)}get parent(){const e=n.SceneNodeCpp.getParent(this.sessionID,this.localID,n.NodeContext.PLUGIN);return""===e?null:e}get position(){const e=n.SceneNodeCpp.getPosition(this.sessionID,this.localID,n.NodeContext.PLUGIN);return""===e?null:e}get reversedChildren(){const e=n.SceneNodeCpp.getReversedChildren(this.sessionID,this.localID,n.NodeContext.PLUGIN);return""===e?[]:e.split(" ")}get scrollDirection(){return o.schema.ScrollDirection[n.SceneNodeCpp.getScrollDirection(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||null}get scrollBehavior(){return o.schema.ScrollBehavior[n.SceneNodeCpp.getScrollBehavior(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||null}get booleanOperation(){return o.schema.BooleanOperation[n.SceneNodeCpp.getBooleanOperation(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||null}set booleanOperation(e){const t=o.schema.BooleanOperation[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for booleanOperation");n.SceneNodeCpp.setBooleanOperation(this.sessionID,this.localID,t,n.NodeContext.PLUGIN)}get horizontalConstraint(){return o.schema.ConstraintType[n.SceneNodeCpp.getHorizontalConstraint(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||null}set horizontalConstraint(e){const t=o.schema.ConstraintType[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for horizontalConstraint");n.SceneNodeCpp.setHorizontalConstraint(this.sessionID,this.localID,t,n.NodeContext.PLUGIN)}get verticalConstraint(){return o.schema.ConstraintType[n.SceneNodeCpp.getVerticalConstraint(this.sessionID,this.localID,n.NodeContext.PLUGIN)]||null}set verticalConstraint(e){const t=o.schema.ConstraintType[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for verticalConstraint");n.SceneNodeCpp.setVerticalConstraint(this.sessionID,this.localID,t,n.NodeContext.PLUGIN)}get isInternalOnlyNode(){return n.PluginSceneNodeCpp.getIsInternalOnlyNode(this.sessionID,this.localID)}get size(){return n.PluginSceneNodeCpp.getSize(this.sessionID,this.localID)}set size(e){n.PluginSceneNodeCpp.setSize(this.sessionID,this.localID,e.x,e.y)}get relativeTransform(){return n.PluginSceneNodeCpp.getRelativeTransform(this.sessionID,this.localID)}set relativeTransform(e){n.PluginSceneNodeCpp.setRelativeTransform(this.sessionID,this.localID,e.m00,e.m01,e.m02,e.m10,e.m11,e.m12)}get absoluteTransform(){return n.PluginSceneNodeCpp.getAbsoluteTransform(this.sessionID,this.localID)}get symbolId(){return n.PluginSceneNodeCpp.getSymbolId(this.sessionID,this.localID)}get opacity(){return n.PluginSceneNodeCpp.getOpacity(this.sessionID,this.localID)}set opacity(e){n.PluginSceneNodeCpp.setOpacity(this.sessionID,this.localID,e)}get cornerSmoothing(){return n.PluginSceneNodeCpp.getCornerSmoothing(this.sessionID,this.localID)}set cornerSmoothing(e){n.PluginSceneNodeCpp.setCornerSmoothing(this.sessionID,this.localID,e)}get strokeWeight(){return n.PluginSceneNodeCpp.getStrokeWeight(this.sessionID,this.localID)}set strokeWeight(e){n.PluginSceneNodeCpp.setStrokeWeight(this.sessionID,this.localID,e)}get hasSharedStyleReference(){return n.PluginSceneNodeCpp.getHasSharedStyleReference(this.sessionID,this.localID)}get characters(){return n.PluginSceneNodeCpp.getCharacters(this.sessionID,this.localID)}set characters(e){n.PluginSceneNodeCpp.setCharacters(this.sessionID,this.localID,e)}get rectangleTopLeftCornerRadius(){return n.PluginSceneNodeCpp.getRectangleTopLeftCornerRadius(this.sessionID,this.localID)}set rectangleTopLeftCornerRadius(e){n.PluginSceneNodeCpp.setRectangleTopLeftCornerRadius(this.sessionID,this.localID,e)}get rectangleTopRightCornerRadius(){return n.PluginSceneNodeCpp.getRectangleTopRightCornerRadius(this.sessionID,this.localID)}set rectangleTopRightCornerRadius(e){n.PluginSceneNodeCpp.setRectangleTopRightCornerRadius(this.sessionID,this.localID,e)}get rectangleBottomLeftCornerRadius(){return n.PluginSceneNodeCpp.getRectangleBottomLeftCornerRadius(this.sessionID,this.localID)}set rectangleBottomLeftCornerRadius(e){n.PluginSceneNodeCpp.setRectangleBottomLeftCornerRadius(this.sessionID,this.localID,e)}get rectangleBottomRightCornerRadius(){return n.PluginSceneNodeCpp.getRectangleBottomRightCornerRadius(this.sessionID,this.localID)}set rectangleBottomRightCornerRadius(e){n.PluginSceneNodeCpp.setRectangleBottomRightCornerRadius(this.sessionID,this.localID,e)}get rectangleCornerRadiiIndependent(){return n.PluginSceneNodeCpp.getRectangleCornerRadiiIndependent(this.sessionID,this.localID)}set rectangleCornerRadiiIndependent(e){n.PluginSceneNodeCpp.setRectangleCornerRadiiIndependent(this.sessionID,this.localID,e)}get rectangleCornerToolIndependent(){return n.PluginSceneNodeCpp.getRectangleCornerToolIndependent(this.sessionID,this.localID)}set rectangleCornerToolIndependent(e){n.PluginSceneNodeCpp.setRectangleCornerToolIndependent(this.sessionID,this.localID,e)}get starInnerScale(){return n.PluginSceneNodeCpp.getStarInnerScale(this.sessionID,this.localID)}set starInnerScale(e){n.PluginSceneNodeCpp.setStarInnerScale(this.sessionID,this.localID,e)}get count(){return n.PluginSceneNodeCpp.getCount(this.sessionID,this.localID)}set count(e){n.PluginSceneNodeCpp.setCount(this.sessionID,this.localID,e)}get autoRename(){return n.PluginSceneNodeCpp.getAutoRename(this.sessionID,this.localID)}set autoRename(e){n.PluginSceneNodeCpp.setAutoRename(this.sessionID,this.localID,e)}get fillPaints(){return p("fillPaints",n.PluginSceneNodeCpp.getFillPaints(this.sessionID,this.localID))}set fillPaints(e){n.PluginSceneNodeCpp.setFillPaints(this.sessionID,this.localID,I("fillPaints",e))}get strokePaints(){return p("strokePaints",n.PluginSceneNodeCpp.getStrokePaints(this.sessionID,this.localID))}set strokePaints(e){n.PluginSceneNodeCpp.setStrokePaints(this.sessionID,this.localID,I("strokePaints",e))}get backgroundPaints(){return p("backgroundPaints",n.PluginSceneNodeCpp.getBackgroundPaints(this.sessionID,this.localID))}set backgroundPaints(e){n.PluginSceneNodeCpp.setBackgroundPaints(this.sessionID,this.localID,I("backgroundPaints",e))}get directlySelectedNodes(){const e=n.PluginSceneNodeCpp.getDirectlySelectedNodes(this.sessionID,this.localID);return""===e?[]:e.split(" ")}set directlySelectedNodes(e){for(const t of e)if(!d.test(t))throw new Error(`Invalid node id: ${t}`);n.PluginSceneNodeCpp.setDirectlySelectedNodes(this.sessionID,this.localID,e.join(" "))}get layoutGrids(){const e=n.PluginSceneNodeCpp.getLayoutGrids(this.sessionID,this.localID);if(""!==e)return o.schema.decodeNodeChange(i.decode(e)).layoutGrids}set layoutGrids(e){const t=o.schema.encodeNodeChange({layoutGrids:e}),s=o.schema.decodeNodeChange(t).layoutGrids;if(!r.deepEqualsIgnoringNumberPrecision(e,s))throw new Error("Invalid format for layoutGrids");n.PluginSceneNodeCpp.setLayoutGrids(this.sessionID,this.localID,i.encode(t))}get guides(){const e=n.PluginSceneNodeCpp.getGuides(this.sessionID,this.localID);if(""!==e)return o.schema.decodeNodeChange(i.decode(e)).guides}set guides(e){const t=o.schema.encodeNodeChange({guides:e}),s=o.schema.decodeNodeChange(t).guides;if(!r.deepEqualsIgnoringNumberPrecision(e,s))throw new Error("Invalid format for guides");n.PluginSceneNodeCpp.setGuides(this.sessionID,this.localID,i.encode(t))}get effects(){const e=n.PluginSceneNodeCpp.getEffects(this.sessionID,this.localID);if(""!==e)return o.schema.decodeNodeChange(i.decode(e)).effects}set effects(e){const t=o.schema.encodeNodeChange({effects:e}),s=o.schema.decodeNodeChange(t).effects;if(!r.deepEqualsIgnoringNumberPrecision(e,s))throw new Error("Invalid format for effects");n.PluginSceneNodeCpp.setEffects(this.sessionID,this.localID,i.encode(t))}get dashPattern(){const e=n.PluginSceneNodeCpp.getDashPattern(this.sessionID,this.localID);if(""!==e)return o.schema.decodeNodeChange(i.decode(e)).dashPattern}set dashPattern(e){const t=o.schema.encodeNodeChange({dashPattern:e}),s=o.schema.decodeNodeChange(t).dashPattern;if(!r.deepEqualsIgnoringNumberPrecision(e,s))throw new Error("Invalid format for dashPattern");n.PluginSceneNodeCpp.setDashPattern(this.sessionID,this.localID,i.encode(t))}get fontSize(){return n.PluginSceneNodeCpp.getFontSize(this.sessionID,this.localID)}set fontSize(e){n.PluginSceneNodeCpp.setFontSize(this.sessionID,this.localID,e)}get paragraphIndent(){return n.PluginSceneNodeCpp.getParagraphIndent(this.sessionID,this.localID)}set paragraphIndent(e){n.PluginSceneNodeCpp.setParagraphIndent(this.sessionID,this.localID,e)}get paragraphSpacing(){return n.PluginSceneNodeCpp.getParagraphSpacing(this.sessionID,this.localID)}set paragraphSpacing(e){n.PluginSceneNodeCpp.setParagraphSpacing(this.sessionID,this.localID,e)}get strokeAlign(){return o.schema.StrokeAlign[n.PluginSceneNodeCpp.getStrokeAlign(this.sessionID,this.localID)]||null}set strokeAlign(e){const t=o.schema.StrokeAlign[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for strokeAlign");n.PluginSceneNodeCpp.setStrokeAlign(this.sessionID,this.localID,t)}get strokeCap(){return o.schema.StrokeCap[n.PluginSceneNodeCpp.getStrokeCap(this.sessionID,this.localID)]||null}set strokeCap(e){const t=o.schema.StrokeCap[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for strokeCap");n.PluginSceneNodeCpp.setStrokeCap(this.sessionID,this.localID,t)}get strokeJoin(){return o.schema.StrokeJoin[n.PluginSceneNodeCpp.getStrokeJoin(this.sessionID,this.localID)]||null}set strokeJoin(e){const t=o.schema.StrokeJoin[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for strokeJoin");n.PluginSceneNodeCpp.setStrokeJoin(this.sessionID,this.localID,t)}get blendMode(){return o.schema.BlendMode[n.PluginSceneNodeCpp.getBlendMode(this.sessionID,this.localID)]||null}set blendMode(e){const t=o.schema.BlendMode[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for blendMode");n.PluginSceneNodeCpp.setBlendMode(this.sessionID,this.localID,t)}get textAlignHorizontal(){return o.schema.TextAlignHorizontal[n.PluginSceneNodeCpp.getTextAlignHorizontal(this.sessionID,this.localID)]||null}set textAlignHorizontal(e){const t=o.schema.TextAlignHorizontal[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for textAlignHorizontal");n.PluginSceneNodeCpp.setTextAlignHorizontal(this.sessionID,this.localID,t)}get textAlignVertical(){return o.schema.TextAlignVertical[n.PluginSceneNodeCpp.getTextAlignVertical(this.sessionID,this.localID)]||null}set textAlignVertical(e){const t=o.schema.TextAlignVertical[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for textAlignVertical");n.PluginSceneNodeCpp.setTextAlignVertical(this.sessionID,this.localID,t)}get textCase(){return o.schema.TextCase[n.PluginSceneNodeCpp.getTextCase(this.sessionID,this.localID)]||null}set textCase(e){const t=o.schema.TextCase[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for textCase");n.PluginSceneNodeCpp.setTextCase(this.sessionID,this.localID,t)}get textDecoration(){return o.schema.TextDecoration[n.PluginSceneNodeCpp.getTextDecoration(this.sessionID,this.localID)]||null}set textDecoration(e){const t=o.schema.TextDecoration[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for textDecoration");n.PluginSceneNodeCpp.setTextDecoration(this.sessionID,this.localID,t)}get textAutoResize(){return o.schema.TextAutoResize[n.PluginSceneNodeCpp.getTextAutoResize(this.sessionID,this.localID)]||null}set textAutoResize(e){const t=o.schema.TextAutoResize[e];if("number"!=typeof t||void 0===t)throw new Error("Invalid value for textAutoResize");n.PluginSceneNodeCpp.setTextAutoResize(this.sessionID,this.localID,t)}get letterSpacing(){const e=n.PluginSceneNodeCpp.getLetterSpacing(this.sessionID,this.localID);return{value:e.value,units:o.schema.NumberUnits[e.units]}}set letterSpacing(e){const t=o.schema.NumberUnits[e.units];if("number"!=typeof t)throw new Error("Invalid format for letterSpacing");n.PluginSceneNodeCpp.setLetterSpacing(this.sessionID,this.localID,e.value,t)}get lineHeight(){const e=n.PluginSceneNodeCpp.getLineHeight(this.sessionID,this.localID);return{value:e.value,units:o.schema.NumberUnits[e.units]}}set lineHeight(e){const t=o.schema.NumberUnits[e.units];if("number"!=typeof t)throw new Error("Invalid format for lineHeight");n.PluginSceneNodeCpp.setLineHeight(this.sessionID,this.localID,e.value,t)}get fontName(){return n.PluginSceneNodeCpp.getFontName(this.sessionID,this.localID)}set fontName(e){n.PluginSceneNodeCpp.setFontName(this.sessionID,this.localID,e.family,e.style,e.postscript)}get arcData(){const e=n.PluginSceneNodeCpp.getArcData(this.sessionID,this.localID);if(""!==e)return o.schema.decodeNodeChange(i.decode(e)).arcData}set arcData(e){n.PluginSceneNodeCpp.setArcData(this.sessionID,this.localID,e.startingAngle,e.endingAngle,e.innerRadius)}get vectorDataInfo(){return p("vectorData",n.PluginSceneNodeCpp.getVectorData(this.sessionID,this.localID))}set vectorDataInfo(e){const t=e.data.vectorNetworkBlob;if(t<0||t>=e.blobs.length)throw new Error("Invalid input for vectorData");n.PluginSceneNodeCpp.setVectorData(this.sessionID,this.localID,I("vectorData",e))}get inheritedFillStyle(){return this.getInheritedStyleKey("inheritFillStyleKey")}set inheritedFillStyle(e){this.setInheritedStyleKey("inheritFillStyleKey",e)}get inheritedFillStyleForStroke(){return this.getInheritedStyleKey("inheritFillStyleKeyForStroke")}set inheritedFillStyleForStroke(e){this.setInheritedStyleKey("inheritFillStyleKeyForStroke",e)}get inheritedFillStyleForBackground(){return this.getInheritedStyleKey("inheritFillStyleKeyForBackground")}set inheritedFillStyleForBackground(e){this.setInheritedStyleKey("inheritFillStyleKeyForBackground",e)}get inheritedEffectStyle(){return this.getInheritedStyleKey("inheritEffectStyleKey")}set inheritedEffectStyle(e){this.setInheritedStyleKey("inheritEffectStyleKey",e)}get inheritedTextStyle(){return this.getInheritedStyleKey("inheritTextStyleKey")}set inheritedTextStyle(e){this.setInheritedStyleKey("inheritTextStyleKey",e)}get inheritedGridStyle(){return this.getInheritedStyleKey("inheritGridStyleKey")}set inheritedGridStyle(e){this.setInheritedStyleKey("inheritGridStyleKey",e)}getInheritedStyleKey(e){const t=n.PluginSceneNodeCpp.getInheritedStyle(this.sessionID,this.localID,e);return l.isValidStyleKey(t)?t:null}setInheritedStyleKey(e,t){if(t&&!l.isValidStyleKey(t))throw new Error(`Invalid style key ${t.key} and version ${t.version}`);const s=t||{key:"",version:""},o=n.PluginSceneNodeCpp.setInheritedStyle(this.sessionID,this.localID,e,s.key,s.version);if(o)throw new Error(`Cannot set style successfully: ${o}`)}}class g{get(e){const t=c.parseIntegerFast(e,0),s=c.parseIntegerFast(e,e.indexOf(":")+1);if(n.SceneNodeCpp.exists(t,s,n.NodeContext.PLUGIN))return new h(e,t,s)}get currentPage(){const e=n.PluginSceneNodeCpp.getCurrentPage();return""===e?null:e}createNode(e){const t=o.schema.NodeType[e];if("number"==typeof t){const e=n.PluginSceneNodeCpp.createNode(t);if(""!==e)return e}throw new Error(`Cannot create node with type ${e}`)}clone(e){if("DOCUMENT"===e.type)throw new Error("Cannot clone the root node");const t=n.PluginSceneNodeCpp.cloneNode(e.sessionID,e.localID);if(!t)throw new Error("Failed to clone node");return t}createInstance(e){if("SYMBOL"!==e.type)throw new Error("Can only create instances of components");const t=n.PluginSceneNodeCpp.createInstance(e.sessionID,e.localID);if(!t)throw new Error("Failed to create instance");return t}removeSelfAndChildren(e){if(!n.PluginSceneNodeCpp.removeSelfAndChildren(e.sessionID,e.localID))throw new Error("Removing this node is not allowed")}appendChild(e,t){const s=n.PluginSceneNodeCpp.getChildCount(e.sessionID,e.localID),o=n.PluginSceneNodeCpp.insertChild(e.sessionID,e.localID,s,t.sessionID,t.localID);if(o)throw new Error(o)}insertChild(e,t,s){const o=n.PluginSceneNodeCpp.insertChild(e.sessionID,e.localID,t,s.sessionID,s.localID);if(o)throw new Error(o)}resizeWithConstraints(e,t,s){n.PluginSceneNodeCpp.resizeWithConstraints(e.sessionID,e.localID,t,s)}resizeWithoutConstraints(e,t,s){n.PluginSceneNodeCpp.setSize(e.sessionID,e.localID,t,s)}}function p(e,t){if(""===t)return;const s=o.schema.decodeMessage(i.decode(t));if(!s||!s.nodeChanges||1!==s.nodeChanges.length)throw new Error(`Cannot read value for ${e}`);return{data:s.nodeChanges[0][e],blobs:s.blobs}}function I(e,t){const s=o.schema.encodeNodeChange({[e]:t.data});if(!r.deepEqualsIgnoringNumberPrecision(t.data,o.schema.decodeNodeChange(s)[e]))throw new Error(`Invalid format for ${e}`);return i.encode(o.schema.encodeMessage({type:"NODE_CHANGES",sessionID:0,ackID:0,nodeChanges:[{[e]:t.data}],blobs:t.blobs}))}g.instance=new g,t.SceneGraphShim=g;class u{get(e){const t=l.styleKeyFromString(e);if(!t)return;const s=a.Fullscreen.getStyleNodeId(t.key,t.version);return s?g.instance.get(s):void 0}createStyle(e){const t=o.schema.StyleType[e];if("number"!=typeof t)return null;const s=a.Fullscreen.createStyle(t);return l.styleKeyToString(s)}softDeleteStyle(e){g.instance.removeSelfAndChildren(e)}}u.instance=new u,t.StyleManager=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,n){"use strict";function e(t,i){return{x:Math.min(t.x,i.x),y:Math.min(t.y,i.y)}}function x(t,i){return{x:Math.max(t.x,i.x),y:Math.max(t.y,i.y)}}function r(t){return t.width<0||t.height<0||!isFinite(t.x)||!isFinite(t.y)||!isFinite(t.width)||!isFinite(t.height)}Object.defineProperty(i,"__esModule",{value:!0}),i.vectorEq=function(t,i){return t.x===i.x&&t.y===i.y},i.vectorMin=e,i.vectorAdd=function(t,i){return{x:t.x+i.x,y:t.y+i.y}},i.vectorMax=x,i.computeBounds=function(t,i){const n=e(t,i),r=x(t,i);return{x:n.x,y:n.y,width:r.x-n.x,height:r.y-n.y}},i.rectContains=function(t,i){return i.x>=t.x&&i.x<=t.x+t.width&&i.y>=t.y&&i.y<=t.y+t.height},i.rectIsInvalid=r,i.rectUnionWith=function(t,i){if(r(t))return i;if(r(i))return t;const n=e({x:t.x,y:t.y},{x:i.x,y:i.y}),y=x({x:t.x+t.width,y:t.y+t.height},{x:i.x+i.width,y:i.y+i.height});return{x:n.x,y:n.y,width:y.x-n.x,height:y.y-n.y}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=e(613          ),o=0,i={Z:0,M:2,L:2,Q:4,C:6};function r(t){if(!t.data||!t.data.length)return[];const n=t.data.split(" "),e=[];for(let s of n){if("Z"===s||"M"===s||"L"===s||"Q"===s||"C"===s){e.push(s);continue}const t=Number(s);if(isNaN(t))throw new Error(`Path: Invalid command at ${s}`);e.push(t)}if(e.length>0&&"M"!==e[0])throw new Error(`Path: ${e[0]} is not a valid first command`);return e}function a(t,n){return{x:t.m00*n.x+t.m01*n.y+t.m02,y:t.m10*n.x+t.m11*n.y+t.m12}}function c(t,n,e,o){const i=s.computeBounds(t,o);if(s.rectContains(i,n)&&s.rectContains(i,e))return i;const r=[0,0,0,0],a=[0,0,0,0],c=[0,0,0,0],g=[0,0,0,0];let x=0,u=0;r[0]=0,a[0]=0,x=1+l(t.x,n.x,e.x,o.x,r,1),u=1+l(t.y,n.y,e.y,o.y,a,1),r[x++]=1,a[u++]=1,c[0]=t.x,g[0]=t.y;for(let s=1;s+1<x;s++)c[s]=d(t.x,n.x,e.x,o.x,r[s]);for(let s=1;s+1<u;s++)g[s]=d(t.y,n.y,e.y,o.y,a[s]);c[x-1]=o.x,g[u-1]=o.y;const m={x:t.x,y:t.y},h={x:t.x,y:t.y};for(let s=0;s<x;s++)m.x=Math.min(m.x,c[s]),h.x=Math.max(h.x,c[s]);for(let s=0;s<u;s++)m.y=Math.min(m.y,g[s]),h.y=Math.max(h.y,g[s]);return{x:m.x,y:m.y,width:h.x-m.x,height:h.y-m.y}}function d(t,n,e,s,o){let i=1-o;return i*(i*(i*t+3*o*n)+3*o*o*e)+o*o*o*s}function l(t,n,e,s,o,i){let r=3*(3*n+s-(t+3*e)),a=6*(t+e-2*n),c=3*(n-t),d=i;if(Math.abs(r)<1e-12&&(r=0),Math.abs(a)<1e-12&&(a=0),0!==r){const t=a*a-4*c*r;if(t>=0){const n=-a/(2*r),e=Math.sqrt(t)/Math.abs(2*r),s=n-e,i=n+e;0<s&&s<1&&(o[d++]=s),t>0&&0<i&&i<1&&(o[d++]=i)}}else if(0!==a){const t=-c/a;0<t&&t<1&&(o[d++]=t)}return d-i}function g(t){const n=[];return t?(t.forEach(t=>{n.push({windingRule:t.windingRule,loops:t.loops.map(t=>t.slice())})}),n):n}function x(t){return`${t.position.x} ${t.position.y}`}function u(t){return`${t.index} ${t.tangent.x} ${t.tangent.y}`}function m(t){return 0===t.start.tangent.x&&0===t.start.tangent.y&&0===t.end.tangent.x&&0===t.end.tangent.y}n.pathToCommands=r,n.scaleVectorNetwork=function(t,n){const e=t&&t.vertices||[],s=t&&t.segments||[],o=t&&t.regions||[],i={m00:n.x,m01:0,m02:0,m10:0,m11:n.y,m12:0};return{regions:g(o),segments:s.map(t=>({start:Object.assign({},t.start,{tangent:a(i,t.start.tangent)}),end:Object.assign({},t.end,{tangent:a(i,t.end.tangent)})})),vertices:e.map(t=>({position:a(i,t.position)}))}},n.translateVectorNetwork=function(t,n){const e=t&&t.vertices||[],s=t&&t.segments||[],o=t&&t.regions||[],i={m00:1,m01:0,m02:n.x,m10:0,m11:1,m12:n.y};return{regions:g(o),segments:function(t){const n=[];return t?(t.forEach(t=>{n.push({start:{index:t.start.index,tangent:Object.assign({},t.start.tangent)},end:{index:t.end.index,tangent:Object.assign({},t.end.tangent)}})}),n):n}(s),vertices:e.map(t=>({position:a(i,t.position)}))}},n.encodeNetwork=function(t){const n=t&&t.vertices||[],e=t&&t.segments||[],s=t&&t.regions||[],i=[n.length,e.length,s.length],r=new Float32Array(1),a=new Int32Array(r.buffer);function c(t){return r[0]=t,a[0]}for(let d=0;d<n.length;d++){const t=n[d];i.push(o,c(t.position.x),c(t.position.y))}for(let d=0;d<e.length;d++){const t=e[d],n=t.start,s=t.end;i.push(o,n.index,c(n.tangent.x),c(n.tangent.y),s.index,c(s.tangent.x),c(s.tangent.y))}for(let d=0;d<s.length;d++){const t=s[d],n=t.loops;if("nonzero"!==t.windingRule&&"evenodd"!==t.windingRule)throw new Error("Encoding Network: Invalid winding rule "+JSON.stringify(t.windingRule));i.push(o<<1|("nonzero"===t.windingRule?1:0),n.length);for(let e=0;e<n.length;e++){const t=n[e];i.push(t.length);for(let n=0;n<t.length;n++)i.push(t[n])}}return new Uint8Array(new Int32Array(i).buffer)},n.decodeNetwork=function(t){const n=[],e=[],s=[];if(t.length<3)return{vertices:n,segments:e,regions:s};const o=new Int32Array(t.buffer),i=new Float32Array(o.buffer);let r=0;const a=o[r++],c=o[r++],d=o[r++];for(let l=0;l<a;l++)r++,n.push({position:{x:i[r++],y:i[r++]}});for(let l=0;l<c;l++)r++,e.push({start:{index:o[r++],tangent:{x:i[r++],y:i[r++]}},end:{index:o[r++],tangent:{x:i[r++],y:i[r++]}}});for(let l=0;l<d;l++){let t=o[r++],n=o[r++],e={windingRule:1&t?"nonzero":"evenodd",loops:[]};for(let s=0;s<n;s++){let t=o[r++],n=[];for(let e=0;e<t;e++)n.push(o[r++]);e.loops.push(n)}s.push(e)}if(r!==o.length)throw new Error("Decoding Network: Invalid network data");return{vertices:n,segments:e,regions:s}},n.convertNetworkToPaths=function(t){const n=new h(t),e=Array(t.segments.length).fill(!1),o=[];if(n.isEmpty())return[];for(let a of n.regions){const t=new f(a.windingRule);for(const o of a.loops){let i=null;for(const{segment:r,segmentIndex:a}of n.getOrderedLoop(o)){e[a]=!0;const o=n.getVertex(r.start.index),c=n.getVertex(r.end.index);null===i&&(t.moveTo(o),i=o),m(r)?t.lineTo(c):t.curveTo(s.vectorAdd(o,r.start.tangent),s.vectorAdd(c,r.end.tangent),c)}s.vectorEq(t.lastPosition,i)&&t.closePath()}o.push(t)}const i=Array(n.vertices.length);for(let s=0;s<n.segments.length;s++){const t=n.segments[s].start.index,o=n.segments[s].end.index;i[t]||(i[t]=[]),i[o]||(i[o]=[]),e[s]||(i[t].push(s),i[o].push(s))}const r=[];for(let s=0;s<2;s++)for(let t=0;t<n.vertices.length;t++)if(0!==s||2!==i[t].length)for(let s of i[t]){if(e[s])continue;let o=t,a=s;const c={segments:[],isClosed:!1,startingVertex:o};for(r.push(c);!e[a];){e[a]=!0;const{start:t,end:s}=n.segments[a];o=t.index===o?s.index:t.index,c.segments.push(a);const r=i[o];if(2!==r.length)break;a=r[0]===a?r[1]:r[0]}o===t&&(c.isClosed=!0)}if(r.length>0){const t=new f(null);o.push(t);for(const e of r){let o=e.startingVertex,i=n.vertices[o].position;t.moveTo(i);for(const r of e.segments){const e=n.segments[r];o=e.start.index===o?e.end.index:e.start.index;const a=n.vertices[o].position;m(e)?t.lineTo(a):o===e.end.index?t.curveTo(s.vectorAdd(i,e.start.tangent),s.vectorAdd(a,e.end.tangent),a):t.curveTo(s.vectorAdd(i,e.end.tangent),s.vectorAdd(a,e.start.tangent),a),i=a}e.isClosed&&t.closePath()}}return o.map(t=>t.toVectorPath())},n.convertPathsToNetwork=function(t){const n=[],e=[],s=[],o={},a={},c=[];let d={x:0,y:0},l=null;function g(t){const e=x(t);return e in o?o[e]:(o[e]=n.length,n.push(t),o[e])}function m(t){const n=function(t){return t.start.index<t.end.index||t.start.index===t.end.index&&(t.start.tangent.x<t.end.tangent.x||t.start.tangent.x===t.end.tangent.x&&t.start.tangent.y<t.end.tangent.y)?`${u(t.start)} ${u(t.end)}`:`${u(t.end)} ${u(t.start)}`}(t);return n in a?a[n]:(a[n]=e.length,e.push(t),a[n])}function h(){if(null===l){const t=g({position:d});l={startingVertex:t,loop:[]}}}function f(t){if(null!==l&&l.loop.length){const n=o[x({position:d})],e=l.startingVertex;if(t&&n!==e){const t=m({start:{index:n,tangent:{x:0,y:0}},end:{index:e,tangent:{x:0,y:0}}});l.loop.push(t)}c.push(l.loop)}l=null}for(const u of t){const t=r(u),n=t.length;let e=0;for(;e<n;){const s=t[e++],r=i[s];if(void 0===r||e+r>n)throw new Error("Converting Paths to Network: Invalid commands data");switch(s){case"M":l=null,d={x:t[e++],y:t[e++]};break;case"L":{h();const n=m({start:{index:o[x({position:d})],tangent:{x:0,y:0}},end:{index:g({position:d={x:t[e++],y:t[e++]}}),tangent:{x:0,y:0}}});l.loop.push(n);break}case"Q":{h();let n=d;const s=o[x({position:n})];let i={x:t[e++],y:t[e++]};const r=g({position:d={x:t[e++],y:t[e++]}}),a=m({start:{index:s,tangent:{x:2*(i.x-n.x)/3,y:2*(i.y-n.y)/3}},end:{index:r,tangent:{x:2*(i.x-d.x)/3,y:2*(i.y-d.y)/3}}});l.loop.push(a);break}case"C":{h();let n=d;const s=o[x({position:n})];let i={x:t[e++],y:t[e++]},r={x:t[e++],y:t[e++]};const a=g({position:d={x:t[e++],y:t[e++]}}),c=m({start:{index:s,tangent:{x:i.x-n.x,y:i.y-n.y}},end:{index:a,tangent:{x:r.x-d.x,y:r.y-d.y}}});l.loop.push(c);break}case"Z":f(!0)}}null!==u.windingRule&&(f(!1),c.length>0&&s.push({windingRule:u.windingRule,loops:c})),l=null}return{vertices:n,segments:e,regions:s}},n.multiplyTransforms=function(t,n){return{m00:t.m00*n.m00+t.m01*n.m10,m01:t.m00*n.m01+t.m01*n.m11,m02:t.m00*n.m02+t.m01*n.m12+t.m02,m10:t.m10*n.m00+t.m11*n.m10,m11:t.m10*n.m01+t.m11*n.m11,m12:t.m10*n.m02+t.m11*n.m12+t.m12}},n.invertMatrix=function(t){const n=1/(t.m00*t.m11-t.m01*t.m10);return{m00:t.m11*n,m01:-t.m01*n,m02:(t.m01*t.m12-t.m11*t.m02)*n,m10:-t.m10*n,m11:t.m00*n,m12:(t.m10*t.m02-t.m00*t.m12)*n}},n.transformVector=a,n.boundingBoxForNetwork=function(t){const n=t&&t.vertices||[],e=t&&t.segments||[];let o={x:1/0,y:1/0,width:-1/0,height:-1/0};for(let i of e){let t=n[i.start.index].position,e=n[i.end.index].position;o=s.rectUnionWith(o,s.computeBounds(t,e))}for(let i of e){if(0===i.start.tangent.x&&0===i.start.tangent.y&&0===i.end.tangent.x&&0===i.end.tangent.y)continue;const t=n[i.start.index].position,e={x:t.x+i.start.tangent.x,y:t.y+i.start.tangent.y},r=n[i.end.index].position,a={x:r.x+i.end.tangent.x,y:r.y+i.end.tangent.y};s.rectContains(o,e)&&s.rectContains(o,a)||(o=s.rectUnionWith(o,c(t,e,a,r)))}return isFinite(o.x)&&isFinite(o.y)&&isFinite(o.width)&&isFinite(o.height)?o:{x:0,y:0,width:0,height:0}};class h{constructor(t){this.regions=[],this.segments=[],this.vertices=[],t&&(this.regions=t.regions,this.segments=t.segments,this.vertices=t.vertices)}isEmpty(){return 0===this.vertices.length}hasVertex(t,n){return t.start.index===n||t.end.index===n}startingVertex(t){if(1===t.length)return this.segments[t[0]].start.index;const n=this.segments[t[0]],e=this.segments[t[1]];let s=this.hasVertex(e,n.end.index);const o=this.hasVertex(e,n.start.index);if(s&&o&&t.length>2){const e=this.segments[t[2]];s=this.hasVertex(e,n.start.index)}if(s)return n.start.index;if(!o)throw new Error("Network: invalid starting vertex");return n.end.index}getOrderedLoop(t){if(0===t.length)return[];const n=[];let e=this.startingVertex(t);for(let s of t){const t=this.segments[s],o=t.start.index===e?t.start:t.end,i=t.start.index===e?t.end:t.start;if(o.index!==e&&i.index!==e)throw new Error("Network: invalid loop");n.push({segmentIndex:s,segment:{start:o,end:i}}),e=i.index}return n}getVertex(t){return this.vertices[t].position}}class f{constructor(t){this.windingRule=t,this.commands=[],this.lastPosition=null}moveTo(t){this.commands.push("M",t.x,t.y),this.lastPosition=t}lineTo(t){this.commands.push("L",t.x,t.y),this.lastPosition=t}curveTo(t,n,e){this.commands.push("C",t.x,t.y,n.x,n.y,e.x,e.y),this.lastPosition=e}closePath(){this.commands.push("Z"),this.lastPosition=null}toVectorPath(){return{windingRule:this.windingRule,data:this.commands.join(" ")}}}t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.assertNever=function(e){throw new Error(`Uncaught type ${JSON.stringify(e)}`)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(615        );class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}function i(e){return Object.defineProperty(e,"isOptional",{enumerable:!0,get:function(){return{type:"optional",__schema:this}}}),e}t.PropValidationError=o;const a={type:"number",min:function(e){return i(Object.assign({},this,{__min:e}))},max:function(e){return i(Object.assign({},this,{__max:e}))},range:function(e,t){return i(Object.assign({},this,{__min:e,__max:t}))}};t.PropTypes={bool:i({type:"boolean"}),string:i({type:"string"}),any:i({type:"any"}),oneOf:e=>i({type:"oneOf",__options:e}),arrayOf:e=>i({type:"array",__contentType:e}),exact:e=>i({type:"exact",__shape:e}),float:i(a),integer:i(Object.assign({},a,{__requireInteger:!0}))},t.deepValidateAndUnwrap=function e(t,n,i,a){const s=t.typeof(n);function f(){return new o(`Expected "${a}" to have type ${u(i)} but got ${function(e,t){const n=e.typeof(t);if("object"===n){if(e.isArray(t))return"array";if(e.isNull(t))return"null"}else if("number"===n){const n=e.getNumber(t);if(isNaN(n))return"NaN";if(n===1/0||n===-1/0)return"Infinity"}return n}(t,n)} instead`)}if("string"==typeof i){if(t.isString(n)&&i===t.getString(n))return i;throw f()}if("number"==typeof i){if(t.isNumber(n)&&i===t.getNumber(n))return i;throw f()}if("boolean"==typeof i){if(t.isBoolean(n)&&i===t.getBoolean(n))return i;throw f()}if(null===i){if(t.isNull(n))return i;throw f()}if(void 0===i){if(t.isUndefined(n))return i;throw f()}switch(i.type){case"optional":if("undefined"===s)return;return e(t,n,i.__schema,a);case"oneOf":{let r=[];for(const u of i.__options)try{return e(t,n,u,a)}catch(c){if(c instanceof o){r.push(c.message);continue}throw c}const s=r.map(e=>e.split("\n").map(e=>"  "+e).join("\n"));throw new o(`Expected "${a}" to be one of the following, but none matched: \n`+s.join("\n"))}case"boolean":if("boolean"!==s)throw f();return t.getBoolean(n);case"number":{if("number"!==s)throw f();const e=t.getNumber(n);if(!isFinite(e))throw f();if(null!=i.__min&&e<i.__min)throw new o(`Expected "${a}" to have value >= ${i.__min}`);if(null!=i.__max&&e>i.__max)throw new o(`Expected "${a}" to have value <= ${i.__max}`);if(null!=i.__requireInteger&&(0|e)!==e)throw new o(`Expected "${a}" to be an integer`);return e}case"string":if("string"!==s)throw f();return t.getString(n);case"any":if("undefined"===s||t.isNull(n))throw f();return t.deepUnwrap(n);case"array":{if(!t.isArray(n))throw f();const r=[],o=t.getNumberProp(n,"length");for(let s=0;s<o;s++)r.push(e(t,t.getProp(n,s.toString()),i.__contentType,a+`.[${s}]`));return r}case"exact":{if(!t.isObject(n)||t.isNull(n))throw f();const r={},s=Object.keys(i.__shape);for(const o of s){const s=i.__shape[o];r[o]=e(t,t.getProp(n,o),s,a+"."+o)}for(const e of t.getKeys(n))if(-1===s.indexOf(e))throw new o(`Expected "${a}" to have type ${u(i)} but got additional property "${e}"`);return r}default:r.assertNever(i)}};const s=50;function u(e){return function e(t,n){if(n>s)return"[...(recursive type definition)...]";if("string"==typeof t)return`"${t}"`;if("number"==typeof t)return`${t}`;if("boolean"==typeof t)return`${t}`;if(null===t)return"null";if(void 0===t)return"undefined";switch(t.type){case"optional":return`optional ${e(t.__schema,n+1)}`;case"oneOf":return`oneOf(${t.__options.map(t=>e(t,n+1)).join(", ")})`;case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"any":return"any";case"array":return`array of ${e(t.__contentType,n+1)}`;case"exact":return`{${Object.keys(t.__shape).map(r=>r+": "+e(t.__shape[r],n+1)).join(", ")}}`;default:r.assertNever(t)}}(e,s)}t.addDefaults=function(e,t){for(let n in t)void 0===e[n]&&(e[n]=t[n])},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=p(616                );e.ZeroToOne=r.PropTypes.float.range(0,1),e.PositiveFloat=r.PropTypes.float.min(0),e.Color=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1)}),e.ColorA=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1),a:r.PropTypes.float.range(0,1)});const t=r.PropTypes.exact({0:r.PropTypes.float,1:r.PropTypes.float,2:r.PropTypes.float});e.Matrix=r.PropTypes.exact({0:t,1:t}),e.Vector=r.PropTypes.exact({x:r.PropTypes.float,y:r.PropTypes.float}),e.BlendMode=r.PropTypes.oneOf(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),e.BooleanOperation=r.PropTypes.oneOf(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),e.ConstraintType=r.PropTypes.oneOf(["MIN","CENTER","MAX","STRETCH","SCALE"]),e.StrokeAlign=r.PropTypes.oneOf(["CENTER","INSIDE","OUTSIDE"]),e.StrokeCap=r.PropTypes.oneOf(["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"]),e.StrokeJoin=r.PropTypes.oneOf(["MITER","BEVEL","ROUND"]),e.Constraints=r.PropTypes.exact({horizontal:e.ConstraintType,vertical:e.ConstraintType});const s=r.PropTypes.oneOf(["PIXELS","PERCENT"]);e.NumberWithUnits=r.PropTypes.exact({value:r.PropTypes.float,units:s}),e.TextAlignHorizontal=r.PropTypes.oneOf(["LEFT","CENTER","RIGHT","JUSTIFIED"]),e.TextAlignVertical=r.PropTypes.oneOf(["TOP","CENTER","BOTTOM"]),e.TextCase=r.PropTypes.oneOf(["ORIGINAL","UPPER","LOWER","TITLE"]),e.TextDecoration=r.PropTypes.oneOf(["NONE","UNDERLINE","STRIKETHROUGH"]),e.TextAutoResize=r.PropTypes.oneOf(["NONE","WIDTH_AND_HEIGHT","HEIGHT"]),e.LayoutGrids=r.PropTypes.arrayOf(r.PropTypes.oneOf([r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"MIN",gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([r.PropTypes.integer.min(0),1/0]),sectionSize:r.PropTypes.float.min(0),offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"STRETCH",gutterSize:r.PropTypes.float,count:r.PropTypes.integer.min(0),offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"CENTER",gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([r.PropTypes.integer.min(0),1/0]),sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:"GRID",sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional})]));const n=r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["INNER_SHADOW","DROP_SHADOW"]),offset:e.Vector,color:e.ColorA,blendMode:e.BlendMode,radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool}),r.PropTypes.exact({type:r.PropTypes.oneOf(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool})]);e.Effects=r.PropTypes.arrayOf(n);const T=r.PropTypes.exact({position:e.ZeroToOne,color:e.ColorA});e.Paint=r.PropTypes.oneOf([r.PropTypes.exact({type:"SOLID",color:e.Color,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional}),r.PropTypes.exact({type:r.PropTypes.oneOf(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:e.Matrix,gradientStops:r.PropTypes.arrayOf(T),visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional}),r.PropTypes.exact({type:"IMAGE",scaleMode:r.PropTypes.oneOf(["FILL","FIT","CROP","TILE"]),image:r.PropTypes.exact({hash:r.PropTypes.string}),scalingFactor:e.PositiveFloat.isOptional,imageTransform:e.Matrix.isOptional,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional})]),e.Paints=r.PropTypes.arrayOf(e.Paint),e.FontName=r.PropTypes.exact({family:r.PropTypes.string,style:r.PropTypes.string});const a=r.PropTypes.exact({axis:r.PropTypes.oneOf(["X","Y"]),offset:r.PropTypes.float});e.Guides=r.PropTypes.arrayOf(a),e.ArcData=r.PropTypes.exact({startingAngle:r.PropTypes.float,endingAngle:r.PropTypes.float,innerRadius:e.ZeroToOne});const i=r.PropTypes.oneOf(["nonzero","evenodd"]),y=r.PropTypes.exact({windingRule:r.PropTypes.oneOf([i,null]),data:r.PropTypes.string});e.VectorPaths=r.PropTypes.arrayOf(y);const P=r.PropTypes.exact({position:e.Vector}),l=r.PropTypes.exact({index:r.PropTypes.integer.min(0),tangent:e.Vector}),O=r.PropTypes.exact({start:l,end:l}),f=r.PropTypes.exact({windingRule:i,loops:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.integer.min(0)))});e.VectorNetwork=r.PropTypes.exact({vertices:r.PropTypes.arrayOf(P),segments:r.PropTypes.arrayOf(O),regions:r.PropTypes.arrayOf(f)}),e.ExportSetting=r.PropTypes.oneOf([r.PropTypes.exact({format:r.PropTypes.oneOf(["PNG","JPG"]),contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,constraint:r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["SCALE"]),value:r.PropTypes.float}),r.PropTypes.exact({type:r.PropTypes.oneOf(["WIDTH","HEIGHT"]),value:r.PropTypes.integer})]).isOptional}),r.PropTypes.exact({format:"PDF",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional}),r.PropTypes.exact({format:"SVG",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,svgOutlineText:r.PropTypes.bool.isOptional,svgIdAttribute:r.PropTypes.bool.isOptional,svgSimplifyStroke:r.PropTypes.bool.isOptional})]),e.ExportSettings=r.PropTypes.arrayOf(e.ExportSetting),o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(287       ),i=n(291       ),o=n(292         ),a=n(612                                          ),s=n(1426                               ),d=n(129                               ),u=n(614                    ),c=n(98        ),l=n(293                  ),f=n(373                              ),p=n(616                ),g=n(617                        ),m=n(540                                                           ),h=a.SceneGraphShim.instance,b="resize",y="resizeWithoutConstraints";class v extends Error{constructor(e){super(e)}}t.NodeNotFoundError=v;const S=a.StyleManager.instance;function w(e,t){if(!e.isObject(t))throw new Error(`expected node, got ${e.isNull(t)?"null":e.typeof(t)}`);const n=e.getProp(t,"id");if(!e.isString(n))throw new Error(`expected node id to be a string, got ${e.typeof(n)}`);const r=e.toString(n);if(f.looksLikeStyleKey(r)){const e=S.get(r);if(void 0===e)throw new v(`The style with id ${JSON.stringify(r)} does not exist`);return e}if(r.startsWith("I")){const e=d.PluginHelpers.guidFromDeveloperFriendlyId(r),t=e?h.get(e):void 0;if(void 0===t)throw new v(`The node (instance sublayer) with id ${JSON.stringify(r)} does not exist`);return t}{const e=h.get(r);if(void 0===e)throw new v(`The node with id ${JSON.stringify(r)} does not exist`);return e}}function P(e,t,n){const{vm:r}=e;r.defineProp(t,n,{enumerable:!0,get:function(){const t=I(e,w(r,this).fillPaints.data);return r.deepFreezeObject(t),t},set:function(t){const i=[];return w(r,this).fillPaints={data:R(e,p.deepValidateAndUnwrap(r,t,g.Paints,n),i),blobs:i},r.undefined}})}function A(e,t){const n=e.newObject();return e.defineProp(n,"hash",{enumerable:!1,value:e.deepWrap(t.sha1)}),e.defineFunction(n,"getBytesAsync",function(){const{promise:n,resolve:r,reject:i}=e.newPromise(),o=t.getBytesAsync();return o.then(t=>{e.callFunction(r,e.null,e.deepWrap(t))}),o.catch(t=>{e.callFunction(i,e.null,e.deepWrap(t))}),n}),n}function N(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}function T(e){return e?{m00:e[0][0],m01:e[0][1],m02:e[0][2],m10:e[1][0],m11:e[1][1],m12:e[1][2]}:{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}function I({vm:e,imageStore:t},n){const r=e.newArray();if(!n||0===n.length)return r;for(let i=0,o=0;i<n.length;i++){const a=n[i],s=e.newObject();switch(e.setProp(s,"type",e.deepWrap(a.type)),e.setProp(s,"visible",e.deepWrap(a.visible)),e.setProp(s,"opacity",e.deepWrap(a.opacity)),a.type){case"SOLID":e.setProp(s,"color",e.deepWrap({r:a.color.r,g:a.color.g,b:a.color.b}));break;case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":e.setProp(s,"gradientStops",e.deepWrap(a.stops)),e.setProp(s,"gradientTransform",e.deepWrap(N(a.transform)));break;case"IMAGE":e.setProp(s,"scaleMode",e.deepWrap("STRETCH"===a.imageScaleMode?"CROP":a.imageScaleMode)),e.setProp(s,"imageTransform",e.deepWrap(N(a.transform))),e.setProp(s,"scalingFactor",e.deepWrap(a.scale)),a.image&&a.image.hash?e.setProp(s,"image",A(e,t.createImageFromSHA1(c.toHex(a.image.hash)))):e.setProp(s,"image",e.null);break;default:l.pluginWarn(`Paint type ${a.type} is not yet supported`)}e.setProp(r,(o++).toString(),s)}return r}function R({imageStore:e},t,n){return t.map(t=>{const r=void 0===t.visible||t.visible,i=void 0===t.opacity?1:t.opacity;switch(t.type){case"SOLID":return{type:t.type,color:Object.assign({},t.color,{a:1}),visible:r,opacity:i};case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":return{type:t.type,transform:T(t.gradientTransform),stops:t.gradientStops,visible:r,opacity:i};case"IMAGE":{if(0===t.scalingFactor)throw new Error("image scaleFactor must not be 0");const o=t.image.hash,a={hash:c.fromHex(o)};if(!e.isImageAlreadyRegistered(o)){const t=e.internalBytesForImage(o);if(null===t)throw new Error("Missing bytes for image");a.dataBlob=n.length,n.push({bytes:t})}const s="CROP"===t.scaleMode?"STRETCH":t.scaleMode;return{type:t.type,imageScaleMode:s,image:a,transform:T(t.imageTransform),scale:t.scalingFactor||1,visible:r,opacity:i}}}throw new Error(`Unsupported paint type: ${t.type}`)})}function x(e){const t={suffix:"",contentsOnly:!0,constraint:{type:"SCALE",value:1},svgOutlineText:!0,svgIdAttribute:!1,svgSimplifyStroke:!0};return e.map(e=>(p.addDefaults(e,t),{imageType:"JPG"===e.format?"JPEG":e.format,suffix:e.suffix,contentsOnly:e.contentsOnly,constraint:{type:"CONTENT_"+e.constraint.type,value:e.constraint.value},svgOutlineText:e.svgOutlineText,svgForceStrokeMasks:!e.svgSimplifyStroke,svgIDMode:e.svgIdAttribute?"ALWAYS":"IF_NEEDED"}))}function O(e,t,n){const r=u.decodeNetwork(n.bytes),i=e.normalizedSize||{x:1,y:1},o={x:t.x/(i.x||1),y:t.y/(i.y||1)};return u.scaleVectorNetwork(r,o)}function C(e){const t=u.boundingBoxForNetwork(e),n=u.translateVectorNetwork(e,{x:-t.x,y:-t.y});return{boundingBox:t,vectorNetwork:n,blob:{bytes:u.encodeNetwork(n)}}}t.getNode=w,function(e){e.toString=function({vm:e},t){e.defineFunction(t,"toString",function(){const t=e.toString(e.getProp(this,"id"));return e.newString(`[Node ${t}]`)})},e.clone=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"clone",function(){const n=h.clone(w(e,this));return t.createNode(n)})},e.remove=function({vm:e},t){e.defineFunction(t,"remove",function(){return h.removeSelfAndChildren(w(e,this)),e.undefined})},e.exportNode=function({vm:e},t){e.defineFunction(t,"exportAsync",function(t){const n=w(e,this),r=p.deepValidateAndUnwrap(e,t,g.ExportSetting.isOptional,"exportAsync settings")||{format:"PNG"};if("PNG"!==r.format)throw new Error("Only PNG exports are currently supported from plugins");const a=o.encode(i.schema.encodeNodeChange({exportSettings:x([r])})),d=s.fullscreen.sendMessage("PLUGIN_REQUEST_EXPORT_NODE_AS_IMAGE",{nodeId:n.guid,settings:a});if(!d||"success"!==d.args.status||!d.buffer){const e=d.args.error&&d.args.error?d.args.error:"<unknown>";throw new Error("Could not export node: "+e)}const{promise:u,resolve:c}=e.newPromise();return e.callFunction(c,e.null,e.newUint8Array(d.buffer)),u})},e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){const t=w(e,this),n=t.type;switch(n){case"ROUNDED_RECTANGLE":return e.newString("RECTANGLE");case"REGULAR_POLYGON":return e.newString("POLYGON");case"SYMBOL":return e.newString("COMPONENT");case"FRAME":if(t.resizeToFit)return e.newString("GROUP");break;case"CANVAS":return e.newString("PAGE")}return e.newString(n)}})},e.parent=function({vm:e,nodeFactory:t},n){e.defineProp(n,"parent",{enumerable:!0,get:function(){const n=w(e,this).parent;if(null===n)return e.null;const r=t.createNode(n),i=w(e,r);return i.sharedSymbolReference||"CANVAS"===i.type&&i.isInternalOnlyNode?e.null:r}})},e.name=function({vm:e},t){e.defineProp(t,"name",{enumerable:!0,get:function(){return e.newString(w(e,this).name)},set:function(t){const n=w(e,this);return"TEXT"===n.type&&(n.autoRename=!1),n.name=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"name"),e.undefined}})},e.visible=function({vm:e},t){e.defineProp(t,"visible",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).visible)},set:function(t){return w(e,this).visible=p.deepValidateAndUnwrap(e,t,p.PropTypes.bool,"visible"),e.undefined}})},e.locked=function({vm:e},t){e.defineProp(t,"locked",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).locked)},set:function(t){return w(e,this).locked=p.deepValidateAndUnwrap(e,t,p.PropTypes.bool,"locked"),e.undefined}})},e.removed=function({vm:e},t){e.defineProp(t,"removed",{enumerable:!0,get:function(){try{return w(e,this),e.newBoolean(!1)}catch(t){if(t instanceof v)return e.newBoolean(!0);throw t}}})},e.children=function({vm:e,nodeFactory:t},n){e.defineProp(n,"children",{enumerable:!0,get:function(){const n=e.newArray(),r=w(e,this).reversedChildren,i=r.length;if("0:0"!==e.getStringProp(this,"id"))for(let o=0;o<i;o++)e.setProp(n,o.toString(),t.createNode(r[i-o-1]));else for(let o=0,a=0;o<i;o++){let s=r[i-o-1];h.get(s).isInternalOnlyNode||(e.setProp(n,a.toString(),t.createNode(s)),a++)}return e.deepFreezeObject(n),n}})},e.findOne=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"findOne",function(n){const r=(i,o)=>{const a=i.reversedChildren,s=a.length;for(let d=0;d<s;d++){const i=h.get(a[s-d-1]);if(o&&i.isInternalOnlyNode)continue;const u=t.createNode(i.guid),c=e.callFunction(n,e.null,u);if("FAILURE"===c.type)throw new Error(`"findOne" callback crashed: ${c.error.message}`);if(e.toBoolean(c.handle))return u;const l=r(i,!1);if(void 0!==l)return l}},i=w(e,this),o=r(i,"0:0"===i.guid);return void 0!==o?o:e.null})},e.findAll=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"findAll",function(n){const r=e.toBoolean(n),i=e.newArray();let o=0;const a=(s,d)=>{const u=s.reversedChildren,c=u.length;for(let l=0;l<c;l++){const s=h.get(u[c-l-1]);if(d&&s.isInternalOnlyNode)continue;const f=t.createNode(s.guid);if(r){const t=e.callFunction(n,e.null,f);if("FAILURE"===t.type)throw new Error(`"findAll" callback crashed: ${t.error.message}`);e.toBoolean(t.handle)&&(e.setProp(i,o+"",f),o++)}else e.setProp(i,o+"",f),o++;a(s,!1)}},s=w(e,this);return a(s,"0:0"===s.guid),i})},e.appendChild=function({vm:e},t){e.defineFunction(t,"appendChild",function(t){return h.appendChild(w(e,this),w(e,t)),e.null}),e.defineFunction(t,"insertChild",function(t,n){let r=p.deepValidateAndUnwrap(e,t,p.PropTypes.integer,"insertChild index");const i=w(e,this);if("0:0"===e.getStringProp(this,"id")){const e=i.reversedChildren,t=e.length;for(let n=0;n<t&&n<r;n++)h.get(e[t-n-1]).isInternalOnlyNode&&r++}return h.insertChild(i,r,w(e,n)),e.null})},e.constraints=function({vm:e},t){e.defineProp(t,"constraints",{enumerable:!0,get:function(){const t=w(e,this),n=e.deepWrap({horizontal:t.horizontalConstraint,vertical:t.verticalConstraint});return e.deepFreezeObject(n),n},set:function(t){const{vertical:n,horizontal:r}=p.deepValidateAndUnwrap(e,t,g.Constraints,"constraints"),i=w(e,this);return i.verticalConstraint=n,i.horizontalConstraint=r,e.undefined}})},e.relativeTransform=function({vm:e},t){e.defineProp(t,"relativeTransform",{enumerable:!0,get:function(){const t=e.deepWrap(N(w(e,this).relativeTransform));return e.deepFreezeObject(t),t},set:function(t){return w(e,this).relativeTransform=T(p.deepValidateAndUnwrap(e,t,g.Matrix,"relativeTransform")),e.undefined}})},e.absoluteTransform=function({vm:e},t){e.defineProp(t,"absoluteTransform",{enumerable:!0,get:function(){const t=e.deepWrap(N(w(e,this).absoluteTransform));return e.deepFreezeObject(t),t}})},e.x=function({vm:e},t){e.defineProp(t,"x",{enumerable:!0,get:function(){return e.newNumber(w(e,this).relativeTransform.m02)},set:function(t){const n=w(e,this);return n.relativeTransform=Object.assign({},n.relativeTransform,{m02:p.deepValidateAndUnwrap(e,t,p.PropTypes.float,"x")}),e.undefined}})},e.y=function({vm:e},t){e.defineProp(t,"y",{enumerable:!0,get:function(){return e.newNumber(w(e,this).relativeTransform.m12)},set:function(t){const n=w(e,this);return n.relativeTransform=Object.assign({},n.relativeTransform,{m12:p.deepValidateAndUnwrap(e,t,p.PropTypes.float,"y")}),e.undefined}})},e.width=function({vm:e},t){e.defineProp(t,"width",{enumerable:!0,get:function(){return e.newNumber(w(e,this).size.x)}})},e.height=function({vm:e},t){e.defineProp(t,"height",{enumerable:!0,get:function(){return e.newNumber(w(e,this).size.y)}})},e.resizeWithoutConstraints=function({vm:e},t){e.defineFunction(t,y,function(t,n){let r=w(e,this),i="LINE"===r.type?0:p.PropTypes.float.min(.01);const o=p.deepValidateAndUnwrap(e,t,p.PropTypes.float.min(.01),`${y} width`),a=p.deepValidateAndUnwrap(e,n,i,`${y} height`);return h.resizeWithoutConstraints(r,o,a),e.undefined})},e.resizeWithConstraints=function({vm:e},t){e.defineFunction(t,b,function(t,n){let r=w(e,this),i="LINE"===r.type?0:p.PropTypes.float.min(.01);const o=p.deepValidateAndUnwrap(e,t,p.PropTypes.float.min(.01),`${b} width`),a=p.deepValidateAndUnwrap(e,n,i,`${b} height`);return h.resizeWithConstraints(r,o,a),e.undefined})},e.opacity=function({vm:e},t){e.defineProp(t,"opacity",{enumerable:!0,get:function(){return e.newNumber(w(e,this).opacity)},set:function(t){return w(e,this).opacity=p.deepValidateAndUnwrap(e,t,g.ZeroToOne,"opacity"),e.undefined}})},e.blendMode=function({vm:e},t){e.defineProp(t,"blendMode",{enumerable:!0,get:function(){return e.newString(w(e,this).blendMode)},set:function(t){return w(e,this).blendMode=p.deepValidateAndUnwrap(e,t,g.BlendMode,"blendMode"),e.undefined}})},e.isMask=function({vm:e},t){e.defineProp(t,"isMask",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).mask)},set:function(t){return w(e,this).mask=p.deepValidateAndUnwrap(e,t,p.PropTypes.bool,"isMask"),e.undefined}})},e.effects=function({vm:e},t){e.defineProp(t,"effects",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).effects.map(e=>"INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type?{type:e.type,color:e.color,offset:e.offset,radius:e.radius,visible:e.visible,blendMode:e.blendMode}:{type:"FOREGROUND_BLUR"===e.type?"LAYER_BLUR":e.type,radius:e.radius,visible:e.visible}));return e.deepFreezeObject(t),t},set:function(t){return w(e,this).effects=p.deepValidateAndUnwrap(e,t,g.Effects,"effects").map(e=>Object.assign({},e,{type:"LAYER_BLUR"===e.type?"FOREGROUND_BLUR":e.type})),e.undefined}})},e.effectStyleId=function({vm:e},t){e.defineProp(t,"effectStyleId",{enumerable:!0,get:function(){return e.deepWrap(f.styleKeyToString(w(e,this).inheritedEffectStyle))},set:function(t){return w(e,this).inheritedEffectStyle=f.styleKeyFromString(p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"effectStyleId")),e.undefined}})},e.cornerRadius=function({vm:e},t){e.defineProp(t,"cornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).cornerRadius)},set:function(t){const n=w(e,this),r=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"cornerRadius");return n.cornerRadius=r,"ROUNDED_RECTANGLE"===n.type&&(n.rectangleCornerRadiiIndependent=!1,n.rectangleCornerToolIndependent=!1,n.rectangleTopLeftCornerRadius=r,n.rectangleTopRightCornerRadius=r,n.rectangleBottomLeftCornerRadius=r,n.rectangleBottomRightCornerRadius=r),e.undefined}})},e.cornerSmoothing=function({vm:e},t){e.defineProp(t,"cornerSmoothing",{enumerable:!0,get:function(){return e.newNumber(w(e,this).cornerSmoothing)},set:function(t){return w(e,this).cornerSmoothing=p.deepValidateAndUnwrap(e,t,g.ZeroToOne,"cornerSmoothing"),e.undefined}})},e.fills=function(e,t){P(e,t,"fills")},e.fillStyleId=function({vm:e},t){e.defineProp(t,"fillStyleId",{enumerable:!0,get:function(){return e.deepWrap(f.styleKeyToString(w(e,this).inheritedFillStyle))},set:function(t){return w(e,this).inheritedFillStyle=f.styleKeyFromString(p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"fillStyleId")),e.undefined}})},e.strokes=function(e,t){const{vm:n}=e;n.defineProp(t,"strokes",{enumerable:!0,get:function(){const t=I(e,w(n,this).strokePaints.data);return n.deepFreezeObject(t),t},set:function(t){const r=[];return w(n,this).strokePaints={data:R(e,p.deepValidateAndUnwrap(n,t,g.Paints,"strokes"),r),blobs:r},n.undefined}})},e.strokeStyleId=function({vm:e},t){e.defineProp(t,"strokeStyleId",{enumerable:!0,get:function(){return e.deepWrap(f.styleKeyToString(w(e,this).inheritedFillStyleForStroke))},set:function(t){return w(e,this).inheritedFillStyleForStroke=f.styleKeyFromString(p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"effectStyleId")),e.undefined}})},e.strokeWeight=function({vm:e},t){e.defineProp(t,"strokeWeight",{enumerable:!0,get:function(){return e.newNumber(w(e,this).strokeWeight)},set:function(t){return w(e,this).strokeWeight=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"strokeWeight"),e.undefined}})},e.strokeAlign=function({vm:e},t){e.defineProp(t,"strokeAlign",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeAlign)},set:function(t){return w(e,this).strokeAlign=p.deepValidateAndUnwrap(e,t,g.StrokeAlign,"strokeAlign"),e.undefined}})},e.strokeCap=function({vm:e},t){e.defineProp(t,"strokeCap",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeCap)},set:function(t){return w(e,this).strokeCap=p.deepValidateAndUnwrap(e,t,g.StrokeCap,"strokeCap"),e.undefined}})},e.strokeJoin=function({vm:e},t){e.defineProp(t,"strokeJoin",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeJoin)},set:function(t){return w(e,this).strokeJoin=p.deepValidateAndUnwrap(e,t,g.StrokeJoin,"strokeJoin"),e.undefined}})},e.dashPattern=function({vm:e},t){e.defineProp(t,"dashPattern",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).dashPattern);return e.deepFreezeObject(t),t},set:function(t){const n=p.deepValidateAndUnwrap(e,t,p.PropTypes.arrayOf(p.PropTypes.float.min(0)),"dashPattern");if(n.length>d.PluginHelpers.getMaxDashPattern())throw new Error("A maximum of 8 dash patterns is supported");return w(e,this).dashPattern=n,e.undefined}})},e.backgrounds=function(e,t){const{vm:n}=e;n.defineProp(t,"backgrounds",{enumerable:!0,get:function(){const t=I(e,w(n,this).backgroundPaints.data);return n.deepFreezeObject(t),t},set:function(t){const r=[];return w(n,this).backgroundPaints={data:R(e,p.deepValidateAndUnwrap(n,t,g.Paints,"backgrounds"),r),blobs:r},n.undefined}})},e.backgroundStyleId=function({vm:e},t){e.defineProp(t,"backgroundStyleId",{enumerable:!0,get:function(){return e.deepWrap(f.styleKeyToString(w(e,this).inheritedFillStyleForBackground))},set:function(t){return w(e,this).inheritedFillStyleForBackground=f.styleKeyFromString(p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"backgroundStyleId")),e.undefined}})},e.layoutGrids=function({vm:e},t){e.defineProp(t,"layoutGrids",{enumerable:!0,get:function(){const t=e.deepWrap(void 0===(n=w(e,this).layoutGrids)?[]:n.map(e=>{let t={pattern:"GRID"===e.pattern?"GRID":"X"===e.axis?"COLUMNS":"ROWS",visible:e.visible,color:e.color};if("STRIPES"===e.pattern)switch(t.gutterSize=e.gutterSize,t.alignment=e.type,e.type){case"MIN":t.count=e.numSections===m.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,t.sectionSize=e.sectionSize,t.offset=e.offset;break;case"STRETCH":t.count=e.numSections===m.NUM_SECTIONS_INFINITE?1:e.numSections,t.offset=e.offset;break;case"CENTER":t.count=e.numSections===m.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,t.sectionSize=e.sectionSize}else t.sectionSize=e.sectionSize;return t}));var n;return e.deepFreezeObject(t),t},set:function(t){return w(e,this).layoutGrids=function(e){const t={alignment:"STRETCH",count:5,gutterSize:20,sectionSize:10,offset:0,visible:!0,color:{r:1,g:0,b:0,a:.1}};return e.map(e=>(p.addDefaults(e,t),{pattern:"COLUMNS"===e.pattern||"ROWS"===e.pattern?"STRIPES":e.pattern,axis:"COLUMNS"===e.pattern?"X":"Y",numSections:Math.min(e.count,m.NUM_SECTIONS_INFINITE),type:e.alignment,gutterSize:e.gutterSize,sectionSize:e.sectionSize,offset:e.offset,visible:e.visible,color:e.color}))}(p.deepValidateAndUnwrap(e,t,g.LayoutGrids,"layoutGrids")),e.undefined}})},e.gridStyleId=function({vm:e},t){e.defineProp(t,"gridStyleId",{enumerable:!0,get:function(){return e.deepWrap(f.styleKeyToString(w(e,this).inheritedGridStyle))},set:function(t){return w(e,this).inheritedGridStyle=f.styleKeyFromString(p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"gridStyleId")),e.undefined}})},e.clipsContent=function({vm:e},t){e.defineProp(t,"clipsContent",{enumerable:!0,get:function(){return e.newBoolean(!w(e,this).frameMaskDisabled)},set:function(t){return w(e,this).frameMaskDisabled=!p.deepValidateAndUnwrap(e,t,p.PropTypes.bool,"clipsContent"),e.undefined}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(w(e,this).symbolDescription)},set:function(t){return w(e,this).symbolDescription=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"description"),e.undefined}})},e.remote=function({vm:e},t){e.defineProp(t,"remote",{enumerable:!0,get:function(){const t=w(e,this),n=t.parent&&h.get(t.parent),r=n&&!!n.sharedSymbolReference;return e.newBoolean(r)}})},e.masterComponent=function({vm:e,nodeFactory:t},n){e.defineProp(n,"masterComponent",{enumerable:!0,get:function(){const n=w(e,this);return t.createNode(n.symbolId)}})},e.createInstance=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"createInstance",function(){const n=h.createInstance(w(e,this));return t.createNode(n)})},e.textStyleId=function({vm:e},t){e.defineProp(t,"textStyleId",{enumerable:!0,get:function(){return e.deepWrap(f.styleKeyToString(w(e,this).inheritedTextStyle))},set:function(t){return w(e,this).inheritedTextStyle=f.styleKeyFromString(p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"textStyleId")),e.undefined}})},e.characters=function({vm:e},t){e.defineProp(t,"characters",{enumerable:!0,get:function(){return e.newString(w(e,this).characters)},set:function(t){return w(e,this).characters=p.deepValidateAndUnwrap(e,t,p.PropTypes.string,"characters"),e.undefined}})},e.autoRename=function({vm:e},t){e.defineProp(t,"autoRename",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).autoRename)},set:function(t){const n=w(e,this),r=p.deepValidateAndUnwrap(e,t,p.PropTypes.bool,"autoRename");return n.autoRename=r,r&&(n.name=n.characters.trim().replace(/\s+/g," ")),e.undefined}})},e.fontSize=function({vm:e},t){e.defineProp(t,"fontSize",{enumerable:!0,get:function(){return e.newNumber(w(e,this).fontSize)},set:function(t){return w(e,this).fontSize=p.deepValidateAndUnwrap(e,t,p.PropTypes.float.min(1),"fontSize"),e.undefined}})},e.paragraphIndent=function({vm:e},t){e.defineProp(t,"paragraphIndent",{enumerable:!0,get:function(){return e.newNumber(w(e,this).paragraphIndent)},set:function(t){return w(e,this).paragraphIndent=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"paragraphIndent"),e.undefined}})},e.paragraphSpacing=function({vm:e},t){e.defineProp(t,"paragraphSpacing",{enumerable:!0,get:function(){return e.newNumber(w(e,this).paragraphSpacing)},set:function(t){return w(e,this).paragraphSpacing=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"paragraphSpacing"),e.undefined}})},e.letterSpacing=function({vm:e},t){e.defineProp(t,"letterSpacing",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).letterSpacing);return e.deepFreezeObject(t),t},set:function(t){return w(e,this).letterSpacing=p.deepValidateAndUnwrap(e,t,g.NumberWithUnits,"letterSpacing"),e.undefined}})},e.textAlignHorizontal=function({vm:e},t){e.defineProp(t,"textAlignHorizontal",{enumerable:!0,get:function(){return e.newString(w(e,this).textAlignHorizontal)},set:function(t){return w(e,this).textAlignHorizontal=p.deepValidateAndUnwrap(e,t,g.TextAlignHorizontal,"textAlignHorizontal"),e.undefined}})},e.textAlignVertical=function({vm:e},t){e.defineProp(t,"textAlignVertical",{enumerable:!0,get:function(){return e.newString(w(e,this).textAlignVertical)},set:function(t){return w(e,this).textAlignVertical=p.deepValidateAndUnwrap(e,t,g.TextAlignVertical,"textAlignVertical"),e.undefined}})},e.textCase=function({vm:e},t){e.defineProp(t,"textCase",{enumerable:!0,get:function(){return e.newString(w(e,this).textCase)},set:function(t){return w(e,this).textCase=p.deepValidateAndUnwrap(e,t,g.TextCase,"textCase"),e.undefined}})},e.textDecoration=function({vm:e},t){e.defineProp(t,"textDecoration",{enumerable:!0,get:function(){return e.newString(w(e,this).textDecoration)},set:function(t){return w(e,this).textDecoration=p.deepValidateAndUnwrap(e,t,g.TextDecoration,"textDecoration"),e.undefined}})},e.textAutoResize=function({vm:e},t){e.defineProp(t,"textAutoResize",{enumerable:!0,get:function(){return e.newString(w(e,this).textAutoResize)},set:function(t){return w(e,this).textAutoResize=p.deepValidateAndUnwrap(e,t,g.TextAutoResize,"textAutoResize"),e.undefined}})},e.lineHeight=function({vm:e},t){e.defineProp(t,"lineHeight",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).lineHeight);return e.deepFreezeObject(t),t},set:function(t){return w(e,this).lineHeight=p.deepValidateAndUnwrap(e,t,g.NumberWithUnits,"lineHeight"),e.undefined}})},e.fontName=function({vm:e},t){e.defineProp(t,"fontName",{enumerable:!0,get:function(){const t=w(e,this).fontName,n=e.deepWrap({family:t.family,style:t.style});return e.deepFreezeObject(n),n},set:function(t){return w(e,this).fontName=p.deepValidateAndUnwrap(e,t,g.FontName,"fontName"),e.undefined}})},e.pointCount=function({vm:e},t){e.defineProp(t,"pointCount",{enumerable:!0,get:function(){return e.newNumber(w(e,this).count)},set:function(t){return w(e,this).count=p.deepValidateAndUnwrap(e,t,p.PropTypes.integer.min(3),"pointCount"),e.undefined}})},e.vectorNetwork=function({vm:e},t){e.defineProp(t,"vectorNetwork",{enumerable:!0,get:function(){const t=w(e,this),{data:n,blobs:r}=t.vectorDataInfo,i=O(n,t.size,r[n.vectorNetworkBlob]),o=e.deepWrap(i);return e.deepFreezeObject(o),o},set:function(t){const{boundingBox:n,blob:r}=C(p.deepValidateAndUnwrap(e,t,g.VectorNetwork,"vectorNetwork")),i={x:n.width,y:n.height},o={x:n.x,y:n.y},a=w(e,this);a.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:i},blobs:[r]};const s=a.relativeTransform,d=u.transformVector(s,o);return a.size=i,a.relativeTransform=Object.assign({},s,{m02:d.x,m12:d.y}),e.undefined}})},e.vectorPaths=function({vm:e},t){e.defineProp(t,"vectorPaths",{enumerable:!0,get:function(){const t=w(e,this),{data:n,blobs:r}=t.vectorDataInfo,i=function(e,t,n){const r=O(e,t,n);return u.convertNetworkToPaths(r)}(n,t.size,r[n.vectorNetworkBlob]),o=e.deepWrap(i);return e.deepFreezeObject(o),o},set:function(t){const{boundingBox:n,blob:r}=(i=p.deepValidateAndUnwrap(e,t,g.VectorPaths,"vectorPaths"),C(u.convertPathsToNetwork(i)));var i;const o={x:n.width,y:n.height},a={x:n.x,y:n.y},s=w(e,this);s.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:o},blobs:[r]};const d=s.relativeTransform,c=u.transformVector(d,a);return s.size=o,s.relativeTransform=Object.assign({},d,{m02:c.x,m12:c.y}),e.undefined}})},e.guides=function({vm:e},t){e.defineProp(t,"guides",{enumerable:!0,get:function(){const t=e.deepWrap((w(e,this).guides||[]).map(e=>({axis:e.axis,offset:e.offset})));return e.deepFreezeObject(t),t},set:function(t){return w(e,this).guides=p.deepValidateAndUnwrap(e,t,g.Guides,"guides").map(e=>({axis:e.axis,offset:e.offset,guid:r.invalidGUID})),e.undefined}})},e.selection=function({vm:e,nodeFactory:t},n){e.defineProp(n,"selection",{enumerable:!0,get:function(){const n=e.newArray();let r=0;for(const i of w(e,this).directlySelectedNodes)e.setProp(n,r.toString(),t.createNode(i)),r++;return e.deepFreezeObject(n),n},set:function(t){if(!e.isArray(t))throw new Error("The selection must be an array");const n=e.getNumberProp(t,"length"),r=[];for(let i=0;i<n;i++){const n=e.getProp(t,i.toString());r.push(w(e,n).guid)}return w(e,this).directlySelectedNodes=r,e.undefined}})},e.booleanOperation=function({vm:e},t){e.defineProp(t,"booleanOperation",{enumerable:!0,get:function(){let t=w(e,this).booleanOperation;return"XOR"===t&&(t="EXCLUDE"),e.newString(t)},set:function(t){let n=p.deepValidateAndUnwrap(e,t,g.BooleanOperation,"booleanOperation");return"EXCLUDE"===n&&(n="XOR"),w(e,this).booleanOperation=n,e.undefined}})},e.starInnerRadius=function({vm:e},t){e.defineProp(t,"starInnerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).starInnerScale)},set:function(t){return w(e,this).starInnerScale=p.deepValidateAndUnwrap(e,t,g.ZeroToOne,"starInnerRadius"),e.undefined}})},e.arcData=function({vm:e},t){e.defineProp(t,"arcData",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).arcData);return e.deepFreezeObject(t),t},set:function(t){return w(e,this).arcData=p.deepValidateAndUnwrap(e,t,g.ArcData,"arcData"),e.undefined}})},e.topLeftRadius=function({vm:e},t){e.defineProp(t,"topLeftRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleTopLeftCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleTopLeftCornerRadius=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"topLeftRadius"),e.undefined}})},e.topRightRadius=function({vm:e},t){e.defineProp(t,"topRightRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleTopRightCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleTopRightCornerRadius=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"topRightRadius"),e.undefined}})},e.bottomLeftRadius=function({vm:e},t){e.defineProp(t,"bottomLeftRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleBottomLeftCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleBottomLeftCornerRadius=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"bottomLeftRadius"),e.undefined}})},e.bottomRightRadius=function({vm:e},t){e.defineProp(t,"bottomRightRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleBottomRightCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleBottomRightCornerRadius=p.deepValidateAndUnwrap(e,t,g.PositiveFloat,"bottomRightRadius"),e.undefined}})},e.exportSettings=function({vm:e},t){e.defineProp(t,"exportSettings",{enumerable:!0,get:function(){const t=e.deepWrap(void 0===(n=w(e,this).exportSettings)?[]:n.map(e=>{const t={format:"JPEG"===e.imageType?"JPG":e.imageType,suffix:e.suffix,contentsOnly:!!e.contentsOnly};return"JPG"===t.format||"PNG"===t.format?t.constraint={type:e.constraint.type.substring("CONTENT_".length),value:e.constraint.value}:"SVG"===t.format&&(t.svgOutlineText=!!e.svgOutlineText,t.svgIdAttribute="ALWAYS"==e.svgIDMode,t.svgSimplifyStroke=!e.svgForceStrokeMasks),t}));var n;return e.deepFreezeObject(t),t},set:function(t){return w(e,this).exportSettings=x(p.deepValidateAndUnwrap(e,t,g.ExportSettings,"exportSettings")),e.undefined}})}}(t.VmNode||(t.VmNode={})),t.defineFillsProp=P,t.wrapPrivateImage=A,t.mixin=function(e,t,...n){const r=e.vm.evalCode(`(function ${t}() {}).prototype`);if("SUCCESS"!==r.type)throw new Error("Internal eval error");for(const i of n)i(e,r.handle);return r.handle},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const d=t(612                                          ),i=t(129                               ),r=t(618                     ),n=d.SceneGraphShim.instance;const s=[r.VmNode.toString,r.VmNode.clone,r.VmNode.remove,r.VmNode.type,r.VmNode.parent,r.VmNode.name,r.VmNode.visible,r.VmNode.locked,r.VmNode.removed],N=[r.VmNode.children,r.VmNode.findAll,r.VmNode.findOne,r.VmNode.appendChild],a=[r.VmNode.constraints,r.VmNode.relativeTransform,r.VmNode.absoluteTransform,r.VmNode.x,r.VmNode.y,r.VmNode.width,r.VmNode.height,r.VmNode.resizeWithConstraints,r.VmNode.resizeWithoutConstraints],m=[r.VmNode.opacity,r.VmNode.blendMode,r.VmNode.isMask,r.VmNode.effects,r.VmNode.effectStyleId],c=[r.VmNode.cornerRadius,r.VmNode.cornerSmoothing],p=[r.VmNode.fills,r.VmNode.fillStyleId,r.VmNode.strokes,r.VmNode.strokeStyleId,r.VmNode.strokeWeight,r.VmNode.strokeAlign,r.VmNode.strokeCap,r.VmNode.strokeJoin,r.VmNode.dashPattern],V=[r.VmNode.layoutGrids,r.VmNode.gridStyleId,r.VmNode.backgrounds,r.VmNode.backgroundStyleId,r.VmNode.clipsContent,r.VmNode.guides],l=[r.VmNode.description,r.VmNode.remote,r.VmNode.createInstance],h=[r.VmNode.masterComponent],y=[r.VmNode.textStyleId,r.VmNode.characters,r.VmNode.autoRename,r.VmNode.fontSize,r.VmNode.paragraphIndent,r.VmNode.paragraphSpacing,r.VmNode.textAlignHorizontal,r.VmNode.textAlignVertical,r.VmNode.textCase,r.VmNode.textDecoration,r.VmNode.textAutoResize,r.VmNode.letterSpacing,r.VmNode.lineHeight,r.VmNode.fontName],b=[r.VmNode.pointCount],u=[r.VmNode.vectorNetwork,r.VmNode.vectorPaths],P=[r.VmNode.guides,r.VmNode.selection],g=[r.VmNode.booleanOperation],O=[r.VmNode.starInnerRadius],f=[r.VmNode.arcData],x=[r.VmNode.topLeftRadius,r.VmNode.topRightRadius,r.VmNode.bottomLeftRadius,r.VmNode.bottomRightRadius],k=[r.VmNode.exportSettings,r.VmNode.exportNode],w=[...s,...m,...p,...a,...k],S=[...s,...m,...a,...N,...V,...k];o.PublicNodeFactory=class{constructor(e,o){this.cache=new Map;const t={vm:e,nodeFactory:this,imageStore:o};this.vm=e,this.documentNodePrototype=r.mixin(t,"DocumentNode",...s,...N),this.canvasNodePrototype=r.mixin(t,"PageNode",...s,...N,...P,...k),this.sliceNodePrototype=r.mixin(t,"SliceNode",...s,...a,...k),this.frameNodePrototype=r.mixin(t,"FrameNode",...S),this.symbolNodePrototype=r.mixin(t,"ComponentNode",...S,...l),this.instanceNodePrototype=r.mixin(t,"InstanceNode",...S,...h),this.booleanOperationNodePrototype=r.mixin(t,"BooleanOperationNode",...w,...c,...N,...g),this.vectorNodePrototype=r.mixin(t,"VectorNode",...w,...c,...u),this.starNodePrototype=r.mixin(t,"StarNode",...w,...c,...b,...O),this.lineNodePrototype=r.mixin(t,"LineNode",...w),this.ellipseNodePrototype=r.mixin(t,"EllipseNode",...w,...c,...f),this.polygonNodePrototype=r.mixin(t,"PolygonNode",...w,...c,...b),this.roundedRectangleNodePrototype=r.mixin(t,"RectangleNode",...w,...c,...x),this.textNodePrototype=r.mixin(t,"TextNode",...w,...y)}createNode(e){let o=this.cache.get(e);if(void 0!==o)return o;const t=this.vm,d=function(e){return n.get(e).type}(e);switch(d){case"DOCUMENT":o=t.newObject(this.documentNodePrototype);break;case"CANVAS":o=t.newObject(this.canvasNodePrototype);break;case"SLICE":o=t.newObject(this.sliceNodePrototype);break;case"FRAME":o=t.newObject(this.frameNodePrototype);break;case"SYMBOL":o=t.newObject(this.symbolNodePrototype);break;case"INSTANCE":o=t.newObject(this.instanceNodePrototype);break;case"BOOLEAN_OPERATION":o=t.newObject(this.booleanOperationNodePrototype);break;case"VECTOR":o=t.newObject(this.vectorNodePrototype);break;case"STAR":o=t.newObject(this.starNodePrototype);break;case"LINE":o=t.newObject(this.lineNodePrototype);break;case"ELLIPSE":o=t.newObject(this.ellipseNodePrototype);break;case"REGULAR_POLYGON":o=t.newObject(this.polygonNodePrototype);break;case"ROUNDED_RECTANGLE":case"RECTANGLE":o=t.newObject(this.roundedRectangleNodePrototype);break;case"TEXT":o=t.newObject(this.textNodePrototype);break;default:throw new Error(`unsupported type in create node: ${d}`)}const r=i.PluginHelpers.developerFriendlyIdFromGuid(e);if(!r)throw new Error(`Internal Figma error: unknown id "${r}" in createNode`);return t.defineProp(o,"id",{enumerable:!0,writable:!1,value:t.newString(r)}),t.shallowFreezeObject(o),this.cache.set(e,o),o}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,o){n.exports={pluginUI:"jsvm_ui--pluginUI--HIW9L"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(34,1   ),a=t(38,1       ),n=t(214                                                    ),l=t(198         ),r=t(1426                               ),o=t(232                        ),h=t(139                                    ),d=t(620            ),m=console.warn.bind(console);function u(e,i,t){return Math.min(t,Math.max(i,e))}function c(e){const i=new l.Vector((window.innerWidth-(e.width||0))/2,(window.innerHeight-(e.height||0))/2);return s.createElement("div",{style:{display:e.displayed?"":"none"},className:d.pluginUI},s.createElement(n.DraggableModal,{title:e.title,dragHeaderOnly:!0,onClose:e.cancelCallback,initialPosition:i},s.createElement("iframe",{name:"Plugin Iframe",sandbox:"allow-scripts allow-forms allow-pointer-lock",ref:e.iframeRefCallback,style:{background:"white",width:e.width,height:e.height},srcDoc:e.srcdoc})))}i.PluginUIHandle=class{constructor(e,i,t,s){this.uiContainer=null,this.pendingMessages=[],this.iframeElement=null,this.iframeHtml="",this.iframeDisplayed=!1,this.iframeWidth=300,this.iframeHeight=200,this.iframeLoaded=!1,this.tearDown=(()=>{this.destroyIframe(),this.hideProgress()}),this.windowMessageEventListener=(e=>{e.source&&this.iframeElement&&e.source===this.iframeElement.contentWindow&&("pluginMessage"in e.data?this.messageHandler(e.data.pluginMessage):m('Ignoring postMessage from plugin UI iframe due to missing "pluginMessage"'))}),this.setIframeElement=(e=>{this.iframeElement=e,this.iframeElement&&(this.iframeElement.onload=(()=>{this.iframeLoaded=!0;const e=this.pendingMessages;this.pendingMessages=[],e.forEach(e=>this.postMessageToIframe(e))}))}),this.title=e,this.shouldShowVisualBell=i,this.cancelCallback=t,this.messageHandler=s,this.showProgress()}updateUI(){a.render(s.createElement(c,{srcdoc:this.iframeHtml,title:this.title,displayed:this.iframeDisplayed,width:this.iframeWidth,height:this.iframeHeight,iframeRefCallback:this.setIframeElement,cancelCallback:this.cancelCallback}),this.uiContainer)}makeIframe(e){this.destroyIframe(),this.iframeHtml=e,this.iframeLoaded=!1,this.uiContainer=document.createElement("div"),document.body.appendChild(this.uiContainer),window.addEventListener("message",this.windowMessageEventListener),this.updateUI()}destroyIframe(){this.hideIframe(),this.iframeHtml="",this.pendingMessages=[],this.iframeElement&&(this.iframeElement.onload=null),window.removeEventListener("message",this.windowMessageEventListener),this.uiContainer&&(a.unmountComponentAtNode(this.uiContainer),document.body.removeChild(this.uiContainer)),this.uiContainer=null,this.iframeElement=null}setIframeSize(e,i){if(!this.uiContainer)throw new Error("call showHtmlUI first");Number.isNaN(e)||(this.iframeWidth=u(e,100,window.innerWidth-50)),Number.isNaN(i)||(this.iframeHeight=u(i,100,window.innerHeight-50)),this.updateUI()}showIframe(){if(!this.uiContainer)throw new Error("call showHtmlUI first");this.hideProgress(),this.iframeDisplayed=!0,this.updateUI()}hideIframe(){this.iframeDisplayed=!1,this.uiContainer&&this.updateUI(),this.showProgress()}postMessageToIframe(e){if(!this.uiContainer)throw new Error("call showHtmlUI first");this.iframeLoaded?this.iframeElement.contentWindow.postMessage({pluginMessage:e},"*"):this.pendingMessages.push(e)}showProgress(){r.fullscreen&&r.fullscreen.isReady()&&this.shouldShowVisualBell&&r.fullscreen.dispatch(o.visualBell.enqueue({type:"plugins-status",message:`Running ${this.title}`,icon:h.VisualBellIcon.SPINNER,timeout:1/0,button:{text:"Cancel",action:e=>{this.cancelCallback()}}}))}hideProgress(){r.fullscreen&&r.fullscreen.isReady()&&this.shouldShowVisualBell&&r.fullscreen.dispatch(o.visualBell.dequeue({type:"plugins-status"}))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(129                               ),i=r(98        ),s=r(292         );t.PluginImageStore=class{constructor(){this.hashToPrivateImage=new Map,this.tearDown=(()=>{this.hashToPrivateImage=null}),this.bytesFromImage=(e=>{let t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");if(null!==t.bytes)return Promise.resolve(new Uint8Array(t.bytes));if(null!==t.sha1){const e=a.PluginHelpers.loadImage(t.sha1);if(""===e)throw new Error("Could not load image");return t.bytes=s.decode(e),Promise.resolve(new Uint8Array(t.bytes))}throw new Error("Could not get the image bytes")}),this.createImageFromSHA1=(e=>{const t=this.getOrCreatePrivateImage(e);return t.isAlreadyOnMainThread=!0,t})}isImageAlreadyRegistered(e){const t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");return t.isAlreadyOnMainThread}internalBytesForImage(e){const t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");return t.bytes}getOrCreatePrivateImage(e){let t=this.hashToPrivateImage.get(e);return void 0===t&&(t={isAlreadyOnMainThread:!1,sha1:e,bytes:null,getBytesAsync:()=>this.bytesFromImage(e)}),this.hashToPrivateImage.set(e,t),t}createImage(e){const t=new Uint8Array(e),r=i.sha1OfUint8Array(t),a=this.getOrCreatePrivateImage(r);return a.bytes=t,a.isAlreadyOnMainThread=!1,a}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(612                                          ),o=n(618                     ),i=r.StyleManager.instance;var s;!function(e){e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){return e.newString(function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"FILL":return"PAINT"}throw new Error(`Unsupport style type: ${e}`)}(o.getNode(e,this).styleType))}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(o.getNode(e,this).styleDescription)},set:function(t){return o.getNode(e,this).styleDescription=e.toString(t),e.undefined}})},e.remote=function({vm:e},t){e.defineProp(t,"remote",{enumerable:!0,get:function(){return e.newBoolean(o.getNode(e,this).hasSharedStyleReference)}})},e.remove=function({vm:e},t){e.defineFunction(t,"remove",function(){return i.softDeleteStyle(o.getNode(e,this)),e.undefined})},e.paints=function(e,t){o.defineFillsProp(e,t,"paints")}}(s||(s={}));const c=[o.VmNode.name,s.type,s.description,s.remote,s.remove],a=[...c,s.paints],p=[...c,o.VmNode.fontSize,o.VmNode.textDecoration,o.VmNode.fontName,o.VmNode.letterSpacing,o.VmNode.lineHeight,o.VmNode.paragraphIndent,o.VmNode.paragraphSpacing,o.VmNode.textCase],l=[...c,o.VmNode.effects],u=[...c,o.VmNode.layoutGrids];t.StyleNodeFactory=class{constructor(e,t){this.cache=new Map;const n={vm:e,nodeFactory:null,imageStore:t};this.vm=e,this.paintStylePrototype=o.mixin(n,"PaintStyle",...a),this.textStylePrototype=o.mixin(n,"TextStyle",...p),this.effectStylePrototype=o.mixin(n,"EffectStyle",...l),this.gridStylePrototype=o.mixin(n,"GridStyle",...u)}createStyle(e){const t=this.vm,n=this.cache.get(e),r=i.get(e);if(!r)return void 0!==n&&this.cache.delete(e),t.null;if(void 0!==n)return n;let o;const s=r.styleType;switch(s){case"FILL":o=t.newObject(this.paintStylePrototype);break;case"TEXT":o=t.newObject(this.textStylePrototype);break;case"EFFECT":o=t.newObject(this.effectStylePrototype);break;case"GRID":o=t.newObject(this.gridStylePrototype);break;default:throw new Error(`unsupported style type in create node: ${s}`)}return t.defineProp(o,"id",{enumerable:!0,value:t.newString(e)}),t.shallowFreezeObject(o),this.cache.set(e,o),o}},t.convertStyleTypeToPrivate=function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"PAINT":return"FILL"}throw new Error(`Unsupport style type: ${e}`)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(618                     ),o=t(619                 ),i=t(612                                          ),a=t(621                ),s=t(622                 ),u=t(129                               ),l=t(623                ),c=t(616                ),d=t(143              ),p=i.SceneGraphShim.instance,g=i.StyleManager.instance,f=/^(\d+:\d+)|(I(\d+:\d+;)*(\d+:\d+))$/;function m(e){const n={};for(const t in e)n[e[t]]="create"+t;return n}n.typeToCreateNodeFunctionName=m({Rectangle:"RECTANGLE",Page:"CANVAS",Slice:"SLICE",Frame:"FRAME",Group:"GROUP",Component:"SYMBOL",BooleanOperation:"BOOLEAN_OPERATION",Vector:"VECTOR",Star:"STAR",Line:"LINE",Ellipse:"ELLIPSE",Polygon:"REGULAR_POLYGON",Text:"TEXT"}),n.typeToCreateStyleFunctionName=m({PaintStyle:"FILL",TextStyle:"TEXT",GridStyle:"GRID",EffectStyle:"EFFECT"}),n.addTimerAPIs=function(e,n){if(!e.isEqual(e.undefined,e.getProp(e.global,"setTimeout")))return;const t=new Map,r=new Map;let o=1;function i(n,t){if(e.isFunction(n))return()=>e.callFunction(n,e.global,...t);{const t=e.toString(n);return()=>e.evalCode(t)}}e.setProp(e.global,"setTimeout",e.newFunction("setTimeout",(n,r,...a)=>{const s=i(n,a),u=e.toNumber(r),l=o++,c=setTimeout(s,u);return t.set(l,c),e.newNumber(l)})),e.setProp(e.global,"clearTimeout",e.newFunction("clearTimeout",n=>{const r=e.toNumber(n),o=t.get(r);return t.delete(r),clearTimeout(o),e.undefined})),e.setProp(e.global,"setInterval",e.newFunction("setInterval",(n,t,...a)=>{const s=i(n,a),u=e.toNumber(t),l=o++,c=setInterval(s,u);return r.set(l,c),e.newNumber(l)})),e.setProp(e.global,"clearInterval",e.newFunction("clearInterval",n=>{const t=e.toNumber(n),o=r.get(t);return r.delete(t),clearInterval(o),e.undefined})),n(()=>{for(const e of Array.from(t.values()))clearTimeout(e);t.clear();for(const e of Array.from(r.values()))clearInterval(e);r.clear()})};const w=c.PropTypes.exact({visible:c.PropTypes.bool.isOptional,width:c.PropTypes.integer.min(0).isOptional,height:c.PropTypes.integer.min(0).isOptional}).isOptional;n.addFigmaAPI=function(e,t){const{name:i,command:m,closePlugin:P,addShutdownAction:N,uiHandleMode:b}=t,h=new s.PluginImageStore;N(h.tearDown);const y=new o.PublicNodeFactory(e,h),F=new l.StyleNodeFactory(e,h),I=e.newObject();e.setProp(e.global,"figma",I),function(e,t,r){e.defineFunction(t,"getStyleById",n=>{const t=e.toString(n);return r.createStyle(t)});for(const o in n.typeToCreateStyleFunctionName)e.defineFunction(t,n.typeToCreateStyleFunctionName[o],()=>{const e=g.createStyle(o);if(!e)throw new Error(`Could not create ${o} style`);return r.createStyle(e)})}(e,I,F),e.defineProp(I,"root",{value:y.createNode("0:0"),enumerable:!1}),e.defineProp(I,"currentPage",{enumerable:!1,get:()=>{const n=p.currentPage;return null===n?e.null:y.createNode(n)}}),e.defineProp(I,"command",{enumerable:!1,get:()=>e.newString(m)});for(const r in n.typeToCreateNodeFunctionName)"GROUP"!==r&&e.defineFunction(I,n.typeToCreateNodeFunctionName[r],()=>{const e=p.createNode(r);return y.createNode(e)});e.defineFunction(I,"group",(n,t,o)=>{if(!e.isArray(n))throw new Error("first argument to group() must be an array");const i=e.getNumberProp(n,"length");if(i<1)throw new Error("first argument to group() must be an array of at least one node");const a=[];for(let u=0;u<i;u++){const t=e.getProp(n,u.toString());a.push(r.getNode(e,t).guid)}if(e.isUndefined(t))throw new Error("second argument to group() must be provided");const s=r.getNode(e,t);let l=-1;if(e.isNumber(o)){if((l=e.getNumber(o))<0)throw new Error("third argument to group() must be a non-negative integer")}else if(!e.isUndefined(o))throw new Error("third argument to group() must be an integer");const c=u.PluginHelpers.groupNodes(a.join(" "),s.sessionID,s.localID,l);if("success"===c.status)return y.createNode(c.nodeId);throw new Error(`group() failed: ${c.error}`)}),e.defineFunction(I,"createImage",n=>r.wrapPrivateImage(e,h.createImage(e.deepUnwrap(n)))),e.defineFunction(I,"getNodeById",n=>{const t=e.toString(n);if(!f.test(t))return e.null;let r=t.startsWith("I")?u.PluginHelpers.guidFromDeveloperFriendlyId(t):t;return r&&void 0!==p.get(r)?y.createNode(r):e.null}),e.defineFunction(I,"createNodeFromSvg",n=>{const t=e.toString(n),r=u.PluginHelpers.createNodeFromSvgForPlugin(t);if(""===r)throw new Error("Could not convert SVG file");return y.createNode(r)}),e.defineFunction(I,"closePlugin",()=>(setTimeout(()=>P()),e.undefined)),d.isRunningInteractionTests()&&e.defineFunction(I,"closePluginWithFailure",n=>{let t;try{t=e.toString(n)}catch(r){t='The plugin called "closePluginWithFailure"'}return setTimeout(()=>P(t)),e.undefined});const v=e.newObject();e.defineProp(I,"viewport",{enumerable:!1,value:v}),e.defineProp(v,"center",{enumerable:!1,get:()=>{const n=u.PluginHelpers.getViewportCenter(),t=e.newObject();return e.setProp(t,"x",e.newNumber(n.x)),e.setProp(t,"y",e.newNumber(n.y)),e.shallowFreezeObject(t),t},set:function(n){const t=e.getNumber(e.getProp(n,"x")),r=e.getNumber(e.getProp(n,"y"));if(isNaN(t)||isNaN(r))throw new Error("viewport.center cannot take NaN values");return u.PluginHelpers.setViewportCenter({x:t,y:r}),e.undefined}}),e.defineProp(v,"zoom",{enumerable:!1,get:()=>{const n=u.PluginHelpers.getViewportZoomScale();return e.newNumber(n)},set:function(n){const t=e.getNumber(n);if(!(t>0))throw new Error("viewport.zoom expects a positive number");return u.PluginHelpers.setViewportZoomScale(t),e.undefined}}),e.defineFunction(v,"scrollAndZoomIntoView",n=>{const t=[];if(!e.isArray(n))throw new Error("zoomOnNodes expected an array");const r=e.getNumberProp(n,"length");for(let o=0;o<r;o++){const r=e.getProp(n,o.toString());t.push(e.getString(e.getProp(r,"id")))}return u.PluginHelpers.scrollAndZoomIntoView(t),e.undefined});let S=void 0;N(()=>S=void 0);const T="FORWARD_TO"===b.type?b.uiHandle:new a.PluginUIHandle(i,"HIDE_VISUAL_BELL"!==b.type,()=>P("Plugin cancelled by user"),function(n){S&&e.callFunction(S,e.undefined,e.deepWrap(n))});N(T.tearDown),e.defineFunction(I,"showUI",(n,t)=>{const r=c.deepValidateAndUnwrap(e,n,c.PropTypes.string,"showUI html"),o=c.deepValidateAndUnwrap(e,t,w,"showUI options")||{};return c.addDefaults(o,{visible:!0,width:NaN,height:NaN}),T.makeIframe(r),T.setIframeSize(o.width,o.height),o.visible&&T.showIframe(),e.undefined});const E=e.newObject();return e.defineProp(I,"ui",{enumerable:!1,value:E}),e.defineFunction(E,"show",()=>(T.showIframe(),e.undefined)),e.defineFunction(E,"resize",(n,t)=>{const r=c.deepValidateAndUnwrap(e,n,c.PropTypes.integer.min(0),"resize width"),o=c.deepValidateAndUnwrap(e,t,c.PropTypes.integer.min(0),"resize height");return T.setIframeSize(r,o),e.undefined}),e.defineFunction(E,"hide",()=>(T.hideIframe(),e.undefined)),e.defineFunction(E,"close",()=>(T.destroyIframe(),e.undefined)),e.defineProp(E,"onmessage",{enumerable:!1,get:function(){if("FORWARD_TO"===b.type)throw new Error('Cannot use "onmessage" from the developer tools console');return S||e.undefined},set:function(n){if("FORWARD_TO"===b.type)throw new Error('Cannot use "onmessage" from the developer tools console');if((e.isNull(n)||e.isUndefined(n))&&(n=void 0),void 0!==n&&!e.isFunction(n))throw new Error("onmessage must be a function");return S=n,e.undefined}}),e.defineFunction(E,"postMessage",n=>(T.postMessageToIframe(e.deepUnwrap(n)),e.undefined)),e.shallowFreezeObject(E),e.shallowFreezeObject(I),e.shallowFreezeObject(v),T},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(129                               );t.addTestAPI=function(e){const t=e.newObject();e.setProp(e.global,"__TEST__",t),e.defineProp(t,"updateInstanceCallCount",{enumerable:!0,get:()=>e.newNumber(o.DebuggingHelpers.updateInstanceCallCount())}),e.shallowFreezeObject(t)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1426                               ),i=n(611     ),a=n(624               ),s=n(625              ),c=n(663                                                 ),l=n(143              ),u=n(219          ),d=console.error,g=100;let m=0;t.runPluginCodeInRuntime=function(e){return r(this,void 0,void 0,function*(){let t,{code:n,runInNoOpVm:r,name:p,version:f,command:_,pluginCounter:w,errorHandler:h}=e,v=null;return r?v=i.createNoOpJavascriptVm():(yield i.loadRealms(),v=i.createRealmsVm()),v.setErrorHandler(t=>{let n="";try{n=v.toString(t.handle)}catch(o){n="Error: An error was thrown, but couldn't be converted into a string"}let r="";try{r=v.getStringProp(t.handle,"stack")}catch(o){r="Unable to get stack"}!function(e){if(++m>g)return;const{message:t,raw_stack:n,version:r,pluginID:o}=e;let i=[n.slice(0,512),n.slice(512,1024),n.slice(1024,1536),n.slice(1536,2048),n.slice(2048,2560)],a={message:t,raw_stack:i[0],raw_stack2:i[1],raw_stack3:i[2],raw_stack4:i[3],raw_stack5:i[4],pluginID:o||"",version:r};u.segment.track("plugin_generated_error",a)}({message:n,raw_stack:r,pluginID:e.pluginID,version:f}),h(n)}),{runResult:new Promise((u,g)=>{let m=[()=>v.destroy(),()=>c.restoreConsole(),()=>o.fullscreen.triggerAction("commit")];const f=e=>{-1===m.indexOf(e)&&m.push(e)};t=(e=>{let t=void 0;"string"==typeof e&&(t=new Error(e));try{(()=>{let e;if(m.forEach(t=>{try{t()}catch(n){e||(e=n)}}),m=[],e)throw e})()}catch(n){throw t=t||n,n}finally{t?g(t):u()}}),c.silenceConsole(),a.addTimerAPIs(v,f);const h=a.addFigmaAPI(v,{name:p,command:_,closePlugin:t,addShutdownAction:f,uiHandleMode:{type:"NORMAL"}});if(l.isRunningInteractionTests()&&s.addTestAPI(v),!r){const e=i.createNoOpJavascriptVm();f(()=>e.destroy()),f(()=>{delete window.figma}),a.addFigmaAPI(e,{name:p,command:_,closePlugin:t,addShutdownAction:f,uiHandleMode:{type:"FORWARD_TO",uiHandle:h}})}f(e.onShutdown),n+="\n//# sourceURL=PLUGIN_"+w+"_SOURCE\n",setTimeout(()=>{const e=v.evalCode(n);if("FAILURE"===e.type){const n=v.toString(e.error.handle);l.isRunningInteractionTests()||d(n),t(n)}})}),closePlugin:t}})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});const i=r(629          ),s=Symbol("internal"),o=Symbol("wasDestroyed"),h=Function.prototype.apply;function u(t,e){if(t[o])throw new Error("This VM has been destroyed");if("object"==typeof e&&null!==e&&s in e)throw new Error("Wrapping a handle twice!");return{[s]:e}}function a(t,e){if(t[o])throw new Error("This VM has been destroyed");if("object"!=typeof e||null===e||!(s in e))throw new Error("The provided value is not a handle");return e[s]}n=o,e.NoOpJavascriptVm=class{constructor(){this[n]=!1,this.global=u(this,window),this.null=u(this,null),this.undefined=u(this,void 0)}typeof(t){return typeof a(this,t)}isNumber(t){return"number"==typeof a(this,t)}isBoolean(t){return"boolean"==typeof a(this,t)}isString(t){return"string"==typeof a(this,t)}isNull(t){return null===a(this,t)}isUndefined(t){return void 0===a(this,t)}isObject(t){const e=a(this,t);return"object"==typeof e&&null!==e}isArray(t){return a(this,t)instanceof Array}isUint8Array(t){return a(this,t)instanceof Uint8Array}isFunction(t){return a(this,t)instanceof Function}shallowFreezeObject(t){Object.freeze(a(this,t))}getNumber(t){const e=a(this,t);if("number"!=typeof e)throw new Error("Value is not a number");return e}getBoolean(t){const e=a(this,t);if("boolean"!=typeof e)throw new Error("Value is not a boolean");return e}getString(t){const e=a(this,t);if("string"!=typeof e)throw new Error("Value is not a string");return e}getUint8Array(t){if(!this.isUint8Array(t))throw new Error("Value is not a Uint8Array");return new Uint8Array(a(this,t))}toNumber(t){const e=a(this,t);try{return+e}catch(r){throw new i.VmError(this,u(this,r))}}toBoolean(t){const e=a(this,t);try{return!!e}catch(r){throw new i.VmError(this,u(this,r))}}toString(t){const e=a(this,t);try{return""+e}catch(r){throw new i.VmError(this,u(this,r))}}newNumber(t){return u(this,+t)}newBoolean(t){return u(this,!!t)}newString(t){return u(this,""+t)}newObject(t){return u(this,void 0===t?{}:Object.create(a(this,t)))}newArray(){return u(this,[])}newUint8Array(t){return u(this,new Uint8Array(t))}isEqual(t,e){return a(this,t)===a(this,e)}newFunction(t,e){const r=this;let n=function(...t){const n=t.map(t=>u(r,t));for(;n.length<e.length;)n.push(r.undefined);return a(r,e.apply(u(r,this),n))};return Object.defineProperty(n,"name",{writable:!1,value:t}),u(r,n)}newPromise(){let t,e;return{promise:u(this,new Promise((r,n)=>{t=r,e=n})),resolve:u(this,t),reject:u(this,e)}}getKeys(t){return Object.keys(a(this,t))}getProp(t,e){return"string"!=typeof e&&(e=a(this,e)+""),u(this,a(this,t)[e])}setProp(t,e,r){"string"!=typeof e&&(e=a(this,e)+""),a(this,t)[e]=a(this,r)}defineProp(t,e,r){"string"!=typeof e&&(e=a(this,e)+"");let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&(n.value=a(this,r.value)),"get"in r&&(n.get=a(this,this.newFunction("get_"+e,r.get))),"set"in r&&(n.set=a(this,this.newFunction("set_"+e,r.set))),Object.defineProperty(a(this,t),e,n)}callFunction(t,e,...r){const n=a(this,t),s=a(this,e),o=r.map(t=>a(this,t));let l;try{l=h.call(n,s,o)}catch(c){return console.error(c),{type:"FAILURE",error:new i.VmError(this,u(this,c))}}return{type:"SUCCESS",handle:u(this,l)}}evalCode(t){let e;try{e=(0,eval)('"use strict";\n'+t)}catch(r){return console.error(r),{type:"FAILURE",error:new i.VmError(this,u(this,r))}}return{type:"SUCCESS",handle:u(this,e)}}destroy(){this[o]=!0}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});const o=r(629          ),i=["log","error","assert","info","warn","clear"],s={};for(let y of i)s[y]=console[y].bind(console);const a=Symbol("internal"),l=Symbol("wasDestroyed"),h=Function.prototype.apply;function u(e,t){if(e[l])throw new Error("This VM has been destroyed");if("object"==typeof t&&null!==t&&a in t)throw new Error("Wrapping a handle twice!");return{[a]:t}}function c(e,t){if(e[l])throw new Error("This VM has been destroyed");if("object"!=typeof t||null===t||!(a in t))throw new Error("The provided value is not a handle");return t[a]}n=l,t.RealmsVm=class{constructor(){this.globalHandle=null,this.nullHandle=null,this.undefinedHandle=null,this[n]=!1;const e=document.body.lastChild;this.realm=Realm.makeRootRealm();const t=document.body.lastChild;if(e===t||!t||"IFRAME"!==t.nodeName)throw new Error("can't find iframe to create plugin environment");this.iframe=t;const{safeFunctionWrapper:r,objectCreate:o,uint8ArrayCopy:a,emptyObject:l,emptyArray:h,promiseCreate:y}=this.realm.evaluate("\n      ({\n        safeFunctionWrapper: (outerRealmUnsafeFunction, functionName) => {\n          // This function is safe because it is created here inside the realm.\n          const innerRealmSafeFunction = function innerRealmSafeFunction(...innerRealmArgs) {\n            try {\n              return outerRealmUnsafeFunction(this, ...innerRealmArgs)\n            } catch (outerRealmException) {\n              let outerMessage = ''\n              try {\n                // This nested try-catch exists because it's theoretically possible for .message\n                // to throw an error from the outer realm if it's a getter or an object whose\n                // toString() throws an error.\n                if (outerRealmException && outerRealmException.message) {\n                  outerMessage =  \": \" + outerRealmException.message\n                }\n              } catch(ignored) {\n                throw new Error('API error trying to convert error message -- please contact support')\n              }\n\n              // We need to re-throw a new error object created in the inner realm\n              // so that it's safe for the plugin to look at\n              throw new Error('in ' + functionName + outerMessage)\n            }\n          }\n          return innerRealmSafeFunction\n        },\n        objectCreate: (() => {\n          // Wrap Object.create so it can't be modified and can't be accessed by the plugin\n          let objCreate = Object.create\n          return (prototype) => {\n            return objCreate(prototype)\n          }\n        })(),\n        uint8ArrayCopy: (() => {\n          // Wrap Uint8Array so it can't be modified by the plugin\n          let arrayConstructor = Uint8Array\n          return (outerRealmArray) => {\n            return new arrayConstructor(outerRealmArray)\n          }\n        })(),\n        emptyObject: () => {\n          return {}\n        },\n        emptyArray: () => {\n          return []\n        },\n        promiseCreate: (() => {\n          const promiseCtor = Promise\n          return () => {\n            let resolve\n            let reject\n            const promise = new promiseCtor((innerResolve, innerReject) => {\n              resolve = innerResolve\n              reject = innerReject\n            })\n            return {\n              promise,\n              resolve,\n              reject,\n            }\n          }\n        })(),\n      })\n    "),f=(e,t,n)=>{const o=r((e,...r)=>{const o=u(this,e),i=n?r.map(e=>u(this,e)):r;if(n)for(;i.length<t.length;)i.push(u(this,void 0));const s=t.apply(o,i);return void 0===s?void 0:c(this,s)},e);return Object.defineProperty(o,"name",{value:e,writable:!1}),o};this.outerToInnerFunctionTransformer=((e,t)=>f(e,t,!0)),this.objectFactory=o,this.uint8ArrayFactory=a,this.emptyObjectFactory=l,this.emptyArrayFactory=h,this.promiseFactory=y,this.globalHandle=u(this,this.realm.global),this.nullHandle=u(this,null),this.undefinedHandle=u(this,void 0);const p=this.newObject();this.setProp(this.global,"console",p);for(let n of i)this.setProp(p,n,u(this,f(n,s[n],!1)))}get global(){if(this.globalHandle)return this.globalHandle;throw new Error("no global handle")}get null(){if(this.nullHandle)return this.nullHandle;throw new Error("no null handle")}get undefined(){if(this.undefinedHandle)return this.undefinedHandle;throw new Error("no undefined handle")}typeof(e){return typeof c(this,e)}isNumber(e){return"number"==typeof c(this,e)}isBoolean(e){return"boolean"==typeof c(this,e)}isString(e){return"string"==typeof c(this,e)}isNull(e){return null===c(this,e)}isUndefined(e){return void 0===c(this,e)}isObject(e){const t=c(this,e);return"object"==typeof t&&null!==t}isArray(e){return Array.isArray(c(this,e))}isUint8Array(e){const t=c(this,e);return"[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t)}isFunction(e){return"function"==typeof c(this,e)}shallowFreezeObject(e){Object.freeze(c(this,e))}getNumber(e){const t=c(this,e);if("number"!=typeof t)throw new Error("Value is not a number");return+t}getBoolean(e){const t=c(this,e);if("boolean"!=typeof t)throw new Error("Value is not a boolean");return!!t}getString(e){const t=c(this,e);if("string"!=typeof t)throw new Error("Value is not a string");return""+t}getUint8Array(e){if(!this.isUint8Array(e))throw new Error("Value is not a Uint8Array");const t=c(this,e);try{const e=+t.byteOffset,n=+t.byteLength,i=ArrayBuffer.prototype.slice.call(t.buffer,e,e+n);return new Uint8Array(i)}catch(r){throw new o.VmError(this,u(this,r))}}toNumber(e){const t=c(this,e);try{return+t}catch(r){throw new o.VmError(this,u(this,r))}}toBoolean(e){const t=c(this,e);try{return!!t}catch(r){throw new o.VmError(this,u(this,r))}}toString(e){const t=c(this,e);try{return""+t}catch(r){throw new o.VmError(this,u(this,r))}}newNumber(e){if("number"!=typeof e)throw new Error("Value is not a number");return u(this,e)}newBoolean(e){if("boolean"!=typeof e)throw new Error("Value is not a boolean");return u(this,e)}newString(e){if("string"!=typeof e)throw new Error("Value is not a string");return u(this,e)}newObject(e){if(!e)return u(this,this.emptyObjectFactory());let t,r=e?c(this,e):null;try{t=this.objectFactory(r)}catch(n){throw new o.VmError(this,u(this,n))}return u(this,t)}newArray(){return u(this,this.emptyArrayFactory())}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return u(this,this.uint8ArrayFactory(e));throw new Error("Value is not an Uint8Array")}newFunction(e,t){if("function"!=typeof t)throw new Error("Value is not a function");return u(this,this.outerToInnerFunctionTransformer(e,t))}newPromise(){const{promise:e,resolve:t,reject:r}=this.promiseFactory();return{promise:u(this,e),resolve:u(this,t),reject:u(this,r)}}getKeys(e){let t=c(this,e);if("object"!=typeof t)throw new Error("not an object");return Object.keys(t)}getProp(e,t){let r,n="string"==typeof t?t:this.toString(t),i=c(this,e);try{r=i[n]}catch(s){throw new o.VmError(this,u(this,s))}return u(this,r)}setProp(e,t,r){let n="string"==typeof t?t:this.toString(t),i=c(this,e),s=c(this,r);try{i[n]=s}catch(a){throw new o.VmError(this,u(this,a))}}defineProp(e,t,r){"string"!=typeof t&&(t=c(this,t)+"");let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&(n.value=c(this,r.value)),"get"in r&&(n.get=this.outerToInnerFunctionTransformer("get_"+t,r.get)),"set"in r&&(n.set=this.outerToInnerFunctionTransformer("set_"+t,r.set)),Object.defineProperty(c(this,e),t,n)}isEqual(e,t){return c(this,e)===c(this,t)}callFunction(e,t,...r){const n=c(this,e),i=c(this,t),a=r.map(e=>c(this,e));let l;try{l=h.call(n,i,a)}catch(y){return s.error(y),{type:"FAILURE",error:new o.VmError(this,u(this,y))}}return{type:"SUCCESS",handle:u(this,l)}}evalCode(e){let t;try{t=this.realm.evaluate(e)}catch(r){return s.error(r),{type:"FAILURE",error:new o.VmError(this,u(this,r))}}return{type:"SUCCESS",handle:u(this,t)}}destroy(){this[l]=!0,this.iframe.remove()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(627                ),o=t(628                 ),a=t(178              );class s extends Error{constructor(e,r){let t="The plugin threw an error that could not be converted to a string";try{t=e.toString(r).replace(/^Error: /,"")}catch(n){}super(t),this.handle=r,Object.setPrototypeOf(this,s.prototype)}}function u(e){const r=new e;function t(e,t,n,o){"string"!=typeof t&&(t=r.toString(t)),r.defineProp(e,t,{enumerable:o,value:r.newFunction(t,n)})}return r.getBooleanProp=((e,t)=>r.toBoolean(r.getProp(e,t))),r.getNumberProp=((e,t)=>r.toNumber(r.getProp(e,t))),r.getStringProp=((e,t)=>r.toString(r.getProp(e,t))),r.setBooleanProp=((e,t,n)=>r.setProp(e,t,r.newBoolean(n))),r.setNumberProp=((e,t,n)=>r.setProp(e,t,r.newNumber(n))),r.setStringProp=((e,t,n)=>r.setProp(e,t,r.newString(n))),r.callMethod=((e,t,...n)=>r.callFunction(r.getProp(e,t),e,...n)),r.deepWrap=(e=>{switch(typeof e){case"undefined":return r.undefined;case"boolean":return r.newBoolean(e);case"number":return r.newNumber(e);case"string":return r.newString(e);case"object":if(null===e)return r.null;if(e instanceof Array){const t=r.newArray(),n=e.length;for(let o=0;o<n;o++)r.setProp(t,o.toString(),r.deepWrap(e[o]));return t}if(e instanceof Uint8Array)return r.newUint8Array(e);{const t=r.newObject();for(const n in e)r.setProp(t,n,r.deepWrap(e[n]));return t}default:throw new Error(`Cannot wrap ${typeof e}`)}}),r.deepUnwrap=(e=>{switch(r.typeof(e)){case"undefined":return;case"boolean":return r.toBoolean(e);case"number":return r.toNumber(e);case"string":return r.toString(e);case"object":if(r.isNull(e))return null;if(r.isArray(e)){const t=[],n=r.getNumberProp(e,"length");for(let o=0;o<n;o++)t.push(r.deepUnwrap(r.getProp(e,o.toString())));return t}if(r.isUint8Array(e))return r.getUint8Array(e);{const t={};for(const n of r.getKeys(e))t[n]=r.deepUnwrap(r.getProp(e,n));return t}default:throw new Error(`Cannot unwrap ${r.typeof(e)}`)}}),r.deepFreezeObject=(e=>{if(r.isObject(e))for(const t of r.getKeys(e))r.deepFreezeObject(r.getProp(e,t));r.shallowFreezeObject(e)}),r.defineEnumerableFunction=((e,r,n)=>{t(e,r,n,!0)}),r.defineNonEnumerableFunction=((e,r,n)=>{t(e,r,n,!1)}),r}r.VmError=s,r.createNoOpJavascriptVm=function(){return u(n.NoOpJavascriptVm)},r.createRealmsVm=function(){return u(o.RealmsVm)};let c=null;r.loadRealms=function(){return c||(c=a.loadScript("/fullscreen/static/realm-shim.min.js").then(()=>{})).catch(()=>{c=null}),c},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,n){"use strict";function e(t,i){return{x:Math.min(t.x,i.x),y:Math.min(t.y,i.y)}}function x(t,i){return{x:Math.max(t.x,i.x),y:Math.max(t.y,i.y)}}function r(t){return t.width<0||t.height<0||!isFinite(t.x)||!isFinite(t.y)||!isFinite(t.width)||!isFinite(t.height)}Object.defineProperty(i,"__esModule",{value:!0}),i.vectorEq=function(t,i){return t.x===i.x&&t.y===i.y},i.vectorMin=e,i.vectorAdd=function(t,i){return{x:t.x+i.x,y:t.y+i.y}},i.vectorMax=x,i.computeBounds=function(t,i){const n=e(t,i),r=x(t,i);return{x:n.x,y:n.y,width:r.x-n.x,height:r.y-n.y}},i.rectContains=function(t,i){return i.x>=t.x&&i.x<=t.x+t.width&&i.y>=t.y&&i.y<=t.y+t.height},i.rectIsInvalid=r,i.rectUnionWith=function(t,i){if(r(t))return i;if(r(i))return t;const n=e({x:t.x,y:t.y},{x:i.x,y:i.y}),y=x({x:t.x+t.width,y:t.y+t.height},{x:i.x+i.width,y:i.y+i.height});return{x:n.x,y:n.y,width:y.x-n.x,height:y.y-n.y}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=e(630               ),o=0,i={Z:0,M:2,L:2,Q:4,C:6};function r(t){if(!t.data||!t.data.length)return[];const n=t.data.split(" "),e=[];for(let s of n){if("Z"===s||"M"===s||"L"===s||"Q"===s||"C"===s){e.push(s);continue}const t=Number(s);if(isNaN(t))throw new Error(`Path: Invalid command at ${s}`);e.push(t)}if(e.length>0&&"M"!==e[0])throw new Error(`Path: ${e[0]} is not a valid first command`);return e}function a(t,n){return{x:t.m00*n.x+t.m01*n.y+t.m02,y:t.m10*n.x+t.m11*n.y+t.m12}}function c(t,n,e,o){const i=s.computeBounds(t,o);if(s.rectContains(i,n)&&s.rectContains(i,e))return i;const r=[0,0,0,0],a=[0,0,0,0],c=[0,0,0,0],g=[0,0,0,0];let x=0,u=0;r[0]=0,a[0]=0,x=1+l(t.x,n.x,e.x,o.x,r,1),u=1+l(t.y,n.y,e.y,o.y,a,1),r[x++]=1,a[u++]=1,c[0]=t.x,g[0]=t.y;for(let s=1;s+1<x;s++)c[s]=d(t.x,n.x,e.x,o.x,r[s]);for(let s=1;s+1<u;s++)g[s]=d(t.y,n.y,e.y,o.y,a[s]);c[x-1]=o.x,g[u-1]=o.y;const m={x:t.x,y:t.y},h={x:t.x,y:t.y};for(let s=0;s<x;s++)m.x=Math.min(m.x,c[s]),h.x=Math.max(h.x,c[s]);for(let s=0;s<u;s++)m.y=Math.min(m.y,g[s]),h.y=Math.max(h.y,g[s]);return{x:m.x,y:m.y,width:h.x-m.x,height:h.y-m.y}}function d(t,n,e,s,o){let i=1-o;return i*(i*(i*t+3*o*n)+3*o*o*e)+o*o*o*s}function l(t,n,e,s,o,i){let r=3*(3*n+s-(t+3*e)),a=6*(t+e-2*n),c=3*(n-t),d=i;if(Math.abs(r)<1e-12&&(r=0),Math.abs(a)<1e-12&&(a=0),0!==r){const t=a*a-4*c*r;if(t>=0){const n=-a/(2*r),e=Math.sqrt(t)/Math.abs(2*r),s=n-e,i=n+e;0<s&&s<1&&(o[d++]=s),t>0&&0<i&&i<1&&(o[d++]=i)}}else if(0!==a){const t=-c/a;0<t&&t<1&&(o[d++]=t)}return d-i}function g(t){const n=[];return t?(t.forEach(t=>{n.push({windingRule:t.windingRule,loops:t.loops.map(t=>t.slice())})}),n):n}function x(t){return`${t.position.x} ${t.position.y}`}function u(t){return`${t.index} ${t.tangent.x} ${t.tangent.y}`}function m(t){return 0===t.start.tangent.x&&0===t.start.tangent.y&&0===t.end.tangent.x&&0===t.end.tangent.y}n.pathToCommands=r,n.scaleVectorNetwork=function(t,n){const e=t&&t.vertices||[],s=t&&t.segments||[],o=t&&t.regions||[],i={m00:n.x,m01:0,m02:0,m10:0,m11:n.y,m12:0};return{regions:g(o),segments:s.map(t=>({start:Object.assign({},t.start,{tangent:a(i,t.start.tangent)}),end:Object.assign({},t.end,{tangent:a(i,t.end.tangent)})})),vertices:e.map(t=>({position:a(i,t.position)}))}},n.translateVectorNetwork=function(t,n){const e=t&&t.vertices||[],s=t&&t.segments||[],o=t&&t.regions||[],i={m00:1,m01:0,m02:n.x,m10:0,m11:1,m12:n.y};return{regions:g(o),segments:function(t){const n=[];return t?(t.forEach(t=>{n.push({start:{index:t.start.index,tangent:Object.assign({},t.start.tangent)},end:{index:t.end.index,tangent:Object.assign({},t.end.tangent)}})}),n):n}(s),vertices:e.map(t=>({position:a(i,t.position)}))}},n.encodeNetwork=function(t){const n=t&&t.vertices||[],e=t&&t.segments||[],s=t&&t.regions||[],i=[n.length,e.length,s.length],r=new Float32Array(1),a=new Int32Array(r.buffer);function c(t){return r[0]=t,a[0]}for(let d=0;d<n.length;d++){const t=n[d];i.push(o,c(t.position.x),c(t.position.y))}for(let d=0;d<e.length;d++){const t=e[d],n=t.start,s=t.end;i.push(o,n.index,c(n.tangent.x),c(n.tangent.y),s.index,c(s.tangent.x),c(s.tangent.y))}for(let d=0;d<s.length;d++){const t=s[d],n=t.loops;if("nonzero"!==t.windingRule&&"evenodd"!==t.windingRule)throw new Error("Encoding Network: Invalid winding rule "+JSON.stringify(t.windingRule));i.push(o<<1|("nonzero"===t.windingRule?1:0),n.length);for(let e=0;e<n.length;e++){const t=n[e];i.push(t.length);for(let n=0;n<t.length;n++)i.push(t[n])}}return new Uint8Array(new Int32Array(i).buffer)},n.decodeNetwork=function(t){const n=[],e=[],s=[];if(t.length<3)return{vertices:n,segments:e,regions:s};const o=new Int32Array(t.buffer),i=new Float32Array(o.buffer);let r=0;const a=o[r++],c=o[r++],d=o[r++];for(let l=0;l<a;l++)r++,n.push({position:{x:i[r++],y:i[r++]}});for(let l=0;l<c;l++)r++,e.push({start:{index:o[r++],tangent:{x:i[r++],y:i[r++]}},end:{index:o[r++],tangent:{x:i[r++],y:i[r++]}}});for(let l=0;l<d;l++){let t=o[r++],n=o[r++],e={windingRule:1&t?"nonzero":"evenodd",loops:[]};for(let s=0;s<n;s++){let t=o[r++],n=[];for(let e=0;e<t;e++)n.push(o[r++]);e.loops.push(n)}s.push(e)}if(r!==o.length)throw new Error("Decoding Network: Invalid network data");return{vertices:n,segments:e,regions:s}},n.convertNetworkToPaths=function(t){const n=new h(t),e=Array(t.segments.length).fill(!1),o=[];if(n.isEmpty())return[];for(let a of n.regions){const t=new f(a.windingRule);for(const o of a.loops){let i=null;for(const{segment:r,segmentIndex:a}of n.getOrderedLoop(o)){e[a]=!0;const o=n.getVertex(r.start.index),c=n.getVertex(r.end.index);null===i&&(t.moveTo(o),i=o),m(r)?t.lineTo(c):t.curveTo(s.vectorAdd(o,r.start.tangent),s.vectorAdd(c,r.end.tangent),c)}s.vectorEq(t.lastPosition,i)&&t.closePath()}o.push(t)}const i=Array(n.vertices.length);for(let s=0;s<n.segments.length;s++){const t=n.segments[s].start.index,o=n.segments[s].end.index;i[t]||(i[t]=[]),i[o]||(i[o]=[]),e[s]||(i[t].push(s),i[o].push(s))}const r=[];for(let s=0;s<2;s++)for(let t=0;t<n.vertices.length;t++)if(0!==s||2!==i[t].length)for(let s of i[t]){if(e[s])continue;let o=t,a=s;const c={segments:[],isClosed:!1,startingVertex:o};for(r.push(c);!e[a];){e[a]=!0;const{start:t,end:s}=n.segments[a];o=t.index===o?s.index:t.index,c.segments.push(a);const r=i[o];if(2!==r.length)break;a=r[0]===a?r[1]:r[0]}o===t&&(c.isClosed=!0)}if(r.length>0){const t=new f(null);o.push(t);for(const e of r){let o=e.startingVertex,i=n.vertices[o].position;t.moveTo(i);for(const r of e.segments){const e=n.segments[r];o=e.start.index===o?e.end.index:e.start.index;const a=n.vertices[o].position;m(e)?t.lineTo(a):o===e.end.index?t.curveTo(s.vectorAdd(i,e.start.tangent),s.vectorAdd(a,e.end.tangent),a):t.curveTo(s.vectorAdd(i,e.end.tangent),s.vectorAdd(a,e.start.tangent),a),i=a}e.isClosed&&t.closePath()}}return o.map(t=>t.toVectorPath())},n.convertPathsToNetwork=function(t){const n=[],e=[],s=[],o={},a={},c=[];let d={x:0,y:0},l=null;function g(t){const e=x(t);return e in o?o[e]:(o[e]=n.length,n.push(t),o[e])}function m(t){const n=function(t){return t.start.index<t.end.index||t.start.index===t.end.index&&(t.start.tangent.x<t.end.tangent.x||t.start.tangent.x===t.end.tangent.x&&t.start.tangent.y<t.end.tangent.y)?`${u(t.start)} ${u(t.end)}`:`${u(t.end)} ${u(t.start)}`}(t);return n in a?a[n]:(a[n]=e.length,e.push(t),a[n])}function h(){if(null===l){const t=g({position:d});l={startingVertex:t,loop:[]}}}function f(t){if(null!==l&&l.loop.length){const n=o[x({position:d})],e=l.startingVertex;if(t&&n!==e){const t=m({start:{index:n,tangent:{x:0,y:0}},end:{index:e,tangent:{x:0,y:0}}});l.loop.push(t)}c.push(l.loop)}l=null}for(const u of t){const t=r(u),n=t.length;let e=0;for(;e<n;){const s=t[e++],r=i[s];if(void 0===r||e+r>n)throw new Error("Converting Paths to Network: Invalid commands data");switch(s){case"M":l=null,d={x:t[e++],y:t[e++]};break;case"L":{h();const n=m({start:{index:o[x({position:d})],tangent:{x:0,y:0}},end:{index:g({position:d={x:t[e++],y:t[e++]}}),tangent:{x:0,y:0}}});l.loop.push(n);break}case"Q":{h();let n=d;const s=o[x({position:n})];let i={x:t[e++],y:t[e++]};const r=g({position:d={x:t[e++],y:t[e++]}}),a=m({start:{index:s,tangent:{x:2*(i.x-n.x)/3,y:2*(i.y-n.y)/3}},end:{index:r,tangent:{x:2*(i.x-d.x)/3,y:2*(i.y-d.y)/3}}});l.loop.push(a);break}case"C":{h();let n=d;const s=o[x({position:n})];let i={x:t[e++],y:t[e++]},r={x:t[e++],y:t[e++]};const a=g({position:d={x:t[e++],y:t[e++]}}),c=m({start:{index:s,tangent:{x:i.x-n.x,y:i.y-n.y}},end:{index:a,tangent:{x:r.x-d.x,y:r.y-d.y}}});l.loop.push(c);break}case"Z":f(!0)}}null!==u.windingRule&&(f(!1),c.length>0&&s.push({windingRule:u.windingRule,loops:c})),l=null}return{vertices:n,segments:e,regions:s}},n.multiplyTransforms=function(t,n){return{m00:t.m00*n.m00+t.m01*n.m10,m01:t.m00*n.m01+t.m01*n.m11,m02:t.m00*n.m02+t.m01*n.m12+t.m02,m10:t.m10*n.m00+t.m11*n.m10,m11:t.m10*n.m01+t.m11*n.m11,m12:t.m10*n.m02+t.m11*n.m12+t.m12}},n.invertMatrix=function(t){const n=1/(t.m00*t.m11-t.m01*t.m10);return{m00:t.m11*n,m01:-t.m01*n,m02:(t.m01*t.m12-t.m11*t.m02)*n,m10:-t.m10*n,m11:t.m00*n,m12:(t.m10*t.m02-t.m00*t.m12)*n}},n.transformVector=a,n.boundingBoxForNetwork=function(t){const n=t&&t.vertices||[],e=t&&t.segments||[];let o={x:1/0,y:1/0,width:-1/0,height:-1/0};for(let i of e){let t=n[i.start.index].position,e=n[i.end.index].position;o=s.rectUnionWith(o,s.computeBounds(t,e))}for(let i of e){if(0===i.start.tangent.x&&0===i.start.tangent.y&&0===i.end.tangent.x&&0===i.end.tangent.y)continue;const t=n[i.start.index].position,e={x:t.x+i.start.tangent.x,y:t.y+i.start.tangent.y},r=n[i.end.index].position,a={x:r.x+i.end.tangent.x,y:r.y+i.end.tangent.y};s.rectContains(o,e)&&s.rectContains(o,a)||(o=s.rectUnionWith(o,c(t,e,a,r)))}return isFinite(o.x)&&isFinite(o.y)&&isFinite(o.width)&&isFinite(o.height)?o:{x:0,y:0,width:0,height:0}};class h{constructor(t){this.regions=[],this.segments=[],this.vertices=[],t&&(this.regions=t.regions,this.segments=t.segments,this.vertices=t.vertices)}isEmpty(){return 0===this.vertices.length}hasVertex(t,n){return t.start.index===n||t.end.index===n}startingVertex(t){if(1===t.length)return this.segments[t[0]].start.index;const n=this.segments[t[0]],e=this.segments[t[1]];let s=this.hasVertex(e,n.end.index);const o=this.hasVertex(e,n.start.index);if(s&&o&&t.length>2){const e=this.segments[t[2]];s=this.hasVertex(e,n.start.index)}if(s)return n.start.index;if(!o)throw new Error("Network: invalid starting vertex");return n.end.index}getOrderedLoop(t){if(0===t.length)return[];const n=[];let e=this.startingVertex(t);for(let s of t){const t=this.segments[s],o=t.start.index===e?t.start:t.end,i=t.start.index===e?t.end:t.start;if(o.index!==e&&i.index!==e)throw new Error("Network: invalid loop");n.push({segmentIndex:s,segment:{start:o,end:i}}),e=i.index}return n}getVertex(t){return this.vertices[t].position}}class f{constructor(t){this.windingRule=t,this.commands=[],this.lastPosition=null}moveTo(t){this.commands.push("M",t.x,t.y),this.lastPosition=t}lineTo(t){this.commands.push("L",t.x,t.y),this.lastPosition=t}curveTo(t,n,e){this.commands.push("C",t.x,t.y,n.x,n.y,e.x,e.y),this.lastPosition=e}closePath(){this.commands.push("Z"),this.lastPosition=null}toVectorPath(){return{windingRule:this.windingRule,data:this.commands.join(" ")}}}t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualsIgnoringNumberPrecision=function e(r,n){const t=typeof r;if(typeof n!==t)return!1;if("number"===t)return!Number.isNaN(r)&&!Number.isNaN(n);if("object"!==t)return r===n;if(null===r!=(null===n))return!1;if(null===r)return!0;if(r instanceof Array!=n instanceof Array)return!1;if(r instanceof Array)return r.length===n.length&&r.every((r,t)=>e(r,n[t]));const o=Object.keys(r),u=Object.keys(n);return o.length===u.length&&(o.sort(),u.sort(),!!o.every((e,r)=>e===u[r])&&o.every(t=>e(r[t],n[t])))},r.pluginWarn=function(e){console.error(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(615        );class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}function i(e){return Object.defineProperty(e,"isRequired",{enumerable:!0,get:function(){return{type:"required",__schema:this}}}),e}t.PropValidationError=o;const a={type:"number",min:function(e){return Object.assign({},this,{__min:e})},max:function(e){return Object.assign({},this,{__max:e})},range:function(e,t){return Object.assign({},this,{__min:e,__max:t})}};function s(e){if("string"==typeof e)return`"${e}"`;if("number"==typeof e)return`${e}`;switch(e.type){case"required":return"non-null/undefined";case"oneOf":return`oneOf(${e.__options.map(e=>s(e)).join(", ")})`;case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"any":return"any";case"array":return`array of ${s(e.__contentType)}`;case"exact":return`{${Object.keys(e.__shape).map(t=>t+": "+s(e.__shape[t])).join(", ")}}`;default:r.assertNever(e)}}t.PropTypes={bool:i({type:"boolean"}),string:i({type:"string"}),any:i({type:"any"}),oneOf:e=>i({type:"oneOf",__options:e}),arrayOf:e=>i({type:"array",__contentType:e}),exact:e=>i({type:"exact",__shape:e}),float:i(a),integer:i(Object.assign({},a,{__requireInteger:!0}))},t.deepValidateAndUnwrap=function e(t,n,i,a){const u=t.typeof(n);function c(){return new o(`Expected "${a}" to have type ${s(i)} but got ${function(e,t){const n=e.typeof(t);if("object"===n){if(e.isArray(t))return"array";if(e.isNull(t))return"null"}return n}(t,n)} instead`)}if("string"==typeof i){if(t.isString(n)&&i===t.getString(n))return i;throw c()}if("number"==typeof i){if(t.isNumber(n)&&i===t.getNumber(n))return i;throw c()}if("required"!==i.type){if("undefined"===u)return;if(t.isNull(n))return null}switch(i.type){case"required":if("undefined"===u||t.isNull(n))throw c();return e(t,n,i.__schema,a);case"oneOf":{let r=[];for(const s of i.__options)try{return e(t,n,s,a)}catch(f){if(f instanceof o){r.push(f.message);continue}throw f}throw new o(`Expected "${a}" to be one of the following, but none matched: \n`+r.join("\n"))}case"boolean":if("boolean"!==u)throw c();return t.getBoolean(n);case"number":{if("number"!==u)throw c();const e=t.getNumber(n);if(null!=i.__min&&e<i.__min)throw new o(`Expected "${a}" to have value >= ${i.__min}`);if(null!=i.__max&&e>i.__max)throw new o(`Expected "${a}" to have value <= ${i.__max}`);if(null!=i.__requireInteger&&(0|e)!==e)throw new o(`Expected "${a}" to be an integer`);return e}case"string":if("string"!==u)throw c();return t.getString(n);case"any":return t.deepUnwrap(n);case"array":{if(!t.isArray(n))throw c();const r=[],o=t.getNumberProp(n,"length");for(let s=0;s<o;s++)r.push(e(t,t.getProp(n,s.toString()),i.__contentType,a+".[...]"));return r}case"exact":{const r={},u=Object.keys(i.__shape);for(const o of u){const s=i.__shape[o];r[o]=e(t,t.getProp(n,o),s,a+"."+o)}for(const e of t.getKeys(n))if(-1===u.indexOf(e))throw new o(`Expected "${a} to have type ${s(i)} but got additional property "${e}"`);return r}default:r.assertNever(i)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const p=r(633                     );o.ColorA=p.PropTypes.exact({r:p.PropTypes.float.range(0,1),g:p.PropTypes.float.range(0,1),b:p.PropTypes.float.range(0,1),a:p.PropTypes.float.range(0,1)});const t=p.PropTypes.oneOf([p.PropTypes.exact({pattern:"STRIPES",axis:p.PropTypes.oneOf(["X","Y"]),type:p.PropTypes.oneOf(["MIN","CENTER","STRETCH"]),numSections:p.PropTypes.integer.min(0),gutterSize:p.PropTypes.integer,offset:p.PropTypes.integer.min(0),visible:p.PropTypes.bool,color:o.ColorA}),p.PropTypes.exact({pattern:"GRID",sectionSize:p.PropTypes.integer.min(0),visible:p.PropTypes.bool,color:o.ColorA})]);o.LayoutGrids=p.PropTypes.arrayOf(t.isRequired),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(287       ),i=t(291       ),o=t(292         ),s=t(612                                          ),u=t(1426                               ),a=t(129                               ),c=t(631                         ),d=t(98        ),f=t(632                       ),l=t(373                              ),p=t(633                     ),m=t(634                             ),g=s.SceneGraphShim.instance,h="resize",b="resizeWithoutConstraints",y="The node.size, node.width and node.height setter will be deprecated. "+`Please use node.${h} or node.${b}.`,v=console.warn,S=s.StyleManager.instance;function w(e,n){const t=e.getProp(n,"id");if(!e.isString(t))throw new Error(`expected node id to be a string, got ${e.typeof(t)}`);const r=e.toString(t);if(l.looksLikeStyleKey(r)){const e=S.get(r);if(void 0===e)throw new Error(`The style with id ${JSON.stringify(r)} does not exist`);return e}if(r.startsWith("I")){const e=a.PluginHelpers.guidFromDeveloperFriendlyId(r),n=e?g.get(e):void 0;if(void 0===n)throw new Error(`The node (instance sublayer) with id ${JSON.stringify(r)} does not exist`);return n}{const e=g.get(r);if(void 0===e)throw new Error(`The node with id ${JSON.stringify(r)} does not exist`);return e}}function P(e,n){const t=e.newObject();return e.defineProp(t,"hash",{enumerable:!0,value:e.deepWrap(n.sha1)}),e.defineEnumerableFunction(t,"getBytesAsync",function(){const{promise:t,resolve:r,reject:i}=e.newPromise(),o=n.getBytesAsync();return o.then(n=>{e.callFunction(r,e.null,e.deepWrap(n))}),o.catch(n=>{e.callFunction(i,e.null,e.deepWrap(n))}),t}),t}function N(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}function R(e){return{m00:e[0][0],m01:e[0][1],m02:e[0][2],m10:e[1][0],m11:e[1][1],m12:e[1][2]}}function x({vm:e,imageStore:n},t){const r=e.newArray();if(!t||0===t.length)return r;for(let i=0,o=0;i<t.length;i++){const s=t[i],u=e.newObject();switch(e.setProp(u,"type",e.deepWrap(s.type)),e.setProp(u,"visible",e.deepWrap(s.visible)),e.setProp(u,"opacity",e.deepWrap(s.opacity)),s.type){case"SOLID":e.setProp(u,"color",e.deepWrap({r:s.color.r,g:s.color.g,b:s.color.b}));break;case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":e.setProp(u,"gradientStops",e.deepWrap(s.stops)),e.setProp(u,"gradientTransform",e.deepWrap(N(s.transform)));break;case"IMAGE":e.setProp(u,"scaleMode",e.deepWrap(s.imageScaleMode)),e.setProp(u,"imageTransform",e.deepWrap(N(s.transform))),e.setProp(u,"scalingFactor",e.deepWrap(s.scale)),s.image&&s.image.hash?e.setProp(u,"image",P(e,n.createImageFromSHA1(d.toHex(s.image.hash)))):e.setProp(u,"image",e.null);break;default:f.pluginWarn(`Paint type ${s.type} is not yet supported`)}e.setProp(r,(o++).toString(),u)}return r}function E({vm:e,imageStore:n},t,r){if(!e.isArray(t))return[];const i=[],o=e.getNumberProp(t,"length");for(let s=0;s<o;s++){const o=e.getProp(t,s.toString()),u={};if(u.type=e.toString(e.getProp(o,"type")),!u.type)throw new Error('Expected paint to have a "type" property');const a=e.getProp(o,"visible");u.visible=!e.isBoolean(a)||e.toBoolean(a);const c=e.getProp(o,"opacity");switch(u.opacity=e.isNumber(c)?e.toNumber(c):1,u.type){case"SOLID":{const n=e.deepUnwrap(e.getProp(o,"color"));if(!n)throw new Error('Expected solid paint to have a "color" property');u.color=Object.assign({},n,{a:1});break}case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":{const n=e.deepUnwrap(e.getProp(o,"gradientStops"));if(!n)throw new Error('Expected solid paint to have a "gradientStops" property');u.stops=n;const t=e.deepUnwrap(e.getProp(o,"gradientTransform"));u.transform=t?R(t):{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0};break}case"IMAGE":{const t=e.getProp(o,"image");if(!e.isObject(t))throw new Error('Expected image paint to have a "image" property');const i=e.toString(e.getProp(t,"hash"));if(u.image={hash:d.fromHex(i)},!n.isImageAlreadyRegistered(i)){const e=n.internalBytesForImage(i);if(null===e)throw new Error("Missing bytes for image");u.image.dataBlob=r.length,r.push({bytes:e})}const s=e.getProp(o,"scaleMode");e.isString(s)?u.imageScaleMode=e.toString(s):u.imageScaleMode="STRETCH";const a=e.deepUnwrap(e.getProp(o,"imageTransform"));u.transform=a?R(a):{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0};const c=e.getProp(o,"scalingFactor");e.isNumber(c)?u.scale=e.toNumber(c):u.scale=.5;break}default:throw new Error(`Unsupported paint type: ${u.type}`)}i.push(u)}return i}function C(e){return e.map(e=>({imageType:"JPG"===e.format?"JPEG":e.format,constraint:e.constraint,contentsOnly:e.contentsOnly}))}function I(e,n,t){const r=c.decodeNetwork(t.bytes),i=e.normalizedSize||{x:1,y:1},o={x:n.x/(i.x||1),y:n.y/(i.y||1)};return c.scaleVectorNetwork(r,o)}function k(e){const n=c.boundingBoxForNetwork(e),t=c.translateVectorNetwork(e,{x:-n.x,y:-n.y});return{boundingBox:n,vectorNetwork:t,blob:{bytes:c.encodeNetwork(t)}}}n.getNode=w,function(e){e.toString=function({vm:e},n){e.defineNonEnumerableFunction(n,"toString",function(){const n=e.toString(e.getProp(this,"id"));return e.newString(`[Node ${n}]`)})},e.clone=function({vm:e,nodeFactory:n},t){e.defineNonEnumerableFunction(t,"clone",function(){const t=g.clone(w(e,this));return n.trackNewSubtree(t),n.createNode(t)})},e.remove=function({vm:e},n){e.defineNonEnumerableFunction(n,"remove",function(){return g.removeSelfAndChildren(w(e,this)),e.undefined})},e.exportNode=function({vm:e},n){e.defineNonEnumerableFunction(n,"export",function(n){const t=w(e,this);let r=null;if(e.isNull(n)||e.isUndefined(n));else{const t=e.deepUnwrap(n);if("PNG"!==t.format)throw new Error("Only PNG exports are currently supported from plugins");r=o.encode(i.schema.encodeNodeChange({exportSettings:C([t])}))}const s=u.fullscreen.sendMessage("PLUGIN_REQUEST_EXPORT_NODE_AS_IMAGE",{nodeId:t.guid,settings:r});if(!s||"success"!==s.args.status||!s.buffer){const e=s.args.error&&s.args.error?s.args.error:"<unknown>";throw new Error("Could not export node: "+e)}return e.newUint8Array(s.buffer)})},e.type=function({vm:e},n){e.defineProp(n,"type",{enumerable:!0,get:function(){const n=w(e,this),t=n.type;switch(t){case"ROUNDED_RECTANGLE":return e.newString("RECTANGLE");case"REGULAR_POLYGON":return e.newString("POLYGON");case"SYMBOL":return e.newString("COMPONENT");case"FRAME":if(n.resizeToFit)return e.newString("GROUP");break;case"CANVAS":return e.newString("PAGE")}return e.newString(t)}})},e.parent=function({vm:e,nodeFactory:n},t){e.defineProp(t,"parent",{enumerable:!0,get:function(){const t=w(e,this).parent;if(null===t)return e.null;const r=n.createNode(t),i=w(e,r);return i.sharedSymbolReference||"CANVAS"===i.type&&i.isInternalOnlyNode?e.null:r}})},e.name=function({vm:e},n){e.defineProp(n,"name",{enumerable:!0,get:function(){return e.newString(w(e,this).name)},set:function(n){const t=w(e,this);return"TEXT"===t.type&&(t.autoRename=!1),t.name=e.toString(n),e.undefined}})},e.visible=function({vm:e},n){e.defineProp(n,"visible",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).visible)},set:function(n){return w(e,this).visible=e.toBoolean(n),e.undefined}})},e.locked=function({vm:e},n){e.defineProp(n,"locked",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).locked)},set:function(n){return w(e,this).locked=e.toBoolean(n),e.undefined}})},e.children=function({vm:e,nodeFactory:n},t){e.defineProp(t,"children",{enumerable:!0,get:function(){const t=e.newArray(),r=w(e,this).reversedChildren,i=r.length;for(let o=0;o<i;o++)e.setProp(t,o.toString(),n.createNode(r[i-o-1]));return t}})},e.getAllDescendents=function({vm:e,nodeFactory:n},t){e.defineNonEnumerableFunction(t,"getAllDescendents",function(){const t=e.newArray();let r=0;const i=o=>{const s=o.reversedChildren,u=s.length;for(let a=0;a<u;a++){const o=g.get(s[u-a-1]);e.setProp(t,r.toString(),n.createNode(o.guid)),r++,i(o)}};return i(w(e,this)),t})},e.appendChild=function({vm:e},n){e.defineNonEnumerableFunction(n,"appendChild",function(n){return g.appendChild(w(e,this),w(e,n)),e.null}),e.defineNonEnumerableFunction(n,"insertChild",function(n,t){const r=p.deepValidateAndUnwrap(e,n,p.PropTypes.integer.isRequired,"insertChild index");return g.insertChild(w(e,this),r,w(e,t)),e.null})},e.size=function({vm:e},n){e.defineProp(n,"size",{enumerable:!0,get:function(){const n=e.deepWrap(w(e,this).size);return e.deepFreezeObject(n),n},set:function(n){return v(y),w(e,this).size=e.deepUnwrap(n),e.undefined}})},e.constraints=function({vm:e},n){e.defineProp(n,"constraints",{enumerable:!0,get:function(){const n=w(e,this);return e.deepWrap({horizontal:n.horizontalConstraint,vertical:n.verticalConstraint})},set:function(n){const{vertical:t,horizontal:r}=e.deepUnwrap(n),i=w(e,this);return i.verticalConstraint=t,i.horizontalConstraint=r,e.undefined}})},e.relativeTransform=function({vm:e},n){e.defineProp(n,"relativeTransform",{enumerable:!0,get:function(){const n=e.deepWrap(N(w(e,this).relativeTransform));return e.deepFreezeObject(n),n},set:function(n){return w(e,this).relativeTransform=R(e.deepUnwrap(n)),e.undefined}})},e.x=function({vm:e},n){e.defineProp(n,"x",{enumerable:!0,get:function(){return e.newNumber(w(e,this).relativeTransform.m02)},set:function(n){const t=w(e,this);return t.relativeTransform=Object.assign({},t.relativeTransform,{m02:e.toNumber(n)}),e.undefined}})},e.y=function({vm:e},n){e.defineProp(n,"y",{enumerable:!0,get:function(){return e.newNumber(w(e,this).relativeTransform.m12)},set:function(n){const t=w(e,this);return t.relativeTransform=Object.assign({},t.relativeTransform,{m12:e.toNumber(n)}),e.undefined}})},e.width=function({vm:e},n){e.defineProp(n,"width",{enumerable:!0,get:function(){return e.newNumber(w(e,this).size.x)},set:function(n){v(y);const t=w(e,this);return t.size={x:e.toNumber(n),y:t.size.y},e.undefined}})},e.height=function({vm:e},n){e.defineProp(n,"height",{enumerable:!0,get:function(){return e.newNumber(w(e,this).size.y)},set:function(n){v(y);const t=w(e,this);return t.size={x:t.size.x,y:e.toNumber(n)},e.undefined}})},e.resizeWithoutConstraints=function({vm:e},n){e.defineNonEnumerableFunction(n,b,function(n,t){const r=e.getNumber(n),i=e.getNumber(t);if(r<1||i<1)throw new Error(`width and height arguments of ${b}() must be > 1`);return g.resizeWithoutConstraints(w(e,this),r,i),e.undefined})},e.resizeWithConstraints=function({vm:e},n){e.defineNonEnumerableFunction(n,h,function(n,t){const r=e.getNumber(n),i=e.getNumber(t);if(r<1||i<1)throw new Error(`width and height arguments of ${h}() must be > 1`);return g.resizeWithConstraints(w(e,this),r,i),e.undefined})},e.opacity=function({vm:e},n){e.defineProp(n,"opacity",{enumerable:!0,get:function(){return e.newNumber(w(e,this).opacity)},set:function(n){return w(e,this).opacity=e.toNumber(n),e.undefined}})},e.blendMode=function({vm:e},n){e.defineProp(n,"blendMode",{enumerable:!0,get:function(){return e.newString(w(e,this).blendMode)},set:function(n){return w(e,this).blendMode=e.toString(n),e.undefined}})},e.isMask=function({vm:e},n){e.defineProp(n,"isMask",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).mask)},set:function(n){return w(e,this).mask=e.toBoolean(n),e.undefined}})},e.effects=function({vm:e},n){e.defineProp(n,"effects",{enumerable:!0,get:function(){const n=e.deepWrap(w(e,this).effects.map(e=>({type:"FOREGROUND_BLUR"===e.type?"LAYER_BLUR":e.type,color:e.color,offset:e.offset,radius:e.radius,visible:e.visible,blendMode:e.blendMode})));return e.deepFreezeObject(n),n},set:function(n){return w(e,this).effects=function(e){const n={color:{r:0,g:0,b:0,a:.25},offset:{x:0,y:0},radius:4,visible:!0,blendMode:"NORMAL"};return e.map(e=>{if(!("type"in e))throw new Error('Expected effect to have a "type" property');return Object.assign({},n,e,{type:"LAYER_BLUR"===e.type?"FOREGROUND_BLUR":e.type})})}(e.deepUnwrap(n)),e.undefined}})},e.effectStyleId=function({vm:e},n){e.defineProp(n,"effectStyleId",{enumerable:!0,get:function(){return e.deepWrap(l.styleKeyToString(w(e,this).inheritedEffectStyle)||null)},set:function(n){return w(e,this).inheritedEffectStyle=l.styleKeyFromString(e.deepUnwrap(n)),e.undefined}})},e.cornerRadius=function({vm:e},n){e.defineProp(n,"cornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).cornerRadius)},set:function(n){const t=w(e,this);return t.cornerRadius=e.toNumber(n),"ROUNDED_RECTANGLE"===t.type&&(t.rectangleCornerRadiiIndependent=!1),e.undefined}})},e.cornerSmoothing=function({vm:e},n){e.defineProp(n,"cornerSmoothing",{enumerable:!0,get:function(){return e.newNumber(w(e,this).cornerSmoothing)},set:function(n){return w(e,this).cornerSmoothing=e.toNumber(n),e.undefined}})},e.fills=function(e,n){const{vm:t}=e;t.defineProp(n,"fills",{enumerable:!0,get:function(){const n=x(e,w(t,this).fillPaints.data);return t.deepFreezeObject(n),n},set:function(n){const r=[];return w(t,this).fillPaints={data:E(e,n,r),blobs:r},t.undefined}})},e.fillStyleId=function({vm:e},n){e.defineProp(n,"fillStyleId",{enumerable:!0,get:function(){return e.deepWrap(l.styleKeyToString(w(e,this).inheritedFillStyle)||null)},set:function(n){return w(e,this).inheritedFillStyle=l.styleKeyFromString(e.deepUnwrap(n)),e.undefined}})},e.strokes=function(e,n){const{vm:t}=e;t.defineProp(n,"strokes",{enumerable:!0,get:function(){const n=x(e,w(t,this).strokePaints.data);return t.deepFreezeObject(n),n},set:function(n){const r=[];return w(t,this).strokePaints={data:E(e,n,r),blobs:r},t.undefined}})},e.strokeStyleId=function({vm:e},n){e.defineProp(n,"strokeStyleId",{enumerable:!0,get:function(){return e.deepWrap(l.styleKeyToString(w(e,this).inheritedFillStyleForStroke)||null)},set:function(n){return w(e,this).inheritedFillStyleForStroke=l.styleKeyFromString(e.deepUnwrap(n)),e.undefined}})},e.strokeWeight=function({vm:e},n){e.defineProp(n,"strokeWeight",{enumerable:!0,get:function(){return e.newNumber(w(e,this).strokeWeight)},set:function(n){return w(e,this).strokeWeight=e.toNumber(n),e.undefined}})},e.strokeAlign=function({vm:e},n){e.defineProp(n,"strokeAlign",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeAlign)},set:function(n){return w(e,this).strokeAlign=e.toString(n),e.undefined}})},e.strokeCap=function({vm:e},n){e.defineProp(n,"strokeCap",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeCap)},set:function(n){return w(e,this).strokeCap=e.toString(n),e.undefined}})},e.strokeJoin=function({vm:e},n){e.defineProp(n,"strokeJoin",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeJoin)},set:function(n){return w(e,this).strokeJoin=e.toString(n),e.undefined}})},e.dashPattern=function({vm:e},n){e.defineProp(n,"dashPattern",{enumerable:!0,get:function(){const n=e.deepWrap(w(e,this).dashPattern);return e.deepFreezeObject(n),n},set:function(n){return w(e,this).dashPattern=e.deepUnwrap(n),e.undefined}})},e.backgrounds=function(e,n){const{vm:t}=e;t.defineProp(n,"backgrounds",{enumerable:!0,get:function(){const n=x(e,w(t,this).backgroundPaints.data);return t.deepFreezeObject(n),n},set:function(n){const r=[];return w(t,this).backgroundPaints={data:E(e,n,r),blobs:r},t.undefined}})},e.backgroundStyleId=function({vm:e},n){e.defineProp(n,"backgroundStyleId",{enumerable:!0,get:function(){return e.deepWrap(l.styleKeyToString(w(e,this).inheritedFillStyleForBackground)||null)},set:function(n){return w(e,this).inheritedFillStyleForBackground=l.styleKeyFromString(e.deepUnwrap(n)),e.undefined}})},e.layoutGrids=function({vm:e},n){e.defineProp(n,"layoutGrids",{enumerable:!0,get:function(){let n=w(e,this).layoutGrids;if(n){let t=n.map(e=>"STRIPES"===e.pattern?{pattern:e.pattern,axis:e.axis,type:e.type,numSections:e.numSections,gutterSize:e.gutterSize,offset:e.offset,visible:e.visible,color:e.color}:"GRID"===e.pattern?{pattern:e.pattern,sectionSize:e.sectionSize,visible:e.visible,color:e.color}:void 0);const r=e.deepWrap(t);return e.deepFreezeObject(r),r}return e.undefined},set:function(n){return w(e,this).layoutGrids=p.deepValidateAndUnwrap(e,n,m.LayoutGrids,"layoutGrids"),e.undefined}})},e.gridStyleId=function({vm:e},n){e.defineProp(n,"gridStyleId",{enumerable:!0,get:function(){return e.deepWrap(l.styleKeyToString(w(e,this).inheritedGridStyle)||null)},set:function(n){return w(e,this).inheritedGridStyle=l.styleKeyFromString(e.deepUnwrap(n)),e.undefined}})},e.clipsContent=function({vm:e},n){e.defineProp(n,"clipsContent",{enumerable:!0,get:function(){return e.newBoolean(!w(e,this).frameMaskDisabled)},set:function(n){return w(e,this).frameMaskDisabled=!e.toBoolean(n),e.undefined}})},e.description=function({vm:e},n){e.defineProp(n,"description",{enumerable:!0,get:function(){return e.newString(w(e,this).symbolDescription)},set:function(n){return w(e,this).symbolDescription=e.toString(n),e.undefined}})},e.isRemote=function({vm:e},n){e.defineProp(n,"isRemote",{enumerable:!0,get:function(){const n=w(e,this),t=n.parent&&g.get(n.parent),r=t&&!!t.sharedSymbolReference;return e.newBoolean(r)}})},e.masterComponent=function({vm:e,nodeFactory:n},t){e.defineProp(t,"masterComponent",{enumerable:!0,get:function(){const t=w(e,this);return n.createNode(t.symbolId)}})},e.createInstance=function({vm:e,nodeFactory:n},t){e.defineNonEnumerableFunction(t,"createInstance",function(){const t=g.createInstance(w(e,this));return n.trackNewSubtree(t),n.createNode(t)})},e.textStyleId=function({vm:e},n){e.defineProp(n,"textStyleId",{enumerable:!0,get:function(){return e.deepWrap(l.styleKeyToString(w(e,this).inheritedTextStyle)||null)},set:function(n){return w(e,this).inheritedTextStyle=l.styleKeyFromString(e.deepUnwrap(n)),e.undefined}})},e.characters=function({vm:e},n){e.defineProp(n,"characters",{enumerable:!0,get:function(){return e.newString(w(e,this).characters)},set:function(n){const t=w(e,this);return t.autoRename=!1,t.characters=e.toString(n),e.undefined}})},e.autoRename=function({vm:e},n){e.defineProp(n,"autoRename",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).autoRename)},set:function(n){const t=w(e,this),r=e.toBoolean(n);return t.autoRename=r,r&&(t.name=t.characters.trim().replace(/\s+/g," ")),e.undefined}})},e.fontSize=function({vm:e},n){e.defineProp(n,"fontSize",{enumerable:!0,get:function(){return e.newNumber(w(e,this).fontSize)},set:function(n){return w(e,this).fontSize=e.toNumber(n),e.undefined}})},e.paragraphIndent=function({vm:e},n){e.defineProp(n,"paragraphIndent",{enumerable:!0,get:function(){return e.newNumber(w(e,this).paragraphIndent)},set:function(n){return w(e,this).paragraphIndent=e.toNumber(n),e.undefined}})},e.paragraphSpacing=function({vm:e},n){e.defineProp(n,"paragraphSpacing",{enumerable:!0,get:function(){return e.newNumber(w(e,this).paragraphSpacing)},set:function(n){return w(e,this).paragraphSpacing=e.toNumber(n),e.undefined}})},e.letterSpacing=function({vm:e},n){e.defineProp(n,"letterSpacing",{enumerable:!0,get:function(){const n=e.deepWrap(w(e,this).letterSpacing);return e.deepFreezeObject(n),n},set:function(n){return w(e,this).letterSpacing=e.deepUnwrap(n),e.undefined}})},e.textAlignHorizontal=function({vm:e},n){e.defineProp(n,"textAlignHorizontal",{enumerable:!0,get:function(){return e.newString(w(e,this).textAlignHorizontal)},set:function(n){return w(e,this).textAlignHorizontal=e.toString(n),e.undefined}})},e.textAlignVertical=function({vm:e},n){e.defineProp(n,"textAlignVertical",{enumerable:!0,get:function(){return e.newString(w(e,this).textAlignVertical)},set:function(n){return w(e,this).textAlignVertical=e.toString(n),e.undefined}})},e.textCase=function({vm:e},n){e.defineProp(n,"textCase",{enumerable:!0,get:function(){return e.newString(w(e,this).textCase)},set:function(n){return w(e,this).textCase=e.toString(n),e.undefined}})},e.textDecoration=function({vm:e},n){e.defineProp(n,"textDecoration",{enumerable:!0,get:function(){return e.newString(w(e,this).textDecoration)},set:function(n){return w(e,this).textDecoration=e.toString(n),e.undefined}})},e.textAutoResize=function({vm:e},n){e.defineProp(n,"textAutoResize",{enumerable:!0,get:function(){return e.newString(w(e,this).textAutoResize)},set:function(n){return w(e,this).textAutoResize=e.toString(n),e.undefined}})},e.lineHeight=function({vm:e},n){e.defineProp(n,"lineHeight",{enumerable:!0,get:function(){const n=e.deepWrap(w(e,this).lineHeight);return e.deepFreezeObject(n),n},set:function(n){return w(e,this).lineHeight=e.deepUnwrap(n),e.undefined}})},e.fontName=function({vm:e},n){e.defineProp(n,"fontName",{enumerable:!0,get:function(){const n=w(e,this).fontName,t=e.deepWrap({family:n.family,style:n.style});return e.deepFreezeObject(t),t},set:function(n){const{family:t,style:r}=e.deepUnwrap(n);return w(e,this).fontName={family:t,style:r},e.undefined}})},e.pointCount=function({vm:e},n){e.defineProp(n,"pointCount",{enumerable:!0,get:function(){return e.newNumber(w(e,this).count)},set:function(n){return w(e,this).count=e.toNumber(n),e.undefined}})},e.vectorNetwork=function({vm:e},n){e.defineProp(n,"vectorNetwork",{enumerable:!0,get:function(){const n=w(e,this),{data:t,blobs:r}=n.vectorDataInfo,i=I(t,n.size,r[t.vectorNetworkBlob]),o=e.deepWrap(i);return e.deepFreezeObject(o),o},set:function(n){const{boundingBox:t,blob:r}=k(e.deepUnwrap(n)),i={x:t.width,y:t.height},o={x:t.x,y:t.y},s=w(e,this);s.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:i},blobs:[r]};const u=s.relativeTransform,a=c.transformVector(u,o);return s.size=i,s.relativeTransform=Object.assign({},u,{m02:a.x,m12:a.y}),e.undefined}})},e.vectorPaths=function({vm:e},n){e.defineProp(n,"vectorPaths",{enumerable:!0,get:function(){const n=w(e,this),{data:t,blobs:r}=n.vectorDataInfo,i=function(e,n,t){const r=I(e,n,t);return c.convertNetworkToPaths(r)}(t,n.size,r[t.vectorNetworkBlob]),o=e.deepWrap(i);return e.deepFreezeObject(o),o},set:function(n){const{boundingBox:t,blob:r}=(i=e.deepUnwrap(n),k(c.convertPathsToNetwork(i)));var i;const o={x:t.width,y:t.height},s={x:t.x,y:t.y},u=w(e,this);u.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:o},blobs:[r]};const a=u.relativeTransform,d=c.transformVector(a,s);return u.size=o,u.relativeTransform=Object.assign({},a,{m02:d.x,m12:d.y}),e.undefined}})},e.guides=function({vm:e},n){e.defineProp(n,"guides",{enumerable:!0,get:function(){const n=e.deepWrap((w(e,this).guides||[]).map(e=>({axis:e.axis,offset:e.offset})));return e.deepFreezeObject(n),n},set:function(n){return w(e,this).guides=(e.deepUnwrap(n)||[]).map(e=>({axis:e.axis,offset:e.offset,guid:r.invalidGUID})),e.undefined}})},e.selection=function({vm:e,nodeFactory:n},t){e.defineProp(t,"selection",{enumerable:!0,get:function(){const t=e.newArray();let r=0;for(const i of w(e,this).directlySelectedNodes)e.setProp(t,r.toString(),n.createNode(i)),r++;return e.deepFreezeObject(t),t},set:function(n){if(!e.isArray(n))throw new Error("The selection must be an array");const t=e.getNumberProp(n,"length"),r=[];for(let i=0;i<t;i++){const t=e.getProp(n,i.toString());r.push(w(e,t).guid)}return w(e,this).directlySelectedNodes=r,e.undefined}})},e.booleanOperation=function({vm:e},n){e.defineProp(n,"booleanOperation",{enumerable:!0,get:function(){let n=w(e,this).booleanOperation;return"XOR"===n&&(n="EXCLUDE"),e.newString(n)},set:function(n){let t=e.toString(n);switch(t){case"EXCLUDE":t="XOR";break;case"UNION":case"INTERSECT":case"SUBTRACT":break;default:throw new Error(`Invalid boolean operation: ${JSON.stringify(t)}`)}return w(e,this).booleanOperation=t,e.undefined}})},e.starInnerRadius=function({vm:e},n){e.defineProp(n,"starInnerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).starInnerScale)},set:function(n){return w(e,this).starInnerScale=e.toNumber(n),e.undefined}})},e.arcData=function({vm:e},n){e.defineProp(n,"arcData",{enumerable:!0,get:function(){const n=e.deepWrap(w(e,this).arcData);return e.deepFreezeObject(n),n},set:function(n){return w(e,this).arcData=e.deepUnwrap(n),e.undefined}})},e.rectangleTopLeftCornerRadius=function({vm:e},n){e.defineProp(n,"rectangleTopLeftCornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).rectangleTopLeftCornerRadius)},set:function(n){const t=w(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleTopLeftCornerRadius=e.toNumber(n),e.undefined}})},e.rectangleTopRightCornerRadius=function({vm:e},n){e.defineProp(n,"rectangleTopRightCornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).rectangleTopRightCornerRadius)},set:function(n){const t=w(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleTopRightCornerRadius=e.toNumber(n),e.undefined}})},e.rectangleBottomLeftCornerRadius=function({vm:e},n){e.defineProp(n,"rectangleBottomLeftCornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).rectangleBottomLeftCornerRadius)},set:function(n){const t=w(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleBottomLeftCornerRadius=e.toNumber(n),e.undefined}})},e.rectangleBottomRightCornerRadius=function({vm:e},n){e.defineProp(n,"rectangleBottomRightCornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).rectangleBottomRightCornerRadius)},set:function(n){const t=w(e,this);return t.rectangleCornerRadiiIndependent=!0,t.rectangleBottomRightCornerRadius=e.toNumber(n),e.undefined}})},e.rectangleCornerRadiiIndependent=function({vm:e},n){e.defineProp(n,"rectangleCornerRadiiIndependent",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).rectangleCornerRadiiIndependent)},set:function(n){return w(e,this).rectangleCornerRadiiIndependent=e.toBoolean(n),e.undefined}})},e.exportSettings=function({vm:e},n){e.defineProp(n,"exportSettings",{enumerable:!0,get:function(){if(!w(e,this).exportSettings)return e.newArray();const n=e.deepWrap(w(e,this).exportSettings.map(e=>({format:"JPEG"===e.imageType?"JPG":e.imageType,constraint:e.constraint,contentsOnly:!!e.contentsOnly})));return e.deepFreezeObject(n),n},set:function(n){return w(e,this).exportSettings=C(e.deepUnwrap(n)),e.undefined}})}}(n.VmNode||(n.VmNode={})),n.wrapPrivateImage=P,n.mixin=function(e,n,...t){const r=e.vm.evalCode(`(function ${n}() {}).prototype`);if("SUCCESS"!==r.type)throw new Error("Internal eval error");for(const i of t)i(e,r.handle);return r.handle},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const d=t(612                                          ),n=t(129                               ),r=t(635                          ),i=d.SceneGraphShim.instance;const s=[r.VmNode.toString,r.VmNode.clone,r.VmNode.remove,r.VmNode.type,r.VmNode.parent,r.VmNode.name,r.VmNode.visible,r.VmNode.locked],a=[r.VmNode.children,r.VmNode.getAllDescendents,r.VmNode.appendChild],N=[r.VmNode.size,r.VmNode.constraints,r.VmNode.relativeTransform,r.VmNode.x,r.VmNode.y,r.VmNode.width,r.VmNode.height,r.VmNode.resizeWithConstraints,r.VmNode.resizeWithoutConstraints],m=[r.VmNode.opacity,r.VmNode.blendMode,r.VmNode.isMask,r.VmNode.effects,r.VmNode.effectStyleId],c=[r.VmNode.cornerRadius,r.VmNode.cornerSmoothing],l=[r.VmNode.fills,r.VmNode.fillStyleId,r.VmNode.strokes,r.VmNode.strokeStyleId,r.VmNode.strokeWeight,r.VmNode.strokeAlign,r.VmNode.strokeCap,r.VmNode.strokeJoin,r.VmNode.dashPattern],p=[r.VmNode.layoutGrids,r.VmNode.gridStyleId,r.VmNode.backgrounds,r.VmNode.backgroundStyleId,r.VmNode.clipsContent],V=[r.VmNode.description,r.VmNode.isRemote,r.VmNode.createInstance],h=[r.VmNode.masterComponent],g=[r.VmNode.textStyleId,r.VmNode.characters,r.VmNode.autoRename,r.VmNode.fontSize,r.VmNode.paragraphIndent,r.VmNode.paragraphSpacing,r.VmNode.textAlignHorizontal,r.VmNode.textAlignVertical,r.VmNode.textCase,r.VmNode.textDecoration,r.VmNode.textAutoResize,r.VmNode.letterSpacing,r.VmNode.lineHeight,r.VmNode.fontName],u=[r.VmNode.pointCount],y=[r.VmNode.vectorNetwork,r.VmNode.vectorPaths],b=[r.VmNode.guides,r.VmNode.selection],P=[r.VmNode.booleanOperation],f=[r.VmNode.starInnerRadius],w=[r.VmNode.arcData],O=[r.VmNode.rectangleTopLeftCornerRadius,r.VmNode.rectangleTopRightCornerRadius,r.VmNode.rectangleBottomLeftCornerRadius,r.VmNode.rectangleBottomRightCornerRadius,r.VmNode.rectangleCornerRadiiIndependent],x=[r.VmNode.exportSettings,r.VmNode.exportNode],k=[...s,...m,...l,...N,...x],C=[...s,...m,...N,...a,...p,...x];o.PublicNodeFactory=class{constructor(e,o){this.cache=new Map,this.pluginCreatedNodeIDs=[];const t={vm:e,nodeFactory:this,imageStore:o};this.vm=e,this.documentNodePrototype=r.mixin(t,"DocumentNode",...s,...a),this.canvasNodePrototype=r.mixin(t,"PageNode",...s,...a,...b,...x),this.sliceNodePrototype=r.mixin(t,"SliceNode",...s,...N,...x),this.frameNodePrototype=r.mixin(t,"FrameNode",...C),this.symbolNodePrototype=r.mixin(t,"ComponentNode",...C,...V),this.instanceNodePrototype=r.mixin(t,"InstanceNode",...C,...h),this.booleanOperationNodePrototype=r.mixin(t,"BooleanOperationNode",...k,...c,...a,...P),this.vectorNodePrototype=r.mixin(t,"VectorNode",...k,...c,...y),this.starNodePrototype=r.mixin(t,"StarNode",...k,...c,...u,...f),this.lineNodePrototype=r.mixin(t,"LineNode",...k),this.ellipseNodePrototype=r.mixin(t,"EllipseNode",...k,...w),this.polygonNodePrototype=r.mixin(t,"PolygonNode",...k,...c,...u),this.roundedRectangleNodePrototype=r.mixin(t,"RectangleNode",...k,...c,...O),this.textNodePrototype=r.mixin(t,"TextNode",...k,...g)}trackNewSubtree(e){const o=e=>{this.pluginCreatedNodeIDs.push(e.guid);for(const t of e.reversedChildren)o(i.get(t))};o(i.get(e))}destroy(){let e=0;for(const o of this.pluginCreatedNodeIDs){const t=i.get(o);t&&null===t.parent&&(i.removeSelfAndChildren(t),e++)}e>0&&console.warn(`Removing ${e} nodes without parents after the plugin was closed`)}createNode(e){let o=this.cache.get(e);if(void 0!==o)return o;const t=this.vm,d=function(e){return i.get(e).type}(e);switch(d){case"DOCUMENT":o=t.newObject(this.documentNodePrototype);break;case"CANVAS":o=t.newObject(this.canvasNodePrototype);break;case"SLICE":o=t.newObject(this.sliceNodePrototype);break;case"FRAME":o=t.newObject(this.frameNodePrototype);break;case"SYMBOL":o=t.newObject(this.symbolNodePrototype);break;case"INSTANCE":o=t.newObject(this.instanceNodePrototype);break;case"BOOLEAN_OPERATION":o=t.newObject(this.booleanOperationNodePrototype);break;case"VECTOR":o=t.newObject(this.vectorNodePrototype);break;case"STAR":o=t.newObject(this.starNodePrototype);break;case"LINE":o=t.newObject(this.lineNodePrototype);break;case"ELLIPSE":o=t.newObject(this.ellipseNodePrototype);break;case"REGULAR_POLYGON":o=t.newObject(this.polygonNodePrototype);break;case"ROUNDED_RECTANGLE":case"RECTANGLE":o=t.newObject(this.roundedRectangleNodePrototype);break;case"TEXT":o=t.newObject(this.textNodePrototype);break;default:throw new Error(`unsupported type in create node: ${d}`)}const r=n.PluginHelpers.developerFriendlyIdFromGuid(e);if(!r)throw new Error(`Internal Figma error: unknown id "${r}" in createNode`);return t.defineProp(o,"id",{enumerable:!0,writable:!1,value:t.newString(r)}),t.shallowFreezeObject(o),this.cache.set(e,o),o}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(34,1   ),a=t(38,1       ),n=t(214                                                    ),l=t(198         ),r=t(1426                               ),o=t(232                        ),h=t(139                                    ),m=console.warn.bind(console);function d(e,i,t){return Math.min(t,Math.max(i,e))}function u(e){const i=new l.Vector((window.innerWidth-(e.width||0))/2,(window.innerHeight-(e.height||0))/2);return s.createElement("div",{style:{display:e.displayed?"":"none"}},s.createElement(n.DraggableModal,{title:e.title,dragHeaderOnly:!0,onClose:e.cancelCallback,initialPosition:i},s.createElement("iframe",{name:"Plugin Iframe",sandbox:"allow-scripts allow-forms allow-pointer-lock",ref:e.iframeRefCallback,style:{background:"white",width:e.width,height:e.height},srcDoc:e.srcdoc})))}i.PluginUIHandle=class{constructor(e,i,t){this.uiContainer=null,this.pendingMessages=[],this.iframeElement=null,this.iframeResultResolve=null,this.iframeResultReject=null,this.iframeHtml="",this.iframeDisplayed=!1,this.iframeWidth=300,this.iframeHeight=200,this.iframeLoaded=!1,this.tearDown=(()=>{this.iframeResultResolve=null,this.iframeResultReject=null,this.destroyIframe(),this.hideProgress()}),this.windowMessageEventListener=(e=>{if(e.source&&this.iframeElement&&e.source===this.iframeElement.contentWindow)return"pluginResult"in e.data?(this.iframeResultResolve(e.data.pluginResult),void this.destroyIframe()):void("pluginData"in e.data?this.messageHandler(e.data.pluginData):m('Ignoring postMessage from plugin UI iframe due to missing both "pluginData" and "pluginResult"'))}),this.setIframeElement=(e=>{this.iframeElement=e,this.iframeElement&&(this.iframeElement.onload=(()=>{this.iframeLoaded=!0;const e=this.pendingMessages;this.pendingMessages=[],e.forEach(e=>this.postMessageToIframe(e))}))}),this.title=e,this.cancelCallback=i,this.messageHandler=t,this.showProgress()}updateUI(){a.render(s.createElement(u,{srcdoc:this.iframeHtml,title:this.title,displayed:this.iframeDisplayed,width:this.iframeWidth,height:this.iframeHeight,iframeRefCallback:this.setIframeElement,cancelCallback:this.cancelCallback}),this.uiContainer)}makeIframe(e){return this.destroyIframe(),this.iframeHtml=e,this.iframeLoaded=!1,this.uiContainer=document.createElement("div"),document.body.appendChild(this.uiContainer),window.addEventListener("message",this.windowMessageEventListener),this.updateUI(),new Promise((e,i)=>{this.iframeResultResolve=e,this.iframeResultReject=i})}destroyIframe(){this.hideIframe(),this.iframeHtml="",this.iframeResultReject&&(this.iframeResultReject(),this.iframeResultResolve=null,this.iframeResultReject=null),this.pendingMessages=[],this.iframeElement&&(this.iframeElement.onload=null),window.removeEventListener("message",this.windowMessageEventListener),this.uiContainer&&(a.unmountComponentAtNode(this.uiContainer),document.body.removeChild(this.uiContainer)),this.uiContainer=null,this.iframeElement=null}setIframeSize(e,i){if(!this.uiContainer)throw new Error("call showHtmlUI first");Number.isNaN(e)||(this.iframeWidth=d(e,100,window.innerWidth-50)),Number.isNaN(i)||(this.iframeHeight=d(i,100,window.innerHeight-50)),this.updateUI()}showIframe(){if(!this.uiContainer)throw new Error("call showHtmlUI first");this.hideProgress(),this.iframeDisplayed=!0,this.updateUI()}hideIframe(){this.iframeDisplayed=!1,this.uiContainer&&this.updateUI(),this.showProgress()}postMessageToIframe(e){if(!this.uiContainer)throw new Error("call showHtmlUI first");this.iframeLoaded?this.iframeElement.contentWindow.postMessage({pluginData:e},"*"):this.pendingMessages.push(e)}showProgress(){r.fullscreen&&r.fullscreen.isReady()&&r.fullscreen.dispatch(o.visualBell.enqueue({type:"plugins-status",message:`Running ${this.title}`,icon:h.VisualBellIcon.SPINNER,timeout:1/0,button:{text:"Cancel",action:e=>{this.cancelCallback()}}}))}hideProgress(){r.fullscreen&&r.fullscreen.isReady()&&r.fullscreen.dispatch(o.visualBell.dequeue({type:"plugins-status"}))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(129                               ),i=r(98        ),s=r(292         );t.PluginImageStore=class{constructor(){this.hashToPrivateImage=new Map,this.tearDown=(()=>{this.hashToPrivateImage=null}),this.bytesFromImage=(e=>{let t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");if(null!==t.bytes)return Promise.resolve(new Uint8Array(t.bytes));if(null!==t.sha1){const e=a.PluginHelpers.loadImage(t.sha1);if(""===e)throw new Error("Could not load image");return t.bytes=s.decode(e),Promise.resolve(new Uint8Array(t.bytes))}throw new Error("Could not get the image bytes")}),this.createImageFromSHA1=(e=>{const t=this.getOrCreatePrivateImage(e);return t.isAlreadyOnMainThread=!0,t})}isImageAlreadyRegistered(e){const t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");return t.isAlreadyOnMainThread}internalBytesForImage(e){const t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");return t.bytes}getOrCreatePrivateImage(e){let t=this.hashToPrivateImage.get(e);return void 0===t&&(t={isAlreadyOnMainThread:!1,sha1:e,bytes:null,getBytesAsync:()=>this.bytesFromImage(e)}),this.hashToPrivateImage.set(e,t),t}createImage(e){const t=new Uint8Array(e),r=i.sha1OfUint8Array(t),a=this.getOrCreatePrivateImage(r);return a.bytes=t,a.isAlreadyOnMainThread=!1,a}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(612                                          ),i=n(635                          ),r=o.StyleManager.instance;var s;!function(e){e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){return e.newString(function(e){switch(e){case"FILL":case"TEXT":case"EFFECT":case"GRID":return e}throw new Error(`Unsupport style type: ${e}`)}(i.getNode(e,this).styleType))}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(i.getNode(e,this).styleDescription)},set:function(t){return i.getNode(e,this).styleDescription=e.toString(t),e.undefined}})},e.isRemote=function({vm:e},t){e.defineNonEnumerableFunction(t,"isRemote",function(){return e.newBoolean(i.getNode(e,this).hasSharedStyleReference)})},e.remove=function({vm:e},t){e.defineNonEnumerableFunction(t,"remove",function(){return r.softDeleteStyle(i.getNode(e,this)),e.undefined})}}(s||(s={}));const c=[i.VmNode.name,s.type,s.description,s.isRemote,s.remove],l=[...c,i.VmNode.fills],a=[...c,i.VmNode.fontSize,i.VmNode.textCase,i.VmNode.textDecoration,i.VmNode.letterSpacing,i.VmNode.lineHeight,i.VmNode.fontName],u=[...c,i.VmNode.effects],d=[...c,i.VmNode.layoutGrids];t.StyleNodeFactory=class{constructor(e,t){this.cache=new Map;const n={vm:e,nodeFactory:null,imageStore:t};this.vm=e,this.fillStylePrototype=i.mixin(n,"FillStyle",...l),this.textStylePrototype=i.mixin(n,"TextStyle",...a),this.effectStylePrototype=i.mixin(n,"EffectStyle",...u),this.gridStylePrototype=i.mixin(n,"GridStyle",...d)}createStyle(e){const t=this.vm,n=this.cache.get(e),o=r.get(e);if(!o)return void 0!==n&&this.cache.delete(e),t.null;if(void 0!==n)return n;let i;const s=o.styleType;switch(s){case"FILL":i=t.newObject(this.fillStylePrototype);break;case"TEXT":i=t.newObject(this.textStylePrototype);break;case"EFFECT":i=t.newObject(this.effectStylePrototype);break;case"GRID":i=t.newObject(this.gridStylePrototype);break;default:throw new Error(`unsupported style type in create node: ${s}`)}return t.defineProp(i,"id",{enumerable:!0,value:t.newString(e)}),t.shallowFreezeObject(i),this.cache.set(e,i),i}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(635                          ),o=t(636                      ),i=t(612                                          ),u=t(637                     ),a=t(638                      ),l=t(129                               ),c=t(639                     ),s=i.SceneGraphShim.instance,d=i.StyleManager.instance,m=console.warn.bind(console),f=/^(\d+:\d+)|(I(\d+:\d+;)*(\d+:\d+))$/;function p(e){const n={};for(const t in e)n[e[t]]="create"+t;return n}n.typeToCreateNodeFunctionName=p({Rectangle:"RECTANGLE",Page:"CANVAS",Slice:"SLICE",Frame:"FRAME",Group:"GROUP",Component:"SYMBOL",BooleanOperation:"BOOLEAN_OPERATION",Vector:"VECTOR",Star:"STAR",Line:"LINE",Ellipse:"ELLIPSE",Polygon:"REGULAR_POLYGON",Text:"TEXT"}),n.typeToCreateStyleFunctionName=p({FillStyle:"FILL",TextStyle:"TEXT",GridStyle:"GRID",EffectStyle:"EFFECT"}),n.addTimerAPIs=function(e,n){if(!e.isEqual(e.undefined,e.getProp(e.global,"setTimeout")))return;const t=new Map,r=new Map;let o=1;function i(n,t){if(e.isFunction(n))return()=>e.callFunction(n,e.global,...t);{const t=e.toString(n);return()=>e.evalCode(t)}}e.setProp(e.global,"setTimeout",e.newFunction("setTimeout",(n,r,...u)=>{const a=i(n,u),l=e.toNumber(r),c=o++,s=setTimeout(a,l);return t.set(c,s),e.newNumber(c)})),e.setProp(e.global,"clearTimeout",e.newFunction("clearTimeout",n=>{const r=e.toNumber(n),o=t.get(r);return t.delete(r),clearTimeout(o),e.undefined})),e.setProp(e.global,"setInterval",e.newFunction("setInterval",(n,t,...u)=>{const a=i(n,u),l=e.toNumber(t),c=o++,s=setInterval(a,l);return r.set(c,s),e.newNumber(c)})),e.setProp(e.global,"clearInterval",e.newFunction("clearInterval",n=>{const t=e.toNumber(n),o=r.get(t);return r.delete(t),clearInterval(o),e.undefined})),n(()=>{for(const e of Array.from(t.values()))clearTimeout(e);t.clear();for(const e of Array.from(r.values()))clearInterval(e);r.clear()})},n.addFigmaAPI=function(e,t,i,p,g){const b=new a.PluginImageStore;g(b.tearDown);const w=new o.PublicNodeFactory(e,b);g(()=>w.destroy());const N=new c.StyleNodeFactory(e,b),F=e.newObject();e.setProp(e.global,"figma",F),function(e,t,r){e.defineEnumerableFunction(t,"getStyleById",n=>{const t=e.toString(n);return r.createStyle(t)});for(const o in n.typeToCreateStyleFunctionName)e.defineEnumerableFunction(t,n.typeToCreateStyleFunctionName[o],()=>{const e=d.createStyle(o);if(!e)throw new Error(`Could not create ${o} style`);return r.createStyle(e)})}(e,F,N),e.defineProp(F,"root",{value:w.createNode("0:0"),enumerable:!0}),e.defineProp(F,"currentPage",{enumerable:!0,get:()=>{const n=s.currentPage;return null===n?e.null:w.createNode(n)}});for(const r in n.typeToCreateNodeFunctionName)e.defineEnumerableFunction(F,n.typeToCreateNodeFunctionName[r],()=>{const e=s.createNode(r);return w.trackNewSubtree(e),w.createNode(e)});e.defineEnumerableFunction(F,"createImage",n=>r.wrapPrivateImage(e,b.createImage(e.deepUnwrap(n)))),e.defineEnumerableFunction(F,"getNodeById",n=>{const t=e.toString(n);if(!f.test(t))return e.null;let r=t.startsWith("I")?l.PluginHelpers.guidFromDeveloperFriendlyId(t):t;return r&&void 0!==s.get(r)?w.createNode(r):e.null}),e.defineEnumerableFunction(F,"createNodeFromSvg",n=>{const t=e.toString(n),r=l.PluginHelpers.createNodeFromSvgForPlugin(t);if(""===r)throw new Error("Could not convert SVG file");return w.trackNewSubtree(r),w.createNode(r)}),e.defineEnumerableFunction(F,"closePlugin",()=>(setTimeout(()=>p()),e.undefined)),e.defineEnumerableFunction(F,"closePluginWithFailure",n=>{let t;try{t=e.toString(n)}catch(r){t='The plugin called "closePluginWithFailure"'}return setTimeout(()=>p(t)),e.undefined});const P=e.newObject();e.defineProp(F,"viewport",{enumerable:!0,value:P}),e.defineProp(P,"center",{enumerable:!0,get:()=>{const n=l.PluginHelpers.getViewportCenter(),t=e.newObject();return e.setProp(t,"x",e.newNumber(n.x)),e.setProp(t,"y",e.newNumber(n.y)),e.shallowFreezeObject(t),t},set:function(n){const t=e.getNumber(e.getProp(n,"x")),r=e.getNumber(e.getProp(n,"y"));if(isNaN(t)||isNaN(r))throw new Error("viewport.center cannot take NaN values");return l.PluginHelpers.setViewportCenter({x:t,y:r}),e.undefined}}),e.defineProp(P,"zoomScale",{enumerable:!0,get:()=>{const n=l.PluginHelpers.getViewportZoomScale();return e.newNumber(n)},set:function(n){const t=e.getNumber(n);if(!(t>0))throw new Error("viewport.zoomScale expects a positive number");return l.PluginHelpers.setViewportZoomScale(t),e.undefined}}),e.defineEnumerableFunction(P,"fitViewportToNodes",n=>{const t=[];if(!e.isArray(n))throw new Error("zoomOnNodes expected an array");const r=e.getNumberProp(n,"length");for(let o=0;o<r;o++){const r=e.getProp(n,o.toString());t.push(e.getString(e.getProp(r,"id")))}return l.PluginHelpers.scrollAndZoomIntoView(t),e.undefined});let S=void 0;g(()=>S=void 0);const y=new u.PluginUIHandle(t,()=>p("Plugin cancelled by user"),function(n){S&&e.callFunction(S,e.undefined,e.deepWrap(n))});g(y.tearDown),e.defineEnumerableFunction(F,"showHtmlUI",(n,t)=>{const r=e.toString(n);let o=!1,i=NaN,u=NaN;e.isObject(t)&&(o=e.getBooleanProp(t,"hidden"),i=e.getNumberProp(t,"width"),u=e.getNumberProp(t,"height"));let a=y.makeIframe(r);y.setIframeSize(i,u),o||y.showIframe();const{resolve:l,reject:c,promise:s}=e.newPromise();return a.then(n=>{e.callFunction(l,e.undefined,e.deepWrap(n))},n=>{e.callFunction(c,e.undefined,e.undefined)}),s});const v=e.newObject();e.defineProp(F,"iframe",{enumerable:!0,value:v}),e.defineEnumerableFunction(v,"setHtml",n=>(m("figma.iframe.setHtml is deprecated. Use figma.showHtmlUI instead."),y.makeIframe(e.toString(n)).catch(()=>{}),e.undefined)),e.defineEnumerableFunction(v,"show",(n,t)=>(y.setIframeSize(e.toNumber(n||e.undefined),e.toNumber(t||e.undefined)),y.showIframe(),e.undefined)),e.defineEnumerableFunction(v,"hide",()=>(y.hideIframe(),e.undefined)),e.defineEnumerableFunction(v,"destroy",()=>(y.destroyIframe(),e.undefined)),e.defineProp(v,"onmessage",{enumerable:!0,get:function(){return S||e.undefined},set:function(n){if((e.isNull(n)||e.isUndefined(n))&&(n=void 0),void 0!==n&&!e.isFunction(n))throw new Error("onmessage must be a function");return S=n,e.undefined}}),e.defineEnumerableFunction(v,"postMessage",n=>(y.postMessageToIframe(e.deepUnwrap(n)),e.undefined)),e.shallowFreezeObject(v),e.shallowFreezeObject(F),e.shallowFreezeObject(P)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(129                               );t.addTestAPI=function(e){const t=e.newObject();e.setProp(e.global,"__TEST__",t),e.defineProp(t,"updateInstanceCallCount",{enumerable:!0,get:()=>e.newNumber(o.DebuggingHelpers.updateInstanceCallCount())}),e.shallowFreezeObject(t)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,t){"use strict";var o=this&&this.__awaiter||function(n,e,t,o){return new(t||(t=Promise))(function(r,i){function s(n){try{a(o.next(n))}catch(e){i(e)}}function c(n){try{a(o.throw(n))}catch(e){i(e)}}function a(n){n.done?r(n.value):new t(function(e){e(n.value)}).then(s,c)}a((o=o.apply(n,e||[])).next())})};Object.defineProperty(e,"__esModule",{value:!0});const r=t(1426                               ),i=t(629          ),s=t(640                    ),c=t(641                   ),a=t(663                                                 ),u=t(143              ),l=console.error;e.runPluginCodeInRuntime=function({code:n,runInNoOpVm:e,name:t,entryPoint:d,pluginCounter:f,onShutdown:m}){return o(this,void 0,void 0,function*(){let o,p=null;return e?p=i.createNoOpJavascriptVm():(yield i.loadRealms(),p=i.createRealmsVm()),{runResult:new Promise((e,i)=>{let g=[()=>p.destroy(),()=>a.restoreConsole(),()=>r.fullscreen.triggerAction("commit"),m];const h=n=>{-1===g.indexOf(n)&&g.push(n)};o=(n=>{let t=void 0;"string"==typeof n&&(t=new Error(n));try{(()=>{let n;if(g.forEach(e=>{try{e()}catch(t){n||(n=t)}}),g=[],n)throw n})()}catch(o){throw t=t||o,o}finally{t?i(t):e()}}),a.silenceConsole(),s.addTimerAPIs(p,h),s.addFigmaAPI(p,t,d,o,h),u.isRunningInteractionTests()&&c.addTestAPI(p),n+="\n//# sourceURL=PLUGIN_"+f+"_SOURCE\n",setTimeout(()=>{const e=p.evalCode(n);if("SUCCESS"!==e.type){const n=p.toString(e.error.handle);throw o(n),new Error("Direct error from evaluating code? "+n)}{const n=e.handle,t=p.newFunction("",function(n){const e=p.toString(n);return u.isRunningInteractionTests()||l(e),o(e),p.undefined});p.callMethod(n,"catch",t)}})}),closePlugin:o}})},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,e,r){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0});const i=r(645          ),s=Symbol("internal"),o=Symbol("wasDestroyed"),h=Function.prototype.apply;function u(t,e){if(t[o])throw new Error("This VM has been destroyed");if("object"==typeof e&&null!==e&&s in e)throw new Error("Wrapping a handle twice!");return{[s]:e}}function a(t,e){if(t[o])throw new Error("This VM has been destroyed");if("object"!=typeof e||null===e||!(s in e))throw new Error("The provided value is not a handle");return e[s]}n=o,e.NoOpJavascriptVm=class{constructor(){this.errorHandler=(()=>{}),this.executionDepth=0,this[n]=!1,this.global=u(this,window),this.null=u(this,null),this.undefined=u(this,void 0)}typeof(t){return typeof a(this,t)}isNumber(t){return"number"==typeof a(this,t)}isBoolean(t){return"boolean"==typeof a(this,t)}isString(t){return"string"==typeof a(this,t)}isNull(t){return null===a(this,t)}isUndefined(t){return void 0===a(this,t)}isObject(t){const e=a(this,t);return"object"==typeof e&&null!==e}isArray(t){return a(this,t)instanceof Array}isUint8Array(t){return a(this,t)instanceof Uint8Array}isFunction(t){return a(this,t)instanceof Function}shallowFreezeObject(t){Object.freeze(a(this,t))}getNumber(t){const e=a(this,t);if("number"!=typeof e)throw new Error("Value is not a number");return e}getBoolean(t){const e=a(this,t);if("boolean"!=typeof e)throw new Error("Value is not a boolean");return e}getString(t){const e=a(this,t);if("string"!=typeof e)throw new Error("Value is not a string");return e}getUint8Array(t){if(!this.isUint8Array(t))throw new Error("Value is not a Uint8Array");return new Uint8Array(a(this,t))}toNumber(t){const e=a(this,t);try{return+e}catch(r){throw new i.VmError(this,u(this,r))}}toBoolean(t){const e=a(this,t);try{return!!e}catch(r){throw new i.VmError(this,u(this,r))}}toString(t){const e=a(this,t);try{return""+e}catch(r){throw new i.VmError(this,u(this,r))}}newNumber(t){return u(this,+t)}newBoolean(t){return u(this,!!t)}newString(t){return u(this,""+t)}newObject(t){return u(this,void 0===t?{}:Object.create(a(this,t)))}newArray(){return u(this,[])}newUint8Array(t){return u(this,new Uint8Array(t))}isEqual(t,e){return a(this,t)===a(this,e)}newFunction(t,e){const r=this;let n=function(...t){const n=t.map(t=>u(r,t));for(;n.length<e.length;)n.push(r.undefined);return a(r,e.apply(u(r,this),n))};return Object.defineProperty(n,"name",{writable:!1,value:t}),u(r,n)}newPromise(){let t,e;return{promise:u(this,new Promise((r,n)=>{t=r,e=n})),resolve:u(this,t),reject:u(this,e)}}getKeys(t){return Object.keys(a(this,t))}getProp(t,e){return"string"!=typeof e&&(e=a(this,e)+""),u(this,a(this,t)[e])}setProp(t,e,r){"string"!=typeof e&&(e=a(this,e)+""),a(this,t)[e]=a(this,r)}defineProp(t,e,r){"string"!=typeof e&&(e=a(this,e)+"");let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&(n.value=a(this,r.value)),"get"in r&&(n.get=a(this,this.newFunction("get_"+e,r.get))),"set"in r&&(n.set=a(this,this.newFunction("set_"+e,r.set))),Object.defineProperty(a(this,t),e,n)}callFunction(t,e,...r){const n=a(this,t),s=a(this,e),o=r.map(t=>a(this,t));try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,h.call(n,s,o))}}catch(l){console.error(l);let t=new i.VmError(this,u(this,l));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}evalCode(t){try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,(0,eval)('"use strict";\n'+t))}}catch(e){console.error(e);let t=new i.VmError(this,u(this,e));return 1===this.executionDepth&&this.errorHandler(t),{type:"FAILURE",error:t}}finally{this.executionDepth--}}setErrorHandler(t){this.errorHandler=t}destroy(){this[o]=!0}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";var n;Object.defineProperty(t,"__esModule",{value:!0});const o=r(645          ),i=["log","error","assert","info","warn","clear"],s={};for(let y of i)s[y]=console[y].bind(console);const a=Symbol("internal"),h=Symbol("wasDestroyed"),l=Function.prototype.apply;function u(e,t){if(e[h])throw new Error("This VM has been destroyed");if("object"==typeof t&&null!==t&&a in t)throw new Error("Wrapping a handle twice!");return{[a]:t}}function c(e,t){if(e[h])throw new Error("This VM has been destroyed");if("object"!=typeof t||null===t||!(a in t))throw new Error("The provided value is not a handle");return t[a]}n=h,t.RealmsVm=class{constructor(){this.globalHandle=null,this.nullHandle=null,this.undefinedHandle=null,this[n]=!1,this.errorHandler=(()=>{}),this.executionDepth=0;const e=document.body.lastChild;this.realm=Realm.makeRootRealm();const t=document.body.lastChild;if(e===t||!t||"IFRAME"!==t.nodeName)throw new Error("can't find iframe to create plugin environment");this.iframe=t;const{safeFunctionWrapper:r,objectCreate:o,uint8ArrayCopy:a,emptyObject:h,emptyArray:l,promiseCreate:y}=this.realm.evaluate("\n      ({\n        safeFunctionWrapper: (outerRealmUnsafeFunction, functionName) => {\n          // This function is safe because it is created here inside the realm.\n          const innerRealmSafeFunction = function innerRealmSafeFunction(...innerRealmArgs) {\n            try {\n              return outerRealmUnsafeFunction(this, ...innerRealmArgs)\n            } catch (outerRealmException) {\n              let outerMessage = ''\n              try {\n                // This nested try-catch exists because it's theoretically possible for .message\n                // to throw an error from the outer realm if it's a getter or an object whose\n                // toString() throws an error.\n                if (outerRealmException && outerRealmException.message) {\n                  outerMessage =  \": \" + outerRealmException.message\n                }\n              } catch(ignored) {\n                throw new Error('API error trying to convert error message -- please contact support')\n              }\n\n              // We need to re-throw a new error object created in the inner realm\n              // so that it's safe for the plugin to look at\n              throw new Error('in ' + functionName + outerMessage)\n            }\n          }\n          return innerRealmSafeFunction\n        },\n        objectCreate: (() => {\n          // Wrap Object.create so it can't be modified and can't be accessed by the plugin\n          let objCreate = Object.create\n          return (prototype) => {\n            return objCreate(prototype)\n          }\n        })(),\n        uint8ArrayCopy: (() => {\n          // Wrap Uint8Array so it can't be modified by the plugin\n          let arrayConstructor = Uint8Array\n          return (outerRealmArray) => {\n            return new arrayConstructor(outerRealmArray)\n          }\n        })(),\n        emptyObject: () => {\n          return {}\n        },\n        emptyArray: () => {\n          return []\n        },\n        promiseCreate: (() => {\n          const promiseCtor = Promise\n          return () => {\n            let resolve\n            let reject\n            const promise = new promiseCtor((innerResolve, innerReject) => {\n              resolve = innerResolve\n              reject = innerReject\n            })\n            return {\n              promise,\n              resolve,\n              reject,\n            }\n          }\n        })(),\n      })\n    "),f=(e,t,n)=>{const o=r((e,...r)=>{const o=u(this,e),i=n?r.map(e=>u(this,e)):r;if(n)for(;i.length<t.length;)i.push(u(this,void 0));const s=t.apply(o,i);return void 0===s?void 0:c(this,s)},e);return Object.defineProperty(o,"name",{value:e,writable:!1}),o};this.outerToInnerFunctionTransformer=((e,t)=>f(e,t,!0)),this.objectFactory=o,this.uint8ArrayFactory=a,this.emptyObjectFactory=h,this.emptyArrayFactory=l,this.promiseFactory=y,this.globalHandle=u(this,this.realm.global),this.nullHandle=u(this,null),this.undefinedHandle=u(this,void 0);const p=this.newObject();this.setProp(this.global,"console",p);for(let n of i)this.setProp(p,n,u(this,f(n,s[n],!1)))}get global(){if(this.globalHandle)return this.globalHandle;throw new Error("no global handle")}get null(){if(this.nullHandle)return this.nullHandle;throw new Error("no null handle")}get undefined(){if(this.undefinedHandle)return this.undefinedHandle;throw new Error("no undefined handle")}typeof(e){return typeof c(this,e)}isNumber(e){return"number"==typeof c(this,e)}isBoolean(e){return"boolean"==typeof c(this,e)}isString(e){return"string"==typeof c(this,e)}isNull(e){return null===c(this,e)}isUndefined(e){return void 0===c(this,e)}isObject(e){const t=c(this,e);return"object"==typeof t&&null!==t}isArray(e){return Array.isArray(c(this,e))}isUint8Array(e){const t=c(this,e);return"[object Uint8Array]"===Object.prototype.toString.call(t)&&ArrayBuffer.isView(t)}isFunction(e){return"function"==typeof c(this,e)}shallowFreezeObject(e){Object.freeze(c(this,e))}getNumber(e){const t=c(this,e);if("number"!=typeof t)throw new Error("Value is not a number");return+t}getBoolean(e){const t=c(this,e);if("boolean"!=typeof t)throw new Error("Value is not a boolean");return!!t}getString(e){const t=c(this,e);if("string"!=typeof t)throw new Error("Value is not a string");return""+t}getUint8Array(e){if(!this.isUint8Array(e))throw new Error("Value is not a Uint8Array");const t=c(this,e);try{const e=+t.byteOffset,n=+t.byteLength,i=ArrayBuffer.prototype.slice.call(t.buffer,e,e+n);return new Uint8Array(i)}catch(r){throw new o.VmError(this,u(this,r))}}toNumber(e){const t=c(this,e);try{return+t}catch(r){throw new o.VmError(this,u(this,r))}}toBoolean(e){const t=c(this,e);try{return!!t}catch(r){throw new o.VmError(this,u(this,r))}}toString(e){const t=c(this,e);try{return""+t}catch(r){throw new o.VmError(this,u(this,r))}}newNumber(e){if("number"!=typeof e)throw new Error("Value is not a number");return u(this,e)}newBoolean(e){if("boolean"!=typeof e)throw new Error("Value is not a boolean");return u(this,e)}newString(e){if("string"!=typeof e)throw new Error("Value is not a string");return u(this,e)}newObject(e){if(!e)return u(this,this.emptyObjectFactory());let t,r=e?c(this,e):null;try{t=this.objectFactory(r)}catch(n){throw new o.VmError(this,u(this,n))}return u(this,t)}newArray(){return u(this,this.emptyArrayFactory())}newUint8Array(e){if("[object Uint8Array]"===Object.prototype.toString.call(e)&&ArrayBuffer.isView(e))return u(this,this.uint8ArrayFactory(e));throw new Error("Value is not an Uint8Array")}newFunction(e,t){if("function"!=typeof t)throw new Error("Value is not a function");return u(this,this.outerToInnerFunctionTransformer(e,t))}newPromise(){const{promise:e,resolve:t,reject:r}=this.promiseFactory();return{promise:u(this,e),resolve:u(this,t),reject:u(this,r)}}getKeys(e){let t=c(this,e);if("object"!=typeof t)throw new Error("not an object");return Object.keys(t)}getProp(e,t){let r,n="string"==typeof t?t:this.toString(t),i=c(this,e);try{r=i[n]}catch(s){throw new o.VmError(this,u(this,s))}return u(this,r)}setProp(e,t,r){let n="string"==typeof t?t:this.toString(t),i=c(this,e),s=c(this,r);try{i[n]=s}catch(a){throw new o.VmError(this,u(this,a))}}defineProp(e,t,r){"string"!=typeof t&&(t=c(this,t)+"");let n={};"configurable"in r&&(n.configurable=!!r.configurable),"enumerable"in r&&(n.enumerable=!!r.enumerable),"writable"in r&&(n.writable=!!r.writable),"value"in r&&(n.value=c(this,r.value)),"get"in r&&(n.get=this.outerToInnerFunctionTransformer("get_"+t,r.get)),"set"in r&&(n.set=this.outerToInnerFunctionTransformer("set_"+t,r.set)),Object.defineProperty(c(this,e),t,n)}isEqual(e,t){return c(this,e)===c(this,t)}callFunction(e,t,...r){const n=c(this,e),i=c(this,t),a=r.map(e=>c(this,e));try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,l.call(n,i,a))}}catch(h){s.error(h);let e=new o.VmError(this,u(this,h));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}evalCode(e){try{return this.executionDepth++,{type:"SUCCESS",handle:u(this,this.realm.evaluate(e))}}catch(t){s.error(t);let e=new o.VmError(this,u(this,t));return 1===this.executionDepth&&this.errorHandler(e),{type:"FAILURE",error:e}}finally{this.executionDepth--}}setErrorHandler(e){this.errorHandler=e}destroy(){this[h]=!0,this.iframe.remove()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(643                ),o=t(644                 ),a=t(178              );class s extends Error{constructor(e,r){let t="The plugin threw an error that could not be converted to a string";try{t=e.toString(r).replace(/^Error: /,"")}catch(n){}super(t),this.handle=r,Object.setPrototypeOf(this,s.prototype)}}function c(e){const r=new e;return r.getBooleanProp=((e,t)=>r.toBoolean(r.getProp(e,t))),r.getNumberProp=((e,t)=>r.toNumber(r.getProp(e,t))),r.getStringProp=((e,t)=>r.toString(r.getProp(e,t))),r.setBooleanProp=((e,t,n)=>r.setProp(e,t,r.newBoolean(n))),r.setNumberProp=((e,t,n)=>r.setProp(e,t,r.newNumber(n))),r.setStringProp=((e,t,n)=>r.setProp(e,t,r.newString(n))),r.callMethod=((e,t,...n)=>r.callFunction(r.getProp(e,t),e,...n)),r.deepWrap=(e=>{switch(typeof e){case"undefined":return r.undefined;case"boolean":return r.newBoolean(e);case"number":return r.newNumber(e);case"string":return r.newString(e);case"object":if(null===e)return r.null;if(e instanceof Array){const t=r.newArray(),n=e.length;for(let o=0;o<n;o++)r.setProp(t,o.toString(),r.deepWrap(e[o]));return t}if(e instanceof Uint8Array)return r.newUint8Array(e);{const t=r.newObject();for(const n in e)r.setProp(t,n,r.deepWrap(e[n]));return t}default:throw new Error(`Cannot wrap ${typeof e}`)}}),r.deepUnwrap=(e=>{switch(r.typeof(e)){case"undefined":return;case"boolean":return r.toBoolean(e);case"number":return r.toNumber(e);case"string":return r.toString(e);case"object":if(r.isNull(e))return null;if(r.isArray(e)){const t=[],n=r.getNumberProp(e,"length");for(let o=0;o<n;o++)t.push(r.deepUnwrap(r.getProp(e,o.toString())));return t}if(r.isUint8Array(e))return r.getUint8Array(e);{const t={};for(const n of r.getKeys(e))t[n]=r.deepUnwrap(r.getProp(e,n));return t}default:throw new Error(`Cannot unwrap ${r.typeof(e)}`)}}),r.deepFreezeObject=(e=>{if(r.isObject(e))for(const t of r.getKeys(e))r.deepFreezeObject(r.getProp(e,t));r.shallowFreezeObject(e)}),r.defineFunction=((e,t,n)=>{"string"!=typeof t&&(t=r.toString(t)),r.defineProp(e,t,{enumerable:!1,value:r.newFunction(t,n)})}),r}r.VmError=s,r.createNoOpJavascriptVm=function(){return c(n.NoOpJavascriptVm)},r.createRealmsVm=function(){return c(o.RealmsVm)};let i=null;r.loadRealms=function(){return i||(i=a.loadScript("/fullscreen/static/realm-shim.min.js").then(()=>{})).catch(()=>{i=null}),i},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,n){"use strict";function e(t,i){return{x:Math.min(t.x,i.x),y:Math.min(t.y,i.y)}}function x(t,i){return{x:Math.max(t.x,i.x),y:Math.max(t.y,i.y)}}function r(t){return t.width<0||t.height<0||!isFinite(t.x)||!isFinite(t.y)||!isFinite(t.width)||!isFinite(t.height)}Object.defineProperty(i,"__esModule",{value:!0}),i.vectorEq=function(t,i){return t.x===i.x&&t.y===i.y},i.vectorMin=e,i.vectorAdd=function(t,i){return{x:t.x+i.x,y:t.y+i.y}},i.vectorMax=x,i.computeBounds=function(t,i){const n=e(t,i),r=x(t,i);return{x:n.x,y:n.y,width:r.x-n.x,height:r.y-n.y}},i.rectContains=function(t,i){return i.x>=t.x&&i.x<=t.x+t.width&&i.y>=t.y&&i.y<=t.y+t.height},i.rectIsInvalid=r,i.rectUnionWith=function(t,i){if(r(t))return i;if(r(i))return t;const n=e({x:t.x,y:t.y},{x:i.x,y:i.y}),y=x({x:t.x+t.width,y:t.y+t.height},{x:i.x+i.width,y:i.y+i.height});return{x:n.x,y:n.y,width:y.x-n.x,height:y.y-n.y}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=e(646               ),o=0,i={Z:0,M:2,L:2,Q:4,C:6};function r(t){if(!t.data||!t.data.length)return[];const n=t.data.split(" "),e=[];for(let s of n){if("Z"===s||"M"===s||"L"===s||"Q"===s||"C"===s){e.push(s);continue}const t=Number(s);if(isNaN(t))throw new Error(`Path: Invalid command at ${s}`);e.push(t)}if(e.length>0&&"M"!==e[0])throw new Error(`Path: ${e[0]} is not a valid first command`);return e}function a(t,n){return{x:t.m00*n.x+t.m01*n.y+t.m02,y:t.m10*n.x+t.m11*n.y+t.m12}}function c(t,n,e,o){const i=s.computeBounds(t,o);if(s.rectContains(i,n)&&s.rectContains(i,e))return i;const r=[0,0,0,0],a=[0,0,0,0],c=[0,0,0,0],g=[0,0,0,0];let x=0,u=0;r[0]=0,a[0]=0,x=1+l(t.x,n.x,e.x,o.x,r,1),u=1+l(t.y,n.y,e.y,o.y,a,1),r[x++]=1,a[u++]=1,c[0]=t.x,g[0]=t.y;for(let s=1;s+1<x;s++)c[s]=d(t.x,n.x,e.x,o.x,r[s]);for(let s=1;s+1<u;s++)g[s]=d(t.y,n.y,e.y,o.y,a[s]);c[x-1]=o.x,g[u-1]=o.y;const m={x:t.x,y:t.y},h={x:t.x,y:t.y};for(let s=0;s<x;s++)m.x=Math.min(m.x,c[s]),h.x=Math.max(h.x,c[s]);for(let s=0;s<u;s++)m.y=Math.min(m.y,g[s]),h.y=Math.max(h.y,g[s]);return{x:m.x,y:m.y,width:h.x-m.x,height:h.y-m.y}}function d(t,n,e,s,o){let i=1-o;return i*(i*(i*t+3*o*n)+3*o*o*e)+o*o*o*s}function l(t,n,e,s,o,i){let r=3*(3*n+s-(t+3*e)),a=6*(t+e-2*n),c=3*(n-t),d=i;if(Math.abs(r)<1e-12&&(r=0),Math.abs(a)<1e-12&&(a=0),0!==r){const t=a*a-4*c*r;if(t>=0){const n=-a/(2*r),e=Math.sqrt(t)/Math.abs(2*r),s=n-e,i=n+e;0<s&&s<1&&(o[d++]=s),t>0&&0<i&&i<1&&(o[d++]=i)}}else if(0!==a){const t=-c/a;0<t&&t<1&&(o[d++]=t)}return d-i}function g(t){const n=[];return t?(t.forEach(t=>{n.push({windingRule:t.windingRule,loops:t.loops.map(t=>t.slice())})}),n):n}function x(t){return`${t.position.x} ${t.position.y}`}function u(t){return`${t.index} ${t.tangent.x} ${t.tangent.y}`}function m(t){return 0===t.start.tangent.x&&0===t.start.tangent.y&&0===t.end.tangent.x&&0===t.end.tangent.y}n.pathToCommands=r,n.scaleVectorNetwork=function(t,n){const e=t&&t.vertices||[],s=t&&t.segments||[],o=t&&t.regions||[],i={m00:n.x,m01:0,m02:0,m10:0,m11:n.y,m12:0};return{regions:g(o),segments:s.map(t=>({start:Object.assign({},t.start,{tangent:a(i,t.start.tangent)}),end:Object.assign({},t.end,{tangent:a(i,t.end.tangent)})})),vertices:e.map(t=>({position:a(i,t.position)}))}},n.translateVectorNetwork=function(t,n){const e=t&&t.vertices||[],s=t&&t.segments||[],o=t&&t.regions||[],i={m00:1,m01:0,m02:n.x,m10:0,m11:1,m12:n.y};return{regions:g(o),segments:function(t){const n=[];return t?(t.forEach(t=>{n.push({start:{index:t.start.index,tangent:Object.assign({},t.start.tangent)},end:{index:t.end.index,tangent:Object.assign({},t.end.tangent)}})}),n):n}(s),vertices:e.map(t=>({position:a(i,t.position)}))}},n.encodeNetwork=function(t){const n=t&&t.vertices||[],e=t&&t.segments||[],s=t&&t.regions||[],i=[n.length,e.length,s.length],r=new Float32Array(1),a=new Int32Array(r.buffer);function c(t){return r[0]=t,a[0]}for(let d=0;d<n.length;d++){const t=n[d];i.push(o,c(t.position.x),c(t.position.y))}for(let d=0;d<e.length;d++){const t=e[d],n=t.start,s=t.end;i.push(o,n.index,c(n.tangent.x),c(n.tangent.y),s.index,c(s.tangent.x),c(s.tangent.y))}for(let d=0;d<s.length;d++){const t=s[d],n=t.loops;if("nonzero"!==t.windingRule&&"evenodd"!==t.windingRule)throw new Error("Encoding Network: Invalid winding rule "+JSON.stringify(t.windingRule));i.push(o<<1|("nonzero"===t.windingRule?1:0),n.length);for(let e=0;e<n.length;e++){const t=n[e];i.push(t.length);for(let n=0;n<t.length;n++)i.push(t[n])}}return new Uint8Array(new Int32Array(i).buffer)},n.decodeNetwork=function(t){const n=[],e=[],s=[];if(t.length<3)return{vertices:n,segments:e,regions:s};const o=new Int32Array(t.buffer),i=new Float32Array(o.buffer);let r=0;const a=o[r++],c=o[r++],d=o[r++];for(let l=0;l<a;l++)r++,n.push({position:{x:i[r++],y:i[r++]}});for(let l=0;l<c;l++)r++,e.push({start:{index:o[r++],tangent:{x:i[r++],y:i[r++]}},end:{index:o[r++],tangent:{x:i[r++],y:i[r++]}}});for(let l=0;l<d;l++){let t=o[r++],n=o[r++],e={windingRule:1&t?"nonzero":"evenodd",loops:[]};for(let s=0;s<n;s++){let t=o[r++],n=[];for(let e=0;e<t;e++)n.push(o[r++]);e.loops.push(n)}s.push(e)}if(r!==o.length)throw new Error("Decoding Network: Invalid network data");return{vertices:n,segments:e,regions:s}},n.convertNetworkToPaths=function(t){const n=new h(t),e=Array(t.segments.length).fill(!1),o=[];if(n.isEmpty())return[];for(let a of n.regions){const t=new f(a.windingRule);for(const o of a.loops){let i=null;for(const{segment:r,segmentIndex:a}of n.getOrderedLoop(o)){e[a]=!0;const o=n.getVertex(r.start.index),c=n.getVertex(r.end.index);null===i&&(t.moveTo(o),i=o),m(r)?t.lineTo(c):t.curveTo(s.vectorAdd(o,r.start.tangent),s.vectorAdd(c,r.end.tangent),c)}s.vectorEq(t.lastPosition,i)&&t.closePath()}o.push(t)}const i=Array(n.vertices.length);for(let s=0;s<n.segments.length;s++){const t=n.segments[s].start.index,o=n.segments[s].end.index;i[t]||(i[t]=[]),i[o]||(i[o]=[]),e[s]||(i[t].push(s),i[o].push(s))}const r=[];for(let s=0;s<2;s++)for(let t=0;t<n.vertices.length;t++)if(0!==s||2!==i[t].length)for(let s of i[t]){if(e[s])continue;let o=t,a=s;const c={segments:[],isClosed:!1,startingVertex:o};for(r.push(c);!e[a];){e[a]=!0;const{start:t,end:s}=n.segments[a];o=t.index===o?s.index:t.index,c.segments.push(a);const r=i[o];if(2!==r.length)break;a=r[0]===a?r[1]:r[0]}o===t&&(c.isClosed=!0)}if(r.length>0){const t=new f(null);o.push(t);for(const e of r){let o=e.startingVertex,i=n.vertices[o].position;t.moveTo(i);for(const r of e.segments){const e=n.segments[r];o=e.start.index===o?e.end.index:e.start.index;const a=n.vertices[o].position;m(e)?t.lineTo(a):o===e.end.index?t.curveTo(s.vectorAdd(i,e.start.tangent),s.vectorAdd(a,e.end.tangent),a):t.curveTo(s.vectorAdd(i,e.end.tangent),s.vectorAdd(a,e.start.tangent),a),i=a}e.isClosed&&t.closePath()}}return o.map(t=>t.toVectorPath())},n.convertPathsToNetwork=function(t){const n=[],e=[],s=[],o={},a={},c=[];let d={x:0,y:0},l=null;function g(t){const e=x(t);return e in o?o[e]:(o[e]=n.length,n.push(t),o[e])}function m(t){const n=function(t){return t.start.index<t.end.index||t.start.index===t.end.index&&(t.start.tangent.x<t.end.tangent.x||t.start.tangent.x===t.end.tangent.x&&t.start.tangent.y<t.end.tangent.y)?`${u(t.start)} ${u(t.end)}`:`${u(t.end)} ${u(t.start)}`}(t);return n in a?a[n]:(a[n]=e.length,e.push(t),a[n])}function h(){if(null===l){const t=g({position:d});l={startingVertex:t,loop:[]}}}function f(t){if(null!==l&&l.loop.length){const n=o[x({position:d})],e=l.startingVertex;if(t&&n!==e){const t=m({start:{index:n,tangent:{x:0,y:0}},end:{index:e,tangent:{x:0,y:0}}});l.loop.push(t)}c.push(l.loop)}l=null}for(const u of t){const t=r(u),n=t.length;let e=0;for(;e<n;){const s=t[e++],r=i[s];if(void 0===r||e+r>n)throw new Error("Converting Paths to Network: Invalid commands data");switch(s){case"M":l=null,d={x:t[e++],y:t[e++]};break;case"L":{h();const n=m({start:{index:o[x({position:d})],tangent:{x:0,y:0}},end:{index:g({position:d={x:t[e++],y:t[e++]}}),tangent:{x:0,y:0}}});l.loop.push(n);break}case"Q":{h();let n=d;const s=o[x({position:n})];let i={x:t[e++],y:t[e++]};const r=g({position:d={x:t[e++],y:t[e++]}}),a=m({start:{index:s,tangent:{x:2*(i.x-n.x)/3,y:2*(i.y-n.y)/3}},end:{index:r,tangent:{x:2*(i.x-d.x)/3,y:2*(i.y-d.y)/3}}});l.loop.push(a);break}case"C":{h();let n=d;const s=o[x({position:n})];let i={x:t[e++],y:t[e++]},r={x:t[e++],y:t[e++]};const a=g({position:d={x:t[e++],y:t[e++]}}),c=m({start:{index:s,tangent:{x:i.x-n.x,y:i.y-n.y}},end:{index:a,tangent:{x:r.x-d.x,y:r.y-d.y}}});l.loop.push(c);break}case"Z":f(!0)}}null!==u.windingRule&&(f(!1),c.length>0&&s.push({windingRule:u.windingRule,loops:c})),l=null}return{vertices:n,segments:e,regions:s}},n.multiplyTransforms=function(t,n){return{m00:t.m00*n.m00+t.m01*n.m10,m01:t.m00*n.m01+t.m01*n.m11,m02:t.m00*n.m02+t.m01*n.m12+t.m02,m10:t.m10*n.m00+t.m11*n.m10,m11:t.m10*n.m01+t.m11*n.m11,m12:t.m10*n.m02+t.m11*n.m12+t.m12}},n.invertMatrix=function(t){const n=1/(t.m00*t.m11-t.m01*t.m10);return{m00:t.m11*n,m01:-t.m01*n,m02:(t.m01*t.m12-t.m11*t.m02)*n,m10:-t.m10*n,m11:t.m00*n,m12:(t.m10*t.m02-t.m00*t.m12)*n}},n.transformVector=a,n.boundingBoxForNetwork=function(t){const n=t&&t.vertices||[],e=t&&t.segments||[];let o={x:1/0,y:1/0,width:-1/0,height:-1/0};for(let i of e){let t=n[i.start.index].position,e=n[i.end.index].position;o=s.rectUnionWith(o,s.computeBounds(t,e))}for(let i of e){if(0===i.start.tangent.x&&0===i.start.tangent.y&&0===i.end.tangent.x&&0===i.end.tangent.y)continue;const t=n[i.start.index].position,e={x:t.x+i.start.tangent.x,y:t.y+i.start.tangent.y},r=n[i.end.index].position,a={x:r.x+i.end.tangent.x,y:r.y+i.end.tangent.y};s.rectContains(o,e)&&s.rectContains(o,a)||(o=s.rectUnionWith(o,c(t,e,a,r)))}return isFinite(o.x)&&isFinite(o.y)&&isFinite(o.width)&&isFinite(o.height)?o:{x:0,y:0,width:0,height:0}};class h{constructor(t){this.regions=[],this.segments=[],this.vertices=[],t&&(this.regions=t.regions,this.segments=t.segments,this.vertices=t.vertices)}isEmpty(){return 0===this.vertices.length}hasVertex(t,n){return t.start.index===n||t.end.index===n}startingVertex(t){if(1===t.length)return this.segments[t[0]].start.index;const n=this.segments[t[0]],e=this.segments[t[1]];let s=this.hasVertex(e,n.end.index);const o=this.hasVertex(e,n.start.index);if(s&&o&&t.length>2){const e=this.segments[t[2]];s=this.hasVertex(e,n.start.index)}if(s)return n.start.index;if(!o)throw new Error("Network: invalid starting vertex");return n.end.index}getOrderedLoop(t){if(0===t.length)return[];const n=[];let e=this.startingVertex(t);for(let s of t){const t=this.segments[s],o=t.start.index===e?t.start:t.end,i=t.start.index===e?t.end:t.start;if(o.index!==e&&i.index!==e)throw new Error("Network: invalid loop");n.push({segmentIndex:s,segment:{start:o,end:i}}),e=i.index}return n}getVertex(t){return this.vertices[t].position}}class f{constructor(t){this.windingRule=t,this.commands=[],this.lastPosition=null}moveTo(t){this.commands.push("M",t.x,t.y),this.lastPosition=t}lineTo(t){this.commands.push("L",t.x,t.y),this.lastPosition=t}curveTo(t,n,e){this.commands.push("C",t.x,t.y,n.x,n.y,e.x,e.y),this.lastPosition=e}closePath(){this.commands.push("Z"),this.lastPosition=null}toVectorPath(){return{windingRule:this.windingRule,data:this.commands.join(" ")}}}t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,r,n){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),r.deepEqualsIgnoringNumberPrecision=function e(r,n){const t=typeof r;if(typeof n!==t)return!1;if("number"===t)return!Number.isNaN(r)&&!Number.isNaN(n);if("object"!==t)return r===n;if(null===r!=(null===n))return!1;if(null===r)return!0;if(r instanceof Array!=n instanceof Array)return!1;if(r instanceof Array)return r.length===n.length&&r.every((r,t)=>e(r,n[t]));const o=Object.keys(r),u=Object.keys(n);return o.length===u.length&&(o.sort(),u.sort(),!!o.every((e,r)=>e===u[r])&&o.every(t=>e(r[t],n[t])))},r.pluginWarn=function(e){console.error(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(615        );class o extends Error{constructor(e){super(e),Object.setPrototypeOf(this,o.prototype)}}function i(e){return Object.defineProperty(e,"isOptional",{enumerable:!0,get:function(){return{type:"optional",__schema:this}}}),e}t.PropValidationError=o;const a={type:"number",min:function(e){return i(Object.assign({},this,{__min:e}))},max:function(e){return i(Object.assign({},this,{__max:e}))},range:function(e,t){return i(Object.assign({},this,{__min:e,__max:t}))}};t.PropTypes={bool:i({type:"boolean"}),string:i({type:"string"}),any:i({type:"any"}),oneOf:e=>i({type:"oneOf",__options:e}),arrayOf:e=>i({type:"array",__contentType:e}),exact:e=>i({type:"exact",__shape:e}),float:i(a),integer:i(Object.assign({},a,{__requireInteger:!0}))},t.deepValidateAndUnwrap=function e(t,n,i,a){const s=t.typeof(n);function f(){return new o(`Expected "${a}" to have type ${u(i)} but got ${function(e,t){const n=e.typeof(t);if("object"===n){if(e.isArray(t))return"array";if(e.isNull(t))return"null"}else if("number"===n){const n=e.getNumber(t);if(isNaN(n))return"NaN";if(n===1/0||n===-1/0)return"Infinity"}return n}(t,n)} instead`)}if("string"==typeof i){if(t.isString(n)&&i===t.getString(n))return i;throw f()}if("number"==typeof i){if(t.isNumber(n)&&i===t.getNumber(n))return i;throw f()}if("boolean"==typeof i){if(t.isBoolean(n)&&i===t.getBoolean(n))return i;throw f()}if(null===i){if(t.isNull(n))return i;throw f()}if(void 0===i){if(t.isUndefined(n))return i;throw f()}switch(i.type){case"optional":if("undefined"===s)return;return e(t,n,i.__schema,a);case"oneOf":{let r=[];for(const u of i.__options)try{return e(t,n,u,a)}catch(c){if(c instanceof o){r.push(c.message);continue}throw c}const s=r.map(e=>e.split("\n").map(e=>"  "+e).join("\n"));throw new o(`Expected "${a}" to be one of the following, but none matched: \n`+s.join("\n"))}case"boolean":if("boolean"!==s)throw f();return t.getBoolean(n);case"number":{if("number"!==s)throw f();const e=t.getNumber(n);if(!isFinite(e))throw f();if(null!=i.__min&&e<i.__min)throw new o(`Expected "${a}" to have value >= ${i.__min}`);if(null!=i.__max&&e>i.__max)throw new o(`Expected "${a}" to have value <= ${i.__max}`);if(null!=i.__requireInteger&&(0|e)!==e)throw new o(`Expected "${a}" to be an integer`);return e}case"string":if("string"!==s)throw f();return t.getString(n);case"any":if("undefined"===s||t.isNull(n))throw f();return t.deepUnwrap(n);case"array":{if(!t.isArray(n))throw f();const r=[],o=t.getNumberProp(n,"length");for(let s=0;s<o;s++)r.push(e(t,t.getProp(n,s.toString()),i.__contentType,a+`.[${s}]`));return r}case"exact":{if(!t.isObject(n)||t.isNull(n))throw f();const r={},s=Object.keys(i.__shape);for(const o of s){const s=i.__shape[o];r[o]=e(t,t.getProp(n,o),s,a+"."+o)}for(const e of t.getKeys(n))if(-1===s.indexOf(e))throw new o(`Expected "${a}" to have type ${u(i)} but got additional property "${e}"`);return r}default:r.assertNever(i)}};const s=50;function u(e){return function e(t,n){if(n>s)return"[...(recursive type definition)...]";if("string"==typeof t)return`"${t}"`;if("number"==typeof t)return`${t}`;if("boolean"==typeof t)return`${t}`;if(null===t)return"null";if(void 0===t)return"undefined";switch(t.type){case"optional":return`optional ${e(t.__schema,n+1)}`;case"oneOf":return`oneOf(${t.__options.map(t=>e(t,n+1)).join(", ")})`;case"boolean":return"boolean";case"number":return"number";case"string":return"string";case"any":return"any";case"array":return`array of ${e(t.__contentType,n+1)}`;case"exact":return`{${Object.keys(t.__shape).map(r=>r+": "+e(t.__shape[r],n+1)).join(", ")}}`;default:r.assertNever(t)}}(e,s)}t.addDefaults=function(e,t){for(let n in t)void 0===e[n]&&(e[n]=t[n])},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=p(649                     );e.ZeroToOne=r.PropTypes.float.range(0,1),e.PositiveFloat=r.PropTypes.float.min(0),e.Color=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1)}),e.ColorA=r.PropTypes.exact({r:r.PropTypes.float.range(0,1),g:r.PropTypes.float.range(0,1),b:r.PropTypes.float.range(0,1),a:r.PropTypes.float.range(0,1)});const t=r.PropTypes.exact({0:r.PropTypes.float,1:r.PropTypes.float,2:r.PropTypes.float});e.Matrix=r.PropTypes.exact({0:t,1:t}),e.Vector=r.PropTypes.exact({x:r.PropTypes.float,y:r.PropTypes.float}),e.BlendMode=r.PropTypes.oneOf(["PASS_THROUGH","NORMAL","DARKEN","MULTIPLY","LINEAR_BURN","COLOR_BURN","LIGHTEN","SCREEN","LINEAR_DODGE","COLOR_DODGE","OVERLAY","SOFT_LIGHT","HARD_LIGHT","DIFFERENCE","EXCLUSION","HUE","SATURATION","COLOR","LUMINOSITY"]),e.BooleanOperation=r.PropTypes.oneOf(["UNION","INTERSECT","SUBTRACT","EXCLUDE"]),e.ConstraintType=r.PropTypes.oneOf(["MIN","CENTER","MAX","STRETCH","SCALE"]),e.StrokeAlign=r.PropTypes.oneOf(["CENTER","INSIDE","OUTSIDE"]),e.StrokeCap=r.PropTypes.oneOf(["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"]),e.StrokeJoin=r.PropTypes.oneOf(["MITER","BEVEL","ROUND"]),e.Constraints=r.PropTypes.exact({horizontal:e.ConstraintType,vertical:e.ConstraintType});const s=r.PropTypes.oneOf(["PIXELS","PERCENT"]);e.NumberWithUnits=r.PropTypes.exact({value:r.PropTypes.float,units:s}),e.TextAlignHorizontal=r.PropTypes.oneOf(["LEFT","CENTER","RIGHT","JUSTIFIED"]),e.TextAlignVertical=r.PropTypes.oneOf(["TOP","CENTER","BOTTOM"]),e.TextCase=r.PropTypes.oneOf(["ORIGINAL","UPPER","LOWER","TITLE"]),e.TextDecoration=r.PropTypes.oneOf(["NONE","UNDERLINE","STRIKETHROUGH"]),e.TextAutoResize=r.PropTypes.oneOf(["NONE","WIDTH_AND_HEIGHT","HEIGHT"]),e.LayoutGrids=r.PropTypes.arrayOf(r.PropTypes.oneOf([r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"MIN",gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([r.PropTypes.integer.min(0),1/0]),sectionSize:r.PropTypes.float.min(0),offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"STRETCH",gutterSize:r.PropTypes.float,count:r.PropTypes.integer.min(0),offset:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:r.PropTypes.oneOf(["COLUMNS","ROWS"]),alignment:"CENTER",gutterSize:r.PropTypes.float,count:r.PropTypes.oneOf([r.PropTypes.integer.min(0),1/0]),sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional}),r.PropTypes.exact({pattern:"GRID",sectionSize:r.PropTypes.float.min(0),visible:r.PropTypes.bool.isOptional,color:e.ColorA.isOptional})]));const n=r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["INNER_SHADOW","DROP_SHADOW"]),offset:e.Vector,color:e.ColorA,blendMode:e.BlendMode,radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool}),r.PropTypes.exact({type:r.PropTypes.oneOf(["LAYER_BLUR","BACKGROUND_BLUR"]),radius:r.PropTypes.float.min(0),visible:r.PropTypes.bool})]);e.Effects=r.PropTypes.arrayOf(n);const T=r.PropTypes.exact({position:e.ZeroToOne,color:e.ColorA});e.Paint=r.PropTypes.oneOf([r.PropTypes.exact({type:"SOLID",color:e.Color,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional}),r.PropTypes.exact({type:r.PropTypes.oneOf(["GRADIENT_LINEAR","GRADIENT_RADIAL","GRADIENT_ANGULAR","GRADIENT_DIAMOND"]),gradientTransform:e.Matrix,gradientStops:r.PropTypes.arrayOf(T),visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional}),r.PropTypes.exact({type:"IMAGE",scaleMode:r.PropTypes.oneOf(["FILL","FIT","CROP","TILE"]),image:r.PropTypes.exact({hash:r.PropTypes.string}),scalingFactor:e.PositiveFloat.isOptional,imageTransform:e.Matrix.isOptional,visible:r.PropTypes.bool.isOptional,opacity:e.ZeroToOne.isOptional})]),e.Paints=r.PropTypes.arrayOf(e.Paint),e.FontName=r.PropTypes.exact({family:r.PropTypes.string,style:r.PropTypes.string});const a=r.PropTypes.exact({axis:r.PropTypes.oneOf(["X","Y"]),offset:r.PropTypes.float});e.Guides=r.PropTypes.arrayOf(a),e.ArcData=r.PropTypes.exact({startingAngle:r.PropTypes.float,endingAngle:r.PropTypes.float,innerRadius:e.ZeroToOne});const i=r.PropTypes.oneOf(["nonzero","evenodd"]),y=r.PropTypes.exact({windingRule:r.PropTypes.oneOf([i,null]),data:r.PropTypes.string});e.VectorPaths=r.PropTypes.arrayOf(y);const P=r.PropTypes.exact({position:e.Vector}),l=r.PropTypes.exact({index:r.PropTypes.integer.min(0),tangent:e.Vector}),O=r.PropTypes.exact({start:l,end:l}),f=r.PropTypes.exact({windingRule:i,loops:r.PropTypes.arrayOf(r.PropTypes.arrayOf(r.PropTypes.integer.min(0)))});e.VectorNetwork=r.PropTypes.exact({vertices:r.PropTypes.arrayOf(P),segments:r.PropTypes.arrayOf(O),regions:r.PropTypes.arrayOf(f)}),e.ExportSetting=r.PropTypes.oneOf([r.PropTypes.exact({format:r.PropTypes.oneOf(["PNG","JPG"]),contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,constraint:r.PropTypes.oneOf([r.PropTypes.exact({type:r.PropTypes.oneOf(["SCALE"]),value:r.PropTypes.float}),r.PropTypes.exact({type:r.PropTypes.oneOf(["WIDTH","HEIGHT"]),value:r.PropTypes.integer})]).isOptional}),r.PropTypes.exact({format:"PDF",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional}),r.PropTypes.exact({format:"SVG",contentsOnly:r.PropTypes.bool.isOptional,suffix:r.PropTypes.string.isOptional,svgOutlineText:r.PropTypes.bool.isOptional,svgIdAttribute:r.PropTypes.bool.isOptional,svgSimplifyStroke:r.PropTypes.bool.isOptional})]),e.ExportSettings=r.PropTypes.arrayOf(e.ExportSetting),o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(287       ),i=n(291       ),o=n(292         ),a=n(612                                          ),s=n(1426                               ),d=n(129                               ),u=n(647                         ),c=n(98        ),l=n(648                       ),p=n(373                              ),f=n(649                     ),g=n(650                             ),m=n(540                                                                  ),h=a.SceneGraphShim.instance,b="resize",y="resizeWithoutConstraints";class v extends Error{constructor(e){super(e)}}t.NodeNotFoundError=v;const S=a.StyleManager.instance;function w(e,t){if(!e.isObject(t))throw new Error(`expected node, got ${e.isNull(t)?"null":e.typeof(t)}`);const n=e.getProp(t,"id");if(!e.isString(n))throw new Error(`expected node id to be a string, got ${e.typeof(n)}`);const r=e.toString(n);if(p.looksLikeStyleKey(r)){const e=S.get(r);if(void 0===e)throw new v(`The style with id ${JSON.stringify(r)} does not exist`);return e}if(r.startsWith("I")){const e=d.PluginHelpers.guidFromDeveloperFriendlyId(r),t=e?h.get(e):void 0;if(void 0===t)throw new v(`The node (instance sublayer) with id ${JSON.stringify(r)} does not exist`);return t}{const e=h.get(r);if(void 0===e)throw new v(`The node with id ${JSON.stringify(r)} does not exist`);return e}}function P(e,t,n){const{vm:r}=e;r.defineProp(t,n,{enumerable:!0,get:function(){const t=I(e,w(r,this).fillPaints.data);return r.deepFreezeObject(t),t},set:function(t){const i=[];return w(r,this).fillPaints={data:R(e,f.deepValidateAndUnwrap(r,t,g.Paints,n),i),blobs:i},r.undefined}})}function A(e,t){const n=e.newObject();return e.defineProp(n,"hash",{enumerable:!1,value:e.deepWrap(t.sha1)}),e.defineFunction(n,"getBytesAsync",function(){const{promise:n,resolve:r,reject:i}=e.newPromise(),o=t.getBytesAsync();return o.then(t=>{e.callFunction(r,e.null,e.deepWrap(t))}),o.catch(t=>{e.callFunction(i,e.null,e.deepWrap(t))}),n}),n}function N(e){return[[e.m00,e.m01,e.m02],[e.m10,e.m11,e.m12]]}function T(e){return e?{m00:e[0][0],m01:e[0][1],m02:e[0][2],m10:e[1][0],m11:e[1][1],m12:e[1][2]}:{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}function I({vm:e,imageStore:t},n){const r=e.newArray();if(!n||0===n.length)return r;for(let i=0,o=0;i<n.length;i++){const a=n[i],s=e.newObject();switch(e.setProp(s,"type",e.deepWrap(a.type)),e.setProp(s,"visible",e.deepWrap(a.visible)),e.setProp(s,"opacity",e.deepWrap(a.opacity)),a.type){case"SOLID":e.setProp(s,"color",e.deepWrap({r:a.color.r,g:a.color.g,b:a.color.b}));break;case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":e.setProp(s,"gradientStops",e.deepWrap(a.stops)),e.setProp(s,"gradientTransform",e.deepWrap(N(a.transform)));break;case"IMAGE":e.setProp(s,"scaleMode",e.deepWrap("STRETCH"===a.imageScaleMode?"CROP":a.imageScaleMode)),e.setProp(s,"imageTransform",e.deepWrap(N(a.transform))),e.setProp(s,"scalingFactor",e.deepWrap(a.scale)),a.image&&a.image.hash?e.setProp(s,"image",A(e,t.createImageFromSHA1(c.toHex(a.image.hash)))):e.setProp(s,"image",e.null);break;default:l.pluginWarn(`Paint type ${a.type} is not yet supported`)}e.setProp(r,(o++).toString(),s)}return r}function R({imageStore:e},t,n){return t.map(t=>{const r=void 0===t.visible||t.visible,i=void 0===t.opacity?1:t.opacity;switch(t.type){case"SOLID":return{type:t.type,color:Object.assign({},t.color,{a:1}),visible:r,opacity:i};case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":return{type:t.type,transform:T(t.gradientTransform),stops:t.gradientStops,visible:r,opacity:i};case"IMAGE":{if(0===t.scalingFactor)throw new Error("image scaleFactor must not be 0");const o=t.image.hash,a={hash:c.fromHex(o)};if(!e.isImageAlreadyRegistered(o)){const t=e.internalBytesForImage(o);if(null===t)throw new Error("Missing bytes for image");a.dataBlob=n.length,n.push({bytes:t})}const s="CROP"===t.scaleMode?"STRETCH":t.scaleMode;return{type:t.type,imageScaleMode:s,image:a,transform:T(t.imageTransform),scale:t.scalingFactor||1,visible:r,opacity:i}}}throw new Error(`Unsupported paint type: ${t.type}`)})}function x(e){const t={suffix:"",contentsOnly:!0,constraint:{type:"SCALE",value:1},svgOutlineText:!0,svgIdAttribute:!1,svgSimplifyStroke:!0};return e.map(e=>(f.addDefaults(e,t),{imageType:"JPG"===e.format?"JPEG":e.format,suffix:e.suffix,contentsOnly:e.contentsOnly,constraint:{type:"CONTENT_"+e.constraint.type,value:e.constraint.value},svgOutlineText:e.svgOutlineText,svgForceStrokeMasks:!e.svgSimplifyStroke,svgIDMode:e.svgIdAttribute?"ALWAYS":"IF_NEEDED"}))}function O(e,t,n){const r=u.decodeNetwork(n.bytes),i=e.normalizedSize||{x:1,y:1},o={x:t.x/(i.x||1),y:t.y/(i.y||1)};return u.scaleVectorNetwork(r,o)}function C(e){const t=u.boundingBoxForNetwork(e),n=u.translateVectorNetwork(e,{x:-t.x,y:-t.y});return{boundingBox:t,vectorNetwork:n,blob:{bytes:u.encodeNetwork(n)}}}t.getNode=w,function(e){e.toString=function({vm:e},t){e.defineFunction(t,"toString",function(){const t=e.toString(e.getProp(this,"id"));return e.newString(`[Node ${t}]`)})},e.clone=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"clone",function(){const n=h.clone(w(e,this));return t.createNode(n)})},e.remove=function({vm:e},t){e.defineFunction(t,"remove",function(){return h.removeSelfAndChildren(w(e,this)),e.undefined})},e.exportNode=function({vm:e},t){e.defineFunction(t,"exportAsync",function(t){const n=w(e,this),r=f.deepValidateAndUnwrap(e,t,g.ExportSetting.isOptional,"exportAsync settings")||{format:"PNG"};if("PNG"!==r.format)throw new Error("Only PNG exports are currently supported from plugins");const a=o.encode(i.schema.encodeNodeChange({exportSettings:x([r])})),d=s.fullscreen.sendMessage("PLUGIN_REQUEST_EXPORT_NODE_AS_IMAGE",{nodeId:n.guid,settings:a});if(!d||"success"!==d.args.status||!d.buffer){const e=d.args.error&&d.args.error?d.args.error:"<unknown>";throw new Error("Could not export node: "+e)}const{promise:u,resolve:c}=e.newPromise();return e.callFunction(c,e.null,e.newUint8Array(d.buffer)),u})},e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){const t=w(e,this),n=t.type;switch(n){case"ROUNDED_RECTANGLE":return e.newString("RECTANGLE");case"REGULAR_POLYGON":return e.newString("POLYGON");case"SYMBOL":return e.newString("COMPONENT");case"FRAME":if(t.resizeToFit)return e.newString("GROUP");break;case"CANVAS":return e.newString("PAGE")}return e.newString(n)}})},e.parent=function({vm:e,nodeFactory:t},n){e.defineProp(n,"parent",{enumerable:!0,get:function(){const n=w(e,this).parent;if(null===n)return e.null;const r=t.createNode(n),i=w(e,r);return i.sharedSymbolReference||"CANVAS"===i.type&&i.isInternalOnlyNode?e.null:r}})},e.name=function({vm:e},t){e.defineProp(t,"name",{enumerable:!0,get:function(){return e.newString(w(e,this).name)},set:function(t){const n=w(e,this);return"TEXT"===n.type&&(n.autoRename=!1),n.name=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"name"),e.undefined}})},e.visible=function({vm:e},t){e.defineProp(t,"visible",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).visible)},set:function(t){return w(e,this).visible=f.deepValidateAndUnwrap(e,t,f.PropTypes.bool,"visible"),e.undefined}})},e.locked=function({vm:e},t){e.defineProp(t,"locked",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).locked)},set:function(t){return w(e,this).locked=f.deepValidateAndUnwrap(e,t,f.PropTypes.bool,"locked"),e.undefined}})},e.removed=function({vm:e},t){e.defineProp(t,"removed",{enumerable:!0,get:function(){try{return w(e,this),e.newBoolean(!1)}catch(t){if(t instanceof v)return e.newBoolean(!0);throw t}}})},e.children=function({vm:e,nodeFactory:t},n){e.defineProp(n,"children",{enumerable:!0,get:function(){const n=e.newArray(),r=w(e,this).reversedChildren,i=r.length;if("0:0"!==e.getStringProp(this,"id"))for(let o=0;o<i;o++)e.setProp(n,o.toString(),t.createNode(r[i-o-1]));else for(let o=0,a=0;o<i;o++){let s=r[i-o-1];h.get(s).isInternalOnlyNode||(e.setProp(n,a.toString(),t.createNode(s)),a++)}return e.deepFreezeObject(n),n}})},e.findOne=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"findOne",function(n){const r=(i,o)=>{const a=i.reversedChildren,s=a.length;for(let d=0;d<s;d++){const i=h.get(a[s-d-1]);if(o&&i.isInternalOnlyNode)continue;const u=t.createNode(i.guid),c=e.callFunction(n,e.null,u);if("FAILURE"===c.type)throw new Error(`"findOne" callback crashed: ${c.error.message}`);if(e.toBoolean(c.handle))return u;const l=r(i,!1);if(void 0!==l)return l}},i=w(e,this),o=r(i,"0:0"===i.guid);return void 0!==o?o:e.null})},e.findAll=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"findAll",function(n){const r=e.toBoolean(n),i=e.newArray();let o=0;const a=(s,d)=>{const u=s.reversedChildren,c=u.length;for(let l=0;l<c;l++){const s=h.get(u[c-l-1]);if(d&&s.isInternalOnlyNode)continue;const p=t.createNode(s.guid);if(r){const t=e.callFunction(n,e.null,p);if("FAILURE"===t.type)throw new Error(`"findAll" callback crashed: ${t.error.message}`);e.toBoolean(t.handle)&&(e.setProp(i,o+"",p),o++)}else e.setProp(i,o+"",p),o++;a(s,!1)}},s=w(e,this);return a(s,"0:0"===s.guid),i})},e.appendChild=function({vm:e},t){e.defineFunction(t,"appendChild",function(t){return h.appendChild(w(e,this),w(e,t)),e.null}),e.defineFunction(t,"insertChild",function(t,n){let r=f.deepValidateAndUnwrap(e,t,f.PropTypes.integer,"insertChild index");const i=w(e,this);if("0:0"===e.getStringProp(this,"id")){const e=i.reversedChildren,t=e.length;for(let n=0;n<t&&n<r;n++)h.get(e[t-n-1]).isInternalOnlyNode&&r++}return h.insertChild(i,r,w(e,n)),e.null})},e.constraints=function({vm:e},t){e.defineProp(t,"constraints",{enumerable:!0,get:function(){const t=w(e,this),n=e.deepWrap({horizontal:t.horizontalConstraint,vertical:t.verticalConstraint});return e.deepFreezeObject(n),n},set:function(t){const{vertical:n,horizontal:r}=f.deepValidateAndUnwrap(e,t,g.Constraints,"constraints"),i=w(e,this);return i.verticalConstraint=n,i.horizontalConstraint=r,e.undefined}})},e.relativeTransform=function({vm:e},t){e.defineProp(t,"relativeTransform",{enumerable:!0,get:function(){const t=e.deepWrap(N(w(e,this).relativeTransform));return e.deepFreezeObject(t),t},set:function(t){return w(e,this).relativeTransform=T(f.deepValidateAndUnwrap(e,t,g.Matrix,"relativeTransform")),e.undefined}})},e.absoluteTransform=function({vm:e},t){e.defineProp(t,"absoluteTransform",{enumerable:!0,get:function(){const t=e.deepWrap(N(w(e,this).absoluteTransform));return e.deepFreezeObject(t),t}})},e.x=function({vm:e},t){e.defineProp(t,"x",{enumerable:!0,get:function(){return e.newNumber(w(e,this).relativeTransform.m02)},set:function(t){const n=w(e,this);return n.relativeTransform=Object.assign({},n.relativeTransform,{m02:f.deepValidateAndUnwrap(e,t,f.PropTypes.float,"x")}),e.undefined}})},e.y=function({vm:e},t){e.defineProp(t,"y",{enumerable:!0,get:function(){return e.newNumber(w(e,this).relativeTransform.m12)},set:function(t){const n=w(e,this);return n.relativeTransform=Object.assign({},n.relativeTransform,{m12:f.deepValidateAndUnwrap(e,t,f.PropTypes.float,"y")}),e.undefined}})},e.width=function({vm:e},t){e.defineProp(t,"width",{enumerable:!0,get:function(){return e.newNumber(w(e,this).size.x)}})},e.height=function({vm:e},t){e.defineProp(t,"height",{enumerable:!0,get:function(){return e.newNumber(w(e,this).size.y)}})},e.resizeWithoutConstraints=function({vm:e},t){e.defineFunction(t,y,function(t,n){let r=w(e,this),i="LINE"===r.type?0:f.PropTypes.float.min(.01);const o=f.deepValidateAndUnwrap(e,t,f.PropTypes.float.min(.01),`${y} width`),a=f.deepValidateAndUnwrap(e,n,i,`${y} height`);return h.resizeWithoutConstraints(r,o,a),e.undefined})},e.resizeWithConstraints=function({vm:e},t){e.defineFunction(t,b,function(t,n){let r=w(e,this),i="LINE"===r.type?0:f.PropTypes.float.min(.01);const o=f.deepValidateAndUnwrap(e,t,f.PropTypes.float.min(.01),`${b} width`),a=f.deepValidateAndUnwrap(e,n,i,`${b} height`);return h.resizeWithConstraints(r,o,a),e.undefined})},e.opacity=function({vm:e},t){e.defineProp(t,"opacity",{enumerable:!0,get:function(){return e.newNumber(w(e,this).opacity)},set:function(t){return w(e,this).opacity=f.deepValidateAndUnwrap(e,t,g.ZeroToOne,"opacity"),e.undefined}})},e.blendMode=function({vm:e},t){e.defineProp(t,"blendMode",{enumerable:!0,get:function(){return e.newString(w(e,this).blendMode)},set:function(t){return w(e,this).blendMode=f.deepValidateAndUnwrap(e,t,g.BlendMode,"blendMode"),e.undefined}})},e.isMask=function({vm:e},t){e.defineProp(t,"isMask",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).mask)},set:function(t){return w(e,this).mask=f.deepValidateAndUnwrap(e,t,f.PropTypes.bool,"isMask"),e.undefined}})},e.effects=function({vm:e},t){e.defineProp(t,"effects",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).effects.map(e=>"INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type?{type:e.type,color:e.color,offset:e.offset,radius:e.radius,visible:e.visible,blendMode:e.blendMode}:{type:"FOREGROUND_BLUR"===e.type?"LAYER_BLUR":e.type,radius:e.radius,visible:e.visible}));return e.deepFreezeObject(t),t},set:function(t){return w(e,this).effects=f.deepValidateAndUnwrap(e,t,g.Effects,"effects").map(e=>Object.assign({},e,{type:"LAYER_BLUR"===e.type?"FOREGROUND_BLUR":e.type})),e.undefined}})},e.effectStyleId=function({vm:e},t){e.defineProp(t,"effectStyleId",{enumerable:!0,get:function(){return e.deepWrap(p.styleKeyToString(w(e,this).inheritedEffectStyle))},set:function(t){return w(e,this).inheritedEffectStyle=p.styleKeyFromString(f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"effectStyleId")),e.undefined}})},e.cornerRadius=function({vm:e},t){e.defineProp(t,"cornerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).cornerRadius)},set:function(t){const n=w(e,this),r=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"cornerRadius");return n.cornerRadius=r,"ROUNDED_RECTANGLE"===n.type&&(n.rectangleCornerRadiiIndependent=!1,n.rectangleCornerToolIndependent=!1,n.rectangleTopLeftCornerRadius=r,n.rectangleTopRightCornerRadius=r,n.rectangleBottomLeftCornerRadius=r,n.rectangleBottomRightCornerRadius=r),e.undefined}})},e.cornerSmoothing=function({vm:e},t){e.defineProp(t,"cornerSmoothing",{enumerable:!0,get:function(){return e.newNumber(w(e,this).cornerSmoothing)},set:function(t){return w(e,this).cornerSmoothing=f.deepValidateAndUnwrap(e,t,g.ZeroToOne,"cornerSmoothing"),e.undefined}})},e.fills=function(e,t){P(e,t,"fills")},e.fillStyleId=function({vm:e},t){e.defineProp(t,"fillStyleId",{enumerable:!0,get:function(){return e.deepWrap(p.styleKeyToString(w(e,this).inheritedFillStyle))},set:function(t){return w(e,this).inheritedFillStyle=p.styleKeyFromString(f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"fillStyleId")),e.undefined}})},e.strokes=function(e,t){const{vm:n}=e;n.defineProp(t,"strokes",{enumerable:!0,get:function(){const t=I(e,w(n,this).strokePaints.data);return n.deepFreezeObject(t),t},set:function(t){const r=[];return w(n,this).strokePaints={data:R(e,f.deepValidateAndUnwrap(n,t,g.Paints,"strokes"),r),blobs:r},n.undefined}})},e.strokeStyleId=function({vm:e},t){e.defineProp(t,"strokeStyleId",{enumerable:!0,get:function(){return e.deepWrap(p.styleKeyToString(w(e,this).inheritedFillStyleForStroke))},set:function(t){return w(e,this).inheritedFillStyleForStroke=p.styleKeyFromString(f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"effectStyleId")),e.undefined}})},e.strokeWeight=function({vm:e},t){e.defineProp(t,"strokeWeight",{enumerable:!0,get:function(){return e.newNumber(w(e,this).strokeWeight)},set:function(t){return w(e,this).strokeWeight=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"strokeWeight"),e.undefined}})},e.strokeAlign=function({vm:e},t){e.defineProp(t,"strokeAlign",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeAlign)},set:function(t){return w(e,this).strokeAlign=f.deepValidateAndUnwrap(e,t,g.StrokeAlign,"strokeAlign"),e.undefined}})},e.strokeCap=function({vm:e},t){e.defineProp(t,"strokeCap",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeCap)},set:function(t){return w(e,this).strokeCap=f.deepValidateAndUnwrap(e,t,g.StrokeCap,"strokeCap"),e.undefined}})},e.strokeJoin=function({vm:e},t){e.defineProp(t,"strokeJoin",{enumerable:!0,get:function(){return e.newString(w(e,this).strokeJoin)},set:function(t){return w(e,this).strokeJoin=f.deepValidateAndUnwrap(e,t,g.StrokeJoin,"strokeJoin"),e.undefined}})},e.dashPattern=function({vm:e},t){e.defineProp(t,"dashPattern",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).dashPattern);return e.deepFreezeObject(t),t},set:function(t){const n=f.deepValidateAndUnwrap(e,t,f.PropTypes.arrayOf(f.PropTypes.float.min(0)),"dashPattern");if(n.length>d.PluginHelpers.getMaxDashPattern())throw new Error("A maximum of 8 dash patterns is supported");return w(e,this).dashPattern=n,e.undefined}})},e.backgrounds=function(e,t){const{vm:n}=e;n.defineProp(t,"backgrounds",{enumerable:!0,get:function(){const t=I(e,w(n,this).backgroundPaints.data);return n.deepFreezeObject(t),t},set:function(t){const r=[];return w(n,this).backgroundPaints={data:R(e,f.deepValidateAndUnwrap(n,t,g.Paints,"backgrounds"),r),blobs:r},n.undefined}})},e.backgroundStyleId=function({vm:e},t){e.defineProp(t,"backgroundStyleId",{enumerable:!0,get:function(){return e.deepWrap(p.styleKeyToString(w(e,this).inheritedFillStyleForBackground))},set:function(t){return w(e,this).inheritedFillStyleForBackground=p.styleKeyFromString(f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"backgroundStyleId")),e.undefined}})},e.layoutGrids=function({vm:e},t){e.defineProp(t,"layoutGrids",{enumerable:!0,get:function(){const t=e.deepWrap(void 0===(n=w(e,this).layoutGrids)?[]:n.map(e=>{let t={pattern:"GRID"===e.pattern?"GRID":"X"===e.axis?"COLUMNS":"ROWS",visible:e.visible,color:e.color};if("STRIPES"===e.pattern)switch(t.gutterSize=e.gutterSize,t.alignment=e.type,e.type){case"MIN":t.count=e.numSections===m.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,t.sectionSize=e.sectionSize,t.offset=e.offset;break;case"STRETCH":t.count=e.numSections===m.NUM_SECTIONS_INFINITE?1:e.numSections,t.offset=e.offset;break;case"CENTER":t.count=e.numSections===m.NUM_SECTIONS_INFINITE?Number.POSITIVE_INFINITY:e.numSections,t.sectionSize=e.sectionSize}else t.sectionSize=e.sectionSize;return t}));var n;return e.deepFreezeObject(t),t},set:function(t){return w(e,this).layoutGrids=function(e){const t={alignment:"STRETCH",count:5,gutterSize:20,sectionSize:10,offset:0,visible:!0,color:{r:1,g:0,b:0,a:.1}};return e.map(e=>(f.addDefaults(e,t),{pattern:"COLUMNS"===e.pattern||"ROWS"===e.pattern?"STRIPES":e.pattern,axis:"COLUMNS"===e.pattern?"X":"Y",numSections:Math.min(e.count,m.NUM_SECTIONS_INFINITE),type:e.alignment,gutterSize:e.gutterSize,sectionSize:e.sectionSize,offset:e.offset,visible:e.visible,color:e.color}))}(f.deepValidateAndUnwrap(e,t,g.LayoutGrids,"layoutGrids")),e.undefined}})},e.gridStyleId=function({vm:e},t){e.defineProp(t,"gridStyleId",{enumerable:!0,get:function(){return e.deepWrap(p.styleKeyToString(w(e,this).inheritedGridStyle))},set:function(t){return w(e,this).inheritedGridStyle=p.styleKeyFromString(f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"gridStyleId")),e.undefined}})},e.clipsContent=function({vm:e},t){e.defineProp(t,"clipsContent",{enumerable:!0,get:function(){return e.newBoolean(!w(e,this).frameMaskDisabled)},set:function(t){return w(e,this).frameMaskDisabled=!f.deepValidateAndUnwrap(e,t,f.PropTypes.bool,"clipsContent"),e.undefined}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(w(e,this).symbolDescription)},set:function(t){return w(e,this).symbolDescription=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"description"),e.undefined}})},e.remote=function({vm:e},t){e.defineProp(t,"remote",{enumerable:!0,get:function(){const t=w(e,this),n=t.parent&&h.get(t.parent),r=n&&!!n.sharedSymbolReference;return e.newBoolean(r)}})},e.masterComponent=function({vm:e,nodeFactory:t},n){e.defineProp(n,"masterComponent",{enumerable:!0,get:function(){const n=w(e,this);return t.createNode(n.symbolId)}})},e.createInstance=function({vm:e,nodeFactory:t},n){e.defineFunction(n,"createInstance",function(){const n=h.createInstance(w(e,this));return t.createNode(n)})},e.textStyleId=function({vm:e},t){e.defineProp(t,"textStyleId",{enumerable:!0,get:function(){return e.deepWrap(p.styleKeyToString(w(e,this).inheritedTextStyle))},set:function(t){return w(e,this).inheritedTextStyle=p.styleKeyFromString(f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"textStyleId")),e.undefined}})},e.characters=function({vm:e},t){e.defineProp(t,"characters",{enumerable:!0,get:function(){return e.newString(w(e,this).characters)},set:function(t){return w(e,this).characters=f.deepValidateAndUnwrap(e,t,f.PropTypes.string,"characters"),e.undefined}})},e.autoRename=function({vm:e},t){e.defineProp(t,"autoRename",{enumerable:!0,get:function(){return e.newBoolean(w(e,this).autoRename)},set:function(t){const n=w(e,this),r=f.deepValidateAndUnwrap(e,t,f.PropTypes.bool,"autoRename");return n.autoRename=r,r&&(n.name=n.characters.trim().replace(/\s+/g," ")),e.undefined}})},e.fontSize=function({vm:e},t){e.defineProp(t,"fontSize",{enumerable:!0,get:function(){return e.newNumber(w(e,this).fontSize)},set:function(t){return w(e,this).fontSize=f.deepValidateAndUnwrap(e,t,f.PropTypes.float.min(1),"fontSize"),e.undefined}})},e.paragraphIndent=function({vm:e},t){e.defineProp(t,"paragraphIndent",{enumerable:!0,get:function(){return e.newNumber(w(e,this).paragraphIndent)},set:function(t){return w(e,this).paragraphIndent=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"paragraphIndent"),e.undefined}})},e.paragraphSpacing=function({vm:e},t){e.defineProp(t,"paragraphSpacing",{enumerable:!0,get:function(){return e.newNumber(w(e,this).paragraphSpacing)},set:function(t){return w(e,this).paragraphSpacing=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"paragraphSpacing"),e.undefined}})},e.letterSpacing=function({vm:e},t){e.defineProp(t,"letterSpacing",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).letterSpacing);return e.deepFreezeObject(t),t},set:function(t){return w(e,this).letterSpacing=f.deepValidateAndUnwrap(e,t,g.NumberWithUnits,"letterSpacing"),e.undefined}})},e.textAlignHorizontal=function({vm:e},t){e.defineProp(t,"textAlignHorizontal",{enumerable:!0,get:function(){return e.newString(w(e,this).textAlignHorizontal)},set:function(t){return w(e,this).textAlignHorizontal=f.deepValidateAndUnwrap(e,t,g.TextAlignHorizontal,"textAlignHorizontal"),e.undefined}})},e.textAlignVertical=function({vm:e},t){e.defineProp(t,"textAlignVertical",{enumerable:!0,get:function(){return e.newString(w(e,this).textAlignVertical)},set:function(t){return w(e,this).textAlignVertical=f.deepValidateAndUnwrap(e,t,g.TextAlignVertical,"textAlignVertical"),e.undefined}})},e.textCase=function({vm:e},t){e.defineProp(t,"textCase",{enumerable:!0,get:function(){return e.newString(w(e,this).textCase)},set:function(t){return w(e,this).textCase=f.deepValidateAndUnwrap(e,t,g.TextCase,"textCase"),e.undefined}})},e.textDecoration=function({vm:e},t){e.defineProp(t,"textDecoration",{enumerable:!0,get:function(){return e.newString(w(e,this).textDecoration)},set:function(t){return w(e,this).textDecoration=f.deepValidateAndUnwrap(e,t,g.TextDecoration,"textDecoration"),e.undefined}})},e.textAutoResize=function({vm:e},t){e.defineProp(t,"textAutoResize",{enumerable:!0,get:function(){return e.newString(w(e,this).textAutoResize)},set:function(t){return w(e,this).textAutoResize=f.deepValidateAndUnwrap(e,t,g.TextAutoResize,"textAutoResize"),e.undefined}})},e.lineHeight=function({vm:e},t){e.defineProp(t,"lineHeight",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).lineHeight);return e.deepFreezeObject(t),t},set:function(t){return w(e,this).lineHeight=f.deepValidateAndUnwrap(e,t,g.NumberWithUnits,"lineHeight"),e.undefined}})},e.fontName=function({vm:e},t){e.defineProp(t,"fontName",{enumerable:!0,get:function(){const t=w(e,this).fontName,n=e.deepWrap({family:t.family,style:t.style});return e.deepFreezeObject(n),n},set:function(t){return w(e,this).fontName=f.deepValidateAndUnwrap(e,t,g.FontName,"fontName"),e.undefined}})},e.pointCount=function({vm:e},t){e.defineProp(t,"pointCount",{enumerable:!0,get:function(){return e.newNumber(w(e,this).count)},set:function(t){return w(e,this).count=f.deepValidateAndUnwrap(e,t,f.PropTypes.integer.min(3),"pointCount"),e.undefined}})},e.vectorNetwork=function({vm:e},t){e.defineProp(t,"vectorNetwork",{enumerable:!0,get:function(){const t=w(e,this),{data:n,blobs:r}=t.vectorDataInfo,i=O(n,t.size,r[n.vectorNetworkBlob]),o=e.deepWrap(i);return e.deepFreezeObject(o),o},set:function(t){const{boundingBox:n,blob:r}=C(f.deepValidateAndUnwrap(e,t,g.VectorNetwork,"vectorNetwork")),i={x:n.width,y:n.height},o={x:n.x,y:n.y},a=w(e,this);a.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:i},blobs:[r]};const s=a.relativeTransform,d=u.transformVector(s,o);return a.size=i,a.relativeTransform=Object.assign({},s,{m02:d.x,m12:d.y}),e.undefined}})},e.vectorPaths=function({vm:e},t){e.defineProp(t,"vectorPaths",{enumerable:!0,get:function(){const t=w(e,this),{data:n,blobs:r}=t.vectorDataInfo,i=function(e,t,n){const r=O(e,t,n);return u.convertNetworkToPaths(r)}(n,t.size,r[n.vectorNetworkBlob]),o=e.deepWrap(i);return e.deepFreezeObject(o),o},set:function(t){const{boundingBox:n,blob:r}=(i=f.deepValidateAndUnwrap(e,t,g.VectorPaths,"vectorPaths"),C(u.convertPathsToNetwork(i)));var i;const o={x:n.width,y:n.height},a={x:n.x,y:n.y},s=w(e,this);s.vectorDataInfo={data:{vectorNetworkBlob:0,normalizedSize:o},blobs:[r]};const d=s.relativeTransform,c=u.transformVector(d,a);return s.size=o,s.relativeTransform=Object.assign({},d,{m02:c.x,m12:c.y}),e.undefined}})},e.guides=function({vm:e},t){e.defineProp(t,"guides",{enumerable:!0,get:function(){const t=e.deepWrap((w(e,this).guides||[]).map(e=>({axis:e.axis,offset:e.offset})));return e.deepFreezeObject(t),t},set:function(t){return w(e,this).guides=f.deepValidateAndUnwrap(e,t,g.Guides,"guides").map(e=>({axis:e.axis,offset:e.offset,guid:r.invalidGUID})),e.undefined}})},e.selection=function({vm:e,nodeFactory:t},n){e.defineProp(n,"selection",{enumerable:!0,get:function(){const n=e.newArray();let r=0;for(const i of w(e,this).directlySelectedNodes)e.setProp(n,r.toString(),t.createNode(i)),r++;return e.deepFreezeObject(n),n},set:function(t){if(!e.isArray(t))throw new Error("The selection must be an array");const n=e.getNumberProp(t,"length"),r=[];for(let i=0;i<n;i++){const n=e.getProp(t,i.toString());r.push(w(e,n).guid)}return w(e,this).directlySelectedNodes=r,e.undefined}})},e.booleanOperation=function({vm:e},t){e.defineProp(t,"booleanOperation",{enumerable:!0,get:function(){let t=w(e,this).booleanOperation;return"XOR"===t&&(t="EXCLUDE"),e.newString(t)},set:function(t){let n=f.deepValidateAndUnwrap(e,t,g.BooleanOperation,"booleanOperation");return"EXCLUDE"===n&&(n="XOR"),w(e,this).booleanOperation=n,e.undefined}})},e.starInnerRadius=function({vm:e},t){e.defineProp(t,"starInnerRadius",{enumerable:!0,get:function(){return e.newNumber(w(e,this).starInnerScale)},set:function(t){return w(e,this).starInnerScale=f.deepValidateAndUnwrap(e,t,g.ZeroToOne,"starInnerRadius"),e.undefined}})},e.arcData=function({vm:e},t){e.defineProp(t,"arcData",{enumerable:!0,get:function(){const t=e.deepWrap(w(e,this).arcData);return e.deepFreezeObject(t),t},set:function(t){return w(e,this).arcData=f.deepValidateAndUnwrap(e,t,g.ArcData,"arcData"),e.undefined}})},e.topLeftRadius=function({vm:e},t){e.defineProp(t,"topLeftRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleTopLeftCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleTopLeftCornerRadius=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"topLeftRadius"),e.undefined}})},e.topRightRadius=function({vm:e},t){e.defineProp(t,"topRightRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleTopRightCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleTopRightCornerRadius=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"topRightRadius"),e.undefined}})},e.bottomLeftRadius=function({vm:e},t){e.defineProp(t,"bottomLeftRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleBottomLeftCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleBottomLeftCornerRadius=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"bottomLeftRadius"),e.undefined}})},e.bottomRightRadius=function({vm:e},t){e.defineProp(t,"bottomRightRadius",{enumerable:!0,get:function(){const t=w(e,this);return e.newNumber(t.rectangleCornerRadiiIndependent?t.rectangleBottomRightCornerRadius:t.cornerRadius)},set:function(t){const n=w(e,this);return n.rectangleCornerRadiiIndependent=!0,n.rectangleCornerToolIndependent=!0,n.rectangleBottomRightCornerRadius=f.deepValidateAndUnwrap(e,t,g.PositiveFloat,"bottomRightRadius"),e.undefined}})},e.exportSettings=function({vm:e},t){e.defineProp(t,"exportSettings",{enumerable:!0,get:function(){const t=e.deepWrap(void 0===(n=w(e,this).exportSettings)?[]:n.map(e=>{const t={format:"JPEG"===e.imageType?"JPG":e.imageType,suffix:e.suffix,contentsOnly:!!e.contentsOnly};return"JPG"===t.format||"PNG"===t.format?t.constraint={type:e.constraint.type.substring("CONTENT_".length),value:e.constraint.value}:"SVG"===t.format&&(t.svgOutlineText=!!e.svgOutlineText,t.svgIdAttribute="ALWAYS"==e.svgIDMode,t.svgSimplifyStroke=!e.svgForceStrokeMasks),t}));var n;return e.deepFreezeObject(t),t},set:function(t){return w(e,this).exportSettings=x(f.deepValidateAndUnwrap(e,t,g.ExportSettings,"exportSettings")),e.undefined}})}}(t.VmNode||(t.VmNode={})),t.defineFillsProp=P,t.wrapPrivateImage=A,t.mixin=function(e,t,...n){const r=e.vm.evalCode(`(function ${t}() {}).prototype`);if("SUCCESS"!==r.type)throw new Error("Internal eval error");for(const i of n)i(e,r.handle);return r.handle},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const d=t(612                                          ),i=t(129                               ),r=t(651                          ),n=d.SceneGraphShim.instance;const s=[r.VmNode.toString,r.VmNode.clone,r.VmNode.remove,r.VmNode.type,r.VmNode.parent,r.VmNode.name,r.VmNode.visible,r.VmNode.locked,r.VmNode.removed],N=[r.VmNode.children,r.VmNode.findAll,r.VmNode.findOne,r.VmNode.appendChild],a=[r.VmNode.constraints,r.VmNode.relativeTransform,r.VmNode.absoluteTransform,r.VmNode.x,r.VmNode.y,r.VmNode.width,r.VmNode.height,r.VmNode.resizeWithConstraints,r.VmNode.resizeWithoutConstraints],m=[r.VmNode.opacity,r.VmNode.blendMode,r.VmNode.isMask,r.VmNode.effects,r.VmNode.effectStyleId],c=[r.VmNode.cornerRadius,r.VmNode.cornerSmoothing],p=[r.VmNode.fills,r.VmNode.fillStyleId,r.VmNode.strokes,r.VmNode.strokeStyleId,r.VmNode.strokeWeight,r.VmNode.strokeAlign,r.VmNode.strokeCap,r.VmNode.strokeJoin,r.VmNode.dashPattern],V=[r.VmNode.layoutGrids,r.VmNode.gridStyleId,r.VmNode.backgrounds,r.VmNode.backgroundStyleId,r.VmNode.clipsContent,r.VmNode.guides],l=[r.VmNode.description,r.VmNode.remote,r.VmNode.createInstance],h=[r.VmNode.masterComponent],y=[r.VmNode.textStyleId,r.VmNode.characters,r.VmNode.autoRename,r.VmNode.fontSize,r.VmNode.paragraphIndent,r.VmNode.paragraphSpacing,r.VmNode.textAlignHorizontal,r.VmNode.textAlignVertical,r.VmNode.textCase,r.VmNode.textDecoration,r.VmNode.textAutoResize,r.VmNode.letterSpacing,r.VmNode.lineHeight,r.VmNode.fontName],b=[r.VmNode.pointCount],u=[r.VmNode.vectorNetwork,r.VmNode.vectorPaths],P=[r.VmNode.guides,r.VmNode.selection],g=[r.VmNode.booleanOperation],O=[r.VmNode.starInnerRadius],f=[r.VmNode.arcData],x=[r.VmNode.topLeftRadius,r.VmNode.topRightRadius,r.VmNode.bottomLeftRadius,r.VmNode.bottomRightRadius],k=[r.VmNode.exportSettings,r.VmNode.exportNode],w=[...s,...m,...p,...a,...k],S=[...s,...m,...a,...N,...V,...k];o.PublicNodeFactory=class{constructor(e,o){this.cache=new Map;const t={vm:e,nodeFactory:this,imageStore:o};this.vm=e,this.documentNodePrototype=r.mixin(t,"DocumentNode",...s,...N),this.canvasNodePrototype=r.mixin(t,"PageNode",...s,...N,...P,...k),this.sliceNodePrototype=r.mixin(t,"SliceNode",...s,...a,...k),this.frameNodePrototype=r.mixin(t,"FrameNode",...S),this.symbolNodePrototype=r.mixin(t,"ComponentNode",...S,...l),this.instanceNodePrototype=r.mixin(t,"InstanceNode",...S,...h),this.booleanOperationNodePrototype=r.mixin(t,"BooleanOperationNode",...w,...c,...N,...g),this.vectorNodePrototype=r.mixin(t,"VectorNode",...w,...c,...u),this.starNodePrototype=r.mixin(t,"StarNode",...w,...c,...b,...O),this.lineNodePrototype=r.mixin(t,"LineNode",...w),this.ellipseNodePrototype=r.mixin(t,"EllipseNode",...w,...c,...f),this.polygonNodePrototype=r.mixin(t,"PolygonNode",...w,...c,...b),this.roundedRectangleNodePrototype=r.mixin(t,"RectangleNode",...w,...c,...x),this.textNodePrototype=r.mixin(t,"TextNode",...w,...y)}createNode(e){let o=this.cache.get(e);if(void 0!==o)return o;const t=this.vm,d=function(e){return n.get(e).type}(e);switch(d){case"DOCUMENT":o=t.newObject(this.documentNodePrototype);break;case"CANVAS":o=t.newObject(this.canvasNodePrototype);break;case"SLICE":o=t.newObject(this.sliceNodePrototype);break;case"FRAME":o=t.newObject(this.frameNodePrototype);break;case"SYMBOL":o=t.newObject(this.symbolNodePrototype);break;case"INSTANCE":o=t.newObject(this.instanceNodePrototype);break;case"BOOLEAN_OPERATION":o=t.newObject(this.booleanOperationNodePrototype);break;case"VECTOR":o=t.newObject(this.vectorNodePrototype);break;case"STAR":o=t.newObject(this.starNodePrototype);break;case"LINE":o=t.newObject(this.lineNodePrototype);break;case"ELLIPSE":o=t.newObject(this.ellipseNodePrototype);break;case"REGULAR_POLYGON":o=t.newObject(this.polygonNodePrototype);break;case"ROUNDED_RECTANGLE":case"RECTANGLE":o=t.newObject(this.roundedRectangleNodePrototype);break;case"TEXT":o=t.newObject(this.textNodePrototype);break;default:throw new Error(`unsupported type in create node: ${d}`)}const r=i.PluginHelpers.developerFriendlyIdFromGuid(e);if(!r)throw new Error(`Internal Figma error: unknown id "${r}" in createNode`);return t.defineProp(o,"id",{enumerable:!0,writable:!1,value:t.newString(r)}),t.shallowFreezeObject(o),this.cache.set(e,o),o}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,o){n.exports={pluginUI:"v040_jsvm_ui--pluginUI--_cY97"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const s=t(34,1   ),a=t(38,1       ),n=t(214                                                    ),l=t(198         ),r=t(1426                               ),o=t(232                        ),h=t(139                                    ),d=t(653                 ),m=console.warn.bind(console);function u(e,i,t){return Math.min(t,Math.max(i,e))}function c(e){const i=new l.Vector((window.innerWidth-(e.width||0))/2,(window.innerHeight-(e.height||0))/2);return s.createElement("div",{style:{display:e.displayed?"":"none"},className:d.pluginUI},s.createElement(n.DraggableModal,{title:e.title,dragHeaderOnly:!0,onClose:e.cancelCallback,initialPosition:i},s.createElement("iframe",{name:"Plugin Iframe",sandbox:"allow-scripts allow-forms allow-pointer-lock",ref:e.iframeRefCallback,style:{background:"white",width:e.width,height:e.height},srcDoc:e.srcdoc})))}i.PluginUIHandle=class{constructor(e,i,t,s){this.uiContainer=null,this.pendingMessages=[],this.iframeElement=null,this.iframeHtml="",this.iframeDisplayed=!1,this.iframeWidth=300,this.iframeHeight=200,this.iframeLoaded=!1,this.tearDown=(()=>{this.destroyIframe(),this.hideProgress()}),this.windowMessageEventListener=(e=>{e.source&&this.iframeElement&&e.source===this.iframeElement.contentWindow&&("pluginMessage"in e.data?this.messageHandler(e.data.pluginMessage):m('Ignoring postMessage from plugin UI iframe due to missing "pluginMessage"'))}),this.setIframeElement=(e=>{this.iframeElement=e,this.iframeElement&&(this.iframeElement.onload=(()=>{this.iframeLoaded=!0;const e=this.pendingMessages;this.pendingMessages=[],e.forEach(e=>this.postMessageToIframe(e))}))}),this.title=e,this.shouldShowVisualBell=i,this.cancelCallback=t,this.messageHandler=s,this.showProgress()}updateUI(){a.render(s.createElement(c,{srcdoc:this.iframeHtml,title:this.title,displayed:this.iframeDisplayed,width:this.iframeWidth,height:this.iframeHeight,iframeRefCallback:this.setIframeElement,cancelCallback:this.cancelCallback}),this.uiContainer)}makeIframe(e){this.destroyIframe(),this.iframeHtml=e,this.iframeLoaded=!1,this.uiContainer=document.createElement("div"),document.body.appendChild(this.uiContainer),window.addEventListener("message",this.windowMessageEventListener),this.updateUI()}destroyIframe(){this.hideIframe(),this.iframeHtml="",this.pendingMessages=[],this.iframeElement&&(this.iframeElement.onload=null),window.removeEventListener("message",this.windowMessageEventListener),this.uiContainer&&(a.unmountComponentAtNode(this.uiContainer),document.body.removeChild(this.uiContainer)),this.uiContainer=null,this.iframeElement=null}setIframeSize(e,i){if(!this.uiContainer)throw new Error("call showHtmlUI first");Number.isNaN(e)||(this.iframeWidth=u(e,100,window.innerWidth-50)),Number.isNaN(i)||(this.iframeHeight=u(i,100,window.innerHeight-50)),this.updateUI()}showIframe(){if(!this.uiContainer)throw new Error("call showHtmlUI first");this.hideProgress(),this.iframeDisplayed=!0,this.updateUI()}hideIframe(){this.iframeDisplayed=!1,this.uiContainer&&this.updateUI(),this.showProgress()}postMessageToIframe(e){if(!this.uiContainer)throw new Error("call showHtmlUI first");this.iframeLoaded?this.iframeElement.contentWindow.postMessage({pluginMessage:e},"*"):this.pendingMessages.push(e)}showProgress(){r.fullscreen&&r.fullscreen.isReady()&&this.shouldShowVisualBell&&r.fullscreen.dispatch(o.visualBell.enqueue({type:"plugins-status",message:`Running ${this.title}`,icon:h.VisualBellIcon.SPINNER,timeout:1/0,button:{text:"Cancel",action:e=>{this.cancelCallback()}}}))}hideProgress(){r.fullscreen&&r.fullscreen.isReady()&&this.shouldShowVisualBell&&r.fullscreen.dispatch(o.visualBell.dequeue({type:"plugins-status"}))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(129                               ),i=r(98        ),s=r(292         );t.PluginImageStore=class{constructor(){this.hashToPrivateImage=new Map,this.tearDown=(()=>{this.hashToPrivateImage=null}),this.bytesFromImage=(e=>{let t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");if(null!==t.bytes)return Promise.resolve(new Uint8Array(t.bytes));if(null!==t.sha1){const e=a.PluginHelpers.loadImage(t.sha1);if(""===e)throw new Error("Could not load image");return t.bytes=s.decode(e),Promise.resolve(new Uint8Array(t.bytes))}throw new Error("Could not get the image bytes")}),this.createImageFromSHA1=(e=>{const t=this.getOrCreatePrivateImage(e);return t.isAlreadyOnMainThread=!0,t})}isImageAlreadyRegistered(e){const t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");return t.isAlreadyOnMainThread}internalBytesForImage(e){const t=this.hashToPrivateImage.get(e);if(void 0===t)throw new Error("Invalid image");return t.bytes}getOrCreatePrivateImage(e){let t=this.hashToPrivateImage.get(e);return void 0===t&&(t={isAlreadyOnMainThread:!1,sha1:e,bytes:null,getBytesAsync:()=>this.bytesFromImage(e)}),this.hashToPrivateImage.set(e,t),t}createImage(e){const t=new Uint8Array(e),r=i.sha1OfUint8Array(t),a=this.getOrCreatePrivateImage(r);return a.bytes=t,a.isAlreadyOnMainThread=!1,a}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(612                                          ),o=n(651                          ),i=r.StyleManager.instance;var s;!function(e){e.type=function({vm:e},t){e.defineProp(t,"type",{enumerable:!0,get:function(){return e.newString(function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"FILL":return"PAINT"}throw new Error(`Unsupport style type: ${e}`)}(o.getNode(e,this).styleType))}})},e.description=function({vm:e},t){e.defineProp(t,"description",{enumerable:!0,get:function(){return e.newString(o.getNode(e,this).styleDescription)},set:function(t){return o.getNode(e,this).styleDescription=e.toString(t),e.undefined}})},e.remote=function({vm:e},t){e.defineProp(t,"remote",{enumerable:!0,get:function(){return e.newBoolean(o.getNode(e,this).hasSharedStyleReference)}})},e.remove=function({vm:e},t){e.defineFunction(t,"remove",function(){return i.softDeleteStyle(o.getNode(e,this)),e.undefined})},e.paints=function(e,t){o.defineFillsProp(e,t,"paints")}}(s||(s={}));const c=[o.VmNode.name,s.type,s.description,s.remote,s.remove],a=[...c,s.paints],p=[...c,o.VmNode.fontSize,o.VmNode.textDecoration,o.VmNode.fontName,o.VmNode.letterSpacing,o.VmNode.lineHeight,o.VmNode.paragraphIndent,o.VmNode.paragraphSpacing,o.VmNode.textCase],l=[...c,o.VmNode.effects],u=[...c,o.VmNode.layoutGrids];t.StyleNodeFactory=class{constructor(e,t){this.cache=new Map;const n={vm:e,nodeFactory:null,imageStore:t};this.vm=e,this.paintStylePrototype=o.mixin(n,"PaintStyle",...a),this.textStylePrototype=o.mixin(n,"TextStyle",...p),this.effectStylePrototype=o.mixin(n,"EffectStyle",...l),this.gridStylePrototype=o.mixin(n,"GridStyle",...u)}createStyle(e){const t=this.vm,n=this.cache.get(e),r=i.get(e);if(!r)return void 0!==n&&this.cache.delete(e),t.null;if(void 0!==n)return n;let o;const s=r.styleType;switch(s){case"FILL":o=t.newObject(this.paintStylePrototype);break;case"TEXT":o=t.newObject(this.textStylePrototype);break;case"EFFECT":o=t.newObject(this.effectStylePrototype);break;case"GRID":o=t.newObject(this.gridStylePrototype);break;default:throw new Error(`unsupported style type in create node: ${s}`)}return t.defineProp(o,"id",{enumerable:!0,value:t.newString(e)}),t.shallowFreezeObject(o),this.cache.set(e,o),o}},t.convertStyleTypeToPrivate=function(e){switch(e){case"TEXT":case"EFFECT":case"GRID":return e;case"PAINT":return"FILL"}throw new Error(`Unsupport style type: ${e}`)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(651                          ),o=t(652                      ),i=t(612                                          ),a=t(654                     ),s=t(655                      ),u=t(129                               ),l=t(656                     ),c=t(649                     ),d=t(143              ),p=i.SceneGraphShim.instance,g=i.StyleManager.instance,f=/^(\d+:\d+)|(I(\d+:\d+;)*(\d+:\d+))$/;function m(e){const n={};for(const t in e)n[e[t]]="create"+t;return n}n.typeToCreateNodeFunctionName=m({Rectangle:"RECTANGLE",Page:"CANVAS",Slice:"SLICE",Frame:"FRAME",Group:"GROUP",Component:"SYMBOL",BooleanOperation:"BOOLEAN_OPERATION",Vector:"VECTOR",Star:"STAR",Line:"LINE",Ellipse:"ELLIPSE",Polygon:"REGULAR_POLYGON",Text:"TEXT"}),n.typeToCreateStyleFunctionName=m({PaintStyle:"FILL",TextStyle:"TEXT",GridStyle:"GRID",EffectStyle:"EFFECT"}),n.addTimerAPIs=function(e,n){if(!e.isEqual(e.undefined,e.getProp(e.global,"setTimeout")))return;const t=new Map,r=new Map;let o=1;function i(n,t){if(e.isFunction(n))return()=>e.callFunction(n,e.global,...t);{const t=e.toString(n);return()=>e.evalCode(t)}}e.setProp(e.global,"setTimeout",e.newFunction("setTimeout",(n,r,...a)=>{const s=i(n,a),u=e.toNumber(r),l=o++,c=setTimeout(s,u);return t.set(l,c),e.newNumber(l)})),e.setProp(e.global,"clearTimeout",e.newFunction("clearTimeout",n=>{const r=e.toNumber(n),o=t.get(r);return t.delete(r),clearTimeout(o),e.undefined})),e.setProp(e.global,"setInterval",e.newFunction("setInterval",(n,t,...a)=>{const s=i(n,a),u=e.toNumber(t),l=o++,c=setInterval(s,u);return r.set(l,c),e.newNumber(l)})),e.setProp(e.global,"clearInterval",e.newFunction("clearInterval",n=>{const t=e.toNumber(n),o=r.get(t);return r.delete(t),clearInterval(o),e.undefined})),n(()=>{for(const e of Array.from(t.values()))clearTimeout(e);t.clear();for(const e of Array.from(r.values()))clearInterval(e);r.clear()})};const w=c.PropTypes.exact({visible:c.PropTypes.bool.isOptional,width:c.PropTypes.integer.min(0).isOptional,height:c.PropTypes.integer.min(0).isOptional}).isOptional;n.addFigmaAPI=function(e,t){const{name:i,command:m,closePlugin:P,addShutdownAction:N,uiHandleMode:b}=t,h=new s.PluginImageStore;N(h.tearDown);const y=new o.PublicNodeFactory(e,h),F=new l.StyleNodeFactory(e,h),v=e.newObject();e.setProp(e.global,"figma",v),function(e,t,r){e.defineFunction(t,"getStyleById",n=>{const t=e.toString(n);return r.createStyle(t)});for(const o in n.typeToCreateStyleFunctionName)e.defineFunction(t,n.typeToCreateStyleFunctionName[o],()=>{const e=g.createStyle(o);if(!e)throw new Error(`Could not create ${o} style`);return r.createStyle(e)})}(e,v,F),e.defineProp(v,"root",{value:y.createNode("0:0"),enumerable:!1}),e.defineProp(v,"currentPage",{enumerable:!1,get:()=>{const n=p.currentPage;return null===n?e.null:y.createNode(n)}}),e.defineProp(v,"command",{enumerable:!1,get:()=>e.newString(m)});for(const r in n.typeToCreateNodeFunctionName)"GROUP"!==r&&e.defineFunction(v,n.typeToCreateNodeFunctionName[r],()=>{const e=p.createNode(r);return y.createNode(e)});e.defineFunction(v,"group",(n,t,o)=>{if(!e.isArray(n))throw new Error("first argument to group() must be an array");const i=e.getNumberProp(n,"length");if(i<1)throw new Error("first argument to group() must be an array of at least one node");const a=[];for(let u=0;u<i;u++){const t=e.getProp(n,u.toString());a.push(r.getNode(e,t).guid)}if(e.isUndefined(t))throw new Error("second argument to group() must be provided");const s=r.getNode(e,t);let l=-1;if(e.isNumber(o)){if((l=e.getNumber(o))<0)throw new Error("third argument to group() must be a non-negative integer")}else if(!e.isUndefined(o))throw new Error("third argument to group() must be an integer");const c=u.PluginHelpers.groupNodes(a.join(" "),s.sessionID,s.localID,l);if("success"===c.status)return y.createNode(c.nodeId);throw new Error(`group() failed: ${c.error}`)}),e.defineFunction(v,"createImage",n=>r.wrapPrivateImage(e,h.createImage(e.deepUnwrap(n)))),e.defineFunction(v,"getNodeById",n=>{const t=e.toString(n);if(!f.test(t))return e.null;let r=t.startsWith("I")?u.PluginHelpers.guidFromDeveloperFriendlyId(t):t;return r&&void 0!==p.get(r)?y.createNode(r):e.null}),e.defineFunction(v,"createNodeFromSvg",n=>{const t=e.toString(n),r=u.PluginHelpers.createNodeFromSvgForPlugin(t);if(""===r)throw new Error("Could not convert SVG file");return y.createNode(r)}),e.defineFunction(v,"closePlugin",()=>(setTimeout(()=>P()),e.undefined)),d.isRunningInteractionTests()&&e.defineFunction(v,"closePluginWithFailure",n=>{let t;try{t=e.toString(n)}catch(r){t='The plugin called "closePluginWithFailure"'}return setTimeout(()=>P(t)),e.undefined});const I=e.newObject();e.defineProp(v,"viewport",{enumerable:!1,value:I}),e.defineProp(I,"center",{enumerable:!1,get:()=>{const n=u.PluginHelpers.getViewportCenter(),t=e.newObject();return e.setProp(t,"x",e.newNumber(n.x)),e.setProp(t,"y",e.newNumber(n.y)),e.shallowFreezeObject(t),t},set:function(n){const t=e.getNumber(e.getProp(n,"x")),r=e.getNumber(e.getProp(n,"y"));if(isNaN(t)||isNaN(r))throw new Error("viewport.center cannot take NaN values");return u.PluginHelpers.setViewportCenter({x:t,y:r}),e.undefined}}),e.defineProp(I,"zoom",{enumerable:!1,get:()=>{const n=u.PluginHelpers.getViewportZoomScale();return e.newNumber(n)},set:function(n){const t=e.getNumber(n);if(!(t>0))throw new Error("viewport.zoom expects a positive number");return u.PluginHelpers.setViewportZoomScale(t),e.undefined}}),e.defineFunction(I,"scrollAndZoomIntoView",n=>{const t=[];if(!e.isArray(n))throw new Error("zoomOnNodes expected an array");const r=e.getNumberProp(n,"length");for(let o=0;o<r;o++){const r=e.getProp(n,o.toString());t.push(e.getString(e.getProp(r,"id")))}return u.PluginHelpers.scrollAndZoomIntoView(t),e.undefined});let S=void 0;N(()=>S=void 0);const T="FORWARD_TO"===b.type?b.uiHandle:new a.PluginUIHandle(i,"HIDE_VISUAL_BELL"!==b.type,()=>P("Plugin cancelled by user"),function(n){S&&e.callFunction(S,e.undefined,e.deepWrap(n))});N(T.tearDown),e.defineFunction(v,"showUI",(n,t)=>{const r=c.deepValidateAndUnwrap(e,n,c.PropTypes.string,"showUI html"),o=c.deepValidateAndUnwrap(e,t,w,"showUI options")||{};return c.addDefaults(o,{visible:!0,width:NaN,height:NaN}),T.makeIframe(r),T.setIframeSize(o.width,o.height),o.visible&&T.showIframe(),e.undefined});const E=e.newObject();return e.defineProp(v,"ui",{enumerable:!1,value:E}),e.defineFunction(E,"show",()=>(T.showIframe(),e.undefined)),e.defineFunction(E,"resize",(n,t)=>{const r=c.deepValidateAndUnwrap(e,n,c.PropTypes.integer.min(0),"resize width"),o=c.deepValidateAndUnwrap(e,t,c.PropTypes.integer.min(0),"resize height");return T.setIframeSize(r,o),e.undefined}),e.defineFunction(E,"hide",()=>(T.hideIframe(),e.undefined)),e.defineFunction(E,"close",()=>(T.destroyIframe(),e.undefined)),e.defineProp(E,"onmessage",{enumerable:!1,get:function(){if("FORWARD_TO"===b.type)throw new Error('Cannot use "onmessage" from the developer tools console');return S||e.undefined},set:function(n){if("FORWARD_TO"===b.type)throw new Error('Cannot use "onmessage" from the developer tools console');if((e.isNull(n)||e.isUndefined(n))&&(n=void 0),void 0!==n&&!e.isFunction(n))throw new Error("onmessage must be a function");return S=n,e.undefined}}),e.defineFunction(E,"postMessage",n=>(T.postMessageToIframe(e.deepUnwrap(n)),e.undefined)),e.shallowFreezeObject(E),e.shallowFreezeObject(v),e.shallowFreezeObject(I),T},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(129                               );t.addTestAPI=function(e){const t=e.newObject();e.setProp(e.global,"__TEST__",t),e.defineProp(t,"updateInstanceCallCount",{enumerable:!0,get:()=>e.newNumber(o.DebuggingHelpers.updateInstanceCallCount())}),e.shallowFreezeObject(t)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(o,i){function a(e){try{c(r.next(e))}catch(t){i(t)}}function s(e){try{c(r.throw(e))}catch(t){i(t)}}function c(e){e.done?o(e.value):new n(function(t){t(e.value)}).then(a,s)}c((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=n(1426                               ),i=n(645          ),a=n(657                    ),s=n(658                   ),c=n(663                                                 ),l=n(143              ),u=n(219          ),d=console.error,g=100;let m=0;t.runPluginCodeInRuntime=function(e){return r(this,void 0,void 0,function*(){let t,{code:n,runInNoOpVm:r,name:p,version:f,command:_,pluginCounter:w,errorHandler:h}=e,v=null;return r?v=i.createNoOpJavascriptVm():(yield i.loadRealms(),v=i.createRealmsVm()),v.setErrorHandler(t=>{let n="";try{n=v.toString(t.handle)}catch(o){n="Error: An error was thrown, but couldn't be converted into a string"}let r="";try{r=v.getStringProp(t.handle,"stack")}catch(o){r="Unable to get stack"}!function(e){if(++m>g)return;const{message:t,raw_stack:n,version:r,pluginID:o}=e;let i=[n.slice(0,512),n.slice(512,1024),n.slice(1024,1536),n.slice(1536,2048),n.slice(2048,2560)],a={message:t,raw_stack:i[0],raw_stack2:i[1],raw_stack3:i[2],raw_stack4:i[3],raw_stack5:i[4],pluginID:o||"",version:r};u.segment.track("plugin_generated_error",a)}({message:n,raw_stack:r,pluginID:e.pluginID,version:f}),h(n)}),{runResult:new Promise((u,g)=>{let m=[()=>v.destroy(),()=>c.restoreConsole(),()=>o.fullscreen.triggerAction("commit")];const f=e=>{-1===m.indexOf(e)&&m.push(e)};t=(e=>{let t=void 0;"string"==typeof e&&(t=new Error(e));try{(()=>{let e;if(m.forEach(t=>{try{t()}catch(n){e||(e=n)}}),m=[],e)throw e})()}catch(n){throw t=t||n,n}finally{t?g(t):u()}}),c.silenceConsole(),a.addTimerAPIs(v,f);const h=a.addFigmaAPI(v,{name:p,command:_,closePlugin:t,addShutdownAction:f,uiHandleMode:{type:"NORMAL"}});if(l.isRunningInteractionTests()&&s.addTestAPI(v),!r){const e=i.createNoOpJavascriptVm();f(()=>e.destroy()),f(()=>{delete window.figma}),a.addFigmaAPI(e,{name:p,command:_,closePlugin:t,addShutdownAction:f,uiHandleMode:{type:"FORWARD_TO",uiHandle:h}})}f(e.onShutdown),n+="\n//# sourceURL=PLUGIN_"+w+"_SOURCE\n",setTimeout(()=>{const e=v.evalCode(n);if("FAILURE"===e.type){const n=v.toString(e.error.handle);l.isRunningInteractionTests()||d(n),t(n)}})}),closePlugin:t}})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='// Global variable with Figma\'s plugin API.\ndeclare const figma: PluginAPI\ndeclare const __html__: string\n\ninterface PluginAPI {\n  readonly currentPage: PageNode\n\n  // Root of the current Figma document.\n  readonly root: DocumentNode\n\n  // API for accessing viewport information.\n  readonly viewport: ViewportAPI\n\n  // call this once your plugin is finished executing.\n  closePlugin(): void\n\n  // Command that the user chose through menu when launching the plugin.\n  readonly command: string\n\n  // Finds a node by its id. If not found, returns null.\n  getNodeById(id: string): BaseNode | null\n\n  // Finds a style by its id. If not found, returns null.\n  getStyleById(id: string): BaseStyle | null\n\n  // Access browser APIs and/or show UI to the user.\n  showUI(html: string, options?: ShowUIOptions): void\n  readonly ui: UIAPI\n\n  // Creates new nodes. Nodes will start off inserted\n  // into the current page.\n  // To move them elsewhere use`appendChild` or`insertChild`\n  createRectangle(): RectangleNode\n  createLine(): LineNode\n  createEllipse(): EllipseNode\n  createPolygon(): PolygonNode\n  createStar(): StarNode\n  createVector(): VectorNode\n  createText(): TextNode\n  createBooleanOperation(): BooleanOperationNode\n  createFrame(): FrameNode\n  createComponent(): ComponentNode\n  createPage(): PageNode\n  createSlice(): SliceNode\n\n  // Creates styles. A style\'s id can be assigned to\n  // node properties like textStyleId, fillStyleId, etc.\n  createPaintStyle(): PaintStyle\n  createTextStyle(): TextStyle\n  createEffectStyle(): EffectStyle\n  createGridStyle(): GridStyle\n\n  // Creates node from an SVG string.\n  createNodeFromSvg(svg: string): FrameNode\n\n  // Creates an Image object using the provided file contents.\n  createImage(data: Uint8Array): Image\n\n  // Groups every node in `nodes` under a new group.\n  group(nodes: Array<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): FrameNode\n}\n\ntype ShowUIOptions = {\n  visible?: boolean, // defaults to true\n  width?: number,    // defaults to 300\n  height?: number,   // defaults to 200\n}\n\ninterface UIAPI {\n  show(): void\n  hide(): void\n  resize(width: number, height: number): void\n  close(): void\n\n  // Sends a message to the iframe.\n  postMessage(pluginMessage: any): void\n\n  // Registers a callback for messages sent by the iframe.\n  onmessage: ((pluginMessage: any) => void) | undefined\n}\n\ninterface ViewportAPI {\n  center: { x: number, y: number }\n\n  // 1.0 means 100% zoom, 0.5 means 50% zoom.\n  zoom: number\n\n  // Adjust the viewport such that it shows the provided nodes.\n  scrollAndZoomIntoView(nodes: BaseNode[])\n}\n\n// Local development\n// manifest.json format\ninterface ManifestJson {\n  // Name of the extension.\n  name: string\n\n  // Version of the runtime that the extension uses, e.g. \'0.3.0\'.\n  version: string\n\n  // The file name that contains the extension code.\n  script: string\n\n  // The file name that contains the html code made available in script.\n  html?: string\n\n  // Shell command to be executed before the contents of the `html` and `script` files are read.\n  build?: string\n\n  // Menu items to show up in UI.\n  menu?: ManifestMenuItem[]\n}\n\ntype ManifestMenuItem =\n  // Clickable menu item.\n  { label: string, command: string } |\n  // Separator\n  { separator: true } |\n  // Submenu\n  { label: string, menu: ManifestMenuItem[] }\n\n////////////////////////////////////////////////////////////////////////////////\n// Values\n\n// These are the top two rows of a 3x3 matrix. This is enough to represent\n// translation, rotation, and skew.\ntype Transform = [\n  [number, number, number],\n  [number, number, number]\n]\n\ninterface Vector {\n  readonly x: number\n  readonly y: number\n}\n\ninterface RGB {\n  readonly r: number\n  readonly g: number\n  readonly b: number\n}\n\ninterface RGBA {\n  readonly r: number\n  readonly g: number\n  readonly b: number\n  readonly a: number\n}\n\ninterface FontName {\n  readonly family: string\n  readonly style: string\n}\n\ninterface ArcData {\n  readonly startingAngle: number\n  readonly endingAngle: number\n  readonly innerRadius: number\n}\n\ninterface ShadowEffect {\n  readonly type: "DROP_SHADOW" | "INNER_SHADOW"\n  readonly color: RGBA\n  readonly offset: Vector\n  readonly radius: number\n  readonly visible: boolean\n  readonly blendMode: BlendMode\n}\n\ninterface BlurEffect {\n  readonly type: "LAYER_BLUR" | "BACKGROUND_BLUR"\n  readonly radius: number\n  readonly visible: boolean\n}\n\ntype Effect = ShadowEffect | BlurEffect\n\ntype ConstraintType = "MIN" | "CENTER" | "MAX" | "STRETCH" | "SCALE"\n\ninterface Constraints {\n  readonly horizontal: ConstraintType\n  readonly vertical: ConstraintType\n}\n\ninterface ColorStop {\n  readonly position: number\n  readonly color: RGBA\n}\n\ninterface SolidPaint {\n  readonly type: "SOLID"\n  readonly color: RGB\n\n  readonly visible?: boolean\n  readonly opacity?: number\n}\n\ninterface GradientPaint {\n  readonly type: "GRADIENT_LINEAR" | "GRADIENT_RADIAL" | "GRADIENT_ANGULAR" | "GRADIENT_DIAMOND"\n  readonly gradientTransform: Transform\n  readonly gradientStops: ReadonlyArray<ColorStop>\n\n  readonly visible?: boolean\n  readonly opacity?: number\n}\n\ninterface ImagePaint {\n  readonly type: "IMAGE"\n  readonly scaleMode: "FILL" | "FIT" | "CROP" | "TILE"\n  readonly image: Image | null\n  readonly imageTransform?: Transform // setting for "CROP"\n  readonly scalingFactor?: number // setting for "TILE"\n\n  readonly visible?: boolean\n  readonly opacity?: number\n}\n\ntype Paint = SolidPaint | GradientPaint | ImagePaint\n\ninterface Guide {\n  readonly axis: "X" | "Y"\n  readonly offset: number\n}\n\ninterface RowsColsLayoutGrid {\n  readonly pattern: "ROWS" | "COLUMNS"\n  readonly alignment: "MIN" | "STRETCH" | "CENTER"\n  readonly gutterSize: number\n\n  readonly count: number        // Infinity when "Auto" is set in the UI\n  readonly sectionSize?: number // Not set for alignment: "STRETCH"\n  readonly offset?: number      // Not set for alignment: "CENTER"\n\n  readonly visible?: boolean\n  readonly color?: RGBA\n}\n\ninterface GridLayoutGrid {\n  readonly pattern: "GRID"\n  readonly sectionSize: number\n\n  readonly visible?: boolean\n  readonly color?: RGBA\n}\n\ntype LayoutGrid = RowsColsLayoutGrid | GridLayoutGrid\n\ninterface ExportSettingsImage {\n  format: "JPG" | "PNG"\n  contentsOnly?: boolean    // defaults to true\n  suffix?: string\n  constraint?: {            // defaults to unscaled ({ type: "SCALE", value: 1 })\n    type: "SCALE" | "WIDTH" | "HEIGHT"\n    value: number\n  }\n}\n\ninterface ExportSettingsSVG {\n  format: "SVG"\n  contentsOnly?: boolean    // defaults to true\n  suffix?: string\n  svgOutlineText?: boolean  // defaults to true\n  svgIdAttribute?: boolean  // defaults to false\n  svgSimplifyStroke?: boolean // defaults to true\n}\n\ninterface ExportSettingsPDF {\n  format: "PDF"\n  contentsOnly?: boolean    // defaults to true\n  suffix?: string\n}\n\ntype ExportSettings = ExportSettingsImage | ExportSettingsSVG | ExportSettingsPDF\n\ntype WindingRule = "nonzero" | "evenodd"\n\ninterface VectorVertex {\n  readonly position: Vector\n}\n\ninterface VectorHandle {\n  readonly index: number\n  readonly tangent: Vector\n}\n\ninterface VectorSegment {\n  readonly start: VectorHandle\n  readonly end: VectorHandle\n}\n\ninterface VectorRegion {\n  readonly windingRule: WindingRule\n  readonly loops: ReadonlyArray<ReadonlyArray<number>>\n}\n\ninterface VectorNetwork {\n  readonly vertices: ReadonlyArray<VectorVertex>\n  readonly segments: ReadonlyArray<VectorSegment>\n  readonly regions: ReadonlyArray<VectorRegion>\n}\n\ninterface VectorPath {\n  // Similar to the svg fill-rule\n  // A null value means that an open path won\'t have a fill\n  readonly windingRule: WindingRule | null\n  readonly data: string\n}\n\ntype VectorPaths = ReadonlyArray<VectorPath>\n\ninterface NumberWithUnits {\n  readonly value: number\n  readonly units: "PIXELS" | "PERCENT"\n}\n\ntype BlendMode =\n  "PASS_THROUGH" |\n  "NORMAL" |\n  "DARKEN" |\n  "MULTIPLY" |\n  "LINEAR_BURN" |\n  "COLOR_BURN" |\n  "LIGHTEN" |\n  "SCREEN" |\n  "LINEAR_DODGE" |\n  "COLOR_DODGE" |\n  "OVERLAY" |\n  "SOFT_LIGHT" |\n  "HARD_LIGHT" |\n  "DIFFERENCE" |\n  "EXCLUSION" |\n  "HUE" |\n  "SATURATION" |\n  "COLOR" |\n  "LUMINOSITY"\n\n////////////////////////////////////////////////////////////////////////////////\n// Mixins\n\ninterface BaseNodeMixin {\n  readonly id: string\n  readonly parent: (BaseNode & ChildrenMixin) | null\n  name: string\n  visible: boolean\n  locked: boolean\n  removed: boolean\n  toString(): string\n  remove(): void\n}\n\ninterface ChildrenMixin {\n  // Sorted back-to-front. I.e. the top-most child is last in this array.\n  readonly children: ReadonlyArray<BaseNode>\n\n  // Adds to the end of the .children array. I.e. visually on top of all other\n  // children.\n  appendChild(child: BaseNode): void\n\n  insertChild(index: number, child: BaseNode): void\n  findAll(callback?: (node: BaseNode) => boolean): ReadonlyArray<BaseNode>\n  findOne(callback: (node: BaseNode) => boolean): BaseNode | null\n}\n\ninterface LayoutMixin {\n  readonly absoluteTransform: Transform\n  relativeTransform: Transform\n  x: number // The same as "relativeTransform[0][2]"\n  y: number // The same as "relativeTransform[1][2]"\n\n  readonly size: Vector\n  readonly width: number // The same as "size.x"\n  readonly height: number // The same as "size.y"\n\n  // Resizes the node. If children of the node has constraints, it applies those constraints\n  // width and height must be >= 0.01\n  resize(width: number, height: number): void\n\n  // Resizes the node. Children of the node are never resized, even if those children have\n  // constraints. width and height must be >= 0.01\n  resizeWithoutConstraints(width: number, height: number): void\n\n  constraints: Constraints\n}\n\ninterface BlendMixin {\n  opacity: number\n  blendMode: BlendMode\n  isMask: boolean\n  effects: ReadonlyArray<Effect>\n  effectStyleId: string\n}\n\ninterface FrameMixin {\n  backgrounds: ReadonlyArray<Paint>\n  layoutGrids: ReadonlyArray<LayoutGrid>\n  clipsContent: boolean\n  guides: ReadonlyArray<Guide>\n  gridStyleId: string\n  backgroundStyleId: string\n}\n\ninterface GeometryMixin {\n  fills: ReadonlyArray<Paint>\n  strokes: ReadonlyArray<Paint>\n  strokeWeight: number\n  strokeAlign: "CENTER" | "INSIDE" | "OUTSIDE"\n  strokeCap: "NONE" | "ROUND" | "SQUARE" | "ARROW_LINES" | "ARROW_EQUILATERAL"\n  strokeJoin: "MITER" | "BEVEL" | "ROUND"\n  dashPattern: ReadonlyArray<number>\n  fillStyleId: string\n  strokeStyleId: string\n}\n\ninterface CornerMixin {\n  cornerRadius: number\n  cornerSmoothing: number\n}\n\ninterface ExportMixin {\n  exportSettings: ExportSettings[]\n  exportAsync(settings?: ExportSettings): Promise<Uint8Array> // Defaults to PNG format\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Nodes\n\ninterface DocumentNode extends BaseNodeMixin, ChildrenMixin {\n  readonly type: "DOCUMENT"\n  clone(): DocumentNode // Note: this always throws an error\n}\n\ninterface PageNode extends BaseNodeMixin, ChildrenMixin, ExportMixin {\n  readonly type: "PAGE"\n  clone(): PageNode // cloned node starts off inserted into current page\n\n  guides: ReadonlyArray<Guide>\n  selection: ReadonlyArray<BaseNode>\n}\n\ninterface FrameNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, FrameMixin, LayoutMixin, ExportMixin {\n  readonly type: "FRAME"\n  clone(): FrameNode // cloned node starts off inserted into current page\n}\n\ninterface SliceNode extends BaseNodeMixin, LayoutMixin, ExportMixin {\n  readonly type: "SLICE"\n  clone(): SliceNode // cloned node starts off inserted into current page\n}\n\ninterface RectangleNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "RECTANGLE"\n  clone(): RectangleNode // cloned node starts off inserted into current page\n  topLeftRadius: number\n  topRightRadius: number\n  bottomLeftRadius: number\n  bottomRightRadius: number\n}\n\ninterface LineNode extends BaseNodeMixin, BlendMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "LINE"\n  clone(): LineNode // cloned node starts off inserted into current page\n}\n\ninterface EllipseNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "ELLIPSE"\n  clone(): EllipseNode // cloned node starts off inserted into current page\n  arcData: ArcData\n}\n\ninterface PolygonNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "POLYGON"\n  clone(): PolygonNode // cloned node starts off inserted into current page\n  pointCount: number\n}\n\ninterface StarNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "STAR"\n  clone(): StarNode // cloned node starts off inserted into current page\n  pointCount: number\n  starInnerRadius: number\n}\n\ninterface VectorNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "VECTOR"\n  clone(): VectorNode // cloned node starts off inserted into current page\n  vectorNetwork: VectorNetwork\n  vectorPaths: VectorPaths\n}\n\ninterface TextNode extends BaseNodeMixin, BlendMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "TEXT"\n  clone(): TextNode // cloned node starts off inserted into current page\n  characters: string\n  fontSize: number\n  fontName: FontName\n  textAlignHorizontal: "LEFT" | "CENTER" | "RIGHT" | "JUSTIFIED"\n  textAlignVertical: "TOP" | "CENTER" | "BOTTOM"\n  textDecoration: "NONE" | "UNDERLINE" | "STRIKETHROUGH"\n  textAutoResize: "NONE" | "WIDTH_AND_HEIGHT" | "HEIGHT"\n  letterSpacing: NumberWithUnits\n  lineHeight: NumberWithUnits\n  paragraphIndent: number\n  paragraphSpacing: number\n  textCase: "ORIGINAL" | "UPPER" | "LOWER" | "TITLE"\n  autoRename: boolean\n  textStyleId: string\n}\n\ninterface ComponentNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, FrameMixin, LayoutMixin, ExportMixin {\n  readonly type: "COMPONENT"\n  clone(): ComponentNode // cloned node starts off inserted into current page\n\n  createInstance(): InstanceNode // instance starts off inserted into current page\n  description: string\n  readonly remote: boolean\n}\n\ninterface InstanceNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, FrameMixin, LayoutMixin, ExportMixin {\n  readonly type: "INSTANCE"\n  clone(): InstanceNode // cloned node starts off inserted into current page\n  readonly masterComponent: ComponentNode\n}\n\ninterface BooleanOperationNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "BOOLEAN_OPERATION"\n  clone(): BooleanOperationNode // cloned node starts off inserted into current page\n  booleanOperation: "UNION" | "INTERSECT" | "SUBTRACT" | "EXCLUDE"\n}\n\ntype BaseNode =\n  DocumentNode |\n  PageNode |\n  SliceNode |\n  FrameNode |\n  ComponentNode |\n  InstanceNode |\n  BooleanOperationNode |\n  VectorNode |\n  StarNode |\n  LineNode |\n  EllipseNode |\n  PolygonNode |\n  RectangleNode |\n  TextNode\n\ntype NodeType =\n  "DOCUMENT" |\n  "PAGE" |\n  "SLICE" |\n  "FRAME" |\n  "COMPONENT" |\n  "INSTANCE" |\n  "BOOLEAN_OPERATION" |\n  "VECTOR" |\n  "STAR" |\n  "LINE" |\n  "ELLIPSE" |\n  "POLYGON" |\n  "RECTANGLE" |\n  "TEXT"\n\n////////////////////////////////////////////////////////////////////////////////\n// Styles\ntype StyleType = "PAINT" | "TEXT" | "EFFECT" | "GRID"\n\ninterface BaseStyle {\n  // The string to uniquely identify a style by\n  readonly id: string\n  readonly type: StyleType\n  name: string // Note: setting this also sets "autoRename" to false on TextNodes\n  description: string\n  remote: boolean\n  remove(): void\n}\n\ninterface PaintStyle extends BaseStyle {\n  type: "PAINT"\n  paints: ReadonlyArray<Paint>\n}\n\ninterface TextStyle extends BaseStyle {\n  type: "TEXT"\n  fontSize: number\n  textDecoration: "NONE" | "UNDERLINE" | "STRIKETHROUGH"\n  fontName: FontName\n  letterSpacing: NumberWithUnits\n  lineHeight: NumberWithUnits\n  paragraphIndent: number\n  paragraphSpacing: number\n  textCase: "ORIGINAL" | "UPPER" | "LOWER" | "TITLE"\n}\n\ninterface EffectStyle extends BaseStyle {\n  type: "EFFECT"\n  effects: ReadonlyArray<Paint>\n}\n\ninterface GridStyle extends BaseStyle {\n  type: "GRID"\n  layoutGrids: ReadonlyArray<LayoutGrid>\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Other\n\ninterface Image {\n  // Returns a unique hash for the image\n  readonly hash: string\n\n  // The contents of the image file\n  getBytesAsync(): Promise<Uint8Array>\n}\n',n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default='// Global variable with Figma\'s plugin API.\ndeclare const figma: PluginAPI\ndeclare const __html__: string\n\ninterface PluginAPI {\n  readonly currentPage: PageNode\n\n  // Root of the current Figma document.\n  readonly root: DocumentNode\n\n  // API for accessing viewport information.\n  readonly viewport: ViewportAPI\n\n  // call this once your plugin is finished executing.\n  closePlugin(): void\n\n  // Command that the user chose through menu when launching the plugin.\n  readonly command: string\n\n  // Finds a node by its id. If not found, returns null.\n  getNodeById(id: string): BaseNode | null\n\n  // Finds a style by its id. If not found, returns null.\n  getStyleById(id: string): BaseStyle | null\n\n  // Access browser APIs and/or show UI to the user.\n  showUI(html: string, options?: ShowUIOptions): void\n  readonly ui: UIAPI\n\n  // Creates new nodes. Nodes will start off inserted\n  // into the current page.\n  // To move them elsewhere use`appendChild` or`insertChild`\n  createRectangle(): RectangleNode\n  createLine(): LineNode\n  createEllipse(): EllipseNode\n  createPolygon(): PolygonNode\n  createStar(): StarNode\n  createVector(): VectorNode\n  createText(): TextNode\n  createBooleanOperation(): BooleanOperationNode\n  createFrame(): FrameNode\n  createComponent(): ComponentNode\n  createPage(): PageNode\n  createSlice(): SliceNode\n\n  // Creates styles. A style\'s id can be assigned to\n  // node properties like textStyleId, fillStyleId, etc.\n  createPaintStyle(): PaintStyle\n  createTextStyle(): TextStyle\n  createEffectStyle(): EffectStyle\n  createGridStyle(): GridStyle\n\n  // Creates node from an SVG string.\n  createNodeFromSvg(svg: string): FrameNode\n\n  // Creates an Image object using the provided file contents.\n  createImage(data: Uint8Array): Image\n\n  // Groups every node in `nodes` under a new group.\n  group(nodes: Array<BaseNode>, parent: BaseNode & ChildrenMixin, index?: number): FrameNode\n}\n\ntype ShowUIOptions = {\n  visible?: boolean, // defaults to true\n  width?: number,    // defaults to 300\n  height?: number,   // defaults to 200\n}\n\ninterface UIAPI {\n  show(): void\n  hide(): void\n  resize(width: number, height: number): void\n  close(): void\n\n  // Sends a message to the iframe.\n  postMessage(pluginMessage: any): void\n\n  // Registers a callback for messages sent by the iframe.\n  onmessage: ((pluginMessage: any) => void) | undefined\n}\n\ninterface ViewportAPI {\n  center: { x: number, y: number }\n\n  // 1.0 means 100% zoom, 0.5 means 50% zoom.\n  zoom: number\n\n  // Adjust the viewport such that it shows the provided nodes.\n  scrollAndZoomIntoView(nodes: BaseNode[])\n}\n\n// Local development\n// manifest.json format\ninterface ManifestJson {\n  // Name of the extension.\n  name: string\n\n  // Version of the runtime that the extension uses, e.g. \'0.3.0\'.\n  version: string\n\n  // The file name that contains the extension code.\n  script: string\n\n  // The file name that contains the html code made available in script.\n  html?: string\n\n  // Shell command to be executed before the contents of the `html` and `script` files are read.\n  build?: string\n\n  // Menu items to show up in UI.\n  menu?: ManifestMenuItem[]\n}\n\ntype ManifestMenuItem =\n  // Clickable menu item.\n  { label: string, command: string } |\n  // Separator\n  { separator: true } |\n  // Submenu\n  { label: string, menu: ManifestMenuItem[] }\n\n////////////////////////////////////////////////////////////////////////////////\n// Values\n\n// These are the top two rows of a 3x3 matrix. This is enough to represent\n// translation, rotation, and skew.\ntype Transform = [\n  [number, number, number],\n  [number, number, number]\n]\n\ninterface Vector {\n  readonly x: number\n  readonly y: number\n}\n\ninterface RGB {\n  readonly r: number\n  readonly g: number\n  readonly b: number\n}\n\ninterface RGBA {\n  readonly r: number\n  readonly g: number\n  readonly b: number\n  readonly a: number\n}\n\ninterface FontName {\n  readonly family: string\n  readonly style: string\n}\n\ninterface ArcData {\n  readonly startingAngle: number\n  readonly endingAngle: number\n  readonly innerRadius: number\n}\n\ninterface ShadowEffect {\n  readonly type: "DROP_SHADOW" | "INNER_SHADOW"\n  readonly color: RGBA\n  readonly offset: Vector\n  readonly radius: number\n  readonly visible: boolean\n  readonly blendMode: BlendMode\n}\n\ninterface BlurEffect {\n  readonly type: "LAYER_BLUR" | "BACKGROUND_BLUR"\n  readonly radius: number\n  readonly visible: boolean\n}\n\ntype Effect = ShadowEffect | BlurEffect\n\ntype ConstraintType = "MIN" | "CENTER" | "MAX" | "STRETCH" | "SCALE"\n\ninterface Constraints {\n  readonly horizontal: ConstraintType\n  readonly vertical: ConstraintType\n}\n\ninterface ColorStop {\n  readonly position: number\n  readonly color: RGBA\n}\n\ninterface SolidPaint {\n  readonly type: "SOLID"\n  readonly color: RGB\n\n  readonly visible?: boolean\n  readonly opacity?: number\n}\n\ninterface GradientPaint {\n  readonly type: "GRADIENT_LINEAR" | "GRADIENT_RADIAL" | "GRADIENT_ANGULAR" | "GRADIENT_DIAMOND"\n  readonly gradientTransform: Transform\n  readonly gradientStops: ReadonlyArray<ColorStop>\n\n  readonly visible?: boolean\n  readonly opacity?: number\n}\n\ninterface ImagePaint {\n  readonly type: "IMAGE"\n  readonly scaleMode: "FILL" | "FIT" | "CROP" | "TILE"\n  readonly image: Image | null\n  readonly imageTransform?: Transform // setting for "CROP"\n  readonly scalingFactor?: number // setting for "TILE"\n\n  readonly visible?: boolean\n  readonly opacity?: number\n}\n\ntype Paint = SolidPaint | GradientPaint | ImagePaint\n\ninterface Guide {\n  readonly axis: "X" | "Y"\n  readonly offset: number\n}\n\ninterface RowsColsLayoutGrid {\n  readonly pattern: "ROWS" | "COLUMNS"\n  readonly alignment: "MIN" | "STRETCH" | "CENTER"\n  readonly gutterSize: number\n\n  readonly count: number        // Infinity when "Auto" is set in the UI\n  readonly sectionSize?: number // Not set for alignment: "STRETCH"\n  readonly offset?: number      // Not set for alignment: "CENTER"\n\n  readonly visible?: boolean\n  readonly color?: RGBA\n}\n\ninterface GridLayoutGrid {\n  readonly pattern: "GRID"\n  readonly sectionSize: number\n\n  readonly visible?: boolean\n  readonly color?: RGBA\n}\n\ntype LayoutGrid = RowsColsLayoutGrid | GridLayoutGrid\n\ninterface ExportSettingsImage {\n  format: "JPG" | "PNG"\n  contentsOnly?: boolean    // defaults to true\n  suffix?: string\n  constraint?: {            // defaults to unscaled ({ type: "SCALE", value: 1 })\n    type: "SCALE" | "WIDTH" | "HEIGHT"\n    value: number\n  }\n}\n\ninterface ExportSettingsSVG {\n  format: "SVG"\n  contentsOnly?: boolean    // defaults to true\n  suffix?: string\n  svgOutlineText?: boolean  // defaults to true\n  svgIdAttribute?: boolean  // defaults to false\n  svgSimplifyStroke?: boolean // defaults to true\n}\n\ninterface ExportSettingsPDF {\n  format: "PDF"\n  contentsOnly?: boolean    // defaults to true\n  suffix?: string\n}\n\ntype ExportSettings = ExportSettingsImage | ExportSettingsSVG | ExportSettingsPDF\n\ntype WindingRule = "nonzero" | "evenodd"\n\ninterface VectorVertex {\n  readonly position: Vector\n}\n\ninterface VectorHandle {\n  readonly index: number\n  readonly tangent: Vector\n}\n\ninterface VectorSegment {\n  readonly start: VectorHandle\n  readonly end: VectorHandle\n}\n\ninterface VectorRegion {\n  readonly windingRule: WindingRule\n  readonly loops: ReadonlyArray<ReadonlyArray<number>>\n}\n\ninterface VectorNetwork {\n  readonly vertices: ReadonlyArray<VectorVertex>\n  readonly segments: ReadonlyArray<VectorSegment>\n  readonly regions: ReadonlyArray<VectorRegion>\n}\n\ninterface VectorPath {\n  // Similar to the svg fill-rule\n  // A null value means that an open path won\'t have a fill\n  readonly windingRule: WindingRule | null\n  readonly data: string\n}\n\ntype VectorPaths = ReadonlyArray<VectorPath>\n\ninterface NumberWithUnits {\n  readonly value: number\n  readonly units: "PIXELS" | "PERCENT"\n}\n\ntype BlendMode =\n  "PASS_THROUGH" |\n  "NORMAL" |\n  "DARKEN" |\n  "MULTIPLY" |\n  "LINEAR_BURN" |\n  "COLOR_BURN" |\n  "LIGHTEN" |\n  "SCREEN" |\n  "LINEAR_DODGE" |\n  "COLOR_DODGE" |\n  "OVERLAY" |\n  "SOFT_LIGHT" |\n  "HARD_LIGHT" |\n  "DIFFERENCE" |\n  "EXCLUSION" |\n  "HUE" |\n  "SATURATION" |\n  "COLOR" |\n  "LUMINOSITY"\n\n////////////////////////////////////////////////////////////////////////////////\n// Mixins\n\ninterface BaseNodeMixin {\n  readonly id: string\n  readonly parent: (BaseNode & ChildrenMixin) | null\n  name: string\n  visible: boolean\n  locked: boolean\n  removed: boolean\n  toString(): string\n  remove(): void\n}\n\ninterface ChildrenMixin {\n  // Sorted back-to-front. I.e. the top-most child is last in this array.\n  readonly children: ReadonlyArray<BaseNode>\n\n  // Adds to the end of the .children array. I.e. visually on top of all other\n  // children.\n  appendChild(child: BaseNode): void\n\n  insertChild(index: number, child: BaseNode): void\n  findAll(callback?: (node: BaseNode) => boolean): ReadonlyArray<BaseNode>\n  findOne(callback: (node: BaseNode) => boolean): BaseNode | null\n}\n\ninterface LayoutMixin {\n  readonly absoluteTransform: Transform\n  relativeTransform: Transform\n  x: number // The same as "relativeTransform[0][2]"\n  y: number // The same as "relativeTransform[1][2]"\n\n  readonly size: Vector\n  readonly width: number // The same as "size.x"\n  readonly height: number // The same as "size.y"\n\n  // Resizes the node. If children of the node has constraints, it applies those constraints\n  // width and height must be >= 0.01\n  resize(width: number, height: number): void\n\n  // Resizes the node. Children of the node are never resized, even if those children have\n  // constraints. width and height must be >= 0.01\n  resizeWithoutConstraints(width: number, height: number): void\n\n  constraints: Constraints\n}\n\ninterface BlendMixin {\n  opacity: number\n  blendMode: BlendMode\n  isMask: boolean\n  effects: ReadonlyArray<Effect>\n  effectStyleId: string\n}\n\ninterface FrameMixin {\n  backgrounds: ReadonlyArray<Paint>\n  layoutGrids: ReadonlyArray<LayoutGrid>\n  clipsContent: boolean\n  guides: ReadonlyArray<Guide>\n  gridStyleId: string\n  backgroundStyleId: string\n}\n\ninterface GeometryMixin {\n  fills: ReadonlyArray<Paint>\n  strokes: ReadonlyArray<Paint>\n  strokeWeight: number\n  strokeAlign: "CENTER" | "INSIDE" | "OUTSIDE"\n  strokeCap: "NONE" | "ROUND" | "SQUARE" | "ARROW_LINES" | "ARROW_EQUILATERAL"\n  strokeJoin: "MITER" | "BEVEL" | "ROUND"\n  dashPattern: ReadonlyArray<number>\n  fillStyleId: string\n  strokeStyleId: string\n}\n\ninterface CornerMixin {\n  cornerRadius: number\n  cornerSmoothing: number\n}\n\ninterface ExportMixin {\n  exportSettings: ExportSettings[]\n  exportAsync(settings?: ExportSettings): Promise<Uint8Array> // Defaults to PNG format\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Nodes\n\ninterface DocumentNode extends BaseNodeMixin, ChildrenMixin {\n  readonly type: "DOCUMENT"\n  clone(): DocumentNode // Note: this always throws an error\n}\n\ninterface PageNode extends BaseNodeMixin, ChildrenMixin, ExportMixin {\n  readonly type: "PAGE"\n  clone(): PageNode // cloned node starts off inserted into current page\n\n  guides: ReadonlyArray<Guide>\n  selection: ReadonlyArray<BaseNode>\n}\n\ninterface FrameNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, FrameMixin, LayoutMixin, ExportMixin {\n  readonly type: "FRAME"\n  clone(): FrameNode // cloned node starts off inserted into current page\n}\n\ninterface SliceNode extends BaseNodeMixin, LayoutMixin, ExportMixin {\n  readonly type: "SLICE"\n  clone(): SliceNode // cloned node starts off inserted into current page\n}\n\ninterface RectangleNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "RECTANGLE"\n  clone(): RectangleNode // cloned node starts off inserted into current page\n  topLeftRadius: number\n  topRightRadius: number\n  bottomLeftRadius: number\n  bottomRightRadius: number\n}\n\ninterface LineNode extends BaseNodeMixin, BlendMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "LINE"\n  clone(): LineNode // cloned node starts off inserted into current page\n}\n\ninterface EllipseNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "ELLIPSE"\n  clone(): EllipseNode // cloned node starts off inserted into current page\n  arcData: ArcData\n}\n\ninterface PolygonNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "POLYGON"\n  clone(): PolygonNode // cloned node starts off inserted into current page\n  pointCount: number\n}\n\ninterface StarNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "STAR"\n  clone(): StarNode // cloned node starts off inserted into current page\n  pointCount: number\n  starInnerRadius: number\n}\n\ninterface VectorNode extends BaseNodeMixin, BlendMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "VECTOR"\n  clone(): VectorNode // cloned node starts off inserted into current page\n  vectorNetwork: VectorNetwork\n  vectorPaths: VectorPaths\n}\n\ninterface TextNode extends BaseNodeMixin, BlendMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "TEXT"\n  clone(): TextNode // cloned node starts off inserted into current page\n  characters: string\n  fontSize: number\n  fontName: FontName\n  textAlignHorizontal: "LEFT" | "CENTER" | "RIGHT" | "JUSTIFIED"\n  textAlignVertical: "TOP" | "CENTER" | "BOTTOM"\n  textDecoration: "NONE" | "UNDERLINE" | "STRIKETHROUGH"\n  textAutoResize: "NONE" | "WIDTH_AND_HEIGHT" | "HEIGHT"\n  letterSpacing: NumberWithUnits\n  lineHeight: NumberWithUnits\n  paragraphIndent: number\n  paragraphSpacing: number\n  textCase: "ORIGINAL" | "UPPER" | "LOWER" | "TITLE"\n  autoRename: boolean\n  textStyleId: string\n}\n\ninterface ComponentNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, FrameMixin, LayoutMixin, ExportMixin {\n  readonly type: "COMPONENT"\n  clone(): ComponentNode // cloned node starts off inserted into current page\n\n  createInstance(): InstanceNode // instance starts off inserted into current page\n  description: string\n  readonly remote: boolean\n}\n\ninterface InstanceNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, FrameMixin, LayoutMixin, ExportMixin {\n  readonly type: "INSTANCE"\n  clone(): InstanceNode // cloned node starts off inserted into current page\n  readonly masterComponent: ComponentNode\n}\n\ninterface BooleanOperationNode extends BaseNodeMixin, BlendMixin, ChildrenMixin, CornerMixin, GeometryMixin, LayoutMixin, ExportMixin {\n  readonly type: "BOOLEAN_OPERATION"\n  clone(): BooleanOperationNode // cloned node starts off inserted into current page\n  booleanOperation: "UNION" | "INTERSECT" | "SUBTRACT" | "EXCLUDE"\n}\n\ntype BaseNode =\n  DocumentNode |\n  PageNode |\n  SliceNode |\n  FrameNode |\n  ComponentNode |\n  InstanceNode |\n  BooleanOperationNode |\n  VectorNode |\n  StarNode |\n  LineNode |\n  EllipseNode |\n  PolygonNode |\n  RectangleNode |\n  TextNode\n\ntype NodeType =\n  "DOCUMENT" |\n  "PAGE" |\n  "SLICE" |\n  "FRAME" |\n  "COMPONENT" |\n  "INSTANCE" |\n  "BOOLEAN_OPERATION" |\n  "VECTOR" |\n  "STAR" |\n  "LINE" |\n  "ELLIPSE" |\n  "POLYGON" |\n  "RECTANGLE" |\n  "TEXT"\n\n////////////////////////////////////////////////////////////////////////////////\n// Styles\ntype StyleType = "PAINT" | "TEXT" | "EFFECT" | "GRID"\n\ninterface BaseStyle {\n  // The string to uniquely identify a style by\n  readonly id: string\n  readonly type: StyleType\n  name: string // Note: setting this also sets "autoRename" to false on TextNodes\n  description: string\n  remote: boolean\n  remove(): void\n}\n\ninterface PaintStyle extends BaseStyle {\n  type: "PAINT"\n  paints: ReadonlyArray<Paint>\n}\n\ninterface TextStyle extends BaseStyle {\n  type: "TEXT"\n  fontSize: number\n  textDecoration: "NONE" | "UNDERLINE" | "STRIKETHROUGH"\n  fontName: FontName\n  letterSpacing: NumberWithUnits\n  lineHeight: NumberWithUnits\n  paragraphIndent: number\n  paragraphSpacing: number\n  textCase: "ORIGINAL" | "UPPER" | "LOWER" | "TITLE"\n}\n\ninterface EffectStyle extends BaseStyle {\n  type: "EFFECT"\n  effects: ReadonlyArray<Paint>\n}\n\ninterface GridStyle extends BaseStyle {\n  type: "GRID"\n  layoutGrids: ReadonlyArray<LayoutGrid>\n}\n\n////////////////////////////////////////////////////////////////////////////////\n// Other\n\ninterface Image {\n  // Returns a unique hash for the image\n  readonly hash: string\n\n  // The contents of the image file\n  getBytesAsync(): Promise<Uint8Array>\n}\n',n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=t(0                    ),i="0.4.0";n.PLUGIN_VERSION_UNSTABLE="0.5.0";const s=t(660                           ),a=t(661                               );function l(){return o.initialOptions().feature_flags.plugin_enable_unstable_api}n.getAllowUnstable=l,n.getAllowSharing=function(){return o.initialOptions().feature_flags.plugin_enable_sharing},n.getVersionForNewPlugin=function(){return l()?n.PLUGIN_VERSION_UNSTABLE:i},n.getJsForNewPlugin=function(){return l()?n.JS_FOR_NEW_PLUGIN_UNSTABLE:n.JS_FOR_NEW_PLUGIN_LATEST_STABLE},n.getHtmlForNewPlugin=function(){return l()?n.HTML_FOR_NEW_PLUGIN_UNSTABLE:n.HTML_FOR_NEW_PLUGIN_LATEST_STABLE},n.getIndexDTSForNewPlugin=function(){return l()?s.default:a.default},n.JS_FOR_NEW_PLUGIN_LATEST_STABLE='// This shows the HTML page in "ui.html". UI is completely optional. Feel free\n// to delete this if you don\'t want your plugin to have any UI. In that case\n// you can just call methods directly on the "figma" object in your plugin.\nfigma.showUI(__html__);\n\n// Calls to "parent.postMessage" from within the HTML page will trigger this\n// callback. The callback will be passed the "pluginMessage" property of the\n// posted message.\nfigma.ui.onmessage = msg => {\n  // One way of distinguishing between different types of messages sent from\n  // your HTML page is to use an object with a "type" property like this.\n  if (msg.type === \'create-rectangles\') {\n    const nodes = [];\n    for (let i = 0; i < msg.count; i++) {\n      const rect = figma.createRectangle();\n      rect.x = i * 150;\n      rect.fills = [{type: \'SOLID\', color: {r: 1, g: 0.5, b: 0}}];\n      figma.currentPage.appendChild(rect);\n      nodes.push(rect);\n    }\n    figma.currentPage.selection = nodes;\n    figma.viewport.scrollAndZoomIntoView(nodes);\n  }\n\n  // Make sure to close the plugin when you\'re done. Otherwise the plugin will\n  // keep running, which shows the cancel button at the bottom of the screen.\n  figma.closePlugin();\n};\n',n.HTML_FOR_NEW_PLUGIN_LATEST_STABLE="<h2>Rectangle Creator</h2>\n<p>Count: <input id=\"count\" value=\"5\"></p>\n<button id=\"create\">Create</button>\n<button id=\"cancel\">Cancel</button>\n<script>\n\ndocument.getElementById('create').onclick = () => {\n  const textbox = document.getElementById('count');\n  const count = parseInt(textbox.value, 10);\n  parent.postMessage({ pluginMessage: { type: 'create-rectangles', count } }, '*')\n}\n\ndocument.getElementById('cancel').onclick = () => {\n  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')\n}\n\n<\/script>\n",n.JS_FOR_NEW_PLUGIN_UNSTABLE='// This shows the HTML page in "ui.html". UI is completely optional. Feel free\n// to delete this if you don\'t want your plugin to have any UI. In that case\n// you can just call methods directly on the "figma" object in your plugin.\nfigma.showUI(__html__);\n\n// Calls to "parent.postMessage" from within the HTML page will trigger this\n// callback. The callback will be passed the "pluginMessage" property of the\n// posted message.\nfigma.ui.onmessage = msg => {\n  // One way of distinguishing between different types of messages sent from\n  // your HTML page is to use an object with a "type" property like this.\n  if (msg.type === \'create-rectangles\') {\n    const nodes = [];\n    for (let i = 0; i < msg.count; i++) {\n      const rect = figma.createRectangle();\n      rect.x = i * 150;\n      rect.fills = [{type: \'SOLID\', color: {r: 1, g: 0.5, b: 0}}];\n      figma.currentPage.appendChild(rect);\n      nodes.push(rect);\n    }\n    figma.currentPage.selection = nodes;\n    figma.viewport.scrollAndZoomIntoView(nodes);\n  }\n\n  // Make sure to close the plugin when you\'re done. Otherwise the plugin will\n  // keep running, which shows the cancel button at the bottom of the screen.\n  figma.closePlugin();\n};\n',n.HTML_FOR_NEW_PLUGIN_UNSTABLE="<h2>Rectangle Creator</h2>\n<p>Count: <input id=\"count\" value=\"5\"></p>\n<button id=\"create\">Create</button>\n<button id=\"cancel\">Cancel</button>\n<script>\n\ndocument.getElementById('create').onclick = () => {\n  const textbox = document.getElementById('count');\n  const count = parseInt(textbox.value, 10);\n  parent.postMessage({ pluginMessage: { type: 'create-rectangles', count } }, '*')\n}\n\ndocument.getElementById('cancel').onclick = () => {\n  parent.postMessage({ pluginMessage: { type: 'cancel' } }, '*')\n}\n\n<\/script>\n",n.TYPESCRIPT_README='To get the TypeScript compiler working:\n\n1. Download Visual Studio Code if you haven\'t already: https://code.visualstudio.com/.\n2. Install the TypeScript compiler globally: `sudo npm install -g typescript`.\n3. Open this directory in Visual Studio Code.\n4. Compile TypeScript to JavaScript: Run the "Terminal > Run Build Task..." menu item,\n    then select "tsc: watch - tsconfig.json". You will have to do this again every time\n    you reopen Visual Studio Code.\n\nThat\'s it! Visual Studio Code will regenerate the JavaScript file every time you save.\n',e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";var o=this&&this.__awaiter||function(e,n,t,o){return new(t||(t=Promise))(function(i,r){function s(e){try{a(o.next(e))}catch(n){r(n)}}function l(e){try{a(o.throw(e))}catch(n){r(n)}}function a(e){e.done?i(e.value):new t(function(n){n(e.value)}).then(s,l)}a((o=o.apply(e,n||[])).next())})};Object.defineProperty(n,"__esModule",{value:!0});const i=t(174          ),r=t(608               ),s=t(176              ),l=t(219          ),a=t(143              ),u=t(626                            ),c=t(642                                      ),p=t(659                                      ),d=t(616                               ),g=t(611                    ),m=t(662               ),f=t(624                              ),v=t(1426                               ),h=t(129                               );n.pluginMenuSort=((e,n)=>e.name<n.name?-1:1),n.runPluginFromMenu=function(e,n,t,i){(function(e,n,t,i){return o(this,void 0,void 0,function*(){switch(e){case"DESKTOP":return D(n,t,i);case"IMPORTED":return w(n,t,i);default:throw new Error(`Unrecognized menu item type ${e}`)}})})(e,n,t,i).catch(e=>{const n=e&&e.message||"An error occured while running this extension";v.fullscreen.showVisualBell("plugins-run-from-menu",n,void 0,!1)})};const y="pluginTemporarySaveStoreImported";let P=!1;function w(e,n,t,r){return o(this,void 0,void 0,function*(){if(!e||!i.localStorageOrNull)return;const o=(JSON.parse(i.localStorageOrNull.getItem(y))||{})[e];if(o){const e={pluginID:o.pluginKey,version:o.version,trigger:t,source:"imported"};l.segment.track("Run User Action",e),yield V({code:o.code,name:o.name,version:o.version,pluginID:o.pluginKey,command:n,errorHandler:r})}})}function I(){return s.desktopApp&&s.desktopApp.supportsLocalFileExtensions()}n.getPluginListImported=function(){const e=[];if(i.localStorageOrNull){const n=JSON.parse(i.localStorageOrNull.getItem(y))||{};for(let t in n){const o=n[t];o&&e.push({type:"IMPORTED",key:t,name:o.name||"Untitled Extension",menu:o.menu||[]})}}return P||(P=!0,l.segment.track("Plugin List",{source:"imported",numPlugins:e.length})),e.sort(n.pluginMenuSort)},n.runPluginImported=w,n.savePluginImported=function(e,n){if(!e||!i.localStorageOrNull)return;const t=JSON.parse(i.localStorageOrNull.getItem(y))||{};t[e]=n,i.localStorageOrNull.setItem(y,JSON.stringify(t))},n.removePluginImported=function(e){return o(this,void 0,void 0,function*(){if(!e||!i.localStorageOrNull)throw new Error("Share Key is empty");const n=JSON.parse(i.localStorageOrNull.getItem(y))||{},t=n[e];if(t)return delete n[e],i.localStorageOrNull.setItem(y,JSON.stringify(n)),t;throw new Error("The Extension cannot be found")})},n.supportsDesktopPlugins=I,n.supportsDesktopPluginsV2=function(){return s.desktopApp&&s.desktopApp.supportsLocalFileExtensionsAPIV2()},I()&&s.desktopApp.getAllLocalFileExtensionIds().then(e=>{for(let n of e)k(n,void 0,"Loading extension manifest..."),E(n)});let S=void 0;I()&&((S=new BroadcastChannel("extension_list_updated")).onmessage=(e=>{e.data.added?(k(e.data.added,void 0,"Loading extension manifest..."),E(e.data.added)):e.data.removed&&O.delete(N(e.data.removed))})),n.localFileExtensionAdded=function(e){S&&S.postMessage({added:e})};const O=new Map,_=d.PropTypes.arrayOf(d.PropTypes.oneOf([d.PropTypes.exact({command:d.PropTypes.string,name:d.PropTypes.string}),d.PropTypes.exact({separator:!0}),d.PropTypes.exact({name:d.PropTypes.string,get menu(){return _}})])),x=d.PropTypes.exact({id:d.PropTypes.string.isOptional,name:d.PropTypes.string,version:d.PropTypes.string,script:d.PropTypes.string,html:d.PropTypes.string.isOptional,build:d.PropTypes.string.isOptional,menu:_.isOptional});function E(e){return o(this,void 0,void 0,function*(){let n,t,o;try{if(void 0===(t=(yield s.desktopApp.getLocalFileExtensionManifest(e)).manifest))throw O.delete(N(e)),new Error("Extension removed")}catch(r){throw k(e,void 0,`Loading manifest file failed: ${r.message}`),r}try{o=JSON.parse(t)}catch(r){throw k(e,void 0,`manifest not valid JSON: ${r.message}`),r}const i=g.createNoOpJavascriptVm();try{n=d.deepValidateAndUnwrap(i,i.deepWrap(o),x,"manifest")}catch(r){throw k(e,void 0,`invalidFileId manifest contents: ${r.message}`),r}finally{i.destroy()}return k(e,n,""),n})}function N(e){return"file"+e}function k(e,n,t){const o=N(e),i=n&&n.menu||[];let r=O.has(o)?O.get(o).lastCommand:"";r||(r=function e(n){for(let t of n){if(t.command)return t.command;if(t.menu){let n=e(t.menu);if(n)return n}}return""}(i));const s={name:n&&n.name||"",status:t,menu:i,localFileId:e,lastCommand:r};O.set(o,s)}function T(e){return O.get(e)||{name:"",status:"",menu:[],localFileId:void 0,lastCommand:""}}n.getManifest=E,n.getStorageKeyForLocalFileId=N,n.deleteDesktopPluginInfo=function(e){void 0!==e&&(s.desktopApp.removeLocalFileExtension(e),O.delete(N(e)),O.delete(N(e)),S&&S.postMessage({removed:e}))},n.getDesktopPluginInfo=T;let A=!1;function D(e,n,t,i){return o(this,void 0,void 0,function*(){const o=T(e),{manifest:r,code:s}=yield F(o.localFileId);o.lastCommand=n;const a={pluginID:r.id,version:r.version,trigger:t,source:"development"};l.segment.track("Run User Action",a),yield V({code:s,name:r.name,version:r.version,pluginID:r.id,command:n,errorHandler:i})})}function F(e){return o(this,void 0,void 0,function*(){if(!s.desktopApp)throw new Error("Attempting to run local file extension not from desktop app");let n;try{n=yield s.desktopApp.getLocalFileExtensionSource(e)}catch(o){throw new Error("Invalid source file")}if(n.buildErrCode)throw new Error("Build error: "+n.stderr+"\nPath was: "+n.path);let t=n.source;return n.html&&(t=`const __html__ = ${JSON.stringify(n.html)};${t}`),{manifest:yield E(e),code:t}})}n.getPluginListDesktop=function(){let e=[];return O.forEach((n,t)=>{e.push({type:"DESKTOP",key:t,name:n.name,menu:n.menu})}),A||(A=!0,l.segment.track("Plugin List",{source:"development",numPlugins:e.length})),e.sort(n.pluginMenuSort)},n.runPluginDesktop=D,n.loadPluginFromLocalFile=F;let L=e=>{};function R(e){L(e+"")}function b(){const e=g.createNoOpJavascriptVm();let n=[()=>e.destroy(),()=>{delete window.figma},()=>v.fullscreen.triggerAction("commit")];const t=e=>{(()=>{let e;if(n.forEach(n=>{try{n()}catch(t){e||(e=t)}}),n=[],e)throw e})()};delete window.figma,h.PluginHelpers.setRunningPluginVersion(m.PLUGIN_VERSION_UNSTABLE),f.addFigmaAPI(e,{name:"",command:"",closePlugin:t,addShutdownAction:e=>{-1===n.indexOf(e)&&n.push(e)},uiHandleMode:{type:"HIDE_VISUAL_BELL"}}),L=t}n.terminateCurrentPlugin=R,n.exposeGlobalDebugAPI=b;let C=0;function V(e){return o(this,void 0,void 0,function*(){R("Terminating existing user action before running new user action");let{code:n,name:t,version:o,command:i}=e;if("0.3.0"===o){if(!a.isRunningInteractionTests()&&!v.fullscreen.isInDrafts())throw new Error(`Extension version "${o}" is only allowed in Drafts`)}else if("0.4.0"===o);else{if("0.5.0"!==o)throw new Error(`Unknown extension runtime version "${o}"`);if(!m.getAllowUnstable())throw new Error(`Unknown extension runtime version "${o}"`)}let s,l=e.errorHandler||(()=>{});"0.3.0"===o&&(n=`(async () => {${n}\n})()`);try{s=yield r.checkJavaScriptSyntax(n)}catch(f){}if(s&&!1===s.success){const{lineNumber:e,column:t,description:o}=s.error,i=`Syntax error on line ${e}: ${o}`,r=n.split("\n");let l="";if(e>=1&&e<=r.length&&t>=1&&t<100){l+=`\n${r[e-1].replace(/\t/g," ").slice(0,t+100)}\n${" ".repeat(t-1)}^`}throw console.error(i+l),new Error(i)}if(C++,"0.3.0"===o){h.PluginHelpers.setRunningPluginVersion(o);let{closePlugin:e,runResult:r}=yield c.runPluginCodeInRuntime({code:n,runInNoOpVm:$,name:t,pluginCounter:C,entryPoint:i,onShutdown:b});return L=e,r}if("0.4.0"===o){h.PluginHelpers.setRunningPluginVersion(o);let{closePlugin:r,runResult:s}=yield p.runPluginCodeInRuntime({code:n,runInNoOpVm:$,name:t,version:o,pluginID:e.pluginID,pluginCounter:C,command:i,errorHandler:l,onShutdown:b});return L=r,s}h.PluginHelpers.setRunningPluginVersion(o);let{closePlugin:d,runResult:g}=yield u.runPluginCodeInRuntime({code:n,runInNoOpVm:$,name:t,version:o,pluginID:e.pluginID,pluginCounter:C,command:i,errorHandler:l,onShutdown:b});return L=d,g})}n.runPluginCode=V;let $=!1;n.setShouldRunNoOpVmForTests=function(e){$=e};const M=["log","error","assert","info","warn","clear"];let J={};for(let U of M)J[U]=console[U];let H=0;n.silenceConsole=function(){if(!a.isRunningInteractionTests()){if(0===H){console.clear(),console.log("------- Clearing and silencing console.log from Figma -------");try{for(let e of M)console[e]=(()=>{})}catch(e){console.log("unable to silence console")}}H++}},n.restoreConsole=function(){if(!a.isRunningInteractionTests()&&0==--H){try{for(let e of M)console[e]=J[e]}catch(e){console.log("unable to restore console")}console.log("------- Restoring console.log functionality in Figma --------")}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(80,1    ),n="figma:tick",r=new CustomEvent(n);setInterval(()=>{window.dispatchEvent(r)},3e4);class c extends o.Component{constructor(e){super(e),this.tick=(()=>{this.forceUpdate()}),this.props.customizeRelativeTimes&&i.updateLocale("en",{relativeTime:this.props.customizeRelativeTimes})}componentDidMount(){window.addEventListener(n,this.tick)}componentWillUnmount(){window.removeEventListener(n,this.tick),this.props.customizeRelativeTimes&&(i.updateLocale("en",void 0),window.dispatchEvent(r))}render(){const e=this.props.isSuffixRemoved||!1;return o.createElement("span",{className:this.props.className||""},i.utc(this.props.date).fromNow(e))}}c.displayName="FromNow",t.FromNow=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(a,u){function o(e){try{r(i.next(e))}catch(t){u(t)}}function s(e){try{r(i.throw(e))}catch(t){u(t)}}function r(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(o,s)}r((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=n(97      ),u=n(95               );t.PluginServerAPI=class{constructor(){this.generatePluginKey=(()=>i(this,void 0,void 0,function*(){return this.request(a.default.post,"/api/plugins")})),this.getPluginByPluginKey=(e=>i(this,void 0,void 0,function*(){return this.request(a.default.get,`/api/plugins/${e}`)})),this.getCodeUploadInfo=(e=>i(this,void 0,void 0,function*(){return a.default.post(`/api/plugins/${e}/upload`).then(({data:e})=>({codeUploadUrl:e.meta.code_upload_url,codeUploadPath:e.meta.code_upload_path}))})),this.updatePlugin=((e,t,n)=>i(this,void 0,void 0,function*(){const{codeUploadUrl:i,codeUploadPath:u}=yield this.getCodeUploadInfo(e);return yield a.default.put(i,t,{headers:Object.assign({},a.default.defaults.headers,{"Content-Type":""})}),this.request(a.default.put,`/api/plugins/${e}`,{manifest:n,code_upload_path:u})})),this.removeShareKey=(e=>i(this,void 0,void 0,function*(){return this.request(a.default.del,`/api/plugins/${e}/share`)})),this.getPluginByShareKey=(e=>i(this,void 0,void 0,function*(){const t=(yield a.default.get(`/api/plugins/share/${e}`)).data.meta,n=new URL(t.code_download_url),i=(yield a.default.get(n.href,u.parse(n.search),{raw:!0})).data;return{pluginKey:t.plugin_key,shareKey:t.share_key,name:t.manifest.name,version:t.manifest.version,menu:t.manifest.menu,code:i}}))}request(e,t,n){return e(t,n).then(({data:e})=>{const t=e.meta;return{pluginKey:t.plugin_key,shareKey:t.share_key,lastSharedAt:t.last_shared_at}})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){o.exports={container:"share_plugin_modal--container--2Tvq_",section:"share_plugin_modal--section--10joX",sectionHeader:"share_plugin_modal--sectionHeader--kGWdh",row:"share_plugin_modal--row--2lf6I",subsection:"share_plugin_modal--subsection--3upP6",rowLeft:"share_plugin_modal--rowLeft--2wi2z",helptext:"share_plugin_modal--helptext--3HAmf",buttonRow:"share_plugin_modal--buttonRow--3qNxt share_plugin_modal--section--10joX",button:"share_plugin_modal--button--qDtla"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,a){"use strict";var i=this&&this.__awaiter||function(e,t,a,i){return new(a||(a=Promise))(function(n,s){function l(e){try{o(i.next(e))}catch(t){s(t)}}function r(e){try{o(i.throw(e))}catch(t){s(t)}}function o(e){e.done?n(e.value):new a(function(t){t(e.value)}).then(l,r)}o((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),s=a(232                        ),l=a(198         ),r=a(178              ),o=a(219          ),h=a(204                                            ),d=a(664                                  ),c=a(214                                                    ),u=a(391                                                                        ),m=a(663               ),p=a(1426                               ),g=a(665                  ),y=a(666                       ),f=378,v=200;function E(){return new l.Vector(window.innerWidth/2-f/2,window.innerHeight/2-v/2)}function w(e){return i(this,void 0,void 0,function*(){return function(e){return i(this,void 0,void 0,function*(){if(!e)throw new Error("Share Key is empty");return(new g.PluginServerAPI).getPluginByShareKey(e).then(t=>{if(e!==t.shareKey)throw new Error("Extension Share Key does not match");return m.savePluginImported(t.shareKey,t),t})})}(e).then(e=>(p.fullscreen&&p.fullscreen.showVisualBell("plugins-share-key-imported",`Successfully added ${e.name}`,void 0,!1),e)).catch(e=>{throw p.fullscreen&&p.fullscreen.showVisualBell("plugins-share-key-imported","Invalid Sharing Key",void 0,!0),e})})}t.reloadPluginWithShareKey=w,t.removePluginWithShareKey=function(e){m.removePluginImported(e).then(e=>{p.fullscreen&&p.fullscreen.showVisualBell("plugins-share-key-removed",`Successfully removed ${e.name}`,void 0,!1)})};const b={status:"INIT"},S={status:"ERROR"};function K(e){return{status:"DONE",data:e}}class N extends n.Component{constructor(e){super(e),this.localFileId=void 0,this.api=new g.PluginServerAPI,this.close=(()=>{this.props.dispatch(s.fileBrowser.hideModal())}),this.handleRequest=(e=>i(this,void 0,void 0,function*(){return e.then(e=>{if(!e.pluginKey)throw new Error("Empty Extension ID in response");this.setState({published:K(e)})}).catch(e=>{throw this.setState({published:S}),new Error(e)})})),this.loadManifest=(()=>{void 0!==this.localFileId&&m.getManifest(this.localFileId).then(e=>{this.setState({manifest:K(e)},this.loadShareKey)}).catch(e=>{this.setState({manifest:S})})}),this.loadShareKey=(()=>{if("DONE"!==this.state.manifest.status||!this.state.manifest.data.id)return;const e=this.state.manifest.data.id;this.handleRequest(this.api.getPluginByPluginKey(e))}),this.generatePluginKey=(()=>{this.handleRequest(this.api.generatePluginKey())}),this.removeShareKey=(e=>{o.segment.track("Unshare Plugin",{pluginID:e}),this.handleRequest(this.api.removeShareKey(e))}),this.copyToClipboard=(e=>{r.copyText(e).then(()=>{this.props.dispatch(s.visualBell.enqueue({message:"Copied to clipboard",type:"plugins-id-copied"}))})}),this.shareUpdate=((e,t)=>i(this,void 0,void 0,function*(){let a,i;try{({manifest:a,code:i}=yield m.loadPluginFromLocalFile(this.localFileId))}catch(l){return void this.setState({manifest:S,published:S})}o.segment.track("Plugin Share Update",{pluginID:e,isFirst:t,version:a.version,hasHtml:!!a.html,hasBuild:!!a.build,numTopLevelMenuItems:(a.menu||[]).length});const n=this.api.updatePlugin(e,i,a);this.handleRequest(n).then(()=>{this.props.dispatch(s.visualBell.enqueue({message:t?`Shared ${a.name}`:`Shared an update to ${a.name}`,type:"plugins-share-update"}))}).catch(()=>{this.props.dispatch(s.visualBell.enqueue({message:"Error sharing the extension",type:"plugins-publish-fail"}))})}));const t=m.getDesktopPluginInfo(e.pluginStorageKey);this.localFileId=t.localFileId,this.state={published:b,manifest:b}}componentDidMount(){window.addEventListener("focus",this.loadManifest),this.loadManifest()}componentWillUnmount(){window.removeEventListener("focus",this.loadManifest)}renderPluginKeySection(e,t){return t?n.createElement("div",{className:y.row},n.createElement("div",{className:y.rowLeft},t),n.createElement("span",{className:y.helptext},"Extension ID found in Manifest.")):e?n.createElement(n.Fragment,null,n.createElement("div",{className:y.row},n.createElement("div",{className:y.rowLeft},e),n.createElement(h.Link,{onClick:this.loadManifest},"Reload Manifest")),n.createElement(h.Link,{onClick:this.copyToClipboard.bind(this,e)},"Copy to Clipboard")):n.createElement(n.Fragment,null,n.createElement("div",{className:y.row},n.createElement("div",{className:y.rowLeft},"No Extension ID found"),n.createElement(h.Link,{onClick:this.loadManifest},"Reload Manifest")),n.createElement(h.Link,{className:y.row,onClick:this.generatePluginKey},"Generate Extension ID"))}renderShareKeySection(e){let t,a="";if("DONE"===this.state.published.status){const{pluginKey:i}=this.state.published.data;i&&i===e&&(t=this.state.published.data.shareKey,a=this.state.published.data.lastSharedAt)}if(!t){const t=!!e;return n.createElement(n.Fragment,null,n.createElement("div",{className:y.row},n.createElement("div",{className:y.rowLeft},"No Extension Sharing Key"),t&&n.createElement(h.Link,{onClick:this.shareUpdate.bind(this,e,!0)},"Create Sharing Key")),n.createElement("div",{className:y.subsection},n.createElement("span",{className:y.helptext},t?"To share your Extension create a Extension Sharing Key. Everyone with this key will then be able to use the plugin.":"To share the plugin, you have to have a valid Extension ID in your Manifest.")))}return n.createElement(n.Fragment,null,n.createElement("div",{className:y.row},n.createElement("div",{className:y.rowLeft},t),n.createElement(h.Link,{onClick:this.removeShareKey.bind(this,e)},"Remove Sharing Key")),n.createElement(h.Link,{onClick:this.copyToClipboard.bind(this,t)},"Copy to Clipboard"),n.createElement("div",{className:y.subsection},n.createElement("span",{className:y.helptext},"Everyone with this key is able to add and use the last shared version of the plugin.")),n.createElement("div",{className:y.subsection},n.createElement("div",{className:y.rowLeft},"Last shared: ",n.createElement(d.FromNow,{date:a})),n.createElement(h.Link,{onClick:this.shareUpdate.bind(this,e,!1)},"Share Update")))}render(){let e,t;return"DONE"===this.state.manifest.status&&this.state.manifest.data.id&&(t=this.state.manifest.data.id),"DONE"===this.state.published.status&&this.state.published.data.pluginKey&&(e=this.state.published.data.pluginKey),n.createElement(c.DraggableModal,{title:"Share Extension (Beta)",dragHeaderOnly:!0,onClose:this.close,initialPosition:E(),initialWidth:f},n.createElement("div",{className:y.container},n.createElement("div",{className:y.section},n.createElement("div",{className:y.sectionHeader},"Extension ID"),this.renderPluginKeySection(e,t)),n.createElement("div",{className:y.section},n.createElement("div",{className:y.sectionHeader},"Extension Share Key"),this.renderShareKeySection(t))))}}N.displayName="SharePluginModal",t.SharePluginModal=N;class P extends n.Component{constructor(){super(...arguments),this.state={shareKey:""},this.close=(()=>{this.props.dispatch(s.fileBrowser.hideModal())}),this.onShareKeyChanged=(e=>{this.setState({shareKey:e.target.value})}),this.onConfirmAddShareKey=(()=>{w(this.state.shareKey).then(e=>{o.segment.track("Plugin Share Key Added",{pluginID:e.pluginKey,shareKey:e.shareKey}),this.close()})})}render(){return n.createElement(c.DraggableModal,{title:"Add Extension from Key (Beta)",dragHeaderOnly:!0,onClose:this.close,initialWidth:f,initialPosition:E()},n.createElement("div",{className:y.container},n.createElement("div",null,"Extension Share Key"),n.createElement(u.TextInput,{autoFocus:!0,placeholder:"Paste Share Key here",onChange:this.onShareKeyChanged,value:this.state.shareKey,spellCheck:!1}),n.createElement("div",{className:y.section},"This will add the Extension to only this device or browser. At the end of the Beta, these extensions will become unavailable!"),n.createElement("div",{className:y.buttonRow},n.createElement(h.ButtonSecondary,{onClick:this.close,className:y.button},"Cancel"),n.createElement(h.ButtonPrimary,{className:y.button,disabled:!this.state.shareKey,onClick:this.onConfirmAddShareKey},"Add"))))}}P.displayName="ImportPluginModal",t.ImportPluginModal=P,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,l){n.exports={container:"plugin_modal--container--2baHL",section:"plugin_modal--section--1SPYg",webPluginsContainer:"plugin_modal--webPluginsContainer--ZKLw7 plugin_modal--section--1SPYg",label:"plugin_modal--label--1YQSv",warning:"plugin_modal--warning--2YQ0T",statusSection:"plugin_modal--statusSection--1fsnW plugin_modal--section--1SPYg",pluginCode:"plugin_modal--pluginCode--39EH3",deprecatedPluginCode:"plugin_modal--deprecatedPluginCode--1bB7R",row:"plugin_modal--row--HAj0y",buttonRow:"plugin_modal--buttonRow--3NobF plugin_modal--row--HAj0y",growingButton:"plugin_modal--growingButton--3dNGN",rowLeft:"plugin_modal--rowLeft--3QNzz",primaryAction:"plugin_modal--primaryAction--2hQ0s",offlineLabel:"plugin_modal--offlineLabel--3XMkg"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=l(174          ),s=l(34,1   ),i=l(232                        ),o=l(198         ),n=l(1417                       ),r=l(668                 ),c=l(204                                            ),d=l(214                                                    ),p="pluginTemporarySaveStore";function m(){let e=[];if(a.localStorageOrNull){const t=JSON.parse(a.localStorageOrNull.getItem(p))||{};for(let l in t)t[l].localFileId||e.push({name:t[l].name,code:t[l].code})}return e}function u(){a.localStorageOrNull&&a.localStorageOrNull.removeItem(p)}t.getDeprecatedWebPlugins=m,t.hasDeprecatedWebPlugins=function(){return m().length>0},t.deleteAllDeprecatedWebPlugins=u;class h extends s.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.onConfirmDelete=(()=>{u(),this.close()}),this.onTextAreaCreated=((e,t)=>{if(!t)return;const l=this.state.plugins[e].size,a=t.scrollHeight;if((l||0)<a){let t=this.state.plugins.slice();t[e].size=a,this.setState({plugins:t})}}),this.deleteAll=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:n.AppModal.CONFIRMATION_MODAL,data:{confirmationTitle:"Delete all deprecated extensions",content:"Are you sure?",confirmText:"Delete",cancelText:"Cancel",onConfirm:this.onConfirmDelete,dispatch:this.props.dispatch,popStack:!0}}))}),this.state={plugins:m()}}render(){const e=new o.Vector(window.innerWidth-800,80),t=this.state.plugins.map(({name:e,code:t,size:l},a)=>s.createElement("div",{key:a,className:r.section},s.createElement("div",{className:r.label},e),s.createElement("textarea",{readOnly:!0,className:r.deprecatedPluginCode,value:t,style:{height:l},spellCheck:!1,ref:this.onTextAreaCreated.bind(null,a)})));return s.createElement(d.DraggableModal,{title:"Deprecated local extensions",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},s.createElement("div",{className:r.container},s.createElement("div",{className:r.section},"Editing extension code directly in Figma has been deprecated in favor of directly using local files. Below is the code for the extensions you had. Please copy any that you want to keep to local files instead."),s.createElement("div",{className:r.webPluginsContainer},t),s.createElement("div",{className:r.buttonRow},s.createElement(c.Link,{onClick:this.deleteAll,className:r.rowLeft},"Delete All..."),s.createElement(c.ButtonPrimary,{onClick:this.close},"Close"))))}}h.displayName="WebPluginModal",t.DeprecatedWebPluginModal=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var i=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(s,a){function o(e){try{r(i.next(e))}catch(t){a(t)}}function l(e){try{r(i.throw(e))}catch(t){a(t)}}function r(e){e.done?s(e.value):new n(function(t){t(e.value)}).then(o,l)}r((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const s=n(34,1   ),a=n(232                        ),o=n(198         ),l=n(176              ),r=n(1417                       ),c=n(204                                            ),u=n(214                                                    ),d=n(391                                                                        ),m=n(204                                            ),p=n(1426                               ),g=n(219          ),h=n(663               ),f=n(608               ),E=n(174          ),v=n(662               ),w=n(665                  ),y=n(668                 ),N=800,P=500,k="devPluginCode";class C extends s.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.onPluginError=(e=>{this.setState({status:e})}),this.runPlugin=(()=>{const e=h.runPluginCode({code:this.state.pluginCode,name:"Dev Plugin",version:v.PLUGIN_VERSION_UNSTABLE,command:"",errorHandler:this.onPluginError});this.setState({status:"Running",currentRun:e,numRuntimeErrors:0,lastRuntimeError:""}),e.then(()=>{this.state.currentRun===e&&this.setState({status:"Done",currentRun:void 0})}).catch(t=>{this.state.currentRun===e&&(t=(t+="").replace(/^Error: /,""),this.setState({status:"Error: "+t,currentRun:void 0}))})}),this.onPluginCodeChanged=(e=>{const t=e.target.value;this.setState({pluginCode:t}),E.localStorageOrNull&&E.localStorageOrNull.setItem(k,t)}),this.state={status:"",numRuntimeErrors:0,pluginCode:E.localStorageOrNull?E.localStorageOrNull.getItem(k):""},f.prepareForSyntaxChecking()}render(){const e=new o.Vector(window.innerWidth-N,window.innerHeight-P);return s.createElement(u.DraggableModal,{title:"Internal Plugin Dev",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},s.createElement("div",{className:y.container},s.createElement("div",null,s.createElement("div",{className:y.section},s.createElement("div",{className:y.label},"Code"),s.createElement(d.TextInput,{type:"textarea",className:y.pluginCode,placeholder:"Type code here...",onChange:this.onPluginCodeChanged,value:this.state.pluginCode,spellCheck:!1}))),s.createElement("div",{className:y.statusSection},s.createElement("div",{className:y.row},s.createElement("div",null,this.state.status||"Ready")),0===this.state.numRuntimeErrors?null:s.createElement("div",null,this.state.numRuntimeErrors," runtime errors detected. See browser console for more details. Last error was: ",this.state.lastRuntimeError)),s.createElement("div",{className:y.buttonRow},s.createElement(c.ButtonPrimary,{className:y.primaryAction,disabled:!this.state.pluginCode,onClick:this.runPlugin},"Run Extension"))))}}function S(e,t,n){return i(this,void 0,void 0,function*(){if(void 0!==e){h.localFileExtensionAdded(e);let t=yield h.getManifest(e);g.segment.track("Added New Plugin",{how:n,pluginID:t.id,version:t.version});let i=h.getStorageKeyForLocalFileId(e);p.fullscreen.showVisualBell("plugins-added-from-file",`Successfully added ${h.getDesktopPluginInfo(i).name}`,void 0,!1),p.fullscreen.dispatch(a.fileBrowser.showModal({type:r.AppModal.PLUGIN_DEV_INFO_MODAL,data:{pluginStorageKey:i}}))}else if(void 0!==t){let e=h.getStorageKeyForLocalFileId(t);p.fullscreen.showVisualBell("plugins-added-from-file",`${h.getDesktopPluginInfo(e).name} already added`,void 0,!1)}})}C.displayName="InternalPluginDevModal",t.InternalPluginDevModal=C,t.addSinglePluginFromFile=function(){return i(this,void 0,void 0,function*(){if(h.supportsDesktopPluginsV2()){let{added:e,existed:t}=yield l.desktopApp.createMultipleNewLocalFileExtensions({title:"Pick Extension Manifest File",filters:[{name:"Manifests",extensions:["json"]}],properties:["openFile"]},0);yield S(e[0],t[0],"loaded")}else{let e=yield l.desktopApp.createNewLocalFileExtension();yield S(e,void 0,"loaded")}})};class D extends s.Component{constructor(e){super(e),this.api=new w.PluginServerAPI,this.close=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.onPluginNameChanged=(e=>{const t=e.target.value;this.setState({pluginName:t})}),this.onSkipPluginKeyGenerationChanged=(e=>{const t=e.target.checked;this.setState({skipPluginKeyGeneration:t})}),this.createNewPlugin=(()=>i(this,void 0,void 0,function*(){const e={name:this.state.pluginName,version:v.getVersionForNewPlugin(),html:"ui.html",script:"code.js"};if(this.state.pluginKey)e.id=this.state.pluginKey;else if(!this.state.skipPluginKeyGeneration)try{const t=(yield this.api.generatePluginKey()).pluginKey;e.id=t,this.setState({pluginKey:t})}catch(i){return void this.setState({status:'Unable to generate Extensions ID, please try again. If you are offline, check the "Skip Extension ID generation" checkbox to skip generating an Extension ID for now. You can generate an ID later.',maybeOffline:!0})}const t=JSON.stringify(e,void 0,2),n=this.state.pluginName.replace(/[^0-9a-zA-Z\.\-\+!%&_ =]/g,"_").trim()||"MyExtension";try{const e=!0,s=[{name:"manifest.json",content:t},{name:"code.js",content:v.getJsForNewPlugin()},{name:"ui.html",content:v.getHtmlForNewPlugin()}];e&&s.push({name:"code.ts",content:`/*\n${v.TYPESCRIPT_README}*/\n\n`+v.getJsForNewPlugin()},{name:"figma.d.ts",content:v.getIndexDTSForNewPlugin()},{name:"tsconfig.json",content:"{}"});const a=yield l.desktopApp.writeNewExtensionToDisk(n,s);a&&(yield S(a,void 0,"created"))}catch(i){this.setState({status:"Error: "+i})}})),this.state={status:"",pluginName:"",pluginKey:"",maybeOffline:!1,skipPluginKeyGeneration:!1}}render(){const e=new o.Vector(window.innerWidth-N,window.innerHeight-P);return h.supportsDesktopPluginsV2()?s.createElement(u.DraggableModal,{title:"Create New Plugin",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},s.createElement("div",{className:y.container},s.createElement("div",{className:y.section},s.createElement("div",null,s.createElement(d.TextInput,{placeholder:"Plugin name",onChange:this.onPluginNameChanged,value:this.state.pluginName,spellCheck:!1}))),s.createElement("div",{className:y.section},"You can develop and share plugins to improve the workflow in Figma."),s.createElement("div",{className:y.statusSection},s.createElement("div",{className:y.row},s.createElement("div",null,this.state.status))),this.state.maybeOffline&&s.createElement("div",{className:y.section},s.createElement("div",{className:y.row},s.createElement(m.Checkbox,{id:"CreateNewDesktopPluginModal-skipPluginKeyGeneration",checked:this.state.skipPluginKeyGeneration,onChange:this.onSkipPluginKeyGenerationChanged}),s.createElement(m.Label,{htmlFor:"CreateNewDesktopPluginModal-skipPluginKeyGeneration",className:y.offlineLabel},"Skip Extension ID generation"))),s.createElement("div",{className:y.buttonRow},s.createElement(c.ButtonSecondary,{onClick:this.close},"Cancel"),s.createElement(c.ButtonPrimary,{onClick:this.createNewPlugin,className:y.primaryAction},"Save to...")))):s.createElement(u.DraggableModal,{title:"Create New Plugin",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},s.createElement("div",{className:y.container},s.createElement("div",{className:y.section},s.createElement("div",{className:y.row},"There's a new version of the Figma Desktop App available which supports an improved experience for creating new extensions. Please update your Figma Desktop App to get access to this new functionality.")),s.createElement("div",{className:y.buttonRow},s.createElement(c.ButtonSecondary,{onClick:this.close},"Cancel"))))}}D.displayName="CreateNewDesktopPluginModal",t.CreateNewDesktopPluginModal=D;class R extends s.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.updateManifestInfo=(()=>{h.getManifest(this.pluginLocalFileId).then(e=>{this.setState({pluginName:e.name,pluginHasMenu:e.menu&&!!e.menu.length}),this.state.status.startsWith("Manifest Error:")&&this.setState({status:""})}).catch(e=>{this.setState({status:"Manifest Error: "+e})})}),this.onPluginError=(e=>{this.setState({lastRuntimeError:e,numRuntimeErrors:this.state.numRuntimeErrors+1})}),this.showConsole=(()=>{l.desktopApp.openDevTools("bottom")}),this.runPlugin=(()=>{const e=h.getDesktopPluginInfo(this.props.pluginStorageKey),t=h.runPluginDesktop(this.props.pluginStorageKey,e.lastCommand,"modal",this.onPluginError);this.setState({status:"Running",currentRun:t,numRuntimeErrors:0,lastRuntimeError:""}),t.then(()=>{this.state.currentRun===t&&this.setState({status:"Done",currentRun:void 0})}).catch(e=>{this.state.currentRun===t&&(e=(e+="").replace(/^Error: /,""),this.setState({status:"Error: "+e,currentRun:void 0}))})}),this.onConfirmDelete=(()=>{h.deleteDesktopPluginInfo(this.pluginLocalFileId),this.close()}),this.deletePlugin=(()=>{this.props.dispatch(a.fileBrowser.showModal({type:r.AppModal.CONFIRMATION_MODAL,data:{confirmationTitle:`Remove ${this.state.pluginName}`,content:"Are you sure? (This won't delete your local files)",confirmText:"Remove",cancelText:"Cancel",onConfirm:this.onConfirmDelete,dispatch:this.props.dispatch,popStack:!0}}))}),this.openExtensionDirectory=(()=>{l.desktopApp.openExtensionDirectory(this.pluginLocalFileId)});const t=h.getDesktopPluginInfo(this.props.pluginStorageKey);this.pluginLocalFileId=t.localFileId,this.state={status:"",numRuntimeErrors:0,pluginName:t.name,pluginHasMenu:!!t.menu.length},f.prepareForSyntaxChecking()}componentDidMount(){window.addEventListener("focus",this.updateManifestInfo),this.updateManifestInfo()}componentWillUnmount(){window.removeEventListener("focus",this.updateManifestInfo)}render(){const e=new o.Vector(window.innerWidth-N,window.innerHeight-P);return s.createElement(u.DraggableModal,{title:(this.state.pluginName||"Nameless Plugin")+" Info",dragHeaderOnly:!0,onClose:this.close,initialPosition:e},s.createElement("div",{className:y.container},s.createElement("div",{className:y.section},s.createElement("div",{className:y.row},s.createElement(c.Link,{onClick:this.openExtensionDirectory},"Open manifest in the file browser")),h.supportsDesktopPluginsV2()&&s.createElement("div",{className:y.row},s.createElement(c.Link,{onClick:this.showConsole},"Show Developer Console"))),s.createElement("div",{className:y.statusSection},s.createElement("div",{className:y.row},s.createElement("div",null,this.state.status||"Ready")),0===this.state.numRuntimeErrors?null:s.createElement("div",null,this.state.numRuntimeErrors," runtime errors detected. See log for more details. Last error was: ",this.state.lastRuntimeError)),s.createElement("div",{className:y.buttonRow},s.createElement(c.Link,{onClick:this.deletePlugin,className:y.rowLeft},"Remove Extension..."),s.createElement(c.ButtonSecondary,{onClick:this.close},"Cancel"),s.createElement(c.ButtonPrimary,{className:y.primaryAction,onClick:this.runPlugin},this.state.pluginHasMenu?"Run Last Command":"Run Extension"))))}}R.displayName="DesktopPluginDevInfoModal",t.DesktopPluginDevInfoModal=R,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,a){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const l=a(232                        ),u=a(663                                                 ),s=a(1417                       ),p=a(1426                               ),i=a(667                                                     ),t=a(669                                                     ),r=a(670                                               ),g=a(662                                                 );function m(e,n,a,l){return a.map(a=>a.menu?{name:"plugins-menu-sub-item",args:{plugin_sub_name:a.name},children:m(e,n,a.menu,l)}:a.separator?{separator:!0}:{name:"plugins-menu-sub-item",args:{plugin_sub_name:a.name},callback:()=>u.runPluginFromMenu(e,n,a.command,l)})}const o=(e,n)=>()=>{const a=u.getPluginListImported().map(({type:a,key:l,name:s,menu:p})=>{const t=m(a,l,p,n);return e&&(0===t.length&&t.push({name:"plugins-menu-item-run",callback:()=>u.runPluginFromMenu(a,l,"",n)}),t.push({separator:!0}),t.push({name:"plugins-menu-item-reload",callback:()=>i.reloadPluginWithShareKey(l)}),t.push({name:"plugins-menu-item-remove",callback:()=>i.removePluginWithShareKey(l)})),{name:"plugins-menu-item",args:{plugin_name:s},callback:0===t.length&&(()=>u.runPluginFromMenu(a,l,"",n)),children:t.length>0&&t}});return a.length>0&&a.push({separator:!0}),a.push({name:"plugins-menu-add-from-key",callback:()=>{p.fullscreen.dispatch(l.fileBrowser.showModal({type:s.AppModal.IMPORT_PLUGIN_MODAL}))}}),a},c=(e,n)=>()=>{const a=u.getPluginListDesktop().map(({name:a,key:i,menu:t,type:r})=>{const o=m(r,i,t,n);return e&&(o.length>0?o.push({separator:!0}):o.push({name:"plugins-menu-item-run",callback:()=>u.runPluginFromMenu(r,i,"",n)}),o.push({name:"plugins-menu-item-edit",callback:()=>{p.fullscreen.dispatch(l.fileBrowser.showModal({type:s.AppModal.PLUGIN_DEV_INFO_MODAL,data:{pluginStorageKey:i}}))}}),g.getAllowSharing()&&u.supportsDesktopPlugins()&&o.push({name:"plugins-menu-item-share",callback:()=>{p.fullscreen.dispatch(l.fileBrowser.showModal({type:s.AppModal.SHARE_PLUGIN_MODAL,data:{pluginStorageKey:i}}))}})),{name:"plugins-menu-item",args:{plugin_name:a},callback:0===o.length&&(()=>u.runPluginFromMenu(r,i,"",n)),children:o.length>0&&o}});return a.length>0&&a.push({separator:!0}),t.hasDeprecatedWebPlugins()&&a.push({name:"plugins-menu-show-deprecated",callback:()=>{p.fullscreen.dispatch(l.fileBrowser.showModal({type:s.AppModal.SHOW_DEPRECATED_WEB_PLUGINS_MODAL,data:{}}))}}),u.supportsDesktopPlugins()&&a.push({name:"plugins-menu-dev-create-new",callback:()=>{p.fullscreen.dispatch(l.fileBrowser.showModal({type:s.AppModal.CREATE_NEW_PLUGIN_MODAL}))}},{name:"plugins-menu-dev-add",callback:r.addSinglePluginFromFile}),g.getAllowUnstable(),0===a.length&&a.push({name:"plugins-menu-use-desktop",callback:()=>{p.fullscreen.dispatch(l.visualBell.enqueue({message:"Please use Figma desktop for plugin development",type:"plugin-use-desktop"}))}}),a};n.getPluginMenus=function(e,n){const a=[{separator:!0,featureFlags:["iframe_plugin_view"]},{name:"plugins-menu",flags:["edit"],featureFlags:["iframe_plugin_view","plugin_enable_sharing"],getChildren:o(e,n)}];return(u.supportsDesktopPlugins()||t.hasDeprecatedWebPlugins()||(g.getAllowUnstable(),0))&&a.push({name:g.getAllowSharing()?"plugins-menu-dev":"plugins-menu",flags:["edit"],featureFlags:["iframe_plugin_view"],getChildren:c(e,n)}),a},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(221                                      ),i=o(604                             ),r=o(607                                                                       ),n=o(1426                               ),l=o(671            ),s={children:[{name:"file-menu",children:[{action:"new"},{action:"new-from-sketch"},{separator:!0},{action:"place",flags:["edit"]},{separator:!0},{action:"save-as",callback:a.activityLogs.logSaveAsFig},{action:"create-savepoint"},{action:"toggle-version-history",property:"topLevelMode",propertyValue:i.TopLevelMode.HISTORY},{action:"copy-as-menu",children:[{action:"copy-as-css"},{action:"copy-text"},{action:"copy-as-svg"},{action:"copy-as-png",flags:["desktop"]}]},{separator:!0},{action:"export-selected-exportables"},{action:"export-all-frames-to-pdf"},{action:"quit",flags:["!ship"]}]},{name:"edit-menu",flags:["!edit"],children:[{action:"toggle-dropper"},{action:"copy-properties"},{separator:!0},{action:"select-all"},{action:"deselect-all"},{action:"select-inverse"},{separator:!0},{action:"select-same-style"},{action:"select-same-fill"},{action:"select-same-stroke"},{action:"select-same-effect"},{action:"select-same-text"},{action:"select-same-font"},{action:"select-same-instance"}]},{name:"edit-menu",flags:["edit"],children:[{action:"undo"},{action:"redo"},{separator:!0},{action:"paste-over-selection"},{separator:!0},{action:"toggle-dropper"},{separator:!0},{action:"set-default-style"},{action:"copy-properties"},{action:"paste-properties"},{separator:!0},{action:"select-all"},{action:"deselect-all"},{action:"select-inverse"},{separator:!0},{action:"select-same-style"},{action:"select-same-fill"},{action:"select-same-stroke"},{action:"select-same-effect"},{action:"select-same-text"},{action:"select-same-font"},{action:"select-same-instance"}]},{name:"view-menu",children:[{action:"toggle-grid",property:"renderGrid",propertyValue:!0},{action:"toggle-shown-layout-grids",flags:["edit"],property:"showFrameGrids",propertyValue:!0},{action:"toggle-shown-layout-grids",flags:["!edit"],property:"showFrameGridsViewOnly",propertyValue:!0},{action:"toggle-show-masks",property:"showMasks",propertyValue:!0},{action:"toggle-show-artboard-outlines",property:"showArtboardOutline",propertyValue:!0},{action:"toggle-resource-use",property:"renderResourceUse",propertyValue:!0},{action:"toggle-rulers",property:"renderRulers",propertyValue:!0},{action:"toggle-show-slices",featureFlags:["allow_hide_slices"],property:"showSlices",propertyValue:!0},{action:"toggle-outlines"},{separator:!0},{action:"toggle-ui",property:"showUi",propertyValue:!0},{action:"toggle-sidebar",property:"showSidebar",propertyValue:!0},{action:"toggle-multiplayer-cursors",property:"hideMultiplayerCursors",propertyValue:!1},{separator:!0},{action:"toggle-pixel-preview",property:"activeCanvasPixelPreview",propertyValue:!0},{separator:!0},{action:"zoom-in"},{action:"zoom-out"},{action:"zoom-reset"},{action:"zoom-to-fit"},{action:"zoom-to-selection"},{separator:!0},{action:"page-previous"},{action:"page-next"},{action:"previous-artboard"},{action:"next-artboard"},{action:"previous-artboard-same-zoom"},{action:"next-artboard-same-zoom"},{separator:!0},{action:"viewport-single",flags:["!ship"],property:"splitViewportMode",propertyValue:{type:"ViewportLayout",value:"single-viewport"}},{action:"viewport-split-horizontal",flags:["!ship"],property:"splitViewportMode",propertyValue:{type:"ViewportLayout",value:"horizontal-split"}},{action:"viewport-split-vertical",flags:["!ship"],property:"splitViewportMode",propertyValue:{type:"ViewportLayout",value:"vertical-split"}},{action:"viewport-split-four-way",flags:["!ship"],property:"splitViewportMode",propertyValue:{type:"ViewportLayout",value:"four-way-split"}}]},{name:"object-menu",flags:["edit"],children:[{action:"group-selection"},{action:"ungroup-selection"},{action:"frame-selection"},{action:"mask-selection",property:"selectionIsMask",propertyValue:!0},{separator:!0},{action:"create-symbol"},{action:"find-symbol"},{action:"restore-symbol"},{action:"reset-symbol"},{action:"detach-instance"},{action:"resize-to-fit"},{action:"toggle-frame-clipping"},{separator:!0},{action:"bring-to-front"},{action:"bring-forward"},{action:"send-backward"},{action:"send-to-back"},{separator:!0},{action:"flip-horizontal"},{action:"flip-vertical"},{separator:!0},{action:"rotate-180"},{action:"rotate-90-counterclockwise"},{action:"rotate-90-clockwise"},{separator:!0},{action:"flatten-selection"},{action:"outline-stroke"},{name:"boolean-menu",children:[{action:"live-boolean-union"},{action:"live-boolean-subtract"},{action:"live-boolean-intersect"},{action:"live-boolean-xor"}]},{separator:!0},{action:"duplicate-in-place"},{action:"delete-selection"},{action:"convert-to-raster"},{separator:!0},{action:"toggle-shown-for-selected-nodes"},{action:"toggle-locked-for-selected-nodes"},{action:"hide-sibling-layers"},{action:"collapse-layers"},{separator:!0},{action:"remove-fill"},{action:"remove-stroke"},{action:"swap-fill-and-stroke"}]},{name:"vector-menu",flags:["edit"],children:[{action:"join-selection"},{action:"smooth-join-selection"},{action:"delete-and-heal-selection"}]},{name:"text-menu",flags:["edit"],children:[{action:"text-toggle-bold"},{action:"text-toggle-italic"},{action:"text-toggle-underline"},{action:"text-toggle-strikethrough"},{separator:!0},{action:"text-original-case"},{action:"text-upper-case"},{action:"text-lower-case"},{separator:!0},{action:"text-font-size-increase"},{action:"text-font-size-decrease"},{action:"text-line-height-increase"},{action:"text-line-height-decrease"},{action:"text-letter-spacing-increase"},{action:"text-letter-spacing-decrease"},{separator:!0},{action:"text-align-menu",children:[{action:"text-align-left"},{action:"text-align-center"},{action:"text-align-right"},{action:"text-align-justified"},{separator:!0},{action:"text-align-top"},{action:"text-align-middle"},{action:"text-align-bottom"}]}]},{name:"arrange-menu",flags:["edit"],children:[{action:"round-to-pixels"},{separator:!0},{action:"align-left"},{action:"align-horizontal-center"},{action:"align-right"},{action:"align-top"},{action:"align-vertical-center"},{action:"align-bottom"},{separator:!0},{action:"tidy-up"},{separator:!0},{action:"pack-horizontal"},{action:"pack-vertical"},{separator:!0},{action:"distribute-horizontal-spacing"},{action:"distribute-vertical-spacing"},{separator:!0},{action:"distribute-left"},{action:"distribute-horizontal-center"},{action:"distribute-right"},{action:"distribute-top"},{action:"distribute-vertical-center"},{action:"distribute-bottom"}]},...l.getPluginMenus(!0,"filemenu"),{separator:!0},{name:"integrations-menu",children:[{action:"toggle-avocode-integration",property:"avocodeIntegration",propertyValue:!0},{action:"toggle-zeplin-integration",property:"zeplinIntegration",platforms:["mac","windows"],propertyValue:!0},{action:"export-to-dribbble"}]},{name:"preferences-menu",children:[{action:"toggle-snapping-to-geometry",property:"snapToGeometry",propertyValue:!0,flags:["edit"]},{action:"toggle-snapping-to-objects",property:"snapToObjects",propertyValue:!0,flags:["edit"]},{action:"toggle-snapping-to-pixels",property:"snapToPixelGrid",propertyValue:!0,flags:["edit"]},{separator:!0,flags:["edit"]},{action:"toggle-sticky-tools",property:"stickyTools",propertyValue:!0},{action:"toggle-layer-hover",property:"layerHover",propertyValue:!0},{action:"toggle-copy-renaming",property:"copyRenaming",propertyValue:!0,flags:["edit"]},{action:"toggle-annotations",property:"renderAnnotations",propertyValue:!0},{action:"toggle-viewport-overlay-hiding",property:"temporarilyHideViewportOverlay",propertyValue:!0},{action:"toggle-keyboard-zoom-to-selection",property:"keyboardZoomToSelection",propertyValue:!0},{action:"toggle-smart-quotes",property:"smartQuotes",propertyValue:!0,flags:["edit"]},{action:"toggle-google-fonts",property:"showGoogleFonts",propertyValue:!0,flags:["edit"]},{action:"toggle-flip-during-resize",property:"flipDuringResize",propertyValue:!0,flags:["edit"]},{action:"toggle-invert-zoom",property:"invertZoom",propertyValue:!0},{action:"toggle-use-numbers-for-opacity",property:"useNumbersForOpacity",propertyValue:!0,flags:["edit"]},{name:"open-links-in-desktop-app",get checked(){return r.OpenDesktopAppModal.isAutoOpenEnabled()},callback:()=>{r.OpenDesktopAppModal.toggleAutoOpen()},flags:["!desktop"],get platforms(){return r.OpenDesktopAppModal.shouldShowOnce()?[]:["mac","windows"]}},{separator:!0,flags:["edit"]},{action:"show-nudge-amount-picker",flags:["edit"]}]},{action:"open-preferences-modal"},{separator:!0},{get name(){return n.fullscreen.getDesktopAppMenuItemName()},callback:e=>n.fullscreen.handleDesktopAppMenuItem(e),flags:["!desktop"],platforms:["mac","windows"]},{name:"figma-account-menu",children:[{action:"open-help"},{action:"open-shortcuts"},{action:"open-community"},{action:"open-tutorials"},{action:"open-release-notes"},{action:"open-font-settings",flags:["!desktop"]},{separator:!0},{action:"open-legal-summary"},{action:"open-account-settings"},{action:"sign-out"}]},{action:"set-tool-arrow",searchOnly:!0},{action:"set-tool-default",searchOnly:!0},{action:"set-tool-hand",searchOnly:!0},{action:"set-tool-comments",searchOnly:!0},{action:"regenerate-all-instances",searchOnly:!0},{action:"select-broken-fixed-scrolling-nodes",searchOnly:!0},{action:"text-relayout",searchOnly:!0},{action:"set-tool-bend",flags:["edit"],searchOnly:!0},{action:"set-tool-ellipse",flags:["edit"],searchOnly:!0},{action:"set-tool-frame",flags:["edit"],searchOnly:!0},{action:"set-tool-line",flags:["edit"],searchOnly:!0},{action:"set-tool-paint-bucket",flags:["edit"],searchOnly:!0},{action:"set-tool-pen",flags:["edit"],searchOnly:!0},{action:"set-tool-pencil",flags:["edit"],searchOnly:!0},{action:"set-tool-rectangle",flags:["edit"],searchOnly:!0},{action:"set-tool-regular-polygon",flags:["edit"],searchOnly:!0},{action:"set-tool-scale",flags:["edit"],searchOnly:!0},{action:"set-tool-slice",flags:["edit"],searchOnly:!0},{action:"set-tool-star",flags:["edit"],searchOnly:!0},{action:"set-tool-type",flags:["edit"],searchOnly:!0},{action:"toggle-intercom",searchOnly:!0,property:"hideIntercom",propertyValue:!0},{action:"toggle-multiplayer-cursors",searchOnly:!0,property:"hideMultiplayerCursors",propertyValue:!1},{action:"unlock-all",flags:["edit"],searchOnly:!0},{action:"unhide-all",flags:["edit"],searchOnly:!0},{action:"toggle-library",flags:["edit"],searchOnly:!0},{action:"crop-image",flags:["edit"],searchOnly:!0},{name:"debug-menu",flags:["!ship"],children:[{action:"toggle-recording-interactions"},{action:"toggle-perf-hud"},{action:"toggle-show-guids",property:"showGuids",propertyValue:!0},{action:"toggle-force-publish-flattened",property:"forcePublishFlattened",propertyValue:!0},{action:"toggle-pen-tool-avoid-single-handles",property:"penToolAvoidSingleHandles",propertyValue:!0},{action:"purge-all-memory"},{action:"export-for-framer"},{action:"simulate-back-to-files"},{action:"test-multiplayer-upgrade"},{action:"test-multiplayer-reject-too-old"},{action:"test-multiplayer-reject-invalid-permissions"},{action:"test-multiplayer-reject-too-many-connections"},{action:"download-webgl-trace",featureFlags:["webgl_recorder"]}]},{action:"print-image-diagnostics",featureFlags:["image_diagnostics"],searchOnly:!0},{action:"print-render-tree",featureFlags:["internal_only_debug_tools"],searchOnly:!0},{action:"select-all-text",searchOnly:!0}]};t.getFullscreenMenuRoot=function(){return s},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={root:"pointing_dropdown--root--28JAG",arrow:"pointing_dropdown--arrow--Lu8iU",content:"pointing_dropdown--content--2os_K"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(34,1   ),s=n(38,1       ),i=n(198         ),r=n(408                                  ),c=n(673                      ),h=8,a=16;e.ARROW_HEIGHT=7;class d extends o.PureComponent{constructor(){super(...arguments),this.state={contentTop:0,contentLeft:0},this.getContentLocation=(()=>{const t=this.props.lean||"center",n=this.props.targetRect,o=this.contentEl.getBoundingClientRect(),s=n.bottom+e.ARROW_HEIGHT-2;switch(t){case"center":return new i.Vector(n.left+n.width/2-o.width/2,s);case"left":return new i.Vector(n.right+a-o.width,s);case"right":return new i.Vector(n.left-a,s)}}),this.ensureContentOnScreen=(()=>{const t=this.getContentLocation();t.x=Math.max(h,t.x);const n=this.contentEl.getBoundingClientRect(),o=t.x+n.width,s=t.y+n.height,i=window.innerWidth-6,r=window.innerHeight-6,c=e.ARROW_HEIGHT+2;o>i&&(t.x-=o-i),s>r&&(t.y-=s-r),t.y<c&&(t.y=c),this.setState({contentTop:Math.round(t.y),contentLeft:Math.round(t.x)})}),this.contentRef=(t=>{this.contentEl=s.findDOMNode(t),this.contentEl&&this.ensureContentOnScreen()})}render(){const t=this.props.minWidth||200,n=this.props.maxHeight||"none",s={top:this.state.contentTop,left:this.state.contentLeft,maxHeight:n,minWidth:t,maxWidth:this.props.maxWidth},i=this.props.targetRect,h=i.left+i.width/2-e.ARROW_HEIGHT,a=i.bottom;return o.createElement("div",{className:`${c.root} ${this.props.className||""}`},!!this.props.showPoint&&o.createElement("div",{className:c.arrow,style:{left:h,top:a}}),o.createElement(r.dropdown.Dropdown,{className:c.content,style:s,ref:this.contentRef},this.props.children))}}d.displayName="PointingDropdown",e.PointingDropdown=d,d.defaultProps={showPoint:!0},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,l){t.exports={pointingDropdown:"multilevel_dropdown--pointingDropdown--2WXDP",submenu:"multilevel_dropdown--submenu--2IXt7",name:"multilevel_dropdown--name--1abLT ellipsis--ellipsis--1RWY6",rightColumn:"multilevel_dropdown--rightColumn--229nN",rightColumnShortcut:"multilevel_dropdown--rightColumnShortcut--1_lu1 multilevel_dropdown--rightColumn--229nN text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionDisabled:"multilevel_dropdown--optionDisabled--2ulbE multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",iconContainer:"multilevel_dropdown--iconContainer--dtBCs",highlight:"multilevel_dropdown--highlight--1lis7",option:"multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionActive:"multilevel_dropdown--optionActive--3iZDH multilevel_dropdown--option--1y5Jh dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",childCheckedIndicator:"multilevel_dropdown--childCheckedIndicator--tZM0p",noLeftPadding:"multilevel_dropdown--noLeftPadding--3TWPw"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g736f7540",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M11 8L5 4v8l6-4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(198         ),n=s(675                                                                     ),l=s(144                        ),p=s(143              ),a=s(388                                                    ),c=s(476                                                         ),r=s(676                                                            ),h=s(598                                                    ),m=s(599                                                      );t.highlightText=((e,t,s)=>{const i=t.split(/(0+)/).filter(e=>e);let n=[],l=0;for(let p of i){const t="1"===p[0],i=e.substr(l,p.length),a=t?s:"";n.push(o.createElement("span",{key:l,className:a},i)),l+=p.length}return o.createElement("span",null,n)});class u extends p.PureComponent{constructor(){super(...arguments),this.justClickedToOpen=!1,this.mountTimeout=null,this.onMouseUp=p.mouseEvent(this,"mouseup",e=>{this.justClickedToOpen?this.justClickedToOpen=!1:this.props.onSelect&&this.props.onSelect(e)}),this.onMouseEnter=p.mouseEvent(this,"mouseenter",e=>{this.justClickedToOpen&&(this.mouseEnterPos=new i.Vector(e.clientX,e.clientY)),this.props.onMouseEnter&&this.props.onMouseEnter(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.onMouseLeave=p.mouseEvent(this,"mouseleave",e=>{this.props.onMouseLeave&&this.props.onMouseLeave(e)}),this.onMouseMove=p.mouseEvent(this,"mousemove",e=>{if(this.justClickedToOpen&&this.mouseEnterPos){new i.Vector(e.clientX,e.clientY).distanceTo(this.mouseEnterPos)>5&&(this.justClickedToOpen=!1)}this.props.onMouseMove&&this.props.onMouseMove(e)},{recordMetadata:e=>({clientX:e.clientX,clientY:e.clientY}),playbackMetadata:e=>e}),this.stopPropagation=(e=>e.stopPropagation())}componentDidMount(){this.justClickedToOpen=!0,this.mountTimeout=setTimeout(()=>{this.justClickedToOpen=!1},1e3)}componentWillUnmount(){super.componentWillUnmount(),this.mountTimeout&&clearTimeout(this.mountTimeout)}render(){const e=this.props.item.displayText,s=this.props.item.highlightBitString?t.highlightText(e,this.props.item.highlightBitString,n.highlight):e;let i=n.option;this.props.item.disabled?i=n.optionDisabled:this.props.isActive&&(i=n.optionActive),this.props.showCheckmarkOffset&&(i+=` ${n.noLeftPadding}`);const p=this.props.item.isLocked&&!this.props.item.isChecked;return o.createElement("div",{className:i,onMouseUp:this.onMouseUp,onMouseEnter:this.onMouseEnter,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave,onClick:this.stopPropagation},!p&&this.props.showCheckmarkOffset&&o.createElement("div",{className:n.iconContainer},this.props.item.isChecked&&o.createElement(l.Svg,{svg:c}),this.props.item.isChildChecked&&o.createElement("div",{className:n.childCheckedIndicator})),p&&o.createElement("div",{className:n.iconContainer},o.createElement(a.SvgWithFallback,{svg:h,fallbackSvg:m})),this.props.item.icon,o.createElement("div",{className:n.name},s),!!this.props.item.children&&o.createElement(l.Svg,{svg:r,className:n.rightColumn}),this.props.item.displayRightCol&&o.createElement("span",{className:n.rightColumnShortcut},this.props.item.displayRightCol))}}u.displayName="MultilevelDropdownOption",t.MultilevelDropdownOption=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPointInPolygon=((t,e)=>{const{x:n,y:o}=t;let s=!1;for(let r=0,l=e.length-1;r<e.length;l=r++){const{x:t,y:c}=e[r],{x:i,y:u}=e[l];c>o!=u>o&&n<(i-t)*(o-c)/(u-c)+t&&(s=!s)}return s}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),n=i(38,1       ),o=i(232                        ),h=i(408                                  ),r=i(674                                                             ),p=i(675                                                                     ),l=i(677                                                                        ),c=i(678           ),a=i(198         ),d=i(142                        ),m=i(143              ),u=i(208                                           ),v=h.dropdown.Dropdown,I=h.dropdown.Separator,f=8,w=2*f,b=8,g=24,M=17;let S=!1;const y=[],C=e=>{y.push(e),y.length>3&&y.shift()};class x extends s.PureComponent{constructor(e){super(e),this.options=Object.create(null),this.getActiveItemAtDepth=(e=>0===e?null==this.state.activeItemIndex?null:this.visibleItems[this.state.activeItemIndex]:null!=this.state.activeItemIndex&&this.state.activeItemSubmenuShown&&this.childMenu?this.childMenu.getActiveItemAtDepth(e-1):null),this.pathToActivate=null,this.setActiveItemPath=(e=>{const t=e[this.props.depth],i=this.findVisibleItemIndexByName(t);if(-1!==i){const t=this.visibleItems[i];this.props.depth<e.length-1&&t.children&&(this.pathToActivate=e),this.setActiveOption(t,i,!0)}}),this.findVisibleItemIndexByName=(e=>{for(let t=0;t<this.visibleItems.length;t++){const i=this.visibleItems[t];if(i&&i.displayText===e)return t}return-1}),this.selectNextActiveItem=((e,t)=>{for(let i=void 0===t?0:t+1;i<e.length;i++){const t=e[i];if(this.isItemSelectable(t)){this.setActiveOption(t,i);break}}}),this.showSubmenu=(()=>{const e=null!==this.state.activeItemIndex&&this.visibleItems[this.state.activeItemIndex];e&&e.children&&e.children.length&&this.setState({activeItemSubmenuShown:!0})}),this.dismissMenu=(()=>{this.setState({activeItemSubmenuShown:!1})}),this.onKeyDownFromFullscreen=(e=>{e.accept(),this.onKeyDown(e.event)}),this.onKeyDown=(e=>{if(!this.state.activeItemSubmenuShown){this.props.onKeyDown&&this.props.onKeyDown(e);const t=this.props.depth>0;let i;switch(e.keyCode){case 13:e.preventDefault(),(i=null!==this.state.activeItemIndex&&this.visibleItems[this.state.activeItemIndex])&&(i.children?this.setState({activeItemSubmenuShown:!0}):(this.props.dispatch(o.fileBrowser.hideDropdown()),this.props.onSelectItem(i,e)));break;case 27:e.preventDefault(),this.props.showSearchItems&&this.props.onClearSearch?this.props.onClearSearch():t?this.props.onDismissMenu():this.props.dispatch(o.fileBrowser.hideDropdown());break;case 37:this.props.openSubmenuToTheLeft?this.showSubmenu():t&&this.props.onDismissMenu();break;case 39:this.props.openSubmenuToTheLeft?t&&this.props.onDismissMenu():this.showSubmenu();break;case 40:if(e.preventDefault(),null===this.state.activeItemIndex){const e=0,t=this.visibleItems[e];this.setActiveOption(t,e)}else this.state.activeItemIndex<this.visibleItems.length-1&&this.selectNextActiveItem(this.visibleItems,this.state.activeItemIndex);break;case 38:if(e.preventDefault(),null===this.state.activeItemIndex){const e=this.visibleItems.length-1,t=this.visibleItems[e];this.setActiveOption(t,e)}else if(this.state.activeItemIndex>0)for(let e=this.state.activeItemIndex-1;e>-1;e--){const t=this.visibleItems[e];if(this.isItemSelectable(t)){this.setActiveOption(t,e);break}}}}}),this.setActiveOption=((e,t,i)=>{const s=this.options[t],o=n.findDOMNode(s);o&&this.setState({activeItemIndex:t,activeItemClientRect:o.getBoundingClientRect(),activeItemSubmenuShown:e.children&&i})}),this.isRecordingOrPlayingBack=(()=>d.isRecording()||m.isRunningInteractionTests()),this.onMouseEnterItem=((e,t)=>i=>{!this.isRecordingOrPlayingBack()&&S?setTimeout(()=>{const i=this.options[t],s=n.findDOMNode(i);if(s&&y.length>0){const i=s.getBoundingClientRect(),n=y.slice(-1)[0];n.x>=i.left&&n.x<=i.right&&n.y>=i.top&&n.y<=i.bottom&&this.setActiveOption(e,t,!0)}},200):this.setActiveOption(e,t,!0)}),this.onMouseMoveItem=(e=>{const t=new a.Vector(e.clientX,e.clientY);C(t)}),this.onMouseLeaveItem=(e=>{if(this.state.activeItemSubmenuShown){const t=this.childMenu.getSubmenuDropdownEl();if(t){const i=t.getBoundingClientRect();if(i&&y.length>0){const t=this.props.openSubmenuToTheLeft?i.right:i.left,s=new a.Vector(t,i.top),n=new a.Vector(t,i.bottom),o=[y[0],s,n],h=new a.Vector(e.clientX,e.clientY);if(!this.isRecordingOrPlayingBack()&&c.isPointInPolygon(h,o))return void(S=!0)}}}S=!1}),this.onSelectItem=(e=>t=>{t.stopPropagation(),e.disabled||e.children||(this.props.dispatch(o.fileBrowser.hideDropdown()),this.props.onSelectItem(e,t))}),this.onClickMenu=(e=>{e.stopPropagation()}),this.onMouseOverMenu=(e=>{this.setState({activeItemIndex:null,activeItemClientRect:null,activeItemSubmenuShown:!1})}),this.isItemSelectable=(e=>e&&!e.disabled&&!e.separator),this.optionRef=((e,t)=>{this.options[e]=t}),this.childMenuRef=(e=>{this.childMenu=e,this.pathToActivate=null}),this.submenuDropdownRef=(e=>{this.submenuDropdownEl=e?n.findDOMNode(e):null}),this.getSubmenuDropdownEl=(()=>this.submenuDropdownEl),this.renderItem=((e,t,i)=>{if(!e)return;if(e.separator)return s.createElement(I,{key:t});const n=this.props.parentKey?`${this.props.parentKey}.`:"",o=`${this.props.recordingKey}.${n}${e.recordingKey}`;return s.createElement(l.MultilevelDropdownOption,{key:t,item:e,isActive:t===this.state.activeItemIndex,onSelect:this.onSelectItem(e),onMouseEnter:this.onMouseEnterItem(e,t),onMouseMove:this.onMouseMoveItem,onMouseLeave:this.onMouseLeaveItem,showCheckmarkOffset:i,recordingKey:o,ref:this.optionRef.bind(this,t)})}),this.filterVisibleItems=(e=>{this.props.isItemVisible&&(e=e.filter(this.props.isItemVisible));for(let t=0;t<e.length;)null==e[t]?e.splice(t,1):++t;for(let t=1;t<e.length;)e[t].separator&&e[t-1].separator?e.splice(t,1):++t;return e.length>0&&e[0].separator&&(e=e.slice(1)),e.length>0&&e.slice(-1)[0].separator&&(e=e.slice(0,-1)),e}),this.optionHeight=(e=>e.separator?M:g),this.optionsHeight=(e=>e.map(this.optionHeight).reduce((e,t)=>e+t,0)),this.optionsMaxHeight=(()=>{let e;return e=0===this.props.depth?this.rootMenuChildContentBottom:b+f,window.innerHeight-e-f}),this.getOverflowCutoffIndex=((e,t)=>{let i=g;for(let s=0;s<e.length;s++)if((i+=this.optionHeight(e[s]))>t)return s;return e.length}),this.nestOverflowItems=((e,t)=>{const i=this.getOverflowCutoffIndex(e,t);if(i<e.length){const t=e.slice(i),s={displayText:"More",children:t,disabled:!1,isChecked:!1,isChildChecked:t.some(e=>e.isChecked||e.isChildChecked)};return e.slice(0,i).concat(s)}return e}),this.renderOptions=(e=>{const t=e.some(e=>e&&(e.isChecked||e.isChildChecked||e.alwaysShowCheckMarkOffset||this.props.alwaysShowCheckMarkOffset));return e.map((e,i)=>this.renderItem(e,i,t))}),this.renderAsSubmenu=(e=>{e=this.filterVisibleItems(e);const t={};this.props.openSubmenuToTheLeft?t.right=window.innerWidth-this.props.parentRect.left:t.left=this.props.parentRect.right;const i=this.optionsMaxHeight();let n=this.optionsHeight(e)>i;n&&(e=this.nestOverflowItems(e,i));const o=this.optionsHeight(e)+w,h=this.props.parentRect.top-f;return h+o<window.innerHeight?t.top=h:t.top=Math.max(b,this.props.parentRect.bottom-o+f),this.visibleItems=e,s.createElement("div",null,s.createElement(v,{ref:this.submenuDropdownRef,className:p.submenu,key:"menu",onClick:this.onClickMenu,style:t},this.renderOptions(e)),this.renderChildMenu(e,n,this.props.openSubmenuToTheLeft))}),this.renderAsRootMenu=(e=>{e=this.filterVisibleItems(e);const t=this.optionsMaxHeight(),i=this.optionsHeight(e)>t;i&&(e=this.nestOverflowItems(e,t)),this.visibleItems=e;const n=this.props.openSubmenuToTheLeft||window.innerWidth-this.props.parentRect.right<this.props.parentRect.width;return s.createElement("div",null,s.createElement(r.PointingDropdown,{key:"pointing",targetRect:this.props.parentRect,className:p.pointingDropdown,showPoint:this.props.showPoint,minWidth:this.props.minWidth},s.createElement("div",{key:"child-container",onClick:this.onClickMenu,onMouseOver:this.onMouseOverMenu,ref:this.rootMenuChildContainerRef},this.props.children),this.renderOptions(e)),this.renderChildMenu(e,i,n))}),this.rootMenuChildContentBottom=0,this.rootMenuChildContainerRef=(e=>{e&&requestAnimationFrame(()=>{this.rootMenuChildContentBottom=e.getBoundingClientRect().bottom,this.forceUpdate()})}),this.renderChildMenu=((e,t,i)=>{if(this.state.activeItemSubmenuShown&&e[this.state.activeItemIndex]){const n=e[this.state.activeItemIndex],o=n.recordingKey,h=n.children;return s.createElement(x,Object.assign({},this.props,{key:`${this.props.depth}-${this.state.activeItemIndex}`,depth:this.props.depth+1,isOverflowMenu:t,items:h,onDismissMenu:this.dismissMenu,ref:this.childMenuRef,rootMenuTop:this.rootMenuTop,parentRect:this.state.activeItemClientRect,parentKey:o,activatePathOnMount:this.props.activatePathOnMount||this.pathToActivate,openSubmenuToTheLeft:i}))}}),this.state={activeItemIndex:null,activeItemClientRect:null,activeItemSubmenuShown:!1};const t=0===this.props.depth;this.rootMenuTop=t?this.props.parentRect?this.props.parentRect.top+this.props.parentRect.height:0:this.props.rootMenuTop}componentDidMount(){if(document.addEventListener("keydown",this.onKeyDown),0===this.props.depth||this.selectNextActiveItem(this.visibleItems),this.props.activatePathOnMount){const e=this.props.activatePathOnMount[this.props.depth],t=this.findVisibleItemIndexByName(e);-1!==t&&this.setActiveOption(this.visibleItems[t],t,!0)}}UNSAFE_componentWillReceiveProps(e){this.props.items&&e.items&&this.props.items.length===e.items.length||this.setState({activeItemSubmenuShown:!1})}componentDidUpdate(e){e.items!==this.props.items&&(this.props.showSearchItems?this.selectNextActiveItem(this.visibleItems,-1):e.showSearchItems&&this.setState({activeItemIndex:null}))}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),0===this.props.depth&&(y.length=0,S=!1)}render(){if(!this.props.items||0===this.props.items.length)return null;const e=this.props.depth>0;return s.createElement(u.KeyboardReceiver,{name:this.props.recordingKey,handleKeyDown:this.onKeyDownFromFullscreen,focusOnMount:!0},e?this.renderAsSubmenu(this.props.items):this.renderAsRootMenu(this.props.items))}}x.displayName="MultilevelDropdown",t.MultilevelDropdown=x,x.defaultProps={depth:0},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,u){n.exports={searchInput:"fullscreen_menu--searchInput--3VyR0",searchInputContainer:"fullscreen_menu--searchInputContainer--1gMlB",searchInputIcon:"fullscreen_menu--searchInputIcon--1RMPH",quickInput:"fullscreen_menu--quickInput--2Plyi",quickInputContainer:"fullscreen_menu--quickInputContainer--35Spc",backToFilesOption:"fullscreen_menu--backToFilesOption--iy-Yb"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=c(1426                               ),o=c(564            );class a{constructor(e,t){this._permanentCache=new o.LRUCache(e),this._temporaryCache=new o.LRUCache(t)}get(e,t,c){let o=`${e} ${t}`;if(c){const e=Object.keys(c);e.sort();for(let t of e)o+=` ${t}:${c[t]}`}const a=c?this._temporaryCache:this._permanentCache;return a.get(o)||a.set(o,o=>{"toggle-menu"!==e&&"toggle-quick-command"!==e||o.stopPropagation(),n.fullscreen.triggerAction(e,{source:t,args:c})}),a.get(o)}}t.ActionCallbackCache=a;t.actionCallbacks=new a(1e4,500),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:"g0df6baaf",src:'<svg width="11" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M6.453 7.16C5.776 7.687 4.924 8 4 8 1.79 8 0 6.21 0 4c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 .924-.314 1.776-.84 2.453l3.194 3.193-.708.707L6.453 7.16zM7 4c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g248d866d",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M5 5.71l3.646 3.647.707-.707-3.646-3.646 3.646-3.647L8.646.65 5 4.296 1.353.65l-.707.707 3.646 3.647L.646 8.65l.707.707L5 5.711z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),i=s(232                        ),n=s(141     ),a=s(672                                  ),o=s(281                                  ),l=s(408                                  ),p=s(144                        ),c=s(679                                                                 ),h=s(675                                                                     ),u=s(680                                                             ),d=s(561                     ),f=s(681                                        ),m=s(1426                               ),g=s(0                    ),y=s(176              ),w=s(143              ),v=s(285                                        ),I=s(286                                              ),S=s(602                                                             ),b=l.dropdown.Separator,M=l.dropdown.Option6,k=s(682                                    ),D=s(683                          ),O="preferences-menu";class _ extends w.PureComponent{constructor(){super(...arguments),this.onChange=w.changeEvent(this,"change",e=>{this.props.onChange&&this.props.onChange(e)})}render(){return r.createElement("div",{className:u.searchInputContainer,key:"search"},r.createElement("input",{className:u.searchInput,ref:this.props.setSearchInput,placeholder:"Search",onChange:this.onChange,value:this.props.searchQuery}),this.props.icon)}}_.displayName="FullscreenMenuSearch";class C extends r.PureComponent{constructor(e){super(e),this.searchMap=Object.create(null),this.searchMapKeys=[],this.multilevelDropdownRef=(e=>{this.multilevelDropdown=e}),this.focusSearchInput=(()=>{this.searchInput&&this.searchInput!==document.activeElement&&this.searchInput.focus()}),this.buildMapFromItem=(e=>{if(e&&!e.separator){if(e.flags){if(e.flags.indexOf("!ship")>-1)return;if(e.flags.indexOf("!desktop")>-1){if(y.desktopApp)return}else if(e.flags.indexOf("desktop")>-1&&!y.desktopApp)return;const t=this.props.appModel.userCanEdit||w.isRunningInteractionTests();if(e.flags.indexOf("!edit")>-1){if(t)return}else if(e.flags.indexOf("edit")>-1&&!t)return;if(e.flags.indexOf("drafts")>-1&&!m.fullscreen.isInDrafts())return}if((null==e.platforms||x(e.platforms))&&(!e.featureFlags||e.featureFlags.every(e=>g.initialOptions().feature_flags[e]))&&(!e.notFeatureFlags||!e.notFeatureFlags.some(e=>g.initialOptions().feature_flags[e])))if(e.children)for(let t of e.children)this.buildMapFromItem(t);else{const t=e.action||e.name,s=o.getStringWithSubstitutions(this.props.appModel.strings,t,e.args);this.searchMap[s]=e}}}),this.onSearchChange=(e=>{this.setState({searchQuery:e.currentTarget.value})}),this.clearSearchInput=(()=>{this.setState({searchQuery:""})}),this.performSearch=(e=>{if(!e)return void this.setState({searchResults:[]});const t=new d.FuzzyStringMatcher(e);if(!t.isValidQuery())return void this.clearSearchInput();const s=t.matchAgainst(this.searchMapKeys);let r=[];s.length&&(r=s.map(e=>{const t=Object.assign({},this.searchMap[e.text]);return t.highlight=e.highlight,t})),(r=r.filter(e=>e.name||o.isActionEnabled(this.props.appModel,e.action))).length||(r=[{name:"search-results-empty"}]),this.setState({searchResults:r})}),this.closeFullscreen=(()=>{this.props.dispatch(i.fullscreen.attemptClose())}),this.setSearchInput=(e=>{this.searchInput=e}),this.onKeyDown=(e=>{switch(e.keyCode){case 188:if(e.metaKey){e.preventDefault();const t=this.multilevelDropdown&&this.multilevelDropdown.getActiveItemAtDepth(0);t&&t.name&&t.name===O?this.props.dispatch(i.fileBrowser.hideDropdown()):(this.state.searchResults.length&&this.clearSearchInput(),this.selectPreferencesMenu())}break;case 191:e.metaKey&&(e.preventDefault(),this.props.dispatch(i.fileBrowser.hideDropdown()));break;case 220:e.metaKey&&(e.preventDefault(),this.props.dispatch(i.fileBrowser.hideDropdown()),f.actionCallbacks.get("toggle-ui","keyboard")(e))}}),this.selectPreferencesMenu=(()=>{this.multilevelDropdown&&this.multilevelDropdown.setActiveItemPath(this.getPathToPreferences())}),this.getPathToPreferences=(()=>[o.getString(this.props.appModel.strings,O)]),this.state={searchResults:[],searchQuery:""}}componentDidMount(){this.buildMapFromItem(a.getFullscreenMenuRoot()),this.searchMapKeys=Object.keys(this.searchMap),this.focusSearchInput()}componentDidUpdate(e,t){t.searchQuery!==this.state.searchQuery&&this.performSearch(this.state.searchQuery.trim()),this.focusSearchInput()}render(){const e=this.state.searchQuery?r.createElement(p.Svg,{className:u.searchInputIcon,svg:D,onClick:this.clearSearchInput}):r.createElement(p.Svg,{className:u.searchInputIcon,svg:k});const t=this.state.searchQuery&&this.state.searchResults.length?this.state.searchResults:a.getFullscreenMenuRoot().children;return r.createElement("div",null,r.createElement(F,Object.assign({recordingKey:"mainMenu",ref:this.multilevelDropdownRef,menuItems:t,onKeyDown:this.onKeyDown,onClearSearch:this.clearSearchInput,isSearching:!!this.state.searchResults.length,activatePathOnMount:this.props.dropdownShown.data.togglePreferences?this.getPathToPreferences():null,showPoint:this.props.appModel.showUi,targetRect:this.props.appModel.showUi?this.props.dropdownShown.data.targetRect:{top:0,left:0},alwaysShowCheckMarkOffset:!0},this.props),!y.desktopApp&&r.createElement(M,{key:"back-to-files",onClick:this.closeFullscreen,className:u.backToFilesOption},r.createElement("span",{className:h.name},"Back to Files")),!y.desktopApp&&r.createElement(b,{key:"back-to-files-separator"}),r.createElement(_,{onChange:this.onSearchChange,setSearchInput:this.setSearchInput,searchQuery:this.state.searchQuery,icon:e,recordingKey:"mainMenuSearchInput"}),!y.desktopApp&&r.createElement(b,{key:"search-separator"})))}}function x(e){for(const t of e){if("mac"===t&&n.mac)return!0;if("linux"===t&&n.linux)return!0;if("windows"===t&&n.windows)return!0}return!1}C.displayName="FullscreenMainMenu",t.FullscreenMainMenu=C;class F extends r.Component{constructor(){super(...arguments),this.multilevelDropdownRef=(e=>{this.multilevelDropdown=e}),this.getActiveItemAtDepth=(e=>{if(this.multilevelDropdown)return this.multilevelDropdown.getActiveItemAtDepth(e)}),this.setActiveItemPath=((e,t=0)=>{this.multilevelDropdown&&this.multilevelDropdown.setActiveItemPath(e)}),this.isItemVisible=(e=>{if(!e)return!1;if(e.flags){if(e.flags.indexOf("!ship")>-1)return!1;if(e.flags.indexOf("!desktop")>-1){if(y.desktopApp)return!1}else if(e.flags.indexOf("desktop")>-1&&!y.desktopApp)return!1;const t=this.props.appModel.userCanEdit||w.isRunningInteractionTests();if(e.flags.indexOf("!edit")>-1){if(t)return!1}else if(e.flags.indexOf("edit")>-1&&!t)return!1;if(e.flags.indexOf("drafts")>-1&&!m.fullscreen.isInDrafts())return}return!(!this.props.isSearching&&e.searchOnly)&&(!(null!=e.platforms&&!x(e.platforms))&&(!(e.featureFlags&&!e.featureFlags.every(e=>g.initialOptions().feature_flags[e]))&&(!e.notFeatureFlags||!e.notFeatureFlags.some(e=>g.initialOptions().feature_flags[e]))))}),this.onSelectItem=((e,t)=>{e.callback&&e.callback(e.action||e.name,e.args),e.action&&f.actionCallbacks.get(e.action,"menu",e.args)(t)}),this.convertToLayerMultilevelDropdownItem=(e=>{if(!e)return null;const t=this.props.sceneGraph.get(e.nodeId);if(!t)return null;const s=I.isDirectlySelected(this.props.sceneGraphSelection,e.nodeId);let i="INSTANCE"===t.type||"SYMBOL"===t.type;v.forEachAncestor(this.props.sceneGraph,e.nodeId,e=>{if(i=i||"INSTANCE"===e.type||"SYMBOL"===e.type)return"stop"});const n=Object.assign({},e);return n.displayText=t.name,n.displayRightCol="",n.highlightBitString="",n.disabled=!1,n.isChecked=s,n.isPurple=i,n.isLocked=t.locked&&!s,n.alwaysShowCheckMarkOffset=this.props.alwaysShowCheckMarkOffset,n.recordingKey=e.recordingKey||e.action,n.icon=r.createElement(S.LayerIcon,{guid:t.guid,type:t.type,mask:t.mask,resizeToFit:t.resizeToFit,scrollDirection:t.scrollDirection,booleanOperation:t.booleanOperation,cornerRadius:t.cornerRadius,objectsPanelThumbnailId:t.objectsPanelThumbnailId,isMenuIcon:!0,isMenuIconPurple:n.isPurple}),n}),this.convertToMultilevelDropdownItem=(e=>{if(!e)return null;if(e.separator){const t=Object.assign({},e);return t.disabled=!1,t.separator=!0,t}const t=e.disabled||!e.name&&!o.isActionEnabled(this.props.appModel,e.action);if(t&&this.props.removeDisabledItems)return null;if(e.nodeId)return this.convertToLayerMultilevelDropdownItem(e);const s=Object.assign({},e),r=e.action||e.name;return s.displayText=o.getStringWithSubstitutions(this.props.appModel.strings,r,e.args),this.props.removeDisabledItems&&s.displayText.indexOf(" Selection")>=0&&-1===s.displayText.indexOf("Group")&&-1===s.displayText.indexOf("Frame")&&(s.displayText=s.displayText.replace(" Selection","")),s.displayRightCol=o.getKeyboardShortcut(this.props.appModel.keyboardShortcuts,r),s.highlightBitString=this.props.isSearching&&e.highlight,s.disabled=t,s.isChecked=!0===e.checked||void 0!==e.propertyValue&&this.props.appModel[e.property]===e.propertyValue,s.alwaysShowCheckMarkOffset=this.props.alwaysShowCheckMarkOffset,e.children?s.children=e.children.map(e=>this.convertToMultilevelDropdownItem(e)):e.getChildren&&(s.children=e.getChildren().map(e=>this.convertToMultilevelDropdownItem(e))),s.recordingKey=e.recordingKey||e.action||e.name,s})}render(){const e=this.props.menuItems.map(this.convertToMultilevelDropdownItem);return r.createElement(c.MultilevelDropdown,Object.assign({ref:this.multilevelDropdownRef,items:e,onKeyDown:this.props.onKeyDown,isItemVisible:this.isItemVisible,onSelectItem:this.onSelectItem,onClearSearch:this.props.onClearSearch,showSearchItems:this.props.isSearching,parentRect:this.props.targetRect,activatePathOnMount:this.props.activatePathOnMount,recordingKey:this.props.recordingKey},this.props))}}F.displayName="FullscreenMultilevelDropdown",t.FullscreenMultilevelDropdown=F,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),o=s(684                                                         ),i=s(671                              ),a=s(177                             ),r=s(1426                               ),c=s(129                               );t.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU="DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU",t.DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU="DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU",t.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU="DROPDOWN_TYPE_SELECTION_CONTEXT_MENU",t.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU="DROPDOWN_TYPE_CANVAS_CONTEXT_MENU",t.DROPDOWN_TYPE_PAGE_CONTEXT_MENU="DROPDOWN_TYPE_PAGE_CONTEXT_MENU",t.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU="DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU";class p extends n.PureComponent{items(){return{children:[this.props.appModel.propertiesPanelTab===c.PropertiesPanelTab.PROTOTYPE?{action:"remove-connections-on-page",flags:["edit"]}:null,{action:"copy-as-menu",children:[{action:"copy-as-css"},{action:"copy-as-svg"},{action:"copy-as-png",flags:["desktop"]}]},{action:"toggle-ui"},{action:"toggle-quick-command",featureFlags:["quick_commands"]},{action:"toggle-menu"},...i.getPluginMenus(!1,"contextmenu")]}}render(){const e=this.props.clientX,t=this.props.clientY,s={width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10};return n.createElement("div",{className:`${a.PREVENT_EVENT_CAPTURE}`},n.createElement(o.FullscreenMultilevelDropdown,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:this.items().children,dispatch:this.props.dispatch,showPoint:!1,targetRect:s,removeDisabledItems:!0,recordingKey:"canvasMenu"}))}}p.displayName="CanvasContextMenu",t.CanvasContextMenu=p;class l extends n.PureComponent{contextMenu(e){return{children:[{action:"page-duplicate",args:{nodeId:e}},{action:"page-delete",args:{nodeId:e}},{action:"page-rename",args:{nodeId:e}},{action:"page-new"}]}}render(){const e=this.props.clientX,t=this.props.clientY,s={width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},i=this.contextMenu(this.props.nodeId);return n.createElement("div",{className:`${a.PREVENT_EVENT_CAPTURE}`},n.createElement(o.FullscreenMultilevelDropdown,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:i.children,dispatch:this.props.dispatch,showPoint:!1,targetRect:s,removeDisabledItems:!0,recordingKey:"pageMenu"}))}}l.displayName="PageContextMenu",t.PageContextMenu=l;class d extends n.PureComponent{savepointMenuItems(e,t,s){return{children:[{name:this.props.editName||"savepoint-edit",args:{versionId:e,checkpointKey:t},callback:s},{name:"savepoint-restore",args:{versionId:e,checkpointKey:t},callback:s},{name:"savepoint-duplicate",args:{versionId:e,checkpointKey:t},callback:s},{name:"savepoint-clear",args:{versionId:e,checkpointKey:t},callback:s,disabled:!this.props.enableClear}]}}render(){const e=this.props.clientX,t=this.props.clientY,s={width:10,height:10,left:e-5,top:t+7,right:e+5,bottom:t+17},i=this.savepointMenuItems(this.props.versionId,this.props.checkpointKey,this.props.callback);return n.createElement("div",{className:`${a.PREVENT_EVENT_CAPTURE}`},n.createElement(o.FullscreenMultilevelDropdown,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:i.children,dispatch:this.props.dispatch,showPoint:!0,targetRect:s,removeDisabledItems:!1,recordingKey:"savepointMenu"}))}}d.displayName="SavepointContextMenu",t.SavepointContextMenu=d,t.getObjectsListUnderCursor=((e,t)=>{return r.fullscreen.sendMessage("getObjectsListUnderCursor",{x:e,y:t}).args});class h extends n.PureComponent{constructor(e){super(e),this.getObjectsListMenu=((e,s)=>{const n=t.getObjectsListUnderCursor(e,s);if(null==n)return[];const o=[];for(let t of n)o.push({nodeId:t.nodeId,args:{nodeId:t.nodeId},action:"select-node"});return o}),this.getPageListForMoveToMenu=(()=>{const e=this.props.appModel.pagesList;if(!this.props.userCanEditFile||null==e||e.length<2)return[];const t=[];for(let s of e)s.nodeId!==this.props.appModel.currentPage&&t.push({name:s.name,args:{nodeId:s.nodeId,name:s.name},action:"page-move-to"});return t}),this.state={pageItems:[],objectItems:[]}}UNSAFE_componentWillMount(){this.setState({pageItems:this.getPageListForMoveToMenu(),objectItems:this.getObjectsListMenu(this.props.clientX,this.props.clientY)}),c.CustomFocusHelpers.setExpectingCopyCutEvent(!0)}componentWillUnmount(){c.CustomFocusHelpers.setExpectingCopyCutEvent(!1)}selectLayerMenu(){let e={children:[]};return!this.props.isObjectsPanelMenu&&this.state.objectItems.length>0&&(e.children=this.state.objectItems),e}contextMenu(){const e=!this.props.isObjectsPanelMenu&&this.state.objectItems.length>0,t=this.state.pageItems.length>=1,s=this.props.appModel.propertiesPanelTab===c.PropertiesPanelTab.PROTOTYPE?{action:"remove-connections-on-selection",flags:["edit"]}:null;return{children:[e&&{action:"select-node-menu",children:this.state.objectItems},t&&{action:"page-move-to-menu",flags:["edit"],children:this.state.pageItems},{separator:!0},{action:"bring-forward",flags:["edit"]},{action:"bring-to-front",flags:["edit"]},{action:"send-backward",flags:["edit"]},{action:"send-to-back",flags:["edit"]},{separator:!0},{action:"group-selection",flags:["edit"]},{action:"ungroup-selection",flags:["edit"]},{action:"frame-selection",flags:["edit"]},{action:"rename-selection",flags:["edit"]},{action:"flatten-selection",flags:["edit"]},{action:"outline-stroke",flags:["edit"]},{action:"mask-selection",flags:["edit"],property:"selectionIsMask",propertyValue:!0},{separator:!0},{action:"create-symbol",flags:["edit"]},{action:"find-symbol"},{action:"restore-symbol",flags:["edit"]},{action:"reset-symbol",flags:["edit"]},{action:"detach-instance",flags:["edit"]},...i.getPluginMenus(!1,"contextmenu"),s&&{separator:!0},s,{separator:!0},{action:"toggle-shown-for-selected-nodes",flags:["edit"]},{action:"toggle-locked-for-selected-nodes",flags:["edit"]},{separator:!0},{action:"flip-horizontal",flags:["edit"]},{action:"flip-vertical",flags:["edit"]},{separator:!0},{action:"copy-as-menu",children:[{action:"copy-text"},{action:"copy-as-css"},{action:"copy-as-svg"},{action:"copy-as-png",flags:["desktop"]}]},{action:"copy-properties"},{action:"paste-properties",flags:["edit"]}]}}render(){const e=this.props.clientX,t=this.props.clientY,s={width:10,height:10,left:e+100,top:t,right:e+110,bottom:t-10},i=this.props.isSelectLayerMenu?this.selectLayerMenu():this.contextMenu();return n.createElement("div",{className:`${a.PREVENT_EVENT_CAPTURE}`},n.createElement(o.FullscreenMultilevelDropdown,{appModel:this.props.appModel,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,menuItems:i.children,dispatch:this.props.dispatch,showPoint:!1,targetRect:s,removeDisabledItems:!0,recordingKey:"layerMenu"}))}}h.displayName="SelectionContextMenu",t.SelectionContextMenu=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,r){o.exports={scrollContainer:"objects_panel--scrollContainer--2bYEQ",scrollContainerWithBorder:"objects_panel--scrollContainerWithBorder--2qm9B objects_panel--scrollContainer--2bYEQ",rowContainer:"objects_panel--rowContainer--A7Umr",dropTargetBox:"objects_panel--dropTargetBox--3zk04",dropTargetLine:"objects_panel--dropTargetLine--2OPDQ"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,o,r){e.exports={perfHUDZ:1,prototypeHeader:1,sidePanelZ:2,topBarZ:2,mobileNavZ:2,mobileNavCloseZ:2,importDropTargetZ:3,fileFooterZ:4,layerAboveZ:2,hoverOutlineZ:3,dropTargetZ:4,fixedHeaderZ:5,fixedHeaderDropTargetZ:6,flyoutZ:7,scrollContainerZ:7,resizeTargetZ:8,headerRowZ:7,intercomZ:8,keyboardShortcutsPanelZ:9,modalZ:10,dragObjectZ:10,flashZ:11,visualBellZ:11,tooltipZ:12,stickyNotificationZ:13,dropdownZ:14,contextMenuZ:14,mainMenuZ:14,pageCoverZ:15},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(38,1       ),r=s(141     ),n=s(143              ),l=s(232                        ),a=s(1426                               ),c=s(474                               ),d=s(198         ),h=s(283         ),p=s(286                                              ),u=s(470               ),g=s(376                                                  ),T=s(602                      ),m=s(341                              ),f=s(199      ),G=s(283         ),w=s(603                  ),y=s(685                             ),E=s(517                                        ),S=s(140           ),D=s(689                      ),b=s(686                  ),v=s(687                                     ),R=s(219          ),H=new u.KeyRecycler;function k(e){return"object"===e.rowType?e.guid:e.sectionId}t.fixedChildrenCount=function(e,t){if(e.resizeToFit)return 0;const s=e.parent?t.get(e.parent):null,i=e.scrollDirection&&"NONE"!==e.scrollDirection,o=s&&"CANVAS"===s.type&&"FRAME"===e.type;if(!i&&!o)return 0;let r=0;for(let n of e.reversedChildren)"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===t.get(n).scrollBehavior&&r++;return r};class x extends n.PureComponent{constructor(e){super(e),this.state={scrollTop:0,mouseDown:null,dropTarget:null},this.cachedAllRowProps=[],this.topByGuid=Object.create(null),this.totalHeight=0,this.rangeSelectAnchorNodeId=null,this.initializeRows=(e=>{const t=w.buildAllRowPropsAndHeightInfo(e.sceneGraph,e.currentPage);this.topByGuid=t.topByGuid,this.sectionById=t.sectionById,this.totalHeight=t.totalHeight,this.cachedAllRowProps=t.rowProps}),this.justToggledExpandedGuid=null,this.anchorNodeId=null,this.topNodeDelta=null,this.lastCollapsedScrollPosition=null,this.scrollAfterNodeExpanded=!1,this.lastCollapsedGuid=null,this.onFullscreenScrollToNode=(({nodeId:e})=>{let t=this.topByGuid[e];if(null==t){const t=this.props.sceneGraph.get(e);return t&&m.expandUpToRoot(t.parent),void(this.scrollToNodeIdAfterUpdate=e)}this.isVisible(t,t+T.ROW_HEIGHT)||this.scrollNodeIntoView(e)}),this.recalculateLayout=(()=>{this.windowInnerHeight=window.innerHeight,this.recalculateRequested=!1}),this.recalculateRequested=!1,this.requestRecalculateLayout=(()=>{this.recalculateRequested||requestAnimationFrame(this.recalculateLayout)}),this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll=null,this.onScroll=(e=>{this.isScrolling=!0,this.nextScrollTop=e,null==this.frameRequest&&(this.frameRequest=requestAnimationFrame(this.setScrollTopState)),clearTimeout(this.scrollingTimeout),this.scrollingTimeout=setTimeout(this.doneScrolling,50)}),this.doneScrolling=(()=>{this.isScrolling=!1,this.scrollingTimeout=null,this.handleMouseEnterAfterScroll&&(this.handleMouseEnterAfterScroll(),this.handleMouseEnterAfterScroll=null)}),this.computeScrollDelta=(e=>{const t=e/T.ROW_HEIGHT;return T.ROW_HEIGHT*t*t}),this.isDragTarget=(e=>!0),this.onFileDragEnter=(e=>{}),this.onFileDragLeave=(e=>{}),this.onFileDrop=(e=>{}),this.setScrollTopState=(()=>{this.setState({scrollTop:this.nextScrollTop}),this.frameRequest=null}),this.isNodeSticky=(e=>e.parent===this.props.currentPage&&("SYMBOL"===e.type||"FRAME"===e.type&&!e.resizeToFit)),this.isAncestorSticky=(e=>{const t=this.props.sceneGraph;for(e=t.get(e.parent);e&&e.guid!==this.props.currentPage;){if(this.isNodeSticky(e))return!0;e=t.get(e.parent)}return!1}),this.stickyHeaderGuid=null,this.lastStickyHeaderGuid=null,this.lastExpansionTarget=null,this.findStickyHeaderRowAndReplaceInVisibleRows=(e=>{if(this.stickyHeaderGuid=null,(this.state.scrollTop>0||this.scrollAfterNodeExpanded)&&e.length>0){const t=this.state.scrollTop,s=(e,t,s)=>{if(null==e)return!1;if("object"!==e.rowType)return null;let i=this.findStickyHeader(e,t,s);if(i){const t=this.renderedVisibleRowProps.indexOf(e);t>=0?this.renderedVisibleRowProps[t]=i:this.renderedVisibleRowProps.push(i)}return!!i};let i,o,r,n;for(let l=0;l<e.length;l++)if(0===(n=e[l]).level){if(s(i,o,r=n.top))return;if(n.top>t)return;i=n,o=n.top}s(i,o,r=n.top+T.ROW_HEIGHT)}}),this.scrollNodeIntoView=(e=>{if(null==this.topByGuid[e])return;if(!this.scrollContainerEl)return;const t=this.topByGuid[e],s=this.state.scrollTop,i=this.scrollContainerEl.clientHeight;if(this.stickyHeaderGuid===e)return;const o=this.props.sceneGraph.get(e);if(!o)return;const r=this.isAncestorSticky(o);r&&t<s+T.ROW_HEIGHT?this.scrollContainer.scrollTo(t-T.ROW_HEIGHT):!r&&t<s?this.scrollContainer.scrollTo(t):t+T.ROW_HEIGHT>s+i&&this.scrollContainer.scrollTo(t-i/2)}),this.rowContextMenu=((e,t)=>{const s=this.props.sceneGraph.get(e);if(!s)return;p.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,s.guid)||(m.clearSelection(),m.addToSelection([s.guid]),a.fullscreen.commit());const{clientX:i,clientY:o}=t;this.props.dispatch(l.fileBrowser.showDropdown({type:y.DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU,data:{clientX:i,clientY:o}}))}),this.rowContainerMouseDown=n.mouseEvent(this,"mousedown",e=>{const t=this.guidAtMousePosition(e.clientY);if(!t)return;if(e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&!this.props.renamingGuid&&document.activeElement.blur(),f.isStandardShortcutKeyPressed(e))return void this.toggleSelected(t);let s=h.singleKey(this.props.sceneGraphSelection)||(p.isDirectlySelected(this.props.sceneGraphSelection,this.rangeSelectAnchorNodeId)?this.rangeSelectAnchorNodeId:null);if(e.shiftKey&&s)return m.selectNodesInRange(s,t),void a.fullscreen.commit();p.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,t)||(m.clearSelection(),m.addToSelection([t]),a.fullscreen.commit(),this.rangeSelectAnchorNodeId=t),this.setState({mouseDown:new d.Vector(e.clientX,e.clientY)})},{recordMetadata:e=>{const t=this.props.sceneGraph,s=this.guidAtMousePosition(e.clientY);return{path:D.guidToPathFromRoot(s,t)}},playbackMetadata:e=>{const t=this.topByGuid[D.pathFromRootToGuid(e.path,this.props.sceneGraph,this.props.currentPage)]+T.ROW_HEIGHT/2;return{clientY:this.clientY(t)}}}),this.onMouseMove=(e=>{if(this.state.mouseDown&&!this.props.renamingGuid){const t=this.relativeY(e.clientY),s=this.state.scrollTop,i=this.scrollContainerEl.clientHeight;if(i>0){if(t<s){const e=s-t;return void this.scrollContainer.scrollTo(s-this.computeScrollDelta(e))}if(t>s+i){const e=t-s-i;return void this.scrollContainer.scrollTo(s+this.computeScrollDelta(e))}}const o=D.findDropTarget(this.props.sceneGraph,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,t,this.mouseOverStickyHeaderGuid(e.clientY));this.expandDropTargetIfNeeded(o,t),this.setState({dropTarget:o})}}),this.onMouseUp=n.mouseEvent(this,"mouseup",e=>{let t=!1;if(this.state.mouseDown&&!this.props.renamingGuid)if(t=!0,this.state.mouseDown.distanceTo(new d.Vector(e.clientX,e.clientY))<5){if(!function(e){return"which"in e?3===e.which||S.mac&&1===e.which&&e.ctrlKey:"button"in e&&(2===e.button||S.mac&&0===e.button&&e.ctrlKey)}(e)){const t=this.guidAtMousePosition(e.clientY);m.clearSelection(),m.addToSelection([t]),a.fullscreen.commit()}}else if(!this.props.readonly){const t=D.findDropTarget(this.props.sceneGraph,this.props.sceneGraphSelection,this.topByGuid,this.sectionById,e.clientX-this.state.mouseDown.x,this.relativeY(e.clientY),this.mouseOverStickyHeaderGuid(e.clientY)),{parentGuid:s,index:i,section:o}=t,r=this.props.sceneGraph.get(s),n=e.altKey,l=r.reversedChildren.length-i;n?m.duplicateSelection(r.guid,l,o):m.reparentSelection(r.guid,l,o),m.expandUpToRoot(r.guid),m.clearTemporarilyExpanded(),a.fullscreen.commit()}if(this.setState({mouseDown:null,dropTarget:null}),this.isDraggingToToggle&&(t=!0,this.isDraggingToToggle=null,a.fullscreen.commit()),!t)return n.SKIP_RECORDING},{recordMetadata:e=>{const t=this.props.sceneGraph,s=this.guidAtMousePosition(e.clientY),i=this.relativeY(e.clientY),o=this.topByGuid[s];return{path:D.guidToPathFromRoot(s,t),treatAsEndOfClick:!!(this.state.mouseDown&&this.state.mouseDown.distanceTo(new d.Vector(e.clientX,e.clientY))<5),belowAll:i>o+T.ROW_HEIGHT}},playbackMetadata:e=>{if(e.treatAsEndOfClick)return{clientX:this.state.mouseDown.x,clientY:this.state.mouseDown.y};{let t=this.topByGuid[D.pathFromRootToGuid(e.path,this.props.sceneGraph,this.props.currentPage)]+T.ROW_HEIGHT/2;return e.belowAll&&(t+=T.ROW_HEIGHT),{clientY:this.clientY(t)}}}}),this.onScrollContainerMouseDown=(()=>{m.clearSelection(),a.fullscreen.commit()}),this.scrollContainerRef=(e=>{this.scrollContainer=e,this.scrollContainerEl=o.findDOMNode(e)}),this.containerMouseLeave=(e=>{m.setHoveredNode(null),clearTimeout(this.hoverToExpandGroupTimeout)}),this.expandMouseDown=((e,t)=>{const s=this.props.sceneGraph.get(e);s&&(t.stopPropagation(),R.segmentTrackEvent("objects_panel_expand"),t.altKey?m.setExpandedRecursive(s.guid,!s.isExpanded):f.isStandardShortcutKeyPressed(t)&&!G.isEmpty(this.props.sceneGraphSelection)?m.setSelectionExpanded(s.guid,!s.isExpanded):m.setIsExpanded(s.guid,!s.isExpanded),this.justToggledExpandedGuid=s.guid)}),this.isDraggingToToggle=null,this.lockMouseDown=((e,t)=>{const s=this.props.sceneGraph.get(e);s&&!this.props.readonly&&(t.stopPropagation(),this.isDraggingToToggle={locked:!s.locked},this.props.dispatch(l.objectsPanel.setLocked({guid:s.guid,locked:this.isDraggingToToggle.locked,recursive:t.altKey})))}),this.visibleMouseDown=((e,t)=>{const s=this.props.sceneGraph.get(e);s&&!this.props.readonly&&(t.stopPropagation(),this.isDraggingToToggle={visible:!s.visible},this.props.dispatch(l.objectsPanel.setVisible({guid:s.guid,visible:this.isDraggingToToggle.visible,recursive:t.altKey})))}),this.hoverToExpandGroupTimeout=null,this.rowMouseEnter=((e,t)=>{const s=this.props.sceneGraph.get(e);if(!s)return;const i=()=>{this.isDraggingToToggle&&(null!=this.isDraggingToToggle.locked&&this.props.dispatch(l.objectsPanel.setLocked({guid:s.guid,locked:this.isDraggingToToggle.locked})),null!=this.isDraggingToToggle.visible&&this.props.dispatch(l.objectsPanel.setVisible({guid:s.guid,visible:this.isDraggingToToggle.visible}))),this.state.mouseDown||m.setHoveredNode(s.guid)};r.firefox&&this.isScrolling?this.handleMouseEnterAfterScroll=i:i()}),this.onDragDrop=((e,t)=>{this.onMouseUp(t.nativeEvent)}),this.onDragOver=((e,t)=>{this.onMouseMove(t.nativeEvent)}),this.onDragEnter=((e,t)=>{this.onMouseMove(t.nativeEvent),this.rowMouseEnter(e,t)}),this.onDragLeave=((e,t)=>{this.onMouseMove(t.nativeEvent)}),this.renderedVisibleRowProps=[],this.recalculateLayout(),this.initializeRows(this.props)}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.requestRecalculateLayout),a.fullscreen.fromFullscreen.on("scrollToNode",this.onFullscreenScrollToNode)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),window.removeEventListener("resize",this.requestRecalculateLayout),a.fullscreen.fromFullscreen.removeListener("scrollToNode",this.onFullscreenScrollToNode)}UNSAFE_componentWillUpdate(e,t){if(e.renamingGuid&&e.renamingGuid!==this.props.renamingGuid&&(this.scrollToNodeIdAfterUpdate=e.renamingGuid),(this.props.sceneGraph!==e.sceneGraph&&this.props.objectsPanelRowRebuildCounter!==e.objectsPanelRowRebuildCounter||this.props.currentPage!==e.currentPage)&&this.initializeRows(e),this.anchorNodeId=null,this.topNodeDelta=0,this.props.sceneGraph!==e.sceneGraph)if(null!==this.justToggledExpandedGuid)this.justToggledExpandedGuid===this.stickyHeaderGuid?(this.lastCollapsedScrollPosition=this.state.scrollTop,this.lastCollapsedGuid=this.justToggledExpandedGuid,this.scrollToNodeIdAfterUpdate=this.stickyHeaderGuid):this.justToggledExpandedGuid===this.lastCollapsedGuid&&this.justToggledExpandedGuid===this.lastStickyHeaderGuid&&this.topByGuid[this.lastStickyHeaderGuid]===this.state.scrollTop&&(this.scrollAfterNodeExpanded=!0),this.justToggledExpandedGuid=null;else{let e=!1;for(let i of this.renderedVisibleRowProps)if("object"===i.rowType&&D.isRowWithinDistanceOfViewport(i,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop)&&this.props.sceneGraphSelection[i.guid]){e=!0;break}let t=null,s=null;for(let i of this.renderedVisibleRowProps){if("object"!==i.rowType)continue;if(!D.isRowWithinDistanceOfViewport(i,0,this.scrollContainer.getTrackHeight(),this.state.scrollTop))continue;(!e||!!this.props.sceneGraphSelection[i.guid])&&(null===t||t>i.top)&&(t=i.top,this.anchorNodeId=i.guid),(null===s||s>i.top)&&(s=i.top,this.topNodeDelta=this.topByGuid[i.guid]-i.top)}}}componentDidUpdate(e,t){if(super.componentDidUpdate(),this.scrollToNodeIdAfterUpdate)this.scrollNodeIntoView(this.scrollToNodeIdAfterUpdate),this.scrollToNodeIdAfterUpdate=null;else if(this.scrollAfterNodeExpanded)this.scrollContainer.scrollTo(this.lastCollapsedScrollPosition),this.scrollAfterNodeExpanded=!1,this.lastCollapsedScrollPosition=null,this.lastCollapsedGuid=null;else{const e=this.scrollContainer.getScrollTop()+this.topNodeDelta;let t=!1;for(let s of this.renderedVisibleRowProps)if("object"===s.rowType&&s.guid===this.anchorNodeId){t=D.isRowWithinDistanceOfViewport(s,0,this.scrollContainer.getTrackHeight(),e);break}t?this.scrollContainer.scrollTo(e):this.scrollNodeIntoView(this.anchorNodeId)}}findStickyHeader(e,t,s){const i=this.state.scrollTop,o=this.props.sceneGraph.get(e.guid);if(!o)return null;if(this.isNodeSticky(o)&&e.hasChildren&&(e.isExpanded||e.isTemporarilyExpanded)){if(t<i&&s>i+T.ROW_HEIGHT)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,Object.assign({},e,{fixed:!0});if(s>i&&s<=i+T.ROW_HEIGHT)return Object.assign({},e,{top:s-T.ROW_HEIGHT,layerAbove:!0});if(this.scrollAfterNodeExpanded&&e.guid===this.lastStickyHeaderGuid)return this.stickyHeaderGuid=e.guid,this.lastStickyHeaderGuid=this.stickyHeaderGuid,Object.assign({},e,{fixed:!0})}return null}expandDropTargetIfNeeded(e,t){let s=null;if(e&&"sticky"!==e.parentTop){const i=this.props.sceneGraph.get(e.parentGuid),o=t>e.parentTop+T.ROW_HEIGHT/3&&t<e.parentTop+2*T.ROW_HEIGHT/3;i.reversedChildren&&i.reversedChildren.length&&o&&(s=i.guid)}this.lastExpansionTarget!==s&&(this.lastExpansionTarget&&this.hoverToExpandGroupTimeout&&clearTimeout(this.hoverToExpandGroupTimeout),s&&(this.hoverToExpandGroupTimeout=setTimeout(()=>{this.state.mouseDown&&m.setIsTemporarilyExpanded(s,!0)},1e3)),this.lastExpansionTarget=s)}toggleSelected(e){this.props.sceneGraphSelection[e]?m.removeFromSelection([e]):(m.addToSelection([e]),this.rangeSelectAnchorNodeId=e),a.fullscreen.commit()}relativeY(e){let t=c.TOOLBAR_HEIGHT;return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e-t+this.state.scrollTop}clientY(e){let t=c.TOOLBAR_HEIGHT;return this.scrollContainerEl&&(t=this.scrollContainerEl.getBoundingClientRect().top),e+t-this.state.scrollTop}isVisible(e,t){if(!this.scrollContainerEl)return!0;let s=this.state.scrollTop,i=this.scrollContainerEl.getBoundingClientRect().height+this.state.scrollTop;return s<e&&t<i}guidAtMousePosition(e){const t=this.mouseOverStickyHeaderGuid(e);return t||D.guidAtPosition(this.props.sceneGraph,this.props.sceneGraphSelection,this.topByGuid,this.relativeY(e))}mouseOverStickyHeaderGuid(e){if(e-this.props.stickyOffset<T.ROW_HEIGHT)return this.stickyHeaderGuid}renderDropTarget(e){let t=null;null!=e.parentTop&&(t="sticky"===e.parentTop||this.stickyHeaderGuid===e.parentGuid?i.createElement("div",{key:"drop-target-box",className:b.dropTargetBox,style:{position:"fixed",top:this.props.stickyOffset,width:this.props.width,height:T.ROW_HEIGHT,zIndex:v.fixedHeaderDropTargetZ}}):i.createElement("div",{key:"drop-target-box",className:b.dropTargetBox,style:{transform:`translate3d(0px, ${e.parentTop}px, 0)`,height:T.ROW_HEIGHT}}));let s=null;return null!=e.lineTop&&(s=i.createElement("div",{key:"drop-target-line",className:b.dropTargetLine,style:{marginLeft:`${e.lineIndent?e.lineIndent:0}px`,transform:`translate3d(0px, ${0===e.lineTop?0:e.lineTop-1}px, 0)`,transition:"margin-left 150ms 0ms"}})),[t,s]}onContextMenu(e){e.stopPropagation(),e.preventDefault()}renderObjectRow(e,t){const s=t.getNode(e.guid);if(!s)return null;const o=t.getAncestorInfo(s.parent),r=t.getMaskInfo(e.guid);return i.createElement(T.ObjectRow,Object.assign({key:H.getKeyForId(e.guid),readonly:this.props.readonly},e,{isAncestorHidden:o.isAncestorHidden,isAncestorLocked:o.isAncestorLocked,isAncestorSelected:o.isAncestorSelected,isMaskedAtLevels:r.isMaskedAtLevels,isLastMaskedAtLevels:r.isLastMaskedAtLevels,width:this.props.width,name:s.name,nodeType:s.type,visible:s.visible,mask:s.mask,locked:s.locked,resizeToFit:s.resizeToFit,scrollDirection:s.scrollDirection,booleanOperation:s.booleanOperation,cornerRadius:s.cornerRadius,objectsPanelThumbnailId:s.objectsPanelThumbnailId,hasChildren:s.isExpandable||e.hasChildren,isExpanded:e.isExpanded||e.isTemporarilyExpanded,isHovered:this.props.hoveredNode===e.guid,isSelected:p.isDirectlySelected(this.props.sceneGraphSelection,e.guid),isRenaming:this.props.renamingGuid===e.guid,startRenaming:this.props.startRenaming,stopRenaming:this.props.stopRenaming,onContextMenu:this.rowContextMenu,expandMouseDown:this.expandMouseDown,lockMouseDown:this.lockMouseDown,visibleMouseDown:this.visibleMouseDown,onMouseEnter:this.rowMouseEnter,dispatch:this.props.dispatch,shouldShowGuids:this.props.shouldShowGuids,currentPage:this.props.currentPage,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragEnterCallback:this.onDragEnter,onDragLeaveCallback:this.onDragLeave,stickyOffset:this.props.stickyOffset}))}renderSectionHeader(e){const t=this.sectionById[e.sectionId]&&p.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,this.sectionById[e.sectionId].parentGuid);return i.createElement(T.SectionRow,Object.assign({key:H.getKeyForId(e.sectionId)},e,{width:this.props.width,isParentSelected:t,dispatch:this.props.dispatch}))}render(){const e=this.renderedVisibleRowProps,t=this.cachedAllRowProps||[];this.renderedVisibleRowProps=D.filterVisibleRows(t,this.windowInnerHeight,this.state.scrollTop),this.findStickyHeaderRowAndReplaceInVisibleRows(t);for(let i of e)D.shouldRenderRow(i,this.windowInnerHeight,this.state.scrollTop)||H.freeKeyForId(k(i));this.renderedVisibleRowProps.sort((e,t)=>H.getKeyForId(k(e))-H.getKeyForId(k(t)));const s=new w.NodeInfoCache(this.props.sceneGraph,this.props.sceneGraphSelection),o=[];for(let i of this.renderedVisibleRowProps)"object"===i.rowType?o.push(this.renderObjectRow(i,s)):o.push(this.renderSectionHeader(i));return!this.props.readonly&&this.state.dropTarget&&o.push(...this.renderDropTarget(this.state.dropTarget)),i.createElement(E.DragTarget,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onFileDragEnter,onTargetDragLeave:this.onFileDragLeave,onTargetDrop:this.onFileDrop},i.createElement(g.ScrollContainer,{recordingKey:n.joinKeys(this.props,"scrollContainer"),className:this.stickyHeaderGuid?b.scrollContainer:b.scrollContainerWithBorder,width:this.props.width,showScrollbar:!0,onScroll:this.onScroll,onMouseDown:this.onScrollContainerMouseDown,onContextMenu:this.onContextMenu,ref:this.scrollContainerRef},i.createElement("div",{className:b.rowContainer,style:{height:this.totalHeight||0},onMouseDown:this.rowContainerMouseDown,onMouseLeave:this.containerMouseLeave},o)))}}x.displayName="ObjectsPanelView",t.ObjectsPanelView=x,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const n=t(285                                        ),i=t(286                                              ),o=t(495          ),d=t(688              ),l=t(602                      ),u=t(129                               );function c(e,r,t,n){return e.top+l.ROW_HEIGHT>n-r&&e.top<n+t+r||!!e.fixed}function s(e){return e/2}function f(e){return"DOCUMENT"===e||"CANVAS"===e||"GROUP"===e||"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e||"BOOLEAN_OPERATION"===e}function a(e,r){const t=e.get(r);if(!(t.isExpanded||t.isTemporarilyExpanded)||0===t.reversedChildren.length)return l.ROW_HEIGHT;let n=l.ROW_HEIGHT;d.fixedChildrenCount(t,e)>0&&(n+=2*l.SECTION_ROW_HEIGHT);for(let i of t.reversedChildren)n+=a(e,i);return n}function p(e,r,t,n,o=!1){let d=null,u=null,c=null;for(let i in t){const e=t[i],r=e+l.ROW_HEIGHT;if(n>=e&&n<=r){d=i;break}(!u||t[i]<t[u])&&(u=i),(!c||t[i]>t[c])&&(c=i)}return d||(n<t[u]?d=u:n>t[c]+l.ROW_HEIGHT&&(d=c)),d&&o&&i.isSelected(e,r,d)?i.directlySelectedAncestor(e,r,d).guid:d}function h(e,r){let t=null;for(let n in e){const i=e[n];r>=i.top&&r<i.top+i.height&&(!t||i.top>t.top)&&(t=i)}return t}r.isRowWithinDistanceOfViewport=c,r.shouldRenderRow=function(e,r,t){return c(e,s(r),r,t)},r.filterVisibleRows=function(e,r,t){if(!e.length)return[];const n=r=>{let t,n,i=e.length,o=0,d=i-1;if(r<=0)return 0;if(r>=e[i-1].top+l.ROW_HEIGHT)return i-1;for(;o<=d;)if((n=e[t=(o+d)/2|0]).top+l.ROW_HEIGHT<r)o=t+1;else{if(!(n.top>r))return t;d=t-1}return t},i=s(r),o=t+r+i,d=n(t-i),u=n(o);return e.slice(d,u+1)},r.isNodeTypeInFrame=function(e){return"FRAME"===e||"SYMBOL"===e||"INSTANCE"===e},r.subtreeHeight=a,r.guidToPathFromRoot=function(e,r){const t=[];let n=r.get(e);for(;"CANVAS"!==n.type;){const e=n.guid,i=(n=r.get(n.parent)).reversedChildren.indexOf(e);t.push(i)}return t.reverse(),t},r.pathFromRootToGuid=function(e,r,t){return e.reduce((e,t)=>r.get(e.reversedChildren[t]),r.get(t)).guid},r.guidAtPosition=p,r.sectionIdAtPosition=h;const g=16;function C(e,r){if("CANVAS"===r.parent.type||"DOCUMENT"===r.parent.type)return r;if(!(r.index===r.parent.reversedChildren.length))return r;if(r.section===u.ScrollBehavior.FIXED)return r;let t=n.getParent(e,r.parent.guid),i=t.reversedChildren.indexOf(r.parent.guid);return{parent:t,index:i+1,section:i<d.fixedChildrenCount(t,e)?u.ScrollBehavior.FIXED:u.ScrollBehavior.SCROLLS}}function S(e,r){if(0===r.index)return r;const t=e.get(r.parent.reversedChildren[r.index-1]);return f(t.type)?r.index===d.fixedChildrenCount(r.parent,e)?r:!t.isExpanded&&!t.isTemporarilyExpanded&&t.reversedChildren.length>0?r:{parent:t,index:t.reversedChildren.length,section:u.ScrollBehavior.SCROLLS}:r}const E=o.memoizeLast((e,r)=>{let t=1/0;return i.forEachDirectlySelectedNode(e,r,r=>{r&&(t=Math.min(t,n.countParents(e,r.guid)))}),t===1/0&&(t=0),t});function O(e,r,t,i,o,c,s){const f=i>0?Math.floor(i/g):Math.ceil(i/g),p=E(e,r)+f,h=c<o.reversedChildren.length?t[o.reversedChildren[c]]+("before"===s?0:l.ROW_HEIGHT):t[o.guid]+a(e,o.guid);let O={parent:o,index:c+("before"===s?0:1),section:c<d.fixedChildrenCount(o,e)?u.ScrollBehavior.FIXED:u.ScrollBehavior.SCROLLS},x=n.countParents(e,o.guid)+1;for(;x>p;){const r=C(e,O);if(r===O)break;O=r,x--}for(;x<p;){const r=S(e,O);if(r===O)break;O=r,x++}const T=O.parent.guid;return{parentGuid:T,index:O.index,section:O.section,parentTop:t[T],lineTop:h,lineIndent:x*g}}function x(e,r,t,o,c,s){if(!o)return null;const p=t[o],h=e.get(o),g=n.getParent(e,o),C=g.reversedChildren.indexOf(o),S=f(h.type),E=(n,i,o)=>O(e,r,t,c,n,i,o);if(S&&i.isDirectlySelected(r,o)){return E(g,C,s>p+a(e,o)/2?"after":"before")}if(S){if(s<p+l.ROW_HEIGHT/3)return E(g,C,"before");if(s<p+2*l.ROW_HEIGHT/3){const r=e.get(o);return r?{parentGuid:o,index:d.fixedChildrenCount(r,e),section:u.ScrollBehavior.SCROLLS,parentTop:p}:null}return e.get(o).isExpanded||e.get(o).isTemporarilyExpanded?E(h,0,"before"):E(g,C,"after")}if(s>p+l.ROW_HEIGHT){let r=h;for(;"CANVAS"!==r.type;)r=e.get(r.parent);return E(r,r.reversedChildren.length,"before")}return E(g,C,s>p+l.ROW_HEIGHT/2?"after":"before")}r.findDropTarget=function(e,r,t,n,o,l,c){if(c){const r=e.get(c);return r?{parentGuid:c,index:d.fixedChildrenCount(r,e),section:u.ScrollBehavior.SCROLLS,parentTop:"sticky"}:null}{const c=h(n,l),s=p(e,r,t,l,!0);let f=null;return(f=!s&&c?function(e,r,t,n,o,l){if(i.isSelected(e,r,n.parentGuid))return x(e,r,t,i.directlySelectedAncestor(e,r,n.parentGuid).guid,o,l);{const i=e.get(n.parentGuid);return O(e,r,t,o,i,n.type===u.ScrollBehavior.FIXED?0:d.fixedChildrenCount(i,e),"before")}}(e,r,t,c,o,l):x(e,r,t,s,o,l))&&c&&c.parentGuid===f.parentGuid&&(f.section=c.type),f}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={margin12:"component_tiles--margin12--22t3w",stickySectionHeader:"component_tiles--stickySectionHeader--3i5QD ellipsis--ellipsis--1RWY6",sectionHeader:"component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",subSectionHeader:"component_tiles--subSectionHeader--2uVsN component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",componentContainer:"component_tiles--componentContainer--3fJUP",section:"component_tiles--section--2WHrl",margin24:"component_tiles--margin24--s6TYe",stickySection:"component_tiles--stickySection--rqC96",draggingThumb:"component_tiles--draggingThumb--1c_L8",contextMenu:"component_tiles--contextMenu--3OVMD",stickySectionPage:"component_tiles--stickySectionPage--UcOwD component_tiles--stickySection--rqC96",expandingSectionHeader:"component_tiles--expandingSectionHeader--3Qonr component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",expandCaret:"component_tiles--expandCaret--3jdRX object_row--expandCaret--3nMet object_row--indent--2n1Cf",tallSectionHeader:"component_tiles--tallSectionHeader--2w5hs component_tiles--sectionHeader--10N5o ellipsis--ellipsis--1RWY6",expandCaretOpen:"component_tiles--expandCaretOpen--1org1 component_tiles--expandCaret--3jdRX object_row--expandCaret--3nMet object_row--indent--2n1Cf",sectionHeaderText:"component_tiles--sectionHeaderText--Q4whg ellipsis--ellipsis--1RWY6",expandedSection:"component_tiles--expandedSection--2nwRO"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),s=n(232                        ),i=n(1430                                             ),a=n(1432                                       ),r=n(174          ),p=n(143              ),l=n(142                        ),c=n(143              ),d=n(1426                               ),m=n(129                               ),h=n(563                                ),u=n(1427                      ),g=n(172                     ),y=n(336                           ),f=n(1471                    ),b=n(286                                              ),S=n(689                                                             ),_=n(198         ),C=n(370              ),w=n(341                              ),E=n(1417                       ),M=n(549               ),v=n(408                                  ),N=v.dropdown.Dropdown,P=v.dropdown.Option,x=n(144                        ),T=n(690                    ),I=n(545                                  ),O=n(96         ),L=n(279         ),k=n(556                                       ),D=n(566                                        ),F=C.pxToInt(I.tileMargin);class K extends o.Component{render(){let e=new Map,t=new Map;this.props.componentList.forEach(n=>{let o=n.containing_frame||{},s=o.pageId||"NO_PAGE",i=o.pageName||"";t.set(s,i);let a=e.get(s);a?a.push(n):e.set(s,[n])});const n=Array.from(e.keys()).sort((e,n)=>L.compareStringsNaturally(t.get(e),t.get(n))),s=n.length>1;return o.createElement("div",null,n.map(n=>{const i=e.get(n),a=t.get(n),r=s&&!!a;return o.createElement(G,{className:r?T.stickySectionPage:T.stickySection,key:n,showTitle:r,headerText:a,inModal:this.props.inModal},o.createElement(B,Object.assign({},this.props,{componentList:i})))}))}}K.displayName="ComponentTilesByPage",t.ComponentTilesByPage=K;class G extends o.PureComponent{render(){return o.createElement("div",{className:`${this.props.inModal?T.margin24:T.margin12} ${this.props.className||T.stickySection}`},this.props.showTitle&&o.createElement("div",{className:T.stickySectionHeader},this.props.headerText),this.props.children)}}G.displayName="StickySection",t.StickySection=G;class B extends o.PureComponent{render(){const e={},t=[];for(const o of this.props.componentList){const n=o.containing_frame;n&&n.nodeId&&n.nodeId!==o.node_id?(e[n.nodeId]=e[n.nodeId]||[],e[n.nodeId].push(o)):t.push(o)}O.sortAlphabeticallyByProperty(t,"name");const n=Object.keys(e);return n.sort((t,n)=>{const o=e[t][0].containing_frame.name,s=e[n][0].containing_frame.name;return(o&&o.toLowerCase())<(s&&s.toLowerCase())?-1:1}),o.createElement("div",{className:this.props.inModal?T.margin24:T.margin12},t.length>0&&o.createElement($,Object.assign({},this.props,{componentList:t})),n.map(t=>{const n=e[t];return O.sortAlphabeticallyByProperty(n,"name"),o.createElement(R,{key:t,title:n[0].containing_frame.name,localStorageKey:`${n[0].file_key}-${t}`,canCollapseSections:this.props.canCollapseSections,inModal:this.props.inModal},o.createElement($,Object.assign({},this.props,{componentList:n})))}))}}B.displayName="ComponentTilesByFrame",t.ComponentTilesByFrame=B;class R extends o.Component{constructor(e){super(e),this.localStorageKey=(()=>`library-section-expanded-${this.props.localStorageKey}`),this.toggleExpanded=(()=>{const e=!this.state.expanded;null!==r.localStorageOrNull&&r.localStorageOrNull.setItem(this.localStorageKey(),JSON.stringify(e)),this.setState({expanded:e})});let t=null;try{t=JSON.parse(r.localStorageOrNull.getItem(this.localStorageKey()))}catch(n){}this.state={expanded:null!=t&&!!t}}render(){return this.props.canCollapseSections?o.createElement("div",{className:T.section},o.createElement("div",{className:T.expandingSectionHeader,onMouseDown:this.toggleExpanded},o.createElement(x.Svg,{key:"expand-caret",className:this.state.expanded?T.expandCaretOpen:T.expandCaret,svg:this.state.expanded?k:D}),o.createElement("div",{className:T.sectionHeaderText},this.props.title)),this.state.expanded&&o.createElement("div",{className:T.expandedSection},this.props.children)):o.createElement(U,Object.assign({},this.props))}}R.displayName="ExpandingLibrarySection",t.ExpandingLibrarySection=R;class U extends o.Component{render(){return o.createElement("div",{className:T.section},o.createElement("div",{className:this.props.inModal?T.tallSectionHeader:T.sectionHeader},this.props.title),this.props.children)}}U.displayName="LibrarySection",t.LibrarySection=U;class V extends o.Component{render(){return o.createElement("div",{className:T.section},o.createElement("div",{className:T.subSectionHeader},this.props.title),this.props.children)}}V.displayName="LibrarySubSection",t.LibrarySubSection=V;const A=(e,t)=>{const n=Math.floor(e/100);return(e+2-(n-1)*F-2*t)/n};class $ extends p.Component{constructor(e){super(e),this.thumbSize=(()=>A(this.props.width,this.props.inModal?24:12)),this.thumbImage=null,this.onComponentMouseDown=((e,t)=>{if(2===e.button||e.ctrlKey)return;e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),this.isClick=!0,u.componentSceneGraphCache.get(t),this.setState({draggingComponent:t}),document.addEventListener("mouseup",this.onDocumentMouseUp);const n=e.currentTarget.getBoundingClientRect(),o=new _.Vector(n.left,n.top),s=new _.Vector(e.clientX,e.clientY);this.thumbImage=new Image,this.thumbImage.src=t.thumbnail_url,this.thumbImage.onload=(()=>{const e=this.thumbSize(),t=e-2*M.THUMB_PADDING;let n,i,a=this.thumbImage.naturalWidth/2,r=this.thumbImage.naturalHeight/2;a>r?i=(n=Math.min(a,t))*(r/a):n=(i=Math.min(r,t))*(a/r);const p=new _.Vector(e/2-n/2,e/2-i/2),l=s.subtract(o),c=new _.Vector((l.x-p.x)/n,(l.y-p.y)/i);this.state.draggingComponent&&this.setState({dragOffset:l,componentMousePercentageOffset:c}),document.addEventListener("mousemove",this.onDocumentMouseMove)})}),this.onDocumentMouseMove=p.mouseEvent(this,"mousemove",e=>{const t=new _.Vector(e.clientX,e.clientY);this.state.dragPosition&&this.state.dragPosition.distanceTo(t)>5&&(this.isClick=!1),this.setState({dragPosition:t})},{recordMetadata:e=>{const t=d.fullscreen.getViewportInfo(),n=new _.Vector(t.x,t.y),o=new _.Vector(e.clientX,e.clientY).subtract(n);return{canvasPosition:h.viewportPositionToCanvas(t,o)}},playbackMetadata:e=>{const t=d.fullscreen.getViewportInfo(),n=new _.Vector(t.x,t.y),o=h.canvasPositionToViewport(t,e.canvasPosition),s=_.Vector.add(o,n);return{clientX:s.x,clientY:s.y}}}),this.onDocumentMouseUp=p.mouseEvent(this,"mouseup",e=>{const t=e.target,n=this.state.draggingComponent;if(this.thumbImage.onload=null,this.isClick){if(this.props.sceneGraphSelection&&n){const t=n.node_id;e.shiftKey||e.metaKey?b.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,t)?w.removeFromSelection([t]):w.addToSelection([t]):(w.clearSelection(),w.setCurrentPageFromNode(t),w.addToSelection([t])),d.fullscreen.commit()}}else if(n&&("canvas"===t.tagName.toLowerCase()||t.getAttribute("data-allow-component-drop")||y.isMacDebugApp&&t.getAttribute("data-forward-events-to-fullscreen"))){const e=d.fullscreen.getViewportInfo(),t=new _.Vector(e.x,e.y),o=this.state.dragPosition.subtract(t),s=h.viewportPositionToCanvas(e,o);this.props.dispatch(i.insertSharedComponent({component:n,canvasPosition:s,percentageOffset:this.state.componentMousePercentageOffset,insertAsChildOfCanvas:!1}))}document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.setState({draggingComponent:null,dragPosition:null})},{recordMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,targetTagName:e.target.tagName.toLowerCase()}),playbackMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,target:{tagName:e.targetTagName}})}),this.onContextMenu=((e,t)=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(s.fileBrowser.showDropdown({type:$.CONTEXT_MENU_ID,data:{component:e,position:{top:t.clientY,left:t.clientX}}})),this.props.sceneGraphSelection&&!b.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.node_id)&&(w.clearSelection(),w.setCurrentPageFromNode(e.node_id),w.addToSelection([e.node_id]),d.fullscreen.commit())}),this.state={draggingComponent:null,dragPosition:null,dragOffset:null,componentMousePercentageOffset:null}}componentDidUpdate(e,t){super.componentDidUpdate(e,t);const n=!!t.draggingComponent,o=!!this.state.draggingComponent;d.fullscreen.isReady()&&n!==o&&m.Fullscreen.setIsDraggingInstanceFromSidebar(o)}render(){let e=this.thumbSize(),t=null,n=!1;this.props.dropdownShown&&this.props.dropdownShown.type===$.CONTEXT_MENU_ID&&(t=this.props.dropdownShown.data.component);const s=[],i=[];if(this.props.isShowingLocalLibraryItems)for(const a of this.props.componentList){let i="";(l.isRecording()||c.isRunningInteractionTests())&&(i=S.guidToPathFromRoot(a.node_id,this.props.sceneGraph).join("-"));const r=t&&t.node_id===a.node_id;n=n||r,s.push(o.createElement(M.LocalLibraryItemTile,{key:`${a.file_key}.${a.node_id}`,component:a,size:e,onComponentMouseDown:this.onComponentMouseDown,onContextMenu:this.onContextMenu.bind(this,a),selected:!!this.props.sceneGraphSelection&&b.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,a.node_id),showUpdateBadge:this.props.isFilePublished,contextMenuShown:r,isFilePublished:this.props.isFilePublished,recordingNodePath:i}))}else for(const a of this.props.componentList){let s="";(l.isRecording()||c.isRunningInteractionTests())&&(s=S.guidToPathFromRoot(a.node_id,this.props.sceneGraph).join("-"));const r=t&&t.node_id===a.node_id;n=n||r,i.push(o.createElement(M.ComponentTile,{key:`${a.file_key}.${a.node_id}`,component:a,showName:!0,size:e,onComponentMouseDown:this.onComponentMouseDown,onContextMenu:this.onContextMenu.bind(this,a),contextMenuShown:r,recordingNodePath:s}))}return o.createElement("div",{className:`${this.props.inModal?T.margin24:T.margin12} ${this.props.className?this.props.className:""}`},o.createElement("div",{className:T.componentContainer},s,i),o.createElement(H,Object.assign({},this.state,{containerWidth:this.props.width,containerMarginSize:this.props.inModal?24:12})),n&&o.createElement(j,Object.assign({},this.props)))}}$.displayName="ComponentTiles",$.CONTEXT_MENU_ID="shared-component-library-component-context-menu",t.ComponentTiles=$;class j extends o.PureComponent{constructor(){super(...arguments),this.publishSelection=(()=>{this.props.dispatch(a.publishSelected())}),this.upsell=(()=>{const e=f.getEditingFile(this.props),t=this.props.teams[e.team_id];this.props.dispatch(s.fileBrowser.showModal({type:E.AppModal.PUBLISH_COMPONENTS_UPSELL_MODAL,data:{team:t,afterFileMove:this.publishSelection}}))})}render(){let e=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===$.CONTEXT_MENU_ID&&(e=this.props.dropdownShown.data.component),!e)return null;const t=f.getEditingFile(this.props);if(!t)return null;const n=this.props.fileByKey[e.file_key],s=n.key===t.key;if(s&&!this.props.isFilePublished&&!this.props.numToPublishInitially)return null;const i=this.props.teams[t.team_id],a=g.canAccessProFeature(i),r=e.isPublishable;return o.createElement(N,{className:T.contextMenu,style:this.props.dropdownShown.data.position},s&&this.props.isFilePublished&&o.createElement(P,{onClick:()=>{d.fullscreen.updateSelectionProperties({isSymbolPublishable:!e.isPublishable})}},r?"Remove from library":"Add to library"),s&&!this.props.isFilePublished&&this.props.numToPublishInitially>0&&o.createElement(P,{onClick:a?this.publishSelection:this.upsell},"Publish ",this.props.numToPublishInitially," ",1===this.props.numToPublishInitially?" component":" components"),!s&&o.createElement(P,{href:`${n.url}?node-id=${encodeURIComponent(e.node_id)}`,target:"_blank"},"Go to Master Component"))}}j.displayName="ComponentTileContextMenu";class H extends o.PureComponent{render(){if(this.props.draggingComponent&&this.props.dragPosition){const e=this.props.dragPosition.subtract(this.props.dragOffset);return o.createElement(M.ComponentTile,{className:T.draggingThumb,component:this.props.draggingComponent,size:A(this.props.containerWidth,this.props.containerMarginSize),style:{top:e.y,left:e.x},showName:!1,noBackground:!0})}return o.createElement("div",null)}}H.displayName="DraggingComponent",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){t.exports={selectedTab:"tab--selectedTab--1TofA text--titleText--10C29",tab:"tab--tab--1Qdhq tab--selectedTab--1TofA text--titleText--10C29",disabledTab:"tab--disabledTab--2p5-b tab--tab--1Qdhq tab--selectedTab--1TofA text--titleText--10C29"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(34,1   ),o=t(143              ),r=t(692        );class c extends o.Component{constructor(){super(...arguments),this.onClick=o.mouseEvent(this,"click",()=>{this.props.onClick&&this.props.onClick(this.props.tab)})}render(){let e=r.tab;return this.props.disabled?e=r.disabledTab:this.props.selectedTab===this.props.tab&&(e=r.selectedTab),i.createElement("div",{className:e,onClick:this.onClick},this.props.children)}}c.displayName="Tab",s.Tab=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(371                       ),i=s(96         ),r=s(281                                  ),l=s(374                            ),o=s(174          ),a=s(1427                      );var c;t.SIDEBAR_TILES_CONTEXT_MENU_ID="sidebar-visitable-tiles-context-menu",t.componentsAllOnePageAndNoFrames=function(e){if(!e.length)return!0;let t=e[0].containing_frame;for(let s of e)if(!r.componentContainersEqual(t,s.containing_frame))return!1;return!0},t.getLocalLibraryItemsInfo=function(e){const t=a.sortedLibraryItemsForFile(e),s=[],i=[],r=[];let l=0,o=0;for(let a of t)a.deletedFromSceneGraph||(s.push(a),a.status===n.LibraryStatus.NOT_STAGED||a.status===n.LibraryStatus.DELETED?r.push(a):i.push(a)),a.status!==n.LibraryStatus.CURRENT&&a.status!==n.LibraryStatus.NOT_STAGED&&l++,a.status!==n.LibraryStatus.CURRENT&&a.status!==n.LibraryStatus.CHANGED&&a.status!==n.LibraryStatus.DELETED&&a.status!==n.LibraryStatus.CAN_UPGRADE||o++;return{allItems:s,publishedItems:i,privateItems:r,numUpdates:l,numPublished:o}},t.getSubscribedComponentsInfo=function(e,t,s){const n=e.published.components,r=Object.create(null),o=[];for(const i in n){const a=n[i];for(let n in a){const i=s[n];if(l.isFileSubscribedTo(e,s[t],i)){o.push(n);const e=[];for(let t in a[n])e.push(a[n][t]);r[n]=e}}}const a=o.map(e=>s[e]);return i.sortAlphabeticallyByProperty(a,"name"),{fileKeyToSubscribedItems:r,subscribedFiles:a}},function(e){e[e.STICKY_ROW=0]="STICKY_ROW",e[e.EXPANDABLE_ROW=1]="EXPANDABLE_ROW",e[e.ROW=2]="ROW",e[e.TILE=3]="TILE"}(c=t.RenderedItemType||(t.RenderedItemType={}));class u{constructor(e){this.allElements=[],this.localStorageKey=(e=>`library-section-expanded-${e}`),this.setExpandKey=((e,t)=>{null!==o.localStorageOrNull&&o.localStorageOrNull.setItem(this.localStorageKey(e),JSON.stringify(t))}),this.isExpandedKey=(e=>{let t=null;try{t=JSON.parse(o.localStorageOrNull.getItem(this.localStorageKey(e)))}catch(s){}return null!=t&&!!t}),this.isExpanded=(e=>e.type===c.EXPANDABLE_ROW&&this.isExpandedKey(e.key)),this.offsetTop=e}static getNextRenderedElementTop(e){if(!e||0===e.length)return 0;const t=e[e.length-1];return t.top+t.height}reset(){this.allElements=[]}getTotalHeight(){let e=0;for(const t of this.allElements)this.isExpandedKey(t.key)&&(e+=t.childrenHeight);return u.getNextRenderedElementTop(this.allElements)+e}findExpandableElementWithKey(e){for(const t of this.allElements)if(t.type===c.EXPANDABLE_ROW&&t.key===e)return t;return null}findStickyElementWithKey(e){for(const t of this.allElements)if(t.type===c.STICKY_ROW&&t.key===e)return t;return null}getActualTop(e){let t=0;for(const s of this.allElements){if(s.key===e)return s.top+t;this.isExpanded(s)&&(t+=s.childrenHeight)}return null}getRenderedElementsInView(e,t){const s=e-this.offsetTop,n=Math.ceil(t/2),i=Math.max(s-n,0),r=s+t+n,l=(e,t)=>!(e+t<i||e>r),o=(e,n)=>!(e+n<s||e>s+t),a=[],u={};let p=0;for(const c of this.allElements){const e=c.top+p;if(l(e,c.height)){u[c.key]=a.length;const t=Object.assign({},c,{top:e});a.push(t)}if(this.isExpanded(c)){const t=e+c.height;for(const e of c.children){const s=e.top+t;l(s,e.height)&&a.push(Object.assign({},e,{top:s,stickyKey:c.stickyKey}))}p+=c.childrenHeight}}let h=null,y=0;for(const f of a)if(s>0&&o(f.top,f.height)){if(f.type===c.STICKY_ROW)h=f;else if(null!==f.stickyKey)if(void 0!==u[f.stickyKey]){const e=a[u[f.stickyKey]];e.type===c.STICKY_ROW&&(h=e)}else{const e=this.findStickyElementWithKey(f.stickyKey);h=Object.assign({},e,{top:this.getActualTop(e.key)}),a.push(h)}break}return null!==h&&h.type===c.STICKY_ROW&&s>h.top&&(h.isFixed=!0,y=Math.max(s-h.top,0)),{elementsInView:a,stickyHeader:h&&h.isFixed?h:null,stickyHeaderOffset:y}}}t.RenderedElementTree=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(i,e,t){i.exports={tile:"library_item_tile--tile--3b_Gi",tileGrid:"library_item_tile--tileGrid--1FVZ2 library_item_tile--tile--3b_Gi",tileList:"library_item_tile--tileList--nuHBg library_item_tile--tile--3b_Gi",thumbWrapperNoBg:"library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperNoBgListView:"library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapper:"library_item_tile--thumbWrapper--UOgvP library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperListView:"library_item_tile--thumbWrapperListView--13vSr library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperWithBorder:"library_item_tile--thumbWrapperWithBorder--1Rhnq library_item_tile--thumbWrapper--UOgvP library_item_tile--thumbWrapperNoBg--3GaQg",thumbWrapperWithBorderListView:"library_item_tile--thumbWrapperWithBorderListView--3j4NB library_item_tile--thumbWrapperListView--13vSr library_item_tile--thumbWrapperNoBgListView--3W4jt library_item_tile--thumbWrapperNoBg--3GaQg","border-deleted":"library_item_tile--border-deleted--17mOP","border-new":"library_item_tile--border-new--ko-A1",thumbAndNameWrapper:"library_item_tile--thumbAndNameWrapper--1_SxQ",thumbContainer:"library_item_tile--thumbContainer--3WpIW",thumb:"library_item_tile--thumb--1tV-_",name:"library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",nameGrid:"library_item_tile--nameGrid--38SiR library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",nameList:"library_item_tile--nameList--WKy2P library_item_tile--name--1I8Wj ellipsis--ellipsis--1RWY6",statusIcon:"library_item_tile--statusIcon--3_SlA","icon-new":"library_item_tile--icon-new--gnTKH","icon-deleted":"library_item_tile--icon-deleted--2gu1r",selectionGrid:"library_item_tile--selectionGrid--19XIu",descriptionPopoutContainer:"library_item_tile--descriptionPopoutContainer--2XEyP text--whiteParagraphText--j8hye text--paragraphText--25SJf text--_whiteText--2PkdM",descriptionPopoutArrow:"library_item_tile--descriptionPopoutArrow--KXnZs",actionBadge:"library_item_tile--actionBadge--GrXIU",privateOutlineGrid:"library_item_tile--privateOutlineGrid--1Rwee",localComponentList:"library_item_tile--localComponentList--3pHjK",privateComponentGrid:"library_item_tile--privateComponentGrid--7bCoG",contextMenu:"library_item_tile--contextMenu--N4uYI",draggingThumbGrid:"library_item_tile--draggingThumbGrid--3J7rP",draggingThumbList:"library_item_tile--draggingThumbList--3sWW4 library_item_tile--draggingThumbGrid--3J7rP",draggingThumbListOverCanvas:"library_item_tile--draggingThumbListOverCanvas--1DX0y library_item_tile--draggingThumbList--3sWW4 library_item_tile--draggingThumbGrid--3J7rP",expand:"library_item_tile--expand--36ZxQ"},i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),r=o(38,1       ),n=o(143              ),i=o(370              ),p=o(377        ),a=o(198         ),l=o(545                                  ),c=o(385                                        ),h=o(408                                  ),u=o(542                   ),d=o(1426                               ),m=o(1471                    ),g=o(410                                   ),b=o(371                       ),f=o(1427                      ),y=o(694                          ),C=o(695                      ),w=o(544                                                                 ),L=h.dropdown.Dropdown,M=h.dropdown.Option;t.DEFAULT_SIZE=120,t.THUMB_PADDING=i.pxToInt(l.tilePaddingGrid);const N=i.pxToInt(c.toolbarHeight),E=i.pxToInt(l.localComponentsHeaderHeight),S=new u.ColorHexFormatter,_=new u.ColorCSSFormatter;class T extends s.PureComponent{render(){const{component:e}=this.props,t={};let o;if(!this.props.noBackground&&(o=O(this.props.component))&&!this.props.isList){t.background=_.format(o);const e=p.blackOrWhiteContrastingColor(o);e.a=.6,t.color=_.format(e)}return s.createElement(k,Object.assign({},this.props),s.createElement(D,Object.assign({},this.props),s.createElement(I,Object.assign({},this.props,{backgroundColor:o,className:void 0,style:this.props.isDragged?void 0:this.props.style})),this.props.showName&&s.createElement("div",{className:this.props.isList?C.nameList:C.nameGrid,style:t},this.props.isList&&!this.props.isSearch?f.getLastPartOfName(e.name):e.name)))}}T.displayName="LibraryItemTile",t.LibraryItemTile=T;class v extends n.Component{constructor(){super(...arguments),this.ref=(e=>{this.el=r.findDOMNode(e)}),this.onFullscreenScrollToNode=(({nodeId:e})=>{if(e===this.props.component.node_id&&this.el){const e=this.el.getBoundingClientRect();e.top<N+E?this.el.scrollIntoView():e.bottom>window.innerHeight-N&&this.el.scrollIntoView(!1)}}),this.onMouseUp=(e=>{e.stopPropagation()})}recordingKey(){return`componentTile.${this.props.recordingNodePath}`}componentDidMount(){d.fullscreen.fromFullscreen.on("scrollToNode",this.onFullscreenScrollToNode)}componentWillUnmount(){d.fullscreen.fromFullscreen.removeListener("scrollToNode",this.onFullscreenScrollToNode)}render(){const e=this.props.component,t=this.props.isFilePublished&&(e.status===b.LibraryStatus.NOT_STAGED||e.status===b.LibraryStatus.DELETED),o={},r=t?null:O(this.props.component);if(r&&!this.props.isList){o.background=_.format(r);const e=p.blackOrWhiteContrastingColor(r);e.a=.6,o.color=_.format(e)}let n;return this.props.isList?n=this.props.isSomeComponentBeingDragged?null:C.localComponentList:t&&(n=t?C.privateComponentGrid:null),s.createElement(k,Object.assign({ref:this.ref},this.props,{onMouseUp:this.onMouseUp,className:n}),s.createElement(D,Object.assign({},this.props),s.createElement(I,Object.assign({},this.props,{backgroundColor:r})),s.createElement("div",{className:this.props.isList?C.nameList:C.nameGrid,style:o},this.props.isList&&!this.props.isSearch?f.getLastPartOfName(e.name):e.name),this.props.selected&&!this.props.isList&&s.createElement("div",{className:C.selectionGrid}),t&&!this.props.selected&&!this.props.isList&&s.createElement("div",{className:C.privateOutlineGrid})))}}v.displayName="LocalLibraryItemTile",t.LocalLibraryItemTile=v;class x extends s.PureComponent{constructor(){super(...arguments),this.togglePublishable=(e=>{d.fullscreen.updateSelectionProperties({isSymbolPublishable:!e.isPublishable})})}render(){let e=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===y.SIDEBAR_TILES_CONTEXT_MENU_ID&&(e=this.props.dropdownShown.data.component),!e)return null;const t=m.getEditingFile(this.props),o=this.props.fileByKey[e.file_key],r=o.key===t.key,n=e.isPublishable;return s.createElement(L,{className:C.contextMenu,style:this.props.dropdownShown.data.position},r&&s.createElement(M,{onClick:this.togglePublishable.bind(this,e)},n?"Remove from library":"Add to library"),!r&&s.createElement(M,{href:`${o.url}?node-id=${encodeURIComponent(e.node_id)}`,target:"_blank"},"Go to Master Component"))}}x.displayName="LibraryItemContextMenu",t.LibraryItemContextMenu=x;class P extends s.PureComponent{render(){const e=this.props.componentDragState,t=e.dragPosition.subtract(e.dragOffset),o={top:t.y,left:t.x};let r=C.draggingThumbGrid;if(this.props.isList){r=this.props.isMouseDraggedOverCanvas?C.draggingThumbListOverCanvas:C.draggingThumbList;const t=O(e.draggingComponent);if(t&&!this.props.isPrivate&&!this.props.isMouseDraggedOverCanvas){o.backgroundColor=_.format(t);const e=p.blackOrWhiteContrastingColor(t);o.color=_.format(e)}}return s.createElement(T,{className:r,component:e.draggingComponent,size:this.props.size,style:o,showName:this.props.isList,noBackground:!0,isList:this.props.isList,isDragged:!0,isSearch:this.props.isSearch})}}P.displayName="DraggingLibraryItem",t.DraggingLibraryItem=P;class k extends s.PureComponent{constructor(){super(...arguments),this.state={popoutStyle:null,popoutArrowStyle:null},this.ref=(e=>{this.el=e}),this.popoutRef=(e=>{this.popout=e}),this.onMouseEnter=(()=>{if(this.el&&this.popout){const e=this.el.getBoundingClientRect(),t=(e.top+e.bottom)/2,o=this.popout.offsetHeight,s=N+6,r=window.innerHeight-o-6;let n=t-o/2;n=Math.min(n,r),n=Math.max(n,s),this.setState({popoutStyle:{left:e.right+9,top:n},popoutArrowStyle:{left:e.right,top:t}})}}),this.onMouseLeave=(()=>{this.setState({popoutStyle:null,popoutArrowStyle:null})})}render(){let e=this.props.size||t.DEFAULT_SIZE;e-=e%2;const o=this.props.isList?this.props.style:Object.assign({width:e,height:e},this.props.style);return s.createElement("div",{ref:this.ref,className:`${this.props.isList?C.tileList:C.tileGrid} ${this.props.className||""}`,style:o,onMouseUp:this.props.onMouseUp,onMouseLeave:this.onMouseLeave,onMouseEnter:this.onMouseEnter},this.props.children,this.props.component.description&&!this.props.contextMenuShown&&s.createElement("div",{className:C.descriptionPopoutContainer,style:this.state.popoutStyle,ref:this.popoutRef},this.props.component.description,s.createElement("div",{className:C.descriptionPopoutArrow,style:this.state.popoutArrowStyle})))}}k.displayName="ComponentWrapper";class D extends n.Component{constructor(){super(...arguments),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onComponentMouseDown&&this.props.onComponentMouseDown(e,this.props.component)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new a.Vector(t.left,t.top),s=new a.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new a.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size,o=this.props.size;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}}),this.onContextMenu=n.mouseEvent(this,"contextmenu",e=>{this.props.onContextMenu&&this.props.onContextMenu(e)},{recordMetadata:e=>{const t=e.currentTarget.getBoundingClientRect(),o=new a.Vector(t.left,t.top),s=new a.Vector(e.clientX,e.clientY).subtract(o);return{percentageMousePos:new a.Vector(s.x/t.width,s.y/t.height)}},playbackMetadata:e=>{const t=this.props.size,o=this.props.size;return{currentTarget:{getBoundingClientRect:()=>({top:0,left:0,height:t,width:o})},clientX:0+e.percentageMousePos.x*o,clientY:0+e.percentageMousePos.y*t}}})}recordingKey(){return`componentThumb.${this.props.recordingNodePath}`}render(){return s.createElement("div",{className:C.thumbAndNameWrapper,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu},this.props.children)}}D.displayName="ComponentThumbAndNameWrapper";class I extends s.PureComponent{render(){const{component:e,isDragged:o,isList:r}=this.props,n=this.props.size||t.DEFAULT_SIZE;let i,p=n;n%2==1&&(p=n-1),i=this.props.isList?this.props.noBackground?C.thumbWrapperNoBgListView:C.thumbWrapperListView:this.props.noBackground?C.thumbWrapperNoBg:C.thumbWrapper;const a={width:p,height:p},l=Object.assign({width:2*p,height:2*p},this.props.style);return!this.props.noBackground&&this.props.backgroundColor&&(g.shouldUseBorderForBackground(this.props.backgroundColor)&&(i=r?C.thumbWrapperWithBorderListView:C.thumbWrapperWithBorder),l.background=_.format(this.props.backgroundColor)),o&&(r?(l.width=null,l.height=null):l.background=null),s.createElement("div",{className:C.thumbContainer,style:o&&r?null:a},s.createElement("div",{className:`${i} ${this.props.className||""}`,style:l},s.createElement(w.ReloadingImage,{className:C.thumb,src:e.thumbnail_url})))}}function O(e){if(e.containing_frame&&e.containing_frame.backgroundColor){const t=e.containing_frame.backgroundColor,o="#"==t[0]?S.parse(t):_.parse(t);return 0==o.a?null:(o.a=1,o)}return null}I.displayName="ComponentThumb",t.backgroundColorToUseForComponent=O,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){e.exports={stickySectionHeader:"visitable_tiles--stickySectionHeader--1OLlc ellipsis--ellipsis--1RWY6",expandableSectionHeader:"visitable_tiles--expandableSectionHeader--pZiXK",expandCaret:"visitable_tiles--expandCaret--3_Ggh object_row--expandCaret--3nMet object_row--indent--2n1Cf",expandableSectionHeaderText:"visitable_tiles--expandableSectionHeaderText--3KI_R ellipsis--ellipsis--1RWY6",expandCaretOpen:"visitable_tiles--expandCaretOpen--2YQi9 visitable_tiles--expandCaret--3_Ggh object_row--expandCaret--3nMet object_row--indent--2n1Cf",sectionSubheader:"visitable_tiles--sectionSubheader--2y5RF ellipsis--ellipsis--1RWY6",spacer6:"visitable_tiles--spacer6--2_zX-",spacer12:"visitable_tiles--spacer12--1xC0s"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(34,1   ),s=n(142                        ),o=n(143              ),a=n(96         ),r=n(144                        ),c=n(689                                                             ),l=n(1427                      ),d=n(694                          ),p=n(696                  ),m=n(370              ),h=n(697                    ),y=n(545                                  ),g=n(385                                        ),b=n(556                                       ),x=n(566                                        ),u=m.pxToInt(y.tileThumbHeightList),E=m.pxToInt(y.tileMargin),T=m.pxToInt(y.tileMargin)/2,f=m.pxToInt(g.stickyHeaderHeight),S=m.pxToInt(g.expandableHeaderHeight),_=m.pxToInt(g.subheaderHeight);class k extends i.Component{render(){return i.createElement("div",{className:h.expandableSectionHeader,onMouseDown:this.props.setExpand.bind(this,!this.props.isExpanded)},i.createElement(r.Svg,{className:this.props.isExpanded?h.expandCaretOpen:h.expandCaret,svg:this.props.isExpanded?b:x}),i.createElement("div",{className:h.expandableSectionHeaderText},this.props.title))}}k.displayName="ExpandableSectionHeader",t.ExpandableSectionHeader=k;class L extends i.Component{render(){return i.createElement("div",{className:h.sectionSubheader},this.props.title)}}L.displayName="SectionSubheader",t.SectionSubheader=L;const I=e=>{return Math.floor(e/100)};t.calcThumbSize=((e,t)=>{const n=I(e);return(e+2-(n-1)*E-2*t)/n}),t.VisitableStickySectionHeader=new class{visit(e){const{childrenSoFar:t}=e,n=d.RenderedElementTree.getNextRenderedElementTop(t);t.push({type:d.RenderedItemType.STICKY_ROW,top:n,height:f,key:`${e.keyPrefix}:stickySection`,element:i.createElement("div",{className:h.stickySectionHeader},e.headerText),stickyKey:null,isFixed:!1})}},t.VisitableSeparator=new class{visit(e){const{childrenSoFar:t}=e,n=d.RenderedElementTree.getNextRenderedElementTop(t);t.push({type:d.RenderedItemType.ROW,top:n,height:E,key:`${e.keyPrefix}:separator`,element:i.createElement("div",{className:6===e.size?h.spacer6:h.spacer12}),stickyKey:e.stickyKey})}},t.VisitableTilesByPage=new class{visit(e){let n=new Map,i=new Map;e.componentList.forEach(e=>{let t=e.containing_frame||{},s=t.pageId||"NO_PAGE",o=t.pageName||"";i.set(s,o);let a=n.get(s);a?a.push(e):n.set(s,[e])});const s=Array.from(n.keys());a.sortAlphabeticallyByFn(s,e=>i.get(e));const o=s.length>1,{childrenSoFar:r,stickyKey:c}=e;for(const a of s){const s=i.get(a),l=o&&!!s,d=`${e.keyPrefix}:${a}`,p={headerText:s,childrenSoFar:r,stickyKey:null,keyPrefix:d};let m=c;l&&(t.VisitableStickySectionHeader.visit(p),m=r[r.length-1].key);const h=n.get(a),y=Object.assign({},e,{componentList:h,stickyKey:m,keyPrefix:d});e.isList?t.VisitableTilesByName.visit(y):t.VisitableTilesByFrame.visit(y),l&&t.VisitableSeparator.visit({childrenSoFar:e.childrenSoFar,keyPrefix:d,stickyKey:m,size:12})}}},t.VisitableTilesByFrame=new class{constructor(){this.setExpand=((e,t)=>n=>{e.setExpand(t,n)})}visit(e){const n={},s=[],{childrenSoFar:o,stickyKey:r}=e;for(const t of e.componentList){const e=t.containing_frame;e&&e.nodeId&&e.nodeId!==t.node_id?(n[e.nodeId]=n[e.nodeId]||[],n[e.nodeId].push(t)):s.push(t)}a.sortAlphabeticallyByProperty(s,"name");const c=Object.keys(n);a.sortAlphabeticallyByFn(c,e=>n[e][0].containing_frame.name),s.length>0&&t.VisitableTiles.visit(Object.assign({},e,{componentList:s}));for(const l of c){const s=d.RenderedElementTree.getNextRenderedElementTop(o),c=n[l];a.sortAlphabeticallyByProperty(c,"name");const p=`${e.keyPrefix}:${l}`,m=e.isExpanded(p),h=c[0].containing_frame.name,y={type:d.RenderedItemType.EXPANDABLE_ROW,top:s,height:S,key:p,title:h,element:i.createElement(k,{isExpanded:m,setExpand:this.setExpand(e,p),title:h}),isExpanded:m,children:[],childrenHeight:null,stickyKey:r};o.push(y),t.VisitableTiles.visit(Object.assign({},e,{componentList:c,childrenSoFar:y.children,stickyKey:null,keyPrefix:p})),y.childrenHeight=d.RenderedElementTree.getNextRenderedElementTop(y.children)}}},t.VisitableTilesByName=new class{visit(e){const n={},s=[],{childrenSoFar:o,stickyKey:r}=e;for(const t of e.componentList){let e=l.getNameParts(t.name);if(t.containing_frame&&t.containing_frame.name&&(e=[t.containing_frame.name,...e]),e.length>1){e.pop();const i=e.join(" / ");n[i]=n[i]||[],n[i].push(t)}else s.push(t)}a.sortAlphabeticallyByProperty(s,"name");const c=Object.keys(n);a.sortAlphabeticallyByFn(c,e=>e),s.length>0&&t.VisitableTiles.visit(Object.assign({},e,{componentList:s}));for(const l of c){const s=n[l],c=d.RenderedElementTree.getNextRenderedElementTop(o),p=`${e.keyPrefix}${l}`;a.sortAlphabeticallyByProperty(s,"name");const m={type:d.RenderedItemType.ROW,top:c,height:_,key:p,stickyKey:r,element:i.createElement(L,{title:l})};o.push(m),t.VisitableTiles.visit(Object.assign({},e,{componentList:s,keyPrefix:p}))}}},t.VisitableTiles=new class{visit(e){let n=null,a=!1;const{childrenSoFar:r,stickyKey:l}=e;e.dropdownShown&&e.dropdownShown.type===d.SIDEBAR_TILES_CONTEXT_MENU_ID&&(n=e.dropdownShown.data.component);const m=d.RenderedElementTree.getNextRenderedElementTop(r)+T,h=I(e.width),y=e.isList?u:t.calcThumbSize(e.width,e.inModal?24:12),g=y+(e.isList?T:E);let b=0;for(const t of e.componentList){let x="";(s.isRecording()||o.isRunningInteractionTests())&&(x=c.guidToPathFromRoot(t.node_id,e.sceneGraph).join("-"));const u=n&&n.node_id===t.node_id;a=a||u;const E={nodeId:t.node_id,isLocal:e.isShowingLocalLibraryItems},T=e.isShowingLocalLibraryItems?i.createElement(p.LocalLibraryItemTile,{component:t,size:y,onComponentMouseDown:e.onComponentMouseDown,onContextMenu:e.onContextMenu(t),contextMenuShown:u,isFilePublished:e.isFilePublished,recordingNodePath:x,isList:e.isList,isSearch:e.isSearch}):i.createElement(p.LibraryItemTile,{component:t,showName:!0,size:y,onComponentMouseDown:e.onComponentMouseDown,onContextMenu:e.onContextMenu(t),contextMenuShown:u,recordingNodePath:x,isList:e.isList,isSearch:e.isSearch}),f=e.isList?m+b*g:m+Math.floor(b/h)*g,S=e.isList?0:b%h*g;r.push({type:d.RenderedItemType.TILE,top:f,left:S,height:g,key:`${e.keyPrefix}:${t.node_id}:${b}`,element:T,nodeInfo:E,stickyKey:l}),b+=1}}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(232                        ),o=s(143              ),a=s(341                              ),r=s(1430                                             ),n=s(198         ),c=s(286                                              ),l=s(1426                               ),p=s(698                ),g=s(694                          ),u=s(545                                  ),d=s(370              ),m=s(1427                      ),h=s(563                                ),f=s(336                           ),b=s(709                                                                 ),v=s(695                      ),y=d.pxToInt(u.tileThumbHeightList),C=d.pxToInt(u.tileHeightDraggingList);class S extends o.Component{constructor(){super(...arguments),this.onContextMenu=(e=>t=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(i.fileBrowser.showDropdown({type:g.SIDEBAR_TILES_CONTEXT_MENU_ID,data:{component:e,position:{top:t.clientY,left:t.clientX}}})),this.props.sceneGraphSelection&&!c.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,e.node_id)&&(a.clearSelection(),a.setCurrentPageFromNode(e.node_id),a.addToSelection([e.node_id]),l.fullscreen.commit())}),this.thumbImage=null,this.isMouseDraggedOverCanvas=!1,this.onComponentMouseDown=((e,t)=>{if(2===e.button||e.ctrlKey)return;e.preventDefault(),e.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&document.activeElement.blur(),this.isClick=!0,m.componentSceneGraphCache.get(t),this.props.dispatch(i.library.setSparseDragState({draggingComponent:t})),document.addEventListener("mouseup",this.onDocumentMouseUp);const s=e.currentTarget,o=s.getBoundingClientRect(),a=new n.Vector(o.left,o.top),r=new n.Vector(e.clientX,e.clientY);this.thumbImage=new Image,this.thumbImage.src=t.thumbnail_url;const c=this.props.viewMode===b.ComponentsSidebarViewMode.List,l=c?y:p.calcThumbSize(this.props.width,12);let g,u,d=this.thumbImage.naturalWidth/2,h=this.thumbImage.naturalHeight/2;d>h?u=(g=Math.min(d,l))*(h/d):g=(u=Math.min(h,l))*(d/h);const f=new n.Vector(l/2-g/2,l/2-u/2);let C=r.subtract(a);if(c){const e=s.querySelector(`.${v.nameList.replace(/\s/g,".")}`);if(e){const t=e.getBoundingClientRect();r.x>t.right&&(C=C.subtract(new n.Vector(r.x-t.right,0)))}}let S=new n.Vector((C.x-f.x)/g,(C.y-f.y)/u);this.originalDragOffset=C,this.originalDragPosition=r,c&&(S=new n.Vector(.5,.5)),this.props.dispatch(i.library.setSparseDragState({dragOffset:C,componentMousePercentageOffset:S})),document.addEventListener("mousemove",this.onDocumentMouseMove)}),this.onDocumentMouseMove=o.mouseEvent(this,"mousemove",e=>{const t=this.props.library.dragState.draggingComponent,s=new n.Vector(e.clientX,e.clientY),o={dragPosition:s},r=this.props.viewMode===b.ComponentsSidebarViewMode.List;this.isClick&&this.props.library.dragState.dragPosition&&this.originalDragPosition.distanceTo(s)>5&&(this.props.sceneGraphSelection&&t&&(a.clearSelection(),l.fullscreen.commit()),this.isClick=!1),!this.isClick&&r&&(this.updateIsMouseDraggedOverCanvas(e.target),this.draggingLibraryItemEl&&(o.dragOffset=this.isMouseDraggedOverCanvas?new n.Vector(C/2,C/2):this.originalDragOffset)),this.props.dispatch(i.library.setSparseDragState(o))},{recordMetadata:e=>{const t=l.fullscreen.getViewportInfo(),s=new n.Vector(t.x,t.y),i=new n.Vector(e.clientX,e.clientY).subtract(s);return{canvasPosition:h.viewportPositionToCanvas(t,i)}},playbackMetadata:e=>{const t=l.fullscreen.getViewportInfo(),s=new n.Vector(t.x,t.y),i=h.canvasPositionToViewport(t,e.canvasPosition),o=n.Vector.add(i,s);return{clientX:o.x,clientY:o.y}}}),this.onDocumentMouseUp=o.mouseEvent(this,"mouseup",e=>{const t=e.target;this.updateIsMouseDraggedOverCanvas(t);const s=this.props.library.dragState.draggingComponent;if(this.thumbImage.onload=null,this.isClick){if(this.props.sceneGraphSelection&&s){const t=s.node_id;e.shiftKey||e.metaKey?c.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,t)?a.removeFromSelection([t]):a.addToSelection([t]):(a.clearSelection(),a.setCurrentPageFromNode(t),a.addToSelection([t])),l.fullscreen.commit()}}else if(this.isMouseDraggedOverCanvas){const e=l.fullscreen.getViewportInfo(),t=new n.Vector(e.x,e.y),i=this.props.library.dragState.dragPosition.subtract(t),o=h.viewportPositionToCanvas(e,i);this.props.dispatch(r.insertSharedComponent({component:s,canvasPosition:o,percentageOffset:this.props.library.dragState.componentMousePercentageOffset,insertAsChildOfCanvas:!1}))}document.removeEventListener("mouseup",this.onDocumentMouseUp),document.removeEventListener("mousemove",this.onDocumentMouseMove),this.props.dispatch(i.library.setSparseDragState({draggingComponent:null,dragPosition:null})),this.originalDragOffset=null,this.draggingLibraryItemEl=null,this.isMouseDraggedOverCanvas=!1},{recordMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,targetTagName:e.target.tagName.toLowerCase()}),playbackMetadata:e=>({shiftKey:e.shiftKey,metaKey:e.metaKey,target:{tagName:e.targetTagName}})})}updateIsMouseDraggedOverCanvas(e){this.isMouseDraggedOverCanvas=!this.isClick&&this.props.library.dragState.draggingComponent&&("canvas"===e.tagName.toLowerCase()||!!e.getAttribute("data-allow-component-drop")||f.isMacDebugApp&&!!e.getAttribute("data-forward-events-to-fullscreen"))}}S.displayName="LibraryItemsContainer",t.LibraryItemsContainer=S,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,a,e){r.exports={margin12:"search--margin12--3G1pl",searchInput:"search--searchInput--2JmjM",margin24:"search--margin24--3oubR",searchX:"search--searchX--nQhJ8",searchInputWrapper:"search--searchInputWrapper--2dcIz",searchInputWrapperSticky:"search--searchInputWrapperSticky--14JUm search--searchInputWrapper--2dcIz",searchInputEmpty:"search--searchInputEmpty--Ve_a7 search--searchInput--2JmjM",searchXSvg:"search--searchXSvg--2sTbr"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(34,1   ),a=t(38,1       ),n=t(199      ),c=t(201                                      ),h=t(144                        ),p=t(700           ),o=t(210                              );class i extends r.PureComponent{constructor(){super(...arguments),this.onFocus=(e=>{e.target.select()}),this.onSearchChange=(e=>{const s=e.target;this.props.onChange(s.value)}),this.onSearchKeyDown=(e=>{this.props.isKeyDownHandled&&this.props.isKeyDownHandled(e)||e.keyCode===n.Key.ESCAPE&&(""!==this.searchInput.value?(this.searchInput.select(),document.execCommand("insertText",!1,"")):this.searchInput.blur())}),this.searchInputRef=(e=>{this.searchInput=a.findDOMNode(e),this.props.focusOnMount&&this.searchInput&&this.searchInput.focus()}),this.focus=(()=>{this.searchInput&&this.searchInput.focus()}),this.blur=(()=>{this.searchInput&&this.searchInput.blur()})}render(){const e=this.props.query&&this.props.stickySearch?p.searchInputWrapperSticky:p.searchInputWrapper;return r.createElement("div",{className:`${this.props.className||e} ${this.props.extraSpacing?p.margin24:p.margin12}`},r.createElement(c.LazyInput,{ref:this.searchInputRef,placeholder:"Search",className:this.props.query?p.searchInput:p.searchInputEmpty,value:this.props.query,onFocus:this.onFocus,onChange:this.onSearchChange,onKeyDown:this.onSearchKeyDown}),!!this.props.query&&r.createElement("div",{className:p.searchX,onClick:this.props.clearSearch},r.createElement(h.Svg,{className:p.searchXSvg,svg:o})))}}i.displayName="SearchInput",s.SearchBar=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const i=s(34,1   ),t=s(38,1       ),a=s(143              ),c=s(342                                        ),n=s(701                              );class h extends a.Component{constructor(){super(...arguments),this.clearSearch=(()=>{this.props.onChange("")}),this.librarySearchInputRef=(e=>{this.librarySearchInput=e,this.props.isVisible&&this.focusSearch()}),this.focusSearch=(()=>{if(this.librarySearchInput&&this.props.isVisible){if(t.findDOMNode(this.librarySearchInput).getBoundingClientRect().top<0)return;this.librarySearchInput.focus()}}),this.isSearchKeyDownHandled=(e=>!!e.altKey&&(c.forwardKeyboardEvent(e),!0))}componentDidUpdate(e){!e.isVisible&&this.props.isVisible?this.focusSearch():e.isVisible&&!this.props.isVisible&&this.librarySearchInput.blur()}render(){return i.createElement(n.SearchBar,{ref:this.librarySearchInputRef,className:this.props.className,focusOnMount:!1,extraSpacing:this.props.extraSpacing,query:this.props.query,stickySearch:this.props.stickySearch,clearSearch:this.clearSearch,onChange:this.props.onChange,isKeyDownHandled:this.isSearchKeyDownHandled})}}h.displayName="LibrarySearch",r.LibrarySearch=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){e.exports={container:"component_sidebar--container--3KRL4",stickySearchBuffer:"component_sidebar--stickySearchBuffer--3PuSi",_headerContainer:"component_sidebar--_headerContainer--2P898",headerContainer:"component_sidebar--headerContainer--4HQfk component_sidebar--_headerContainer--2P898",headerContainerWithShadow:"component_sidebar--headerContainerWithShadow--WIlIw component_sidebar--_headerContainer--2P898",searchWithViewModeToggle:"component_sidebar--searchWithViewModeToggle--121s7",scrollContainerFullHeight:"component_sidebar--scrollContainerFullHeight--3yKAM",topBuffer:"component_sidebar--topBuffer--2lHDU",emptyState:"component_sidebar--emptyState--1oV4E text--paragraphText--25SJf",emptyStateTitle:"component_sidebar--emptyStateTitle--1sc4j text--labelText--1wP9s",emptyStateContent:"component_sidebar--emptyStateContent--2CumE",emptyStateIcon:"component_sidebar--emptyStateIcon--2f9u5",emptyStateText:"component_sidebar--emptyStateText--353a5",link:"component_sidebar--link--mHiBM blue_link--blueLink--22X56",text:"component_sidebar--text--1E5gA",componentsListContainer:"component_sidebar--componentsListContainer--3JQoA",toggleComponentSidebarViewMode:"component_sidebar--toggleComponentSidebarViewMode--2uP0X",element:"component_sidebar--element--wSEi-",rowElement:"component_sidebar--rowElement--LHRdB component_sidebar--element--wSEi-",stickyRowElement:"component_sidebar--stickyRowElement--EM6Ki component_sidebar--rowElement--LHRdB component_sidebar--element--wSEi-",stickyRowFixedElement:"component_sidebar--stickyRowFixedElement--nw-28 component_sidebar--rowElement--LHRdB component_sidebar--element--wSEi-",selectedRow:"component_sidebar--selectedRow--60VTX",teamLibraryIcon:"component_sidebar--teamLibraryIcon--3d-dn",teamLibraryUpdatesIndicator:"component_sidebar--teamLibraryUpdatesIndicator--jNhOs",selected:"component_sidebar--selected--1W_RG",rotate:"component_sidebar--rotate--1JDpJ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(h,t,v){h.exports={id:"g75ae097c",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M6 6h2v1H6V6zm0 10h2v1H6v-1zm0-5h2v1H6v-1zm4-5h8v1h-8V6zm0 10h8v1h-8v-1zm0-5h8v1h-8v-1z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,v,t){h.exports={id:"gc9b01662",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M10 7H7v3h3V7zM6 6v5h5V6H6zm11 1h-3v3h3V7zm-4-1v5h5V6h-5zm-3 8H7v3h3v-3zm-4-1v5h5v-5H6zm11 1h-3v3h3v-3zm-4-1v5h5v-5h-5z" fill-rule="evenodd" fill-opacity=".7"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(l,L,t){l.exports={id:"g99f142ab",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M5.063 3.938l.707.707 2.523 2.523.707.707.707-.707 2.523-2.523.707-.707-.707-.708L9.707.707 9 0l-.707.707L5.77 3.23l-.707.708zm6.46 0L9 6.46 6.477 3.937 9 1.414l2.523 2.524zm-6.46 10.124l.707.708 2.523 2.523L9 18l.707-.707 2.523-2.523.707-.707-.707-.708-2.523-2.523L9 10.125l-.707.707-2.523 2.523-.707.707zm6.46 0L9 16.587l-2.523-2.523L9 11.538l2.523 2.524zM.707 9.707L0 9l.707-.707L3.23 5.77l.708-.707.707.707 2.523 2.523.707.707-.707.707-2.523 2.523-.707.707-.708-.707L.707 9.707zm3.23 1.816L6.462 9 3.937 6.477 1.414 9l2.524 2.523zM10.125 9l.707.707 2.523 2.523.707.707.708-.707 2.523-2.523L18 9l-.707-.707L14.77 5.77l-.707-.707-.708.707-2.523 2.523-.707.707zm6.46 0l-2.523 2.523L11.54 9l2.524-2.523L16.585 9z" fill-rule="evenodd"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,c,l){t.exports={id:"g94232aaa",src:'<svg width="18" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M8.373 13h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H17.5v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.803-.6.976h-.049c-.054-.173-.21-.57-.599-.976C7.822 1.442 6.795.84 4.92.84 1.297.84.5 3.09.5 3.09v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825zM9.5 3.289v8.457c.195-.158.403-.3.622-.428.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759h.185V3.317l-.03-.05c-.086-.138-.236-.339-.474-.545-.461-.397-1.33-.882-2.916-.882-1.586 0-2.34.484-2.694.835-.189.186-.296.367-.353.49-.03.061-.046.107-.053.131l-.005.017.001-.006.002-.008v-.005l.001-.002V3.29l-.005-.001H9.5zm-1 0h-.474l-.006.001v.002l.001.002.001.005.002.008.001.006c0 .001 0-.005-.005-.017-.007-.024-.024-.07-.053-.131-.057-.123-.164-.304-.353-.49-.354-.351-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.532 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792.217.127.424.27.618.426V3.29z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,t,l){c.exports={id:"gce19c4ba",src:'<svg width="18" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M7.873 13h1.258c.28-.32.616-.597.995-.819 1.479-.862 4.005-.909 5.386.109H17v-9.2c0 0-.797-2.25-4.42-2.25-1.875 0-2.902.602-3.456 1.184-.389.407-.545.803-.6.976h-.049c-.054-.173-.21-.57-.599-.976C7.322 1.442 6.295.84 4.42.84.797.84 0 3.09 0 3.09v9.19h1.488c1.382-1.019 3.91-.97 5.388-.105.38.223.717.502.997.825zM9 3.289v8.457c.195-.158.403-.3.622-.428.927-.541 2.115-.796 3.241-.787 1.006.008 2.081.227 2.952.759H16V3.317l-.03-.05c-.086-.138-.236-.339-.475-.545-.46-.397-1.33-.882-2.915-.882-1.586 0-2.34.484-2.694.835-.189.186-.296.367-.353.49-.03.061-.046.107-.053.131l-.005.017.001-.006.002-.008v-.005l.001-.002V3.29l-.005-.001H9zm-1 0h-.474l-.006.001v.002l.001.002.001.005.002.008.001.006c0 .001 0-.005-.005-.017-.007-.024-.024-.07-.053-.131-.057-.123-.164-.304-.353-.49-.354-.351-1.108-.835-2.694-.835-1.585 0-2.455.485-2.916.882-.238.206-.388.407-.474.545l-.03.05v7.963h.185c.872-.532 1.948-.752 2.954-.759 1.128-.008 2.316.249 3.243.792.217.127.424.27.618.426V3.29z" fill-rule="evenodd"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(38,1       ),n=s(232                        ),r=s(143              ),l=s(301           ),a=s(219          ),c=s(144                        ),h=s(376                                                  ),p=s(1471                    ),m=s(286                                              ),d=s(341                              ),y=s(698                ),g=s(694                          ),u=s(696                  ),b=s(370              ),f=s(545                                  ),C=s(385                                        ),S=s(371                       ),E=s(374                            ),T=s(1427                      ),w=s(172                     ),v=s(129                               ),P=s(1417                       ),_=s(699                        ),k=s(702                                                               ),I=s(391                                                                        ),L=s(389                                                                  ),x=s(703                      ),M=s(388                                                    ),R=s(704                                  ),F=s(705                                  ),N=b.pxToInt(f.tileThumbHeightList),D=b.pxToInt(C.searchInputHeight),K=b.pxToInt(C.toolbarHeight);var A;!function(e){e[e.Grid=0]="Grid",e[e.List=1]="List"}(A=t.ComponentsSidebarViewMode||(t.ComponentsSidebarViewMode={})),t.viewModeToString=(e=>e===A.Grid?"grid":"list");class U extends _.LibraryItemsContainer{constructor(e){super(e),this.state={scrollTop:0,windowHeight:0},this.elementsCache={allElementsTree:new g.RenderedElementTree(-1),elementsInView:[],showSearchBar:!1,totalHeight:0,isDirty:!1},this.scrollPositionCache={previous:{key:null,top:0,offset:0,scrollTop:0},scrollToPositionAfterUpdate:null},this.generatePrivateComponentsByID=((e=this.props)=>{const{privateItems:t}=g.getLocalLibraryItemsInfo(e.library.local.components);this.privateComponentsByID=t.reduce((e,t)=>(e[t.node_id]=t,e),{})}),this.scrollToKeyAfterUpdate=null,this.scrollContainerRef=(e=>{this.scrollContainer=e,this.scrollContainerEl=o.findDOMNode(e)}),this.draggingLibraryItemRef=(e=>{this.draggingLibraryItemEl=o.findDOMNode(e)}),this.isDragging=((e=this.props)=>!!(e.library.dragState&&e.library.dragState.draggingComponent&&e.library.dragState.dragPosition)),this.clearSelection=(e=>{this.props.dropdownShown&&this.props.dropdownShown.type===g.SIDEBAR_TILES_CONTEXT_MENU_ID||d.clearSelection()}),this.visitComponentsByPage=((e,t,s,i,o,n,r,l)=>{const a=Object.assign({},e,{recordingKey:o,componentList:t,sceneGraphSelection:e.sceneGraphSelection,sceneGraph:e.sceneGraph,isFilePublished:s,isShowingLocalLibraryItems:i,canCollapseSections:!e.library.localSearch.components.query,onContextMenu:this.onContextMenu,onComponentMouseDown:this.onComponentMouseDown,isExpanded:this.elementsCache.allElementsTree.isExpandedKey,setExpand:this.setExpand,childrenSoFar:this.elementsCache.allElementsTree.allElements,stickyKey:n,keyPrefix:r,isList:l});y.VisitableTilesByPage.visit(a)}),this.initializeAllElements=(e=>{const t=g.getLocalLibraryItemsInfo(e.library.local.components),s=g.getSubscribedComponentsInfo(e.library,e.editingFileKey,e.fileByKey),i=E.getOtherUsedComponents(e.sceneGraph,e.subscribedComponents,e.library,e.fileByKey),o=t.allItems.length+s.subscribedFiles.length+i.length===0,n=!o&&!!e.library.localSearch.components.query,r=e.viewMode===A.List,l=p.getEditingFile(e),a=e.teams[l.team_id],c=w.canAccessProFeature(a);this.elementsCache.allElementsTree.reset();const h=this.elementsCache.allElementsTree.allElements;let m=null;if(n){const t=Object.assign({},e,{toggleShowMoreResults:this.toggleShowMoreResults,childrenSoFar:h,stickyKey:null,keyPrefix:"searchResults",onContextMenu:this.onContextMenu,onComponentMouseDown:this.onComponentMouseDown,isList:r,isSearch:!0}),{results:s,moreResults:i}=e.library.localSearch.components;s.length+i.length>0&&j.visit(t)}else{const{allItems:o,publishedItems:n,privateItems:l,numPublished:a}=t,{fileKeyToSubscribedItems:p,subscribedFiles:d}=s,u=a>0&&c,b=u&&l.length>0,f=b?n:o;if(b||!g.componentsAllOnePageAndNoFrames(f)||0!==f.length&&0!==i.length){if(this.visitComponentsByPage(e,f,u,!0,"componentTiles.localPublishableComponents",null,"componentTiles.localPublishableComponents",r),y.VisitableSeparator.visit({childrenSoFar:h,stickyKey:null,keyPrefix:"localPublishableComponents",size:12}),b){y.VisitableStickySectionHeader.visit({headerText:"Private to this file",childrenSoFar:h,stickyKey:null,keyPrefix:"privateToThisFile"});const t=h[h.length-1].key;this.visitComponentsByPage(e,l,u,!0,"componentTiles.localPrivateComponents",t,"localPrivateComponents",r),y.VisitableSeparator.visit({childrenSoFar:h,stickyKey:t,keyPrefix:"privateToThisFile",size:12})}if(i.length>0){y.VisitableStickySectionHeader.visit({headerText:"Used in this file",childrenSoFar:h,stickyKey:null,keyPrefix:"usedInThisFile"});const t=h[h.length-1].key,s=Object.assign({},e,{recordingKey:"componentTiles.otherComponents",isFilePublished:!0,isShowingLocalLibraryItems:!1,componentList:i,childrenSoFar:h,stickyKey:t,keyPrefix:"usedInThisFile",onContextMenu:this.onContextMenu,onComponentMouseDown:this.onComponentMouseDown,isList:r});y.VisitableTiles.visit(s),y.VisitableSeparator.visit({childrenSoFar:h,stickyKey:t,keyPrefix:"usedInThisFile",size:12})}}else if(f.length>0||i.length>0){const t=f.length>0?f:i,s=Object.assign({},e,{recordingKey:"componentTiles.otherComponents",isFilePublished:!0,isShowingLocalLibraryItems:f.length>0,componentList:t,childrenSoFar:h,onContextMenu:this.onContextMenu,onComponentMouseDown:this.onComponentMouseDown,stickyKey:null,keyPrefix:"otherComponents",isList:r});r?y.VisitableTilesByName.visit(s):y.VisitableTiles.visit(s),y.VisitableSeparator.visit({childrenSoFar:h,stickyKey:null,keyPrefix:"otherComponents",size:12})}for(const t of d){y.VisitableStickySectionHeader.visit({headerText:t.name,childrenSoFar:h,stickyKey:null,keyPrefix:`subscribedComponents:${t.key}`});const s=h[h.length-1].key;t.key&&t.key===$&&(m=s,$=null),this.visitComponentsByPage(e,p[t.key],!0,!1,`componentTiles.subscribedComponents.${t.name}`,s,`subscribedComponents:${t.key}`,r),y.VisitableSeparator.visit({childrenSoFar:h,stickyKey:s,keyPrefix:`subscribedComponents:${t.key}`,size:12})}}this.scrollToKeyAfterUpdate=m,this.elementsCache.showSearchBar=!o,this.elementsCache.isDirty=!0}),this.generateComponentThumbnails=l.debounce(()=>{this.props.dispatch(n.library.generateComponentThumbnails({includeNotChanged:!0,includeDeleted:!0}))},200),this.scrollFrameRequest=null,this.onScroll=(e=>{this.nextScrollTop=e,null===this.scrollFrameRequest&&(this.scrollFrameRequest=requestAnimationFrame(this.setScrollTop))}),this.setScrollTop=(()=>{this.elementsCache.isDirty=!0,this.setState({scrollTop:this.nextScrollTop}),this.scrollFrameRequest=null}),this.heightFrameRequest=null,this.recalculateLayout=(()=>{this.nextHeight=window.innerHeight,null===this.heightFrameRequest&&(this.heightFrameRequest=requestAnimationFrame(this.setWindowHeight))}),this.setWindowHeight=(()=>{this.elementsCache.isDirty=!0,this.setState({windowHeight:this.nextHeight}),this.heightFrameRequest=null}),this.toggleShowMoreResults=(()=>{this.props.dispatch(n.library.setLocalSearchShowMoreResults({type:S.LibraryItemType.COMPONENT,showMoreResults:!this.props.library.localSearch.components.showMoreResults}))}),this.setExpand=((e,t)=>{this.elementsCache.allElementsTree.setExpandKey(e,t);let s=this.elementsCache.allElementsTree.findExpandableElementWithKey(e);s&&((s=s).isExpanded=t,s.element=i.createElement(y.ExpandableSectionHeader,{isExpanded:t,setExpand:this.setExpand.bind(this,e),title:s.title}),this.elementsCache.isDirty=!0,this.forceUpdate())}),this.onSearchQueryChange=(e=>{this.props.dispatch(n.library.setLocalQuery({query:e,type:S.LibraryItemType.COMPONENT}))}),this.refreshElementsInView=(()=>{if(!this.elementsCache.isDirty)return;const e=this.state.windowHeight-2*K;let{elementsInView:t,stickyHeader:s,stickyHeaderOffset:i}=this.elementsCache.allElementsTree.getRenderedElementsInView(this.state.scrollTop,e);if(this.restoreScrollPositionIfNecessary(s,i,this.state.scrollTop)){const s=this.scrollPositionCache.scrollToPositionAfterUpdate;t=this.elementsCache.allElementsTree.getRenderedElementsInView(s,e).elementsInView}this.elementsCache.elementsInView=t,this.elementsCache.totalHeight=this.elementsCache.allElementsTree.getTotalHeight(),this.elementsCache.isDirty=!1}),this.recalculateLayout(),this.initializeAllElements(e)}recordingKey(){return"componentsSidebar"}componentDidMount(){window.addEventListener("resize",this.recalculateLayout),this.generateComponentThumbnails(),this.generatePrivateComponentsByID()}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("resize",this.recalculateLayout)}UNSAFE_componentWillReceiveProps(){this.generateComponentThumbnails()}UNSAFE_componentWillUpdate(e){this.props.library.local===e.library.local&&this.props.library.published===e.library.published&&this.props.library.subscriptions===e.library.subscriptions&&this.props.library.localSearch===e.library.localSearch&&this.props.width===e.width&&this.props.viewMode===e.viewMode||this.initializeAllElements(e),this.props.library.local!==e.library.local&&this.generatePrivateComponentsByID(e),!this.isDragging()&&this.isDragging(e)&&a.segment.track("Component Sidebar Dragged",{viewMode:t.viewModeToString(e.viewMode)})}componentDidUpdate(){if(super.componentDidUpdate(),!this.scrollContainerEl)return;const e=this.state.windowHeight-2*K;if(null!==this.scrollToKeyAfterUpdate){const t=Math.min(this.elementsCache.allElementsTree.getActualTop(this.scrollToKeyAfterUpdate),this.elementsCache.totalHeight-e);return this.scrollContainer.scrollTo(t+D+1),this.scrollToKeyAfterUpdate=null,void(this.scrollPositionCache.scrollToPositionAfterUpdate=null)}return null!==this.scrollPositionCache.scrollToPositionAfterUpdate?(this.scrollContainer.scrollTo(this.scrollPositionCache.scrollToPositionAfterUpdate),void(this.scrollPositionCache.scrollToPositionAfterUpdate=null)):void 0}restoreScrollPositionIfNecessary(e,t,s){this.scrollPositionCache.scrollToPositionAfterUpdate=null;const i=this.scrollPositionCache.previous,o={key:e&&e.key,top:e&&e.top,offset:t,scrollTop:s};if(this.scrollPositionCache.previous=o,o.scrollTop!==i.scrollTop||null!==this.scrollToKeyAfterUpdate)return!1;const n=i.key!==o.key||i.top!==o.top;if(!i.key||!n)return!1;const r=this.elementsCache.allElementsTree.getActualTop(i.key);if(null!==r){const e=r+i.offset+D;this.scrollPositionCache.scrollToPositionAfterUpdate=e}return null!==this.scrollPositionCache.scrollToPositionAfterUpdate}renderElementsInView(){const e=[],t=this.isDragging(this.props),s=this.props.viewMode===A.List;for(const o of this.elementsCache.elementsInView){let n={top:o.top,height:o.height},r="",l="";if(o.type===g.RenderedItemType.TILE){const e=o.nodeInfo.isLocal&&this.props.sceneGraphSelection&&m.isSelected(this.props.sceneGraph,this.props.sceneGraphSelection,o.nodeInfo.nodeId);n.left=o.left,s?(r=x.rowElement,l=e?x.selectedRow:"",o.element=i.cloneElement(o.element,{isSomeComponentBeingDragged:t})):(r=x.element,o.element=i.cloneElement(o.element,{selected:e}))}else r=x.rowElement,o.type===g.RenderedItemType.STICKY_ROW&&(r=x.stickyRowElement,o.isFixed&&(r=x.stickyRowFixedElement,n.top=0));e.push(i.createElement("div",{key:o.key,style:n,className:`${r} ${l}`},o.element))}return e}render(){const e=this.props.viewMode===A.List,t=this.props.library.localSearch.components,s=this.elementsCache.showSearchBar&&!!t.query,o=0===this.elementsCache.allElementsTree.allElements.length,n=this.props.leftPanel.activeTab===v.LeftPanelTab.PUBLISH;this.refreshElementsInView();const l={height:this.elementsCache.totalHeight},{numPublished:a}=g.getLocalLibraryItemsInfo(this.props.library.local.components),c=w.canAccessProFeature(this.props.teams[p.getEditingFile(this.props).team_id]);let m=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===g.SIDEBAR_TILES_CONTEXT_MENU_ID){m=this.props.dropdownShown.data.component}const d=T.hasPendingUpdatesToPublish(this.props),b=E.numUpdates(this.props.library)>0||d;return i.createElement(I.RecordableDiv,{recordingKey:"localComponents",className:x.container},i.createElement("div",{className:this.state.scrollTop>0?x.headerContainerWithShadow:x.headerContainer},i.createElement(k.LibrarySearch,Object.assign({},this.props,{query:t.query,onChange:this.onSearchQueryChange,isVisible:n,className:x.searchWithViewModeToggle,recordingKey:"componentsLibrarySearch"})),i.createElement("div",{className:x.toggleComponentSidebarViewMode},i.createElement(L.IconButton,{recordingKey:r.joinKeys(this.props,"toggleComponentsSidebarViewMode"),"data-tooltip-text":`Show as ${e?"Grid":"List"}`,svg:e?F:R,onClick:this.props.toggleViewMode,disabled:o}),i.createElement("div",{className:x.teamLibraryIcon,"data-onboarding-key":"library"},b&&i.createElement("span",{className:`${this.props.isLibraryModalShown?x.selected:""} ${x.teamLibraryUpdatesIndicator}`}),i.createElement(L.IconButton,{recordingKey:r.joinKeys(this.props,"teamLibrary"),selected:this.props.isLibraryModalShown,"data-tooltip-text":"Team Library",svg:H,fallbackSvg:O,onClick:this.props.toggleLibraryModal})))),i.createElement(h.ScrollContainer,{ref:this.scrollContainerRef,onScroll:this.onScroll,width:this.props.width,className:x.scrollContainerFullHeight,showScrollbar:!0},s&&i.createElement("div",{className:x.stickySearchBuffer}),s&&o&&i.createElement("div",{className:x.text},i.createElement(q,null,"No results for '",t.query,"'")),!s&&o&&i.createElement(B,{dispatch:this.props.dispatch}),i.createElement(I.RecordableDiv,{className:x.componentsListContainer,style:l,onMouseUp:this.clearSelection,recordingKey:"componentsListContainer"},this.renderElementsInView())),!!m&&i.createElement(u.LibraryItemContextMenu,Object.assign({},this.props)),this.isDragging()&&i.createElement(u.DraggingLibraryItem,{componentDragState:this.props.library.dragState,isList:e,size:e?N:y.calcThumbSize(this.props.width,12),isMouseDraggedOverCanvas:this.isMouseDraggedOverCanvas,ref:this.draggingLibraryItemRef,isSearch:s,isPrivate:a>0&&c&&this.props.library.dragState.draggingComponent&&!!this.privateComponentsByID[this.props.library.dragState.draggingComponent.node_id]}))}}U.displayName="ComponentsSidebar",t.ComponentsSidebar=U;const V=s(706                                                             ),H=s(707                                               ),O=s(708                                                 );class B extends i.PureComponent{constructor(){super(...arguments),this.openLibrary=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:P.AppModal.LIBRARY_PREFERENCES_MODAL}))})}render(){return i.createElement(q,null,i.createElement("div",{className:x.emptyStateTitle},"Components"),i.createElement("div",{className:x.emptyStateContent},i.createElement(c.Svg,{className:x.emptyStateIcon,svg:V}),i.createElement("div",{className:x.emptyStateText},'To create a component, select a layer and click the "Create Component" button in the toolbar.'," ",i.createElement("a",{className:x.link,href:"https://help.figma.com/drawing/components",target:"_blank",rel:"noopener"},"Learn more"))),i.createElement("div",{className:x.emptyStateContent},i.createElement(M.SvgWithFallback,{className:x.emptyStateIcon,svg:H,fallbackSvg:O}),i.createElement("div",{className:x.emptyStateText},"Use libraries for quick access to components from other files."," ",i.createElement("a",{className:x.link,onClick:this.openLibrary},"Explore libraries..."))))}}B.displayName="EmptyComponentState";class q extends i.PureComponent{render(){return i.createElement("div",Object.assign({className:x.emptyState},this.props))}}q.displayName="EmptyState";let $=null;t.scrollComponentPanelToLibraryFile=(e=>{$=e});const j=new class{visit(e){const{results:t,moreResults:s,showMoreResults:o}=e.library.localSearch.components,{childrenSoFar:n,stickyKey:r}=e;if(t.length>0){const s=Object.assign({},e,{recordingKey:"componentTiles.searchResults",isShowingLocalLibraryItems:!1,isFilePublished:!0,componentList:t,keyPrefix:`${e.keyPrefix}:searchResults`});y.VisitableTiles.visit(s)}if(s.length>0){const t=g.RenderedElementTree.getNextRenderedElementTop(n);if(n.push({type:g.RenderedItemType.ROW,top:t,height:40,key:`${e.keyPrefix}:searchResults:moreResultsLink`,element:i.createElement("div",{className:x.text},o&&"Showing results from the library",!o&&i.createElement("a",{className:x.link,onClick:e.toggleShowMoreResults},1===s.length&&"1 more result from the library",s.length>1&&`${s.length} more results from the library`)),stickyKey:r}),o){const t=Object.assign({},e,{recordingKey:"componentTiles.moreSearchResults",isFilePublished:!0,isShowingLocalLibraryItems:!1,componentList:s,keyPrefix:`${e.keyPrefix}:moreSearchResults`});y.VisitableTiles.visit(t)}}}};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"ge868c826",src:'<svg width="7" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 6l.354.354L6.707 6l-.353-.354L6 6zM.646 1.354l5 5 .708-.708-5-5-.708.708zm5 4.292l-5 5 .708.708 5-5-.708-.708z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g4735e1f9",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M6.207 8.5l6.647-6.646-.707-.708L4.793 8.5l7.354 7.354.707-.708L6.207 8.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(232                        ),n=r(0                  );s.getPreferences=function(e){if(n.default().feature_flags.user_flags){const s={};return Object.keys(e.userFlags).forEach(e=>s[e]=!0),s}return e.user?e.user.preferences:{}},s.putPreferences=function(e,s){n.default().feature_flags.user_flags?s.reset_onboarding?e(t.userFlags.resetOnboarding()):e(t.userFlags.post({flags:s})):e(t.user.putPreferences({preferences:s}))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(34,1   ),r=i(232                        ),a=i(143              ),o=i(198         ),n=i(96         ),l=i(370              ),p=i(283         ),c=i(219          ),h=i(1471                    ),d=i(243                      ),m=i(371                       ),u=i(374                            ),b=i(173                        ),y=i(214                                                    ),g=i(552                                                 ),f=i(144                        ),S=i(553                                                     ),F=i(385                                        ),E=i(562             ),w=i(376                                                  ),_=i(691                                                                 ),T=i(435                                                                 ),v=i(693                            ),N=i(1417                       ),I=i(694                                                                         ),O=i(709                                                                 ),P=i(172                     ),C=i(204                                            ),M=i(604                             ),L=i(126                     ),D=i(346                                 ),k=i(702                                                               ),U=l.pxToInt(F.toolbarHeight),B=i(710                                   ),A=i(711                                    ),R=i(210                              ),H=i(551                              ),j=i(712                                           );class x extends v.Tab{}function K(e){const s=e.selectedView.teamId;if(!s)return!1;const i=e.teams[s];return!!i&&null!=i.org_id}s.canShowSharedFonts=K;class V extends a.Component{constructor(e){super(e),this.close=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.setTab=(e=>{this.setState({tab:e})});let s=e.tab||m.LibraryPreferencesModalTab.LIBRARIES;(this.props.selectedView.teamId||this.props.selectedView.userId)&&e.tab!==m.LibraryPreferencesModalTab.FONTS&&(s=m.LibraryPreferencesModalTab.LIBRARIES),this.state={tab:s}}modalWidth(){return l.pxToInt(K(this.props)?F.sharedFontsModalWidth:F.libraryPreferencesModalWidth)}renderTabs(){if(this.props.selectedView.teamId||this.props.selectedView.userId)return t.createElement("div",{className:H.tabs},t.createElement(x,{recordingKey:a.joinKeys(this.props,"libraryTab"),onClick:this.setTab,tab:m.LibraryPreferencesModalTab.LIBRARIES,selectedTab:this.state.tab},"Libraries"),K(this.props)&&t.createElement(x,{recordingKey:a.joinKeys(this.props,"fontsTab"),onClick:this.setTab,tab:m.LibraryPreferencesModalTab.FONTS,selectedTab:this.state.tab},"Shared Fonts"));const e=u.numUpdates(this.props.library),s=b.canEditFile(this.props.editingFileKey,this.props);return t.createElement("div",{className:H.tabs},t.createElement(x,{recordingKey:a.joinKeys(this.props,"libraryTab"),onClick:this.setTab,tab:m.LibraryPreferencesModalTab.LIBRARIES,selectedTab:this.state.tab,disabled:!s},"Libraries"),t.createElement(x,{recordingKey:a.joinKeys(this.props,"updatesTab"),onClick:this.setTab,tab:m.LibraryPreferencesModalTab.UPDATES,selectedTab:this.state.tab,disabled:!s},"Updates",e>0&&t.createElement("div",{className:H.updateBadge},e)))}render(){const e=new o.Vector((window.innerWidth-this.modalWidth())/2,U+12),s=this.props.selectedView.teamId||null,i=!!this.props.selectedView.userId;let r=H.modalContentContainer;return K(this.props)&&(r+=` ${H.sharedFonts}`),t.createElement(y.DraggableModal,{headerSize:"large",dragHeaderOnly:!0,onClose:this.close,title:this.renderTabs(),initialPosition:e},t.createElement("div",{className:r},this.state.tab===m.LibraryPreferencesModalTab.LIBRARIES&&t.createElement($,Object.assign({showingDefaultSubscriptionsForTeamId:s,showingDefaultSubscriptionsForUser:i,showingDefaultSubscriptionsForOrg:null,width:this.modalWidth()},this.props)),this.state.tab===m.LibraryPreferencesModalTab.FONTS&&t.createElement(E.SharedFonts,Object.assign({},this.props,{teamId:s,orgId:this.props.currentOrgId,width:this.modalWidth(),resourceType:"team"})),this.state.tab===m.LibraryPreferencesModalTab.UPDATES&&t.createElement(g.Updates,Object.assign({},this.props,{width:this.modalWidth()}))))}}V.displayName="LibraryPreferencesModal",s.LibraryPreferencesModal=V;class $ extends a.Component{constructor(e){super(e),this.viewFile=(e=>{this.setState({fileKey:e})}),this.backToList=(()=>{this.setState({fileKey:null})});let s=null;if(this.props.modalShown&&this.props.modalShown.type===N.AppModal.LIBRARY_PREFERENCES_MODAL){const e=this.props.modalShown.data;e&&e.fileKey&&(s=e.fileKey)}this.state={fileKey:s}}render(){const e=h.getEditingFile(this.props),s=I.getLocalLibraryItemsInfo(this.props.library.local.styles),i=I.getLocalLibraryItemsInfo(this.props.library.local.components);let r=!0;if(this.props.showingDefaultSubscriptionsForTeamId){const e=this.props.teams[this.props.showingDefaultSubscriptionsForTeamId];r=e&&b.canAdminTeam(e.id,this.props)}return this.props.showingDefaultSubscriptionsForUser&&(r=!!this.props.user),this.props.showingDefaultSubscriptionsForOrg&&(r=b.canAdminOrg(this.props.showingDefaultSubscriptionsForOrg.id,this.props)),t.createElement("div",{className:`${H.slidingPaneContainer} ${this.props.inOrgDashboardModal?H.orgDashboardModal:""}`},t.createElement("div",{className:this.state.fileKey?H.slidingPaneLeft:H.slidingPane},t.createElement(W,Object.assign({editingFile:e,editingFileStylesInfo:s,editingFileComponentsInfo:i,viewFile:this.viewFile,canEditSubscriptions:r},this.props))),t.createElement("div",{className:this.state.fileKey?H.slidingPane:H.slidingPaneRight},this.state.fileKey&&t.createElement(X,Object.assign({editingFile:e,editingFileStylesInfo:s,editingFileComponentsInfo:i,libraryFile:this.props.fileByKey[this.state.fileKey],backToList:this.backToList,showingDefaultSubscriptionsForUser:this.props.showingDefaultSubscriptionsForUser,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,canEditSubscriptions:r,width:this.props.width},h.stateWithoutMirror(this.props)))))}}$.displayName="LibrarySubscriptions",s.LibrarySubscriptions=$;class W extends a.Component{constructor(){super(...arguments),this.onSearchQueryChange=(e=>{this.props.dispatch(r.library.setLibraryQuery({query:e}))})}render(){const e=this.props.editingFile,s=new Set,i={},r={},a={};let o=!1;const l=(t,n)=>{let l=this.props.showingDefaultSubscriptionsForTeamId;this.props.showingDefaultSubscriptionsForUser&&(l=m.NO_TEAM_ID);for(let p in t){let c=!1;this.props.showingDefaultSubscriptionsForTeamId?c=!0:this.props.showingDefaultSubscriptionsForUser&&(c=!0),i[p]=i[p]||new Set;for(let s in t[p]){if(c&&p!==l){const e=this.props.fileByKey[s];if(!e||!e.org_browsable)continue}i[p].add(s);const h=n===m.LibraryItemType.COMPONENT?r:a;h[s]=h[s]||0,h[s]+=Object.keys(t[p][s]).length,e&&e.key===s&&(o=!0)}i[p].size>0&&s.add(p)}};if(this.props.library.librarySearchQuery)l(this.props.library.publishedSearchResults.components.filteredByTeamId,m.LibraryItemType.COMPONENT),l(this.props.library.publishedSearchResults.styles.filteredByTeamId,m.LibraryItemType.STYLE);else if(l(this.props.library.published.components,m.LibraryItemType.COMPONENT),l(this.props.library.published.styles,m.LibraryItemType.STYLE),this.props.editingFile){const e=this.props.editingFile.team_id||m.NO_TEAM_ID;s.add(e),i[e]=i[e]||new Set,i[e].add(this.props.editingFile.key),o=!0}const c=Array.from(s).map(e=>this.props.teams[e]||{id:e});if(n.sortAlphabeticallyByProperty(c,"name"),this.props.editingFile&&this.props.editingFile.team_id){const e=this.props.teams[this.props.editingFile.team_id];if(e){const s=c.findIndex(s=>s===e);-1!==s&&(c.splice(s,1),c.unshift(e))}}const h={};s.forEach(e=>{if(h[e]=Array.from(i[e]).map(e=>this.props.fileByKey[e]),this.props.library.librarySearchQuery){const s=this.props.library.publishedSearchResults.components.minScorePerFile,i=this.props.library.publishedSearchResults.styles.minScorePerFile;h[e].sort((e,t)=>{return Math.min(s[e.key],i[e.key])-Math.min(s[t.key],i[t.key])})}else n.sortAlphabeticallyByProperty(h[e],"name")});const d=this.props.library.librarySearchQuery&&0===c.length,u=o&&1===c.length&&h[c[0].id]&&1===h[c[0].id].length&&h[c[0].id][0].key===this.props.editingFile.key,b=p.isEmpty(this.props.library.subscriptions.forCurrentUser);return t.createElement("div",null,t.createElement("div",{className:H.searchWrapper},t.createElement(k.LibrarySearch,Object.assign({},this.props,{className:H.search,width:this.props.width,query:this.props.library.librarySearchQuery,onChange:this.onSearchQueryChange,extraSpacing:!0,isVisible:!0}))),t.createElement(w.ScrollContainer,{className:H.fileListView,showScrollbar:!0,width:this.props.width},this.props.showingDefaultSubscriptionsForTeamId&&t.createElement(Q,Object.assign({},this.props,{isEmpty:0===c.length})),this.props.showingDefaultSubscriptionsForUser&&t.createElement(Y,Object.assign({},this.props,{isEmpty:b})),d&&t.createElement("div",{className:H.info},"No results for '",this.props.library.librarySearchQuery,"'"),t.createElement("div",{className:H.teamSectionsWrapper},o&&t.createElement("div",{className:H.teamSection},t.createElement("div",{className:H.sectionHeader},"Current file"),t.createElement(G,Object.assign({file:e,numComponents:r[e.key]||0,numStyles:a[e.key]||0},this.props,{isCurrentFile:!0}))),c.map(s=>{const i=h[s.id];if(i&&0!==i.length&&(!e||1!==i.length||i[0].key!==e.key))return t.createElement("div",{key:s.id,className:H.teamSection},!this.props.showingDefaultSubscriptionsForTeamId&&t.createElement("div",{className:H.sectionHeader},s.name||"Drafts"),i.map(s=>e&&s.key===e.key?null:t.createElement(G,Object.assign({key:s.key,file:s,numComponents:r[s.key],numStyles:a[s.key]},this.props))))}),!u&&t.createElement(z,Object.assign({},this.props)))))}}W.displayName="SubscriptionListView";class Q extends t.PureComponent{render(){if(this.props.isEmpty)return t.createElement("div",{className:H.teamSubscriptionHint},"There are no published components or styles in your team.");if(this.props.canEditSubscriptions)return t.createElement("div",{className:H.teamSubscriptionHint},"Enabling a team library will make it show up in all team files.");{const e=[],s=this.props.roles.byTeamId[this.props.showingDefaultSubscriptionsForTeamId]||{};for(const t in s){const i=s[t];!i.pending&&i.level>=L.PermissionLevel.ADMIN&&e.push(i.user)}let i="";return 1===e.length?i=`Your team admin is ${e[0].handle}.`:2===e.length?i=`Your team admins are ${e[0].handle} and ${e[1].handle}.`:3===e.length?i=`Your team admins are ${e[0].handle}, ${e[1].handle} and ${e[2].handle}.`:e.length>=4&&(i=`Your team admins include ${e[0].handle}, ${e[1].handle} and ${e.length-2} others.`),t.createElement("div",{className:H.teamSubscriptionHint},"Only team admins can enable libraries for the team.",i&&t.createElement("div",null,i))}}}Q.displayName="TeamSubscriptionHint";class Y extends t.PureComponent{render(){return this.props.isEmpty?t.createElement("div",{className:H.teamSubscriptionHint},"There are no published styles in your drafts."):t.createElement("div",{className:H.teamSubscriptionHint},"Enabling a file will make its styles available in all personal drafts.")}}Y.displayName="UserSubscriptionHint";class z extends t.PureComponent{constructor(){super(...arguments),this.dismissTeamHint=(()=>{j.putPreferences(this.props.dispatch,{dismissed_library_modal_hint:!0})}),this.dismissDraftHint=(()=>{j.putPreferences(this.props.dispatch,{dismissed_library_modal_draft_hint:!0})})}render(){if(this.props.showingDefaultSubscriptionsForOrg)return null;if(this.props.showingDefaultSubscriptionsForTeamId)return null;if(this.props.showingDefaultSubscriptionsForUser)return null;if(this.props.library.librarySearchQuery)return null;const e=j.getPreferences(this.props);if(!e.dismissed_library_modal_hint){const e=this.props.teams[this.props.editingFile.team_id];if(e&&b.canAdminTeam(e.id,this.props))return t.createElement(q,{dismiss:this.dismissTeamHint},"Enable libraries for all team files from your"," ",t.createElement("a",{target:"_blank",rel:"noopener",href:`/files/team/${e.id}`,className:H.link},"Team Settings"))}return!e.dismissed_library_modal_draft_hint&&p.isEmpty(this.props.roles.byTeamId)?t.createElement(q,{dismiss:this.dismissDraftHint},"Enable Libraries for all your drafts from your"," ",t.createElement("a",{target:"_blank",rel:"noopener",href:`/files/user/${this.props.user.id}`,className:H.link},"User Account Settings")):null}}z.displayName="LibraryModalHint";class q extends t.PureComponent{render(){return t.createElement("div",null,t.createElement("div",{className:H.libraryModalHintSpacer}),t.createElement("div",{className:H.libraryModalHint},t.createElement("div",{className:H.libraryModalHintText},this.props.children),t.createElement("div",{className:H.dismissLibraryModalHint,onMouseDown:this.props.dismiss,"data-tooltip-text":"Don't show again"},t.createElement(f.Svg,{svg:R}))))}}q.displayName="Hint";class G extends t.PureComponent{constructor(){super(...arguments),this.viewFile=(()=>{this.isEmpty()||this.props.viewFile(this.props.file.key)}),this.countString=(()=>{const e=this.props.numComponents,s=this.props.numStyles;if(this.isEmpty())return"No components or styles";const i=[];return e>0&&i.push(1===e?"1 component":`${e} components`),s>0&&i.push(1===s?"1 style":`${s} styles`),i.join(", ")}),this.matchString=(()=>{const e=this.props.numComponents,s=this.props.numStyles,i=[];return e>0&&i.push(1===e?"1 component match":`${e} component matches`),s>0&&i.push(1===s?"1 style match":`${s} style matches`),2===i.length?t.createElement("div",null,i[0],t.createElement("br",null),i[1]):1===i.length?i[0]:""})}isEmpty(){return this.props.numComponents+this.props.numStyles===0}render(){const e=this.props.file,s=this.isEmpty();return t.createElement("div",null,t.createElement("div",{className:this.isEmpty()?H.fileRowNoHover:H.fileRow,onMouseDown:this.viewFile},t.createElement("div",{className:H.nameAndToggle},!this.props.isCurrentFile&&t.createElement(J,{library:this.props.library,editingFile:this.props.editingFile,libraryFile:e,showingDefaultSubscriptionsForUser:!!this.props.showingDefaultSubscriptionsForUser,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,disabled:!this.props.canEditSubscriptions,dispatch:this.props.dispatch,isFileEmpty:s,user:this.props.user}),t.createElement("div",{className:H.fileName},e.name)),!this.props.isCurrentFile&&t.createElement("div",{className:H.fileItemCount},this.props.library.librarySearchQuery?this.matchString():this.countString()),this.props.isCurrentFile&&t.createElement("div",{className:H.fileItemCount},t.createElement(se,Object.assign({},this.props,{publishedState:t.createElement("div",null,"Published and up to date"),emptyState:t.createElement("div",{className:H.fileItemCount},this.countString())}))),!s&&t.createElement("div",{className:H.fileRowCaretRightWrapper},t.createElement(f.Svg,{svg:B}))),this.props.library.librarySearchQuery&&t.createElement(ee,Object.assign({},this.props,{libraryFile:this.props.file,inline:!0})))}}G.displayName="FileRow";class J extends t.PureComponent{constructor(){super(...arguments),this.state={showingOrgConfirmationModal:!1},this.showDisabledMessage=(()=>{this.props.showingDefaultSubscriptionsForTeamId&&this.props.dispatch(r.visualBell.enqueue({message:"Contact a team admin to enable default libraries for your team.",timeout:3e3}))}),this.toggleOn=(e=>{if(e&&e.stopPropagation&&e.stopPropagation(),this.props.disabled)return void this.showDisabledMessage();const s=this.props.libraryFile;if(this.props.showingDefaultSubscriptionsForOrg)this.setState({showingOrgConfirmationModal:!0});else if(this.props.showingDefaultSubscriptionsForTeamId)this.props.dispatch(S.postTeamSubscription({libraryTeamSubscription:{team_id:this.props.showingDefaultSubscriptionsForTeamId,file_key:s.key,is_subscribed:!0},userInitiated:!0})),c.segment.track("Team Library File Enabled");else if(this.props.showingDefaultSubscriptionsForUser)this.props.dispatch(S.postUserSubscription({libraryUserSubscription:{file_key:s.key,is_subscribed:!0},userInitiated:!0}));else{const e=this.props.editingFile;this.props.dispatch(S.postFileSubscription({libraryFileSubscription:{file_key:e.key,library_file_key:s.key,is_subscribed:!0},userInitiated:!0})),c.segment.track("Library File Enabled"),u.publishedLibraryItemsForFileAsList(this.props.library.published.components,s).length>0&&(this.props.dispatch(r.fullscreen.setLeftPanelTab({tab:M.LeftPanelTab.PUBLISH})),O.scrollComponentPanelToLibraryFile(s.key))}}),this.toggleOff=(e=>{if(e.stopPropagation(),this.props.disabled)return void this.showDisabledMessage();const s=this.props.libraryFile;if(this.props.showingDefaultSubscriptionsForOrg)this.props.dispatch(S.deleteOrgSubscription({libraryOrgSubscription:{org_id:s.parent_org_id,file_key:s.key},userInitiated:!0})),c.segment.track("Org Library File Disabled");else if(this.props.showingDefaultSubscriptionsForTeamId)this.props.dispatch(S.postTeamSubscription({libraryTeamSubscription:{team_id:this.props.showingDefaultSubscriptionsForTeamId,file_key:s.key,is_subscribed:!1},userInitiated:!0})),c.segment.track("Team Library File Disabled");else if(this.props.showingDefaultSubscriptionsForUser)this.props.dispatch(S.postUserSubscription({libraryUserSubscription:{file_key:s.key,is_subscribed:!1},userInitiated:!0}));else{const e=this.props.editingFile;this.props.dispatch(S.postFileSubscription({libraryFileSubscription:{file_key:e.key,library_file_key:s.key,is_subscribed:!1},userInitiated:!0})),c.segment.track("Library File Disabled")}}),this.isToggleOn=(()=>this.props.showingDefaultSubscriptionsForOrg?u.isCurrentOrgSubscribedTo(this.props.library,this.props.libraryFile):this.props.showingDefaultSubscriptionsForTeamId?u.isTeamSubscribedTo(this.props.library,this.props.showingDefaultSubscriptionsForTeamId,this.props.libraryFile):this.props.showingDefaultSubscriptionsForUser?u.isCurrentUserSubscribedTo(this.props.library,this.props.libraryFile):u.isFileSubscribedTo(this.props.library,this.props.editingFile,this.props.libraryFile)),this.actuallyToggleOnOrg=(()=>{const e=this.props.libraryFile;this.props.dispatch(S.postOrgSubscription({libraryOrgSubscription:{org_id:e.parent_org_id,file_key:e.key},userInitiated:!0})),c.segment.track("Org Library File Enabled"),this.setState({showingOrgConfirmationModal:!1})}),this.hideConfirmationModal=(()=>this.setState({showingOrgConfirmationModal:!1})),this.renderOrgConfirmationModal=(()=>{let e,s,i=this.props.showingDefaultSubscriptionsForOrg;return d.isFileOrgBrowsable(this.props.libraryFile)?(e="This library will show up in all organization files by default.",s="Enable library"):(e=t.createElement("div",null,"In order to enable this library for your organization, you'll need to give everyone access to it.",t.createElement("br",null),t.createElement("br",null),"This will change the privacy of '",this.props.libraryFile.name,"' to 'Everyone at ",i.name," can view.'"),s="Change privacy and enable"),t.createElement(D.ConfirmationModal,{confirmationTitle:"Enable Library for Organization?",dontClose:!0,content:e,confirmText:s,cancelText:"Cancel",onConfirm:this.actuallyToggleOnOrg,onCancel:this.hideConfirmationModal,dispatch:this.props.dispatch})})}render(){const e=this.isToggleOn();return t.createElement("div",null,t.createElement("div",{className:this.props.disabled?H.disabledSubscriptionToggleContainer:H.subscriptionToggleContainer,onMouseDown:e?this.toggleOff:this.toggleOn},this.props.includeLabel&&t.createElement("div",{className:H.subscribeLabel},"Enable"),t.createElement("div",{className:e?H.toggleOn:H.toggleOff},t.createElement("div",{className:H.toggle}))),this.state.showingOrgConfirmationModal&&this.renderOrgConfirmationModal())}}J.displayName="SubscriptionToggle";class X extends t.PureComponent{render(){const e=this.props.libraryFile,s=u.publishedLibraryItemsForFileAsList(this.props.library.published.styles,e),i=u.sortStylesByTypeAndPosition(s),r=u.publishedLibraryItemsForFileAsList(this.props.library.published.components,e),a=this.props.editingFile&&this.props.editingFile.key===this.props.libraryFile.key,o=i.length>0,n=r.length>0;return t.createElement("div",null,t.createElement("div",{className:H.fileViewHeader,onMouseDown:this.props.backToList},t.createElement(f.Svg,{svg:A}),t.createElement("div",{className:H.fileName},this.props.libraryFile.name),!a&&t.createElement(J,{library:this.props.library,editingFile:this.props.editingFile,libraryFile:this.props.libraryFile,showingDefaultSubscriptionsForTeamId:this.props.showingDefaultSubscriptionsForTeamId,showingDefaultSubscriptionsForOrg:this.props.showingDefaultSubscriptionsForOrg,showingDefaultSubscriptionsForUser:this.props.showingDefaultSubscriptionsForUser,dispatch:this.props.dispatch,includeLabel:!0,disabled:!this.props.canEditSubscriptions,user:this.props.user}),a&&t.createElement("div",{className:H.currentFileLabel},"Current file")),t.createElement(w.ScrollContainer,{width:this.props.width,showScrollbar:!0,className:a?H.currentFileView:H.fileView},t.createElement(ee,Object.assign({inline:!1},this.props)),o&&t.createElement("div",{className:H.sectionWrapper},t.createElement("div",{className:H.stylesSection},i.map(e=>t.createElement(T.StyleIcon,{key:e.key,style:e,className:H.styleThumb,showTooltip:!0})))),n&&t.createElement("div",{className:H.sectionWrapper},t.createElement(_.ComponentTilesByPage,Object.assign({width:this.props.width,componentList:r,isShowingLocalLibraryItems:!1,inModal:!0},this.props)))),a&&t.createElement(Z,Object.assign({},this.props)))}}X.displayName="SubscriptionFileView";class Z extends t.PureComponent{constructor(){super(...arguments),this.confirmUnpublish=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:N.AppModal.CONFIRM_UNPUBLISH_COMPONENTS}))})}render(){if(this.props.editingFile.key!==this.props.libraryFile.key)return null;const e=this.props.editingFileStylesInfo,s=this.props.editingFileComponentsInfo;let i=e.numUpdates;return P.canAccessProFeature(this.props.teams[this.props.editingFile.team_id])&&(i+=s.numUpdates),t.createElement("div",{className:H.fileViewFooter},t.createElement("div",{className:H.fileViewFooterText},i>0?"Current file has changes":"Current file is published"),t.createElement("div",{className:H.fileViewFooterButtons},t.createElement(C.ButtonSecondary,{onClick:this.confirmUnpublish,className:H.fileViewFooterButton},"Unpublish"),t.createElement("div",{className:H.fileViewFooterButton},t.createElement(se,Object.assign({},this.props,{publishedState:t.createElement(C.ButtonPrimary,{disabled:!0},"Publish changes"),emptyState:t.createElement(C.ButtonPrimary,{disabled:!0},"Publish changes")})))))}}Z.displayName="SubscriptionFileViewFooter";class ee extends t.PureComponent{constructor(){super(...arguments),this.getBestMatches=((e,s)=>{const i=this.props.libraryFile;if(i.team_id in e&&i.key in e[i.team_id]){const t=e[i.team_id][i.key],r=Object.keys(t).map(e=>t[e]);return r.sort((e,s)=>e.score-s.score),r.slice(0,s)}return null})}render(){if(!this.props.library.librarySearchQuery)return null;const e=this.getBestMatches(this.props.library.publishedSearchResults.components.filteredByTeamId,8);let s=null;return this.props.inline||(s=this.getBestMatches(this.props.library.publishedSearchResults.styles.filteredByTeamId,14)),e||s?t.createElement("div",{className:this.props.inline?"":H.bestMatches},!this.props.inline&&t.createElement("div",{className:H.header},"Best matches for '",this.props.library.librarySearchQuery,"'"),this.props.inline&&t.createElement("div",{className:H.bestMatchesSpacer}),s&&t.createElement("div",{className:H.stylesSection},s.map(e=>t.createElement(T.StyleIcon,{key:e.key,style:e,className:H.styleThumb,showTooltip:!0}))),s&&t.createElement("div",{style:{height:12}}),e&&t.createElement(_.ComponentTiles,Object.assign({width:this.props.width,componentList:e,inModal:!0},this.props))):null}}ee.displayName="BestMatches";class se extends t.PureComponent{constructor(){super(...arguments),this.showPublishModal=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:N.AppModal.PUBLISH_COMPONENTS_MODAL}))}),this.showUpsellModal=(()=>{const e=h.getEditingFile(this.props),s=this.props.teams[e.team_id];this.props.dispatch(r.fileBrowser.showModal({type:N.AppModal.PUBLISH_COMPONENTS_UPSELL_MODAL,data:{team:s,afterFileMove:this.showPublishModal}}))}),this.stopPropagation=(e=>e.stopPropagation())}render(){if(!this.props.editingFile)return null;if(this.props.library.publishProgress.state!==m.PublishProgressState.NONE)return t.createElement(C.ButtonSecondary,{disabled:!0},"Publishing");const e=this.props.editingFileStylesInfo,s=this.props.editingFileComponentsInfo,i=P.canAccessProFeature(this.props.teams[this.props.editingFile.team_id]);if(!(e.numPublished>0||s.numPublished>0&&i)){if(e.numUpdates>0||s.numUpdates>0){let e=s.numUpdates>0&&!i;return t.createElement(C.ButtonSecondary,{onClick:e?this.showUpsellModal:this.showPublishModal,onMouseDown:this.stopPropagation},"Publish")}return this.props.emptyState}let r=e.numUpdates;return i&&(r+=s.numUpdates),r>0?t.createElement(C.ButtonPrimary,{onClick:this.showPublishModal,onMouseDown:this.stopPropagation},`Publish ${1===r?"1 change":`${r} changes`}`):this.props.publishedState}}se.displayName="PublishButton",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function($,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=t(34,1   );class n extends s.PureComponent{render(){const{percent:$,width:e=18}=this.props,t=2*$*Math.PI,n="string"==typeof e?parseFloat(e):e,o=n/2,r=n/2,a=r-3,i=o+a*Math.cos(t-Math.PI/2),l=o+a*Math.sin(t-Math.PI/2);let c="",p="";$<=.5?c=`M${o},${o} L${o},${o-a} A${a},${a} 1 0,1 ${i},${l} Z`:(c=`M${o},${o} L${o},${o-a} A${a},${a} 1 0,1 ${o},${o+a} Z`,p=`M${o},${o} L${o},${o+a} A${a},${a} 1 0,1 ${i},${l} Z`);const h=`M ${o-r},${o} `+`a ${r},${r} 0 1,0 ${o+r},${o-r} `+`a ${r},${r} 0 1,0 ${-(o+r)},${o-r} Z`+`M ${o-(r-1)},${o} `+`a ${r-1},${r-1} 0 1,0 ${2*(r-1)},0 `+`a ${r-1},${r-1} 0 1,0 ${-2*(r-1)},0 Z`;return s.createElement("svg",Object.assign({width:n,height:n},this.props,{viewBox:`0 0 ${n} ${n}`,fill:"none",xmlns:"http://www.w3.org/2000/svg"}),s.createElement("path",{fillRule:"evenodd",d:`${h} ${c} ${p}`,fill:"#4B4B4B"}))}}n.displayName="Progress",e.Progress=n,$.exports instanceof Function&&($.exports.default=$.exports)}),
(function(i,l,o){i.exports={publishModal:"publishing_modal--publishModal--2KLXT",descriptionInput:"publishing_modal--descriptionInput--qMiuY",info:"publishing_modal--info--2Jkok",listExpander:"publishing_modal--listExpander--184cP",upsell:"publishing_modal--upsell--38j5W",link:"publishing_modal--link--372jk blue_link--blueLink--22X56",list:"publishing_modal--list--7mlut",title:"publishing_modal--title--HTuXJ",scrollContainer:"publishing_modal--scrollContainer--31UjM",section:"publishing_modal--section--_Nkoh",sectionHeader:"publishing_modal--sectionHeader--38Ghy",sectionSubheader:"publishing_modal--sectionSubheader--1Hz9L",libraryItemRow:"publishing_modal--libraryItemRow--1-5aH",libraryItemRowPrivate:"publishing_modal--libraryItemRowPrivate--2dGw9 publishing_modal--libraryItemRow--1-5aH",name:"publishing_modal--name--2KXGx ellipsis--ellipsis--1RWY6",changeCol:"publishing_modal--changeCol--3Zmxh",nameCol:"publishing_modal--nameCol--220dX",contextMenu:"publishing_modal--contextMenu--13_EG",itemThumbWrapper:"publishing_modal--itemThumbWrapper--2YTYU",itemThumb:"publishing_modal--itemThumb--1miTu",actionRow:"publishing_modal--actionRow--H5Hwk",assemblingProgress:"publishing_modal--assemblingProgress--1Yzbw",additionalActions:"publishing_modal--additionalActions--15ExB",actionButtons:"publishing_modal--actionButtons--3pJ7q",main:"publishing_modal--main--1oEot",betaLabel:"publishing_modal--betaLabel--2TAq3",btn:"publishing_modal--btn--2wfkU",footer:"publishing_modal--footer--2u9vZ"},i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(t,e,s){t.exports={id:"g06a37a1e",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11.44 8.5l-6.647 6.646.707.708L12.854 8.5 5.5 1.146l-.707.708L11.439 8.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf9bb67ac",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M8.823 11.116L2.177 4.47l-.707.707 7.353 7.353 7.354-7.353-.707-.707-6.647 6.646z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),r=s(232                        ),a=s(1432                                       ),o=s(199      ),n=s(140           ),l=s(516           ),p=s(1471                    ),c=s(371                       ),d=s(243                      ),h=s(374                            ),m=s(341                              ),u=s(172                     ),b=s(346                                 ),y=s(435                                                                 ),g=s(204                                            ),E=s(144                        ),f=s(376                                                  ),P=s(714                        ),S=s(715                     ),N=s(408                                  ),w=s(162                    ),C=N.dropdown.Dropdown,_=N.dropdown.Option,v=438,A=48,L=s(716                                     ),I=s(717                                    ),T=e=>e!==c.LibraryStatus.DELETED&&e!==c.LibraryStatus.NOT_STAGED;class x extends i.PureComponent{constructor(e){super(e),this.refreshModifiedComponents=l.throttle(()=>{this.props.dispatch(r.library.generateComponentThumbnails({includeDeleted:!0,includeNotChanged:!0}))},0),this.toggleListExpanded=(()=>{this.setState({listExpanded:!this.state.listExpanded})}),this.stylesString=(e=>1===e?"1 style":`${e} styles`),this.componentsString=(e=>1===e?"1 component":`${e} components`),this.publishText=((e,t,s)=>{if(e){const e=[];if(s>0&&e.push(this.stylesString(s)),t>0&&e.push(this.componentsString(t)),e.length)return e.join(" and ")+" will be included."}else{const e=s+t;if(e>0)return 1===e?"1 change.":`${e} changes.`}return"No components or styles will be included."}),this.upsellPrompt=((e,t)=>i.createElement("div",{className:S.upsell},this.componentsString(e)," will not be published. Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature.")),this.publish=(()=>{const e=p.getEditingFile(this.props);if(e.parent_org_id){const t=d.isFileOrgBrowsable(e);(this.state.allowOrgAccess&&!t||!this.state.allowOrgAccess&&t)&&this.props.dispatch(r.file.put({key:e.key,link_access:w.LinkAccess.ORG_VIEW,org_browsable:this.state.allowOrgAccess},!0))}h.hasPendingChanges(this.props.library)?this.props.dispatch(a.publishChanges({savepointDescription:this.state.description})):this.props.dispatch(r.file.createSavepoint(e,e.checkpoint_key,"Components Published",this.state.description))}),this.onKeyDown=(e=>{const t=n.mac?e.metaKey:e.ctrlKey;e.keyCode===o.Key.ENTER&&t&&(this.publish(),e.preventDefault(),e.stopPropagation())}),this.closeModal=(()=>{this.stopActivePublish(),this.props.dispatch(r.fileBrowser.hideModal())}),this.stopActivePublish=(()=>{this.props.library.publishProgress.state===c.PublishProgressState.ASSEMBLING_COMPONENTS&&this.props.dispatch(a.publishRequestFinished())}),this.onDescriptionChange=(e=>{this.setState({description:e.target.value})}),this.toggleAllowOrgAccess=(e=>{const t=e.target.checked;this.setState({allowOrgAccess:t})}),this.state={listExpanded:!1,description:"",allowOrgAccess:d.isFileOrgBrowsable(p.getEditingFile(e))}}componentDidMount(){this.refreshModifiedComponents()}UNSAFE_componentWillReceiveProps(e){e.library.publishProgress.state===c.PublishProgressState.UPLOADING&&this.closeModal(),this.refreshModifiedComponents()}separateModifiedFromPublishedFromPrivate(e){const t=[],s=[],i=[];for(let r in e){const a=e[r];h.willChange(a.status)?t.push(a):h.isPublished(a.status)?s.push(a):i.push(a)}return[t,s,i]}getExpandedLibraryListProps(e,t){let[s,i,r]=[[],[],[]];e&&([s,i,r]=this.separateModifiedFromPublishedFromPrivate(this.props.library.local.components));let[a,o,n]=[[],[],[]];return t&&([a,o,n]=this.separateModifiedFromPublishedFromPrivate(this.props.library.local.styles)),{modifiedComponents:s,unmodifiedPublishedComponents:i,unmodifiedPrivateComponents:r,modifiedStyles:a,unmodifiedPublishedStyles:o,unmodifiedPrivateStyles:n}}hasNewLibraryItems(e,t){if(e)for(let s in this.props.library.local.components){if(this.props.library.local.components[s].status==c.LibraryStatus.NEW)return!0}if(t)for(let s in this.props.library.local.styles){if(this.props.library.local.styles[s].status==c.LibraryStatus.NEW)return!0}return!1}renderAssemblingComponents(){return i.createElement("div",{className:S.assemblingProgress},i.createElement(P.Progress,{percent:this.props.library.publishProgress.progress}),i.createElement("span",null,"Assembling components and styles"))}render(){const e=this.props.library,t=p.getEditingFile(this.props),s=this.props.teams[t.team_id],r=u.canAccessProFeature(s),a=this.getExpandedLibraryListProps(r,!0),o=this.hasNewLibraryItems(r,!0);let n=0;for(let i in e.local.components){const t=e.local.components[i].status;T(t)&&n++}let l=null;t.parent_org_id&&(l=this.props.orgById[t.parent_org_id]);const d=this.props.library.publishProgress.state===c.PublishProgressState.ASSEMBLING_COMPONENTS;return i.createElement(b.Modal,{size:v,title:"Publish Library",className:S.publishModal,dispatch:this.props.dispatch,onKeyDown:this.onKeyDown,onHide:this.stopActivePublish},i.createElement("textarea",{className:S.descriptionInput,placeholder:"Optional description of changes",value:this.state.description,onChange:this.onDescriptionChange,autoFocus:!0}),i.createElement("div",{className:S.listExpander,onMouseDown:this.toggleListExpanded},i.createElement("div",null,i.createElement("div",{className:S.title},"Styles & Components"),i.createElement("div",{className:S.info},this.publishText(o,a.modifiedComponents.length,a.modifiedStyles.length))),i.createElement(E.Svg,{svg:this.state.listExpanded?I:L})),this.state.listExpanded&&i.createElement(M,Object.assign({},this.props,a)),!r&&n>0&&this.upsellPrompt(n,s),i.createElement("div",{className:S.actionRow},!d&&l&&i.createElement("div",{className:S.additionalActions},i.createElement(g.Checkbox,{id:"allow-org-access",checked:this.state.allowOrgAccess,onChange:this.toggleAllowOrgAccess}),i.createElement(g.Label,{htmlFor:"allow-org-access"},"Allow any member of ",l.name," to access this file")),!this.props.currentOrgId&&!r&&n>0&&i.createElement("div",{className:S.additionalActions},s?i.createElement("a",{className:S.link,target:"_blank",rel:"noopener",href:`/files/upgrade-team/${s.id}`},"Upgrade team"):i.createElement("a",{className:S.link,target:"_blank",rel:"noopener",href:"/files/create-team"},"Create a Professional Team")),d&&this.renderAssemblingComponents(),i.createElement("div",{className:S.actionButtons},i.createElement(g.ButtonSecondary,{onClick:this.closeModal},"Cancel"),i.createElement(g.ButtonPrimary,{disabled:this.props.library.publishProgress.state!==c.PublishProgressState.NONE,onClick:this.publish},r?"Publish":"Publish Styles"))))}}x.displayName="PublishingModal",t.PublishingModal=x;class M extends i.Component{constructor(){super(...arguments),this.renderStyles=(e=>e.map(e=>i.createElement(D,{key:e.node_id,libraryItem:e,libraryItemType:c.LibraryItemType.STYLE,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown}))),this.renderComponents=(e=>e.map(e=>i.createElement(D,{key:e.node_id,libraryItem:e,libraryItemType:c.LibraryItemType.COMPONENT,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown})))}render(){let{modifiedStyles:e,unmodifiedPublishedStyles:t,unmodifiedPrivateStyles:s,modifiedComponents:r,unmodifiedPublishedComponents:a,unmodifiedPrivateComponents:o}=this.props;e=h.sortStylesByTypeAndPosition(e),t=h.sortStylesByTypeAndPosition(t),s=h.sortStylesByTypeAndPosition(s),r=h.sortComponentsByPageAndFrameAndName(r),a=h.sortComponentsByPageAndFrameAndName(a),o=h.sortComponentsByPageAndFrameAndName(o);const n=e.length+r.length>0,l=t.length+a.length>0,p=s.length+o.length>0;return i.createElement("div",{className:S.list},i.createElement(f.ScrollContainer,{width:v-A,className:S.scrollContainer,showScrollbar:!0},n&&i.createElement("div",{className:S.section},i.createElement(O,{header:"Changed"}),this.renderStyles(e),this.renderComponents(r)),l&&i.createElement("div",{className:S.section},i.createElement(O,{header:"Unchanged"}),this.renderStyles(t),this.renderComponents(a)),p&&i.createElement("div",{className:S.section},i.createElement(O,{header:"Private to this file",subheader:"These components and styles will not be published"}),this.renderStyles(s),this.renderComponents(o))))}}M.displayName="ExpandedLibraryList";class O extends i.Component{render(){return i.createElement("div",{className:S.sectionHeader},this.props.header,this.props.subheader&&i.createElement("div",{className:S.sectionSubheader},this.props.subheader))}}O.displayName="SectionHeader";class D extends i.Component{constructor(){super(...arguments),this.statusText=(()=>{switch(this.props.libraryItem.status){case c.LibraryStatus.CAN_UPGRADE:return"Upgraded";case c.LibraryStatus.CHANGED:return"Modified";case c.LibraryStatus.CURRENT:return"No changes";case c.LibraryStatus.DELETED:return"Removed";case c.LibraryStatus.NEW:return"Added";case c.LibraryStatus.NOT_STAGED:return"Private"}}),this.hasChanges=(()=>{switch(this.props.libraryItem.status){case c.LibraryStatus.CAN_UPGRADE:case c.LibraryStatus.CHANGED:case c.LibraryStatus.NEW:case c.LibraryStatus.DELETED:return!0;case c.LibraryStatus.CURRENT:case c.LibraryStatus.NOT_STAGED:return!1}}),this.toggleIsPublishable=(e=>{const t=!this.props.libraryItem.isPublishable;this.props.libraryItemType===c.LibraryItemType.COMPONENT?m.setIsSymbolPublishable(this.props.libraryItem.node_id,t):m.setIsPublishable(this.props.libraryItem.node_id,t)}),this.contextMenuId=(()=>`library-item-row-${this.props.libraryItem.node_id}`),this.contextMenuShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.contextMenuId()),this.onContextMenu=(e=>{e.preventDefault(),e.stopPropagation(),this.props.dispatch(r.fileBrowser.showDropdown({type:this.contextMenuId(),data:{position:{top:e.clientY,left:e.clientX}}}))})}render(){let e;return e=this.props.libraryItemType===c.LibraryItemType.STYLE?i.createElement(y.StyleIcon,{style:this.props.libraryItem}):i.createElement("img",{className:S.itemThumb,src:this.props.libraryItem.thumbnail_url}),i.createElement("div",{className:this.props.libraryItem.isPublishable?S.libraryItemRow:S.libraryItemRowPrivate,onContextMenu:this.onContextMenu},i.createElement("div",{className:S.nameCol},i.createElement("div",{className:S.itemThumbWrapper},e),i.createElement("div",{className:S.name},this.props.libraryItem.name)),this.hasChanges()&&i.createElement("div",{className:S.changeCol},this.statusText()),this.contextMenuShown()&&i.createElement(C,{className:S.contextMenu,style:this.props.dropdownShown.data.position},i.createElement(_,{onClick:this.toggleIsPublishable},this.props.libraryItem.isPublishable?"Remove from library":"Add to library")))}}D.displayName="LibraryItemRow",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,o){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=o(34,1   ),n=o(1432                                       ),s=o(346                                 );class r extends t.Component{constructor(){super(...arguments),this.unpublishAll=(()=>this.props.dispatch(n.unpublishAll()))}render(){return t.createElement(s.ConfirmationModal,Object.assign({content:"This action will remove all of the components in this file from the library.",onConfirm:this.unpublishAll,confirmText:"Remove file from library"},this.props))}}r.displayName="ConfirmUnpublishModal",i.ConfirmUnpublishModal=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,l,t){o.exports={buttonRow:"upsell_modals--buttonRow--w04iw modal--buttonRow--23IOU",confirmButton:"upsell_modals--confirmButton--7jAIA modal--confirmButton--3Mjew",styles:"upsell_modals--styles--3Nflb",blueLink:"upsell_modals--blueLink--1E0ej modal--blueLink--3juZ6 blue_link--blueLink--22X56"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(n,a,e){n.exports={container:"pro_paywall_modal--container--1Zvnb",textContainer:"pro_paywall_modal--textContainer--2Siv7",learnMoreLink:"pro_paywall_modal--learnMoreLink--UmGdA blue_link--blueLink--22X56",content:"pro_paywall_modal--content---eQbR",warningMessage:"pro_paywall_modal--warningMessage--1LaUw"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(34,1   ),n=a(211                          ),o=a(721                      ),s=a(350          ),i=a(204                                                     ),c=a(220                  );function l(e,t,a){c.trackCtaClicked({location:"modal",type:"button",category:[c.CtaCategories.UPGRADE_EXPERIENCE,c.CtaCategories.PAYWALL],text:t,description:a,teamId:e})}function p(e){l(e.teamId,"Cancel",`Paywall ${e.description} Cancel CTA Clicked`)}function m(e,t){l(t.teamId,e,`Paywall ${t.description} Primary CTA Clicked`)}function d(e){l(e.teamId,"Learn more about team plans",`Paywall ${e.description} Learn More CTA Clicked`)}function C(e){c.trackModalView({modal:`Paywall ${e.description}`,teamId:e.teamId})}t.trackProPaywallCancelCta=p,t.trackProPaywallPrimaryCta=m,t.trackProPaywallLearnMoreCta=d,t.trackProPaywallView=C;class h extends r.Component{constructor(){super(...arguments),this.onCancel=(()=>{p(this.props.tracking),this.props.cancelCtaAction()}),this.onLearnMore=(()=>{d(this.props.tracking),this.props.learnMoreCtaAction()}),this.onPrimary=(()=>{m(this.props.primaryCtaText,this.props.tracking),this.props.primaryCtaAction()})}UNSAFE_componentWillMount(){C(this.props.tracking)}render(){return r.createElement(n.HeaderModal,{title:this.props.title,maxWidth:378,onClose:this.onCancel},r.createElement("div",{className:o.container},r.createElement("img",{src:this.props.imgSrc}),r.createElement("div",{className:o.textContainer},this.props.content.map(e=>r.createElement("p",{key:e,className:o.content},e)),this.props.learnMoreCtaAction&&r.createElement("a",{className:o.learnMoreLink,onClick:this.onLearnMore},h.LEARN_MORE),this.props.warningMessage&&r.createElement("div",{className:o.warningMessage},this.props.warningMessage),r.createElement("div",{className:s.buttonRow},this.props.secondaryCtaAction&&r.createElement(i.Link,{onClick:this.props.secondaryCtaAction},this.props.secondaryCtaText),r.createElement("div",{style:{flex:1}}),r.createElement(i.ButtonSecondary,{onClick:this.onCancel},h.CANCEL),this.props.primaryCtaAction&&r.createElement(i.ButtonLink,{className:s.confirmButton,onClick:this.onPrimary},this.props.primaryCtaText)))))}}h.defaultProps={primaryCtaText:"Upgrade"},h.LEARN_MORE="Learn more about team plans",h.CANCEL="Cancel",t.ProPaywallModal=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),o=s(232                        ),i=s(374                            ),l=s(173                        ),r=s(172                     ),n=s(1417                       ),p=s(346                                 ),c=s(204                                            ),d=s(350                              ),h=s(720                  ),m=s(722                            ),u=s(302                      ),y=s(196                              );class C extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){return a.createElement(p.Modal,{title:"Shared Components",size:"small",dispatch:this.props.dispatch},"Members of teams can access a library of shared components here. Create a new team or join an existing team to use this feature.",a.createElement("div",{className:d.buttonRow},a.createElement(c.ButtonSecondary,{onClick:this.closeModal},"Cancel"),a.createElement(c.ButtonLink,{href:"/files/create-team",target:"_blank",className:d.confirmButton,onClick:this.closeModal},"Create a team")))}}C.displayName="CreateTeamLibraryUpsell",t.CreateTeamLibraryUpsell=C;class b extends a.PureComponent{constructor(){super(...arguments),this.onStylesClick=(()=>{this.props.dispatch(o.fileBrowser.showModal({type:n.AppModal.PUBLISH_COMPONENTS_MODAL}))})}render(){const e=this.props.modalShown.data.team,s=i.hasPendingItemChanges(this.props.localStyleLibrary);if(e&&l.canEditTeam(e.id,this.props.permissionsState))return a.createElement(t.UpgradeTeamPublishUpsell,{hasStyleUpdates:s,dispatch:this.props.dispatch,onStylesClick:this.onStylesClick,team:e,selectedView:this.props.selectedView});{let e=!1;const o=this.props.permissionsState.teams;for(let t in o)if(l.canEditTeam(t,this.props.permissionsState)&&r.canAccessProFeature(o[t])){e=!0;break}return e?a.createElement(t.MoveFilePublishUpsell,{hasStyleUpdates:s,modalShown:this.props.modalShown,editingFileKey:this.props.editingFileKey,onStylesClick:this.onStylesClick,dispatch:this.props.dispatch}):a.createElement(t.CreateTeamPublishUpsell,{hasStyleUpdates:s,onStylesClick:this.onStylesClick,dispatch:this.props.dispatch})}}}b.displayName="PublishUpsellModal",t.PublishUpsellModal=b;class M extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.renderFileMoveModal=(()=>{const e=this.props.modalShown.data;this.props.dispatch(o.fileBrowser.showModal({type:n.AppModal.FILE_MOVE_MODAL,data:{fileKey:this.props.editingFileKey,isPublishing:!0,afterFileMove:e.afterFileMove}}))})}render(){return a.createElement(p.Modal,{title:"Move to Team to Publish Components",size:"small",dispatch:this.props.dispatch},"Move this file to a Professional Team in order to publish components to that team's library.",a.createElement("div",{className:h.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:h.styles},a.createElement("a",{className:h.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(c.ButtonSecondary,{onClick:this.closeModal},"Do Nothing"),a.createElement(c.ButtonLink,{href:"#",className:h.confirmButton,onClick:this.renderFileMoveModal},"Move to Team...")))}}M.displayName="MoveFilePublishUpsell";t.MoveFilePublishUpsell=y.experiment("exp_upgrade_experience_02").defaultComponentClass(M).treatment("variant",class extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.renderFileMoveModal=(()=>{const e=this.props.modalShown.data;this.props.dispatch(o.fileBrowser.showModal({type:n.AppModal.FILE_MOVE_MODAL,data:{fileKey:this.props.editingFileKey,isPublishing:!0,afterFileMove:e.afterFileMove}}))})}render(){return a.createElement(m.ProPaywallModal,{title:"Move to Team to Publish Components",imgSrc:"https://static.figma.com/uploads/01eb8c0e47744c161aee318ee9764b8baf709e3c",content:["Move this file to a Professional Team in order to publish components to that teams library."],tracking:{teamId:null,description:"Move to Team to Publish Component"},primaryCtaText:"Move File",primaryCtaAction:this.renderFileMoveModal,secondaryCtaText:"Publish styles only",secondaryCtaAction:this.props.hasStyleUpdates&&this.props.onStylesClick,cancelCtaAction:this.closeModal})}}).build();class f extends a.PureComponent{constructor(){super(...arguments),this.getTracking=(()=>({teamId:this.props.team.id,description:"Upgrade Team to Publish Component"})),this.closeModalUpgrade=(()=>{m.trackProPaywallPrimaryCta("Upgrade",this.getTracking()),this.props.dispatch(o.fileBrowser.hideModal())}),this.closeModalExit=(()=>{m.trackProPaywallCancelCta(this.getTracking()),this.props.dispatch(o.fileBrowser.hideModal())})}componentDidMount(){m.trackProPaywallView(this.getTracking())}render(){return a.createElement(p.Modal,{title:"Upgrade to Publish Components",size:"small",dispatch:this.props.dispatch},"Upgrade this team to publish components to the Team Library and use them across all files.",a.createElement("div",{className:h.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:h.styles},a.createElement("a",{className:h.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(c.ButtonSecondary,{onClick:this.closeModalExit},"Cancel"),a.createElement(c.ButtonLink,{href:`/files/upgrade-team/${this.props.team.id}`,target:"_blank",className:d.confirmButton,onClick:this.closeModalUpgrade},"Upgrade team")))}}f.displayName="UpgradeTeamPublishUpsell";t.UpgradeTeamPublishUpsell=y.experiment("exp_upgrade_experience_02").defaultComponentClass(f).treatment("variant",class extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.upgrade=(()=>{this.closeModal(),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.props.team.id,selectedView:this.props.selectedView}))}),this.learnMore=(()=>{window.innerWidth<1e3?u.redirect("/pricing","_blank"):(this.closeModal(),this.props.dispatch(o.fileBrowser.showModal({type:n.AppModal.PRO_PITCH_MODAL,data:{teamId:this.props.team.id}})))})}render(){return a.createElement(m.ProPaywallModal,{title:"Upgrade to Publish Components",imgSrc:"https://static.figma.com/uploads/0e4ec25f103f138af019ab3875f73f424bf4c99d",content:["Upgrade your team to publish components to the Team Library so everyone can use them."],tracking:{teamId:this.props.team.id,description:"Upgrade Team to Publish Component"},primaryCtaText:"Upgrade",primaryCtaAction:this.upgrade,secondaryCtaText:"Publish styles only",secondaryCtaAction:this.props.hasStyleUpdates&&this.props.onStylesClick,learnMoreCtaAction:this.learnMore,cancelCtaAction:this.closeModal})}}).build();class P extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){return a.createElement(p.Modal,{title:"Create a Team to Publish Components",size:"small",dispatch:this.props.dispatch},"Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature.",a.createElement("div",{className:h.buttonRow},this.props.hasStyleUpdates&&a.createElement("div",{className:h.styles},a.createElement("a",{className:h.blueLink,onClick:this.props.onStylesClick},"Publish styles only")),a.createElement(c.ButtonSecondary,{onClick:this.closeModal},"Cancel"),a.createElement(c.ButtonLink,{href:"/files/create-team",target:"_blank",className:h.confirmButton,onClick:this.closeModal},"Create a team")))}}P.displayName="CreateTeamPublishUpsell";t.CreateTeamPublishUpsell=y.experiment("exp_upgrade_experience_02").defaultComponentClass(P).treatment("variant",class extends a.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.openCreateTeam=(()=>{u.redirect("/files/create-team","_blank"),this.closeModal()})}render(){return a.createElement(m.ProPaywallModal,{title:"Create a Team to Publish Components",imgSrc:"https://static.figma.com/uploads/68dcb0442ec7f60411a9affce496880be7fa8f13",content:["Only members of Professional Teams can publish components to a shared library. Create a new team or join an existing team to use this feature."],tracking:{teamId:null,description:"Create Team to Publish Component"},primaryCtaText:"Create a team",primaryCtaAction:this.openCreateTeam,secondaryCtaText:"Publish styles only",secondaryCtaAction:this.props.hasStyleUpdates&&this.props.onStylesClick,cancelCtaAction:this.closeModal})}}).build(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),a=s(232                        ),n=s(346                                 ),i=s(204                                            ),r=s(350                              );class c extends o.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){return o.createElement(n.Modal,{title:"Oops",size:"small",dispatch:this.props.dispatch},"You can't add an instance of a shared component into the document from which the shared component was published if the original component was deleted.",o.createElement("div",{className:r.buttonRow},o.createElement(i.ButtonPrimary,{onClick:this.closeModal},"Ok")))}}c.displayName="NoSharedInstanceInMasterFile",t.NoSharedInstanceInMasterFile=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),function(e){e[e.FOLDER_ROW=0]="FOLDER_ROW",e[e.NEW_FOLDER_TEAM=1]="NEW_FOLDER_TEAM"}(o.FolderRowType||(o.FolderRowType={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,o){t.exports={input:"input--input--3jE7P"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),n=s(143              ),o=s(726          );class l extends n.Component{constructor(){super(...arguments),this.inputRef=(e=>{e&&(this.input=e,e.value||(e.value=this.props.placeholderValue,e.focus(),e.select()))}),this.submit=n.otherEvent(this,"inputSubmit",e=>{this.props.submit(e)}),this.submitOrCancel=(()=>{this.input.value?this.submit(this.input.value):this.props.cancel()}),this.onBlur=(()=>{this.submitOrCancel()}),this.onKeyDown=(e=>{switch(e.keyCode){case 13:this.submitOrCancel();break;case 27:this.props.cancel()}}),this.onClick=(e=>{e.stopPropagation(),e.preventDefault()})}render(){let e=Object.assign({},this.props);return delete e.placeholderValue,delete e.submit,delete e.cancel,delete e.recordingKey,delete e.className,i.createElement("input",Object.assign({ref:this.inputRef,className:`${o.input} ${this.props.className||""}`,onChange:()=>{},onBlur:this.onBlur,onKeyDown:this.onKeyDown,onClick:this.onClick},e))}}l.displayName="Input",t.Input=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,r){e.exports={newFolder:"new_folder--newFolder--2AF2h sidebar--sidebarSection--3XvYF text--labelText--1wP9s",folder:"new_folder--folder--1zgej sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s",newFolderInput:"new_folder--newFolderInput--3n4Tf sidebar--sectionInput--31Gwt sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",newFolderName:"new_folder--newFolderName--1Fxvk sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",newProjectIcon:"new_folder--newProjectIcon--1MniD sidebar--icon--1Z2rN",newProjectIconFileBrowser:"new_folder--newProjectIconFileBrowser--3b4zQ new_folder--newProjectIcon--1MniD sidebar--icon--1Z2rN",newProjectIconFileMove:"new_folder--newProjectIconFileMove--32_UA sidebar--icon--1Z2rN",newProjectIconFolderList:"new_folder--newProjectIconFolderList--2v5oJ sidebar--icon--1Z2rN",newFolderHover:"new_folder--newFolderHover--3jE9Z new_folder--newFolder--2AF2h sidebar--sidebarSection--3XvYF text--labelText--1wP9s",spacingFileBrowser:"new_folder--spacingFileBrowser--2B3HD sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",spacingFolderList:"new_folder--spacingFolderList--3aAhb",spacingMoveFile:"new_folder--spacingMoveFile--3pj25"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g3945e0a9",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M15 8V7H9V1H8v6H2v1h6v6h1V8h6z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=t(34,1   ),r=t(232                        ),a=t(144                        ),i=t(728               ),c=t(220                        ),n=t(729                            );class l extends s.Component{constructor(e){let o,t;switch(super(e),this.onClick=(e=>{c.trackCtaClicked({location:"table",text:"New Project",category:[c.CtaCategories.UPGRADE_FLOW,c.CtaCategories.ONBOARDING],type:"button",teamId:this.props.teamId,description:"New Project cta_clicked"}),e.stopPropagation(),this.props.dispatch(r.fileBrowser.openNewFolderModal(this.props.where,this.props.teamId))}),this.props.where){case"file-browser-nav":o=i.newProjectIconFileBrowser,t=i.spacingFileBrowser;break;case"folder-list-view":o=i.newProjectIconFolderList,t=i.spacingFolderList;break;case"file-move-modal":o=i.newProjectIconFileMove,t=i.spacingMoveFile}this.state={spacingStyle:t,iconStyle:o}}render(){return s.createElement("div",{className:this.props.isFocused?i.newFolderHover:i.newFolder,onMouseMove:this.props.onMouseMove,onMouseDown:this.onClick},s.createElement(a.Svg,{className:this.state.iconStyle,svg:n}),s.createElement("span",{className:i.newFolderName},"New Project"))}}l.displayName="NewFolder",o.NewFolder=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,l){e.exports={fileMoveModal:"file_move--fileMoveModal--3al3w",main:"file_move--main--2-VCv",iconContainer:"file_move--iconContainer--yOhz1",truncateText:"file_move--truncateText--2IE65 ellipsis--ellipsis--1RWY6",footer:"file_move--footer--3cSei",fileLocation:"file_move--fileLocation--122jH",teamSectionBody:"file_move--teamSectionBody--1QBwN",teamSection:"file_move--teamSection--3TSgk",teamTitle:"file_move--teamTitle--2HfYT text--smallTitleText--1f4Vt",teamTitleText:"file_move--teamTitleText--2NvQ_",folderRowWrapper:"file_move--folderRowWrapper--2WS-E",folderRowWrapperFocused:"file_move--folderRowWrapperFocused--TMAqv file_move--folderRowWrapper--2WS-E",folderRow:"file_move--folderRow--JLCps",folderInfo:"file_move--folderInfo--3NO4P",folderName:"file_move--folderName--1gyBi ellipsis--ellipsis--1RWY6",inlineBlock:"file_move--inlineBlock--33Ehz",renameInput:"file_move--renameInput--1S2sF",searchForMoreRow:"file_move--searchForMoreRow--1SwpW file_move--folderRow--JLCps",title:"file_move--title--bli6j header_modal--headerModalTitle--8hnpX",searchIcon:"file_move--searchIcon--1CQWz",searchInput:"file_move--searchInput--3OikB",searchInputEmpty:"file_move--searchInputEmpty--rAs8s file_move--searchInput--3OikB",emptyModal:"file_move--emptyModal--2WHDo",fileMoveContextMenu:"file_move--fileMoveContextMenu--bv9_l"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,e){o.exports={modalWidth:"288px",modalHeight:"436px",folderRowHeight:"30px"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,s,o){t.exports={id:"g06fd1f1f",src:'<svg width="11" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M5.231 0l1.666 3.207 3.565.594-2.535 2.575.537 3.574-3.233-1.615L1.998 9.95l.537-3.574L0 3.801l3.565-.594L5.23 0z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g94ad364d",src:'<svg width="8" height="7" xmlns="http://www.w3.org/2000/svg"><path d="M1.176 1.882L3.06 3.765 6.824 0 8 1.176 3.059 6.118 0 3.058l1.176-1.176z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,s){t.exports={id:"g0ab37a27",src:'<svg width="17" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M7.107 3.714c0 1.282-1.04 2.322-2.321 2.322-1.282 0-2.322-1.04-2.322-2.322 0-1.282 1.04-2.321 2.322-2.321 1.282 0 2.321 1.04 2.321 2.321zm7.429 0c0 1.282-1.04 2.322-2.322 2.322-1.282 0-2.321-1.04-2.321-2.322 0-1.282 1.04-2.321 2.321-2.321 1.282 0 2.322 1.04 2.322 2.321zM8.964 10.68c0-1.795 1.455-3.25 3.25-3.25 1.795 0 3.25 1.455 3.25 3.25v.464h-6.5v-.464zM8.5 8.762c-.502-.971-1.375-1.72-2.43-2.061 1.156-.498 1.966-1.648 1.966-2.987 0-1.795-1.455-3.25-3.25-3.25-1.795 0-3.25 1.455-3.25 3.25 0 1.34.81 2.49 1.966 2.987-1.68.542-2.895 2.118-2.895 3.978V12.07H16.393V10.68c0-1.86-1.215-3.436-2.895-3.978 1.157-.498 1.966-1.648 1.966-2.987 0-1.795-1.455-3.25-3.25-3.25-1.795 0-3.25 1.455-3.25 3.25 0 1.34.81 2.49 1.967 2.987-1.056.34-1.929 1.09-2.431 2.061zm-.464 2.38h-6.5v-.463c0-1.795 1.455-3.25 3.25-3.25 1.795 0 3.25 1.455 3.25 3.25v.464z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(34,1   ),i=s(38,1       ),r=s(232                        ),n=s(370              ),l=s(199      ),a=s(198         ),d=s(173                        ),p=s(725                         ),c=s(277                           ),h=s(166                         ),m=s(408                                  ),f=s(201                                      ),u=s(376                                                  ),v=s(144                        ),F=s(204                                            ),M=s(1417                       ),w=s(349                            ),g=s(727                                 ),E=s(730                                                         ),y=s(214                                                    ),R=s(731              ),_=s(732                                    ),S=s(733                              ),D=s(734                                    ),C=s(735                             ),N=n.pxToInt(_.modalWidth),x=n.pxToInt(_.modalHeight),I=n.pxToInt(_.folderRowHeight);function b(e){return!!e.folderId||e.recentFiles||e.searchResults?"_self":"_blank"}function O(e,o){return o.is_subscribed||h.isADraftsFolder(e,o.id)}o.getTargetAttribute=b,o.isSubcribed=O;class T extends t.PureComponent{constructor(){super(...arguments),this.FILE_MOVE_DROPDOWN="file-move-dropdown",this.scrollContainerRef=(e=>{this.scrollContainer=e,this.scrollContainerElm=i.findDOMNode(e)}),this.modalData=(()=>this.props.modalShown.data),this.onScroll=(()=>{clearTimeout(this.previousTimeOutKey),this.props.fileMove.upDownKeyPressed&&this.props.dispatch(r.fileMove.canMouseFocus({canFocus:!1})),this.previousTimeOutKey=setTimeout(()=>{this.props.fileMove.canMouseFocus||this.props.dispatch(r.fileMove.canMouseFocus({canFocus:!0}))},200)}),this.onkeydown=(e=>{if(!(this.props.creatingNewFolder||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused))switch(e.keyCode){case l.Key.ESCAPE:return void this.onClose();case l.Key.UP_ARROW:return void this.props.dispatch(r.fileMove.decrementFocusedIndex());case l.Key.DOWN_ARROW:return void this.props.dispatch(r.fileMove.incrementFocusedIndex({upperBound:this.props.fileMove.indexCount}));case l.Key.ENTER:{if(-1===this.props.fileMove.focusedIndex)return;const e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];if(e.type===p.FolderRowType.NEW_FOLDER_TEAM){const o=e.id===c.USER_FOLDERS?null:e.id;this.props.dispatch(r.fileBrowser.openNewFolderModal(M.AppModal.FILE_MOVE_MODAL,o))}else if(e.type===p.FolderRowType.FOLDER_ROW){const o=this.props.folders[e.id];if(!o)break;this.moveFile(o)}return}}}),this.onClose=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.moveFileToSelectedFolder=(()=>{const e=this.getFocusedFolder();this.moveFile(e)}),this.moveFile=(e=>{const o=this.props.fileByKey[this.modalData().fileKey];e&&e.id!==o.folder_id?this.props.dispatch(r.file.tryMove([o],e,!0)):this.onClose()}),this.getFocusedFolder=(()=>{const e=this.props.fileMove.folderRows[this.props.fileMove.focusedIndex];return e&&e.type===p.FolderRowType.FOLDER_ROW?this.props.folders[e.id]:null}),this.onFileMoveContextMenu=((e,o)=>{e.stopPropagation(),e.preventDefault(),this.props.fileMove.folderRenaming||this.props.dispatch(r.fileBrowser.showDropdown({type:this.FILE_MOVE_DROPDOWN,data:{folderId:o.id,position:{top:e.clientY,left:e.clientX,right:"auto",bottom:"auto"}}}))})}componentDidMount(){document.addEventListener("keydown",this.onkeydown),this.props.dispatch(r.fileMove.isSearchFocused({isSearchFocused:!0}))}componentWillUnmount(){document.removeEventListener("keydown",this.onkeydown)}componentDidUpdate(e,o){const s=this.props.fileMove.focusedIndex;if(this.props.fileMove.upDownKeyPressed&&e.fileMove.focusedIndex!==s){if(!this.scrollContainerElm)return;if(-1===s)return;const e=this.props.fileMove.folderRows[s].positionTop,o=this.scrollContainer.getScrollTop(),t=this.scrollContainerElm.clientHeight;e<o?0===s?this.scrollContainer.scrollToTop():this.scrollContainer.scrollTo(e):e+I>o+t&&(s===this.props.fileMove.indexCount-1?this.scrollContainer.scrollToBottom():this.scrollContainer.scrollTo(e-t+I))}this.props.fileMove.upDownKeyPressed&&this.props.dispatch(r.fileMove.setKeyPressedToFalse())}renderDropdown(){const e=this.props.dropdownShown;if(!(e&&e.type===this.FILE_MOVE_DROPDOWN&&e.data&&e.data.folderId))return;const o=this.props.folders[e.data.folderId];return o?t.createElement(B,Object.assign({folder:o,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch},d.getPermissionsState(this.props))):void 0}render(){const e=this.props.fileByKey[this.modalData().fileKey],o=this.props.folders[e.folder_id],s=this.getFocusedFolder(),i=s&&o&&s.id!==o.id,r=Math.min(.8*window.innerHeight+36,x),n=new a.Vector(window.innerWidth/2-N/2,window.innerHeight/2-r/2);let l=0===this.props.fileMove.teamOrder.length;return t.createElement(y.DraggableModalBgDisabled,{title:t.createElement(P,{folderCount:this.props.fileMove.indexCount,focusedIndex:this.props.fileMove.focusedIndex,getFocusedFolder:this.getFocusedFolder,searchQuery:this.props.fileMove.folderSearchQuery,moveFolder:this.moveFile,dispatch:this.props.dispatch}),headerSize:"small",initialPosition:n,dragHeaderOnly:!0,onClose:this.onClose},t.createElement("div",{className:R.main},this.props.fileMove.folderSearchQuery&&l?t.createElement("div",{className:R.emptyModal},`No results found for '${this.props.fileMove.folderSearchQuery}'`):t.createElement(u.ScrollContainer,{width:N,className:R.teamSectionBody,showScrollbar:!0,ref:this.scrollContainerRef,onScroll:this.onScroll},t.createElement(k,Object.assign({fileToMove:e,fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder,onFileMoveContextMenu:this.onFileMoveContextMenu,indexOffsets:this.props.fileMove.indexOffsets,dispatch:this.props.dispatch},d.getPermissionsState(this.props)))),t.createElement("div",{className:R.footer},t.createElement(F.ButtonSecondary,{onClick:this.onClose},"Cancel"),t.createElement(F.ButtonPrimary,{disabled:!i,onClick:this.moveFileToSelectedFolder},"Move"))),this.renderDropdown(),t.createElement(W,{fileMove:this.props.fileMove,creatingNewFolder:this.props.creatingNewFolder}))}}T.displayName="FileMoveModal",o.FileMoveModal=T;class P extends t.PureComponent{constructor(){super(...arguments),this.searchInputRef=(e=>this.searchInput=i.findDOMNode(e)),this.onFocus=(()=>{this.props.dispatch(r.fileMove.resetFocusedIndex()),this.props.dispatch(r.fileMove.isSearchFocused({isSearchFocused:!0}))}),this.onBlur=(()=>{this.props.dispatch(r.fileMove.isSearchFocused({isSearchFocused:!1}))}),this.onChange=(e=>{e.stopPropagation(),this.props.dispatch(r.fileMove.setFolderSearchQuery({query:e.currentTarget.value}))}),this.onSearchKeyDown=(e=>{switch(e.stopPropagation(),e.keyCode){case l.Key.DOWN_ARROW:this.searchInput.blur(),this.props.dispatch(r.fileMove.incrementFocusedIndex({upperBound:this.props.folderCount}));break;case l.Key.UP_ARROW:this.searchInput.blur(),this.props.dispatch(r.fileMove.decrementFocusedIndex());break;case l.Key.ESCAPE:this.searchInput.value?(this.searchInput.value="",this.props.dispatch(r.fileMove.setFolderSearchQuery({query:""}))):this.searchInput.blur(),this.props.dispatch(r.fileMove.resetFocusedIndex());break;case l.Key.TAB:this.searchInput.blur(),this.props.dispatch(r.fileMove.resetFocusedIndex());break;case l.Key.ENTER:{this.searchInput.blur();const e=this.props.getFocusedFolder();e&&this.props.moveFolder(e);break}}})}componentDidMount(){this.searchInput.focus()}render(){return t.createElement("div",{className:R.title},t.createElement("p",null,"Move to Project"),t.createElement("div",null,t.createElement(f.LazyInput,{ref:this.searchInputRef,placeholder:"Search",onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onSearchKeyDown,className:this.props.searchQuery?R.searchInput:R.searchInputEmpty,value:this.props.searchQuery,onChange:this.onChange})))}}P.displayName="FileMoveSearch",o.FileMoveSearch=P;class k extends t.PureComponent{render(){return t.createElement("div",null,this.props.fileMove.teamOrder.map(e=>{if(e===c.USER_FOLDERS&&0===this.props.fileMove.foldersByTeamId[e].length)return;let o=!0;const s=this.props.teams[e];return e===c.USER_DRAFTS&&(o=!1),t.createElement("div",{className:R.teamSection,key:`Team Section ${e}`},o&&t.createElement("div",{className:R.teamTitle},e===c.USER_FOLDERS&&t.createElement(v.Svg,{svg:C}),e!==c.USER_FOLDERS&&t.createElement("div",{className:R.iconContainer},t.createElement(w.Avatar,{entity:this.props.teams[e],size:24})),t.createElement("div",{className:R.teamTitleText},e===c.USER_FOLDERS?"Shared Projects":this.props.teams[e].name)),s&&t.createElement(E.NewFolder,Object.assign({teamId:e,shouldRedirect:!1,where:"file-move-modal",dispatch:this.props.dispatch,isFocused:this.props.fileMove.focusedIndex===this.props.indexOffsets[e],creatingNewFolder:this.props.creatingNewFolder},d.getPermissionsState(this.props))),this.props.fileMove.foldersByTeamId[e].map((o,i)=>{let r=i+this.props.indexOffsets[e];return s&&(r+=1),t.createElement(K,{key:`${o.team_id} ${o.id}`,folderBeingRenamed:this.props.fileMove.folderRenaming,folders:this.props.folders,index:r,isFocused:this.props.fileMove.focusedIndex===r,folder:o,isSearchingFolders:this.props.fileMove.isSearchResult,fileToMove:this.props.fileToMove,onFileMoveContextMenu:this.props.onFileMoveContextMenu,dispatch:this.props.dispatch})}))}),t.createElement("div",{className:R.searchForMoreRow},t.createElement("div",{className:R.iconContainer}),t.createElement("div",{className:R.folderName},"Don't see a project? Try searching for it.")))}}k.displayName="TeamDisplay",o.TeamDisplay=k;class K extends t.PureComponent{constructor(){super(...arguments),this.submitFolderRename=((e,o)=>{this.props.dispatch(r.folder.rename(e.id,o)),this.props.dispatch(r.fileMove.endFolderRename())}),this.cancelFolderRename=(()=>{this.props.dispatch(r.fileMove.endFolderRename())}),this.focusFolder=((e,o)=>{o.preventDefault(),this.props.dispatch(r.fileMove.setFocusedIndexAt({indexAt:this.props.index}))}),this.onContextMenu=((e,o)=>{this.props.onFileMoveContextMenu(o,e)}),this.renderFolderRename=(e=>t.createElement("div",{className:R.folderRow},t.createElement(g.Input,{key:`input ${e.id}`,className:R.renameInput,placeholderValue:h.getFolderName(e),submit:this.submitFolderRename.bind(this,e),cancel:this.cancelFolderRename}))),this.renderFolderRow=(e=>{const o=this.props.fileToMove.folder_id===e.id,s=O(this.props.folders,e)&&this.props.isSearchingFolders;return t.createElement("div",{className:R.folderRow},t.createElement("div",{className:R.iconContainer},o&&t.createElement(v.Svg,{svg:D})),t.createElement("span",{className:R.folderName},h.getFolderName(e)),t.createElement("div",{className:R.iconContainer},s&&t.createElement(v.Svg,{svg:S})))})}render(){const e=this.props.folderBeingRenamed?R.folderRowWrapper:this.props.isFocused?R.folderRowWrapperFocused:R.folderRowWrapper,o=this.props.folder;return t.createElement("div",{className:e,onMouseDown:this.focusFolder.bind(this,o),key:`${o.team_id} ${o.id}`,onContextMenu:this.onContextMenu.bind(this,o)},this.props.folderBeingRenamed===o.id?this.renderFolderRename(o):this.renderFolderRow(o))}}K.displayName="FolderSection",o.FolderSection=K;class B extends t.PureComponent{constructor(){super(...arguments),this.renameFolder=(()=>{this.props.dispatch(r.fileMove.startFolderRename({folderId:this.props.folder.id}))})}render(){const e=this.props.folder,o=d.canEditFolder(this.props.folder.id,this.props)&&!!e.name,s=`/files/project/${e.id}`,i=b(this.props.selectedView);return t.createElement(m.dropdown.Dropdown,{className:R.fileMoveContextMenu,style:this.props.dropdownShown.data.position},t.createElement(m.dropdown.Option,{disabled:!o,onClick:this.renameFolder},"Rename"),t.createElement(m.dropdown.Separator,null),t.createElement(m.dropdown.Option,{href:s,target:i},"Show in Files..."))}}B.displayName="FileMoveDropdown",o.FileMoveDropdown=B;class W extends t.PureComponent{constructor(){super(...arguments),this.hiddenDivRef=(e=>this.hiddenDiv=i.findDOMNode(e))}componentDidUpdate(){!this.props.fileMove||this.props.fileMove.folderRenaming||this.props.fileMove.isSearchFocused||this.props.creatingNewFolder||this.hiddenDiv.focus()}render(){return t.createElement("div",{ref:this.hiddenDivRef,tabIndex:0})}}W.displayName="FileMoveHiddenDiv",o.FileMoveHiddenDiv=W,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,r){e.exports={fileRestorePanel:"file_restore_from_version_modal--fileRestorePanel--CfmfF",fileRestoreRow:"file_restore_from_version_modal--fileRestoreRow--19g5g",fileRestoreDecoration:"file_restore_from_version_modal--fileRestoreDecoration--WeGDl",fileRestoreAvatar:"file_restore_from_version_modal--fileRestoreAvatar--1nLlP",fileRestoreConnector:"file_restore_from_version_modal--fileRestoreConnector--2d0Ay",fileRestoreData:"file_restore_from_version_modal--fileRestoreData--3IL1a",fileRestoreLabel:"file_restore_from_version_modal--fileRestoreLabel--1nRdc ellipsis--ellipsis--1RWY6",fileRestoreText:"file_restore_from_version_modal--fileRestoreText--2MdvP",fileRestoreUser:"file_restore_from_version_modal--fileRestoreUser--1qDqF",fileRestoreAction:"file_restore_from_version_modal--fileRestoreAction--12xwo"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(80,1    ),a=t(232                        ),i=t(349                            ),l=t(211                                              ),n=t(376                                                  ),c=t(737                                    );class m extends o.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{this.props.callback(this.props.version.checkpoint_key)})}render(){const e=this.props.version;return o.createElement("div",{className:c.fileRestoreRow},o.createElement("div",{className:c.fileRestoreDecoration},o.createElement(i.Avatar,{className:c.fileRestoreAvatar,size:30,entity:{img_url:e.user.img_url}}),this.props.connector&&o.createElement("div",{className:c.fileRestoreConnector})),o.createElement("div",{className:c.fileRestoreData},e.label&&o.createElement("div",{className:c.fileRestoreLabel},e.label||""),e.description&&o.createElement("div",{className:c.fileRestoreText},e.description),o.createElement("div",{className:c.fileRestoreText},r(e.touched_at).format("MMM D, YYYY h:mm a")),o.createElement("div",{className:c.fileRestoreUser},e.user.handle)),o.createElement("div",{className:c.fileRestoreAction,onClick:this.onClick},"Restore"))}}m.displayName="FileRestoreFromVersionRow",s.FileRestoreFromVersionRow=m;class p extends o.PureComponent{constructor(){super(...arguments),this.onRestore=(e=>{this.props.dispatch(a.fileBrowser.hideModal()),this.props.dispatch(a.file.restore(this.props.fig,e))}),this.onClose=(()=>{this.props.dispatch(a.fileBrowser.popModalStack())})}render(){const e=this.props.versions.filter(e=>!e.disabled);return o.createElement(l.HeaderModal,{title:"Restore from Version History",maxWidth:396,onClose:this.onClose},o.createElement("div",{className:c.fileRestorePanel},o.createElement(n.ScrollContainer,{width:396,showScrollbar:!0},e.map((s,t)=>o.createElement(m,{key:s.id,dispatch:this.props.dispatch,version:s,callback:this.onRestore,connector:t+1!==e.length})))))}}p.displayName="FileRestoreFromVersionModal",s.FileRestoreFromVersionModal=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});let n=!1;function a(e){n&&console.log("[StencilTest] "+e)}function E(e){n&&console.log("[StencilTest]E "+e)}function l(e){console.log("[StencilTest] "+e)}function o(e,r,t,n){var l=e.createShader(r);if(l&&(a("compiling "+t),e.shaderSource(l,t),e.compileShader(l),!e.getShaderParameter(l,e.COMPILE_STATUS))){if(n)E("compiler errors "+e.getShaderInfoLog(l));e.deleteShader(l),l=null}return l}function i(e,r){switch(r){case 0:e.disable(e.STENCIL_TEST);break;case 1:e.enable(e.STENCIL_TEST),e.stencilFunc(e.ALWAYS,0,255),e.stencilOpSeparate(e.FRONT,e.INCR_WRAP,e.INCR_WRAP,e.INCR_WRAP),e.stencilOpSeparate(e.BACK,e.DECR_WRAP,e.DECR_WRAP,e.DECR_WRAP);break;case 2:e.enable(e.STENCIL_TEST),e.stencilFunc(e.NOTEQUAL,0,255),e.stencilOp(e.KEEP,e.KEEP,e.ZERO)}}function u(e){var r=0;e.getError();var t=function(e,r,t){var n=o(e,e.VERTEX_SHADER,r,!0),l=o(e,e.FRAGMENT_SHADER,t,!0),i=e.createProgram();return i&&n&&l&&(a("linking program"),e.attachShader(i,n),e.attachShader(i,l),e.linkProgram(i),e.getProgramParameter(i,e.LINK_STATUS)||(E("linker errors "+e.getProgramInfoLog(i)),e.deleteProgram(i),i=null)),e.getError()==e.NONE&&i&&n&&l||(E("program creation failed"),e.deleteShader(n),e.deleteShader(l),e.deleteProgram(i),i=null),i}(e,"attribute vec2 pos; void main() { gl_Position = vec4(pos.xy * vec2(2.0, -2.0) + vec2(-1.0, 1.0), 0.0, 1.0); }","precision lowp float; void main() { gl_FragColor = vec4(1.0); }"),n=e.createBuffer();if(n){var u=new Float32Array([0,0,1,0,1,1,0,0,1,1,0,1,0,0,1,1,1,0,0,0,0,1,1,1]);e.bindBuffer(e.ARRAY_BUFFER,n),e.bufferData(e.ARRAY_BUFFER,u,e.STATIC_DRAW),e.bindBuffer(e.ARRAY_BUFFER,null)}e.activeTexture(e.TEXTURE0+0);var R=e.getParameter(e.TEXTURE_BINDING_2D),T=e.getParameter(e.VIEWPORT),f=function(e,r,t){var n=e.createTexture();n&&(e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,n),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,r,t,0,e.RGBA,e.UNSIGNED_BYTE,null),e.bindTexture(e.TEXTURE_2D,null));var a=e.createRenderbuffer();n&&a&&(e.bindRenderbuffer(e.RENDERBUFFER,a),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_STENCIL,r,t),e.bindRenderbuffer(e.RENDERBUFFER,null));var l=e.createFramebuffer();if(l&&n&&a){e.bindFramebuffer(e.FRAMEBUFFER,l),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_STENCIL_ATTACHMENT,e.RENDERBUFFER,a);var o=e.checkFramebufferStatus(e.FRAMEBUFFER);e.bindFramebuffer(e.FRAMEBUFFER,null),o!=e.FRAMEBUFFER_COMPLETE&&(e.deleteFramebuffer(l),l=null)}return e.getError()==e.NONE&&l&&n&&a||(E("framebuffer creation failed"),e.deleteTexture(n),e.deleteRenderbuffer(a),e.deleteFramebuffer(l),l=null),l}(e,4,4);if(n&&t&&f){e.bindBuffer(e.ARRAY_BUFFER,n),e.bindFramebuffer(e.FRAMEBUFFER,f),e.useProgram(t),e.enableVertexAttribArray(0),e.vertexAttribPointer(0,2,e.FLOAT,!1,8,0),i(e,0),e.viewport(0,0,4,4),e.clear(e.COLOR|e.DEPTH|e.STENCIL),e.colorMask(!1,!1,!1,!1),i(e,1),e.drawArrays(e.TRIANGLES,0,12),e.colorMask(!0,!0,!0,!0),i(e,2),e.drawArrays(e.TRIANGLES,0,6);var c=new Uint8Array(4);e.readPixels(0,0,1,1,e.RGBA,e.UNSIGNED_BYTE,c),e.getError()==e.NONE&&(0!=c[0]?(l("Failed. Test value is "+c[0]+" should be 0"),r=1):a("Success. Test value is "+c[0]+" should be 0")),i(e,0),e.disableVertexAttribArray(0)}return e.bindBuffer(e.ARRAY_BUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),T&&e.viewport(T[0],T[1],T[2],T[3]),e.useProgram(null),e.deleteBuffer(n),e.deleteProgram(t),e.deleteFramebuffer(f),e.activeTexture(e.TEXTURE0+0),e.bindTexture(e.TEXTURE_2D,R),r}function R(){return/\bEdge\b/.test(window.navigator.userAgent)}function T(){return/Win/.test(window.navigator.platform)&&!(!R()&&/\bTrident\b/.test(window.navigator.userAgent)||R())}var f;function c(){var e=f.SUCCESS;try{let t=function(){let e=document.createElement("canvas"),r=null;try{null==(r=e.getContext("experimental-webgl"))&&(r=e.getContext("webgl"))}catch(t){}return r}();t?t.isContextLost()?(l("WebGL context lost. Can't test the device for stencil bugs."),e=f.SUCCESS):T()&&1==u(t)&&(l("WebGL context has stencil bugs that prevent Figma from running properly."),l(`User agent ${window.navigator.userAgent}`),e=f.STENCIL_TEST_FAILURE):e=f.NO_WEBGL}catch(r){E("Exception thrown: "+r)}return e}!function(e){e[e.SUCCESS=0]="SUCCESS",e[e.NO_WEBGL=1]="NO_WEBGL",e[e.STENCIL_TEST_FAILURE=2]="STENCIL_TEST_FAILURE"}(f=r.WebGLTestResult||(r.WebGLTestResult={})),r.webGLSupport=function(){return null==window.webGLTestResult&&(window.webGLTestResult=c()),window.webGLTestResult},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),o=r(232                        ),a=r(176              ),n=r(739             ),i=r(204                                            ),l=r(346                                 ),c=r(350          );class p extends s.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){let e=this.props.modalShown.data;return s.createElement(l.Modal,Object.assign({size:"small",className:c.modal},this.props),s.createElement("div",{className:c.title},"Uh oh... we can't open that file"),s.createElement("div",{className:c.modalContent},(t=e,a.desktopApp&&t!==n.WebGLTestResult.SUCCESS?s.createElement("p",null,"We can't open this file because we're having trouble with WebGL. Please try restarting the desktop app.",s.createElement("br",null),s.createElement("br",null),"If this problem persists, your graphics card or driver may not be supported."):t===n.WebGLTestResult.NO_WEBGL?s.createElement("p",null,"We can't open this file because WebGL isn't supported, or is disabled, in your browser. If your browser supports WebGL, check out",s.createElement("a",{target:"_blank",rel:"noopener",className:c.blueLink,href:"https://help.figma.com/getting-started/configuring-your-browser"},"this help article"),"to find out how to enable it."):t===n.WebGLTestResult.STENCIL_TEST_FAILURE?s.createElement("span",null,"We can't open this file because of a bug present in your browser. Older Windows video cards encounter rendering errors on Chrome, Opera, and Firefox. Using another browser like Edge or IE, or updating to the lastest or pre-release browser may fix this bug.",s.createElement("br",null),s.createElement("br",null),"Figma is working with the browser developers and a fix is pending."):void 0)),s.createElement("div",{className:c.buttonRow},s.createElement(i.ButtonPrimary,{className:c.confirmButton,onClick:this.hide},"Got it")));var t}}p.displayName="WebGLErrorModal",t.WebGLErrorModal=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(141     ),a=o(34,1   ),n=o(232                        ),s=o(129                               ),i=o(346                                 ),l=o(204                                            ),m=o(350          );class c extends a.Component{constructor(){super(...arguments),this.hide=(()=>{this.props.dispatch(n.fileBrowser.hideModal())})}render(){if(this.props.warning===s.MemoryWarningType.CRASH){const e=r.mac?"option":"alt";return a.createElement(i.Modal,Object.assign({size:"small",className:m.modal},this.props),a.createElement("div",{className:m.title},"You ran out of memory!"),a.createElement("div",{className:m.modalContent},"The editor has run out of memory. It's not safe to continue editing as data may not be saved. Please reload the page to continue working.",a.createElement("br",null),"",a.createElement("br",null),"If you run into this multiple times, try reverting to an earlier version by ",e,'+shift+right-clicking on the file in the file browser and selecting "Restore from version".',a.createElement("br",null),"",a.createElement("br",null),"For other troubleshooting tips, please visit the ",a.createElement("a",{href:"https://help.figma.com/article/272-memory"},"Help Center"),"."))}const e=a.createElement("p",null,"This file is getting pretty big and could run out of memory soon! Please save your work and contact Figma support for more details."),t=a.createElement("p",null,"This file is almost out of memory! You might encounter problems. Please save your work and contact Figma support for more details.");return a.createElement(i.Modal,Object.assign({size:"small",className:m.modal},this.props),a.createElement("div",{className:m.title},"You're about to run out of memory!"),a.createElement("div",{className:m.modalContent},this.props.warning===s.MemoryWarningType.CONCERNING&&e,this.props.warning===s.MemoryWarningType.DANGEROUS&&t),a.createElement("div",{className:m.buttonRow},a.createElement(l.ButtonPrimary,{className:m.confirmButton,onClick:this.hide},"Continue")))}}c.displayName="MemoryWarningModal",t.MemoryWarningModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={container:"copy_text_modal--container--1W61M",textContainer:"copy_text_modal--textContainer--2r9iD",text:"copy_text_modal--text--1HxDU"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),i=o(370              ),a=o(140           ),l=o(198         ),n=o(232                        ),r=o(214                                                    ),c=o(385                                        ),p=o(742                    ),d=i.pxToInt(c.copyTextModal);class m extends s.PureComponent{constructor(){super(...arguments),this.initialPosition=new l.Vector(window.innerWidth/2-d/2,window.innerHeight/2-d/2),this.onClose=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.selectAll=(e=>{e&&(e.focus(),e.select())}),this.onTextClick=(e=>{this.selectAll(e.currentTarget)})}render(){const e=`${a.mac?"":"Ctrl+"}C to copy`;return s.createElement(r.DraggableModal,{initialPosition:this.initialPosition,title:`${this.props.title} (${e})`,headerSize:"small",onClose:this.onClose},s.createElement("div",{className:p.container},s.createElement("div",{className:p.textContainer},s.createElement("textarea",{className:p.text,value:this.props.text,readOnly:!0,spellCheck:!1,autoCapitalize:"off",autoComplete:"off",autoCorrect:"off",onClick:this.onTextClick,ref:this.selectAll}))))}}m.displayName="CopyTextModal",t.CopyTextModal=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=l(140           ),o=l(97      ),i=l(176              ),r=l(337              ),s=l(129                               ),c=l(1426        ),a=l(130       ),u="https://static.figma.com/font",f="index_0ec35de9401ad2766759e75ef2977911.json";let p=!1,d=null;var h;function F(){let e=null;return(e=i.desktopApp?i.desktopApp.getFonts().then(e=>({fontFiles:e})):r.requestFontDaemonFontFiles().then(e=>(d=`${e.origin}/figma`,e.data))).then(e=>{if(!e)return null;p=!0;const t="version"in e?0|+e.version:null,l=[],o=[];return Object.keys(e.fontFiles).forEach(t=>{if(/\.suit$/.test(t))return;const i=e.fontFiles[t];for(let e=0;e<i.length;++e){let r=i[e];if("GB18030 Bitmap"===r.family)continue;if("Apple Color Emoji"===r.family)continue;if("Roboto"===r.family)continue;if(n.mac&&"localized"in r&&!!r.localized&&e+1<i.length){const t=i[e+1];r.postscript===t.postscript&&(l.push({unlocalized:{family:t.family,style:t.style},localized:{family:r.family,style:r.style}}),r=t,++e)}else r.localizedFamily&&r.localizedStyle&&l.push({unlocalized:{family:r.family,style:r.style},localized:{family:r.localizedFamily,style:r.localizedStyle}});o.push({family:r.family,style:r.style,weight:r.weight,stretch:r.stretch,italic:r.italic,postscript:r.postscript,id:t,source:s.FontSource.LOCAL})}}),{list:o,version:t,localizedToUnlocalized:l,sources:[s.FontSource.LOCAL]}}).catch(e=>null)}function S(){return o.default({method:o.default.Methods.GET,url:"/api/fonts",headers:{"Content-Type":"text/plain"}}).then(({data:e})=>{if(!e||!e.meta)return null;return{list:e.meta.fonts.map(a.sharedFontMetadataToFontInfo),localizedToUnlocalized:[],version:null,sources:[s.FontSource.SHARED]}}).catch(()=>null)}!function(e){e[e.POSTSCRIPT_NAME=0]="POSTSCRIPT_NAME",e[e.VERSION=1]="VERSION",e[e.FAMILY=2]="FAMILY",e[e.STYLE=3]="STYLE",e[e.WEIGHT=4]="WEIGHT",e[e.ITALIC=5]="ITALIC",e[e.STRETCH=6]="STRETCH",e[e.COUNT=7]="COUNT"}(h||(h={})),t.fetchFontList=function(e=[s.FontSource.LOCAL,s.FontSource.GOOGLE]){let t=null,l=null,n=null,i=1;function r(e){if(0!=--i)return;if(null==l&&null==t&&null==n)throw new Error("no results");let o=null,r=[],c=[],a=[];null!=t&&(o=t.version,r=t.list,c=t.localizedToUnlocalized,a.push(s.FontSource.LOCAL)),null!=l&&(r.push.apply(r,l),a.push(s.FontSource.GOOGLE)),null!=n&&(r.push.apply(r,n.list),a.push(s.FontSource.SHARED)),e({list:r,version:o,localizedToUnlocalized:c,sources:a})}return new Promise((c,a)=>{for(const p of e)switch(p){case s.FontSource.LOCAL:i++,F().then(e=>{t=e,r(c)},e=>{console.error(e),r(c)});break;case s.FontSource.GOOGLE:i++,o.default({method:o.default.Methods.GET,url:`${u}/${f}`,headers:{"Content-Type":"text/plain"}}).then(({data:e})=>e?e.map(e=>!Array.isArray(e)||e.length<h.COUNT?{}:{family:e[h.FAMILY],style:e[h.STYLE],weight:e[h.WEIGHT],stretch:e[h.STRETCH],italic:e[h.ITALIC],postscript:e[h.POSTSCRIPT_NAME],id:e[h.POSTSCRIPT_NAME]+"_"+e[h.VERSION],source:s.FontSource.GOOGLE}):null).catch(e=>null).then(e=>{l=e,r(c)},e=>{console.error(e),r(c)});break;case s.FontSource.SHARED:i++,S().then(e=>{n=e,r(c)},e=>{console.error(e),r(c)})}r(c)})},t.fetchSharedFonts=S,t.fetchFontFile=function(e,t,l){return new Promise((n,r)=>{if(!t)return void r(new Error("Invalid font id"));if(e===s.FontSource.LOCAL&&i.desktopApp)return void n(i.desktopApp.getFontFile(t,l));let a=null;switch(e){case s.FontSource.LOCAL:d&&(a=`${d}/font-file?file=${encodeURIComponent(t)}`);break;case s.FontSource.GOOGLE:a=`${u}/${t}`;break;case s.FontSource.SHARED:c.fullscreen.editingFileKey()?a=`/api/fonts/${t}/file/${c.fullscreen.editingFileKey()}`:c.fullscreen.currentTeamId()?a=`/api/fonts/${t}/team/${c.fullscreen.currentTeamId()}`:c.fullscreen.currentOrgId()&&(a=`/api/fonts/${t}/org/${c.fullscreen.currentOrgId()}`)}a?o.default.get(a,null,{responseType:"arraybuffer",headers:{Accept:"text/plain"}}).then(({data:e})=>{n(e)}).catch(r):r(new Error("Invalid font source"))})},t.hasLocalFonts=function(){return p},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(232                        ),r=s(129                               );e.getFontPriority=(t=>{switch(t.source){case r.FontSource.SHARED:return t.teamId?3:4;case r.FontSource.LOCAL:return 2;case r.FontSource.GOOGLE:return 1;default:return 0}}),e.getVersionsForStyles=(t=>{const s={};for(const o in t){s[o]=s[o]||{};for(const r in t[o]){const n=t[o][r].styles||{};for(const i in n)if(s[o][i]){const n=s[o][i],c=t[o][n],a=t[o][r];e.getFontPriority(a)>e.getFontPriority(c)&&(s[o][i]=r)}else s[o][i]=r}}return s});const n=(t,e)=>t.source===e.source&&(t.source!==r.FontSource.SHARED||!!t.teamId==!!e.teamId&&!!t.orgId==!!e.orgId);function i(t){return{weight:t.weight,stretch:t.stretch,italic:t.italic,postscript:t.postscript,sampleUrl:t.sampleUrl,id:t.id}}function c(t,e,s){t[e]=Object.assign({},t[e]),t[e][s]&&(t[e][s]=Object.assign({},t[e][s]),t[e][s].styles=Object.assign({},t[e][s].styles))}function a(t,s){const o=s.version||"";if(r=t,[s.family,o].reduce((t,e)=>(t||{})[e],r)){if(c(t,s.family,o),n(t[s.family][o],s))return void(t[s.family][o].styles[s.style]=i(s));if(!(e.getFontPriority(s)>e.getFontPriority(t[s.family][o])))return;t[s.family][o]={source:s.source,teamId:s.teamId,orgId:s.orgId,styles:{}}}else t[s.family]=t[s.family]||{},t[s.family][o]={source:s.source,teamId:s.teamId,orgId:s.orgId,styles:{}};var r;c(t,s.family,o),t[s.family][o].styles[s.style]=i(s)}e.fonts=function(t=null,e){if(e.type===o.fileBrowser.INIT)return Object.create(null);if(o.fullscreen.updateFontList.matches(e)){const s=Object.assign({},t),o=new Set(e.payload.sources);for(const t in s)for(const e in s[t])o.has(s[t][e].source)&&(s[t]=Object.assign({},s[t]),delete s[t][e],0===Object.keys(s[t]).length&&delete s[t]);for(const t of e.payload.list)a(s,t);return s}if(o.sharedFonts.put.matches(e)){const s=Object.assign({},t);return a(s,e.payload.font),s}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(80,1    );t.lineHeightLaunch=o.utc("2019-04-25T00:00:00"),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){e.exports={singleRowHeight:"segmented_control--singleRowHeight--3qRyf",doubleRowHeight:"segmented_control--doubleRowHeight--1XyJB",input:"segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",border:"segmented_control--border--11-g_",borderFocusWithin:"segmented_control--borderFocusWithin--gVEjA",iconInsideBorderFocusWithin:"segmented_control--iconInsideBorderFocusWithin--23GXT",rowSelectedSecondary:"segmented_control--rowSelectedSecondary--1lot4 segmented_control--rowSelected--3FF1r",selectHiddenInput:"segmented_control--selectHiddenInput--3-185",iconButton:"segmented_control--iconButton--3X99O",borderFocus:"segmented_control--borderFocus--30e4o",multiValueInput:"segmented_control--multiValueInput--2LP43 segmented_control--borderFocusWithin--gVEjA",base:"segmented_control--base--3nkUY",label:"segmented_control--label--kuoia segmented_control--base--3nkUY",labelInactive:"segmented_control--labelInactive--33n4h segmented_control--label--kuoia segmented_control--base--3nkUY",textInput:"segmented_control--textInput--3GJEh segmented_control--base--3nkUY segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",textAreaInput:"segmented_control--textAreaInput--23Ub- segmented_control--base--3nkUY segmented_control--input--1TZS3 segmented_control--singleRowHeight--3qRyf",noLeftBorder:"segmented_control--noLeftBorder--3IOHc",squareRightBorder:"segmented_control--squareRightBorder--1EwBh",_iconButton:"segmented_control--_iconButton--1YZ_F",iconButtonEnabled:"segmented_control--iconButtonEnabled--29TkH segmented_control--_iconButton--1YZ_F",iconButtonDisabled:"segmented_control--iconButtonDisabled--kXQfG segmented_control--_iconButton--1YZ_F",iconButtonSelected:"segmented_control--iconButtonSelected--2T-df segmented_control--_iconButton--1YZ_F",chitCenter:"segmented_control--chitCenter--1-pij",outlineButton:"segmented_control--outlineButton--2BOlw",modalPanel:"segmented_control--modalPanel--3bPjy",panel:"segmented_control--panel--2ESne",_row:"segmented_control--_row--15Eua",singleRow:"segmented_control--singleRow--r4O-9 segmented_control--singleRowHeight--3qRyf segmented_control--_row--15Eua",doubleRow:"segmented_control--doubleRow--2VdAS segmented_control--doubleRowHeight--1XyJB segmented_control--_row--15Eua",labelRow:"segmented_control--labelRow--1QPrJ segmented_control--singleRow--r4O-9 segmented_control--singleRowHeight--3qRyf segmented_control--_row--15Eua",rowSelected:"segmented_control--rowSelected--3FF1r",panelTitle:"segmented_control--panelTitle--3Dqx2",panelTitleWithTip:"segmented_control--panelTitleWithTip--NGdFx segmented_control--panelTitle--3Dqx2",panelTitleWithTipText:"segmented_control--panelTitleWithTipText--3Sd08",panelTitleWithTipIcon:"segmented_control--panelTitleWithTipIcon--3JpVc",panelTitleFaded:"segmented_control--panelTitleFaded--2CA5Y segmented_control--panelTitle--3Dqx2",flushLeft:"segmented_control--flushLeft--1sQYh",container:"segmented_control--container--3D2GJ",containerDisabled:"segmented_control--containerDisabled--362Ij segmented_control--container--3D2GJ",_segment:"segmented_control--_segment--2oaUJ",segmentUnselected:"segmented_control--segmentUnselected--3XJuJ segmented_control--_segment--2oaUJ",segmentSelected:"segmented_control--segmentSelected--3vDJm segmented_control--_segment--2oaUJ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),n=t(143              ),r=t(391                                                                        ),p=t(747                      ),l=t(388                                                    );class i extends o.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{this.props.onChange(e)}),this.onSelect=((e,s)=>{s.stopPropagation(),this.onChange(e)}),this.onUnselect=(e=>{e.stopPropagation(),this.onChange(this.props.unselectValue)})}render(){const e=o.Children.map(this.props.children,e=>{const s=!this.props.disabled&&this.props.property===e.props.value,t=this.props.disabled?null:null!=this.props.unselectValue&&s?this.onUnselect:this.onSelect.bind(this,e.props.value);return o.cloneElement(e,{selected:s,onMouseDown:t,recordingKey:e.props.recordingKey||n.joinKeys(this.props,`${e.props.value}`)})});let s=p.container;return this.props.disabled&&(s=p.containerDisabled),o.createElement("div",{className:`${s} ${this.props.className||""}`},e)}}i.displayName="SegmentedControl",s.SegmentedControl=i,i.propTypes={children:(e,s,t)=>{const n=e[s];let r=null;return o.Children.forEach(n,e=>{e.type&&e.type.__IS_VALID_SEGMENTED_CONTROL_CHILD__||(r=new Error(`${t} children should be of type 'Segment'`))}),r}};class a extends o.PureComponent{render(){const e=this.props.selected?p.segmentSelected:p.segmentUnselected;return o.createElement(r.RecordableDiv,{className:`${e} ${this.props.className||""}`,onMouseDown:this.props.onMouseDown,"data-tooltip":this.props.tooltipAction,"data-tooltip-text":this.props.tooltip,recordingKey:this.props.recordingKey},this.props.svg&&o.createElement(l.SvgWithFallback,{svg:this.props.svg,fallbackSvg:this.props.fallbackSvg}),!this.props.svg&&this.props.children)}}a.displayName="Segment",a.__IS_VALID_SEGMENTED_CONTROL_CHILD__=!0,s.Segment=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={_centered:"type_settings--_centered--3Yqp7",_container:"type_settings--_container--3IxXn",_isolated:"type_settings--_isolated--2CRD2",labelLeftCol:"type_settings--labelLeftCol--25Ihj type_settings--_centered--3Yqp7 checkbox--_checkboxLabel--1418z",numbersFeatureLabel:"type_settings--numbersFeatureLabel--3H2OZ type_settings--_centered--3Yqp7",labelRightCol:"type_settings--labelRightCol--3Uj_4 type_settings--_centered--3Yqp7 checkbox--_checkboxLabel--1418z",resizeControl:"type_settings--resizeControl--nfVY4 type_settings--_centered--3Yqp7",textAlignHorizontalControl:"type_settings--textAlignHorizontalControl--1L87F type_settings--_centered--3Yqp7",transformControl:"type_settings--transformControl--3HfQ_ type_settings--_centered--3Yqp7",decorationControl:"type_settings--decorationControl--guQAX type_settings--_centered--3Yqp7",fontLigatureControl:"type_settings--fontLigatureControl--3oDAF type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontFractionControl:"type_settings--fontFractionControl--1-0Wm type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontVariantCapsControl:"type_settings--fontVariantCapsControl--1RxUC type_settings--_centered--3Yqp7 type_settings--_isolated--2CRD2",fontVariantPositionControl:"type_settings--fontVariantPositionControl--e7DrS type_settings--_centered--3Yqp7",fontSpacingAndFigureControl:"type_settings--fontSpacingAndFigureControl--SkYNN type_settings--_centered--3Yqp7",fontSpacingAndFigureControlDropdown:"type_settings--fontSpacingAndFigureControlDropdown--2izBB",spacingAndFigureIconContainer:"type_settings--spacingAndFigureIconContainer--1XDIY type_settings--_centered--3Yqp7 type_settings--_container--3IxXn",spacer:"type_settings--spacer--3YVlG",optionButton:"type_settings--optionButton--1Inxq",lineHeightUpdateLine:"type_settings--lineHeightUpdateLine--2Rjxz",lineHeightUpdateRow:"type_settings--lineHeightUpdateRow--1bm7j",lineHeightUpdateInfo:"type_settings--lineHeightUpdateInfo--2ayl6",lineHeightUpdateIcon:"type_settings--lineHeightUpdateIcon--1nGic",_lineHeightButton:"type_settings--_lineHeightButton--37MVt",lineHeightUpgradeButton:"type_settings--lineHeightUpgradeButton--1NBym type_settings--_lineHeightButton--37MVt",lineHeightDowngradeButton:"type_settings--lineHeightDowngradeButton--gfJCg type_settings--_lineHeightButton--37MVt"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,n){t.exports={singleRowHeight:"option_button--singleRowHeight--3qcoL",doubleRowHeight:"option_button--doubleRowHeight--iCT1i",input:"option_button--input--qaW2b option_button--singleRowHeight--3qcoL",border:"option_button--border--1n7Py",borderFocusWithin:"option_button--borderFocusWithin--3pli6",iconInsideBorderFocusWithin:"option_button--iconInsideBorderFocusWithin--1eQOd",rowSelectedSecondary:"option_button--rowSelectedSecondary--1GDpc option_button--rowSelected--2pUZE",selectHiddenInput:"option_button--selectHiddenInput--3M-kB",iconButton:"option_button--iconButton--15L68",borderFocus:"option_button--borderFocus--3sdtw",multiValueInput:"option_button--multiValueInput--35slb option_button--borderFocusWithin--3pli6",base:"option_button--base--3lRv9",label:"option_button--label--2w9Iz option_button--base--3lRv9",labelInactive:"option_button--labelInactive--3OFZF option_button--label--2w9Iz option_button--base--3lRv9",textInput:"option_button--textInput--1UDUD option_button--base--3lRv9 option_button--input--qaW2b option_button--singleRowHeight--3qcoL",textAreaInput:"option_button--textAreaInput--3N1JO option_button--base--3lRv9 option_button--input--qaW2b option_button--singleRowHeight--3qcoL",noLeftBorder:"option_button--noLeftBorder--1gNlC",squareRightBorder:"option_button--squareRightBorder--17wMt",_iconButton:"option_button--_iconButton--L_N9p",iconButtonEnabled:"option_button--iconButtonEnabled--1AZZH option_button--_iconButton--L_N9p",iconButtonDisabled:"option_button--iconButtonDisabled--1cR5X option_button--_iconButton--L_N9p",iconButtonSelected:"option_button--iconButtonSelected--HzoDQ option_button--_iconButton--L_N9p",chitCenter:"option_button--chitCenter--3pN7S",outlineButton:"option_button--outlineButton--1up9S",modalPanel:"option_button--modalPanel--250X9",panel:"option_button--panel--3XeOg",_row:"option_button--_row--2hzI2",singleRow:"option_button--singleRow--17zm1 option_button--singleRowHeight--3qcoL option_button--_row--2hzI2",doubleRow:"option_button--doubleRow--3B25Z option_button--doubleRowHeight--iCT1i option_button--_row--2hzI2",labelRow:"option_button--labelRow--3rMwq option_button--singleRow--17zm1 option_button--singleRowHeight--3qcoL option_button--_row--2hzI2",rowSelected:"option_button--rowSelected--2pUZE",panelTitle:"option_button--panelTitle--BrV7P",panelTitleWithTip:"option_button--panelTitleWithTip--3evYD option_button--panelTitle--BrV7P",panelTitleWithTipText:"option_button--panelTitleWithTipText--2BX_F",panelTitleWithTipIcon:"option_button--panelTitleWithTipIcon--3aH_F",panelTitleFaded:"option_button--panelTitleFaded--2EREW option_button--panelTitle--BrV7P",flushLeft:"option_button--flushLeft--wZaPy",_optionButton:"option_button--_optionButton--lWjmC",toggled:"option_button--toggled--2-LLL option_button--_optionButton--lWjmC",disabled:"option_button--disabled--YNeqs",untoggled:"option_button--untoggled--2KWMQ option_button--_optionButton--lWjmC"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const e=o(34,1   ),i=o(750                  ),n=o(389                         ),p=o(388                                                    );class a extends n.IconButton{render(){let t=this.props.toggled?i.toggled:i.untoggled;return this.props.disabled&&(t+=` ${i.disabled}`),this.props.className&&(t+=` ${this.props.className}`),e.createElement(p.SvgWithFallback,{ref:this.ref,tabIndex:null!=this.props.tabIndex?this.props.tabIndex:this.props.disabled?-1:0,className:t,svg:this.props.svg,fallbackSvg:this.props.fallbackSvg,onKeyDown:this.props.disabled?null:this.onKeyDown,onMouseDown:this.props.disabled?null:this.onMouseDown,onMouseUp:this.onMouseUp,onClick:this.props.disabled?null:this.props.onClick,target:this.props.target,"data-tooltip":this.props["data-tooltip"],"data-tooltip-text":this.props["data-tooltip-text"],"data-onboarding-key":this.props["data-onboarding-key"],recordingKey:this.props.recordingKey})}}a.displayName="OptionButton",s.OptionButton=a,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,h){t.exports={id:"gb54b9141",src:'<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M.049 8l2.8-8h1.303l2.8 8H6l-.7-2H1.702l-.7 2H.05zM3.5.862L4.949 5H2.052L3.501.862zM10.89 8h-2.89V0h2.796c1.672 0 2.454.953 2.454 2.125 0 1.031-.61 1.484-1.297 1.672v.078c.734.047 1.61.734 1.61 2C13.563 7.078 12.781 8 10.89 8zm-1.89-3.64V7h1.921c1.079 0 1.624-.422 1.624-1.125 0-.813-.561-1.516-1.608-1.516H9.001zM9 1v2.516h1.765c.875 0 1.51-.547 1.51-1.391 0-.703-.44-1.125-1.447-1.125H9z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,h){t.exports={id:"g4b8201b3",src:'<svg width="12" height="9" xmlns="http://www.w3.org/2000/svg"><path d="M2.159 8.14c1.047 0 1.593-.562 1.78-.953h.048V8h.922V4.047c0-1.906-1.453-2.125-2.22-2.125-.905 0-1.937.312-2.405 1.406l.875.313c.203-.438.683-.907 1.562-.907.856 0 1.266.457 1.266 1.235 0 .445-.453.422-1.547.562-1.113.145-2.328.39-2.328 1.766 0 1.172.906 1.844 2.047 1.844zm.14-.828c-.734 0-1.265-.328-1.265-.968 0-.703.64-.922 1.36-1.016.39-.047 1.437-.156 1.593-.344v.844c0 .75-.594 1.484-1.688 1.484zM6.591 8h.89v-.922h.11c.203.328.594 1.047 1.75 1.047 1.5 0 2.547-1.203 2.547-3.11 0-1.89-1.047-3.093-2.562-3.093-1.172 0-1.532.719-1.735 1.031h-.078V0h-.922v8zm.907-3c0-1.344.593-2.25 1.718-2.25 1.172 0 1.75.984 1.75 2.25 0 1.281-.593 2.297-1.75 2.297-1.11 0-1.718-.938-1.718-2.297z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,l,e){t.exports={id:"ga4655ddf",src:'<svg width="14" height="9" xmlns="http://www.w3.org/2000/svg"><path d="M8.97 8H8V0h1v2.953h.079l.047-.074c.212-.339.6-.957 1.687-.957 1.516 0 2.563 1.203 2.563 3.094 0 1.906-1.047 3.109-2.547 3.109-1.109 0-1.514-.66-1.724-1.004l-.026-.043h-.11V8zm1.734-5.25c-1.125 0-1.719.906-1.719 2.25 0 1.36.61 2.297 1.719 2.297 1.156 0 1.75-1.016 1.75-2.297 0-1.266-.578-2.25-1.75-2.25zM.049 8l2.8-8h1.303l2.8 8H6l-.7-2H1.702l-.7 2H.05zM3.5.862L4.949 5H2.052L3.501.862z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf59eeff6",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 5.5V0h-1v5.5C2.5 7.433 4.067 9 6 9c1.933 0 3.5-1.567 3.5-3.5V0h-1v5.5C8.5 6.88 7.38 8 6 8 4.62 8 3.5 6.88 3.5 5.5zM0 11v1h12v-1H0z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gb6853f8f",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M3 5.5V0H2v5.5C2 7.433 3.567 9 5.5 9 7.433 9 9 7.433 9 5.5V0H8v5.5C8 6.88 6.88 8 5.5 8 4.12 8 3 6.88 3 5.5zM0 12h12v-1H0v1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,e){t.exports={id:"g5bd35a1f",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M3.904 1.297C4.556.77 5.428.5 6.349.5c.907 0 1.756.228 2.407.742.661.523 1.069 1.301 1.149 2.295l-.997.08c-.06-.75-.353-1.26-.772-1.59C7.707 1.69 7.097 1.5 6.349 1.5c-.735 0-1.373.215-1.816.574-.434.352-.703.855-.703 1.503 0 .615.285 1.013.639 1.292.06.048.122.091.184.131h-1.41c-.246-.373-.413-.842-.413-1.423 0-.96.412-1.745 1.074-2.28zM8.824 8h1.069c.069.24.107.507.107.801 0 .972-.373 1.793-1.065 2.361-.68.56-1.622.838-2.707.838-1.1 0-1.986-.31-2.628-.879-.64-.567-.99-1.347-1.096-2.2l.992-.124c.083.66.343 1.2.767 1.575.422.374 1.055.628 1.965.628.925 0 1.619-.237 2.072-.61.442-.363.7-.891.7-1.589 0-.324-.066-.586-.177-.801zM0 7h12V6H0v1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gfa8eb60b",src:'<svg width="30" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 8C11.567 8 10 9.567 10 11.5c0 1.933 1.567 3.5 3.5 3.5 1.295 0 2.427-.703 3.032-1.75.313-.534.473-1.09.468-1.75.005-.66-.155-1.216-.468-1.75C15.927 8.704 14.795 8 13.5 8zM9 11.5C9 9.015 11.015 7 13.5 7c1.667 0 3.12.906 3.898 2.25.368.644.597 1.452.602 2.25-.005.798-.234 1.606-.602 2.25C16.621 15.094 15.167 16 13.5 16 11.015 16 9 13.985 9 11.5zM17.519 8C15.573 8 14 9.57 14 11.5c0 1.93 1.573 3.5 3.519 3.5 1.303 0 2.44-.704 3.049-1.752l.864.503C20.652 15.095 19.191 16 17.52 16 15.025 16 13 13.987 13 11.5 13 9.013 15.025 7 17.519 7c1.672 0 3.132.905 3.913 2.25l-.864.502C19.959 8.704 18.822 8 17.518 8z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,h){t.exports={id:"g6df39b8f",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M11.411 3.286l-7 10-.82-.573 7-10 .82.573zm.588 9.794c1.244 0 2.15-.713 2.148-1.696.002-.728-.452-1.25-1.267-1.367v-.045c.63-.137 1.054-.605 1.05-1.259.004-.886-.752-1.61-1.914-1.61-1.13 0-2.006.673-2.028 1.647h1.014c.017-.488.471-.792 1.008-.792.543 0 .904.33.9.818.004.508-.417.846-1.019.846h-.514v.813h.514c.736 0 1.173.37 1.17.895.003.514-.443.866-1.065.866-.585 0-1.037-.304-1.062-.778H9.865c.029.983.907 1.662 2.134 1.662zM2.94 4.14c-.212.18-.66.422-1.045.47v-.79c.642-.173.963-.621 1.08-.785.01-.014.018-.026.026-.035h1.001v6h-1V7h-.001V4.14H2.94z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,l){t.exports={id:"gd15fbc03",src:'<svg width="20" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M3.879 11l1.964-5.5h1.313L9.12 11h-.955L7.79 9.95H5.21L4.835 11h-.956zm2.62-4.662l.97 2.712H5.53L6.5 6.338zM10.88 11l1.964-5.5h1.313L16.12 11h-.955l-.375-1.05h-2.58L11.835 11h-.956zm2.62-4.662l.97 2.712H12.53l.969-2.712z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,t,l){h.exports={id:null,src:'<svg width="30" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M13.253 8h-.344l-.123.321L9.85 16h1.07l2.583-6.754L16.085 16h1.07L14.22 8.321 14.097 8h-.844z" fill="#fff"/><path d="M15.999 14h-4.5v-1h4.5v1zM20 15h1.995v4h-1v-3H20v-1z" fill-rule="evenodd" fill="#fff"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,t,l){h.exports={id:null,src:'<svg width="30" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M13.253 8h-.344l-.123.321L9.85 16h1.07l2.583-6.754L16.085 16h1.07L14.22 8.321 14.097 8h-.844z" fill="#fff"/><path d="M15.999 14h-4.5v-1h4.5v1zM18 6h1.995v4h-1V7H18V6z" fill-rule="evenodd" fill="#fff"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,e,s){t.exports={id:"gead8c1b1",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h8v1H0V4zm10 4H0v1h10V8z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gad677fbd",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm3 4h8v1H3V4zm9 4H2v1h10V8z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g39d73488",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm6 4h8v1H6V4zm8 4H4v1h10V8z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g5aec6ec2",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h14v1H0V4zm14 4H0v1h14V8z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gb81d4412",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M11 1H1v10h10V1zM1 0H0v12h12V0H1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"ged298b65",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 .5h14v1H0v-1zm0 4h14v1H0v-1zm9 4H0v1h9v-1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf5ea20eb",src:'<svg width="15" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M14.707 4l-.353.354-3 3-.708-.708L12.793 4.5H0v-1h12.793l-2.147-2.146.708-.708 3 3 .353.354z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf7064f6b",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h14v1H0V0zm0 4h14v1H0V4zm9 4H0v1h9V8z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g168572f5",src:'<svg width="15" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M13.707 3.5l-.353.354-3 3-.708-.708L11.793 4H2V3h9.793L9.646.854l.708-.708 3 3 .353.354z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(34,1   ),a=i(232                        ),s=i(143              ),r=i(1426                               ),o=i(198         ),l=i(144                        ),p=i(214                                                    ),c=i(391                               ),g=i(748                                     ),m=i(542                   ),u=i(477               ),d=i(1275                      ),h=i(204                                            ),f=i(282                             ),E=i(749                  ),_=i(0                    ),R=i(751                             ),S=_.default().feature_flags.line_height_update,A=i(752                                                                       ),v=i(753                                                                       ),N=i(754                                                                            ),L=i(755                                                            ),x=i(756                                                              ),y=i(757                                                                ),C=i(758                                                                 ),F=i(759                                                                    ),H=i(760                                                             ),V=i(761                                                      ),T=i(762                                                        ),b=i(390                                              ),w=i(763                                                                  ),O=i(764                                                                     ),I=i(765                                                                   ),U=i(766                                                                       ),z=i(767                                                                    ),K=i(768                                                                     ),D=i(769                                                                    ),P=i(770                                                                       ),M=i(771                                                                      );class k extends g.SegmentedControl{}class j extends g.Segment{}class B extends g.SegmentedControl{}class G extends g.Segment{}class Y extends g.SegmentedControl{}class X extends g.Segment{}class J extends g.SegmentedControl{}class W extends g.Segment{}class q extends u.Select{}class Q extends u.Option{}class Z extends n.PureComponent{constructor(){super(...arguments),this.titleCaseFormatter=new m.TitleCaseFormatter,this.onClose=(()=>this.props.dispatch(a.fullscreen.hidePicker())),this.onAutoResizeChange=(e=>r.fullscreen.updateSelectionProperties({textAutoResize:e})),this.onTextCaseChange=(e=>r.fullscreen.updateSelectionProperties({textCase:e})),this.onTextDecorationChange=(e=>r.fullscreen.updateSelectionProperties({textDecoration:e})),this.onTextAlignHorizontalChange=(e=>{r.fullscreen.triggerAction(d.TextAlignHorizontalAction[e],{source:"settings"})}),this.onFontVariantPositionChange=(e=>r.fullscreen.updateSelectionProperties({fontVariantPosition:e})),this.onFontVariantNumericFractionClick=(()=>{const e="STACKED"===this.props.fontVariantNumericFraction;r.fullscreen.updateSelectionProperties({fontVariantNumericFraction:e?"NORMAL":"STACKED"})}),this.onFontVariantCapsClick=(()=>{const e="ALL_SMALL"===this.props.fontVariantCaps;r.fullscreen.updateSelectionProperties({fontVariantCaps:e?"NORMAL":"ALL_SMALL"})}),this.fontVariantDiscretionaryAndHistoricalLigatures=(()=>!0===this.props.fontVariantDiscretionaryLigatures&&!0===this.props.fontVariantHistoricalLigatures),this.onFontVariantDiscretionaryAndHistoricalLigaturesClick=(()=>{const e=this.fontVariantDiscretionaryAndHistoricalLigatures();r.fullscreen.updateSelectionProperties({fontVariantDiscretionaryLigatures:!e,fontVariantHistoricalLigatures:!e})}),this.fontVariantNumericSpacingAndFigure=(()=>{const e=this.props.fontVariantNumericSpacing,t=this.props.fontVariantNumericFigure;return e===f.MIXED||t===f.MIXED?f.MIXED:null==e||"NORMAL"===e||null==t||"NORMAL"===t?{spacing:"NORMAL",figure:"NORMAL"}:{spacing:e,figure:t}}),this.onFontVariantNumericSpacingAndFigureChange=(e=>{r.fullscreen.updateSelectionProperties({fontVariantNumericSpacing:e.spacing,fontVariantNumericFigure:e.figure})}),this.fontVariantNumericSpacingAndFigureFormatter={format:e=>{const{spacing:t,figure:i}=e;return"NORMAL"===t&&"NORMAL"===i?"Default Figure":this.titleCaseFormatter.format(t)+" "+this.titleCaseFormatter.format(i)},isEqual:(e,t)=>e&&t&&e.spacing===t.spacing&&e.figure===t.figure},this.upgradeTextUserLayoutVersion=(()=>{r.fullscreen.updateSelectionProperties({textUserLayoutVersion:1})}),this.downgradeTextUserLayoutVersion=(()=>{r.fullscreen.updateSelectionProperties({textUserLayoutVersion:0})}),this.lineHeightUpdateRowVisibility=(()=>!!S&&(0===this.props.textUserLayoutVersion||-1!==f.getMixedValues(this.props.textUserLayoutVersion).indexOf(0)?"upgrade":1===this.props.textUserLayoutVersion&&"downgrade")),this.renderResizeAndAlignment=(()=>n.createElement(n.Fragment,null,n.createElement("div",{className:E.spacer}),n.createElement(c.Row,null,n.createElement(c.LabelInactive,{className:E.labelLeftCol},"Resizing"),n.createElement(c.LabelInactive,{className:E.labelRightCol},"Alignment")),n.createElement(c.Row,null,n.createElement(k,{className:E.resizeControl,property:this.props.textAutoResize,onChange:this.onAutoResizeChange,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"autoResize")},n.createElement(j,{svg:D,fallbackSvg:M,value:"WIDTH_AND_HEIGHT",tooltip:"Grow Horizontally"}),n.createElement(j,{svg:K,fallbackSvg:P,value:"HEIGHT",tooltip:"Grow Vertically"}),n.createElement(j,{svg:z,value:"NONE",tooltip:"Fixed Size"})),n.createElement(d.TextAlignHorizontalControl,{property:this.props.textAlignHorizontal,onChange:this.onTextAlignHorizontalChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:E.textAlignHorizontalControl},n.createElement(d.TextAlignHorizontalSegment,{svg:w,value:"LEFT",tooltipAction:d.TextAlignHorizontalAction.LEFT,key:"text-align-horizontal-segment-left"}),n.createElement(d.TextAlignHorizontalSegment,{svg:O,value:"CENTER",tooltipAction:d.TextAlignHorizontalAction.CENTER,key:"text-align-horizontal-segment-center"}),n.createElement(d.TextAlignHorizontalSegment,{svg:I,value:"RIGHT",tooltipAction:d.TextAlignHorizontalAction.RIGHT,key:"text-align-horizontal-segment-right"}),n.createElement(d.TextAlignHorizontalSegment,{svg:U,value:"JUSTIFIED",tooltipAction:d.TextAlignHorizontalAction.JUSTIFIED,key:"text-align-horizontal-segment-justify"}))))),this.renderTransform=(()=>n.createElement(n.Fragment,null,n.createElement("div",{className:E.spacer}),n.createElement(c.Row,null,n.createElement(c.LabelInactive,{className:E.labelLeftCol},"Transform"),n.createElement(c.LabelInactive,{className:E.labelRightCol},"Decoration")),n.createElement(c.Row,null,n.createElement(B,{className:E.transformControl,property:this.props.textCase,unselectValue:"ORIGINAL",onChange:this.onTextCaseChange,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"textCase")},n.createElement(G,{value:"UPPER",svg:A,tooltip:"Uppercase"}),n.createElement(G,{value:"LOWER",svg:v,tooltip:"Lowercase"}),n.createElement(G,{value:"TITLE",svg:N,tooltip:"Capitalize"})),n.createElement(Y,{className:E.decorationControl,property:this.props.textDecoration,unselectValue:"NONE",onChange:this.onTextDecorationChange,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"textDecoration")},n.createElement(X,{svg:L,fallbackSvg:x,value:"UNDERLINE",tooltip:"Underline"}),n.createElement(X,{svg:y,value:"STRIKETHROUGH",tooltip:"Strikethrough"}))))),this.renderFontFeatures=(()=>n.createElement(n.Fragment,null,n.createElement("div",{className:E.spacer}),n.createElement(c.Row,null,n.createElement(c.LabelInactive,{className:E.labelLeftCol},"Features")),n.createElement(c.Row,null,n.createElement(R.OptionButton,{className:E.optionButton,svg:C,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"fontLigatures"),"data-tooltip-text":"Discretionary & Historical Ligatures",toggled:this.fontVariantDiscretionaryAndHistoricalLigatures(),onClick:this.onFontVariantDiscretionaryAndHistoricalLigaturesClick}),n.createElement(R.OptionButton,{className:E.optionButton,svg:F,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"fontFraction"),"data-tooltip-text":"Fractions",toggled:"STACKED"===this.props.fontVariantNumericFraction,onClick:this.onFontVariantNumericFractionClick}),n.createElement(R.OptionButton,{className:E.optionButton,svg:H,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"fontVariantCaps"),"data-tooltip-text":"All Small Caps",toggled:"ALL_SMALL"===this.props.fontVariantCaps,onClick:this.onFontVariantCapsClick}),n.createElement(J,{className:E.fontVariantPositionControl,property:this.props.fontVariantPosition,unselectValue:"NORMAL",onChange:this.onFontVariantPositionChange,disabled:this.props.disabled,recordingKey:s.joinKeys(this.props,"fontVariantPosition")},n.createElement(W,{value:"SUB",svg:V,tooltip:"Subscript"}),n.createElement(W,{value:"SUPER",svg:T,tooltip:"Superscript"}))),n.createElement("div",{className:E.spacer}),n.createElement(c.Row,null,n.createElement(c.LabelInactive,{className:E.numbersFeatureLabel},"Numbers:"),n.createElement(q,{id:"numeric-figure-select",className:E.fontSpacingAndFigureControl,dropdownClassName:E.fontSpacingAndFigureControlDropdown,property:this.fontVariantNumericSpacingAndFigure(),onChange:this.onFontVariantNumericSpacingAndFigureChange,formatter:this.fontVariantNumericSpacingAndFigureFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:s.joinKeys(this.props,"fontSpacingAndFigure")},n.createElement(Q,{value:{spacing:"NORMAL",figure:"NORMAL"},recordingKey:s.joinKeys(this.props,"fontSpacingAndFigure","NORMAL")}),n.createElement(Q,{value:{spacing:"PROPORTIONAL",figure:"LINING"},recordingKey:s.joinKeys(this.props,"fontSpacingAndFigure","PROPORTIONAL_LINING")}),n.createElement(Q,{value:{spacing:"TABULAR",figure:"LINING"},recordingKey:s.joinKeys(this.props,"fontSpacingAndFigure","TABULAR_LINING")}),n.createElement(Q,{value:{spacing:"PROPORTIONAL",figure:"OLDSTYLE"},recordingKey:s.joinKeys(this.props,"fontSpacingAndFigure","PROPORTIONAL_OLDSTYLE")}),n.createElement(Q,{value:{spacing:"TABULAR",figure:"OLDSTYLE"},recordingKey:s.joinKeys(this.props,"fontSpacingAndFigure","TABULAR_OLDSTYLE")})))))}render(){const e=new o.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY);let t=!0,i=!0,a=!0;return this.props.selectedStyleProperties.guid?t=!1:this.props.isStyleConsumer&&(i=!1,a=!1),n.createElement(p.DraggableModal,{title:"Advanced Type",headerSize:"small",initialPosition:e,onClose:this.onClose,recordingKey:this.props.recordingKey},t&&this.renderResizeAndAlignment(),i&&this.renderTransform(),a&&this.renderFontFeatures(),this.lineHeightUpdateRowVisibility()&&n.createElement("div",{className:E.spacer}),this.lineHeightUpdateRowVisibility()&&n.createElement("div",{className:E.lineHeightUpdateLine}),this.lineHeightUpdateRowVisibility()&&n.createElement("div",{className:E.spacer}),"upgrade"===this.lineHeightUpdateRowVisibility()&&n.createElement(c.Row,{className:E.lineHeightUpdateRow,onMouseDown:e=>{e.stopPropagation()}},n.createElement("div",{className:E.lineHeightUpdateInfo},f.notMixed(this.props.textUserLayoutVersion)?"Older text rendering method used.":"Older text rendering method used for part of the selection.",n.createElement(l.Svg,{svg:b,"data-tooltip":"line-height-update-info",className:E.lineHeightUpdateIcon})),n.createElement(h.ButtonSecondary,{className:E.lineHeightUpgradeButton,onClick:this.upgradeTextUserLayoutVersion,recordingKey:s.joinKeys(this.props,"upgrade-text-user-layout-version")},"Update")),"downgrade"===this.lineHeightUpdateRowVisibility()&&n.createElement(c.Row,{className:E.lineHeightUpdateRow,onMouseDown:e=>{e.stopPropagation()}},n.createElement("div",{className:E.lineHeightUpdateInfo},"New text rendering method used.",n.createElement(l.Svg,{svg:b,"data-tooltip":"line-height-update-info",className:E.lineHeightUpdateIcon})),n.createElement("a",{className:E.lineHeightDowngradeButton,onClick:this.downgradeTextUserLayoutVersion},"Revert")),n.createElement("div",{className:E.spacer}))}}Z.displayName="TypeSettings",t.TypeSettings=Z,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,l){e.exports={page:"fullscreen_view--page--1QuyL",pageWithKeyboardShortcuts:"fullscreen_view--pageWithKeyboardShortcuts--2Sb8e fullscreen_view--page--1QuyL",framerPageCover:"fullscreen_view--framerPageCover--lw7ua",fontsIcon:"fullscreen_view--fontsIcon--INk96",reconnectingModal:"fullscreen_view--reconnectingModal--2ZJuY","multiplayer-reconnecting-animation":"fullscreen_view--multiplayer-reconnecting-animation--x__nm",reconnectingModalFlash:"fullscreen_view--reconnectingModalFlash--2Ivas",filebar:"fullscreen_view--filebar--33ilH"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(370              ),i=n(198         ),s=n(1426                               ),r=n(341                              ),a=n(563                                ),c=n(105                        ),d=n(385                                        ),m=15;function l(e,t){if(e===c.NEW_COMMENT_ID)return t.newComment.anchorPosition;const n=t.anchorPositionById[e];if(!n)return null;const o=t.viewportInfo;return o?a.canvasPositionToViewport(o,n):null}function u(e,t){const n=e.viewportInfo;if(!n)return null;const i=l(t,e);if(!i)return null;let s=i.x+48;return n.width-i.x<o.pxToInt(d.commentThreadWidth)+48&&(s=i.x-o.pxToInt(d.commentThreadWidth)-48),{x:s,y:i.y-100}}t.isDragging=function(e){const t=e.drag;return t&&t.maxDist>m},t.dragWasClick=function(e){return e&&e.maxDist<m},t.canPlaceCommentAtViewportPosition=function(e,t){return!t.validCommentsRect||i.contains(t.validCommentsRect,e)},t.getActiveThreadPositionPlusDelta=function(e,t){if(!e.activeId)return null;let n;return e.activeId===c.NEW_COMMENT_ID?n=e.newComment.threadPosition:null!=e.threads[e.activeId]&&(n=e.threads[e.activeId].positionOrNull),n||(n=u(e,e.activeId)),n?i.Vector.add(n,t):null},t.panToComment=function(e,t){const n=t.viewportInfo;if(!n)return;e.client_meta.node_id&&r.setCurrentPageFromNode(e.client_meta.node_id);const o=l(e.id,t);if(!o)return;if(o.x-48<n.x||o.x+48>n.x+n.width||o.y-48<n.y||o.y+48>n.y+n.height){const e=a.viewportPositionToCanvas(n,o);s.fullscreen.sendMessage("setCanvasSpaceCenter",{x:e.x,y:e.y})}},t.getNumUnreadComments=function(e){const t=e.unreadIds||{};return Object.keys(t).map(t=>e.commentsById[t]).filter(t=>{if(!t)return!1;const n=t.parent_id&&e.commentsById[t.parent_id]||t,o=n.client_meta;return!(null!=o.node_id&&null!=o.node_offset&&!e.anchorPositionById[n.id]||n.resolved_at)}).length},t.newCommentThread=function(e,t){const{state:n,anchorPosition:o,messageMeta:i}=e.newComment,s=e.newComment.threadPosition||u(e,c.NEW_COMMENT_ID);return{id:c.NEW_COMMENT_ID,state:n,anchorPosition:o,threadPosition:s,page:t,isActive:e.activeId===c.NEW_COMMENT_ID,isUnread:!1,comments:[],messageMeta:i,replyMessageMeta:[]}},t.commentThreads=function(e,t){const n=[];for(const o in e.threads){const i=e.threads[o],s=e.commentsById[o],r=e.commentIdsByThread[o];let a="0:1";s.client_meta&&s.client_meta.node_id&&(a=s.client_meta.node_id);const c=l(o,e),d=i.positionOrNull||u(e,o);n.push({id:o,state:i.state,anchorPosition:c,threadPosition:d,page:t(a),isActive:e.activeId===o,isUnread:r.some(t=>t in e.unreadIds),comments:r.map(t=>e.commentsById[t]).sort((e,t)=>new Date(e.created_at).getTime()-new Date(t.created_at).getTime()),messageMeta:[],replyMessageMeta:i.replyMessageMeta})}return n},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=[{presetIdentifier:"APPLE_IPHONE_X_SILVER",url:"https://static.figma.com/uploads/c3fa41c0ef744878d816aa4eea1a203aa0e9147f",thumbnailUrl:"https://static.figma.com/uploads/ff8bfebfd53eedec1ad69bf9511ea97af479d1e5",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",styleName:"Silver",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_X_SPACE_GREY",url:"https://static.figma.com/uploads/f1f76a5a065846ebe2fa3201ff0372283a34664d",thumbnailUrl:"https://static.figma.com/uploads/9026efd5f31ecadf0b9c21a603182a9ac2bd73f2",scaleFactor:3,imageSize:{x:1295,y:2590},offset:{x:88/3,y:77/3},deviceName:"iPhone X",styleName:"Space Grey",framePresetSize:{x:375,y:812}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_GOLD",url:"https://static.figma.com/uploads/be4f91d500f8c0fc5fb59987e09b080238de2e07",thumbnailUrl:"https://static.figma.com/uploads/b2d642b47eca1383c439f844a76484a07a5a3162",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Gold",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SILVER",url:"https://static.figma.com/uploads/8b04ac590c9c01ee09c63ee421e07286033fccbe",thumbnailUrl:"https://static.figma.com/uploads/6efeaba691f994da1874e39b4766aafaa198256b",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Silver",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_PLUS_SPACE_GREY",url:"https://static.figma.com/uploads/c88332b425e7d47906f04e3dad5e421a54fad7b7",thumbnailUrl:"https://static.figma.com/uploads/31b9500e4e1cbbcb25c989c4347ad643b292fa22",scaleFactor:3,imageSize:{x:1436,y:2876},offset:{x:98/3,y:335/3},deviceName:"iPhone 8 Plus",styleName:"Space Grey",framePresetSize:{x:414,y:736}},{presetIdentifier:"APPLE_IPHONE_8_GOLD",url:"https://static.figma.com/uploads/03937fa8ef475102d0f110e15534126f285662fc",thumbnailUrl:"https://static.figma.com/uploads/4bff10d3aaecf8f9b3a06cb8589bc8fb03c215a0",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Gold",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_8_SILVER",url:"https://static.figma.com/uploads/8f8fc00745d0e6fa186b477771aa66417e7e4718",thumbnailUrl:"https://static.figma.com/uploads/763a9210a544ea9888602c3ea78136abdfee3e38",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Silver",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_8_SPACE_GREY",url:"https://static.figma.com/uploads/a63fadb7450e82ac1797fd14e6cd918d3d25c0c2",thumbnailUrl:"https://static.figma.com/uploads/f3a950db328dd1302690b6538d8e486a5218c6d8",scaleFactor:2,imageSize:{x:871,y:1776},offset:{x:30.5,y:109.5},deviceName:"iPhone 8",styleName:"Space Grey",framePresetSize:{x:375,y:667}},{presetIdentifier:"APPLE_IPHONE_SE_GOLD",url:"https://static.figma.com/uploads/f090c716b2ed30ba68d1478f160f2f9847e766f3",thumbnailUrl:"https://static.figma.com/uploads/72d9e55b8b2d46d605b480f4e51e2942b502ca92",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Gold",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_ROSE_GOLD",url:" https://static.figma.com/uploads/2658d90c9afd4162d33777c45c3f9e8dc7ece855",thumbnailUrl:"https://static.figma.com/uploads/b4c5b6e6ed63d2eae9016e033055b3ea1e8069e2",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Rose Gold",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_SILVER",url:"https://static.figma.com/uploads/27e1069aae130d1e34b6f4e1835729864f05f7de",thumbnailUrl:"https://static.figma.com/uploads/46c5f84c1da73f0c7ce9409114d3c430af808cd3",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Silver",framePresetSize:{x:320,y:568}},{presetIdentifier:"APPLE_IPHONE_SE_SPACE_GREY",url:"https://static.figma.com/uploads/8a8146fcd850bd09919336def177fe6496ce41df",thumbnailUrl:"https://static.figma.com/uploads/8ddfc04b706e3759ec49d2501c01b96e977bd792",scaleFactor:2,imageSize:{x:765,y:1594},offset:{x:32,y:118.5},deviceName:"iPhone SE",styleName:"Space Grey",framePresetSize:{x:320,y:568}},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Clearly White",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Just Black",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:2.6278,imageSize:{x:1210,y:2513},offset:{x:59/2.6278,y:296/2.6278},deviceName:"Google Pixel 2",styleName:"Kinda Blue",framePresetSize:{x:411,y:731}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_FIXED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",styleName:"Black and White",framePresetSize:{x:411,y:823}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_FIXED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.5,imageSize:{x:1630,y:3339},offset:{x:26,y:242/3.5},deviceName:"Google Pixel 2 XL",styleName:"Just Black",framePresetSize:{x:411,y:823}},{presetIdentifier:"GOOGLE_NEXUS_5X",url:"https://static.figma.com/uploads/c116dd83223811e5464f9b2cfb3a06cffe6d7811",thumbnailUrl:"https://static.figma.com/uploads/f0a3557ea40091cc6dacf47295a2376a57f6340c",scaleFactor:3,imageSize:{x:1195,y:2406},offset:{x:53/3,y:77},deviceName:"Google Nexus 5X",styleName:"",framePresetSize:{x:360,y:640}},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",styleName:"Black and White",framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:3.503,imageSize:{x:1630,y:3339},offset:{x:91/3.503,y:242/3.503},deviceName:"Google Pixel 2 XL (legacy)",styleName:"Just Black",framePresetSize:{x:411,y:822},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_CLEARLY_WHITE_CORRECTED",url:"https://static.figma.com/uploads/4a447a9da38c948d4ce92899416d04835306dfaa",thumbnailUrl:"https://static.figma.com/uploads/df4ab59dca6301ddbe8aeec44924303568552a2b",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Clearly White",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/6230970b6b721631ae1ba2d45c31cfa433dc778e",thumbnailUrl:"https://static.figma.com/uploads/d46b16df0b11238020160d60d816f1d837ea0f89",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Just Black",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_KINDA_BLUE_CORRECTED",url:"https://static.figma.com/uploads/b7e5c6d28ea62e1faa673eb2e35cb30366cf1ab4",thumbnailUrl:"https://static.figma.com/uploads/63484194a51244d57c82e5a9994e9946b70f8b7f",scaleFactor:3,imageSize:{x:1210,y:2513},offset:{x:59/3,y:296/3},deviceName:"Google Pixel 2 (wrong)",styleName:"Kinda Blue",framePresetSize:{x:360,y:640},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_BLACK_AND_WHITE_CORRECTED",url:"https://static.figma.com/uploads/340e7e7cb70a2ea9d453d43b320ad2adf9a24cf9",thumbnailUrl:"https://static.figma.com/uploads/f192fba1d1cb36b1231abff8c61f8a724f1882cd",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",styleName:"Black and White",framePresetSize:{x:360,y:720},hideUnlessActive:!0},{presetIdentifier:"GOOGLE_PIXEL_2_XL_JUST_BLACK_CORRECTED",url:"https://static.figma.com/uploads/528929488377331f1a6ed8fbd5f703bc55d9f948",thumbnailUrl:"https://static.figma.com/uploads/edf40d24dc41f55284008aafb32897c52b0b706f",scaleFactor:4,imageSize:{x:1630,y:3339},offset:{x:91/4,y:60.5},deviceName:"Google Pixel 2 XL (wrong)",styleName:"Just Black",framePresetSize:{x:360,y:720},hideUnlessActive:!0}],c=[{presetIdentifier:"APPLE_IPAD_MINI_4_GOLD",url:"https://static.figma.com/uploads/328013fee3e9ae814eeb7bb38c1d9b4d42ae6bc9",thumbnailUrl:"https://static.figma.com/uploads/75bf4da29b271b65dc372f36608cbd2f94eaa84a",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad Mini",styleName:"Gold",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_MINI_4_SILVER",url:"https://static.figma.com/uploads/e880c453cd086df5696ca242d7bbc0fcd4a7e6c7",thumbnailUrl:"https://static.figma.com/uploads/0befd84fa291160218098e1e11ef814593c3e8af",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad Mini",styleName:"Silver",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_MINI_4_SPACE_GREY",url:"https://static.figma.com/uploads/8638fcab67fa732bc8a72acb6c40b79cf1261f21",thumbnailUrl:"https://static.figma.com/uploads/5a823145105ba98060af64c62bfec3b96e603bc7",scaleFactor:2,imageSize:{x:1728,y:2604},offset:{x:48,y:139},deviceName:"iPad Mini",styleName:"Space Grey",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_GOLD",url:"https://static.figma.com/uploads/c0041089d121b6a9fab09a3e6e57ae662a63c056",thumbnailUrl:"https://static.figma.com/uploads/352b92962b1d63d4142d3b3f525f7a7145d6865b",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Gold",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_SILVER",url:"https://static.figma.com/uploads/673fcf21209d5719d14ec969b226509b0386ff28",thumbnailUrl:"https://static.figma.com/uploads/e04b4c9943933ae8948bd6f9e98a59d2e2248b98",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Silver",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_SPACE_GREY",url:"https://static.figma.com/uploads/dc4087534c677eb0bd8e01be81960f541df7abab",thumbnailUrl:"https://static.figma.com/uploads/7eaf93631ddf35d4d7773618c84c6811bd8f5023",scaleFactor:2,imageSize:{x:1763,y:2495},offset:{x:56,y:112},deviceName:'iPad 9.7"',styleName:"Space Grey",framePresetSize:{x:768,y:1024}},{presetIdentifier:"APPLE_IPAD_PRO_105_GOLD",url:"https://static.figma.com/uploads/6604919217ccd2007dc242289b6eb46a67e906b0",thumbnailUrl:"https://static.figma.com/uploads/144614eca299bf21ef6a3220413deafe74d7db5f",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Gold",framePresetSize:{x:834,y:1112}},{presetIdentifier:"APPLE_IPAD_PRO_105_ROSE_GOLD",url:"https://static.figma.com/uploads/628fb1414c2b238f444108bf359460981e4efd7b",thumbnailUrl:"https://static.figma.com/uploads/a7fc4718e83b481e5191cc352e4810a9bb828ee5",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Rose Gold",framePresetSize:{x:834,y:1112}},{presetIdentifier:"APPLE_IPAD_PRO_105_SILVER",url:"https://static.figma.com/uploads/fe6849f30d136173a21c308c8291b52b83feb15a",thumbnailUrl:"https://static.figma.com/uploads/d8af399f095f5964262ed4d96e3d7304ca5f8941",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Silver",framePresetSize:{x:834,y:1112}},{presetIdentifier:"APPLE_IPAD_PRO_105_SPACE_GREY",url:"https://static.figma.com/uploads/555b2468733885cb2e3ade0de884e72bfc8bcaac",thumbnailUrl:"https://static.figma.com/uploads/c5466e02e01cba41c26234034e5e055147c993b1",scaleFactor:2,imageSize:{x:1828,y:2631},offset:{x:40,y:107.5},deviceName:'iPad Pro 10.5"',styleName:"Space Grey",framePresetSize:{x:834,y:1112}},{presetIdentifier:"APPLE_IPAD_PRO_GOLD",url:"https://static.figma.com/uploads/693d028b945399d6eb411e8b5691c83cfd3ec1e8",thumbnailUrl:"https://static.figma.com/uploads/08e04a3eeb2230962f7c11de04e05987d9f93b14",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9"',styleName:"Gold",framePresetSize:{x:1024,y:1366}},{presetIdentifier:"APPLE_IPAD_PRO_SILVER",url:"https://static.figma.com/uploads/703a3beb0bb7eeefa5a8f00c328606f59d7bfad1",thumbnailUrl:"https://static.figma.com/uploads/0d3fc68051cb305703d02372bff6d8ec74c24111",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9"',styleName:"Silver",framePresetSize:{x:1024,y:1366}},{presetIdentifier:"APPLE_IPAD_PRO_SPACE_GREY",url:"https://static.figma.com/uploads/0eebe7d84dc8cfdd9578d03fb8fd59de6a7c0578",thumbnailUrl:"https://static.figma.com/uploads/272fa6d8901005d8fca90e51d3b19f2cac448bba",scaleFactor:2,imageSize:{x:2286,y:3168},offset:{x:59.5,y:108},deviceName:'iPad Pro 12.9"',styleName:"Space Grey",framePresetSize:{x:1024,y:1366}},{presetIdentifier:"MICROSOFT_SURFACE_PRO_4",url:"https://static.figma.com/uploads/4192a676e2992e9b08407571f59d57b2da414407",thumbnailUrl:"https://static.figma.com/uploads/5abae406fbb16edb28d09336521687e904195c7c",scaleFactor:2,imageSize:{x:3064,y:2115},offset:{x:82,y:74},deviceName:"Surface Pro 4",styleName:"",framePresetSize:{x:1368,y:912}}],f=[{presetIdentifier:"APPLE_WATCH_42MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/3ae17e6e9d695fb6ba5d8e76f3aebf38436cb0c9",thumbnailUrl:"https://static.figma.com/uploads/798df987373ad0c548b2e5527b30cc5ab12ba1ee",scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",styleName:"Silver / White",framePresetSize:{x:156,y:195}},{presetIdentifier:"APPLE_WATCH_42MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/97ddb2d8c7fa1bcd0e9175ab4870e920131fc868",thumbnailUrl:"https://static.figma.com/uploads/4c9f8d06241e328ba5cd604a3b13c81f27e9003e",scaleFactor:2,imageSize:{x:486,y:871},offset:{x:38,y:120},deviceName:"Apple Watch 42mm",styleName:"Space Grey / Black",framePresetSize:{x:156,y:195}},{presetIdentifier:"APPLE_WATCH_38MM_SILVER_ALUMINUM_PLUS_WHITE",url:"https://static.figma.com/uploads/6d4cfbe07e969780896d23752badaf4a01129c23",thumbnailUrl:"https://static.figma.com/uploads/bb82afa0b7de9277f1e961f3e64cb97445aa5d29",scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",styleName:"Silver / White",framePresetSize:{x:136,y:170}},{presetIdentifier:"APPLE_WATCH_38MM_SPACE_GREY_ALUMINUM_PLUS_BLACK",url:"https://static.figma.com/uploads/fb2ce9c66635652aedbfdf0b67eda809ce83e364",thumbnailUrl:"https://static.figma.com/uploads/b22cea10520c8e60711219fc191b49702ff4e305",scaleFactor:2,imageSize:{x:425,y:764},offset:{x:33,y:106.5},deviceName:"Apple Watch 38mm",styleName:"Space Grey / Black",framePresetSize:{x:136,y:170}}];a.deviceInfoByIdentifier=Object.create(null);for(let r of[i,c,f])for(let e of r)a.deviceInfoByIdentifier[e.presetIdentifier]=e;function s(e){const a=new Set,t=[];for(let i of e)a.has(i.deviceName)||(a.add(i.deviceName),t.push(i.deviceName));return t}a.phoneDeviceNames=s(i),a.tabletDeviceNames=s(c),a.watchDeviceNames=s(f),a.infosByDeviceName=Object.create(null);for(let r in a.deviceInfoByIdentifier){const e=a.deviceInfoByIdentifier[r],t=e.deviceName;t in a.infosByDeviceName||(a.infosByDeviceName[t]=[]),a.infosByDeviceName[t].push(e)}function d(e,t){if("NONE"===e||"PRESENTATION"===e)return!1;if("CUSTOM"===e)return!0;if("PRESET"===e&&null!=t){const e=a.deviceInfoByIdentifier[t];if(null!=e){return!(-1!==a.watchDeviceNames.indexOf(e.deviceName))}}return!1}var m;a.getDeviceInfoForSize=((e,a)=>{for(let t of[i,c,f])for(let i of t)if(i.framePresetSize.x===e&&i.framePresetSize.y===a)return i;return null}),a.deviceSupportsRotation=d,function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.PHONE=1]="PHONE",e[e.TABLET=2]="TABLET",e[e.WATCH=3]="WATCH"}(m||(m={})),a.deviceTypeForPresetIdentifier=function(e){const t=a.deviceInfoByIdentifier[e];if(null==t)return m.UNKNOWN;const i=t.deviceName;return-1!==a.phoneDeviceNames.indexOf(i)?m.PHONE:-1!==a.tabletDeviceNames.indexOf(i)?m.TABLET:-1!==a.watchDeviceNames.indexOf(i)?m.WATCH:m.UNKNOWN},window.getDeviceInfoForSize=(e=>{let t=a.getDeviceInfoForSize(e.x,e.y);return null!=t?{presetIdentifier:t.presetIdentifier,portraitDeviceSize:t.framePresetSize,rotation:"NONE"}:null!=(t=a.getDeviceInfoForSize(e.y,e.x))&&d("PRESET",t.presetIdentifier)?{presetIdentifier:t.presetIdentifier,portraitDeviceSize:t.framePresetSize,rotation:"CCW_90"}:null}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(178              ),o=t(302          ),r=t(95               ),s=t(0                    ),l=t(776                              ),a=t(219          );var c=null,d=null;n.getGlobalViewerInstance=function(){return c},n.getOrCreateViewerInstance=function(e,n,t={}){const p=Object.assign({viewerMode:e,workerURL:Fig.viewerWorkerURL,containerElement:n,scrollToPan:!o.isInIframe()||null!=r.parse(location.search).fullscreen,featureFlags:s.initialOptions().feature_flags,trackAnalyticsEvent:(e,n)=>{a.segment.track(e,n)},trackingSessionId:s.initialOptions().tracking_session_id},t);return c?(JSON.stringify(Object.assign({},p,{containerElement:null}))!==JSON.stringify(d)&&console.warn("getOrCreateViewerInstance called with different options than the first call!"),c.setNewContainerElement(n),Promise.resolve(c)):i.loadScript(Fig.viewerScriptURL).then(()=>(d=Object.assign({},p,{containerElement:null}),c=Fig.createViewer(Object.assign({},p,{deviceInfoByIdentifier:l.deviceInfoByIdentifier}))))},n.connectViewerToFile=function(e,n,t){const i=null==t?"":`&oauth_token=${t}`,o=`${"https:"===location.protocol?"wss":"ws"}://${location.host}/api/multiplayer/${n}?${i}`;e.connectTo(o,n)},n.initializeViewerDebugStats=function(e){const n=document.createElement("div");document.body.appendChild(n),n.style.cssText="\n  font-size: 9px;\n  position: fixed;\n  left: 6px;\n  top: 6px;\n  background-color: black;\n  color: white;\n  border-radius: 3px;\n  display: flex;\n  flex-direction: column;\n  padding: 6px;\n  ",setInterval(()=>{for(;n.firstChild;)n.removeChild(n.firstChild);const t=e.getStatsForDebugging();for(let e in t){const i=document.createElement("div");i.innerHTML=`\n      <div>\n        <span>\n          ${e}: &nbsp;\n        </span>\n        <span>\n          ${t[e]}\n        </span>\n      </div>\n      `,n.appendChild(i)}},1e3/30)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(232                        ),s=n(198         ),i=n(563                                ),r=n(777         ),a=n(1426                               ),c=n(341                              );let l=null;function u(e,n){const o=l.getState(),i=o.selectedView;if(i.fullscreen){const o=c.getCommentAnchorNodeAtPosition(e);if(null==o)return{canvasPosition:e};const i=t.getBoundsForNodes([o])[o];return null==i?n?{canvasPosition:e,nodeId:n,inFrame:!1}:{canvasPosition:e}:{canvasPosition:e,nodeId:o,nodeOffset:s.Vector.subtract(e,i),inFrame:n!==o}}if(i.prototype){const t=r.getGlobalViewerInstance();if(null!=t)return t.getCommentDestinationAtPosition(e);const n=o.prototype;return{canvasPosition:e,nodeId:n.frameIds[n.currentIndex],nodeOffset:{x:0,y:0}}}return console.error("Comments not supported unless in prototype or fullscreen views"),null}t.initialize=function(e){l=e},t.handleMouseDown=function(e,t){if(!l.getState().comments.viewportInfo)return;const n={x:e,y:t};l.dispatch(o.comments.startDrag({startPosition:n}))},t.handleMouseMove=function(e,t){if(!l.getState().comments.viewportInfo)return;if(!l.getState().comments.drag)return;const n={x:e,y:t};l.dispatch(o.comments.updateDrag({lastPosition:n}))},t.handleMouseUp=function(e,t){if(!l.getState().comments.viewportInfo)return;const{comments:n,selectedView:r,mirror:a}=l.getState(),c=r.fullscreen?a.appModel.currentPage:null,d={x:e,y:t};l.dispatch(o.comments.updateDrag({lastPosition:d}));let f=d;n.drag&&(f=s.Vector.add(f,n.drag.mouseOffset));const m=u(i.viewportPositionToCanvas(n.viewportInfo,f),c);l.dispatch(o.comments.stopDrag(m))},t.getCommentDestinationForCanvasPosition=u,t.watchBoundsForNodes=function(e){if(l.getState().selectedView.fullscreen)a.fullscreen.watchBoundsForNodes(e);else{const t=r.getGlobalViewerInstance();null!=t&&t.watchBoundsForNodes(e)}},t.watchedNodeBoundsChange=function(){l.dispatch(o.comments.refreshAnchorPositions())},t.getBoundsForNodes=(e=>{if(l.getState().selectedView.fullscreen){const t=a.fullscreen.sendMessage("getBoundsForNodes",{nodeIds:e});if(t&&t.args)return t.args}else{const t=r.getGlobalViewerInstance();if(null!=t)return t.getBoundsByNodeId(e)}return Object.create(null)}),t.getCommentAnchorPositionById=function(e,t){const n=l.getState().selectedView,o=Object.create(null);for(let i of e){const e=t[i];o[i]={canvasPosition:{x:e.client_meta.x,y:e.client_meta.y},nodeId:e.client_meta.node_id,nodeOffset:e.client_meta.node_offset}}let s=Object.create(null);if(n.fullscreen)s=a.fullscreen.sendMessage("getCanvasSpaceCommentLocations",o).args;else if(n.prototype){const e=r.getGlobalViewerInstance();null!=e&&(s=e.getCanvasSpaceCommentLocations(o))}return s},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,c){n.exports={anchor:"anchor--anchor--21fV1",hiddenAnchor:"anchor--hiddenAnchor--2scuU anchor--anchor--21fV1",resolvedAnchor:"anchor--resolvedAnchor--1SQgn anchor--anchor--21fV1",anchorIcon:"anchor--anchorIcon--1heCz",anchorLabel:"anchor--anchorLabel--2psAQ"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(a,f,i){a.exports={figmaBlack:"#050505",figmaDarkGray:"#2c2c2c",figmaMediumGray:"#444",figmaMediumLightGray:"#888",figmaGray:"#aaa",figmaBorderGray:"#e5e5e5",figmaLightGray:"#d4d4d4",figmaLightLightGray:"#efefef",figmaLightestGray:"#f8f8f8",figmaWhite:"#fcfcfc",figmaBlue:"#30c2ff",figmaLightBlue:"#c5e4f9",figmaLightLightBlue:"#f1f9ff",figmaDarkBlue:"#2288B3",figmaDarkestBlue:"#0d475f",figmaPurple:"#907cff",figmaMediumPurple:"#bbb0f5",figmaLightPurple:"#d9d3fc",figmaDarkestPurple:"#50458c",figmaGreen:"#3ec28f",figmaRed:"#f24822",figmaOrange:"#ff6d30",figmaYellow:"#ffdb29",pricingYellow:"#ffeb00",figmaPink:"#ec6eaf",figmaMarketingGreen:"#3ec28f",white:"#ffffff",figmaBlue__REFRESH:"#18A0FB",figmaPurple__REFRESH:"#7B61FF",figmaPink__REFRESH:"#FF00FF",figmaGreen__REFRESH:"#1BC47D",figmaRed__REFRESH:"#F24822",figmaYellow__REFRESH:"#FFEB00",figmaFGBlack__REFRESH:"rgba(0, 0, 0, 1)",figmaFGBlack8__REFRESH:"rgba(0, 0, 0, .8)",figmaFGBlack3__REFRESH:"rgba(0, 0, 0, .3)",figmaFGBlack1__REFRESH:"rgba(0, 0, 0, .1)",figmaFGWhite__REFRESH:"rgba(255, 255, 255, 1)",figmaFGWhite8__REFRESH:"rgba(255, 255, 255, .8)",figmaFGWhite4__REFRESH:"rgba(255, 255, 255, .4)",figmaFGWhite2__REFRESH:"rgba(255, 255, 255, .2)",figmaFGBlack8Opaque__REFRESH:"#333333",figmaFGBlack3Opaque__REFRESH:"#B3B3B3",figmaBGWhite__REFRESH:"#FFFFFF",figmaBGSilver__REFRESH:"#E5E5E5",figmaBGGreyOpaque__REFRESH:"#F0F0F0",figmaBGGrey__REFRESH:"rgba(0, 0, 0, 0.06)",figmaBGBlack__REFRESH:"#000000",figmaBGHUD__REFRESH:"#222222",figmaBGToolbar__REFRESH:"#2C2C2C",figmaSpecialBlue3__REFRESH:"color(#1891FB alpha(30%))",figmaSpecialSelectionA__REFRESH:"#DAEBF7",figmaSpecialSelectionB__REFRESH:"#EDF5FA",figmaSpecialOutline__REFRESH:"rgba(0, 0, 0, 0.1)"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(34,1   ),i=s(198         ),n=s(775                     ),r=s(778                              ),a=s(232                        ),c=s(105                        ),p=s(779           ),h=s(780                                  );class l extends e.Component{constructor(){super(...arguments),this.onMouseDown=(t=>{t.stopPropagation();const o=this.props.viewportPositionFromCanvasPosition(new i.Vector(t.clientX,t.clientY));this.props.dispatch(a.comments.startDrag({startPosition:o,anchorId:this.props.threadId,mouseOffset:i.Vector.subtract(this.props.position,o)}))}),this.onMouseUp=(t=>{const o=this.props.viewportPositionFromCanvasPosition(new i.Vector(t.clientX,t.clientY));r.handleMouseUp(o.x,o.y)})}render(){const t=`translate(${this.props.position.x}px, ${this.props.position.y}px)`;let o={transform:t,WebkitTransform:t},s=p.anchor;this.props.activeId&&this.props.activeId!==this.props.threadId?s=p.hiddenAnchor:this.props.resolved&&(s=p.resolvedAnchor);const i=h.figmaBGBlack__REFRESH;let n=h.figmaBGWhite__REFRESH;this.props.active&&(n=h.figmaBlue__REFRESH);let r=h.figmaFGBlack8Opaque__REFRESH;return this.props.active&&(r=h.figmaFGWhite__REFRESH),e.createElement("div",{style:o,className:s,onMouseDown:this.onMouseDown,onMouseUp:this.onMouseUp},e.createElement("svg",{className:p.anchorIcon,viewBox:"0 0 34 41",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e.createElement("path",{fill:n,d:"M17 1C25.8366 1 33 8.16344 33 17C33 23.6257 27.6611 28.9662 17 39.6274C6.33887 28.9663 1.00001 23.6257 1 17C1 8.16344 8.16344 1 17 1Z"}),e.createElement("path",{fill:i,opacity:"0.4",d:"M17 40.3345L16.6261 39.9606C11.3156 34.6501 7.29362 30.6281 4.60457 27.1037C1.90336 23.5633 0.500006 20.4662 0.5 17C0.5 7.8873 7.8873 0.5 17 0.5C26.1127 0.5 33.5 7.8873 33.5 17C33.5 20.4662 32.0967 23.5633 29.3954 27.1037C26.7064 30.6281 22.6845 34.65 17.374 39.9605L17 40.3345ZM33 17C33 8.16344 25.8366 1 17 1C8.16344 1 1 8.16344 1 17C1.00001 23.552 6.22083 28.8474 16.6464 39.2738C16.7174 39.3447 16.7885 39.4159 16.8599 39.4873C16.9065 39.5339 16.9532 39.5806 17 39.6274C17.1185 39.5089 17.2364 39.391 17.3536 39.2738C27.7792 28.8474 33 23.552 33 17Z"}),this.props.isNew&&e.createElement("circle",{cx:"16.5",cy:"16.5",r:"2.25",fill:r})),e.createElement("span",{className:p.anchorLabel,style:{color:r}},this.props.label))}}l.displayName="Anchor",o.Anchor=l;class m extends e.Component{constructor(){super(...arguments),this.state={dragLocation:null}}UNSAFE_componentWillReceiveProps(t){const o=this.props.comments.drag,s=t.comments.drag;o===s&&this.props.thread.id===t.thread.id||(s&&s.anchorId===t.thread.id&&n.canPlaceCommentAtViewportPosition(s.lastPosition,this.props.comments)?this.setState({dragLocation:i.Vector.add(s.lastPosition,s.mouseOffset)}):s||this.setState({dragLocation:null}))}render(){const{thread:t}=this.props,o=t.comments[0],s=this.state.dragLocation||t.anchorPosition;return null==s?null:e.createElement(l,{activeId:this.props.comments.activeId,active:t.isUnread,threadId:o.id,resolved:!!o.resolved_at,position:s,label:o.order_id,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch})}}m.displayName="ThreadAnchor",o.ThreadAnchor=m;class d extends e.Component{render(){return e.createElement(l,{activeId:this.props.comments.activeId,active:!0,isNew:!0,threadId:c.NEW_COMMENT_ID,position:this.props.comments.newComment.anchorPosition,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch})}}d.displayName="NewCommentAnchor",o.NewCommentAnchor=d,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){var n,r;n=this,r=function(e){return function(e){var t={};function i(n){if(t[n])return t[n].exports;var r=t[n]={exports:{},id:n,loaded:!1};return e[n].call(r.exports,r,r.exports,i),r.loaded=!0,r.exports}return i.m=e,i.c=t,i.p="",i(0)}([function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.frequently=t.store=t.emojiIndex=t.Category=t.Emoji=t.Picker=void 0;var n=i(1);Object.defineProperty(t,"Picker",{enumerable:!0,get:function(){return n.Picker}}),Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return n.Emoji}}),Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return n.Category}});var r=o(i(165)),s=o(i(133)),a=o(i(121));function o(e){return e&&e.__esModule?e:{default:e}}t.emojiIndex=r.default,t.store=s.default,t.frequently=a.default},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(2);Object.defineProperty(t,"Anchors",{enumerable:!0,get:function(){return d(n).default}});var r=i(120);Object.defineProperty(t,"Category",{enumerable:!0,get:function(){return d(r).default}});var s=i(136);Object.defineProperty(t,"Emoji",{enumerable:!0,get:function(){return d(s).default}});var a=i(159);Object.defineProperty(t,"Picker",{enumerable:!0,get:function(){return d(a).default}});var o=i(163);Object.defineProperty(t,"Preview",{enumerable:!0,get:function(){return d(o).default}});var u=i(164);Object.defineProperty(t,"Search",{enumerable:!0,get:function(){return d(u).default}});var f=i(169);function d(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Skins",{enumerable:!0,get:function(){return d(f).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=F(i(3)),r=F(i(56)),s=F(i(60)),a=F(i(61)),o=F(i(65)),u=F(i(86)),f=F(i(94)),d=F(i(95)),l=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t.default=e,t}(i(104));function F(e){return e&&e.__esModule?e:{default:e}}var m=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e)),a=null,u=!0,f=!1,d=void 0;try{for(var l,F=(0,n.default)(e.categories);!(u=(l=F.next()).done);u=!0){var m=l.value;if(m.first){a=m;break}}}catch(h){f=!0,d=h}finally{try{!u&&F.return&&F.return()}finally{if(f)throw d}}return i.state={selected:a.name},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.props,t=e.categories,i=e.onAnchorClick,n=e.color,r=e.i18n,s=this.state.selected;return f.default.createElement("div",{className:"emoji-mart-anchors"},t.map(function(e,t){var a=e.name,o=e.anchor,u=a==s,d=l[a];return!1===o?null:f.default.createElement("span",{key:a,title:r.categories[a.toLowerCase()],onClick:function(){return i(e,t)},className:"emoji-mart-anchor "+(u?"emoji-mart-anchor-selected":""),style:{color:u?n:null}},f.default.createElement(d,null),f.default.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:n}}))}))}}]),t}(f.default.Component);t.default=m,m.propTypes={categories:d.default.array,onAnchorClick:d.default.func},m.defaultProps={categories:[],onAnchorClick:function(){}}},function(e,t,i){e.exports={default:i(4),__esModule:!0}},function(e,t,i){i(5),i(51),e.exports=i(53)},function(e,t,i){i(6);for(var n=i(17),r=i(21),s=i(9),a=i(48)("toStringTag"),o=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var f=o[u],d=n[f],l=d&&d.prototype;l&&!l[a]&&r(l,a,f),s[f]=s.Array}},function(e,t,i){"use strict";var n=i(7),r=i(8),s=i(9),a=i(10);e.exports=i(14)(Array,"Array",function(e,t){this._t=a(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,i=this._i++;return!e||i>=e.length?(this._t=void 0,r(1)):r(0,"keys"==t?i:"values"==t?e[i]:[i,e[i]])},"values"),s.Arguments=s.Array,n("keys"),n("values"),n("entries")},function(e,t){e.exports=function(){}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t){e.exports={}},function(e,t,i){var n=i(11),r=i(13);e.exports=function(e){return n(r(e))}},function(e,t,i){var n=i(12);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==n(e)?e.split(""):Object(e)}},function(e,t){var i={}.toString;e.exports=function(e){return i.call(e).slice(8,-1)}},function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},function(e,t,i){"use strict";var n=i(15),r=i(16),s=i(31),a=i(21),o=i(32),u=i(9),f=i(33),d=i(47),l=i(49),F=i(48)("iterator"),m=!([].keys&&"next"in[].keys()),h=function(){return this};e.exports=function(e,t,i,c,N,p,_){f(i,t,c);var g,E,y,v=function(e){if(!m&&e in k)return k[e];switch(e){case"keys":case"values":return function(){return new i(this,e)}}return function(){return new i(this,e)}},b=t+" Iterator",w="values"==N,C=!1,k=e.prototype,L=k[F]||k["@@iterator"]||N&&k[N],D=L||v(N),j=N?w?v("entries"):D:void 0,A="Array"==t&&k.entries||L;if(A&&(y=l(A.call(new e)))!==Object.prototype&&(d(y,b,!0),n||o(y,F)||a(y,F,h)),w&&L&&"values"!==L.name&&(C=!0,D=function(){return L.call(this)}),n&&!_||!m&&!C&&k[F]||a(k,F,D),u[t]=D,u[b]=h,N)if(g={values:w?D:v("values"),keys:p?D:v("keys"),entries:j},_)for(E in g)E in k||s(k,E,g[E]);else r(r.P+r.F*(m||C),t,g);return g}},function(e,t){e.exports=!0},function(e,t,i){var n=i(17),r=i(18),s=i(19),a=i(21),o=function(e,t,i){var u,f,d,l=e&o.F,F=e&o.G,m=e&o.S,h=e&o.P,c=e&o.B,N=e&o.W,p=F?r:r[t]||(r[t]={}),_=p.prototype,g=F?n:m?n[t]:(n[t]||{}).prototype;for(u in F&&(i=t),i)(f=!l&&g&&void 0!==g[u])&&u in p||(d=f?g[u]:i[u],p[u]=F&&"function"!=typeof g[u]?i[u]:c&&f?s(d,n):N&&g[u]==d?function(e){var t=function(t,i,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,i)}return new e(t,i,n)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?s(Function.call,d):d,h&&((p.virtual||(p.virtual={}))[u]=d,e&o.R&&_&&!_[u]&&a(_,u,d)))};o.F=1,o.G=2,o.S=4,o.P=8,o.B=16,o.W=32,o.U=64,o.R=128,e.exports=o},function(e,t){var i=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=i)},function(e,t){var i=e.exports={version:"2.4.0"};"number"==typeof __e&&(__e=i)},function(e,t,i){var n=i(20);e.exports=function(e,t,i){if(n(e),void 0===t)return e;switch(i){case 1:return function(i){return e.call(t,i)};case 2:return function(i,n){return e.call(t,i,n)};case 3:return function(i,n,r){return e.call(t,i,n,r)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},function(e,t,i){var n=i(22),r=i(30);e.exports=i(26)?function(e,t,i){return n.f(e,t,r(1,i))}:function(e,t,i){return e[t]=i,e}},function(e,t,i){var n=i(23),r=i(25),s=i(29),a=Object.defineProperty;t.f=i(26)?Object.defineProperty:function(e,t,i){if(n(e),t=s(t,!0),n(i),r)try{return a(e,t,i)}catch(o){}if("get"in i||"set"in i)throw TypeError("Accessors not supported!");return"value"in i&&(e[t]=i.value),e}},function(e,t,i){var n=i(24);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},function(e,t,i){e.exports=!i(26)&&!i(27)(function(){return 7!=Object.defineProperty(i(28)("div"),"a",{get:function(){return 7}}).a})},function(e,t,i){e.exports=!i(27)(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},function(e,t){e.exports=function(e){try{return!!e()}catch(t){return!0}}},function(e,t,i){var n=i(24),r=i(17).document,s=n(r)&&n(r.createElement);e.exports=function(e){return s?r.createElement(e):{}}},function(e,t,i){var n=i(24);e.exports=function(e,t){if(!n(e))return e;var i,r;if(t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;if("function"==typeof(i=e.valueOf)&&!n(r=i.call(e)))return r;if(!t&&"function"==typeof(i=e.toString)&&!n(r=i.call(e)))return r;throw TypeError("Can't convert object to primitive value")}},function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},function(e,t,i){e.exports=i(21)},function(e,t){var i={}.hasOwnProperty;e.exports=function(e,t){return i.call(e,t)}},function(e,t,i){"use strict";var n=i(34),r=i(30),s=i(47),a={};i(21)(a,i(48)("iterator"),function(){return this}),e.exports=function(e,t,i){e.prototype=n(a,{next:r(1,i)}),s(e,t+" Iterator")}},function(e,t,i){var n=i(23),r=i(35),s=i(45),a=i(42)("IE_PROTO"),o=function(){},u=function(){var e,t=i(28)("iframe"),n=s.length;for(t.style.display="none",i(46).appendChild(t),t.src="javascript:",(e=t.contentWindow.document).open(),e.write("<script>document.F=Object<\/script>"),e.close(),u=e.F;n--;)delete u.prototype[s[n]];return u()};e.exports=Object.create||function(e,t){var i;return null!==e?(o.prototype=n(e),i=new o,o.prototype=null,i[a]=e):i=u(),void 0===t?i:r(i,t)}},function(e,t,i){var n=i(22),r=i(23),s=i(36);e.exports=i(26)?Object.defineProperties:function(e,t){r(e);for(var i,a=s(t),o=a.length,u=0;o>u;)n.f(e,i=a[u++],t[i]);return e}},function(e,t,i){var n=i(37),r=i(45);e.exports=Object.keys||function(e){return n(e,r)}},function(e,t,i){var n=i(32),r=i(10),s=i(38)(!1),a=i(42)("IE_PROTO");e.exports=function(e,t){var i,o=r(e),u=0,f=[];for(i in o)i!=a&&n(o,i)&&f.push(i);for(;t.length>u;)n(o,i=t[u++])&&(~s(f,i)||f.push(i));return f}},function(e,t,i){var n=i(10),r=i(39),s=i(41);e.exports=function(e){return function(t,i,a){var o,u=n(t),f=r(u.length),d=s(a,f);if(e&&i!=i){for(;f>d;)if((o=u[d++])!=o)return!0}else for(;f>d;d++)if((e||d in u)&&u[d]===i)return e||d||0;return!e&&-1}}},function(e,t,i){var n=i(40),r=Math.min;e.exports=function(e){return e>0?r(n(e),9007199254740991):0}},function(e,t){var i=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:i)(e)}},function(e,t,i){var n=i(40),r=Math.max,s=Math.min;e.exports=function(e,t){return(e=n(e))<0?r(e+t,0):s(e,t)}},function(e,t,i){var n=i(43)("keys"),r=i(44);e.exports=function(e){return n[e]||(n[e]=r(e))}},function(e,t,i){var n=i(17),r=n["__core-js_shared__"]||(n["__core-js_shared__"]={});e.exports=function(e){return r[e]||(r[e]={})}},function(e,t){var i=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++i+n).toString(36))}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t,i){e.exports=i(17).document&&document.documentElement},function(e,t,i){var n=i(22).f,r=i(32),s=i(48)("toStringTag");e.exports=function(e,t,i){e&&!r(e=i?e:e.prototype,s)&&n(e,s,{configurable:!0,value:t})}},function(e,t,i){var n=i(43)("wks"),r=i(44),s=i(17).Symbol,a="function"==typeof s;(e.exports=function(e){return n[e]||(n[e]=a&&s[e]||(a?s:r)("Symbol."+e))}).store=n},function(e,t,i){var n=i(32),r=i(50),s=i(42)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){return e=r(e),n(e,s)?e[s]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?a:null}},function(e,t,i){var n=i(13);e.exports=function(e){return Object(n(e))}},function(e,t,i){"use strict";var n=i(52)(!0);i(14)(String,"String",function(e){this._t=String(e),this._i=0},function(){var e,t=this._t,i=this._i;return i>=t.length?{value:void 0,done:!0}:(e=n(t,i),this._i+=e.length,{value:e,done:!1})})},function(e,t,i){var n=i(40),r=i(13);e.exports=function(e){return function(t,i){var s,a,o=String(r(t)),u=n(i),f=o.length;return u<0||u>=f?e?"":void 0:(s=o.charCodeAt(u))<55296||s>56319||u+1===f||(a=o.charCodeAt(u+1))<56320||a>57343?e?o.charAt(u):s:e?o.slice(u,u+2):a-56320+(s-55296<<10)+65536}}},function(e,t,i){var n=i(23),r=i(54);e.exports=i(18).getIterator=function(e){var t=r(e);if("function"!=typeof t)throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,i){var n=i(55),r=i(48)("iterator"),s=i(9);e.exports=i(18).getIteratorMethod=function(e){if(null!=e)return e[r]||e["@@iterator"]||s[n(e)]}},function(e,t,i){var n=i(12),r=i(48)("toStringTag"),s="Arguments"==n(function(){return arguments}());e.exports=function(e){var t,i,a;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(i=function(e,t){try{return e[t]}catch(i){}}(t=Object(e),r))?i:s?n(t):"Object"==(a=n(t))&&"function"==typeof t.callee?"Arguments":a}},function(e,t,i){e.exports={default:i(57),__esModule:!0}},function(e,t,i){i(58),e.exports=i(18).Object.getPrototypeOf},function(e,t,i){var n=i(50),r=i(49);i(59)("getPrototypeOf",function(){return function(e){return r(n(e))}})},function(e,t,i){var n=i(16),r=i(18),s=i(27);e.exports=function(e,t){var i=(r.Object||{})[e]||Object[e],a={};a[e]=t(i),n(n.S+n.F*s(function(){i(1)}),"Object",a)}},function(e,t){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(62),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var n=t[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),(0,s.default)(e,n.key,n)}}return function(t,i,n){return i&&e(t.prototype,i),n&&e(t,n),t}}()},function(e,t,i){e.exports={default:i(63),__esModule:!0}},function(e,t,i){i(64);var n=i(18).Object;e.exports=function(e,t,i){return n.defineProperty(e,t,i)}},function(e,t,i){var n=i(16);n(n.S+n.F*!i(26),"Object",{defineProperty:i(22).f})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(66),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==(void 0===t?"undefined":(0,s.default)(t))&&"function"!=typeof t?e:t}},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(67)),r=a(i(70)),s="function"==typeof r.default&&"symbol"==typeof n.default?function(e){return typeof e}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":typeof e};function a(e){return e&&e.__esModule?e:{default:e}}t.default="function"==typeof r.default&&"symbol"===s(n.default)?function(e){return void 0===e?"undefined":s(e)}:function(e){return e&&"function"==typeof r.default&&e.constructor===r.default&&e!==r.default.prototype?"symbol":void 0===e?"undefined":s(e)}},function(e,t,i){e.exports={default:i(68),__esModule:!0}},function(e,t,i){i(51),i(5),e.exports=i(69).f("iterator")},function(e,t,i){t.f=i(48)},function(e,t,i){e.exports={default:i(71),__esModule:!0}},function(e,t,i){i(72),i(83),i(84),i(85),e.exports=i(18).Symbol},function(e,t,i){"use strict";var n=i(17),r=i(32),s=i(26),a=i(16),o=i(31),u=i(73).KEY,f=i(27),d=i(43),l=i(47),F=i(44),m=i(48),h=i(69),c=i(74),N=i(75),p=i(76),_=i(79),g=i(23),E=i(10),y=i(29),v=i(30),b=i(34),w=i(80),C=i(82),k=i(22),L=i(36),D=C.f,j=k.f,A=w.f,x=n.Symbol,B=n.JSON,O=B&&B.stringify,S=m("_hidden"),M=m("toPrimitive"),P={}.propertyIsEnumerable,T=d("symbol-registry"),R=d("symbols"),z=d("op-symbols"),Z=Object.prototype,q="function"==typeof x,I=n.QObject,U=!I||!I.prototype||!I.prototype.findChild,J=s&&f(function(){return 7!=b(j({},"a",{get:function(){return j(this,"a",{value:7}).a}})).a})?function(e,t,i){var n=D(Z,t);n&&delete Z[t],j(e,t,i),n&&e!==Z&&j(Z,t,n)}:j,H=function(e){var t=R[e]=b(x.prototype);return t._k=e,t},W=q&&"symbol"==typeof x.iterator?function(e){return"symbol"==typeof e}:function(e){return e instanceof x},G=function(e,t,i){return e===Z&&G(z,t,i),g(e),t=y(t,!0),g(i),r(R,t)?(i.enumerable?(r(e,S)&&e[S][t]&&(e[S][t]=!1),i=b(i,{enumerable:v(0,!1)})):(r(e,S)||j(e,S,v(1,{})),e[S][t]=!0),J(e,t,i)):j(e,t,i)},$=function(e,t){g(e);for(var i,n=p(t=E(t)),r=0,s=n.length;s>r;)G(e,i=n[r++],t[i]);return e},K=function(e){var t=P.call(this,e=y(e,!0));return!(this===Z&&r(R,e)&&!r(z,e))&&(!(t||!r(this,e)||!r(R,e)||r(this,S)&&this[S][e])||t)},Y=function(e,t){if(e=E(e),t=y(t,!0),e!==Z||!r(R,t)||r(z,t)){var i=D(e,t);return!i||!r(R,t)||r(e,S)&&e[S][t]||(i.enumerable=!0),i}},V=function(e){for(var t,i=A(E(e)),n=[],s=0;i.length>s;)r(R,t=i[s++])||t==S||t==u||n.push(t);return n},Q=function(e){for(var t,i=e===Z,n=A(i?z:E(e)),s=[],a=0;n.length>a;)!r(R,t=n[a++])||i&&!r(Z,t)||s.push(R[t]);return s};q||(o((x=function(){if(this instanceof x)throw TypeError("Symbol is not a constructor!");var e=F(arguments.length>0?arguments[0]:void 0),t=function(i){this===Z&&t.call(z,i),r(this,S)&&r(this[S],e)&&(this[S][e]=!1),J(this,e,v(1,i))};return s&&U&&J(Z,e,{configurable:!0,set:t}),H(e)}).prototype,"toString",function(){return this._k}),C.f=Y,k.f=G,i(81).f=w.f=V,i(78).f=K,i(77).f=Q,s&&!i(15)&&o(Z,"propertyIsEnumerable",K,!0),h.f=function(e){return H(m(e))}),a(a.G+a.W+a.F*!q,{Symbol:x});for(var X="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),ee=0;X.length>ee;)m(X[ee++]);for(X=L(m.store),ee=0;X.length>ee;)c(X[ee++]);a(a.S+a.F*!q,"Symbol",{for:function(e){return r(T,e+="")?T[e]:T[e]=x(e)},keyFor:function(e){if(W(e))return N(T,e);throw TypeError(e+" is not a symbol!")},useSetter:function(){U=!0},useSimple:function(){U=!1}}),a(a.S+a.F*!q,"Object",{create:function(e,t){return void 0===t?b(e):$(b(e),t)},defineProperty:G,defineProperties:$,getOwnPropertyDescriptor:Y,getOwnPropertyNames:V,getOwnPropertySymbols:Q}),B&&a(a.S+a.F*(!q||f(function(){var e=x();return"[null]"!=O([e])||"{}"!=O({a:e})||"{}"!=O(Object(e))})),"JSON",{stringify:function(e){if(void 0!==e&&!W(e)){for(var t,i,n=[e],r=1;arguments.length>r;)n.push(arguments[r++]);return"function"==typeof(t=n[1])&&(i=t),!i&&_(t)||(t=function(e,t){if(i&&(t=i.call(this,e,t)),!W(t))return t}),n[1]=t,O.apply(B,n)}}}),x.prototype[M]||i(21)(x.prototype,M,x.prototype.valueOf),l(x,"Symbol"),l(Math,"Math",!0),l(n.JSON,"JSON",!0)},function(e,t,i){var n=i(44)("meta"),r=i(24),s=i(32),a=i(22).f,o=0,u=Object.isExtensible||function(){return!0},f=!i(27)(function(){return u(Object.preventExtensions({}))}),d=function(e){a(e,n,{value:{i:"O"+ ++o,w:{}}})},l=e.exports={KEY:n,NEED:!1,fastKey:function(e,t){if(!r(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!s(e,n)){if(!u(e))return"F";if(!t)return"E";d(e)}return e[n].i},getWeak:function(e,t){if(!s(e,n)){if(!u(e))return!0;if(!t)return!1;d(e)}return e[n].w},onFreeze:function(e){return f&&l.NEED&&u(e)&&!s(e,n)&&d(e),e}}},function(e,t,i){var n=i(17),r=i(18),s=i(15),a=i(69),o=i(22).f;e.exports=function(e){var t=r.Symbol||(r.Symbol=s?{}:n.Symbol||{});"_"==e.charAt(0)||e in t||o(t,e,{value:a.f(e)})}},function(e,t,i){var n=i(36),r=i(10);e.exports=function(e,t){for(var i,s=r(e),a=n(s),o=a.length,u=0;o>u;)if(s[i=a[u++]]===t)return i}},function(e,t,i){var n=i(36),r=i(77),s=i(78);e.exports=function(e){var t=n(e),i=r.f;if(i)for(var a,o=i(e),u=s.f,f=0;o.length>f;)u.call(e,a=o[f++])&&t.push(a);return t}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,i){var n=i(12);e.exports=Array.isArray||function(e){return"Array"==n(e)}},function(e,t,i){var n=i(10),r=i(81).f,s={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];e.exports.f=function(e){return a&&"[object Window]"==s.call(e)?function(e){try{return r(e)}catch(t){return a.slice()}}(e):r(n(e))}},function(e,t,i){var n=i(37),r=i(45).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return n(e,r)}},function(e,t,i){var n=i(78),r=i(30),s=i(10),a=i(29),o=i(32),u=i(25),f=Object.getOwnPropertyDescriptor;t.f=i(26)?f:function(e,t){if(e=s(e),t=a(t,!0),u)try{return f(e,t)}catch(i){}if(o(e,t))return r(!n.f.call(e,t),e[t])}},function(e,t){},function(e,t,i){i(74)("asyncIterator")},function(e,t,i){i(74)("observable")},function(e,t,i){"use strict";t.__esModule=!0;var n=a(i(87)),r=a(i(91)),s=a(i(66));function a(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+(void 0===t?"undefined":(0,s.default)(t)));e.prototype=(0,r.default)(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(n.default?(0,n.default)(e,t):e.__proto__=t)}},function(e,t,i){e.exports={default:i(88),__esModule:!0}},function(e,t,i){i(89),e.exports=i(18).Object.setPrototypeOf},function(e,t,i){var n=i(16);n(n.S,"Object",{setPrototypeOf:i(90).set})},function(e,t,i){var n=i(24),r=i(23),s=function(e,t){if(r(e),!n(t)&&null!==t)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{(n=i(19)(Function.call,i(82).f(Object.prototype,"__proto__").set,2))(e,[]),t=!(e instanceof Array)}catch(r){t=!0}return function(e,i){return s(e,i),t?e.__proto__=i:n(e,i),e}}({},!1):void 0),check:s}},function(e,t,i){e.exports={default:i(92),__esModule:!0}},function(e,t,i){i(93);var n=i(18).Object;e.exports=function(e,t){return n.create(e,t)}},function(e,t,i){var n=i(16);n(n.S,"Object",{create:i(34)})},function(t,i){t.exports=e},function(e,t,i){(function(t){e.exports=i(103)()}).call(t,i(96))},function(e,t){var i,n,r=e.exports={};function s(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}function o(e){if(i===setTimeout)return setTimeout(e,0);if((i===s||!i)&&setTimeout)return i=setTimeout,setTimeout(e,0);try{return i(e,0)}catch(t){try{return i.call(null,e,0)}catch(t){return i.call(this,e,0)}}}!function(){try{i="function"==typeof setTimeout?setTimeout:s}catch(e){i=s}try{n="function"==typeof clearTimeout?clearTimeout:a}catch(e){n=a}}();var u,f=[],d=!1,l=-1;function F(){d&&u&&(d=!1,u.length?f=u.concat(f):l=-1,f.length&&m())}function m(){if(!d){var e=o(F);d=!0;for(var t=f.length;t;){for(u=f,f=[];++l<t;)u&&u[l].run();l=-1,t=f.length}u=null,d=!1,function(e){if(n===clearTimeout)return clearTimeout(e);if((n===a||!n)&&clearTimeout)return n=clearTimeout,clearTimeout(e);try{n(e)}catch(t){try{return n.call(null,e)}catch(t){return n.call(this,e)}}}(e)}}function h(e,t){this.fun=e,this.array=t}function c(){}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)t[i-1]=arguments[i];f.push(new h(e,t)),1!==f.length||d||o(m)},h.prototype.run=function(){this.fun.apply(null,this.array)},r.title="browser",r.browser=!0,r.env={},r.argv=[],r.version="",r.versions={},r.on=c,r.addListener=c,r.once=c,r.off=c,r.removeListener=c,r.removeAllListeners=c,r.emit=c,r.prependListener=c,r.prependOnceListener=c,r.listeners=function(e){return[]},r.binding=function(e){throw new Error("process.binding is not supported")},r.cwd=function(){return"/"},r.chdir=function(e){throw new Error("process.chdir is not supported")},r.umask=function(){return 0}},function(e,t,i){(function(t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";var n=i(98),r=i(99),s=i(100),a=i(101),o=i(102);e.exports=function(e,t){var i="function"==typeof Symbol&&Symbol.iterator,u="@@iterator";var f="<<anonymous>>",d={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:m(n.thatReturnsNull),arrayOf:function(e){return m(function(t,i,n,r,s){if("function"!=typeof e)return new F("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside arrayOf.");var o=t[i];if(!Array.isArray(o)){var u=N(o);return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected an array.")}for(var f=0;f<o.length;f++){var d=e(o,f,n,r,s+"["+f+"]",a);if(d instanceof Error)return d}return null})},element:function(){return m(function(t,i,n,r,s){var a=t[i];if(!e(a)){var o=N(a);return new F("Invalid "+r+" `"+s+"` of type `"+o+"` supplied to `"+n+"`, expected a single ReactElement.")}return null})}(),instanceOf:function(e){return m(function(t,i,n,r,s){if(!(t[i]instanceof e)){var a=e.name||f,o=function(e){if(!e.constructor||!e.constructor.name)return f;return e.constructor.name}(t[i]);return new F("Invalid "+r+" `"+s+"` of type `"+o+"` supplied to `"+n+"`, expected instance of `"+a+"`.")}return null})},node:function(){return m(function(e,t,i,n,r){if(!c(e[t]))return new F("Invalid "+n+" `"+r+"` supplied to `"+i+"`, expected a ReactNode.");return null})}(),objectOf:function(e){return m(function(t,i,n,r,s){if("function"!=typeof e)return new F("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside objectOf.");var o=t[i],u=N(o);if("object"!==u)return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected an object.");for(var f in o)if(o.hasOwnProperty(f)){var d=e(o,f,n,r,s+"."+f,a);if(d instanceof Error)return d}return null})},oneOf:function(e){if(!Array.isArray(e))return n.thatReturnsNull;return m(function(t,i,n,r,s){for(var a=t[i],o=0;o<e.length;o++)if(l(a,e[o]))return null;var u=JSON.stringify(e);return new F("Invalid "+r+" `"+s+"` of value `"+a+"` supplied to `"+n+"`, expected one of "+u+".")})},oneOfType:function(e){if(!Array.isArray(e))return n.thatReturnsNull;for(var t=0;t<e.length;t++){var i=e[t];if("function"!=typeof i)return s(!1,"Invalid argument supplid to oneOfType. Expected an array of check functions, but received %s at index %s.",_(i),t),n.thatReturnsNull}return m(function(t,i,n,r,s){for(var o=0;o<e.length;o++){var u=e[o];if(null==u(t,i,n,r,s,a))return null}return new F("Invalid "+r+" `"+s+"` supplied to `"+n+"`.")})},shape:function(e){return m(function(t,i,n,r,s){var o=t[i],u=N(o);if("object"!==u)return new F("Invalid "+r+" `"+s+"` of type `"+u+"` supplied to `"+n+"`, expected `object`.");for(var f in e){var d=e[f];if(d){var l=d(o,f,n,r,s+"."+f,a);if(l)return l}}return null})}};function l(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function F(e){this.message=e,this.stack=""}function m(e){function i(i,n,s,o,u,d,l){(o=o||f,d=d||s,l!==a)&&(t&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types"));return null==n[s]?i?null===n[s]?new F("The "+u+" `"+d+"` is marked as required in `"+o+"`, but its value is `null`."):new F("The "+u+" `"+d+"` is marked as required in `"+o+"`, but its value is `undefined`."):null:e(n,s,o,u,d)}var n=i.bind(null,!1);return n.isRequired=i.bind(null,!0),n}function h(e){return m(function(t,i,n,r,s,a){var o=t[i];return N(o)!==e?new F("Invalid "+r+" `"+s+"` of type `"+p(o)+"` supplied to `"+n+"`, expected `"+e+"`."):null})}function c(t){switch(typeof t){case"number":case"string":case"undefined":return!0;case"boolean":return!t;case"object":if(Array.isArray(t))return t.every(c);if(null===t||e(t))return!0;var n=function(e){var t=e&&(i&&e[i]||e[u]);if("function"==typeof t)return t}(t);if(!n)return!1;var r,s=n.call(t);if(n!==t.entries){for(;!(r=s.next()).done;)if(!c(r.value))return!1}else for(;!(r=s.next()).done;){var a=r.value;if(a&&!c(a[1]))return!1}return!0;default:return!1}}function N(e){var t=typeof e;return Array.isArray(e)?"array":e instanceof RegExp?"object":function(e,t){return"symbol"===e||"Symbol"===t["@@toStringTag"]||"function"==typeof Symbol&&t instanceof Symbol}(t,e)?"symbol":t}function p(e){if(null==e)return""+e;var t=N(e);if("object"===t){if(e instanceof Date)return"date";if(e instanceof RegExp)return"regexp"}return t}function _(e){var t=p(e);switch(t){case"array":case"object":return"an "+t;case"boolean":case"date":case"regexp":return"a "+t;default:return t}}return F.prototype=Error.prototype,d.checkPropTypes=o,d.PropTypes=d,d}}).call(t,i(96))},function(e,t){"use strict";
/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 * 
	 */function i(e){return function(){return e}}var n=function(){};n.thatReturns=i,n.thatReturnsFalse=i(!1),n.thatReturnsTrue=i(!0),n.thatReturnsNull=i(null),n.thatReturnsThis=function(){return this},n.thatReturnsArgument=function(e){return e},e.exports=n},function(e,t,i){(function(t){
/**
	 * Copyright (c) 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";var i=function(e){};e.exports=function(e,t,n,r,s,a,o,u){if(i(t),!e){var f;if(void 0===t)f=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var d=[n,r,s,a,o,u],l=0;(f=new Error(t.replace(/%s/g,function(){return d[l++]}))).name="Invariant Violation"}throw f.framesToPop=1,f}}}).call(t,i(96))},function(e,t,i){(function(t){
/**
	 * Copyright 2014-2015, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 *
	 */
"use strict";var n=i(98);e.exports=n}).call(t,i(96))},function(e,t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";e.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(e,t,i){(function(t){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";e.exports=function(e,t,i,n,r){}}).call(t,i(96))},function(e,t,i){
/**
	 * Copyright 2013-present, Facebook, Inc.
	 * All rights reserved.
	 *
	 * This source code is licensed under the BSD-style license found in the
	 * LICENSE file in the root directory of this source tree. An additional grant
	 * of patent rights can be found in the PATENTS file in the same directory.
	 */
"use strict";var n=i(98),r=i(99),s=i(101);e.exports=function(){function e(e,t,i,n,a,o){o!==s&&r(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}function t(){return e}e.isRequired=e;var i={array:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t};return i.checkPropTypes=n,i.PropTypes=i,i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=i(105);Object.defineProperty(t,"Activity",{enumerable:!0,get:function(){return m(n).default}});var r=i(111);Object.defineProperty(t,"Flags",{enumerable:!0,get:function(){return m(r).default}});var s=i(112);Object.defineProperty(t,"Foods",{enumerable:!0,get:function(){return m(s).default}});var a=i(113);Object.defineProperty(t,"Nature",{enumerable:!0,get:function(){return m(a).default}});var o=i(114);Object.defineProperty(t,"Objects",{enumerable:!0,get:function(){return m(o).default}});var u=i(115);Object.defineProperty(t,"People",{enumerable:!0,get:function(){return m(u).default}});var f=i(116);Object.defineProperty(t,"Places",{enumerable:!0,get:function(){return m(f).default}});var d=i(117);Object.defineProperty(t,"Recent",{enumerable:!0,get:function(){return m(d).default}});var l=i(118);Object.defineProperty(t,"Symbols",{enumerable:!0,get:function(){return m(l).default}});var F=i(119);function m(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"Custom",{enumerable:!0,get:function(){return m(F).default}})},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1243 1293)"},f.default.createElement("g",{id:"activity"},f.default.createElement("path",{d:"M 2.83936 4.21875C 3.89404 5.54712 4.55981 7.19824 4.66431 9L 5.66577 9C 5.55701 6.90271 4.76794 4.98523 3.51514 3.46411C 4.9408 2.05042 6.86462 1.13831 9 1.0144L 9.5 0C 4.2533 0 0 4.2533 0 9.5L 1.0144 9C 1.1189 7.19824 1.78467 5.54712 2.83936 4.21875Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 10 10L 13.5485 10L 14.5499 10L 14.5499 9L 13.5485 9L 10 9L 10 1.0144L 9.5 0L 9 1.0144L 9 9L 5.66577 9L 4.66431 9L 4.66431 10L 5.66577 10L 9 10L 9 17.9856L 9.5 19L 10 17.9856L 10 10Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 16.2678 4.35657C 17.2604 5.66052 17.8846 7.26001 17.9856 9L 19 9.5C 19 4.2533 14.7467 0 9.5 0L 10 1.0144C 12.1947 1.14172 14.1659 2.10168 15.6025 3.58313C 14.4058 5.08472 13.6544 6.95703 13.5485 9L 14.5499 9C 14.6509 7.26001 15.2753 5.66064 16.2678 4.35657Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 1.0144 10L 4.66431 10L 4.66431 9L 1.0144 9L 0 9.5L 1.0144 10Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 3.51514 15.5359C 4.76794 14.0148 5.55701 12.0973 5.66577 10L 4.66431 10C 4.55981 11.8018 3.89404 13.4529 2.83936 14.7812C 1.78467 13.4529 1.1189 11.8018 1.0144 10L 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9 17.9856C 6.86462 17.8617 4.9408 16.9496 3.51514 15.5359Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 15.6025 15.4169C 14.1659 16.8983 12.1947 17.8583 10 17.9856L 9.5 19C 14.7467 19 19 14.7467 19 9.5L 17.9856 10C 17.8846 11.74 17.2604 13.3395 16.2678 14.6434C 15.2753 13.3394 14.6509 11.74 14.5499 10L 13.5485 10C 13.6544 12.043 14.4058 13.9153 15.6025 15.4169Z",transform:"translate(-1243 -1293)"}),f.default.createElement("path",{d:"M 14.5499 10L 17.9856 10L 19 9.5L 17.9856 9L 14.5499 9L 14.5499 10Z",transform:"translate(-1243 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 2.83936 4.21875C 3.89404 5.54712 4.55981 7.19824 4.66431 9L 5.66577 9C 5.55701 6.90271 4.76794 4.98523 3.51514 3.46411C 4.9408 2.05042 6.86462 1.13831 9 1.0144L 9.5 0C 4.2533 0 0 4.2533 0 9.5L 1.0144 9C 1.1189 7.19824 1.78467 5.54712 2.83936 4.21875Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 10 10L 13.5485 10L 14.5499 10L 14.5499 9L 13.5485 9L 10 9L 10 1.0144L 9.5 0L 9 1.0144L 9 9L 5.66577 9L 4.66431 9L 4.66431 10L 5.66577 10L 9 10L 9 17.9856L 9.5 19L 10 17.9856L 10 10Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 16.2678 4.35657C 17.2604 5.66052 17.8846 7.26001 17.9856 9L 19 9.5C 19 4.2533 14.7467 0 9.5 0L 10 1.0144C 12.1947 1.14172 14.1659 2.10168 15.6025 3.58313C 14.4058 5.08472 13.6544 6.95703 13.5485 9L 14.5499 9C 14.6509 7.26001 15.2753 5.66064 16.2678 4.35657Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 1.0144 10L 4.66431 10L 4.66431 9L 1.0144 9L 0 9.5L 1.0144 10Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 3.51514 15.5359C 4.76794 14.0148 5.55701 12.0973 5.66577 10L 4.66431 10C 4.55981 11.8018 3.89404 13.4529 2.83936 14.7812C 1.78467 13.4529 1.1189 11.8018 1.0144 10L 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9 17.9856C 6.86462 17.8617 4.9408 16.9496 3.51514 15.5359Z"}),f.default.createElement("path",{id:"path5_fill",d:"M 15.6025 15.4169C 14.1659 16.8983 12.1947 17.8583 10 17.9856L 9.5 19C 14.7467 19 19 14.7467 19 9.5L 17.9856 10C 17.8846 11.74 17.2604 13.3395 16.2678 14.6434C 15.2753 13.3394 14.6509 11.74 14.5499 10L 13.5485 10C 13.6544 12.043 14.4058 13.9153 15.6025 15.4169Z"}),f.default.createElement("path",{id:"path6_fill",d:"M 14.5499 10L 17.9856 10L 19 9.5L 17.9856 9L 14.5499 9L 14.5499 10Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="activity"},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(107),s=(n=r)&&n.__esModule?n:{default:n};t.default=s.default||function(e){for(var t=1;t<arguments.length;t++){var i=arguments[t];for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(e[n]=i[n])}return e}},function(e,t,i){e.exports={default:i(108),__esModule:!0}},function(e,t,i){i(109),e.exports=i(18).Object.assign},function(e,t,i){var n=i(16);n(n.S+n.F,"Object",{assign:i(110)})},function(e,t,i){"use strict";var n=i(36),r=i(77),s=i(78),a=i(50),o=i(11),u=Object.assign;e.exports=!u||i(27)(function(){var e={},t={},i=Symbol(),n="abcdefghijklmnopqrst";return e[i]=7,n.split("").forEach(function(e){t[e]=e}),7!=u({},e)[i]||Object.keys(u({},t)).join("")!=n})?function(e,t){for(var i=a(e),u=arguments.length,f=1,d=r.f,l=s.f;u>f;)for(var F,m=o(arguments[f++]),h=d?n(m).concat(d(m)):n(m),c=h.length,N=0;c>N;)l.call(m,F=h[N++])&&(i[F]=m[F]);return i}:u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"12",version:"1.1",viewBox:"0 0 12 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1092 1292)"},f.default.createElement("g",{id:"flags"},f.default.createElement("path",{d:"M 1 0L 0 0L 0 1L 0 8L 0 9L 0 17L 1 17L 1 9L 1 8L 1 1L 1 0Z",transform:"translate(-1092 -1292)"}),f.default.createElement("path",{d:"M 1 9L 11 9L 12 9L 12 8L 12 1L 12 0L 11 0L 1 0L 1 1L 11 1L 11 8L 1 8L 1 9Z",transform:"translate(-1092 -1292)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 1 0L 0 0L 0 1L 0 8L 0 9L 0 17L 1 17L 1 9L 1 8L 1 1L 1 0Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 1 9L 11 9L 12 9L 12 8L 12 1L 12 0L 11 0L 1 0L 1 1L 11 1L 11 8L 1 8L 1 9Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="flags"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"17",version:"1.1",viewBox:"0 0 17 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1279 1293)"},f.default.createElement("g",{id:"foods"},f.default.createElement("path",{d:"M 12.1183 6.48747C 11.4751 6.23515 10.7572 6.10832 10 6.10832C 9.88623 6.10832 9.77332 6.11296 9.66138 6.12187C 9.07397 6.16911 8.5144 6.33805 8 6.60771L 8 1.6082L 7.5 8.12834L 8.07019 7.73258C 8.68677 7.29289 9.25342 7.09477 10 7.10832C 11.1823 7.10832 12.1726 7.46806 12.8571 8.10026C 13.5286 8.72062 14 9.68937 14 11.1083C 14 12.462 13.3236 13.9887 12.2791 15.1969C 11.2169 16.4257 9.96875 17.1083 9 17.1083C 8.54712 17.1144 8.26135 17.0506 7.92432 16.886L 7.5 16.6873L 7.5 17.7915C 7.93848 17.997 8.43762 18.1083 9 18.1083C 11.7615 18.1083 15 14.422 15 11.1083C 15 8.70329 13.8208 7.15556 12.1183 6.48747Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 6 18.1083C 6.56238 18.1083 7.06152 17.997 7.5 17.7915L 7.5 16.6873L 7.07568 16.886C 6.73865 17.0506 6.45288 17.1144 6 17.1083C 5.03125 17.1083 3.78308 16.4257 2.72095 15.1969C 1.67639 13.9887 1 12.462 1 11.1083C 1 9.68937 1.47144 8.72062 2.14294 8.10026C 2.82739 7.46806 3.81775 7.10832 5 7.10832C 5.74658 7.09477 6.31323 7.29289 6.92981 7.73258L 7.5 8.12834L 8 1.6082L 7 1.6082L 7 6.60758C 6.38757 6.28642 5.71118 6.10832 5 6.10832C 2.23853 6.10832 0 7.7946 0 11.1083C 0 14.422 3.23853 18.1083 6 18.1083Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 11.4785 0.600017C 9.95911 1.47721 9.13403 3.11283 9.20801 4.76139L 10.2225 4.18717C 10.3368 3.08537 10.9589 2.05473 11.9785 1.46611C 12.9932 0.88029 14.1703 0.864665 15.1501 1.31889L 16.1647 0.74467C 14.8052 -0.16158 12.9978 -0.27718 11.4785 0.600017Z",transform:"translate(-1279 -1292.61)"}),f.default.createElement("path",{d:"M 13.8942 4.90605C 15.4136 4.02885 16.2386 2.39323 16.1647 0.74467L 15.1501 1.31889C 15.0359 2.42082 14.4138 3.45133 13.3942 4.04008C 12.3795 4.6259 11.2024 4.64152 10.2225 4.18717L 9.20801 4.76139C 9.4104 4.8964 9.6228 5.01371 9.84253 5.11296C 9.89465 5.13652 9.94714 5.15898 10 5.18034C 10.7045 5.46611 11.4779 5.56913 12.244 5.46842C 12.8082 5.39433 13.3684 5.20964 13.8942 4.90605Z",transform:"translate(-1279 -1292.61)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 12.1183 6.48747C 11.4751 6.23515 10.7572 6.10832 10 6.10832C 9.88623 6.10832 9.77332 6.11296 9.66138 6.12187C 9.07397 6.16911 8.5144 6.33805 8 6.60771L 8 1.6082L 7.5 8.12834L 8.07019 7.73258C 8.68677 7.29289 9.25342 7.09477 10 7.10832C 11.1823 7.10832 12.1726 7.46806 12.8571 8.10026C 13.5286 8.72062 14 9.68937 14 11.1083C 14 12.462 13.3236 13.9887 12.2791 15.1969C 11.2169 16.4257 9.96875 17.1083 9 17.1083C 8.54712 17.1144 8.26135 17.0506 7.92432 16.886L 7.5 16.6873L 7.5 17.7915C 7.93848 17.997 8.43762 18.1083 9 18.1083C 11.7615 18.1083 15 14.422 15 11.1083C 15 8.70329 13.8208 7.15556 12.1183 6.48747Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 6 18.1083C 6.56238 18.1083 7.06152 17.997 7.5 17.7915L 7.5 16.6873L 7.07568 16.886C 6.73865 17.0506 6.45288 17.1144 6 17.1083C 5.03125 17.1083 3.78308 16.4257 2.72095 15.1969C 1.67639 13.9887 1 12.462 1 11.1083C 1 9.68937 1.47144 8.72062 2.14294 8.10026C 2.82739 7.46806 3.81775 7.10832 5 7.10832C 5.74658 7.09477 6.31323 7.29289 6.92981 7.73258L 7.5 8.12834L 8 1.6082L 7 1.6082L 7 6.60758C 6.38757 6.28642 5.71118 6.10832 5 6.10832C 2.23853 6.10832 0 7.7946 0 11.1083C 0 14.422 3.23853 18.1083 6 18.1083Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 11.4785 0.600017C 9.95911 1.47721 9.13403 3.11283 9.20801 4.76139L 10.2225 4.18717C 10.3368 3.08537 10.9589 2.05473 11.9785 1.46611C 12.9932 0.88029 14.1703 0.864665 15.1501 1.31889L 16.1647 0.74467C 14.8052 -0.16158 12.9978 -0.27718 11.4785 0.600017Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 13.8942 4.90605C 15.4136 4.02885 16.2386 2.39323 16.1647 0.74467L 15.1501 1.31889C 15.0359 2.42082 14.4138 3.45133 13.3942 4.04008C 12.3795 4.6259 11.2024 4.64152 10.2225 4.18717L 9.20801 4.76139C 9.4104 4.8964 9.6228 5.01371 9.84253 5.11296C 9.89465 5.13652 9.94714 5.15898 10 5.18034C 10.7045 5.46611 11.4779 5.56913 12.244 5.46842C 12.8082 5.39433 13.3684 5.20964 13.8942 4.90605Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="foods"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1317 1293)"},f.default.createElement("g",{id:"nature"},f.default.createElement("path",{d:"M 4.77954 12.2311L 0 17.0106L 0.707153 17.7177L 5.39307 13.0318L 4.77954 12.2311Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 6.16248 12.2624L 5.56335 11.4472L 4.77954 12.2311L 5.39307 13.0318L 6.16248 12.2624Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 5.39307 13.0318C 8.67566 14.4375 12.6239 13.8008 15.3032 11.1214C 18.0741 8.35044 18.6605 4.22227 17.0624 0.876806L 16.4442 1.98069C 17.4929 4.82078 16.8754 8.13498 14.5961 10.4143C 12.3169 12.6936 9.00244 13.3111 6.16248 12.2624L 5.39307 13.0318Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 15.6292 1.38144L 5.56335 11.4472L 6.16248 12.2624L 16.4442 1.98069L 15.6292 1.38144Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 7.52515 3.34299C 9.7168 1.15134 12.8655 0.496191 15.6292 1.38144L 17.0624 0.876806C 13.717 -0.721216 9.58887 -0.134912 6.81799 2.63596C 4.22388 5.23008 3.54431 9.01377 4.77954 12.2311L 5.56335 11.4472C 4.6781 8.68345 5.33337 5.53477 7.52515 3.34299Z",transform:"translate(-1316.35 -1292.36)"}),f.default.createElement("path",{d:"M 17.0624 0.876806L 15.6292 1.38144L 16.4442 1.98069L 17.0624 0.876806Z",transform:"translate(-1316.35 -1292.36)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 4.77954 12.2311L 0 17.0106L 0.707153 17.7177L 5.39307 13.0318L 4.77954 12.2311Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 6.16248 12.2624L 5.56335 11.4472L 4.77954 12.2311L 5.39307 13.0318L 6.16248 12.2624Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 5.39307 13.0318C 8.67566 14.4375 12.6239 13.8008 15.3032 11.1214C 18.0741 8.35044 18.6605 4.22227 17.0624 0.876806L 16.4442 1.98069C 17.4929 4.82078 16.8754 8.13498 14.5961 10.4143C 12.3169 12.6936 9.00244 13.3111 6.16248 12.2624L 5.39307 13.0318Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 15.6292 1.38144L 5.56335 11.4472L 6.16248 12.2624L 16.4442 1.98069L 15.6292 1.38144Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 7.52515 3.34299C 9.7168 1.15134 12.8655 0.496191 15.6292 1.38144L 17.0624 0.876806C 13.717 -0.721216 9.58887 -0.134912 6.81799 2.63596C 4.22388 5.23008 3.54431 9.01377 4.77954 12.2311L 5.56335 11.4472C 4.6781 8.68345 5.33337 5.53477 7.52515 3.34299Z"}),f.default.createElement("path",{id:"path5_fill",d:"M 17.0624 0.876806L 15.6292 1.38144L 16.4442 1.98069L 17.0624 0.876806Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="nature"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"18",version:"1.1",viewBox:"0 0 18 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1168 1292)"},f.default.createElement("g",{id:"objects"},f.default.createElement("path",{d:"M 15.6673 1.61096C 13.5194 -0.536987 10.037 -0.536987 7.88901 1.61096L 1.1716 8.32849C -0.390533 9.8905 -0.390533 12.4232 1.1716 13.9854C 2.73361 15.5472 5.26572 15.5481 6.82785 13.9858L 9.30331 11.5105L 9.65683 11.1569L 12.1318 8.68213C 13.108 7.70581 13.108 6.12292 12.1318 5.14661C 11.1555 4.17029 9.57248 4.17029 8.59616 5.14661L 3.29294 10.45L 3.99997 11.157L 9.30331 5.85376C 9.88913 5.26794 10.8388 5.26794 11.4247 5.85376C 12.0105 6.43945 12.0105 7.38928 11.4247 7.97498L 8.9498 10.4498L 8.59616 10.8035L 6.12082 13.2787C 4.94931 14.4502 3.05038 14.4498 1.87863 13.2782C 0.707123 12.1066 0.707123 10.2072 1.87863 9.03552L 8.59616 2.31812C 10.3535 0.560669 13.2029 0.560669 14.9602 2.31812C 16.7176 4.07544 16.7176 6.9248 14.9602 8.68213L 8.24277 15.3997L 8.9498 16.1067L 15.6673 9.38928C 17.8152 7.24133 17.8152 3.75891 15.6673 1.61096Z",transform:"translate(-1167.34 -1291.22)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 15.6673 1.61096C 13.5194 -0.536987 10.037 -0.536987 7.88901 1.61096L 1.1716 8.32849C -0.390533 9.8905 -0.390533 12.4232 1.1716 13.9854C 2.73361 15.5472 5.26572 15.5481 6.82785 13.9858L 9.30331 11.5105L 9.65683 11.1569L 12.1318 8.68213C 13.108 7.70581 13.108 6.12292 12.1318 5.14661C 11.1555 4.17029 9.57248 4.17029 8.59616 5.14661L 3.29294 10.45L 3.99997 11.157L 9.30331 5.85376C 9.88913 5.26794 10.8388 5.26794 11.4247 5.85376C 12.0105 6.43945 12.0105 7.38928 11.4247 7.97498L 8.9498 10.4498L 8.59616 10.8035L 6.12082 13.2787C 4.94931 14.4502 3.05038 14.4498 1.87863 13.2782C 0.707123 12.1066 0.707123 10.2072 1.87863 9.03552L 8.59616 2.31812C 10.3535 0.560669 13.2029 0.560669 14.9602 2.31812C 16.7176 4.07544 16.7176 6.9248 14.9602 8.68213L 8.24277 15.3997L 8.9498 16.1067L 15.6673 9.38928C 17.8152 7.24133 17.8152 3.75891 15.6673 1.61096Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="objects"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"19",width:"19",version:"1.1",viewBox:"0 0 19 19"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1355 1293)"},f.default.createElement("g",{id:"people"},f.default.createElement("path",{d:"M 9.5 15C 7.08093 15 5.06323 13.2822 4.59998 11L 5.62598 11C 6.07007 12.7252 7.63623 14 9.5 14C 11.3638 14 12.9299 12.7252 13.374 11L 14.4 11C 13.9368 13.2822 11.9191 15 9.5 15Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 7 7.5C 7 8.05225 6.55225 8.5 6 8.5C 5.44775 8.5 5 8.05225 5 7.5C 5 6.94775 5.44775 6.5 6 6.5C 6.55225 6.5 7 6.94775 7 7.5Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 13 8.5C 13.5522 8.5 14 8.05225 14 7.5C 14 6.94775 13.5522 6.5 13 6.5C 12.4478 6.5 12 6.94775 12 7.5C 12 8.05225 12.4478 8.5 13 8.5Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 9.5 18C 4.80554 18 1 14.1945 1 9.5C 1 4.80554 4.80554 1 9.5 1L 9.5 0C 4.2533 0 0 4.2533 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9.5 18Z",transform:"translate(-1355 -1293)"}),f.default.createElement("path",{d:"M 18 9.5C 18 14.1945 14.1945 18 9.5 18L 9.5 19C 14.7467 19 19 14.7467 19 9.5C 19 4.2533 14.7467 0 9.5 0L 9.5 1C 14.1945 1 18 4.80554 18 9.5Z",transform:"translate(-1355 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 9.5 15C 7.08093 15 5.06323 13.2822 4.59998 11L 5.62598 11C 6.07007 12.7252 7.63623 14 9.5 14C 11.3638 14 12.9299 12.7252 13.374 11L 14.4 11C 13.9368 13.2822 11.9191 15 9.5 15Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 7 7.5C 7 8.05225 6.55225 8.5 6 8.5C 5.44775 8.5 5 8.05225 5 7.5C 5 6.94775 5.44775 6.5 6 6.5C 6.55225 6.5 7 6.94775 7 7.5Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 13 8.5C 13.5522 8.5 14 8.05225 14 7.5C 14 6.94775 13.5522 6.5 13 6.5C 12.4478 6.5 12 6.94775 12 7.5C 12 8.05225 12.4478 8.5 13 8.5Z"}),f.default.createElement("path",{id:"path3_fill",d:"M 9.5 18C 4.80554 18 1 14.1945 1 9.5C 1 4.80554 4.80554 1 9.5 1L 9.5 0C 4.2533 0 0 4.2533 0 9.5C 0 14.7467 4.2533 19 9.5 19L 9.5 18Z"}),f.default.createElement("path",{id:"path4_fill",d:"M 18 9.5C 18 14.1945 14.1945 18 9.5 18L 9.5 19C 14.7467 19 19 14.7467 19 9.5C 19 4.2533 14.7467 0 9.5 0L 9.5 1C 14.1945 1 18 4.80554 18 9.5Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="people"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"18",width:"18",version:"1.1",viewBox:"0 0 18 18"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1205 1292)"},f.default.createElement("g",{id:"transportation"},f.default.createElement("path",{d:"M 11.9747 1.55383C 12.5566 1.17468 13.1697 0.994873 13.8641 1L 17.861 1L 17.861 0L 13.8641 0C 13.0276 0.00512695 12.1419 0.264648 11.4349 0.712036L 2.07887 6.71204C -1.70385 9.13794 0.0142913 15 4.50807 15L 9.39637 15L 10.411 15L 12.6918 15L 15.3109 15L 16.3256 15L 17.861 15L 17.861 14L 12.6918 14L 4.50807 14C 1.26454 14 -0.119864 10.0732 2.0492 8L 3.48231 7L 7.38062 4.5L 8.93995 3.5L 11.9747 1.55383Z",transform:"translate(-1204.86 -1292)"}),f.default.createElement("path",{d:"M 13.111 3.5L 8.93995 3.5L 7.38062 4.5L 13.111 4.5C 13.8013 4.5 14.361 5.05969 14.361 5.75C 14.361 6.44031 13.8013 7 13.111 7L 3.48231 7L 2.0492 8L 13.111 8C 14.3536 8 15.361 6.99268 15.361 5.75C 15.361 4.50732 14.3536 3.5 13.111 3.5Z",transform:"translate(-1204.86 -1292)"}),f.default.createElement("path",{d:"M 12.861 18C 14.6242 18 16.0829 16.6962 16.3256 15L 15.3109 15C 15.0794 16.1411 14.0704 17 12.861 17C 11.6515 17 10.6426 16.1411 10.411 15L 9.39637 15C 9.63905 16.6962 11.0978 18 12.861 18Z",transform:"translate(-1204.86 -1292)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 11.9747 1.55383C 12.5566 1.17468 13.1697 0.994873 13.8641 1L 17.861 1L 17.861 0L 13.8641 0C 13.0276 0.00512695 12.1419 0.264648 11.4349 0.712036L 2.07887 6.71204C -1.70385 9.13794 0.0142913 15 4.50807 15L 9.39637 15L 10.411 15L 12.6918 15L 15.3109 15L 16.3256 15L 17.861 15L 17.861 14L 12.6918 14L 4.50807 14C 1.26454 14 -0.119864 10.0732 2.0492 8L 3.48231 7L 7.38062 4.5L 8.93995 3.5L 11.9747 1.55383Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 13.111 3.5L 8.93995 3.5L 7.38062 4.5L 13.111 4.5C 13.8013 4.5 14.361 5.05969 14.361 5.75C 14.361 6.44031 13.8013 7 13.111 7L 3.48231 7L 2.0492 8L 13.111 8C 14.3536 8 15.361 6.99268 15.361 5.75C 15.361 4.50732 14.3536 3.5 13.111 3.5Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 12.861 18C 14.6242 18 16.0829 16.6962 16.3256 15L 15.3109 15C 15.0794 16.1411 14.0704 17 12.861 17C 11.6515 17 10.6426 16.1411 10.411 15L 9.39637 15C 9.63905 16.6962 11.0978 18 12.861 18Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="places"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"20",width:"20",version:"1.1",viewBox:"0 0 20 20"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1395 1293)"},f.default.createElement("g",{id:"Vector"},f.default.createElement("path",{d:"M 9 4L 10 4L 10 10L 16 10L 16 11L 10 11L 9 11L 9 10L 9 4Z",transform:"translate(-1395 -1293)"}),f.default.createElement("path",{d:"M 10 20C 4.47717 20 0 15.5228 0 10C 0 4.47717 4.47717 0 10 0L 10 1C 5.02942 1 1 5.02942 1 10C 1 14.9706 5.02942 19 10 19L 10 20Z",transform:"translate(-1395 -1293)"}),f.default.createElement("path",{d:"M 20 10C 20 15.5228 15.5228 20 10 20L 10 19C 14.9706 19 19 14.9706 19 10C 19 5.02942 14.9706 1 10 1L 10 0C 15.5228 0 20 4.47717 20 10Z",transform:"translate(-1395 -1293)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 9 4L 10 4L 10 10L 16 10L 16 11L 10 11L 9 11L 9 10L 9 4Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 10 20C 4.47717 20 0 15.5228 0 10C 0 4.47717 4.47717 0 10 0L 10 1C 5.02942 1 1 5.02942 1 10C 1 14.9706 5.02942 19 10 19L 10 20Z"}),f.default.createElement("path",{id:"path2_fill",d:"M 20 10C 20 15.5228 15.5228 20 10 20L 10 19C 14.9706 19 19 14.9706 19 10C 19 5.02942 14.9706 1 10 1L 10 0C 15.5228 0 20 4.47717 20 10Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="recent"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"17",width:"19",version:"1.1",viewBox:"0 0 19 17"},this.props),f.default.createElement("g",{id:"Canvas",transform:"translate(1131 1292)"},f.default.createElement("g",{id:"symbols"},f.default.createElement("path",{d:"M 1 5C 1 2.79091 2.79091 1 5 1C 6.54723 1 7.89015 1.8784 8.55585 3.16603L 9 4.02513L 9 1.99968C 8.08821 0.786061 6.63622 0 5 0C 2.23863 0 0 2.23863 0 5C 0 6.63571 0.786056 8.08793 1.99875 8.99938L 8.65451 15.3614L 9 15.6917L 9 14.3083L 2.66775 8.2555L 2.64519 8.23393L 2.62011 8.21534C 1.63619 7.48562 1 6.31713 1 5Z",transform:"translate(-1130.5 -1291.5)"}),f.default.createElement("path",{d:"M 15.3322 8.2555L 9 14.3083L 9 15.6917L 9.34549 15.3614L 16.0013 8.99938C 17.2139 8.08793 18 6.63571 18 5C 18 2.23863 15.7614 0 13 0C 11.3638 0 9.91179 0.786061 9 1.99968L 9 4.02513L 9.44415 3.16603C 10.1099 1.8784 11.4528 1 13 1C 15.2091 1 17 2.79091 17 5C 17 6.31713 16.3638 7.48562 15.3799 8.21534L 15.3548 8.23393L 15.3322 8.2555Z",transform:"translate(-1130.5 -1291.5)"}))),f.default.createElement("defs",null,f.default.createElement("path",{id:"path0_fill",d:"M 1 5C 1 2.79091 2.79091 1 5 1C 6.54723 1 7.89015 1.8784 8.55585 3.16603L 9 4.02513L 9 1.99968C 8.08821 0.786061 6.63622 0 5 0C 2.23863 0 0 2.23863 0 5C 0 6.63571 0.786056 8.08793 1.99875 8.99938L 8.65451 15.3614L 9 15.6917L 9 14.3083L 2.66775 8.2555L 2.64519 8.23393L 2.62011 8.21534C 1.63619 7.48562 1 6.31713 1 5Z"}),f.default.createElement("path",{id:"path1_fill",d:"M 15.3322 8.2555L 9 14.3083L 9 15.6917L 9.34549 15.3614L 16.0013 8.99938C 17.2139 8.08793 18 6.63571 18 5C 18 2.23863 15.7614 0 13 0C 11.3638 0 9.91179 0.786061 9 1.99968L 9 4.02513L 9.44415 3.16603C 10.1099 1.8784 11.4528 1 13 1C 15.2091 1 17 2.79091 17 5C 17 6.31713 16.3638 7.48562 15.3799 8.21534L 15.3548 8.23393L 15.3322 8.2555Z"})))}}]),t}(f.default.Component);t.default=l,l.displayName="symbols"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=d(i(106)),r=d(i(56)),s=d(i(60)),a=d(i(61)),o=d(i(65)),u=d(i(86)),f=d(i(94));function d(e){return e&&e.__esModule?e:{default:e}}var l=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){return f.default.createElement("svg",(0,n.default)({height:"24",width:"24",viewBox:"0 0 24 24"},this.props),f.default.createElement("g",{transform:"translate(2.000000, 1.000000)"},f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",x:"8",y:"0"}),f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049"}),f.default.createElement("rect",{height:"21",id:"Rectangle",width:"3",rx:"1.5",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049"})))}}]),t}(f.default.Component);t.default=l,l.displayName="custom"},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(106)),r=m(i(56)),s=m(i(60)),a=m(i(61)),o=m(i(65)),u=m(i(86)),f=m(i(94)),d=m(i(95)),l=m(i(121)),F=i(1);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(){return(0,s.default)(this,t),(0,o.default)(this,(t.__proto__||(0,r.default)(t)).apply(this,arguments))}return(0,u.default)(t,e),(0,a.default)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var i=this.props,n=i.name,r=i.perLine,s=i.hasStickyPosition,a=i.emojis,o=i.emojiProps,u=o.skin,f=o.size,d=e.perLine,l=e.hasStickyPosition,F=e.emojis,m=e.emojiProps,h=m.skin,c=m.size,N=!1;return"Recent"==n&&r!=d&&(N=!0),"Search"==n&&(N=!(a==F)),u==h&&f==c&&s==l||(N=!0),N}},{key:"memoizeSize",value:function(){if(this.container&&this.label){var e=this.container.getBoundingClientRect(),t=e.top,i=e.height,n=this.parent.getBoundingClientRect().top,r=this.label.getBoundingClientRect().height;this.top=t-n+this.parent.scrollTop,this.maxMargin=0==i?0:i-r}}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin){this.props.name;return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}}},{key:"getEmojis",value:function(){var e=this.props,t=e.name,i=e.emojis,n=e.perLine;if("Recent"==t){var r=l.default.get(n);r.length&&(i=r)}return i&&(i=i.slice(0)),i}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"render",value:function(){var e=this,t=this.props,i=t.name,r=t.hasStickyPosition,s=t.emojiProps,a=t.i18n,o=this.getEmojis(),u={},d={},l={};return o||(l={display:"none"}),r||(u={height:28},d={position:"absolute"}),f.default.createElement("div",{ref:function(t){return e.container=t},className:"emoji-mart-category "+(o&&!o.length?"emoji-mart-no-results":""),style:l},f.default.createElement("div",{style:u,"data-name":i,className:"emoji-mart-category-label"},f.default.createElement("span",{style:d,ref:function(t){return e.label=t}},a.categories[i.toLowerCase()])),o&&o.map(function(e){return(0,F.Emoji)((0,n.default)({emoji:e},s))}),o&&!o.length&&f.default.createElement("div",null,f.default.createElement("div",null,(0,F.Emoji)((0,n.default)({},s,{size:38,emoji:"sleuth_or_spy",onOver:null,onLeave:null,onClick:null}))),f.default.createElement("div",{className:"emoji-mart-no-results-label"},a.notfound)))}}]),t}(f.default.Component);t.default=h,h.propTypes={emojis:d.default.array,hasStickyPosition:d.default.bool,name:d.default.string.isRequired,perLine:d.default.number.isRequired,emojiProps:d.default.object.isRequired},h.defaultProps={emojis:[],hasStickyPosition:!0}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(122)),r=a(i(125)),s=a(i(133));function a(e){return e&&e.__esModule?e:{default:e}}var o=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],u=s.default.get("frequently"),f={};t.default={add:function(e){var t=e.id;u||(u=f),u[t]||(u[t]=0),u[t]+=1,s.default.set("last",t),s.default.set("frequently",u)},get:function(e){if(!u)return f={},[].concat((0,r.default)(Array(e))).map(function(t,i){return f[o[i]]=e-i,o[i]});var t=4*e,i=(0,n.default)(u).sort(function(e,t){return u[e]-u[t]}).reverse().slice(0,t),a=s.default.get("last");return a&&-1==i.indexOf(a)&&(i.pop(),i.push(a)),i}}},function(e,t,i){e.exports={default:i(123),__esModule:!0}},function(e,t,i){i(124),e.exports=i(18).Object.keys},function(e,t,i){var n=i(50),r=i(36);i(59)("keys",function(){return function(e){return r(n(e))}})},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(126),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e){if(Array.isArray(e)){for(var t=0,i=Array(e.length);t<e.length;t++)i[t]=e[t];return i}return(0,s.default)(e)}},function(e,t,i){e.exports={default:i(127),__esModule:!0}},function(e,t,i){i(51),i(128),e.exports=i(18).Array.from},function(e,t,i){"use strict";var n=i(19),r=i(16),s=i(50),a=i(129),o=i(130),u=i(39),f=i(131),d=i(54);r(r.S+r.F*!i(132)(function(e){Array.from(e)}),"Array",{from:function(e){var t,i,r,l,F=s(e),m="function"==typeof this?this:Array,h=arguments.length,c=h>1?arguments[1]:void 0,N=void 0!==c,p=0,_=d(F);if(N&&(c=n(c,h>2?arguments[2]:void 0,2)),null==_||m==Array&&o(_))for(i=new m(t=u(F.length));t>p;p++)f(i,p,N?c(F[p],p):F[p]);else for(l=_.call(F),i=new m;!(r=l.next()).done;p++)f(i,p,N?a(l,c,[r.value,p],!0):r.value);return i.length=p,i}})},function(e,t,i){var n=i(23);e.exports=function(e,t,i,r){try{return r?t(n(i)[0],i[1]):t(i)}catch(a){var s=e.return;throw void 0!==s&&n(s.call(e)),a}}},function(e,t,i){var n=i(9),r=i(48)("iterator"),s=Array.prototype;e.exports=function(e){return void 0!==e&&(n.Array===e||s[r]===e)}},function(e,t,i){"use strict";var n=i(22),r=i(30);e.exports=function(e,t,i){t in e?n.f(e,t,r(0,i)):e[t]=i}},function(e,t,i){var n=i(48)("iterator"),r=!1;try{var s=[7][n]();s.return=function(){r=!0},Array.from(s,function(){throw 2})}catch(a){}e.exports=function(e,t){if(!t&&!r)return!1;var i=!1;try{var s=[7],o=s[n]();o.next=function(){return{done:i=!0}},s[n]=function(){return o},e(s)}catch(a){}return i}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(134),s=(n=r)&&n.__esModule?n:{default:n};var a="emoji-mart",o="undefined"!=typeof window&&"localStorage"in window;function u(e,t){if(o)try{window.localStorage[a+"."+e]=(0,s.default)(t)}catch(i){}}t.default={update:function(e){for(var t in e)u(t,e[t])},set:u,get:function(e){if(o){try{var t=window.localStorage[a+"."+e]}catch(i){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){a=e}}},function(e,t,i){e.exports={default:i(135),__esModule:!0}},function(e,t,i){var n=i(18),r=n.JSON||(n.JSON={stringify:JSON.stringify});e.exports=function(e){return r.stringify.apply(r,arguments)}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a(i(94)),r=a(i(95)),s=i(137);function a(e){return e&&e.__esModule?e:{default:e}}var o=function(e){var t=e.emoji,i=e.skin;return(0,s.getSanitizedData)(t,i)},u=function e(t){for(var i in e.defaultProps)null==t[i]&&null!=e.defaultProps[i]&&(t[i]=e.defaultProps[i]);var r,a=function(e){var t=e.emoji,i=e.skin;return(0,s.getData)(t,i)}(t),u=a.unified,f=(a.imageUrl,t.children,"url(https://static.figma.com/emoji/2/64/"+u.toLowerCase()+".png)");return r={width:t.size,height:t.size,display:"inline-block",backgroundImage:f,backgroundSize:"100%",backgroundPosition:"100% 100%"},n.default.createElement("span",{key:t.emoji.id||t.emoji,onClick:function(e){return function(e,t){t.onClick&&(0,t.onClick)(o(t),e)}(e,t)},onMouseEnter:function(e){return function(e,t){t.onOver&&(0,t.onOver)(o(t),e)}(e,t)},onMouseLeave:function(e){return function(e,t){t.onLeave&&(0,t.onLeave)(o(t),e)}(e,t)},className:"emoji-mart-emoji"},n.default.createElement("span",{style:r}))};u.propTypes={onOver:r.default.func,onLeave:r.default.func,onClick:r.default.func,skin:r.default.oneOf([1,2,3,4,5,6]),size:r.default.number.isRequired,emoji:r.default.oneOfType([r.default.string,r.default.object]).isRequired},u.defaultProps={skin:1,onOver:function(){},onLeave:function(){},onClick:function(){}},t.default=u},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.unifiedToNative=t.deepMerge=t.intersect=t.getSanitizedData=t.getData=void 0;var n=d(i(66)),r=d(i(126)),s=d(i(138)),a=d(i(134)),o=d(i(153)),u=d(i(125)),f=(d(i(156)),d(i(157)));function d(e){return e&&e.__esModule?e:{default:e}}var l=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/,F=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function m(e,t){var i={};if("string"==typeof e){var n=e.match(l);n&&(e=n[1],n[2]&&(t=parseInt(n[2]))),f.default.emojis.hasOwnProperty(e)&&(i=f.default.emojis[e])}else e.name&&f.default.emojis.hasOwnProperty(e.name)&&(i=f.default.emojis[e.name],t||(t=e.skin));if(i.skin_variations&&t>1){i=JSON.parse((0,a.default)(i));var r=F[t-1],s=i.skin_variations[r];for(var o in!s.variations&&i.variations&&delete i.variations,i.skin_tone=t,s){var u=s[o];i[o]=u}}return i.id=i.name,i}t.getData=m,t.getSanitizedData=function(){return e=m.apply(void 0,arguments),t=e.name,i=e.short_names,n=e.skin_tone,r=e.skin_variations,s=e.unified,e.imageUrl,a=e.id||i[0],o=":"+a+":",n&&(o+=":skin-tone-"+n+":"),{id:a,name:t,colons:o,unified:s.toLowerCase(),skin:n||(r?1:null)};var e,t,i,n,r,s,a,o},t.intersect=function(e,t){var i,n=new s.default(e),a=new s.default(t);return i=new s.default([].concat((0,u.default)(n)).filter(function(e){return a.has(e)})),(0,r.default)(i)},t.deepMerge=function e(t,i){var r={};for(var s in t){var a=t[s],o=a;i.hasOwnProperty(s)&&(o=i[s]),"object"===(void 0===o?"undefined":(0,n.default)(o))&&(o=e(a,o)),r[s]=o}return r},t.unifiedToNative=function(e){var t=e.split("-").map(function(e){return"0x"+e});return o.default.apply(String,(0,u.default)(t))}},function(e,t,i){e.exports={default:i(139),__esModule:!0}},function(e,t,i){i(83),i(51),i(5),i(140),i(150),e.exports=i(18).Set},function(e,t,i){"use strict";var n=i(141);e.exports=i(146)("Set",function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}},{add:function(e){return n.def(this,e=0===e?0:e,e)}},n)},function(e,t,i){"use strict";var n=i(22).f,r=i(34),s=i(142),a=i(19),o=i(143),u=i(13),f=i(144),d=i(14),l=i(8),F=i(145),m=i(26),h=i(73).fastKey,c=m?"_s":"size",N=function(e,t){var i,n=h(t);if("F"!==n)return e._i[n];for(i=e._f;i;i=i.n)if(i.k==t)return i};e.exports={getConstructor:function(e,t,i,d){var l=e(function(e,n){o(e,l,t,"_i"),e._i=r(null),e._f=void 0,e._l=void 0,e[c]=0,null!=n&&f(n,i,e[d],e)});return s(l.prototype,{clear:function(){for(var e=this._i,t=this._f;t;t=t.n)t.r=!0,t.p&&(t.p=t.p.n=void 0),delete e[t.i];this._f=this._l=void 0,this[c]=0},delete:function(e){var t=N(this,e);if(t){var i=t.n,n=t.p;delete this._i[t.i],t.r=!0,n&&(n.n=i),i&&(i.p=n),this._f==t&&(this._f=i),this._l==t&&(this._l=n),this[c]--}return!!t},forEach:function(e){o(this,l,"forEach");for(var t,i=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.n:this._f;)for(i(t.v,t.k,this);t&&t.r;)t=t.p},has:function(e){return!!N(this,e)}}),m&&n(l.prototype,"size",{get:function(){return u(this[c])}}),l},def:function(e,t,i){var n,r,s=N(e,t);return s?s.v=i:(e._l=s={i:r=h(t,!0),k:t,v:i,p:n=e._l,n:void 0,r:!1},e._f||(e._f=s),n&&(n.n=s),e[c]++,"F"!==r&&(e._i[r]=s)),e},getEntry:N,setStrong:function(e,t,i){d(e,t,function(e,t){this._t=e,this._k=t,this._l=void 0},function(){for(var e=this._k,t=this._l;t&&t.r;)t=t.p;return this._t&&(this._l=t=t?t.n:this._t._f)?l(0,"keys"==e?t.k:"values"==e?t.v:[t.k,t.v]):(this._t=void 0,l(1))},i?"entries":"values",!i,!0),F(t)}}},function(e,t,i){var n=i(21);e.exports=function(e,t,i){for(var r in t)i&&e[r]?e[r]=t[r]:n(e,r,t[r]);return e}},function(e,t){e.exports=function(e,t,i,n){if(!(e instanceof t)||void 0!==n&&n in e)throw TypeError(i+": incorrect invocation!");return e}},function(e,t,i){var n=i(19),r=i(129),s=i(130),a=i(23),o=i(39),u=i(54),f={},d={};(t=e.exports=function(e,t,i,l,F){var m,h,c,N,p=F?function(){return e}:u(e),_=n(i,l,t?2:1),g=0;if("function"!=typeof p)throw TypeError(e+" is not iterable!");if(s(p)){for(m=o(e.length);m>g;g++)if((N=t?_(a(h=e[g])[0],h[1]):_(e[g]))===f||N===d)return N}else for(c=p.call(e);!(h=c.next()).done;)if((N=r(c,_,h.value,t))===f||N===d)return N}).BREAK=f,t.RETURN=d},function(e,t,i){"use strict";var n=i(17),r=i(18),s=i(22),a=i(26),o=i(48)("species");e.exports=function(e){var t="function"==typeof r[e]?r[e]:n[e];a&&t&&!t[o]&&s.f(t,o,{configurable:!0,get:function(){return this}})}},function(e,t,i){"use strict";var n=i(17),r=i(16),s=i(73),a=i(27),o=i(21),u=i(142),f=i(144),d=i(143),l=i(24),F=i(47),m=i(22).f,h=i(147)(0),c=i(26);e.exports=function(e,t,i,N,p,_){var g=n[e],E=g,y=p?"set":"add",v=E&&E.prototype,b={};return c&&"function"==typeof E&&(_||v.forEach&&!a(function(){(new E).entries().next()}))?(E=t(function(t,i){d(t,E,e,"_c"),t._c=new g,null!=i&&f(i,p,t[y],t)}),h("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var t="add"==e||"set"==e;e in v&&(!_||"clear"!=e)&&o(E.prototype,e,function(i,n){if(d(this,E,e),!t&&_&&!l(i))return"get"==e&&void 0;var r=this._c[e](0===i?0:i,n);return t?this:r})}),"size"in v&&m(E.prototype,"size",{get:function(){return this._c.size}})):(E=N.getConstructor(t,e,p,y),u(E.prototype,i),s.NEED=!0),F(E,e),b[e]=E,r(r.G+r.W+r.F,b),_||N.setStrong(E,e,p),E}},function(e,t,i){var n=i(19),r=i(11),s=i(50),a=i(39),o=i(148);e.exports=function(e,t){var i=1==e,u=2==e,f=3==e,d=4==e,l=6==e,F=5==e||l,m=t||o;return function(t,o,h){for(var c,N,p=s(t),_=r(p),g=n(o,h,3),E=a(_.length),y=0,v=i?m(t,E):u?m(t,0):void 0;E>y;y++)if((F||y in _)&&(N=g(c=_[y],y,p),e))if(i)v[y]=N;else if(N)switch(e){case 3:return!0;case 5:return c;case 6:return y;case 2:v.push(c)}else if(d)return!1;return l?-1:f||d?d:v}}},function(e,t,i){var n=i(149);e.exports=function(e,t){return new(n(e))(t)}},function(e,t,i){var n=i(24),r=i(79),s=i(48)("species");e.exports=function(e){var t;return r(e)&&("function"!=typeof(t=e.constructor)||t!==Array&&!r(t.prototype)||(t=void 0),n(t)&&null===(t=t[s])&&(t=void 0)),void 0===t?Array:t}},function(e,t,i){var n=i(16);n(n.P+n.R,"Set",{toJSON:i(151)("Set")})},function(e,t,i){var n=i(55),r=i(152);e.exports=function(e){return function(){if(n(this)!=e)throw TypeError(e+"#toJSON isn't generic");return r(this)}}},function(e,t,i){var n=i(144);e.exports=function(e,t){var i=[];return n(e,!1,i.push,i,t),i}},function(e,t,i){e.exports={default:i(154),__esModule:!0}},function(e,t,i){i(155),e.exports=i(18).String.fromCodePoint},function(e,t,i){var n=i(16),r=i(41),s=String.fromCharCode,a=String.fromCodePoint;n(n.S+n.F*(!!a&&1!=a.length),"String",{fromCodePoint:function(e){for(var t,i=[],n=arguments.length,a=0;n>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");i.push(t<65536?s(t):s(55296+((t-=65536)>>10),t%1024+56320))}return i.join("")}})},function(e,t){"use strict";e.exports=function(e){var t,i,n=[];return t=e.short_names,i=!0,t&&(Array.isArray(t)?t:[t]).forEach(function(e){(i?e.split(/[-|_|\s]+/):[e]).forEach(function(e){e=e.toLowerCase(),-1==n.indexOf(e)&&n.push(e)})}),n}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n,r=i(158),s=(n=r)&&n.__esModule?n:{default:n};var a=[],o={},u={},f=["People","Nature","Foods","Activity","Places","Objects","Symbols","Flags"],d={"261D":!0,"26F9":!0,"270A":!0,"270B":!0,"270C":!0,"270D":!0,"1F385":!0,"1F3C2":!0,"1F3C3":!0,"1F3C4":!0,"1F3C7":!0,"1F3CA":!0,"1F3CB":!0,"1F3CC":!0,"1F442":!0,"1F443":!0,"1F446":!0,"1F447":!0,"1F448":!0,"1F449":!0,"1F44A":!0,"1F44B":!0,"1F44C":!0,"1F44D":!0,"1F44E":!0,"1F44F":!0,"1F450":!0,"1F466":!0,"1F467":!0,"1F468":!0,"1F469":!0,"1F46E":!0,"1F470":!0,"1F471":!0,"1F472":!0,"1F473":!0,"1F474":!0,"1F475":!0,"1F476":!0,"1F477":!0,"1F478":!0,"1F47C":!0,"1F481":!0,"1F482":!0,"1F483":!0,"1F485":!0,"1F486":!0,"1F487":!0,"1F4AA":!0,"1F574":!0,"1F575":!0,"1F57A":!0,"1F590":!0,"1F595":!0,"1F596":!0,"1F645":!0,"1F646":!0,"1F647":!0,"1F64B":!0,"1F64C":!0,"1F64D":!0,"1F64E":!0,"1F64F":!0,"1F6A3":!0,"1F6B4":!0,"1F6B5":!0,"1F6B6":!0,"1F6C0":!0,"1F6CC":!0,"1F918":!0,"1F919":!0,"1F91A":!0,"1F91B":!0,"1F91C":!0,"1F91E":!0,"1F91F":!0,"1F926":!0,"1F930":!0,"1F931":!0,"1F932":!0,"1F933":!0,"1F934":!0,"1F935":!0,"1F936":!0,"1F937":!0,"1F938":!0,"1F939":!0,"1F93D":!0,"1F93E":!0,"1F9D1":!0,"1F9D2":!0,"1F9D3":!0,"1F9D4":!0,"1F9D5":!0,"1F9D6":!0,"1F9D7":!0,"1F9D8":!0,"1F9D9":!0,"1F9DA":!0,"1F9DB":!0,"1F9DC":!0,"1F9DD":!0};for(var l in f){var F=f[l],m={name:F,emojis:[]};for(var h in s.default.emoji_data[F]){var c=s.default.emoji_data[F][h];c.short_names=c.shortNames,delete c.shortNames,c.name=c.short_names[0],o[c.name]=c,c.unified=c.unified[0],c.search=c.name,m.emojis.push(c),!0===d[c.unified]&&(c.skin_variations={"1F3FB":{unified:c.unified+"-1F3FB"},"1F3FC":{unified:c.unified+"-1F3FC"},"1F3FD":{unified:c.unified+"-1F3FD"},"1F3FE":{unified:c.unified+"-1F3FE"},"1F3FF":{unified:c.unified+"-1F3FF"}})}a.push(m)}for(var N in s.default.emoji_data["Skin Tones"]){var p=s.default.emoji_data["Skin Tones"][N];p.short_names=p.shortNames,delete p.shortNames,p.name=p.short_names[0],u[p.name]=p}t.default={categories:a,emojis:o,short_names:{},skins:u}},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.default={emoji_data:{Symbols:[{shortNames:["heart"],unified:["2764","2764-FE0F"]},{shortNames:["yellow_heart"],unified:["1F49B"]},{shortNames:["green_heart"],unified:["1F49A"]},{shortNames:["blue_heart"],unified:["1F499"]},{shortNames:["purple_heart"],unified:["1F49C"]},{shortNames:["black_heart"],unified:["1F5A4"]},{shortNames:["broken_heart"],unified:["1F494"]},{shortNames:["heavy_heart_exclamation_mark_ornament"],unified:["2763","2763-FE0F"]},{shortNames:["two_hearts"],unified:["1F495"]},{shortNames:["revolving_hearts"],unified:["1F49E"]},{shortNames:["heartbeat"],unified:["1F493"]},{shortNames:["heartpulse"],unified:["1F497"]},{shortNames:["sparkling_heart"],unified:["1F496"]},{shortNames:["cupid"],unified:["1F498"]},{shortNames:["gift_heart"],unified:["1F49D"]},{shortNames:["heart_decoration"],unified:["1F49F"]},{shortNames:["peace_symbol"],unified:["262E","262E-FE0F"]},{shortNames:["latin_cross"],unified:["271D","271D-FE0F"]},{shortNames:["star_and_crescent"],unified:["262A","262A-FE0F"]},{shortNames:["om_symbol"],unified:["1F549"]},{shortNames:["wheel_of_dharma"],unified:["2638","2638-FE0F"]},{shortNames:["star_of_david"],unified:["2721","2721-FE0F"]},{shortNames:["six_pointed_star"],unified:["1F52F"]},{shortNames:["menorah_with_nine_branches"],unified:["1F54E"]},{shortNames:["yin_yang"],unified:["262F","262F-FE0F"]},{shortNames:["orthodox_cross"],unified:["2626","2626-FE0F"]},{shortNames:["place_of_worship"],unified:["1F6D0"]},{shortNames:["ophiuchus"],unified:["26CE"]},{shortNames:["aries"],unified:["2648","2648-FE0F"]},{shortNames:["taurus"],unified:["2649","2649-FE0F"]},{shortNames:["gemini"],unified:["264A","264A-FE0F"]},{shortNames:["cancer"],unified:["264B","264B-FE0F"]},{shortNames:["leo"],unified:["264C","264C-FE0F"]},{shortNames:["virgo"],unified:["264D","264D-FE0F"]},{shortNames:["libra"],unified:["264E","264E-FE0F"]},{shortNames:["scorpius"],unified:["264F","264F-FE0F"]},{shortNames:["sagittarius"],unified:["2650","2650-FE0F"]},{shortNames:["capricorn"],unified:["2651","2651-FE0F"]},{shortNames:["aquarius"],unified:["2652","2652-FE0F"]},{shortNames:["pisces"],unified:["2653","2653-FE0F"]},{shortNames:["id"],unified:["1F194"]},{shortNames:["atom_symbol"],unified:["269B","269B-FE0F"]},{shortNames:["accept"],unified:["1F251"]},{shortNames:["radioactive_sign"],unified:["2622","2622-FE0F"]},{shortNames:["biohazard_sign"],unified:["2623","2623-FE0F"]},{shortNames:["mobile_phone_off"],unified:["1F4F4"]},{shortNames:["vibration_mode"],unified:["1F4F3"]},{shortNames:["u6709"],unified:["1F236"]},{shortNames:["u7121"],unified:["1F21A","1F21A-FE0F"]},{shortNames:["u7533"],unified:["1F238"]},{shortNames:["u55b6"],unified:["1F23A"]},{shortNames:["u6708"],unified:["1F237","1F237-FE0F"]},{shortNames:["eight_pointed_black_star"],unified:["2734","2734-FE0F"]},{shortNames:["vs"],unified:["1F19A"]},{shortNames:["white_flower"],unified:["1F4AE"]},{shortNames:["ideograph_advantage"],unified:["1F250"]},{shortNames:["secret"],unified:["3299","3299-FE0F"]},{shortNames:["congratulations"],unified:["3297","3297-FE0F"]},{shortNames:["u5408"],unified:["1F234"]},{shortNames:["u6e80"],unified:["1F235"]},{shortNames:["u5272"],unified:["1F239"]},{shortNames:["u7981"],unified:["1F232"]},{shortNames:["a"],unified:["1F170","1F170-FE0F"]},{shortNames:["b"],unified:["1F171","1F171-FE0F"]},{shortNames:["ab"],unified:["1F18E"]},{shortNames:["cl"],unified:["1F191"]},{shortNames:["o2"],unified:["1F17E","1F17E-FE0F"]},{shortNames:["sos"],unified:["1F198"]},{shortNames:["x"],unified:["274C"]},{shortNames:["o"],unified:["2B55","2B55-FE0F"]},{shortNames:["octagonal_sign"],unified:["1F6D1"]},{shortNames:["no_entry"],unified:["26D4","26D4-FE0F"]},{shortNames:["name_badge"],unified:["1F4DB"]},{shortNames:["no_entry_sign"],unified:["1F6AB"]},{shortNames:["100"],unified:["1F4AF"]},{shortNames:["anger"],unified:["1F4A2"]},{shortNames:["hotsprings"],unified:["2668","2668-FE0F"]},{shortNames:["no_pedestrians"],unified:["1F6B7"]},{shortNames:["do_not_litter"],unified:["1F6AF"]},{shortNames:["no_bicycles"],unified:["1F6B3"]},{shortNames:["non-potable_water"],unified:["1F6B1"]},{shortNames:["underage"],unified:["1F51E"]},{shortNames:["no_mobile_phones"],unified:["1F4F5"]},{shortNames:["no_smoking"],unified:["1F6AD"]},{shortNames:["exclamation","heavy_exclamation_mark"],unified:["2757","2757-FE0F"]},{shortNames:["grey_exclamation"],unified:["2755"]},{shortNames:["question"],unified:["2753"]},{shortNames:["grey_question"],unified:["2754"]},{shortNames:["bangbang"],unified:["203C","203C-FE0F"]},{shortNames:["interrobang"],unified:["2049","2049-FE0F"]},{shortNames:["low_brightness"],unified:["1F505"]},{shortNames:["high_brightness"],unified:["1F506"]},{shortNames:["part_alternation_mark"],unified:["303D","303D-FE0F"]},{shortNames:["warning"],unified:["26A0","26A0-FE0F"]},{shortNames:["children_crossing"],unified:["1F6B8"]},{shortNames:["trident"],unified:["1F531"]},{shortNames:["fleur_de_lis"],unified:["269C","269C-FE0F"]},{shortNames:["beginner"],unified:["1F530"]},{shortNames:["recycle"],unified:["267B","267B-FE0F"]},{shortNames:["white_check_mark"],unified:["2705"]},{shortNames:["u6307"],unified:["1F22F","1F22F-FE0F"]},{shortNames:["chart"],unified:["1F4B9"]},{shortNames:["sparkle"],unified:["2747","2747-FE0F"]},{shortNames:["eight_spoked_asterisk"],unified:["2733","2733-FE0F"]},{shortNames:["negative_squared_cross_mark"],unified:["274E"]},{shortNames:["globe_with_meridians"],unified:["1F310"]},{shortNames:["diamond_shape_with_a_dot_inside"],unified:["1F4A0"]},{shortNames:["m"],unified:["24C2","24C2-FE0F"]},{shortNames:["cyclone"],unified:["1F300"]},{shortNames:["zzz"],unified:["1F4A4"]},{shortNames:["atm"],unified:["1F3E7"]},{shortNames:["wc"],unified:["1F6BE"]},{shortNames:["wheelchair"],unified:["267F","267F-FE0F"]},{shortNames:["parking"],unified:["1F17F","1F17F-FE0F"]},{shortNames:["u7a7a"],unified:["1F233"]},{shortNames:["sa"],unified:["1F202","1F202-FE0F"]},{shortNames:["passport_control"],unified:["1F6C2"]},{shortNames:["customs"],unified:["1F6C3"]},{shortNames:["baggage_claim"],unified:["1F6C4"]},{shortNames:["left_luggage"],unified:["1F6C5"]},{shortNames:["mens"],unified:["1F6B9"]},{shortNames:["womens"],unified:["1F6BA"]},{shortNames:["baby_symbol"],unified:["1F6BC"]},{shortNames:["restroom"],unified:["1F6BB"]},{shortNames:["put_litter_in_its_place"],unified:["1F6AE"]},{shortNames:["cinema"],unified:["1F3A6"]},{shortNames:["signal_strength"],unified:["1F4F6"]},{shortNames:["koko"],unified:["1F201"]},{shortNames:["symbols"],unified:["1F523"]},{shortNames:["information_source"],unified:["2139","2139-FE0F"]},{shortNames:["abc"],unified:["1F524"]},{shortNames:["abcd"],unified:["1F521"]},{shortNames:["capital_abcd"],unified:["1F520"]},{shortNames:["ng"],unified:["1F196"]},{shortNames:["ok"],unified:["1F197"]},{shortNames:["up"],unified:["1F199"]},{shortNames:["cool"],unified:["1F192"]},{shortNames:["new"],unified:["1F195"]},{shortNames:["free"],unified:["1F193"]},{shortNames:["zero"],unified:["0030-20E3","0030-FE0F-20E3"]},{shortNames:["one"],unified:["0031-20E3","0031-FE0F-20E3"]},{shortNames:["two"],unified:["0032-20E3","0032-FE0F-20E3"]},{shortNames:["three"],unified:["0033-20E3","0033-FE0F-20E3"]},{shortNames:["four"],unified:["0034-20E3","0034-FE0F-20E3"]},{shortNames:["five"],unified:["0035-20E3","0035-FE0F-20E3"]},{shortNames:["six"],unified:["0036-20E3","0036-FE0F-20E3"]},{shortNames:["seven"],unified:["0037-20E3","0037-FE0F-20E3"]},{shortNames:["eight"],unified:["0038-20E3","0038-FE0F-20E3"]},{shortNames:["nine"],unified:["0039-20E3","0039-FE0F-20E3"]},{shortNames:["keycap_ten"],unified:["1F51F"]},{shortNames:["1234"],unified:["1F522"]},{shortNames:["hash"],unified:["0023-20E3","0023-FE0F-20E3"]},{shortNames:["keycap_star"],unified:["002A-20E3","002A-FE0F-20E3"]},{shortNames:["arrow_forward"],unified:["25B6","25B6-FE0F"]},{shortNames:["double_vertical_bar"],unified:["23F8"]},{shortNames:["black_right_pointing_triangle_with_double_vertical_bar"],unified:["23EF"]},{shortNames:["black_square_for_stop"],unified:["23F9"]},{shortNames:["eject"],unified:["23CF"]},{shortNames:["black_circle_for_record"],unified:["23FA"]},{shortNames:["black_right_pointing_double_triangle_with_vertical_bar"],unified:["23ED"]},{shortNames:["black_left_pointing_double_triangle_with_vertical_bar"],unified:["23EE"]},{shortNames:["fast_forward"],unified:["23E9"]},{shortNames:["rewind"],unified:["23EA"]},{shortNames:["arrow_double_up"],unified:["23EB"]},{shortNames:["arrow_double_down"],unified:["23EC"]},{shortNames:["arrow_backward"],unified:["25C0","25C0-FE0F"]},{shortNames:["arrow_up_small"],unified:["1F53C"]},{shortNames:["arrow_down_small"],unified:["1F53D"]},{shortNames:["arrow_right"],unified:["27A1","27A1-FE0F"]},{shortNames:["arrow_left"],unified:["2B05","2B05-FE0F"]},{shortNames:["arrow_up"],unified:["2B06","2B06-FE0F"]},{shortNames:["arrow_down"],unified:["2B07","2B07-FE0F"]},{shortNames:["arrow_upper_right"],unified:["2197","2197-FE0F"]},{shortNames:["arrow_lower_right"],unified:["2198","2198-FE0F"]},{shortNames:["arrow_lower_left"],unified:["2199","2199-FE0F"]},{shortNames:["arrow_upper_left"],unified:["2196","2196-FE0F"]},{shortNames:["arrow_up_down"],unified:["2195","2195-FE0F"]},{shortNames:["left_right_arrow"],unified:["2194","2194-FE0F"]},{shortNames:["arrow_right_hook"],unified:["21AA","21AA-FE0F"]},{shortNames:["leftwards_arrow_with_hook"],unified:["21A9","21A9-FE0F"]},{shortNames:["arrow_heading_up"],unified:["2934","2934-FE0F"]},{shortNames:["arrow_heading_down"],unified:["2935","2935-FE0F"]},{shortNames:["twisted_rightwards_arrows"],unified:["1F500"]},{shortNames:["repeat"],unified:["1F501"]},{shortNames:["repeat_one"],unified:["1F502"]},{shortNames:["arrows_counterclockwise"],unified:["1F504"]},{shortNames:["arrows_clockwise"],unified:["1F503"]},{shortNames:["musical_note"],unified:["1F3B5"]},{shortNames:["notes"],unified:["1F3B6"]},{shortNames:["heavy_plus_sign"],unified:["2795"]},{shortNames:["heavy_minus_sign"],unified:["2796"]},{shortNames:["heavy_division_sign"],unified:["2797"]},{shortNames:["heavy_multiplication_x"],unified:["2716","2716-FE0F"]},{shortNames:["heavy_dollar_sign"],unified:["1F4B2"]},{shortNames:["currency_exchange"],unified:["1F4B1"]},{shortNames:["tm"],unified:["2122","2122-FE0F"]},{shortNames:["copyright"],unified:["00A9","00A9-FE0F"]},{shortNames:["registered"],unified:["00AE","00AE-FE0F"]},{shortNames:["wavy_dash"],unified:["3030","3030-FE0F"]},{shortNames:["curly_loop"],unified:["27B0"]},{shortNames:["loop"],unified:["27BF"]},{shortNames:["end"],unified:["1F51A"]},{shortNames:["back"],unified:["1F519"]},{shortNames:["on"],unified:["1F51B"]},{shortNames:["top"],unified:["1F51D"]},{shortNames:["soon"],unified:["1F51C"]},{shortNames:["heavy_check_mark"],unified:["2714","2714-FE0F"]},{shortNames:["ballot_box_with_check"],unified:["2611","2611-FE0F"]},{shortNames:["radio_button"],unified:["1F518"]},{shortNames:["white_circle"],unified:["26AA","26AA-FE0F"]},{shortNames:["black_circle"],unified:["26AB","26AB-FE0F"]},{shortNames:["red_circle"],unified:["1F534"]},{shortNames:["large_blue_circle"],unified:["1F535"]},{shortNames:["small_red_triangle"],unified:["1F53A"]},{shortNames:["small_red_triangle_down"],unified:["1F53B"]},{shortNames:["small_orange_diamond"],unified:["1F538"]},{shortNames:["small_blue_diamond"],unified:["1F539"]},{shortNames:["large_orange_diamond"],unified:["1F536"]},{shortNames:["large_blue_diamond"],unified:["1F537"]},{shortNames:["white_square_button"],unified:["1F533"]},{shortNames:["black_square_button"],unified:["1F532"]},{shortNames:["black_small_square"],unified:["25AA","25AA-FE0F"]},{shortNames:["white_small_square"],unified:["25AB","25AB-FE0F"]},{shortNames:["black_medium_small_square"],unified:["25FE","25FE-FE0F"]},{shortNames:["white_medium_small_square"],unified:["25FD","25FD-FE0F"]},{shortNames:["black_medium_square"],unified:["25FC","25FC-FE0F"]},{shortNames:["white_medium_square"],unified:["25FB","25FB-FE0F"]},{shortNames:["black_large_square"],unified:["2B1B","2B1B-FE0F"]},{shortNames:["white_large_square"],unified:["2B1C","2B1C-FE0F"]},{shortNames:["speaker"],unified:["1F508"]},{shortNames:["mute"],unified:["1F507"]},{shortNames:["sound"],unified:["1F509"]},{shortNames:["loud_sound"],unified:["1F50A"]},{shortNames:["bell"],unified:["1F514"]},{shortNames:["no_bell"],unified:["1F515"]},{shortNames:["mega"],unified:["1F4E3"]},{shortNames:["loudspeaker"],unified:["1F4E2"]},{shortNames:["eye-in-speech-bubble"],unified:["1F441-FE0F-200D-1F5E8-FE0F"]},{shortNames:["speech_balloon"],unified:["1F4AC"]},{shortNames:["left_speech_bubble"],unified:["1F5E8"]},{shortNames:["thought_balloon"],unified:["1F4AD"]},{shortNames:["right_anger_bubble"],unified:["1F5EF"]},{shortNames:["spades"],unified:["2660","2660-FE0F"]},{shortNames:["clubs"],unified:["2663","2663-FE0F"]},{shortNames:["hearts"],unified:["2665","2665-FE0F"]},{shortNames:["diamonds"],unified:["2666","2666-FE0F"]},{shortNames:["black_joker"],unified:["1F0CF"]},{shortNames:["flower_playing_cards"],unified:["1F3B4"]},{shortNames:["mahjong"],unified:["1F004","1F004-FE0F"]},{shortNames:["clock1"],unified:["1F550"]},{shortNames:["clock2"],unified:["1F551"]},{shortNames:["clock3"],unified:["1F552"]},{shortNames:["clock4"],unified:["1F553"]},{shortNames:["clock5"],unified:["1F554"]},{shortNames:["clock6"],unified:["1F555"]},{shortNames:["clock7"],unified:["1F556"]},{shortNames:["clock8"],unified:["1F557"]},{shortNames:["clock9"],unified:["1F558"]},{shortNames:["clock10"],unified:["1F559"]},{shortNames:["clock11"],unified:["1F55A"]},{shortNames:["clock12"],unified:["1F55B"]},{shortNames:["clock130"],unified:["1F55C"]},{shortNames:["clock230"],unified:["1F55D"]},{shortNames:["clock330"],unified:["1F55E"]},{shortNames:["clock430"],unified:["1F55F"]},{shortNames:["clock530"],unified:["1F560"]},{shortNames:["clock630"],unified:["1F561"]},{shortNames:["clock730"],unified:["1F562"]},{shortNames:["clock830"],unified:["1F563"]},{shortNames:["clock930"],unified:["1F564"]},{shortNames:["clock1030"],unified:["1F565"]},{shortNames:["clock1130"],unified:["1F566"]},{shortNames:["clock1230"],unified:["1F567"]},{shortNames:["female_sign"],unified:["2640"]},{shortNames:["male_sign"],unified:["2642"]},{shortNames:["staff_of_aesculapius"],unified:["2695"]}],Objects:[{shortNames:["watch"],unified:["231A","231A-FE0F"]},{shortNames:["iphone"],unified:["1F4F1"]},{shortNames:["calling"],unified:["1F4F2"]},{shortNames:["computer"],unified:["1F4BB"]},{shortNames:["keyboard"],unified:["2328","2328-FE0F"]},{shortNames:["desktop_computer"],unified:["1F5A5"]},{shortNames:["printer"],unified:["1F5A8"]},{shortNames:["three_button_mouse"],unified:["1F5B1"]},{shortNames:["trackball"],unified:["1F5B2"]},{shortNames:["joystick"],unified:["1F579"]},{shortNames:["compression"],unified:["1F5DC"]},{shortNames:["minidisc"],unified:["1F4BD"]},{shortNames:["floppy_disk"],unified:["1F4BE"]},{shortNames:["cd"],unified:["1F4BF"]},{shortNames:["dvd"],unified:["1F4C0"]},{shortNames:["vhs"],unified:["1F4FC"]},{shortNames:["camera"],unified:["1F4F7"]},{shortNames:["camera_with_flash"],unified:["1F4F8"]},{shortNames:["video_camera"],unified:["1F4F9"]},{shortNames:["movie_camera"],unified:["1F3A5"]},{shortNames:["film_projector"],unified:["1F4FD"]},{shortNames:["film_frames"],unified:["1F39E"]},{shortNames:["telephone_receiver"],unified:["1F4DE"]},{shortNames:["phone","telephone"],unified:["260E","260E-FE0F"]},{shortNames:["pager"],unified:["1F4DF"]},{shortNames:["fax"],unified:["1F4E0"]},{shortNames:["tv"],unified:["1F4FA"]},{shortNames:["radio"],unified:["1F4FB"]},{shortNames:["studio_microphone"],unified:["1F399"]},{shortNames:["level_slider"],unified:["1F39A"]},{shortNames:["control_knobs"],unified:["1F39B"]},{shortNames:["stopwatch"],unified:["23F1"]},{shortNames:["timer_clock"],unified:["23F2"]},{shortNames:["alarm_clock"],unified:["23F0"]},{shortNames:["mantelpiece_clock"],unified:["1F570"]},{shortNames:["hourglass"],unified:["231B","231B-FE0F"]},{shortNames:["hourglass_flowing_sand"],unified:["23F3"]},{shortNames:["satellite_antenna"],unified:["1F4E1"]},{shortNames:["battery"],unified:["1F50B"]},{shortNames:["electric_plug"],unified:["1F50C"]},{shortNames:["bulb"],unified:["1F4A1"]},{shortNames:["flashlight"],unified:["1F526"]},{shortNames:["candle"],unified:["1F56F"]},{shortNames:["wastebasket"],unified:["1F5D1"]},{shortNames:["oil_drum"],unified:["1F6E2"]},{shortNames:["money_with_wings"],unified:["1F4B8"]},{shortNames:["dollar"],unified:["1F4B5"]},{shortNames:["yen"],unified:["1F4B4"]},{shortNames:["euro"],unified:["1F4B6"]},{shortNames:["pound"],unified:["1F4B7"]},{shortNames:["moneybag"],unified:["1F4B0"]},{shortNames:["credit_card"],unified:["1F4B3"]},{shortNames:["gem"],unified:["1F48E"]},{shortNames:["scales"],unified:["2696","2696-FE0F"]},{shortNames:["wrench"],unified:["1F527"]},{shortNames:["hammer"],unified:["1F528"]},{shortNames:["hammer_and_pick"],unified:["2692"]},{shortNames:["hammer_and_wrench"],unified:["1F6E0"]},{shortNames:["pick"],unified:["26CF"]},{shortNames:["nut_and_bolt"],unified:["1F529"]},{shortNames:["gear"],unified:["2699","2699-FE0F"]},{shortNames:["chains"],unified:["26D3"]},{shortNames:["gun"],unified:["1F52B"]},{shortNames:["bomb"],unified:["1F4A3"]},{shortNames:["hocho","knife"],unified:["1F52A"]},{shortNames:["dagger_knife"],unified:["1F5E1"]},{shortNames:["crossed_swords"],unified:["2694","2694-FE0F"]},{shortNames:["shield"],unified:["1F6E1"]},{shortNames:["smoking"],unified:["1F6AC"]},{shortNames:["coffin"],unified:["26B0","26B0-FE0F"]},{shortNames:["funeral_urn"],unified:["26B1","26B1-FE0F"]},{shortNames:["amphora"],unified:["1F3FA"]},{shortNames:["crystal_ball"],unified:["1F52E"]},{shortNames:["prayer_beads"],unified:["1F4FF"]},{shortNames:["barber"],unified:["1F488"]},{shortNames:["alembic"],unified:["2697","2697-FE0F"]},{shortNames:["telescope"],unified:["1F52D"]},{shortNames:["microscope"],unified:["1F52C"]},{shortNames:["hole"],unified:["1F573"]},{shortNames:["pill"],unified:["1F48A"]},{shortNames:["syringe"],unified:["1F489"]},{shortNames:["thermometer"],unified:["1F321"]},{shortNames:["toilet"],unified:["1F6BD"]},{shortNames:["potable_water"],unified:["1F6B0"]},{shortNames:["shower"],unified:["1F6BF"]},{shortNames:["bathtub"],unified:["1F6C1"]},{shortNames:["bath"],unified:["1F6C0"],tones:!1},{shortNames:["bellhop_bell"],unified:["1F6CE"]},{shortNames:["key"],unified:["1F511"]},{shortNames:["old_key"],unified:["1F5DD"]},{shortNames:["door"],unified:["1F6AA"]},{shortNames:["couch_and_lamp"],unified:["1F6CB"]},{shortNames:["bed"],unified:["1F6CF"]},{shortNames:["sleeping_accommodation"],unified:["1F6CC"],tones:!1},{shortNames:["frame_with_picture"],unified:["1F5BC"]},{shortNames:["shopping_bags"],unified:["1F6CD"]},{shortNames:["shopping_trolley"],unified:["1F6D2"]},{shortNames:["gift"],unified:["1F381"]},{shortNames:["balloon"],unified:["1F388"]},{shortNames:["flags"],unified:["1F38F"]},{shortNames:["ribbon"],unified:["1F380"]},{shortNames:["confetti_ball"],unified:["1F38A"]},{shortNames:["tada"],unified:["1F389"]},{shortNames:["dolls"],unified:["1F38E"]},{shortNames:["izakaya_lantern","lantern"],unified:["1F3EE"]},{shortNames:["wind_chime"],unified:["1F390"]},{shortNames:["email","envelope"],unified:["2709","2709-FE0F"]},{shortNames:["envelope_with_arrow"],unified:["1F4E9"]},{shortNames:["incoming_envelope"],unified:["1F4E8"]},{shortNames:["e-mail"],unified:["1F4E7"]},{shortNames:["love_letter"],unified:["1F48C"]},{shortNames:["inbox_tray"],unified:["1F4E5"]},{shortNames:["outbox_tray"],unified:["1F4E4"]},{shortNames:["package"],unified:["1F4E6"]},{shortNames:["label"],unified:["1F3F7"]},{shortNames:["mailbox_closed"],unified:["1F4EA"]},{shortNames:["mailbox"],unified:["1F4EB"]},{shortNames:["mailbox_with_mail"],unified:["1F4EC"]},{shortNames:["mailbox_with_no_mail"],unified:["1F4ED"]},{shortNames:["postbox"],unified:["1F4EE"]},{shortNames:["postal_horn"],unified:["1F4EF"]},{shortNames:["scroll"],unified:["1F4DC"]},{shortNames:["page_with_curl"],unified:["1F4C3"]},{shortNames:["page_facing_up"],unified:["1F4C4"]},{shortNames:["bookmark_tabs"],unified:["1F4D1"]},{shortNames:["bar_chart"],unified:["1F4CA"]},{shortNames:["chart_with_upwards_trend"],unified:["1F4C8"]},{shortNames:["chart_with_downwards_trend"],unified:["1F4C9"]},{shortNames:["spiral_note_pad"],unified:["1F5D2"]},{shortNames:["spiral_calendar_pad"],unified:["1F5D3"]},{shortNames:["calendar"],unified:["1F4C6"]},{shortNames:["date"],unified:["1F4C5"]},{shortNames:["card_index"],unified:["1F4C7"]},{shortNames:["card_file_box"],unified:["1F5C3"]},{shortNames:["ballot_box_with_ballot"],unified:["1F5F3"]},{shortNames:["file_cabinet"],unified:["1F5C4"]},{shortNames:["clipboard"],unified:["1F4CB"]},{shortNames:["file_folder"],unified:["1F4C1"]},{shortNames:["open_file_folder"],unified:["1F4C2"]},{shortNames:["card_index_dividers"],unified:["1F5C2"]},{shortNames:["rolled_up_newspaper"],unified:["1F5DE"]},{shortNames:["newspaper"],unified:["1F4F0"]},{shortNames:["notebook"],unified:["1F4D3"]},{shortNames:["notebook_with_decorative_cover"],unified:["1F4D4"]},{shortNames:["ledger"],unified:["1F4D2"]},{shortNames:["closed_book"],unified:["1F4D5"]},{shortNames:["green_book"],unified:["1F4D7"]},{shortNames:["blue_book"],unified:["1F4D8"]},{shortNames:["orange_book"],unified:["1F4D9"]},{shortNames:["books"],unified:["1F4DA"]},{shortNames:["book","open_book"],unified:["1F4D6"]},{shortNames:["bookmark"],unified:["1F516"]},{shortNames:["link"],unified:["1F517"]},{shortNames:["paperclip"],unified:["1F4CE"]},{shortNames:["linked_paperclips"],unified:["1F587"]},{shortNames:["triangular_ruler"],unified:["1F4D0"]},{shortNames:["straight_ruler"],unified:["1F4CF"]},{shortNames:["pushpin"],unified:["1F4CC"]},{shortNames:["round_pushpin"],unified:["1F4CD"]},{shortNames:["scissors"],unified:["2702","2702-FE0F"]},{shortNames:["lower_left_ballpoint_pen"],unified:["1F58A"]},{shortNames:["lower_left_fountain_pen"],unified:["1F58B"]},{shortNames:["black_nib"],unified:["2712","2712-FE0F"]},{shortNames:["lower_left_paintbrush"],unified:["1F58C"]},{shortNames:["lower_left_crayon"],unified:["1F58D"]},{shortNames:["memo","pencil"],unified:["1F4DD"]},{shortNames:["pencil2"],unified:["270F","270F-FE0F"]},{shortNames:["mag"],unified:["1F50D"]},{shortNames:["mag_right"],unified:["1F50E"]},{shortNames:["lock_with_ink_pen"],unified:["1F50F"]},{shortNames:["closed_lock_with_key"],unified:["1F510"]},{shortNames:["lock"],unified:["1F512"]},{shortNames:["unlock"],unified:["1F513"]}],Nature:[{shortNames:["dog"],unified:["1F436"]},{shortNames:["cat"],unified:["1F431"]},{shortNames:["mouse"],unified:["1F42D"]},{shortNames:["hamster"],unified:["1F439"]},{shortNames:["rabbit"],unified:["1F430"]},{shortNames:["fox_face"],unified:["1F98A"]},{shortNames:["bear"],unified:["1F43B"]},{shortNames:["panda_face"],unified:["1F43C"]},{shortNames:["koala"],unified:["1F428"]},{shortNames:["tiger"],unified:["1F42F"]},{shortNames:["lion_face"],unified:["1F981"]},{shortNames:["cow"],unified:["1F42E"]},{shortNames:["pig"],unified:["1F437"]},{shortNames:["pig_nose"],unified:["1F43D"]},{shortNames:["frog"],unified:["1F438"]},{shortNames:["monkey_face"],unified:["1F435"]},{shortNames:["see_no_evil"],unified:["1F648"]},{shortNames:["hear_no_evil"],unified:["1F649"]},{shortNames:["speak_no_evil"],unified:["1F64A"]},{shortNames:["monkey"],unified:["1F412"]},{shortNames:["chicken"],unified:["1F414"]},{shortNames:["penguin"],unified:["1F427"]},{shortNames:["bird"],unified:["1F426"]},{shortNames:["baby_chick"],unified:["1F424"]},{shortNames:["hatching_chick"],unified:["1F423"]},{shortNames:["hatched_chick"],unified:["1F425"]},{shortNames:["duck"],unified:["1F986"]},{shortNames:["eagle"],unified:["1F985"]},{shortNames:["owl"],unified:["1F989"]},{shortNames:["bat"],unified:["1F987"]},{shortNames:["wolf"],unified:["1F43A"]},{shortNames:["boar"],unified:["1F417"]},{shortNames:["horse"],unified:["1F434"]},{shortNames:["unicorn_face"],unified:["1F984"]},{shortNames:["bee","honeybee"],unified:["1F41D"]},{shortNames:["bug"],unified:["1F41B"]},{shortNames:["butterfly"],unified:["1F98B"]},{shortNames:["snail"],unified:["1F40C"]},{shortNames:["shell"],unified:["1F41A"]},{shortNames:["beetle"],unified:["1F41E"]},{shortNames:["ant"],unified:["1F41C"]},{shortNames:["spider"],unified:["1F577"]},{shortNames:["spider_web"],unified:["1F578"]},{shortNames:["turtle"],unified:["1F422"]},{shortNames:["snake"],unified:["1F40D"]},{shortNames:["lizard"],unified:["1F98E"]},{shortNames:["scorpion"],unified:["1F982"]},{shortNames:["crab"],unified:["1F980"]},{shortNames:["squid"],unified:["1F991"]},{shortNames:["octopus"],unified:["1F419"]},{shortNames:["shrimp"],unified:["1F990"]},{shortNames:["tropical_fish"],unified:["1F420"]},{shortNames:["fish"],unified:["1F41F"]},{shortNames:["blowfish"],unified:["1F421"]},{shortNames:["dolphin","flipper"],unified:["1F42C"]},{shortNames:["shark"],unified:["1F988"]},{shortNames:["whale"],unified:["1F433"]},{shortNames:["whale2"],unified:["1F40B"]},{shortNames:["crocodile"],unified:["1F40A"]},{shortNames:["leopard"],unified:["1F406"]},{shortNames:["tiger2"],unified:["1F405"]},{shortNames:["water_buffalo"],unified:["1F403"]},{shortNames:["ox"],unified:["1F402"]},{shortNames:["cow2"],unified:["1F404"]},{shortNames:["deer"],unified:["1F98C"]},{shortNames:["dromedary_camel"],unified:["1F42A"]},{shortNames:["camel"],unified:["1F42B"]},{shortNames:["elephant"],unified:["1F418"]},{shortNames:["rhinoceros"],unified:["1F98F"]},{shortNames:["gorilla"],unified:["1F98D"]},{shortNames:["racehorse"],unified:["1F40E"]},{shortNames:["pig2"],unified:["1F416"]},{shortNames:["goat"],unified:["1F410"]},{shortNames:["ram"],unified:["1F40F"]},{shortNames:["sheep"],unified:["1F411"]},{shortNames:["dog2"],unified:["1F415"]},{shortNames:["poodle"],unified:["1F429"]},{shortNames:["cat2"],unified:["1F408"]},{shortNames:["rooster"],unified:["1F413"]},{shortNames:["turkey"],unified:["1F983"]},{shortNames:["dove_of_peace"],unified:["1F54A"]},{shortNames:["rabbit2"],unified:["1F407"]},{shortNames:["mouse2"],unified:["1F401"]},{shortNames:["rat"],unified:["1F400"]},{shortNames:["chipmunk"],unified:["1F43F"]},{shortNames:["feet","paw_prints"],unified:["1F43E"]},{shortNames:["dragon"],unified:["1F409"]},{shortNames:["dragon_face"],unified:["1F432"]},{shortNames:["cactus"],unified:["1F335"]},{shortNames:["christmas_tree"],unified:["1F384"]},{shortNames:["evergreen_tree"],unified:["1F332"]},{shortNames:["deciduous_tree"],unified:["1F333"]},{shortNames:["palm_tree"],unified:["1F334"]},{shortNames:["seedling"],unified:["1F331"]},{shortNames:["herb"],unified:["1F33F"]},{shortNames:["shamrock"],unified:["2618","2618-FE0F"]},{shortNames:["four_leaf_clover"],unified:["1F340"]},{shortNames:["bamboo"],unified:["1F38D"]},{shortNames:["tanabata_tree"],unified:["1F38B"]},{shortNames:["leaves"],unified:["1F343"]},{shortNames:["fallen_leaf"],unified:["1F342"]},{shortNames:["maple_leaf"],unified:["1F341"]},{shortNames:["mushroom"],unified:["1F344"]},{shortNames:["ear_of_rice"],unified:["1F33E"]},{shortNames:["bouquet"],unified:["1F490"]},{shortNames:["tulip"],unified:["1F337"]},{shortNames:["rose"],unified:["1F339"]},{shortNames:["wilted_flower"],unified:["1F940"]},{shortNames:["sunflower"],unified:["1F33B"]},{shortNames:["blossom"],unified:["1F33C"]},{shortNames:["cherry_blossom"],unified:["1F338"]},{shortNames:["hibiscus"],unified:["1F33A"]},{shortNames:["earth_americas"],unified:["1F30E"]},{shortNames:["earth_africa"],unified:["1F30D"]},{shortNames:["earth_asia"],unified:["1F30F"]},{shortNames:["full_moon"],unified:["1F315"]},{shortNames:["waning_gibbous_moon"],unified:["1F316"]},{shortNames:["last_quarter_moon"],unified:["1F317"]},{shortNames:["waning_crescent_moon"],unified:["1F318"]},{shortNames:["new_moon"],unified:["1F311"]},{shortNames:["waxing_crescent_moon"],unified:["1F312"]},{shortNames:["first_quarter_moon"],unified:["1F313"]},{shortNames:["moon","waxing_gibbous_moon"],unified:["1F314"]},{shortNames:["new_moon_with_face"],unified:["1F31A"]},{shortNames:["full_moon_with_face"],unified:["1F31D"]},{shortNames:["sun_with_face"],unified:["1F31E"]},{shortNames:["first_quarter_moon_with_face"],unified:["1F31B"]},{shortNames:["last_quarter_moon_with_face"],unified:["1F31C"]},{shortNames:["crescent_moon"],unified:["1F319"]},{shortNames:["dizzy"],unified:["1F4AB"]},{shortNames:["star"],unified:["2B50","2B50-FE0F"]},{shortNames:["star2"],unified:["1F31F"]},{shortNames:["sparkles"],unified:["2728"]},{shortNames:["zap"],unified:["26A1","26A1-FE0F"]},{shortNames:["fire"],unified:["1F525"]},{shortNames:["boom","collision"],unified:["1F4A5"]},{shortNames:["comet"],unified:["2604","2604-FE0F"]},{shortNames:["sunny"],unified:["2600","2600-FE0F"]},{shortNames:["mostly_sunny","sun_small_cloud"],unified:["1F324"]},{shortNames:["partly_sunny"],unified:["26C5","26C5-FE0F"]},{shortNames:["barely_sunny","sun_behind_cloud"],unified:["1F325"]},{shortNames:["partly_sunny_rain","sun_behind_rain_cloud"],unified:["1F326"]},{shortNames:["rainbow"],unified:["1F308"]},{shortNames:["cloud"],unified:["2601","2601-FE0F"]},{shortNames:["rain_cloud"],unified:["1F327"]},{shortNames:["thunder_cloud_and_rain"],unified:["26C8"]},{shortNames:["lightning","lightning_cloud"],unified:["1F329"]},{shortNames:["snow_cloud"],unified:["1F328"]},{shortNames:["snowman"],unified:["2603","2603-FE0F"]},{shortNames:["snowman_without_snow"],unified:["26C4","26C4-FE0F"]},{shortNames:["snowflake"],unified:["2744","2744-FE0F"]},{shortNames:["wind_blowing_face"],unified:["1F32C"]},{shortNames:["dash"],unified:["1F4A8"]},{shortNames:["tornado","tornado_cloud"],unified:["1F32A"]},{shortNames:["fog"],unified:["1F32B"]},{shortNames:["ocean"],unified:["1F30A"]},{shortNames:["droplet"],unified:["1F4A7"]},{shortNames:["sweat_drops"],unified:["1F4A6"]},{shortNames:["umbrella_with_rain_drops"],unified:["2614","2614-FE0F"]}],People:[{shortNames:["grinning"],unified:["1F600"]},{shortNames:["smiley"],unified:["1F603"]},{shortNames:["smile"],unified:["1F604"]},{shortNames:["grin"],unified:["1F601"]},{shortNames:["laughing","satisfied"],unified:["1F606"]},{shortNames:["sweat_smile"],unified:["1F605"]},{shortNames:["joy"],unified:["1F602"]},{shortNames:["rolling_on_the_floor_laughing"],unified:["1F923"]},{shortNames:["relaxed"],unified:["263A","263A-FE0F"]},{shortNames:["blush"],unified:["1F60A"]},{shortNames:["innocent"],unified:["1F607"]},{shortNames:["slightly_smiling_face"],unified:["1F642"]},{shortNames:["upside_down_face"],unified:["1F643"]},{shortNames:["wink"],unified:["1F609"]},{shortNames:["relieved"],unified:["1F60C"]},{shortNames:["heart_eyes"],unified:["1F60D"]},{shortNames:["kissing_heart"],unified:["1F618"]},{shortNames:["kissing"],unified:["1F617"]},{shortNames:["kissing_smiling_eyes"],unified:["1F619"]},{shortNames:["kissing_closed_eyes"],unified:["1F61A"]},{shortNames:["yum"],unified:["1F60B"]},{shortNames:["stuck_out_tongue_winking_eye"],unified:["1F61C"]},{shortNames:["stuck_out_tongue_closed_eyes"],unified:["1F61D"]},{shortNames:["stuck_out_tongue"],unified:["1F61B"]},{shortNames:["money_mouth_face"],unified:["1F911"]},{shortNames:["hugging_face"],unified:["1F917"]},{shortNames:["nerd_face"],unified:["1F913"]},{shortNames:["sunglasses"],unified:["1F60E"]},{shortNames:["clown_face"],unified:["1F921"]},{shortNames:["face_with_cowboy_hat"],unified:["1F920"]},{shortNames:["smirk"],unified:["1F60F"]},{shortNames:["unamused"],unified:["1F612"]},{shortNames:["disappointed"],unified:["1F61E"]},{shortNames:["pensive"],unified:["1F614"]},{shortNames:["worried"],unified:["1F61F"]},{shortNames:["confused"],unified:["1F615"]},{shortNames:["slightly_frowning_face"],unified:["1F641"]},{shortNames:["white_frowning_face"],unified:["2639","2639-FE0F"]},{shortNames:["persevere"],unified:["1F623"]},{shortNames:["confounded"],unified:["1F616"]},{shortNames:["tired_face"],unified:["1F62B"]},{shortNames:["weary"],unified:["1F629"]},{shortNames:["triumph"],unified:["1F624"]},{shortNames:["angry"],unified:["1F620"]},{shortNames:["rage"],unified:["1F621"]},{shortNames:["no_mouth"],unified:["1F636"]},{shortNames:["neutral_face"],unified:["1F610"]},{shortNames:["expressionless"],unified:["1F611"]},{shortNames:["hushed"],unified:["1F62F"]},{shortNames:["frowning"],unified:["1F626"]},{shortNames:["anguished"],unified:["1F627"]},{shortNames:["open_mouth"],unified:["1F62E"]},{shortNames:["astonished"],unified:["1F632"]},{shortNames:["dizzy_face"],unified:["1F635"]},{shortNames:["flushed"],unified:["1F633"]},{shortNames:["scream"],unified:["1F631"]},{shortNames:["fearful"],unified:["1F628"]},{shortNames:["cold_sweat"],unified:["1F630"]},{shortNames:["cry"],unified:["1F622"]},{shortNames:["disappointed_relieved"],unified:["1F625"]},{shortNames:["drooling_face"],unified:["1F924"]},{shortNames:["sob"],unified:["1F62D"]},{shortNames:["sweat"],unified:["1F613"]},{shortNames:["sleepy"],unified:["1F62A"]},{shortNames:["sleeping"],unified:["1F634"]},{shortNames:["face_with_rolling_eyes"],unified:["1F644"]},{shortNames:["thinking_face"],unified:["1F914"]},{shortNames:["lying_face"],unified:["1F925"]},{shortNames:["grimacing"],unified:["1F62C"]},{shortNames:["zipper_mouth_face"],unified:["1F910"]},{shortNames:["nauseated_face"],unified:["1F922"]},{shortNames:["sneezing_face"],unified:["1F927"]},{shortNames:["mask"],unified:["1F637"]},{shortNames:["face_with_thermometer"],unified:["1F912"]},{shortNames:["face_with_head_bandage"],unified:["1F915"]},{shortNames:["smiling_imp"],unified:["1F608"]},{shortNames:["imp"],unified:["1F47F"]},{shortNames:["japanese_ogre"],unified:["1F479"]},{shortNames:["japanese_goblin"],unified:["1F47A"]},{shortNames:["hankey","poop","shit"],unified:["1F4A9"]},{shortNames:["ghost"],unified:["1F47B"]},{shortNames:["skull"],unified:["1F480"]},{shortNames:["skull_and_crossbones"],unified:["2620","2620-FE0F"]},{shortNames:["alien"],unified:["1F47D"]},{shortNames:["space_invader"],unified:["1F47E"]},{shortNames:["robot_face"],unified:["1F916"]},{shortNames:["jack_o_lantern"],unified:["1F383"]},{shortNames:["smiley_cat"],unified:["1F63A"]},{shortNames:["smile_cat"],unified:["1F638"]},{shortNames:["joy_cat"],unified:["1F639"]},{shortNames:["heart_eyes_cat"],unified:["1F63B"]},{shortNames:["smirk_cat"],unified:["1F63C"]},{shortNames:["kissing_cat"],unified:["1F63D"]},{shortNames:["scream_cat"],unified:["1F640"]},{shortNames:["crying_cat_face"],unified:["1F63F"]},{shortNames:["pouting_cat"],unified:["1F63E"]},{shortNames:["open_hands"],unified:["1F450"],tones:!1},{shortNames:["raised_hands"],unified:["1F64C"],tones:!1},{shortNames:["clap"],unified:["1F44F"],tones:!1},{shortNames:["pray"],unified:["1F64F"],tones:!1},{shortNames:["handshake"],unified:["1F91D"]},{shortNames:["+1","thumbsup"],unified:["1F44D"],tones:!1},{shortNames:["-1","thumbsdown"],unified:["1F44E"],tones:!1},{shortNames:["facepunch","punch"],unified:["1F44A"],tones:!1},{shortNames:["fist"],unified:["270A"],tones:!1},{shortNames:["left-facing_fist"],unified:["1F91B"],tones:!1},{shortNames:["right-facing_fist"],unified:["1F91C"],tones:!1},{shortNames:["hand_with_index_and_middle_fingers_crossed"],unified:["1F91E"],tones:!1},{shortNames:["v"],unified:["270C","270C-FE0F"],tones:!1},{shortNames:["the_horns","sign_of_the_horns"],unified:["1F918"],tones:!1},{shortNames:["ok_hand"],unified:["1F44C"],tones:!1},{shortNames:["point_left"],unified:["1F448"],tones:!1},{shortNames:["point_right"],unified:["1F449"],tones:!1},{shortNames:["point_up_2"],unified:["1F446"],tones:!1},{shortNames:["point_down"],unified:["1F447"],tones:!1},{shortNames:["point_up"],unified:["261D","261D-FE0F"],tones:!1},{shortNames:["hand","raised_hand"],unified:["270B"],tones:!1},{shortNames:["raised_back_of_hand"],unified:["1F91A"],tones:!1},{shortNames:["raised_hand_with_fingers_splayed"],unified:["1F590"],tones:!1},{shortNames:["spock-hand"],unified:["1F596"],tones:!1},{shortNames:["wave"],unified:["1F44B"],tones:!1},{shortNames:["call_me_hand"],unified:["1F919"],tones:!1},{shortNames:["muscle"],unified:["1F4AA"],tones:!1},{shortNames:["middle_finger","reversed_hand_with_middle_finger_extended"],unified:["1F595"],tones:!1},{shortNames:["writing_hand"],unified:["270D","270D-FE0F"],tones:!1},{shortNames:["selfie"],unified:["1F933"],tones:!1},{shortNames:["nail_care"],unified:["1F485"],tones:!1},{shortNames:["ring"],unified:["1F48D"]},{shortNames:["lipstick"],unified:["1F484"]},{shortNames:["kiss"],unified:["1F48B"]},{shortNames:["lips"],unified:["1F444"]},{shortNames:["tongue"],unified:["1F445"]},{shortNames:["ear"],unified:["1F442"],tones:!1},{shortNames:["nose"],unified:["1F443"],tones:!1},{shortNames:["footprints"],unified:["1F463"]},{shortNames:["eye"],unified:["1F441"]},{shortNames:["eyes"],unified:["1F440"]},{shortNames:["speaking_head_in_silhouette"],unified:["1F5E3"]},{shortNames:["bust_in_silhouette"],unified:["1F464"]},{shortNames:["busts_in_silhouette"],unified:["1F465"]},{shortNames:["baby"],unified:["1F476"],tones:!1},{shortNames:["boy"],unified:["1F466"],tones:!1},{shortNames:["girl"],unified:["1F467"],tones:!1},{shortNames:["man"],unified:["1F468"],tones:!1},{shortNames:["woman"],unified:["1F469"],tones:!1},{shortNames:["blond-haired-woman"],unified:["1F471-200D-2640-FE0F"],tones:!1},{shortNames:["person_with_blond_hair"],unified:["1F471"],tones:!1},{shortNames:["older_man"],unified:["1F474"],tones:!1},{shortNames:["older_woman"],unified:["1F475"],tones:!1},{shortNames:["man_with_gua_pi_mao"],unified:["1F472"],tones:!1},{shortNames:["woman-wearing-turban"],unified:["1F473-200D-2640-FE0F"],tones:!1},{shortNames:["man_with_turban"],unified:["1F473"],tones:!1},{shortNames:["female-police-officer"],unified:["1F46E-200D-2640-FE0F"],tones:!1},{shortNames:["cop"],unified:["1F46E"],tones:!1},{shortNames:["female-construction-worker"],unified:["1F477-200D-2640-FE0F"],tones:!1},{shortNames:["construction_worker"],unified:["1F477"],tones:!1},{shortNames:["female-guard"],unified:["1F482-200D-2640-FE0F"],tones:!1},{shortNames:["guardsman"],unified:["1F482"],tones:!1},{shortNames:["female-detective"],unified:["1F575-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["sleuth_or_spy"],unified:["1F575","1F575-FE0F"],tones:!1},{shortNames:["female-doctor"],unified:["1F469-200D-2695-FE0F"],tones:!1},{shortNames:["male-doctor"],unified:["1F468-200D-2695-FE0F"],tones:!1},{shortNames:["female-farmer"],unified:["1F469-200D-1F33E"],tones:!1},{shortNames:["male-farmer"],unified:["1F468-200D-1F33E"],tones:!1},{shortNames:["female-cook"],unified:["1F469-200D-1F373"],tones:!1},{shortNames:["male-cook"],unified:["1F468-200D-1F373"],tones:!1},{shortNames:["female-student"],unified:["1F469-200D-1F393"],tones:!1},{shortNames:["male-student"],unified:["1F468-200D-1F393"],tones:!1},{shortNames:["female-singer"],unified:["1F469-200D-1F3A4"],tones:!1},{shortNames:["male-singer"],unified:["1F468-200D-1F3A4"],tones:!1},{shortNames:["female-teacher"],unified:["1F469-200D-1F3EB"],tones:!1},{shortNames:["male-teacher"],unified:["1F468-200D-1F3EB"],tones:!1},{shortNames:["female-factory-worker"],unified:["1F469-200D-1F3ED"],tones:!1},{shortNames:["male-factory-worker"],unified:["1F468-200D-1F3ED"],tones:!1},{shortNames:["female-technologist"],unified:["1F469-200D-1F4BB"],tones:!1},{shortNames:["male-technologist"],unified:["1F468-200D-1F4BB"],tones:!1},{shortNames:["female-office-worker"],unified:["1F469-200D-1F4BC"],tones:!1},{shortNames:["male-office-worker"],unified:["1F468-200D-1F4BC"],tones:!1},{shortNames:["female-mechanic"],unified:["1F469-200D-1F527"],tones:!1},{shortNames:["male-mechanic"],unified:["1F468-200D-1F527"],tones:!1},{shortNames:["female-scientist"],unified:["1F469-200D-1F52C"],tones:!1},{shortNames:["male-scientist"],unified:["1F468-200D-1F52C"],tones:!1},{shortNames:["female-artist"],unified:["1F469-200D-1F3A8"],tones:!1},{shortNames:["male-artist"],unified:["1F468-200D-1F3A8"],tones:!1},{shortNames:["female-firefighter"],unified:["1F469-200D-1F692"],tones:!1},{shortNames:["male-firefighter"],unified:["1F468-200D-1F692"],tones:!1},{shortNames:["female-pilot"],unified:["1F469-200D-2708-FE0F"],tones:!1},{shortNames:["male-pilot"],unified:["1F468-200D-2708-FE0F"],tones:!1},{shortNames:["female-astronaut"],unified:["1F469-200D-1F680"],tones:!1},{shortNames:["male-astronaut"],unified:["1F468-200D-1F680"],tones:!1},{shortNames:["female-judge"],unified:["1F469-200D-2696-FE0F"],tones:!1},{shortNames:["male-judge"],unified:["1F468-200D-2696-FE0F"],tones:!1},{shortNames:["mother_christmas"],unified:["1F936"],tones:!1},{shortNames:["santa"],unified:["1F385"],tones:!1},{shortNames:["princess"],unified:["1F478"],tones:!1},{shortNames:["prince"],unified:["1F934"],tones:!1},{shortNames:["bride_with_veil"],unified:["1F470"],tones:!1},{shortNames:["man_in_tuxedo"],unified:["1F935"],tones:!1},{shortNames:["angel"],unified:["1F47C"],tones:!1},{shortNames:["pregnant_woman"],unified:["1F930"],tones:!1},{shortNames:["woman-bowing"],unified:["1F647-200D-2640-FE0F"],tones:!1},{shortNames:["bow"],unified:["1F647"],tones:!1},{shortNames:["information_desk_person"],unified:["1F481"],tones:!1},{shortNames:["man-tipping-hand"],unified:["1F481-200D-2642-FE0F"],tones:!1},{shortNames:["no_good"],unified:["1F645"],tones:!1},{shortNames:["man-gesturing-no"],unified:["1F645-200D-2642-FE0F"],tones:!1},{shortNames:["ok_woman"],unified:["1F646"],tones:!1},{shortNames:["man-gesturing-ok"],unified:["1F646-200D-2642-FE0F"],tones:!1},{shortNames:["raising_hand"],unified:["1F64B"],tones:!1},{shortNames:["man-raising-hand"],unified:["1F64B-200D-2642-FE0F"],tones:!1},{shortNames:["face_palm"],unified:["1F926"],tones:!1},{shortNames:["woman-facepalming"],unified:["1F926-200D-2640-FE0F"],tones:!1},{shortNames:["man-facepalming"],unified:["1F926-200D-2642-FE0F"],tones:!1},{shortNames:["shrug"],unified:["1F937"],tones:!1},{shortNames:["woman-shrugging"],unified:["1F937-200D-2640-FE0F"],tones:!1},{shortNames:["man-shrugging"],unified:["1F937-200D-2642-FE0F"],tones:!1},{shortNames:["person_with_pouting_face"],unified:["1F64E"],tones:!1},{shortNames:["man-pouting"],unified:["1F64E-200D-2642-FE0F"],tones:!1},{shortNames:["person_frowning"],unified:["1F64D"],tones:!1},{shortNames:["man-frowning"],unified:["1F64D-200D-2642-FE0F"],tones:!1},{shortNames:["haircut"],unified:["1F487"],tones:!1},{shortNames:["man-getting-haircut"],unified:["1F487-200D-2642-FE0F"],tones:!1},{shortNames:["massage"],unified:["1F486"],tones:!1},{shortNames:["man-getting-massage"],unified:["1F486-200D-2642-FE0F"],tones:!1},{shortNames:["man_in_business_suit_levitating"],unified:["1F574"],tones:!1},{shortNames:["dancer"],unified:["1F483"],tones:!1},{shortNames:["man_dancing"],unified:["1F57A"],tones:!1},{shortNames:["dancers"],unified:["1F46F"]},{shortNames:["man-with-bunny-ears-partying"],unified:["1F46F-200D-2642-FE0F"]},{shortNames:["woman-walking"],unified:["1F6B6-200D-2640-FE0F"],tones:!1},{shortNames:["walking"],unified:["1F6B6"],tones:!1},{shortNames:["woman-running"],unified:["1F3C3-200D-2640-FE0F"],tones:!1},{shortNames:["runner","running"],unified:["1F3C3"],tones:!1},{shortNames:["couple","man_and_woman_holding_hands"],unified:["1F46B"]},{shortNames:["two_women_holding_hands"],unified:["1F46D"]},{shortNames:["two_men_holding_hands"],unified:["1F46C"]},{shortNames:["couple_with_heart"],unified:["1F491"]},{shortNames:["woman-heart-woman"],unified:["1F469-200D-2764-FE0F-200D-1F469"]},{shortNames:["man-heart-man"],unified:["1F468-200D-2764-FE0F-200D-1F468"]},{shortNames:["couplekiss"],unified:["1F48F"]},{shortNames:["woman-kiss-woman"],unified:["1F469-200D-2764-FE0F-200D-1F48B-200D-1F469"]},{shortNames:["man-kiss-man"],unified:["1F468-200D-2764-FE0F-200D-1F48B-200D-1F468"]},{shortNames:["family","man-woman-boy"],unified:["1F46A"]},{shortNames:["man-woman-girl"],unified:["1F468-200D-1F469-200D-1F467"]},{shortNames:["man-woman-girl-boy"],unified:["1F468-200D-1F469-200D-1F467-200D-1F466"]},{shortNames:["man-woman-boy-boy"],unified:["1F468-200D-1F469-200D-1F466-200D-1F466"]},{shortNames:["man-woman-girl-girl"],unified:["1F468-200D-1F469-200D-1F467-200D-1F467"]},{shortNames:["woman-woman-boy"],unified:["1F469-200D-1F469-200D-1F466"]},{shortNames:["woman-woman-girl"],unified:["1F469-200D-1F469-200D-1F467"]},{shortNames:["woman-woman-girl-boy"],unified:["1F469-200D-1F469-200D-1F467-200D-1F466"]},{shortNames:["woman-woman-boy-boy"],unified:["1F469-200D-1F469-200D-1F466-200D-1F466"]},{shortNames:["woman-woman-girl-girl"],unified:["1F469-200D-1F469-200D-1F467-200D-1F467"]},{shortNames:["man-man-boy"],unified:["1F468-200D-1F468-200D-1F466"]},{shortNames:["man-man-girl"],unified:["1F468-200D-1F468-200D-1F467"]},{shortNames:["man-man-girl-boy"],unified:["1F468-200D-1F468-200D-1F467-200D-1F466"]},{shortNames:["man-man-boy-boy"],unified:["1F468-200D-1F468-200D-1F466-200D-1F466"]},{shortNames:["man-man-girl-girl"],unified:["1F468-200D-1F468-200D-1F467-200D-1F467"]},{shortNames:["woman-boy"],unified:["1F469-200D-1F466"]},{shortNames:["woman-girl"],unified:["1F469-200D-1F467"]},{shortNames:["woman-girl-boy"],unified:["1F469-200D-1F467-200D-1F466"]},{shortNames:["woman-boy-boy"],unified:["1F469-200D-1F466-200D-1F466"]},{shortNames:["woman-girl-girl"],unified:["1F469-200D-1F467-200D-1F467"]},{shortNames:["man-boy"],unified:["1F468-200D-1F466"]},{shortNames:["man-girl"],unified:["1F468-200D-1F467"]},{shortNames:["man-girl-boy"],unified:["1F468-200D-1F467-200D-1F466"]},{shortNames:["man-boy-boy"],unified:["1F468-200D-1F466-200D-1F466"]},{shortNames:["man-girl-girl"],unified:["1F468-200D-1F467-200D-1F467"]},{shortNames:["womans_clothes"],unified:["1F45A"]},{shortNames:["shirt","tshirt"],unified:["1F455"]},{shortNames:["jeans"],unified:["1F456"]},{shortNames:["necktie"],unified:["1F454"]},{shortNames:["dress"],unified:["1F457"]},{shortNames:["bikini"],unified:["1F459"]},{shortNames:["kimono"],unified:["1F458"]},{shortNames:["high_heel"],unified:["1F460"]},{shortNames:["sandal"],unified:["1F461"]},{shortNames:["boot"],unified:["1F462"]},{shortNames:["mans_shoe","shoe"],unified:["1F45E"]},{shortNames:["athletic_shoe"],unified:["1F45F"]},{shortNames:["womans_hat"],unified:["1F452"]},{shortNames:["tophat"],unified:["1F3A9"]},{shortNames:["mortar_board"],unified:["1F393"]},{shortNames:["crown"],unified:["1F451"]},{shortNames:["helmet_with_white_cross"],unified:["26D1"]},{shortNames:["school_satchel"],unified:["1F392"]},{shortNames:["pouch"],unified:["1F45D"]},{shortNames:["purse"],unified:["1F45B"]},{shortNames:["handbag"],unified:["1F45C"]},{shortNames:["briefcase"],unified:["1F4BC"]},{shortNames:["eyeglasses"],unified:["1F453"]},{shortNames:["dark_sunglasses"],unified:["1F576"]},{shortNames:["closed_umbrella"],unified:["1F302"]},{shortNames:["umbrella"],unified:["2602","2602-FE0F"]},{shortNames:["man-woman-boy","family"],unified:["1F468-200D-1F469-200D-1F466"]},{shortNames:["woman-heart-man"],unified:["1F469-200D-2764-FE0F-200D-1F468"]},{shortNames:["woman-kiss-man"],unified:["1F469-200D-2764-FE0F-200D-1F48B-200D-1F468"]},{shortNames:["male-police-officer"],unified:["1F46E-200D-2642-FE0F"],tones:!1},{shortNames:["blond-haired-man"],unified:["1F471-200D-2642-FE0F"],tones:!1},{shortNames:["man-wearing-turban"],unified:["1F473-200D-2642-FE0F"],tones:!1},{shortNames:["male-construction-worker"],unified:["1F477-200D-2642-FE0F"],tones:!1},{shortNames:["male-guard"],unified:["1F482-200D-2642-FE0F"],tones:!1},{shortNames:["male-detective"],unified:["1F575-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["woman-with-bunny-ears-partying"],unified:["1F46F-200D-2640-FE0F"]},{shortNames:["man-running"],unified:["1F3C3-200D-2642-FE0F"],tones:!1},{shortNames:["woman-getting-massage"],unified:["1F486-200D-2640-FE0F"],tones:!1},{shortNames:["woman-getting-haircut"],unified:["1F487-200D-2640-FE0F"],tones:!1},{shortNames:["man-walking"],unified:["1F6B6-200D-2642-FE0F"],tones:!1},{shortNames:["woman-tipping-hand"],unified:["1F481-200D-2640-FE0F"],tones:!1},{shortNames:["woman-gesturing-no"],unified:["1F645-200D-2640-FE0F"],tones:!1},{shortNames:["woman-gesturing-ok"],unified:["1F646-200D-2640-FE0F"],tones:!1},{shortNames:["man-bowing"],unified:["1F647-200D-2642-FE0F"],tones:!1},{shortNames:["woman-raising-hand"],unified:["1F64B-200D-2640-FE0F"],tones:!1},{shortNames:["woman-frowning"],unified:["1F64D-200D-2640-FE0F"],tones:!1},{shortNames:["woman-pouting"],unified:["1F64E-200D-2640-FE0F"],tones:!1}],Foods:[{shortNames:["green_apple"],unified:["1F34F"]},{shortNames:["apple"],unified:["1F34E"]},{shortNames:["pear"],unified:["1F350"]},{shortNames:["tangerine"],unified:["1F34A"]},{shortNames:["lemon"],unified:["1F34B"]},{shortNames:["banana"],unified:["1F34C"]},{shortNames:["watermelon"],unified:["1F349"]},{shortNames:["grapes"],unified:["1F347"]},{shortNames:["strawberry"],unified:["1F353"]},{shortNames:["melon"],unified:["1F348"]},{shortNames:["cherries"],unified:["1F352"]},{shortNames:["peach"],unified:["1F351"]},{shortNames:["pineapple"],unified:["1F34D"]},{shortNames:["kiwifruit"],unified:["1F95D"]},{shortNames:["avocado"],unified:["1F951"]},{shortNames:["tomato"],unified:["1F345"]},{shortNames:["eggplant"],unified:["1F346"]},{shortNames:["cucumber"],unified:["1F952"]},{shortNames:["carrot"],unified:["1F955"]},{shortNames:["corn"],unified:["1F33D"]},{shortNames:["hot_pepper"],unified:["1F336"]},{shortNames:["potato"],unified:["1F954"]},{shortNames:["sweet_potato"],unified:["1F360"]},{shortNames:["chestnut"],unified:["1F330"]},{shortNames:["peanuts"],unified:["1F95C"]},{shortNames:["honey_pot"],unified:["1F36F"]},{shortNames:["croissant"],unified:["1F950"]},{shortNames:["bread"],unified:["1F35E"]},{shortNames:["baguette_bread"],unified:["1F956"]},{shortNames:["cheese_wedge"],unified:["1F9C0"]},{shortNames:["egg"],unified:["1F95A"]},{shortNames:["fried_egg","cooking"],unified:["1F373"]},{shortNames:["bacon"],unified:["1F953"]},{shortNames:["pancakes"],unified:["1F95E"]},{shortNames:["fried_shrimp"],unified:["1F364"]},{shortNames:["poultry_leg"],unified:["1F357"]},{shortNames:["meat_on_bone"],unified:["1F356"]},{shortNames:["pizza"],unified:["1F355"]},{shortNames:["hotdog"],unified:["1F32D"]},{shortNames:["hamburger"],unified:["1F354"]},{shortNames:["fries"],unified:["1F35F"]},{shortNames:["stuffed_flatbread"],unified:["1F959"]},{shortNames:["taco"],unified:["1F32E"]},{shortNames:["burrito"],unified:["1F32F"]},{shortNames:["green_salad"],unified:["1F957"]},{shortNames:["shallow_pan_of_food"],unified:["1F958"]},{shortNames:["spaghetti"],unified:["1F35D"]},{shortNames:["ramen"],unified:["1F35C"]},{shortNames:["stew"],unified:["1F372"]},{shortNames:["fish_cake"],unified:["1F365"]},{shortNames:["sushi"],unified:["1F363"]},{shortNames:["bento"],unified:["1F371"]},{shortNames:["curry"],unified:["1F35B"]},{shortNames:["rice"],unified:["1F35A"]},{shortNames:["rice_ball"],unified:["1F359"]},{shortNames:["rice_cracker"],unified:["1F358"]},{shortNames:["oden"],unified:["1F362"]},{shortNames:["dango"],unified:["1F361"]},{shortNames:["shaved_ice"],unified:["1F367"]},{shortNames:["ice_cream"],unified:["1F368"]},{shortNames:["icecream"],unified:["1F366"]},{shortNames:["cake"],unified:["1F370"]},{shortNames:["birthday"],unified:["1F382"]},{shortNames:["custard"],unified:["1F36E"]},{shortNames:["lollipop"],unified:["1F36D"]},{shortNames:["candy"],unified:["1F36C"]},{shortNames:["chocolate_bar"],unified:["1F36B"]},{shortNames:["popcorn"],unified:["1F37F"]},{shortNames:["doughnut"],unified:["1F369"]},{shortNames:["cookie"],unified:["1F36A"]},{shortNames:["glass_of_milk"],unified:["1F95B"]},{shortNames:["baby_bottle"],unified:["1F37C"]},{shortNames:["coffee"],unified:["2615","2615-FE0F"]},{shortNames:["tea"],unified:["1F375"]},{shortNames:["sake"],unified:["1F376"]},{shortNames:["beer"],unified:["1F37A"]},{shortNames:["beers"],unified:["1F37B"]},{shortNames:["clinking_glasses"],unified:["1F942"]},{shortNames:["wine_glass"],unified:["1F377"]},{shortNames:["tumbler_glass"],unified:["1F943"]},{shortNames:["cocktail"],unified:["1F378"]},{shortNames:["tropical_drink"],unified:["1F379"]},{shortNames:["champagne"],unified:["1F37E"]},{shortNames:["spoon"],unified:["1F944"]},{shortNames:["fork_and_knife"],unified:["1F374"]},{shortNames:["knife_fork_plate"],unified:["1F37D"]}],Places:[{shortNames:["car","red_car"],unified:["1F697"]},{shortNames:["taxi"],unified:["1F695"]},{shortNames:["blue_car"],unified:["1F699"]},{shortNames:["bus"],unified:["1F68C"]},{shortNames:["trolleybus"],unified:["1F68E"]},{shortNames:["racing_car"],unified:["1F3CE"]},{shortNames:["police_car"],unified:["1F693"]},{shortNames:["ambulance"],unified:["1F691"]},{shortNames:["fire_engine"],unified:["1F692"]},{shortNames:["minibus"],unified:["1F690"]},{shortNames:["truck"],unified:["1F69A"]},{shortNames:["articulated_lorry"],unified:["1F69B"]},{shortNames:["tractor"],unified:["1F69C"]},{shortNames:["scooter"],unified:["1F6F4"]},{shortNames:["bike"],unified:["1F6B2"]},{shortNames:["motor_scooter"],unified:["1F6F5"]},{shortNames:["racing_motorcycle"],unified:["1F3CD"]},{shortNames:["rotating_light"],unified:["1F6A8"]},{shortNames:["oncoming_police_car"],unified:["1F694"]},{shortNames:["oncoming_bus"],unified:["1F68D"]},{shortNames:["oncoming_automobile"],unified:["1F698"]},{shortNames:["oncoming_taxi"],unified:["1F696"]},{shortNames:["aerial_tramway"],unified:["1F6A1"]},{shortNames:["mountain_cableway"],unified:["1F6A0"]},{shortNames:["suspension_railway"],unified:["1F69F"]},{shortNames:["railway_car"],unified:["1F683"]},{shortNames:["train"],unified:["1F68B"]},{shortNames:["mountain_railway"],unified:["1F69E"]},{shortNames:["monorail"],unified:["1F69D"]},{shortNames:["bullettrain_side"],unified:["1F684"]},{shortNames:["bullettrain_front"],unified:["1F685"]},{shortNames:["light_rail"],unified:["1F688"]},{shortNames:["steam_locomotive"],unified:["1F682"]},{shortNames:["train2"],unified:["1F686"]},{shortNames:["metro"],unified:["1F687"]},{shortNames:["tram"],unified:["1F68A"]},{shortNames:["station"],unified:["1F689"]},{shortNames:["helicopter"],unified:["1F681"]},{shortNames:["small_airplane"],unified:["1F6E9"]},{shortNames:["airplane"],unified:["2708","2708-FE0F"]},{shortNames:["airplane_departure"],unified:["1F6EB"]},{shortNames:["airplane_arriving"],unified:["1F6EC"]},{shortNames:["rocket"],unified:["1F680"]},{shortNames:["satellite"],unified:["1F6F0"]},{shortNames:["seat"],unified:["1F4BA"]},{shortNames:["canoe"],unified:["1F6F6"]},{shortNames:["boat","sailboat"],unified:["26F5","26F5-FE0F"]},{shortNames:["motor_boat"],unified:["1F6E5"]},{shortNames:["speedboat"],unified:["1F6A4"]},{shortNames:["passenger_ship"],unified:["1F6F3"]},{shortNames:["ferry"],unified:["26F4"]},{shortNames:["ship"],unified:["1F6A2"]},{shortNames:["anchor"],unified:["2693","2693-FE0F"]},{shortNames:["construction"],unified:["1F6A7"]},{shortNames:["fuelpump"],unified:["26FD","26FD-FE0F"]},{shortNames:["busstop"],unified:["1F68F"]},{shortNames:["vertical_traffic_light"],unified:["1F6A6"]},{shortNames:["traffic_light"],unified:["1F6A5"]},{shortNames:["world_map"],unified:["1F5FA"]},{shortNames:["moyai"],unified:["1F5FF"]},{shortNames:["statue_of_liberty"],unified:["1F5FD"]},{shortNames:["fountain"],unified:["26F2","26F2-FE0F"]},{shortNames:["tokyo_tower"],unified:["1F5FC"]},{shortNames:["european_castle"],unified:["1F3F0"]},{shortNames:["japanese_castle"],unified:["1F3EF"]},{shortNames:["stadium"],unified:["1F3DF"]},{shortNames:["ferris_wheel"],unified:["1F3A1"]},{shortNames:["roller_coaster"],unified:["1F3A2"]},{shortNames:["carousel_horse"],unified:["1F3A0"]},{shortNames:["umbrella_on_ground"],unified:["26F1"]},{shortNames:["beach_with_umbrella"],unified:["1F3D6"]},{shortNames:["desert_island"],unified:["1F3DD"]},{shortNames:["mountain"],unified:["26F0"]},{shortNames:["snow_capped_mountain"],unified:["1F3D4"]},{shortNames:["mount_fuji"],unified:["1F5FB"]},{shortNames:["volcano"],unified:["1F30B"]},{shortNames:["desert"],unified:["1F3DC"]},{shortNames:["camping"],unified:["1F3D5"]},{shortNames:["tent"],unified:["26FA","26FA-FE0F"]},{shortNames:["railway_track"],unified:["1F6E4"]},{shortNames:["motorway"],unified:["1F6E3"]},{shortNames:["building_construction"],unified:["1F3D7"]},{shortNames:["factory"],unified:["1F3ED"]},{shortNames:["house"],unified:["1F3E0"]},{shortNames:["house_with_garden"],unified:["1F3E1"]},{shortNames:["house_buildings"],unified:["1F3D8"]},{shortNames:["derelict_house_building"],unified:["1F3DA"]},{shortNames:["office"],unified:["1F3E2"]},{shortNames:["department_store"],unified:["1F3EC"]},{shortNames:["post_office"],unified:["1F3E3"]},{shortNames:["european_post_office"],unified:["1F3E4"]},{shortNames:["hospital"],unified:["1F3E5"]},{shortNames:["bank"],unified:["1F3E6"]},{shortNames:["hotel"],unified:["1F3E8"]},{shortNames:["convenience_store"],unified:["1F3EA"]},{shortNames:["school"],unified:["1F3EB"]},{shortNames:["love_hotel"],unified:["1F3E9"]},{shortNames:["wedding"],unified:["1F492"]},{shortNames:["classical_building"],unified:["1F3DB"]},{shortNames:["church"],unified:["26EA","26EA-FE0F"]},{shortNames:["mosque"],unified:["1F54C"]},{shortNames:["synagogue"],unified:["1F54D"]},{shortNames:["kaaba"],unified:["1F54B"]},{shortNames:["shinto_shrine"],unified:["26E9"]},{shortNames:["japan"],unified:["1F5FE"]},{shortNames:["rice_scene"],unified:["1F391"]},{shortNames:["national_park"],unified:["1F3DE"]},{shortNames:["sunrise"],unified:["1F305"]},{shortNames:["sunrise_over_mountains"],unified:["1F304"]},{shortNames:["stars"],unified:["1F320"]},{shortNames:["sparkler"],unified:["1F387"]},{shortNames:["fireworks"],unified:["1F386"]},{shortNames:["city_sunrise"],unified:["1F307"]},{shortNames:["city_sunset"],unified:["1F306"]},{shortNames:["cityscape"],unified:["1F3D9"]},{shortNames:["night_with_stars"],unified:["1F303"]},{shortNames:["milky_way"],unified:["1F30C"]},{shortNames:["bridge_at_night"],unified:["1F309"]},{shortNames:["foggy"],unified:["1F301"]}],Activity:[{shortNames:["soccer"],unified:["26BD","26BD-FE0F"]},{shortNames:["basketball"],unified:["1F3C0"]},{shortNames:["football"],unified:["1F3C8"]},{shortNames:["baseball"],unified:["26BE","26BE-FE0F"]},{shortNames:["tennis"],unified:["1F3BE"]},{shortNames:["volleyball"],unified:["1F3D0"]},{shortNames:["rugby_football"],unified:["1F3C9"]},{shortNames:["8ball"],unified:["1F3B1"]},{shortNames:["table_tennis_paddle_and_ball"],unified:["1F3D3"]},{shortNames:["badminton_racquet_and_shuttlecock"],unified:["1F3F8"]},{shortNames:["goal_net"],unified:["1F945"]},{shortNames:["ice_hockey_stick_and_puck"],unified:["1F3D2"]},{shortNames:["field_hockey_stick_and_ball"],unified:["1F3D1"]},{shortNames:["cricket_bat_and_ball"],unified:["1F3CF"]},{shortNames:["golf"],unified:["26F3","26F3-FE0F"]},{shortNames:["bow_and_arrow"],unified:["1F3F9"]},{shortNames:["fishing_pole_and_fish"],unified:["1F3A3"]},{shortNames:["boxing_glove"],unified:["1F94A"]},{shortNames:["martial_arts_uniform"],unified:["1F94B"]},{shortNames:["ice_skate"],unified:["26F8"]},{shortNames:["ski"],unified:["1F3BF"]},{shortNames:["skier"],unified:["26F7"]},{shortNames:["snowboarder"],unified:["1F3C2"],tones:!1},{shortNames:["woman-lifting-weights"],unified:["1F3CB-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["weight_lifter"],unified:["1F3CB","1F3CB-FE0F"],tones:!1},{shortNames:["fencer"],unified:["1F93A"]},{shortNames:["wrestlers"],unified:["1F93C"]},{shortNames:["woman-wrestling"],unified:["1F93C-200D-2640-FE0F"]},{shortNames:["man-wrestling"],unified:["1F93C-200D-2642-FE0F"]},{shortNames:["person_doing_cartwheel"],unified:["1F938"],tones:!1},{shortNames:["woman-cartwheeling"],unified:["1F938-200D-2640-FE0F"],tones:!1},{shortNames:["man-cartwheeling"],unified:["1F938-200D-2642-FE0F"],tones:!1},{shortNames:["woman-bouncing-ball"],unified:["26F9-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["person_with_ball"],unified:["26F9","26F9-FE0F"],tones:!1},{shortNames:["handball"],unified:["1F93E"],tones:!1},{shortNames:["woman-playing-handball"],unified:["1F93E-200D-2640-FE0F"],tones:!1},{shortNames:["man-playing-handball"],unified:["1F93E-200D-2642-FE0F"],tones:!1},{shortNames:["woman-golfing"],unified:["1F3CC-FE0F-200D-2640-FE0F"],tones:!1},{shortNames:["golfer"],unified:["1F3CC","1F3CC-FE0F"],tones:!1},{shortNames:["woman-surfing"],unified:["1F3C4-200D-2640-FE0F"],tones:!1},{shortNames:["surfer"],unified:["1F3C4"],tones:!1},{shortNames:["woman-swimming"],unified:["1F3CA-200D-2640-FE0F"],tones:!1},{shortNames:["swimmer"],unified:["1F3CA"],tones:!1},{shortNames:["water_polo"],unified:["1F93D"],tones:!1},{shortNames:["woman-playing-water-polo"],unified:["1F93D-200D-2640-FE0F"],tones:!1},{shortNames:["man-playing-water-polo"],unified:["1F93D-200D-2642-FE0F"],tones:!1},{shortNames:["woman-rowing-boat"],unified:["1F6A3-200D-2640-FE0F"],tones:!1},{shortNames:["rowboat"],unified:["1F6A3"],tones:!1},{shortNames:["horse_racing"],unified:["1F3C7"],tones:!1},{shortNames:["woman-biking"],unified:["1F6B4-200D-2640-FE0F"],tones:!1},{shortNames:["bicyclist"],unified:["1F6B4"],tones:!1},{shortNames:["woman-mountain-biking"],unified:["1F6B5-200D-2640-FE0F"],tones:!1},{shortNames:["mountain_bicyclist"],unified:["1F6B5"],tones:!1},{shortNames:["running_shirt_with_sash"],unified:["1F3BD"]},{shortNames:["sports_medal"],unified:["1F3C5"]},{shortNames:["medal"],unified:["1F396"]},{shortNames:["first_place_medal"],unified:["1F947"]},{shortNames:["second_place_medal"],unified:["1F948"]},{shortNames:["third_place_medal"],unified:["1F949"]},{shortNames:["trophy"],unified:["1F3C6"]},{shortNames:["rosette"],unified:["1F3F5"]},{shortNames:["reminder_ribbon"],unified:["1F397"]},{shortNames:["ticket"],unified:["1F3AB"]},{shortNames:["admission_tickets"],unified:["1F39F"]},{shortNames:["circus_tent"],unified:["1F3AA"]},{shortNames:["juggling"],unified:["1F939"],tones:!1},{shortNames:["woman-juggling"],unified:["1F939-200D-2640-FE0F"],tones:!1},{shortNames:["man-juggling"],unified:["1F939-200D-2642-FE0F"],tones:!1},{shortNames:["performing_arts"],unified:["1F3AD"]},{shortNames:["art"],unified:["1F3A8"]},{shortNames:["clapper"],unified:["1F3AC"]},{shortNames:["microphone"],unified:["1F3A4"]},{shortNames:["headphones"],unified:["1F3A7"]},{shortNames:["musical_score"],unified:["1F3BC"]},{shortNames:["musical_keyboard"],unified:["1F3B9"]},{shortNames:["drum_with_drumsticks"],unified:["1F941"]},{shortNames:["saxophone"],unified:["1F3B7"]},{shortNames:["trumpet"],unified:["1F3BA"]},{shortNames:["guitar"],unified:["1F3B8"]},{shortNames:["violin"],unified:["1F3BB"]},{shortNames:["game_die"],unified:["1F3B2"]},{shortNames:["dart"],unified:["1F3AF"]},{shortNames:["bowling"],unified:["1F3B3"]},{shortNames:["video_game"],unified:["1F3AE"]},{shortNames:["slot_machine"],unified:["1F3B0"]},{shortNames:["man-bouncing-ball"],unified:["26F9-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-lifting-weights"],unified:["1F3CB-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-golfing"],unified:["1F3CC-FE0F-200D-2642-FE0F"],tones:!1},{shortNames:["man-surfing"],unified:["1F3C4-200D-2642-FE0F"],tones:!1},{shortNames:["man-swimming"],unified:["1F3CA-200D-2642-FE0F"],tones:!1},{shortNames:["man-rowing-boat"],unified:["1F6A3-200D-2642-FE0F"],tones:!1},{shortNames:["man-biking"],unified:["1F6B4-200D-2642-FE0F"],tones:!1},{shortNames:["man-mountain-biking"],unified:["1F6B5-200D-2642-FE0F"],tones:!1}],Flags:[{shortNames:["waving_white_flag"],unified:["1F3F3","1F3F3-FE0F"]},{shortNames:["waving_black_flag"],unified:["1F3F4"]},{shortNames:["checkered_flag"],unified:["1F3C1"]},{shortNames:["triangular_flag_on_post"],unified:["1F6A9"]},{shortNames:["rainbow-flag"],unified:["1F3F3-FE0F-200D-1F308"]},{shortNames:["flag-af"],unified:["1F1E6-1F1EB"]},{shortNames:["flag-ax"],unified:["1F1E6-1F1FD"]},{shortNames:["flag-al"],unified:["1F1E6-1F1F1"]},{shortNames:["flag-dz"],unified:["1F1E9-1F1FF"]},{shortNames:["flag-as"],unified:["1F1E6-1F1F8"]},{shortNames:["flag-ad"],unified:["1F1E6-1F1E9"]},{shortNames:["flag-ao"],unified:["1F1E6-1F1F4"]},{shortNames:["flag-ai"],unified:["1F1E6-1F1EE"]},{shortNames:["flag-aq"],unified:["1F1E6-1F1F6"]},{shortNames:["flag-ag"],unified:["1F1E6-1F1EC"]},{shortNames:["flag-ar"],unified:["1F1E6-1F1F7"]},{shortNames:["flag-am"],unified:["1F1E6-1F1F2"]},{shortNames:["flag-aw"],unified:["1F1E6-1F1FC"]},{shortNames:["flag-au"],unified:["1F1E6-1F1FA"]},{shortNames:["flag-at"],unified:["1F1E6-1F1F9"]},{shortNames:["flag-az"],unified:["1F1E6-1F1FF"]},{shortNames:["flag-bs"],unified:["1F1E7-1F1F8"]},{shortNames:["flag-bh"],unified:["1F1E7-1F1ED"]},{shortNames:["flag-bd"],unified:["1F1E7-1F1E9"]},{shortNames:["flag-bb"],unified:["1F1E7-1F1E7"]},{shortNames:["flag-by"],unified:["1F1E7-1F1FE"]},{shortNames:["flag-be"],unified:["1F1E7-1F1EA"]},{shortNames:["flag-bz"],unified:["1F1E7-1F1FF"]},{shortNames:["flag-bj"],unified:["1F1E7-1F1EF"]},{shortNames:["flag-bm"],unified:["1F1E7-1F1F2"]},{shortNames:["flag-bt"],unified:["1F1E7-1F1F9"]},{shortNames:["flag-bo"],unified:["1F1E7-1F1F4"]},{shortNames:["flag-bq"],unified:["1F1E7-1F1F6"]},{shortNames:["flag-ba"],unified:["1F1E7-1F1E6"]},{shortNames:["flag-bw"],unified:["1F1E7-1F1FC"]},{shortNames:["flag-br"],unified:["1F1E7-1F1F7"]},{shortNames:["flag-io"],unified:["1F1EE-1F1F4"]},{shortNames:["flag-vg"],unified:["1F1FB-1F1EC"]},{shortNames:["flag-bn"],unified:["1F1E7-1F1F3"]},{shortNames:["flag-bg"],unified:["1F1E7-1F1EC"]},{shortNames:["flag-bf"],unified:["1F1E7-1F1EB"]},{shortNames:["flag-bi"],unified:["1F1E7-1F1EE"]},{shortNames:["flag-cv"],unified:["1F1E8-1F1FB"]},{shortNames:["flag-kh"],unified:["1F1F0-1F1ED"]},{shortNames:["flag-cm"],unified:["1F1E8-1F1F2"]},{shortNames:["flag-ca"],unified:["1F1E8-1F1E6"]},{shortNames:["flag-ic"],unified:["1F1EE-1F1E8"]},{shortNames:["flag-ky"],unified:["1F1F0-1F1FE"]},{shortNames:["flag-cf"],unified:["1F1E8-1F1EB"]},{shortNames:["flag-td"],unified:["1F1F9-1F1E9"]},{shortNames:["flag-cl"],unified:["1F1E8-1F1F1"]},{shortNames:["flag-cn","cn"],unified:["1F1E8-1F1F3"]},{shortNames:["flag-cx"],unified:["1F1E8-1F1FD"]},{shortNames:["flag-cc"],unified:["1F1E8-1F1E8"]},{shortNames:["flag-co"],unified:["1F1E8-1F1F4"]},{shortNames:["flag-km"],unified:["1F1F0-1F1F2"]},{shortNames:["flag-cg"],unified:["1F1E8-1F1EC"]},{shortNames:["flag-cd"],unified:["1F1E8-1F1E9"]},{shortNames:["flag-ck"],unified:["1F1E8-1F1F0"]},{shortNames:["flag-cr"],unified:["1F1E8-1F1F7"]},{shortNames:["flag-ci"],unified:["1F1E8-1F1EE"]},{shortNames:["flag-hr"],unified:["1F1ED-1F1F7"]},{shortNames:["flag-cu"],unified:["1F1E8-1F1FA"]},{shortNames:["flag-cw"],unified:["1F1E8-1F1FC"]},{shortNames:["flag-cy"],unified:["1F1E8-1F1FE"]},{shortNames:["flag-cz"],unified:["1F1E8-1F1FF"]},{shortNames:["flag-dk"],unified:["1F1E9-1F1F0"]},{shortNames:["flag-dj"],unified:["1F1E9-1F1EF"]},{shortNames:["flag-dm"],unified:["1F1E9-1F1F2"]},{shortNames:["flag-do"],unified:["1F1E9-1F1F4"]},{shortNames:["flag-ec"],unified:["1F1EA-1F1E8"]},{shortNames:["flag-eg"],unified:["1F1EA-1F1EC"]},{shortNames:["flag-sv"],unified:["1F1F8-1F1FB"]},{shortNames:["flag-gq"],unified:["1F1EC-1F1F6"]},{shortNames:["flag-er"],unified:["1F1EA-1F1F7"]},{shortNames:["flag-ee"],unified:["1F1EA-1F1EA"]},{shortNames:["flag-et"],unified:["1F1EA-1F1F9"]},{shortNames:["flag-eu"],unified:["1F1EA-1F1FA"]},{shortNames:["flag-fk"],unified:["1F1EB-1F1F0"]},{shortNames:["flag-fo"],unified:["1F1EB-1F1F4"]},{shortNames:["flag-fj"],unified:["1F1EB-1F1EF"]},{shortNames:["flag-fi"],unified:["1F1EB-1F1EE"]},{shortNames:["flag-fr","fr"],unified:["1F1EB-1F1F7"]},{shortNames:["flag-gf"],unified:["1F1EC-1F1EB"]},{shortNames:["flag-pf"],unified:["1F1F5-1F1EB"]},{shortNames:["flag-tf"],unified:["1F1F9-1F1EB"]},{shortNames:["flag-ga"],unified:["1F1EC-1F1E6"]},{shortNames:["flag-gm"],unified:["1F1EC-1F1F2"]},{shortNames:["flag-ge"],unified:["1F1EC-1F1EA"]},{shortNames:["flag-de","de"],unified:["1F1E9-1F1EA"]},{shortNames:["flag-gh"],unified:["1F1EC-1F1ED"]},{shortNames:["flag-gi"],unified:["1F1EC-1F1EE"]},{shortNames:["flag-gr"],unified:["1F1EC-1F1F7"]},{shortNames:["flag-gl"],unified:["1F1EC-1F1F1"]},{shortNames:["flag-gd"],unified:["1F1EC-1F1E9"]},{shortNames:["flag-gp"],unified:["1F1EC-1F1F5"]},{shortNames:["flag-gu"],unified:["1F1EC-1F1FA"]},{shortNames:["flag-gt"],unified:["1F1EC-1F1F9"]},{shortNames:["flag-gg"],unified:["1F1EC-1F1EC"]},{shortNames:["flag-gn"],unified:["1F1EC-1F1F3"]},{shortNames:["flag-gw"],unified:["1F1EC-1F1FC"]},{shortNames:["flag-gy"],unified:["1F1EC-1F1FE"]},{shortNames:["flag-ht"],unified:["1F1ED-1F1F9"]},{shortNames:["flag-hn"],unified:["1F1ED-1F1F3"]},{shortNames:["flag-hk"],unified:["1F1ED-1F1F0"]},{shortNames:["flag-hu"],unified:["1F1ED-1F1FA"]},{shortNames:["flag-is"],unified:["1F1EE-1F1F8"]},{shortNames:["flag-in"],unified:["1F1EE-1F1F3"]},{shortNames:["flag-id"],unified:["1F1EE-1F1E9"]},{shortNames:["flag-ir"],unified:["1F1EE-1F1F7"]},{shortNames:["flag-iq"],unified:["1F1EE-1F1F6"]},{shortNames:["flag-ie"],unified:["1F1EE-1F1EA"]},{shortNames:["flag-im"],unified:["1F1EE-1F1F2"]},{shortNames:["flag-il"],unified:["1F1EE-1F1F1"]},{shortNames:["flag-it","it"],unified:["1F1EE-1F1F9"]},{shortNames:["flag-jm"],unified:["1F1EF-1F1F2"]},{shortNames:["flag-jp","jp"],unified:["1F1EF-1F1F5"]},{shortNames:["crossed_flags"],unified:["1F38C"]},{shortNames:["flag-je"],unified:["1F1EF-1F1EA"]},{shortNames:["flag-jo"],unified:["1F1EF-1F1F4"]},{shortNames:["flag-kz"],unified:["1F1F0-1F1FF"]},{shortNames:["flag-ke"],unified:["1F1F0-1F1EA"]},{shortNames:["flag-ki"],unified:["1F1F0-1F1EE"]},{shortNames:["flag-xk"],unified:["1F1FD-1F1F0"]},{shortNames:["flag-kw"],unified:["1F1F0-1F1FC"]},{shortNames:["flag-kg"],unified:["1F1F0-1F1EC"]},{shortNames:["flag-la"],unified:["1F1F1-1F1E6"]},{shortNames:["flag-lv"],unified:["1F1F1-1F1FB"]},{shortNames:["flag-lb"],unified:["1F1F1-1F1E7"]},{shortNames:["flag-ls"],unified:["1F1F1-1F1F8"]},{shortNames:["flag-lr"],unified:["1F1F1-1F1F7"]},{shortNames:["flag-ly"],unified:["1F1F1-1F1FE"]},{shortNames:["flag-li"],unified:["1F1F1-1F1EE"]},{shortNames:["flag-lt"],unified:["1F1F1-1F1F9"]},{shortNames:["flag-lu"],unified:["1F1F1-1F1FA"]},{shortNames:["flag-mo"],unified:["1F1F2-1F1F4"]},{shortNames:["flag-mk"],unified:["1F1F2-1F1F0"]},{shortNames:["flag-mg"],unified:["1F1F2-1F1EC"]},{shortNames:["flag-mw"],unified:["1F1F2-1F1FC"]},{shortNames:["flag-my"],unified:["1F1F2-1F1FE"]},{shortNames:["flag-mv"],unified:["1F1F2-1F1FB"]},{shortNames:["flag-ml"],unified:["1F1F2-1F1F1"]},{shortNames:["flag-mt"],unified:["1F1F2-1F1F9"]},{shortNames:["flag-mh"],unified:["1F1F2-1F1ED"]},{shortNames:["flag-mq"],unified:["1F1F2-1F1F6"]},{shortNames:["flag-mr"],unified:["1F1F2-1F1F7"]},{shortNames:["flag-mu"],unified:["1F1F2-1F1FA"]},{shortNames:["flag-yt"],unified:["1F1FE-1F1F9"]},{shortNames:["flag-mx"],unified:["1F1F2-1F1FD"]},{shortNames:["flag-fm"],unified:["1F1EB-1F1F2"]},{shortNames:["flag-md"],unified:["1F1F2-1F1E9"]},{shortNames:["flag-mc"],unified:["1F1F2-1F1E8"]},{shortNames:["flag-mn"],unified:["1F1F2-1F1F3"]},{shortNames:["flag-me"],unified:["1F1F2-1F1EA"]},{shortNames:["flag-ms"],unified:["1F1F2-1F1F8"]},{shortNames:["flag-ma"],unified:["1F1F2-1F1E6"]},{shortNames:["flag-mz"],unified:["1F1F2-1F1FF"]},{shortNames:["flag-mm"],unified:["1F1F2-1F1F2"]},{shortNames:["flag-na"],unified:["1F1F3-1F1E6"]},{shortNames:["flag-nr"],unified:["1F1F3-1F1F7"]},{shortNames:["flag-np"],unified:["1F1F3-1F1F5"]},{shortNames:["flag-nl"],unified:["1F1F3-1F1F1"]},{shortNames:["flag-nc"],unified:["1F1F3-1F1E8"]},{shortNames:["flag-nz"],unified:["1F1F3-1F1FF"]},{shortNames:["flag-ni"],unified:["1F1F3-1F1EE"]},{shortNames:["flag-ne"],unified:["1F1F3-1F1EA"]},{shortNames:["flag-ng"],unified:["1F1F3-1F1EC"]},{shortNames:["flag-nu"],unified:["1F1F3-1F1FA"]},{shortNames:["flag-nf"],unified:["1F1F3-1F1EB"]},{shortNames:["flag-mp"],unified:["1F1F2-1F1F5"]},{shortNames:["flag-kp"],unified:["1F1F0-1F1F5"]},{shortNames:["flag-no"],unified:["1F1F3-1F1F4"]},{shortNames:["flag-om"],unified:["1F1F4-1F1F2"]},{shortNames:["flag-pk"],unified:["1F1F5-1F1F0"]},{shortNames:["flag-pw"],unified:["1F1F5-1F1FC"]},{shortNames:["flag-ps"],unified:["1F1F5-1F1F8"]},{shortNames:["flag-pa"],unified:["1F1F5-1F1E6"]},{shortNames:["flag-pg"],unified:["1F1F5-1F1EC"]},{shortNames:["flag-py"],unified:["1F1F5-1F1FE"]},{shortNames:["flag-pe"],unified:["1F1F5-1F1EA"]},{shortNames:["flag-ph"],unified:["1F1F5-1F1ED"]},{shortNames:["flag-pn"],unified:["1F1F5-1F1F3"]},{shortNames:["flag-pl"],unified:["1F1F5-1F1F1"]},{shortNames:["flag-pt"],unified:["1F1F5-1F1F9"]},{shortNames:["flag-pr"],unified:["1F1F5-1F1F7"]},{shortNames:["flag-qa"],unified:["1F1F6-1F1E6"]},{shortNames:["flag-re"],unified:["1F1F7-1F1EA"]},{shortNames:["flag-ro"],unified:["1F1F7-1F1F4"]},{shortNames:["flag-ru","ru"],unified:["1F1F7-1F1FA"]},{shortNames:["flag-rw"],unified:["1F1F7-1F1FC"]},{shortNames:["flag-bl"],unified:["1F1E7-1F1F1"]},{shortNames:["flag-sh"],unified:["1F1F8-1F1ED"]},{shortNames:["flag-kn"],unified:["1F1F0-1F1F3"]},{shortNames:["flag-lc"],unified:["1F1F1-1F1E8"]},{shortNames:["flag-pm"],unified:["1F1F5-1F1F2"]},{shortNames:["flag-vc"],unified:["1F1FB-1F1E8"]},{shortNames:["flag-ws"],unified:["1F1FC-1F1F8"]},{shortNames:["flag-sm"],unified:["1F1F8-1F1F2"]},{shortNames:["flag-st"],unified:["1F1F8-1F1F9"]},{shortNames:["flag-sa"],unified:["1F1F8-1F1E6"]},{shortNames:["flag-sn"],unified:["1F1F8-1F1F3"]},{shortNames:["flag-rs"],unified:["1F1F7-1F1F8"]},{shortNames:["flag-sc"],unified:["1F1F8-1F1E8"]},{shortNames:["flag-sl"],unified:["1F1F8-1F1F1"]},{shortNames:["flag-sg"],unified:["1F1F8-1F1EC"]},{shortNames:["flag-sx"],unified:["1F1F8-1F1FD"]},{shortNames:["flag-sk"],unified:["1F1F8-1F1F0"]},{shortNames:["flag-si"],unified:["1F1F8-1F1EE"]},{shortNames:["flag-sb"],unified:["1F1F8-1F1E7"]},{shortNames:["flag-so"],unified:["1F1F8-1F1F4"]},{shortNames:["flag-za"],unified:["1F1FF-1F1E6"]},{shortNames:["flag-gs"],unified:["1F1EC-1F1F8"]},{shortNames:["flag-kr","kr"],unified:["1F1F0-1F1F7"]},{shortNames:["flag-ss"],unified:["1F1F8-1F1F8"]},{shortNames:["flag-es","es"],unified:["1F1EA-1F1F8"]},{shortNames:["flag-lk"],unified:["1F1F1-1F1F0"]},{shortNames:["flag-sd"],unified:["1F1F8-1F1E9"]},{shortNames:["flag-sr"],unified:["1F1F8-1F1F7"]},{shortNames:["flag-sz"],unified:["1F1F8-1F1FF"]},{shortNames:["flag-se"],unified:["1F1F8-1F1EA"]},{shortNames:["flag-ch"],unified:["1F1E8-1F1ED"]},{shortNames:["flag-sy"],unified:["1F1F8-1F1FE"]},{shortNames:["flag-tw"],unified:["1F1F9-1F1FC"]},{shortNames:["flag-tj"],unified:["1F1F9-1F1EF"]},{shortNames:["flag-tz"],unified:["1F1F9-1F1FF"]},{shortNames:["flag-th"],unified:["1F1F9-1F1ED"]},{shortNames:["flag-tl"],unified:["1F1F9-1F1F1"]},{shortNames:["flag-tg"],unified:["1F1F9-1F1EC"]},{shortNames:["flag-tk"],unified:["1F1F9-1F1F0"]},{shortNames:["flag-to"],unified:["1F1F9-1F1F4"]},{shortNames:["flag-tt"],unified:["1F1F9-1F1F9"]},{shortNames:["flag-tn"],unified:["1F1F9-1F1F3"]},{shortNames:["flag-tr"],unified:["1F1F9-1F1F7"]},{shortNames:["flag-tm"],unified:["1F1F9-1F1F2"]},{shortNames:["flag-tc"],unified:["1F1F9-1F1E8"]},{shortNames:["flag-tv"],unified:["1F1F9-1F1FB"]},{shortNames:["flag-ug"],unified:["1F1FA-1F1EC"]},{shortNames:["flag-ua"],unified:["1F1FA-1F1E6"]},{shortNames:["flag-ae"],unified:["1F1E6-1F1EA"]},{shortNames:["flag-gb","gb","uk"],unified:["1F1EC-1F1E7"]},{shortNames:["flag-us","us"],unified:["1F1FA-1F1F8"]},{shortNames:["flag-vi"],unified:["1F1FB-1F1EE"]},{shortNames:["flag-uy"],unified:["1F1FA-1F1FE"]},{shortNames:["flag-uz"],unified:["1F1FA-1F1FF"]},{shortNames:["flag-vu"],unified:["1F1FB-1F1FA"]},{shortNames:["flag-va"],unified:["1F1FB-1F1E6"]},{shortNames:["flag-ve"],unified:["1F1FB-1F1EA"]},{shortNames:["flag-vn"],unified:["1F1FB-1F1F3"]},{shortNames:["flag-wf"],unified:["1F1FC-1F1EB"]},{shortNames:["flag-eh"],unified:["1F1EA-1F1ED"]},{shortNames:["flag-ye"],unified:["1F1FE-1F1EA"]},{shortNames:["flag-zm"],unified:["1F1FF-1F1F2"]},{shortNames:["flag-zw"],unified:["1F1FF-1F1FC"]},{shortNames:["flag-ac"],unified:["1F1E6-1F1E8"]},{shortNames:["flag-bv"],unified:["1F1E7-1F1FB"]},{shortNames:["flag-cp"],unified:["1F1E8-1F1F5"]},{shortNames:["flag-dg"],unified:["1F1E9-1F1EC"]},{shortNames:["flag-ea"],unified:["1F1EA-1F1E6"]},{shortNames:["flag-hm"],unified:["1F1ED-1F1F2"]},{shortNames:["flag-mf"],unified:["1F1F2-1F1EB"]},{shortNames:["flag-sj"],unified:["1F1F8-1F1EF"]},{shortNames:["flag-ta"],unified:["1F1F9-1F1E6"]},{shortNames:["flag-um"],unified:["1F1FA-1F1F2"]},{shortNames:["flag-un"],unified:["1F1FA-1F1F3"]}],"Skin Tones":[{shortNames:["skin-tone-2"],unified:["1F3FB"]},{shortNames:["skin-tone-3"],unified:["1F3FC"]},{shortNames:["skin-tone-4"],unified:["1F3FD"]},{shortNames:["skin-tone-5"],unified:["1F3FE"]},{shortNames:["skin-tone-6"],unified:["1F3FF"]}]}}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=g(i(160)),r=g(i(106)),s=g(i(3)),a=g(i(56)),o=g(i(60)),u=g(i(61)),f=g(i(65)),d=g(i(86));i(161);var l=g(i(94)),F=g(i(95)),m=g(i(162)),h=g(i(157)),c=g(i(133)),N=g(i(121)),p=i(137),_=i(1);function g(e){return e&&e.__esModule?e:{default:e}}var E={name:"Recent",emojis:null},y={name:"Search",emojis:null,anchor:!1},v={search:"Search",notfound:"No Emoji Found",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags"}},b=function(e){function t(e){(0,o.default)(this,t);var i=(0,f.default)(this,(t.__proto__||(0,a.default)(t)).call(this,e));i.i18n=(0,p.deepMerge)(v,e.i18n),i.state={skin:c.default.get("skin")||e.skin,firstRender:!0},i.categories=[];var n=[].concat(h.default.categories);i.hideRecent=!0;var r=!0,u=!1,d=void 0;try{for(var l,F=(0,s.default)(n);!(r=(l=F.next()).done);r=!0){var m=l.value,N=!e.include||!e.include.length||e.include.indexOf(m.name.toLowerCase())>-1,_=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(m.name.toLowerCase())>-1;if(N&&!_)if(e.emojisToShowFilter){var g=[],b=!0,w=!1,C=void 0;try{for(var k,L=(0,s.default)(m.emojis);!(b=(k=L.next()).done);b=!0){var D=k.value;e.emojisToShowFilter(h.default.emojis[D]||D)&&g.push(D)}}catch(B){w=!0,C=B}finally{try{!b&&L.return&&L.return()}finally{if(w)throw C}}if(g.length){var j={emojis:g,name:m.name};i.categories.push(j)}}else i.categories.push(m)}}catch(B){u=!0,d=B}finally{try{!r&&F.return&&F.return()}finally{if(u)throw d}}var A=!e.include||!e.include.length||e.include.indexOf("recent")>-1,x=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf("recent")>-1;return A&&!x&&(i.hideRecent=!1,i.categories.unshift(E)),i.categories[0]&&(i.categories[0].first=!0),i.categories.unshift(y),i}return(0,d.default)(t,e),(0,u.default)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin&&!c.default.get("skin")&&this.setState({skin:e.skin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout(function(){e.setState({firstRender:!1})},60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){y.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){for(var e=document.createElement("div"),t=["","-webkit-","-ms-","-moz-","-o-"],i=0;i<t.length;i++){var n=t[i];e.style.position=n+"sticky"}this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){this.preview.setState({emoji:e}),clearTimeout(this.leaveTimeout)}},{key:"handleEmojiLeave",value:function(e){var t=this;this.leaveTimeout=setTimeout(function(){t.preview.setState({emoji:null})},16)}},{key:"handleEmojiClick",value:function(e,t){var i=this;this.props.onClick(e,t),this.hideRecent||N.default.add(e);var n=this.categoriesRef[1];if(n){var r=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame(function(){n.memoizeSize(),r!=n.maxMargin&&(i.updateCategoriesSize(),i.handleScrollPaint(),y.emojis&&n.updateDisplay("none"))})}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint.bind(this)))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(y.emojis)e=y;else{for(var t=this.scroll.scrollTop,i=t>(this.scrollTop||0),n=0,r=0,a=this.categories.length;r<a;r++){var o=i?this.categories.length-1-r:r,u=this.categories[o],f=this.categoriesRef[o];if(f){var d=f.handleScroll(t);(!n||f.top<n)&&f.top>0&&(n=f.top),d&&!e&&(e=u)}}if(t<n){var l=!0,F=!1,m=void 0;try{for(var h,c=(0,s.default)(this.categories);!(l=(h=c.next()).done);l=!0){var N=h.value;if(!1!==N.anchor){e=N;break}}}catch(_){F=!0,m=_}finally{try{!l&&c.return&&c.return()}finally{if(F)throw m}}}else t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var p=e.name;this.anchors.state.selected!=p&&this.anchors.setState({selected:p})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){y.emojis=e;for(var t=0,i=this.categories.length;t<i;t++){var n=this.categoriesRef[t];if(n&&"Search"!=n.props.name){var r=e?"none":"inherit";n.updateDisplay(r)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var i,n=this,r=this.categoriesRef[t];i=function(){if(r){var t=r.top;e.first?t=0:t+=1,n.scroll.scrollTop=t}},y.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(i)):i()}},{key:"handleSkinChange",value:function(e){var t={skin:e};this.setState(t),c.default.update(t)}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var i=this.categoriesRef[e];i&&i.memoizeSize()}if(this.scroll){var n=this.scroll;this.scrollHeight=n.scrollHeight,this.clientHeight=n.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"render",value:function(){var e=this,t=this.props,i=t.perLine,s=t.emojiSize,a=t.style,o=t.title,u=t.emoji,f=t.color,d=t.emojisToShowFilter,F=t.include,h=t.exclude,c=t.autoFocus,N=this.state.skin,p=i*(s+12)+12+2+(0,m.default)();return l.default.createElement("div",{style:(0,r.default)({width:p},a),className:"emoji-mart"},l.default.createElement("div",{className:"emoji-mart-bar"},l.default.createElement(_.Anchors,{ref:function(t){return e.anchors=t},i18n:this.i18n,color:f,categories:this.categories,onAnchorClick:this.handleAnchorClick.bind(this)})),l.default.createElement(_.Search,{ref:function(t){return e.search=t},onSearch:this.handleSearch.bind(this),i18n:this.i18n,emojisToShowFilter:d,include:F,exclude:h,autoFocus:c}),l.default.createElement("div",{ref:function(t){return e.scroll=t},className:"emoji-mart-scroll",onScroll:this.handleScroll.bind(this)},this.getCategories().map(function(t,r){return l.default.createElement(_.Category,{ref:function(t){e.categoriesRef?e.categoriesRef[r]=t:e.categoriesRef=(0,n.default)({},r,[t])},key:t.name,name:t.name,emojis:t.emojis,perLine:i,hasStickyPosition:e.hasStickyPosition,i18n:e.i18n,emojiProps:{skin:N,size:s,onOver:e.handleEmojiOver.bind(e),onLeave:e.handleEmojiLeave.bind(e),onClick:e.handleEmojiClick.bind(e)}})})),l.default.createElement("div",{className:"emoji-mart-bar"},l.default.createElement(_.Preview,{ref:function(t){return e.preview=t},title:o,emoji:u,emojiProps:{size:38,skin:N},skinsProps:{skin:N,onChange:this.handleSkinChange.bind(this)}})))}}]),t}(l.default.Component);t.default=b,b.propTypes={onClick:F.default.func,perLine:F.default.number,emojiSize:F.default.number,i18n:F.default.object,style:F.default.object,title:F.default.string,emoji:F.default.string,color:F.default.string,skin:_.Emoji.propTypes.skin,emojisToShowFilter:F.default.func,include:F.default.arrayOf(F.default.string),exclude:F.default.arrayOf(F.default.string),autoFocus:F.default.bool},b.defaultProps={onClick:function(){},emojiSize:24,perLine:9,i18n:{},style:{},title:"Emoji Mart",emoji:"department_store",color:"#ae65c5",skin:_.Emoji.defaultProps.skin,emojisToShowFilter:null,autoFocus:!1}},function(e,t,i){"use strict";t.__esModule=!0;var n,r=i(62),s=(n=r)&&n.__esModule?n:{default:n};t.default=function(e,t,i){return t in e?(0,s.default)(e,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):e[t]=i,e}},function(e,t){"use strict";
// MIT license
"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],i=0;i<t.length&&!window.requestAnimationFrame;++i)window.requestAnimationFrame=window[t[i]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[i]+"CancelAnimationFrame"]||window[t[i]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,i){var n=(new Date).getTime(),r=Math.max(0,16-(n-e)),s=window.setTimeout(function(){t(n+r)},r);return e=n+r,s}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=m(i(106)),r=m(i(56)),s=m(i(60)),a=m(i(61)),o=m(i(65)),u=m(i(86)),f=m(i(94)),d=m(i(95)),l=i(1),F=i(137);function m(e){return e&&e.__esModule?e:{default:e}}var h=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={emoji:null},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,i=t.emojiProps,r=t.skinsProps,s=t.title,a=t.emoji;if(e){var o=(0,F.getData)(e);return f.default.createElement("div",{className:"emoji-mart-preview"},f.default.createElement("div",{className:"emoji-mart-preview-emoji"},(0,l.Emoji)((0,n.default)({key:e.id,emoji:e},i))),f.default.createElement("div",{className:"emoji-mart-preview-data"},f.default.createElement("div",{className:"emoji-mart-preview-name"},e.name),f.default.createElement("div",{className:"emoji-mart-preview-shortnames"},o.short_names.map(function(e){return f.default.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))))}return f.default.createElement("div",{className:"emoji-mart-preview"},f.default.createElement("div",{className:"emoji-mart-preview-emoji"},a&&a.length&&(0,l.Emoji)((0,n.default)({emoji:a},i))),f.default.createElement("div",{className:"emoji-mart-preview-data"},f.default.createElement("span",{className:"emoji-mart-title-label"},s)),f.default.createElement("div",{className:"emoji-mart-preview-skins"},f.default.createElement(l.Skins,r)))}}]),t}(f.default.Component);t.default=h,h.propTypes={title:d.default.string.isRequired,emoji:d.default.string.isRequired,emojiProps:d.default.object.isRequired,skinsProps:d.default.object.isRequired}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(56)),r=l(i(60)),s=l(i(61)),a=l(i(65)),o=l(i(86)),u=l(i(94)),f=l(i(95)),d=l(i(165));function l(e){return e&&e.__esModule?e:{default:e}}var F=function(e){function t(){return(0,r.default)(this,t),(0,a.default)(this,(t.__proto__||(0,n.default)(t)).apply(this,arguments))}return(0,o.default)(t,e),(0,s.default)(t,[{key:"handleChange",value:function(){this.props.onSearch(d.default.search(this.input.value,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude}))}},{key:"clear",value:function(){this.input.value=""}},{key:"render",value:function(){var e=this,t=this.props,i=t.i18n,n=t.autoFocus;return u.default.createElement("div",{className:"emoji-mart-search"},u.default.createElement("input",{ref:function(t){return e.input=t},type:"text",onChange:this.handleChange.bind(this),placeholder:i.search,autoFocus:n}))}}]),t}(u.default.Component);t.default=F,F.propTypes={onSearch:f.default.func,maxResults:f.default.number,emojisToShowFilter:f.default.func,autoFocus:f.default.bool},F.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=u(i(125)),r=u(i(3)),s=u(i(157)),a=i(137),o=u(i(133));function u(e){return e&&e.__esModule?e:{default:e}}i(166)._extend;var f={},d={},l=[],F=[];for(var m in s.default.emojis){var h=s.default.emojis[m].short_names[0];d[h]=(0,a.getSanitizedData)(h)}t.default={search:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=t.emojisToShowFilter,o=t.maxResults,u=t.include,m=t.exclude;o||(o=75),u||(u=[]),m||(m=[]);var h=null,c=s.default.emojis;if(e.length){if("-"==e||"-1"==e)return[d[-1]];var N,p=e.toLowerCase().split(/[\s|,|\-|_]+/);if(p.length>2&&(p=[p[0],p[1]]),u.length||m.length){c={},l==u.sort().join(",")&&F==m.sort().join(",")||(l=u.sort().join(","),F=m.sort().join(","),f={});var _=!0,g=!1,E=void 0;try{for(var y,v=(0,r.default)(s.default.categories);!(_=(y=v.next()).done);_=!0){var b=y.value,w=!u||!u.length||u.indexOf(b.name.toLowerCase())>-1,C=!(!m||!m.length)&&m.indexOf(b.name.toLowerCase())>-1;if(w&&!C){var k=!0,L=!1,D=void 0;try{for(var j,A=(0,r.default)(b.emojis);!(k=(j=A.next()).done);k=!0){var x=j.value;c[x]=s.default.emojis[x]}}catch(B){L=!0,D=B}finally{try{!k&&A.return&&A.return()}finally{if(L)throw D}}}}}catch(B){g=!0,E=B}finally{try{!_&&v.return&&v.return()}finally{if(g)throw E}}}else(l.length||F.length)&&(f={});h=(N=p.map(function(e){var t=c,i=f,n=0,s=!0,a=!1,o=void 0;try{for(var u,l=(0,r.default)(e.split(""));!(s=(u=l.next()).done);s=!0){var F=u.value;n++,i[F]||(i[F]={}),(i=i[F]).results||function(){var r={};for(var s in i.results=[],i.pool={},t){var a=t[s],o=a.search,u=e.substr(0,n),f=o.indexOf(u);if(-1!=f){var l=f+1;u==s&&(l=0),i.results.push(d[s]),i.pool[s]=a,r[s]=l}}i.results.sort(function(e,t){return r[e.id]-r[t.id]})}(),t=i.pool}}catch(B){a=!0,o=B}finally{try{!s&&l.return&&l.return()}finally{if(a)throw o}}return i.results}).filter(function(e){return e})).length>1?a.intersect.apply(void 0,(0,n.default)(N)):N.length?N[0]:[]}return h&&(i&&(h=h.filter(function(e){return i(s.default.emojis[e.id].unified)})),h&&h.length>o&&(h=h.slice(0,o))),h},getDefaultSkin:function(){var e=o.default.get("skin");return 1===e?null:e},emojis:d,getData:a.getData}},function(e,t,i){(function(e,n){// Copyright Joyent, Inc. and other Node contributors.
// distribute, sublicense, and/or sell copies of the Software, and to permit
// The above copyright notice and this permission notice shall be included
// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,
var r=/%[sdj%]/g;t.format=function(e){if(!p(e)){for(var t=[],i=0;i<arguments.length;i++)t.push(o(arguments[i]));return t.join(" ")}i=1;for(var n=arguments,s=n.length,a=String(e).replace(r,function(e){if("%%"===e)return"%";if(i>=s)return e;switch(e){case"%s":return String(n[i++]);case"%d":return Number(n[i++]);case"%j":try{return JSON.stringify(n[i++])}catch(t){return"[Circular]"}default:return e}}),u=n[i];i<s;u=n[++i])c(u)||!E(u)?a+=" "+u:a+=" "+o(u);return a},t.deprecate=function(i,r){if(_(e.process))return function(){return t.deprecate(i,r).apply(this,arguments)};if(!0===n.noDeprecation)return i;var s=!1;return function(){if(!s){if(n.throwDeprecation)throw new Error(r);n.traceDeprecation?console.trace(r):console.error(r),s=!0}return i.apply(this,arguments)}};var s,a={};function o(e,i){var n={seen:[],stylize:f};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),h(i)?n.showHidden=i:i&&t._extend(n,i),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=u),d(n,e,n.depth)}function u(e,t){var i=o.styles[t];return i?"["+o.colors[i][0]+"m"+e+"["+o.colors[i][1]+"m":e}function f(e,t){return e}function d(e,i,n){if(e.customInspect&&i&&b(i.inspect)&&i.inspect!==t.inspect&&(!i.constructor||i.constructor.prototype!==i)){var r=i.inspect(n,e);return p(r)||(r=d(e,r,n)),r}var s=function(e,t){if(_(t))return e.stylize("undefined","undefined");if(p(t)){var i="'"+JSON.stringify(t).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return e.stylize(i,"string")}if(N(t))return e.stylize(""+t,"number");if(h(t))return e.stylize(""+t,"boolean");if(c(t))return e.stylize("null","null")}(e,i);if(s)return s;var a=Object.keys(i),o=function(e){var t={};return e.forEach(function(e,i){t[e]=!0}),t}(a);if(e.showHidden&&(a=Object.getOwnPropertyNames(i)),v(i)&&(a.indexOf("message")>=0||a.indexOf("description")>=0))return l(i);if(0===a.length){if(b(i)){var u=i.name?": "+i.name:"";return e.stylize("[Function"+u+"]","special")}if(g(i))return e.stylize(RegExp.prototype.toString.call(i),"regexp");if(y(i))return e.stylize(Date.prototype.toString.call(i),"date");if(v(i))return l(i)}var f,E="",w=!1,C=["{","}"];(m(i)&&(w=!0,C=["[","]"]),b(i))&&(E=" [Function"+(i.name?": "+i.name:"")+"]");return g(i)&&(E=" "+RegExp.prototype.toString.call(i)),y(i)&&(E=" "+Date.prototype.toUTCString.call(i)),v(i)&&(E=" "+l(i)),0!==a.length||w&&0!=i.length?n<0?g(i)?e.stylize(RegExp.prototype.toString.call(i),"regexp"):e.stylize("[Object]","special"):(e.seen.push(i),f=w?function(e,t,i,n,r){for(var s=[],a=0,o=t.length;a<o;++a)L(t,String(a))?s.push(F(e,t,i,n,String(a),!0)):s.push("");return r.forEach(function(r){r.match(/^\d+$/)||s.push(F(e,t,i,n,r,!0))}),s}(e,i,n,o,a):a.map(function(t){return F(e,i,n,o,t,w)}),e.seen.pop(),function(e,t,i){if(e.reduce(function(e,t){return 0,t.indexOf("\n")>=0&&0,e+t.replace(/\u001b\[\d\d?m/g,"").length+1},0)>60)return i[0]+(""===t?"":t+"\n ")+" "+e.join(",\n  ")+" "+i[1];return i[0]+t+" "+e.join(", ")+" "+i[1]}(f,E,C)):C[0]+E+C[1]}function l(e){return"["+Error.prototype.toString.call(e)+"]"}function F(e,t,i,n,r,s){var a,o,u;if((u=Object.getOwnPropertyDescriptor(t,r)||{value:t[r]}).get?o=u.set?e.stylize("[Getter/Setter]","special"):e.stylize("[Getter]","special"):u.set&&(o=e.stylize("[Setter]","special")),L(n,r)||(a="["+r+"]"),o||(e.seen.indexOf(u.value)<0?(o=c(i)?d(e,u.value,null):d(e,u.value,i-1)).indexOf("\n")>-1&&(o=s?o.split("\n").map(function(e){return"  "+e}).join("\n").substr(2):"\n"+o.split("\n").map(function(e){return"   "+e}).join("\n")):o=e.stylize("[Circular]","special")),_(a)){if(s&&r.match(/^\d+$/))return o;(a=JSON.stringify(""+r)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(a=a.substr(1,a.length-2),a=e.stylize(a,"name")):(a=a.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),a=e.stylize(a,"string"))}return a+": "+o}function m(e){return Array.isArray(e)}function h(e){return"boolean"==typeof e}function c(e){return null===e}function N(e){return"number"==typeof e}function p(e){return"string"==typeof e}function _(e){return void 0===e}function g(e){return E(e)&&"[object RegExp]"===w(e)}function E(e){return"object"==typeof e&&null!==e}function y(e){return E(e)&&"[object Date]"===w(e)}function v(e){return E(e)&&("[object Error]"===w(e)||e instanceof Error)}function b(e){return"function"==typeof e}function w(e){return Object.prototype.toString.call(e)}function C(e){return e<10?"0"+e.toString(10):e.toString(10)}t.debuglog=function(e){if(_(s)&&(s=n.env.NODE_DEBUG||""),e=e.toUpperCase(),!a[e])if(new RegExp("\\b"+e+"\\b","i").test(s)){var i=n.pid;a[e]=function(){var n=t.format.apply(t,arguments);console.error("%s %d: %s",e,i,n)}}else a[e]=function(){};return a[e]},t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},t.isArray=m,t.isBoolean=h,t.isNull=c,t.isNullOrUndefined=function(e){return null==e},t.isNumber=N,t.isString=p,t.isSymbol=function(e){return"symbol"==typeof e},t.isUndefined=_,t.isRegExp=g,t.isObject=E,t.isDate=y,t.isError=v,t.isFunction=b,t.isPrimitive=function(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e||"symbol"==typeof e||void 0===e},t.isBuffer=i(167);var k=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function L(e,t){return Object.prototype.hasOwnProperty.call(e,t)}t.log=function(){var e,i;console.log("%s - %s",(e=new Date,i=[C(e.getHours()),C(e.getMinutes()),C(e.getSeconds())].join(":"),[e.getDate(),k[e.getMonth()],i].join(" ")),t.format.apply(t,arguments))},t.inherits=i(168),t._extend=function(e,t){if(!t||!E(t))return e;for(var i=Object.keys(t),n=i.length;n--;)e[i[n]]=t[i[n]];return e}}).call(t,function(){return this}(),i(96))},function(e,t){e.exports=function(e){return e&&"object"==typeof e&&"function"==typeof e.copy&&"function"==typeof e.fill&&"function"==typeof e.readUInt8}},function(e,t){"function"==typeof Object.create?e.exports=function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(e,t){e.super_=t;var i=function(){};i.prototype=t.prototype,e.prototype=new i,e.prototype.constructor=e}},function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(i(125)),r=l(i(56)),s=l(i(60)),a=l(i(61)),o=l(i(65)),u=l(i(86)),f=l(i(94)),d=l(i(95));function l(e){return e&&e.__esModule?e:{default:e}}var F=function(e){function t(e){(0,s.default)(this,t);var i=(0,o.default)(this,(t.__proto__||(0,r.default)(t)).call(this,e));return i.state={opened:!1},i}return(0,u.default)(t,e),(0,a.default)(t,[{key:"handleClick",value:function(e){var t=this.props.onChange;this.state.opened?(this.setState({opened:!1}),e!=this.props.skin&&t(e)):this.setState({opened:!0})}},{key:"render",value:function(){var e=this,t=this.props.skin,i=this.state.opened;return f.default.createElement("div",null,f.default.createElement("div",{className:"emoji-mart-skin-swatches "+(i?"emoji-mart-skin-swatches-opened":"")},[].concat((0,n.default)(Array(6))).map(function(i,n){var r=n+1,s=r==t;return f.default.createElement("span",{key:"skin-tone-"+r,className:"emoji-mart-skin-swatch "+(s?"emoji-mart-skin-swatch-selected":"")},f.default.createElement("span",{onClick:function(){return e.handleClick(r)},className:"emoji-mart-skin emoji-mart-skin-tone-"+r}))})))}}]),t}(f.default.Component);t.default=F,F.propTypes={onChange:d.default.func,skin:d.default.number.isRequired},F.defaultProps={onChange:function(){}}}])},"object"==typeof t&&"object"==typeof e?e.exports=r(i(34,1)):"function"==typeof define&&define.amd?define(["react"],r):"object"==typeof t?t.EmojiMart=r(i(34,1)):n.EmojiMart=r(n.React),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(F,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=t(34,1   ),i=t(782         ),s=/(?:\:([a-zA-Z0-9_\-\+]+)\:)(?:\:skin-tone-(\d)\:)?/,o=RegExp(s.source,"g");e.EMOJI_PATH="https://static.figma.com/emoji/2/64/",e.SKIN_TONES={2:"1f3fb",3:"1f3fc",4:"1f3fd",5:"1f3fe",6:"1f3ff"};e.MODIFIABLE_EMOJI_BASES_SET=Object.create(null),["261D","26F9","270A","270B","270C","270D","1F385","1F3C2","1F3C3","1F3C4","1F3C7","1F3CA","1F3CB","1F3CC","1F442","1F443","1F446","1F447","1F448","1F449","1F44A","1F44B","1F44C","1F44D","1F44E","1F44F","1F450","1F466","1F467","1F468","1F469","1F46E","1F470","1F471","1F472","1F473","1F474","1F475","1F476","1F477","1F478","1F47C","1F481","1F482","1F483","1F485","1F486","1F487","1F4AA","1F574","1F575","1F57A","1F590","1F595","1F596","1F645","1F646","1F647","1F64B","1F64C","1F64D","1F64E","1F64F","1F6A3","1F6B4","1F6B5","1F6B6","1F6C0","1F6CC","1F918","1F919","1F91A","1F91B","1F91C","1F91E","1F91F","1F926","1F930","1F931","1F932","1F933","1F934","1F935","1F936","1F937","1F938","1F939","1F93D","1F93E","1F9D1","1F9D2","1F9D3","1F9D4","1F9D5","1F9D6","1F9D7","1F9D8","1F9D9","1F9DA","1F9DB","1F9DC","1F9DD"].forEach(F=>{e.MODIFIABLE_EMOJI_BASES_SET[F]=!0}),e.hasValidEmoji=(F=>{let e=null;for(;null!=(e=o.exec(F));){const F=e[0].match(s);if(F&&i.emojiIndex.emojis.hasOwnProperty(F[1]))return o.lastIndex=0,!0}return!1}),e.aliasesToUnified=(F=>{let t;const n=F.match(s);if(n){const F=n[1];if(i.emojiIndex.emojis.hasOwnProperty(F)){const s=i.emojiIndex.emojis[F];if(s){if(n[2]&&(t=parseInt(n[2])),t&&e.SKIN_TONES[t]){const F=e.SKIN_TONES[t];let n=s.unified.split("-");return!0===e.MODIFIABLE_EMOJI_BASES_SET[n[0].toUpperCase()]?(n.splice(1,0,F),[{text:n.join("-"),meta:s.name}]):[{text:s.unified,meta:s.name},{text:F,meta:`skin-tone-${t}`}]}return[{text:s.unified,meta:s.name}]}}}return[{text:F,meta:null}]}),e.unifiedToPNG=(F=>e.EMOJI_PATH+F+".png"),e.replaceAliasesWithImg=(F=>{if(!F)return[""];let t=0,i=[],s=null;for(;null!=(s=o.exec(F));){s.index>t&&i.push(F.substr(t,s.index-t)),e.aliasesToUnified(s[0]).forEach(F=>{const{text:t,meta:s}=F;if(":"!==t[0]){const F=e.unifiedToPNG(t),o=Math.random().toString(36).substring(2);i.push(n.createElement("img",{key:o,className:"inline-emoji","data-tooltip-text":s,src:F}))}else i.push(t)}),t=s.index+s[0].length}return t!==F.length&&i.push(F.substr(t,F.length)),o.lastIndex=0,i}),F.exports instanceof Function&&(F.exports.default=F.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(34,1   ),r=n(783                  ),o=n(404                              );t.messageMetasEqual=((e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++){const a=e[n],r=t[n];if(a.t!==r.t)return!1;if(a.user_id!==r.user_id)return!1;if(a.user_annotated!==r.user_annotated){if(!!a.user_annotated!=!!r.user_annotated)return!1;if(a.user_annotated.id!==r.user_annotated.id)return!1;if(a.user_annotated.handle!==r.user_annotated.handle)return!1;if(a.user_annotated.img_url!==r.user_annotated.img_url)return!1;if(a.user_annotated.email!==r.user_annotated.email)return!1}}return!0}),t.messageMetaToTextString=((e=[])=>e.reduce((e,t)=>{let n=t.t;return t.user_annotated&&(n=t.user_annotated.handle),e+n},"")),t.messageMetaToElement=((e=[],t)=>a.createElement("div",null,e.map((e,n)=>{if(e.user_id){let r=e.t;return e.user_annotated&&(r=e.user_annotated.handle),a.createElement("span",{key:n,spellCheck:!1,contentEditable:!1,className:t,"data-tooltip-content-key":o.TooltipView.USER_INFO,"data-tooltip-show-above":!0,"data-tooltip-user-img-url":e.user_annotated&&e.user_annotated.img_url,"data-tooltip-user-handle":e.user_annotated&&e.user_annotated.handle,"data-tooltip-unconstrain-width":!0,"data-mention-user-id":e.user_id},r)}return r.replaceAliasesWithImg(e.t)}))),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){
/**
 *  Copyright (c) 2014-2015, Facebook, Inc.
 *  All rights reserved.
 *
 *  This source code is licensed under the BSD-style license found in the
 *  LICENSE file in the root directory of this source tree. An additional grant
 *  of patent rights can be found in the PATENTS file in the same directory.
 */var n,i;n=this,i=function(){"use strict";var t=Array.prototype.slice;function e(t,e){e&&(t.prototype=Object.create(e.prototype)),t.prototype.constructor=t}function r(t){return u(t)?t:V(t)}function n(t){return s(t)?t:Y(t)}function i(t){return a(t)?t:F(t)}function o(t){return u(t)&&!h(t)?t:Q(t)}function u(t){return!(!t||!t[c])}function s(t){return!(!t||!t[_])}function a(t){return!(!t||!t[p])}function h(t){return s(t)||a(t)}function f(t){return!(!t||!t[l])}e(n,r),e(i,r),e(o,r),r.isIterable=u,r.isKeyed=s,r.isIndexed=a,r.isAssociative=h,r.isOrdered=f,r.Keyed=n,r.Indexed=i,r.Set=o;var c="@@__IMMUTABLE_ITERABLE__@@",_="@@__IMMUTABLE_KEYED__@@",p="@@__IMMUTABLE_INDEXED__@@",l="@@__IMMUTABLE_ORDERED__@@",v=5,y=1<<v,d=y-1,m={},g={value:!1},w={value:!1};function S(t){return t.value=!1,t}function z(t){t&&(t.value=!0)}function I(){}function b(t,e){e=e||0;for(var r=Math.max(0,t.length-e),n=new Array(r),i=0;i<r;i++)n[i]=t[i+e];return n}function q(t){return void 0===t.size&&(t.size=t.__iterate(M)),t.size}function D(t,e){if("number"!=typeof e){var r=e>>>0;if(""+r!==e||4294967295===r)return NaN;e=r}return e<0?q(t)+e:e}function M(){return!0}function E(t,e,r){return(0===t||void 0!==r&&t<=-r)&&(void 0===e||void 0!==r&&e>=r)}function O(t,e){return k(t,e,0)}function x(t,e){return k(t,e,e)}function k(t,e,r){return void 0===t?r:t<0?Math.max(0,e+t):void 0===e?t:Math.min(e,t)}var A=0,j=1,K=2,R="function"==typeof Symbol&&Symbol.iterator,U="@@iterator",L=R||U;function T(t){this.next=t}function W(t,e,r,n){var i=0===t?e:1===t?r:[e,r];return n?n.value=i:n={value:i,done:!1},n}function B(){return{value:void 0,done:!0}}function C(t){return!!P(t)}function J(t){return t&&"function"==typeof t.next}function N(t){var e=P(t);return e&&e.call(t)}function P(t){var e=t&&(R&&t[R]||t[U]);if("function"==typeof e)return e}function H(t){return t&&"number"==typeof t.length}function V(t){return null==t?ot():u(t)?t.toSeq():function(t){var e=at(t)||"object"==typeof t&&new et(t);if(!e)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+t);return e}(t)}function Y(t){return null==t?ot().toKeyedSeq():u(t)?s(t)?t.toSeq():t.fromEntrySeq():ut(t)}function F(t){return null==t?ot():u(t)?s(t)?t.entrySeq():t.toIndexedSeq():st(t)}function Q(t){return(null==t?ot():u(t)?s(t)?t.entrySeq():t:st(t)).toSetSeq()}T.prototype.toString=function(){return"[Iterator]"},T.KEYS=A,T.VALUES=j,T.ENTRIES=K,T.prototype.inspect=T.prototype.toSource=function(){return this.toString()},T.prototype[L]=function(){return this},e(V,r),V.of=function(){return V(arguments)},V.prototype.toSeq=function(){return this},V.prototype.toString=function(){return this.__toString("Seq {","}")},V.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},V.prototype.__iterate=function(t,e){return ht(this,t,e,!0)},V.prototype.__iterator=function(t,e){return ft(this,t,e,!0)},e(Y,V),Y.prototype.toKeyedSeq=function(){return this},e(F,V),F.of=function(){return F(arguments)},F.prototype.toIndexedSeq=function(){return this},F.prototype.toString=function(){return this.__toString("Seq [","]")},F.prototype.__iterate=function(t,e){return ht(this,t,e,!1)},F.prototype.__iterator=function(t,e){return ft(this,t,e,!1)},e(Q,V),Q.of=function(){return Q(arguments)},Q.prototype.toSetSeq=function(){return this},V.isSeq=it,V.Keyed=Y,V.Set=Q,V.Indexed=F;var X,G,Z,$="@@__IMMUTABLE_SEQ__@@";function tt(t){this._array=t,this.size=t.length}function et(t){var e=Object.keys(t);this._object=t,this._keys=e,this.size=e.length}function rt(t){this._iterable=t,this.size=t.length||t.size}function nt(t){this._iterator=t,this._iteratorCache=[]}function it(t){return!(!t||!t[$])}function ot(){return X||(X=new tt([]))}function ut(t){var e=Array.isArray(t)?new tt(t).fromEntrySeq():J(t)?new nt(t).fromEntrySeq():C(t)?new rt(t).fromEntrySeq():"object"==typeof t?new et(t):void 0;if(!e)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+t);return e}function st(t){var e=at(t);if(!e)throw new TypeError("Expected Array or iterable object of values: "+t);return e}function at(t){return H(t)?new tt(t):J(t)?new nt(t):C(t)?new rt(t):void 0}function ht(t,e,r,n){var i=t._cache;if(i){for(var o=i.length-1,u=0;u<=o;u++){var s=i[r?o-u:u];if(!1===e(s[1],n?s[0]:u,t))return u+1}return u}return t.__iterateUncached(e,r)}function ft(t,e,r,n){var i=t._cache;if(i){var o=i.length-1,u=0;return new T(function(){var t=i[r?o-u:u];return u++>o?{value:void 0,done:!0}:W(e,n?t[0]:u-1,t[1])})}return t.__iteratorUncached(e,r)}function ct(t,e){return e?function t(e,r,n,i){if(Array.isArray(r))return e.call(i,n,F(r).map(function(n,i){return t(e,n,i,r)}));if(pt(r))return e.call(i,n,Y(r).map(function(n,i){return t(e,n,i,r)}));return r}(e,t,"",{"":t}):_t(t)}function _t(t){return Array.isArray(t)?F(t).map(_t).toList():pt(t)?Y(t).map(_t).toMap():t}function pt(t){return t&&(t.constructor===Object||void 0===t.constructor)}function lt(t,e){if(t===e||t!=t&&e!=e)return!0;if(!t||!e)return!1;if("function"==typeof t.valueOf&&"function"==typeof e.valueOf){if((t=t.valueOf())===(e=e.valueOf())||t!=t&&e!=e)return!0;if(!t||!e)return!1}return!("function"!=typeof t.equals||"function"!=typeof e.equals||!t.equals(e))}function vt(t,e){if(t===e)return!0;if(!u(e)||void 0!==t.size&&void 0!==e.size&&t.size!==e.size||void 0!==t.__hash&&void 0!==e.__hash&&t.__hash!==e.__hash||s(t)!==s(e)||a(t)!==a(e)||f(t)!==f(e))return!1;if(0===t.size&&0===e.size)return!0;var r=!h(t);if(f(t)){var n=t.entries();return e.every(function(t,e){var i=n.next().value;return i&&lt(i[1],t)&&(r||lt(i[0],e))})&&n.next().done}var i=!1;if(void 0===t.size)if(void 0===e.size)"function"==typeof t.cacheResult&&t.cacheResult();else{i=!0;var o=t;t=e,e=o}var c=!0,_=e.__iterate(function(e,n){if(r?!t.has(e):i?!lt(e,t.get(n,m)):!lt(t.get(n,m),e))return c=!1,!1});return c&&t.size===_}function yt(t,e){if(!(this instanceof yt))return new yt(t,e);if(this._value=t,this.size=void 0===e?1/0:Math.max(0,e),0===this.size){if(G)return G;G=this}}function dt(t,e){if(!t)throw new Error(e)}function mt(t,e,r){if(!(this instanceof mt))return new mt(t,e,r);if(dt(0!==r,"Cannot step a Range by 0"),t=t||0,void 0===e&&(e=1/0),r=void 0===r?1:Math.abs(r),e<t&&(r=-r),this._start=t,this._end=e,this._step=r,this.size=Math.max(0,Math.ceil((e-t)/r-1)+1),0===this.size){if(Z)return Z;Z=this}}function gt(){throw TypeError("Abstract")}function wt(){}function St(){}function zt(){}V.prototype[$]=!0,e(tt,F),tt.prototype.get=function(t,e){return this.has(t)?this._array[D(this,t)]:e},tt.prototype.__iterate=function(t,e){for(var r=this._array,n=r.length-1,i=0;i<=n;i++)if(!1===t(r[e?n-i:i],i,this))return i+1;return i},tt.prototype.__iterator=function(t,e){var r=this._array,n=r.length-1,i=0;return new T(function(){return i>n?{value:void 0,done:!0}:W(t,i,r[e?n-i++:i++])})},e(et,Y),et.prototype.get=function(t,e){return void 0===e||this.has(t)?this._object[t]:e},et.prototype.has=function(t){return this._object.hasOwnProperty(t)},et.prototype.__iterate=function(t,e){for(var r=this._object,n=this._keys,i=n.length-1,o=0;o<=i;o++){var u=n[e?i-o:o];if(!1===t(r[u],u,this))return o+1}return o},et.prototype.__iterator=function(t,e){var r=this._object,n=this._keys,i=n.length-1,o=0;return new T(function(){var u=n[e?i-o:o];return o++>i?{value:void 0,done:!0}:W(t,u,r[u])})},et.prototype[l]=!0,e(rt,F),rt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);var r=N(this._iterable),n=0;if(J(r))for(var i;!(i=r.next()).done&&!1!==t(i.value,n++,this););return n},rt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=N(this._iterable);if(!J(r))return new T(B);var n=0;return new T(function(){var e=r.next();return e.done?e:W(t,n++,e.value)})},e(nt,F),nt.prototype.__iterateUncached=function(t,e){if(e)return this.cacheResult().__iterate(t,e);for(var r,n=this._iterator,i=this._iteratorCache,o=0;o<i.length;)if(!1===t(i[o],o++,this))return o;for(;!(r=n.next()).done;){var u=r.value;if(i[o]=u,!1===t(u,o++,this))break}return o},nt.prototype.__iteratorUncached=function(t,e){if(e)return this.cacheResult().__iterator(t,e);var r=this._iterator,n=this._iteratorCache,i=0;return new T(function(){if(i>=n.length){var e=r.next();if(e.done)return e;n[i]=e.value}return W(t,i,n[i++])})},e(yt,F),yt.prototype.toString=function(){return 0===this.size?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},yt.prototype.get=function(t,e){return this.has(t)?this._value:e},yt.prototype.includes=function(t){return lt(this._value,t)},yt.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:new yt(this._value,x(e,r)-O(t,r))},yt.prototype.reverse=function(){return this},yt.prototype.indexOf=function(t){return lt(this._value,t)?0:-1},yt.prototype.lastIndexOf=function(t){return lt(this._value,t)?this.size:-1},yt.prototype.__iterate=function(t,e){for(var r=0;r<this.size;r++)if(!1===t(this._value,r,this))return r+1;return r},yt.prototype.__iterator=function(t,e){var r=this,n=0;return new T(function(){return n<r.size?W(t,n++,r._value):{value:void 0,done:!0}})},yt.prototype.equals=function(t){return t instanceof yt?lt(this._value,t._value):vt(t)},e(mt,F),mt.prototype.toString=function(){return 0===this.size?"Range []":"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},mt.prototype.get=function(t,e){return this.has(t)?this._start+D(this,t)*this._step:e},mt.prototype.includes=function(t){var e=(t-this._start)/this._step;return e>=0&&e<this.size&&e===Math.floor(e)},mt.prototype.slice=function(t,e){return E(t,e,this.size)?this:(t=O(t,this.size),(e=x(e,this.size))<=t?new mt(0,0):new mt(this.get(t,this._end),this.get(e,this._end),this._step))},mt.prototype.indexOf=function(t){var e=t-this._start;if(e%this._step==0){var r=e/this._step;if(r>=0&&r<this.size)return r}return-1},mt.prototype.lastIndexOf=function(t){return this.indexOf(t)},mt.prototype.__iterate=function(t,e){for(var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;o<=r;o++){if(!1===t(i,o,this))return o+1;i+=e?-n:n}return o},mt.prototype.__iterator=function(t,e){var r=this.size-1,n=this._step,i=e?this._start+r*n:this._start,o=0;return new T(function(){var u=i;return i+=e?-n:n,o>r?{value:void 0,done:!0}:W(t,o++,u)})},mt.prototype.equals=function(t){return t instanceof mt?this._start===t._start&&this._end===t._end&&this._step===t._step:vt(this,t)},e(gt,r),e(wt,gt),e(St,gt),e(zt,gt),gt.Keyed=wt,gt.Indexed=St,gt.Set=zt;var It="function"==typeof Math.imul&&-2===Math.imul(4294967295,2)?Math.imul:function(t,e){var r=65535&(t|=0),n=65535&(e|=0);return r*n+((t>>>16)*n+r*(e>>>16)<<16>>>0)|0};function bt(t){return t>>>1&1073741824|3221225471&t}function qt(t){if(!1===t||null==t)return 0;if("function"==typeof t.valueOf&&(!1===(t=t.valueOf())||null==t))return 0;if(!0===t)return 1;var e=typeof t;if("number"===e){var r=0|t;for(r!==t&&(r^=4294967295*t);t>4294967295;)r^=t/=4294967295;return bt(r)}if("string"===e)return t.length>jt?function(t){var e=Ut[t];void 0===e&&(e=Dt(t),Rt===Kt&&(Rt=0,Ut={}),Rt++,Ut[t]=e);return e}(t):Dt(t);if("function"==typeof t.hashCode)return t.hashCode();if("object"===e)return function(t){var e;if(xt&&void 0!==(e=Mt.get(t)))return e;if(void 0!==(e=t[At]))return e;if(!Ot){if(void 0!==(e=t.propertyIsEnumerable&&t.propertyIsEnumerable[At]))return e;if(void 0!==(e=function(t){if(t&&t.nodeType>0)switch(t.nodeType){case 1:return t.uniqueID;case 9:return t.documentElement&&t.documentElement.uniqueID}}(t)))return e}e=++kt,1073741824&kt&&(kt=0);if(xt)Mt.set(t,e);else{if(void 0!==Et&&!1===Et(t))throw new Error("Non-extensible objects are not allowed as keys.");if(Ot)Object.defineProperty(t,At,{enumerable:!1,configurable:!1,writable:!1,value:e});else if(void 0!==t.propertyIsEnumerable&&t.propertyIsEnumerable===t.constructor.prototype.propertyIsEnumerable)t.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},t.propertyIsEnumerable[At]=e;else{if(void 0===t.nodeType)throw new Error("Unable to set a non-enumerable property on object.");t[At]=e}}return e}(t);if("function"==typeof t.toString)return Dt(t.toString());throw new Error("Value type "+e+" cannot be hashed.")}function Dt(t){for(var e=0,r=0;r<t.length;r++)e=31*e+t.charCodeAt(r)|0;return bt(e)}var Mt,Et=Object.isExtensible,Ot=function(){try{return Object.defineProperty({},"@",{}),!0}catch(t){return!1}}(),xt="function"==typeof WeakMap;xt&&(Mt=new WeakMap);var kt=0,At="__immutablehash__";"function"==typeof Symbol&&(At=Symbol(At));var jt=16,Kt=255,Rt=0,Ut={};function Lt(t){dt(t!==1/0,"Cannot perform this action with an infinite size.")}function Tt(t){return null==t?Zt():Wt(t)&&!f(t)?t:Zt().withMutations(function(e){var r=n(t);Lt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function Wt(t){return!(!t||!t[Ct])}e(Tt,wt),Tt.prototype.toString=function(){return this.__toString("Map {","}")},Tt.prototype.get=function(t,e){return this._root?this._root.get(0,void 0,t,e):e},Tt.prototype.set=function(t,e){return $t(this,t,e)},Tt.prototype.setIn=function(t,e){return this.updateIn(t,m,function(){return e})},Tt.prototype.remove=function(t){return $t(this,t,m)},Tt.prototype.deleteIn=function(t){return this.updateIn(t,function(){return m})},Tt.prototype.update=function(t,e,r){return 1===arguments.length?t(this):this.updateIn([t],e,r)},Tt.prototype.updateIn=function(t,e,r){r||(r=e,e=void 0);var n=function t(e,r,n,i){var o=e===m;var u=r.next();if(u.done){var s=o?n:e,a=i(s);return a===s?e:a}dt(o||e&&e.set,"invalid keyPath");var h=u.value;var f=o?m:e.get(h,m);var c=t(f,r,n,i);return c===f?e:c===m?e.remove(h):(o?Zt():e).set(h,c)}(this,rr(t),e,r);return n===m?void 0:n},Tt.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Zt()},Tt.prototype.merge=function(){return ne(this,void 0,arguments)},Tt.prototype.mergeWith=function(e){return ne(this,e,t.call(arguments,1))},Tt.prototype.mergeIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.merge?t.merge.apply(t,r):r[r.length-1]})},Tt.prototype.mergeDeep=function(){return ne(this,ie,arguments)},Tt.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return ne(this,oe(e),r)},Tt.prototype.mergeDeepIn=function(e){var r=t.call(arguments,1);return this.updateIn(e,Zt(),function(t){return"function"==typeof t.mergeDeep?t.mergeDeep.apply(t,r):r[r.length-1]})},Tt.prototype.sort=function(t){return Oe(He(this,t))},Tt.prototype.sortBy=function(t,e){return Oe(He(this,e,t))},Tt.prototype.withMutations=function(t){var e=this.asMutable();return t(e),e.wasAltered()?e.__ensureOwner(this.__ownerID):this},Tt.prototype.asMutable=function(){return this.__ownerID?this:this.__ensureOwner(new I)},Tt.prototype.asImmutable=function(){return this.__ensureOwner()},Tt.prototype.wasAltered=function(){return this.__altered},Tt.prototype.__iterator=function(t,e){return new Ft(this,t,e)},Tt.prototype.__iterate=function(t,e){var r=this,n=0;return this._root&&this._root.iterate(function(e){return n++,t(e[1],e[0],r)},e),n},Tt.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Gt(this.size,this._root,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Tt.isMap=Wt;var Bt,Ct="@@__IMMUTABLE_MAP__@@",Jt=Tt.prototype;function Nt(t,e){this.ownerID=t,this.entries=e}function Pt(t,e,r){this.ownerID=t,this.bitmap=e,this.nodes=r}function Ht(t,e,r){this.ownerID=t,this.count=e,this.nodes=r}function Vt(t,e,r){this.ownerID=t,this.keyHash=e,this.entries=r}function Yt(t,e,r){this.ownerID=t,this.keyHash=e,this.entry=r}function Ft(t,e,r){this._type=e,this._reverse=r,this._stack=t._root&&Xt(t._root)}function Qt(t,e){return W(t,e[0],e[1])}function Xt(t,e){return{node:t,index:0,__prev:e}}function Gt(t,e,r,n){var i=Object.create(Jt);return i.size=t,i._root=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Zt(){return Bt||(Bt=Gt(0))}function $t(t,e,r){var n,i;if(t._root){var o=S(g),u=S(w);if(n=te(t._root,t.__ownerID,0,void 0,e,r,o,u),!u.value)return t;i=t.size+(o.value?r===m?-1:1:0)}else{if(r===m)return t;i=1,n=new Nt(t.__ownerID,[[e,r]])}return t.__ownerID?(t.size=i,t._root=n,t.__hash=void 0,t.__altered=!0,t):n?Gt(i,n):Zt()}function te(t,e,r,n,i,o,u,s){return t?t.update(e,r,n,i,o,u,s):o===m?t:(z(s),z(u),new Yt(e,n,[i,o]))}function ee(t){return t.constructor===Yt||t.constructor===Vt}function re(t,e,r,n,i){if(t.keyHash===n)return new Vt(e,n,[t.entry,i]);var o,u=(0===r?t.keyHash:t.keyHash>>>r)&d,s=(0===r?n:n>>>r)&d;return new Pt(e,1<<u|1<<s,u===s?[re(t,e,r+v,n,i)]:(o=new Yt(e,n,i),u<s?[t,o]:[o,t]))}function ne(t,e,r){for(var i=[],o=0;o<r.length;o++){var s=r[o],a=n(s);u(s)||(a=a.map(function(t){return ct(t)})),i.push(a)}return ue(t,e,i)}function ie(t,e,r){return t&&t.mergeDeep&&u(e)?t.mergeDeep(e):lt(t,e)?t:e}function oe(t){return function(e,r,n){if(e&&e.mergeDeepWith&&u(r))return e.mergeDeepWith(t,r);var i=t(e,r,n);return lt(e,i)?e:i}}function ue(t,e,r){return 0===(r=r.filter(function(t){return 0!==t.size})).length?t:0!==t.size||t.__ownerID||1!==r.length?t.withMutations(function(t){for(var n=e?function(r,n){t.update(n,m,function(t){return t===m?r:e(t,r,n)})}:function(e,r){t.set(r,e)},i=0;i<r.length;i++)r[i].forEach(n)}):t.constructor(r[0])}function se(t){return t=(t=(858993459&(t-=t>>1&1431655765))+(t>>2&858993459))+(t>>4)&252645135,t+=t>>8,127&(t+=t>>16)}function ae(t,e,r,n){var i=n?t:b(t);return i[e]=r,i}Jt[Ct]=!0,Jt.delete=Jt.remove,Jt.removeIn=Jt.deleteIn,Nt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(lt(r,i[o][0]))return i[o][1];return n},Nt.prototype.update=function(t,e,r,n,i,o,u){for(var s=i===m,a=this.entries,h=0,f=a.length;h<f&&!lt(n,a[h][0]);h++);var c=h<f;if(c?a[h][1]===i:s)return this;if(z(u),(s||!c)&&z(o),!s||1!==a.length){if(!c&&!s&&a.length>=he)return function(t,e,r,n){t||(t=new I);for(var i=new Yt(t,qt(r),[r,n]),o=0;o<e.length;o++){var u=e[o];i=i.update(t,0,void 0,u[0],u[1])}return i}(t,a,n,i);var _=t&&t===this.ownerID,p=_?a:b(a);return c?s?h===f-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),_?(this.entries=p,this):new Nt(t,p)}},Pt.prototype.get=function(t,e,r,n){void 0===e&&(e=qt(r));var i=1<<((0===t?e:e>>>t)&d),o=this.bitmap;return 0==(o&i)?n:this.nodes[se(o&i-1)].get(t+v,e,r,n)},Pt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=(0===e?r:r>>>e)&d,a=1<<s,h=this.bitmap,f=0!=(h&a);if(!f&&i===m)return this;var c=se(h&a-1),_=this.nodes,p=f?_[c]:void 0,l=te(p,t,e+v,r,n,i,o,u);if(l===p)return this;if(!f&&l&&_.length>=fe)return function(t,e,r,n,i){for(var o=0,u=new Array(y),s=0;0!==r;s++,r>>>=1)u[s]=1&r?e[o++]:void 0;return u[n]=i,new Ht(t,o+1,u)}(t,_,h,s,l);if(f&&!l&&2===_.length&&ee(_[1^c]))return _[1^c];if(f&&l&&1===_.length&&ee(l))return l;var g=t&&t===this.ownerID,w=f?l?h:h^a:h|a,S=f?l?ae(_,c,l,g):function(t,e,r){var n=t.length-1;if(r&&e===n)return t.pop(),t;for(var i=new Array(n),o=0,u=0;u<n;u++)u===e&&(o=1),i[u]=t[u+o];return i}(_,c,g):function(t,e,r,n){var i=t.length+1;if(n&&e+1===i)return t[e]=r,t;for(var o=new Array(i),u=0,s=0;s<i;s++)s===e?(o[s]=r,u=-1):o[s]=t[s+u];return o}(_,c,l,g);return g?(this.bitmap=w,this.nodes=S,this):new Pt(t,w,S)},Ht.prototype.get=function(t,e,r,n){void 0===e&&(e=qt(r));var i=(0===t?e:e>>>t)&d,o=this.nodes[i];return o?o.get(t+v,e,r,n):n},Ht.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=(0===e?r:r>>>e)&d,a=i===m,h=this.nodes,f=h[s];if(a&&!f)return this;var c=te(f,t,e+v,r,n,i,o,u);if(c===f)return this;var _=this.count;if(f){if(!c&&--_<ce)return function(t,e,r,n){for(var i=0,o=0,u=new Array(r),s=0,a=1,h=e.length;s<h;s++,a<<=1){var f=e[s];void 0!==f&&s!==n&&(i|=a,u[o++]=f)}return new Pt(t,i,u)}(t,h,_,s)}else _++;var p=t&&t===this.ownerID,l=ae(h,s,c,p);return p?(this.count=_,this.nodes=l,this):new Ht(t,_,l)},Vt.prototype.get=function(t,e,r,n){for(var i=this.entries,o=0,u=i.length;o<u;o++)if(lt(r,i[o][0]))return i[o][1];return n},Vt.prototype.update=function(t,e,r,n,i,o,u){void 0===r&&(r=qt(n));var s=i===m;if(r!==this.keyHash)return s?this:(z(u),z(o),re(this,t,e,r,[n,i]));for(var a=this.entries,h=0,f=a.length;h<f&&!lt(n,a[h][0]);h++);var c=h<f;if(c?a[h][1]===i:s)return this;if(z(u),(s||!c)&&z(o),s&&2===f)return new Yt(t,this.keyHash,a[1^h]);var _=t&&t===this.ownerID,p=_?a:b(a);return c?s?h===f-1?p.pop():p[h]=p.pop():p[h]=[n,i]:p.push([n,i]),_?(this.entries=p,this):new Vt(t,this.keyHash,p)},Yt.prototype.get=function(t,e,r,n){return lt(r,this.entry[0])?this.entry[1]:n},Yt.prototype.update=function(t,e,r,n,i,o,u){var s=i===m,a=lt(n,this.entry[0]);return(a?i===this.entry[1]:s)?this:(z(u),s?void z(o):a?t&&t===this.ownerID?(this.entry[1]=i,this):new Yt(t,this.keyHash,[n,i]):(z(o),re(this,t,e,qt(n),[n,i])))},Nt.prototype.iterate=Vt.prototype.iterate=function(t,e){for(var r=this.entries,n=0,i=r.length-1;n<=i;n++)if(!1===t(r[e?i-n:n]))return!1},Pt.prototype.iterate=Ht.prototype.iterate=function(t,e){for(var r=this.nodes,n=0,i=r.length-1;n<=i;n++){var o=r[e?i-n:n];if(o&&!1===o.iterate(t,e))return!1}},Yt.prototype.iterate=function(t,e){return t(this.entry)},e(Ft,T),Ft.prototype.next=function(){for(var t=this._type,e=this._stack;e;){var r,n=e.node,i=e.index++;if(n.entry){if(0===i)return Qt(t,n.entry)}else if(n.entries){if(i<=(r=n.entries.length-1))return Qt(t,n.entries[this._reverse?r-i:i])}else if(i<=(r=n.nodes.length-1)){var o=n.nodes[this._reverse?r-i:i];if(o){if(o.entry)return Qt(t,o.entry);e=this._stack=Xt(o,e)}continue}e=this._stack=this._stack.__prev}return{value:void 0,done:!0}};var he=y/4,fe=y/2,ce=y/4;function _e(t){var e=ze();if(null==t)return e;if(pe(t))return t;var r=i(t),n=r.size;return 0===n?e:(Lt(n),n>0&&n<y?Se(0,n,v,null,new ye(r.toArray())):e.withMutations(function(t){t.setSize(n),r.forEach(function(e,r){return t.set(r,e)})}))}function pe(t){return!(!t||!t[le])}e(_e,St),_e.of=function(){return this(arguments)},_e.prototype.toString=function(){return this.__toString("List [","]")},_e.prototype.get=function(t,e){if((t=D(this,t))>=0&&t<this.size){var r=qe(this,t+=this._origin);return r&&r.array[t&d]}return e},_e.prototype.set=function(t,e){return function(t,e,r){if((e=D(t,e))!=e)return t;if(e>=t.size||e<0)return t.withMutations(function(t){e<0?De(t,e).set(0,r):De(t,0,e+1).set(e,r)});e+=t._origin;var n=t._tail,i=t._root,o=S(w);e>=Ee(t._capacity)?n=Ie(n,t.__ownerID,0,e,r,o):i=Ie(i,t.__ownerID,t._level,e,r,o);if(!o.value)return t;if(t.__ownerID)return t._root=i,t._tail=n,t.__hash=void 0,t.__altered=!0,t;return Se(t._origin,t._capacity,t._level,i,n)}(this,t,e)},_e.prototype.remove=function(t){return this.has(t)?0===t?this.shift():t===this.size-1?this.pop():this.splice(t,1):this},_e.prototype.insert=function(t,e){return this.splice(t,0,e)},_e.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=v,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this):ze()},_e.prototype.push=function(){var t=arguments,e=this.size;return this.withMutations(function(r){De(r,0,e+t.length);for(var n=0;n<t.length;n++)r.set(e+n,t[n])})},_e.prototype.pop=function(){return De(this,0,-1)},_e.prototype.unshift=function(){var t=arguments;return this.withMutations(function(e){De(e,-t.length);for(var r=0;r<t.length;r++)e.set(r,t[r])})},_e.prototype.shift=function(){return De(this,1)},_e.prototype.merge=function(){return Me(this,void 0,arguments)},_e.prototype.mergeWith=function(e){return Me(this,e,t.call(arguments,1))},_e.prototype.mergeDeep=function(){return Me(this,ie,arguments)},_e.prototype.mergeDeepWith=function(e){var r=t.call(arguments,1);return Me(this,oe(e),r)},_e.prototype.setSize=function(t){return De(this,0,t)},_e.prototype.slice=function(t,e){var r=this.size;return E(t,e,r)?this:De(this,O(t,r),x(e,r))},_e.prototype.__iterator=function(t,e){var r=0,n=we(this,e);return new T(function(){var e=n();return e===ge?{value:void 0,done:!0}:W(t,r++,e)})},_e.prototype.__iterate=function(t,e){for(var r,n=0,i=we(this,e);(r=i())!==ge&&!1!==t(r,n++,this););return n},_e.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Se(this._origin,this._capacity,this._level,this._root,this._tail,t,this.__hash):(this.__ownerID=t,this)},_e.isList=pe;var le="@@__IMMUTABLE_LIST__@@",ve=_e.prototype;function ye(t,e){this.array=t,this.ownerID=e}ve[le]=!0,ve.delete=ve.remove,ve.setIn=Jt.setIn,ve.deleteIn=ve.removeIn=Jt.removeIn,ve.update=Jt.update,ve.updateIn=Jt.updateIn,ve.mergeIn=Jt.mergeIn,ve.mergeDeepIn=Jt.mergeDeepIn,ve.withMutations=Jt.withMutations,ve.asMutable=Jt.asMutable,ve.asImmutable=Jt.asImmutable,ve.wasAltered=Jt.wasAltered,ye.prototype.removeBefore=function(t,e,r){if(r===e?1<<e:0===this.array.length)return this;var n=r>>>e&d;if(n>=this.array.length)return new ye([],t);var i,o=0===n;if(e>0){var u=this.array[n];if((i=u&&u.removeBefore(t,e-v,r))===u&&o)return this}if(o&&!i)return this;var s=be(this,t);if(!o)for(var a=0;a<n;a++)s.array[a]=void 0;return i&&(s.array[n]=i),s},ye.prototype.removeAfter=function(t,e,r){if(r===(e?1<<e:0)||0===this.array.length)return this;var n,i=r-1>>>e&d;if(i>=this.array.length)return this;if(e>0){var o=this.array[i];if((n=o&&o.removeAfter(t,e-v,r))===o&&i===this.array.length-1)return this}var u=be(this,t);return u.array.splice(i+1),n&&(u.array[i]=n),u};var de,me,ge={};function we(t,e){var r=t._origin,n=t._capacity,i=Ee(n),o=t._tail;return u(t._root,t._level,0);function u(t,s,a){return 0===s?function(t,u){var s=u===i?o&&o.array:t&&t.array,a=u>r?0:r-u,h=n-u;h>y&&(h=y);return function(){if(a===h)return ge;var t=e?--h:a++;return s&&s[t]}}(t,a):function(t,i,o){var s,a=t&&t.array,h=o>r?0:r-o>>i,f=1+(n-o>>i);f>y&&(f=y);return function(){for(;;){if(s){var t=s();if(t!==ge)return t;s=null}if(h===f)return ge;var r=e?--f:h++;s=u(a&&a[r],i-v,o+(r<<i))}}}(t,s,a)}}function Se(t,e,r,n,i,o,u){var s=Object.create(ve);return s.size=e-t,s._origin=t,s._capacity=e,s._level=r,s._root=n,s._tail=i,s.__ownerID=o,s.__hash=u,s.__altered=!1,s}function ze(){return de||(de=Se(0,0,v))}function Ie(t,e,r,n,i,o){var u,s=n>>>r&d,a=t&&s<t.array.length;if(!a&&void 0===i)return t;if(r>0){var h=t&&t.array[s],f=Ie(h,e,r-v,n,i,o);return f===h?t:((u=be(t,e)).array[s]=f,u)}return a&&t.array[s]===i?t:(z(o),u=be(t,e),void 0===i&&s===u.array.length-1?u.array.pop():u.array[s]=i,u)}function be(t,e){return e&&t&&e===t.ownerID?t:new ye(t?t.array.slice():[],e)}function qe(t,e){if(e>=Ee(t._capacity))return t._tail;if(e<1<<t._level+v){for(var r=t._root,n=t._level;r&&n>0;)r=r.array[e>>>n&d],n-=v;return r}}function De(t,e,r){void 0!==e&&(e|=0),void 0!==r&&(r|=0);var n=t.__ownerID||new I,i=t._origin,o=t._capacity,u=i+e,s=void 0===r?o:r<0?o+r:i+r;if(u===i&&s===o)return t;if(u>=s)return t.clear();for(var a=t._level,h=t._root,f=0;u+f<0;)h=new ye(h&&h.array.length?[void 0,h]:[],n),f+=1<<(a+=v);f&&(u+=f,i+=f,s+=f,o+=f);for(var c=Ee(o),_=Ee(s);_>=1<<a+v;)h=new ye(h&&h.array.length?[h]:[],n),a+=v;var p=t._tail,l=_<c?qe(t,s-1):_>c?new ye([],n):p;if(p&&_>c&&u<o&&p.array.length){for(var y=h=be(h,n),m=a;m>v;m-=v){var g=c>>>m&d;y=y.array[g]=be(y.array[g],n)}y.array[c>>>v&d]=p}if(s<o&&(l=l&&l.removeAfter(n,0,s)),u>=_)u-=_,s-=_,a=v,h=null,l=l&&l.removeBefore(n,0,u);else if(u>i||_<c){for(f=0;h;){var w=u>>>a&d;if(w!==_>>>a&d)break;w&&(f+=(1<<a)*w),a-=v,h=h.array[w]}h&&u>i&&(h=h.removeBefore(n,a,u-f)),h&&_<c&&(h=h.removeAfter(n,a,_-f)),f&&(u-=f,s-=f)}return t.__ownerID?(t.size=s-u,t._origin=u,t._capacity=s,t._level=a,t._root=h,t._tail=l,t.__hash=void 0,t.__altered=!0,t):Se(u,s,a,h,l)}function Me(t,e,r){for(var n=[],o=0,s=0;s<r.length;s++){var a=r[s],h=i(a);h.size>o&&(o=h.size),u(a)||(h=h.map(function(t){return ct(t)})),n.push(h)}return o>t.size&&(t=t.setSize(o)),ue(t,e,n)}function Ee(t){return t<y?0:t-1>>>v<<v}function Oe(t){return null==t?Ae():xe(t)?t:Ae().withMutations(function(e){var r=n(t);Lt(r.size),r.forEach(function(t,r){return e.set(r,t)})})}function xe(t){return Wt(t)&&f(t)}function ke(t,e,r,n){var i=Object.create(Oe.prototype);return i.size=t?t.size:0,i._map=t,i._list=e,i.__ownerID=r,i.__hash=n,i}function Ae(){return me||(me=ke(Zt(),ze()))}function je(t,e,r){var n,i,o=t._map,u=t._list,s=o.get(e),a=void 0!==s;if(r===m){if(!a)return t;u.size>=y&&u.size>=2*o.size?(n=(i=u.filter(function(t,e){return void 0!==t&&s!==e})).toKeyedSeq().map(function(t){return t[0]}).flip().toMap(),t.__ownerID&&(n.__ownerID=i.__ownerID=t.__ownerID)):(n=o.remove(e),i=s===u.size-1?u.pop():u.set(s,void 0))}else if(a){if(r===u.get(s)[1])return t;n=o,i=u.set(s,[e,r])}else n=o.set(e,u.size),i=u.set(u.size,[e,r]);return t.__ownerID?(t.size=n.size,t._map=n,t._list=i,t.__hash=void 0,t):ke(n,i)}function Ke(t,e){this._iter=t,this._useKeys=e,this.size=t.size}function Re(t){this._iter=t,this.size=t.size}function Ue(t){this._iter=t,this.size=t.size}function Le(t){this._iter=t,this.size=t.size}function Te(t){var e=$e(t);return e._iter=t,e.size=t.size,e.flip=function(){return t},e.reverse=function(){var e=t.reverse.apply(this);return e.flip=function(){return t.reverse()},e},e.has=function(e){return t.includes(e)},e.includes=function(e){return t.has(e)},e.cacheResult=tr,e.__iterateUncached=function(e,r){var n=this;return t.__iterate(function(t,r){return!1!==e(r,t,n)},r)},e.__iteratorUncached=function(e,r){if(e===K){var n=t.__iterator(e,r);return new T(function(){var t=n.next();if(!t.done){var e=t.value[0];t.value[0]=t.value[1],t.value[1]=e}return t})}return t.__iterator(e===j?A:j,r)},e}function We(t,e,r){var n=$e(t);return n.size=t.size,n.has=function(e){return t.has(e)},n.get=function(n,i){var o=t.get(n,m);return o===m?i:e.call(r,o,n,t)},n.__iterateUncached=function(n,i){var o=this;return t.__iterate(function(t,i,u){return!1!==n(e.call(r,t,i,u),i,o)},i)},n.__iteratorUncached=function(n,i){var o=t.__iterator(K,i);return new T(function(){var i=o.next();if(i.done)return i;var u=i.value,s=u[0];return W(n,s,e.call(r,u[1],s,t),i)})},n}function Be(t,e){var r=$e(t);return r._iter=t,r.size=t.size,r.reverse=function(){return t},t.flip&&(r.flip=function(){var e=Te(t);return e.reverse=function(){return t.flip()},e}),r.get=function(r,n){return t.get(e?r:-1-r,n)},r.has=function(r){return t.has(e?r:-1-r)},r.includes=function(e){return t.includes(e)},r.cacheResult=tr,r.__iterate=function(e,r){var n=this;return t.__iterate(function(t,r){return e(t,r,n)},!r)},r.__iterator=function(e,r){return t.__iterator(e,!r)},r}function Ce(t,e,r,n){var i=$e(t);return n&&(i.has=function(n){var i=t.get(n,m);return i!==m&&!!e.call(r,i,n,t)},i.get=function(n,i){var o=t.get(n,m);return o!==m&&e.call(r,o,n,t)?o:i}),i.__iterateUncached=function(i,o){var u=this,s=0;return t.__iterate(function(t,o,a){if(e.call(r,t,o,a))return s++,i(t,n?o:s-1,u)},o),s},i.__iteratorUncached=function(i,o){var u=t.__iterator(K,o),s=0;return new T(function(){for(;;){var o=u.next();if(o.done)return o;var a=o.value,h=a[0],f=a[1];if(e.call(r,f,h,t))return W(i,n?h:s++,f,o)}})},i}function Je(t,e,r,n){var i=t.size;if(void 0!==e&&(e|=0),void 0!==r&&(r|=0),E(e,r,i))return t;var o=O(e,i),u=x(r,i);if(o!=o||u!=u)return Je(t.toSeq().cacheResult(),e,r,n);var s,a=u-o;a==a&&(s=a<0?0:a);var h=$e(t);return h.size=0===s?s:t.size&&s||void 0,!n&&it(t)&&s>=0&&(h.get=function(e,r){return(e=D(this,e))>=0&&e<s?t.get(e+o,r):r}),h.__iterateUncached=function(e,r){var i=this;if(0===s)return 0;if(r)return this.cacheResult().__iterate(e,r);var u=0,a=!0,h=0;return t.__iterate(function(t,r){if(!a||!(a=u++<o))return h++,!1!==e(t,n?r:h-1,i)&&h!==s}),h},h.__iteratorUncached=function(e,r){if(0!==s&&r)return this.cacheResult().__iterator(e,r);var i=0!==s&&t.__iterator(e,r),u=0,a=0;return new T(function(){for(;u++<o;)i.next();if(++a>s)return{value:void 0,done:!0};var t=i.next();return n||e===j?t:W(e,a-1,e===A?void 0:t.value[1],t)})},h}function Ne(t,e,r,n){var i=$e(t);return i.__iterateUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterate(i,o);var s=!0,a=0;return t.__iterate(function(t,o,h){if(!s||!(s=e.call(r,t,o,h)))return a++,i(t,n?o:a-1,u)}),a},i.__iteratorUncached=function(i,o){var u=this;if(o)return this.cacheResult().__iterator(i,o);var s=t.__iterator(K,o),a=!0,h=0;return new T(function(){var t,o,f;do{if((t=s.next()).done)return n||i===j?t:W(i,h++,i===A?void 0:t.value[1],t);var c=t.value;o=c[0],f=c[1],a&&(a=e.call(r,f,o,u))}while(a);return i===K?t:W(i,o,f,t)})},i}function Pe(t,e,r){var n=$e(t);return n.__iterateUncached=function(n,i){var o=0,s=!1;return function t(a,h){var f=this;a.__iterate(function(i,a){return(!e||h<e)&&u(i)?t(i,h+1):!1===n(i,r?a:o++,f)&&(s=!0),!s},i)}(t,0),o},n.__iteratorUncached=function(n,i){var o=t.__iterator(n,i),s=[],a=0;return new T(function(){for(;o;){var t=o.next();if(!1===t.done){var h=t.value;if(n===K&&(h=h[1]),e&&!(s.length<e)||!u(h))return r?t:W(n,a++,h,t);s.push(o),o=h.__iterator(n,i)}else o=s.pop()}return{value:void 0,done:!0}})},n}function He(t,e,r){e||(e=er);var n=s(t),i=0,o=t.toSeq().map(function(e,n){return[n,e,i++,r?r(e,n,t):e]}).toArray();return o.sort(function(t,r){return e(t[3],r[3])||t[2]-r[2]}).forEach(n?function(t,e){o[e].length=2}:function(t,e){o[e]=t[1]}),n?Y(o):a(t)?F(o):Q(o)}function Ve(t,e,r){if(e||(e=er),r){var n=t.toSeq().map(function(e,n){return[e,r(e,n,t)]}).reduce(function(t,r){return Ye(e,t[1],r[1])?r:t});return n&&n[0]}return t.reduce(function(t,r){return Ye(e,t,r)?r:t})}function Ye(t,e,r){var n=t(r,e);return 0===n&&r!==e&&(null==r||r!=r)||n>0}function Fe(t,e,n){var i=$e(t);return i.size=new tt(n).map(function(t){return t.size}).min(),i.__iterate=function(t,e){for(var r,n=this.__iterator(j,e),i=0;!(r=n.next()).done&&!1!==t(r.value,i++,this););return i},i.__iteratorUncached=function(t,i){var o=n.map(function(t){return t=r(t),N(i?t.reverse():t)}),u=0,s=!1;return new T(function(){var r;return s||(r=o.map(function(t){return t.next()}),s=r.some(function(t){return t.done})),s?{value:void 0,done:!0}:W(t,u++,e.apply(null,r.map(function(t){return t.value})))})},i}function Qe(t,e){return it(t)?e:t.constructor(e)}function Xe(t){if(t!==Object(t))throw new TypeError("Expected [K, V] tuple: "+t)}function Ge(t){return Lt(t.size),q(t)}function Ze(t){return s(t)?n:a(t)?i:o}function $e(t){return Object.create((s(t)?Y:a(t)?F:Q).prototype)}function tr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):V.prototype.cacheResult.call(this)}function er(t,e){return t>e?1:t<e?-1:0}function rr(t){var e=N(t);if(!e){if(!H(t))throw new TypeError("Expected iterable or array-like: "+t);e=N(r(t))}return e}function nr(t,e){var r,n=function(o){if(o instanceof n)return o;if(!(this instanceof n))return new n(o);if(!r){r=!0;var u=Object.keys(t);!function(t,e){try{e.forEach(function(t,e){Object.defineProperty(t,e,{get:function(){return this.get(e)},set:function(t){dt(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})}.bind(void 0,t))}catch(r){}}(i,u),i.size=u.length,i._name=e,i._keys=u,i._defaultValues=t}this._map=Tt(o)},i=n.prototype=Object.create(ir);return i.constructor=n,n}e(Oe,Tt),Oe.of=function(){return this(arguments)},Oe.prototype.toString=function(){return this.__toString("OrderedMap {","}")},Oe.prototype.get=function(t,e){var r=this._map.get(t);return void 0!==r?this._list.get(r)[1]:e},Oe.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this):Ae()},Oe.prototype.set=function(t,e){return je(this,t,e)},Oe.prototype.remove=function(t){return je(this,t,m)},Oe.prototype.wasAltered=function(){return this._map.wasAltered()||this._list.wasAltered()},Oe.prototype.__iterate=function(t,e){var r=this;return this._list.__iterate(function(e){return e&&t(e[1],e[0],r)},e)},Oe.prototype.__iterator=function(t,e){return this._list.fromEntrySeq().__iterator(t,e)},Oe.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t),r=this._list.__ensureOwner(t);return t?ke(e,r,t,this.__hash):(this.__ownerID=t,this._map=e,this._list=r,this)},Oe.isOrderedMap=xe,Oe.prototype[l]=!0,Oe.prototype.delete=Oe.prototype.remove,e(Ke,Y),Ke.prototype.get=function(t,e){return this._iter.get(t,e)},Ke.prototype.has=function(t){return this._iter.has(t)},Ke.prototype.valueSeq=function(){return this._iter.valueSeq()},Ke.prototype.reverse=function(){var t=this,e=Be(this,!0);return this._useKeys||(e.valueSeq=function(){return t._iter.toSeq().reverse()}),e},Ke.prototype.map=function(t,e){var r=this,n=We(this,t,e);return this._useKeys||(n.valueSeq=function(){return r._iter.toSeq().map(t,e)}),n},Ke.prototype.__iterate=function(t,e){var r,n=this;return this._iter.__iterate(this._useKeys?function(e,r){return t(e,r,n)}:(r=e?Ge(this):0,function(i){return t(i,e?--r:r++,n)}),e)},Ke.prototype.__iterator=function(t,e){if(this._useKeys)return this._iter.__iterator(t,e);var r=this._iter.__iterator(j,e),n=e?Ge(this):0;return new T(function(){var i=r.next();return i.done?i:W(t,e?--n:n++,i.value,i)})},Ke.prototype[l]=!0,e(Re,F),Re.prototype.includes=function(t){return this._iter.includes(t)},Re.prototype.__iterate=function(t,e){var r=this,n=0;return this._iter.__iterate(function(e){return t(e,n++,r)},e)},Re.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e),n=0;return new T(function(){var e=r.next();return e.done?e:W(t,n++,e.value,e)})},e(Ue,Q),Ue.prototype.has=function(t){return this._iter.includes(t)},Ue.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){return t(e,e,r)},e)},Ue.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e);return new T(function(){var e=r.next();return e.done?e:W(t,e.value,e.value,e)})},e(Le,Y),Le.prototype.entrySeq=function(){return this._iter.toSeq()},Le.prototype.__iterate=function(t,e){var r=this;return this._iter.__iterate(function(e){if(e){Xe(e);var n=u(e);return t(n?e.get(1):e[1],n?e.get(0):e[0],r)}},e)},Le.prototype.__iterator=function(t,e){var r=this._iter.__iterator(j,e);return new T(function(){for(;;){var e=r.next();if(e.done)return e;var n=e.value;if(n){Xe(n);var i=u(n);return W(t,i?n.get(0):n[0],i?n.get(1):n[1],e)}}})},Re.prototype.cacheResult=Ke.prototype.cacheResult=Ue.prototype.cacheResult=Le.prototype.cacheResult=tr,e(nr,wt),nr.prototype.toString=function(){return this.__toString(ur(this)+" {","}")},nr.prototype.has=function(t){return this._defaultValues.hasOwnProperty(t)},nr.prototype.get=function(t,e){if(!this.has(t))return e;var r=this._defaultValues[t];return this._map?this._map.get(t,r):r},nr.prototype.clear=function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var t=this.constructor;return t._empty||(t._empty=or(this,Zt()))},nr.prototype.set=function(t,e){if(!this.has(t))throw new Error('Cannot set unknown key "'+t+'" on '+ur(this));var r=this._map&&this._map.set(t,e);return this.__ownerID||r===this._map?this:or(this,r)},nr.prototype.remove=function(t){if(!this.has(t))return this;var e=this._map&&this._map.remove(t);return this.__ownerID||e===this._map?this:or(this,e)},nr.prototype.wasAltered=function(){return this._map.wasAltered()},nr.prototype.__iterator=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterator(t,e)},nr.prototype.__iterate=function(t,e){var r=this;return n(this._defaultValues).map(function(t,e){return r.get(e)}).__iterate(t,e)},nr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map&&this._map.__ensureOwner(t);return t?or(this,e,t):(this.__ownerID=t,this._map=e,this)};var ir=nr.prototype;function or(t,e,r){var n=Object.create(Object.getPrototypeOf(t));return n._map=e,n.__ownerID=r,n}function ur(t){return t._name||t.constructor.name||"Record"}function sr(t){return null==t?lr():ar(t)&&!f(t)?t:lr().withMutations(function(e){var r=o(t);Lt(r.size),r.forEach(function(t){return e.add(t)})})}function ar(t){return!(!t||!t[fr])}ir.delete=ir.remove,ir.deleteIn=ir.removeIn=Jt.removeIn,ir.merge=Jt.merge,ir.mergeWith=Jt.mergeWith,ir.mergeIn=Jt.mergeIn,ir.mergeDeep=Jt.mergeDeep,ir.mergeDeepWith=Jt.mergeDeepWith,ir.mergeDeepIn=Jt.mergeDeepIn,ir.setIn=Jt.setIn,ir.update=Jt.update,ir.updateIn=Jt.updateIn,ir.withMutations=Jt.withMutations,ir.asMutable=Jt.asMutable,ir.asImmutable=Jt.asImmutable,e(sr,zt),sr.of=function(){return this(arguments)},sr.fromKeys=function(t){return this(n(t).keySeq())},sr.prototype.toString=function(){return this.__toString("Set {","}")},sr.prototype.has=function(t){return this._map.has(t)},sr.prototype.add=function(t){return _r(this,this._map.set(t,!0))},sr.prototype.remove=function(t){return _r(this,this._map.remove(t))},sr.prototype.clear=function(){return _r(this,this._map.clear())},sr.prototype.union=function(){var e=t.call(arguments,0);return 0===(e=e.filter(function(t){return 0!==t.size})).length?this:0!==this.size||this.__ownerID||1!==e.length?this.withMutations(function(t){for(var r=0;r<e.length;r++)o(e[r]).forEach(function(e){return t.add(e)})}):this.constructor(e[0])},sr.prototype.intersect=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.every(function(t){return t.includes(r)})||t.remove(r)})})},sr.prototype.subtract=function(){var e=t.call(arguments,0);if(0===e.length)return this;e=e.map(function(t){return o(t)});var r=this;return this.withMutations(function(t){r.forEach(function(r){e.some(function(t){return t.includes(r)})&&t.remove(r)})})},sr.prototype.merge=function(){return this.union.apply(this,arguments)},sr.prototype.mergeWith=function(e){var r=t.call(arguments,1);return this.union.apply(this,r)},sr.prototype.sort=function(t){return vr(He(this,t))},sr.prototype.sortBy=function(t,e){return vr(He(this,e,t))},sr.prototype.wasAltered=function(){return this._map.wasAltered()},sr.prototype.__iterate=function(t,e){var r=this;return this._map.__iterate(function(e,n){return t(n,n,r)},e)},sr.prototype.__iterator=function(t,e){return this._map.map(function(t,e){return e}).__iterator(t,e)},sr.prototype.__ensureOwner=function(t){if(t===this.__ownerID)return this;var e=this._map.__ensureOwner(t);return t?this.__make(e,t):(this.__ownerID=t,this._map=e,this)},sr.isSet=ar;var hr,fr="@@__IMMUTABLE_SET__@@",cr=sr.prototype;function _r(t,e){return t.__ownerID?(t.size=e.size,t._map=e,t):e===t._map?t:0===e.size?t.__empty():t.__make(e)}function pr(t,e){var r=Object.create(cr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function lr(){return hr||(hr=pr(Zt()))}function vr(t){return null==t?wr():yr(t)?t:wr().withMutations(function(e){var r=o(t);Lt(r.size),r.forEach(function(t){return e.add(t)})})}function yr(t){return ar(t)&&f(t)}cr[fr]=!0,cr.delete=cr.remove,cr.mergeDeep=cr.merge,cr.mergeDeepWith=cr.mergeWith,cr.withMutations=Jt.withMutations,cr.asMutable=Jt.asMutable,cr.asImmutable=Jt.asImmutable,cr.__empty=lr,cr.__make=pr,e(vr,sr),vr.of=function(){return this(arguments)},vr.fromKeys=function(t){return this(n(t).keySeq())},vr.prototype.toString=function(){return this.__toString("OrderedSet {","}")},vr.isOrderedSet=yr;var dr,mr=vr.prototype;function gr(t,e){var r=Object.create(mr);return r.size=t?t.size:0,r._map=t,r.__ownerID=e,r}function wr(){return dr||(dr=gr(Ae()))}function Sr(t){return null==t?Mr():zr(t)?t:Mr().unshiftAll(t)}function zr(t){return!(!t||!t[br])}mr[l]=!0,mr.__empty=wr,mr.__make=gr,e(Sr,St),Sr.of=function(){return this(arguments)},Sr.prototype.toString=function(){return this.__toString("Stack [","]")},Sr.prototype.get=function(t,e){var r=this._head;for(t=D(this,t);r&&t--;)r=r.next;return r?r.value:e},Sr.prototype.peek=function(){return this._head&&this._head.value},Sr.prototype.push=function(){if(0===arguments.length)return this;for(var t=this.size+arguments.length,e=this._head,r=arguments.length-1;r>=0;r--)e={value:arguments[r],next:e};return this.__ownerID?(this.size=t,this._head=e,this.__hash=void 0,this.__altered=!0,this):Dr(t,e)},Sr.prototype.pushAll=function(t){if(0===(t=i(t)).size)return this;Lt(t.size);var e=this.size,r=this._head;return t.reverse().forEach(function(t){e++,r={value:t,next:r}}),this.__ownerID?(this.size=e,this._head=r,this.__hash=void 0,this.__altered=!0,this):Dr(e,r)},Sr.prototype.pop=function(){return this.slice(1)},Sr.prototype.unshift=function(){return this.push.apply(this,arguments)},Sr.prototype.unshiftAll=function(t){return this.pushAll(t)},Sr.prototype.shift=function(){return this.pop.apply(this,arguments)},Sr.prototype.clear=function(){return 0===this.size?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):Mr()},Sr.prototype.slice=function(t,e){if(E(t,e,this.size))return this;var r=O(t,this.size);if(x(e,this.size)!==this.size)return St.prototype.slice.call(this,t,e);for(var n=this.size-r,i=this._head;r--;)i=i.next;return this.__ownerID?(this.size=n,this._head=i,this.__hash=void 0,this.__altered=!0,this):Dr(n,i)},Sr.prototype.__ensureOwner=function(t){return t===this.__ownerID?this:t?Dr(this.size,this._head,t,this.__hash):(this.__ownerID=t,this.__altered=!1,this)},Sr.prototype.__iterate=function(t,e){if(e)return this.reverse().__iterate(t);for(var r=0,n=this._head;n&&!1!==t(n.value,r++,this);)n=n.next;return r},Sr.prototype.__iterator=function(t,e){if(e)return this.reverse().__iterator(t);var r=0,n=this._head;return new T(function(){if(n){var e=n.value;return n=n.next,W(t,r++,e)}return{value:void 0,done:!0}})},Sr.isStack=zr;var Ir,br="@@__IMMUTABLE_STACK__@@",qr=Sr.prototype;function Dr(t,e,r,n){var i=Object.create(qr);return i.size=t,i._head=e,i.__ownerID=r,i.__hash=n,i.__altered=!1,i}function Mr(){return Ir||(Ir=Dr(0))}function Er(t,e){var r=function(r){t.prototype[r]=e[r]};return Object.keys(e).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(e).forEach(r),t}qr[br]=!0,qr.withMutations=Jt.withMutations,qr.asMutable=Jt.asMutable,qr.asImmutable=Jt.asImmutable,qr.wasAltered=Jt.wasAltered,r.Iterator=T,Er(r,{toArray:function(){Lt(this.size);var t=new Array(this.size||0);return this.valueSeq().__iterate(function(e,r){t[r]=e}),t},toIndexedSeq:function(){return new Re(this)},toJS:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJS?t.toJS():t}).__toJS()},toJSON:function(){return this.toSeq().map(function(t){return t&&"function"==typeof t.toJSON?t.toJSON():t}).__toJS()},toKeyedSeq:function(){return new Ke(this,!0)},toMap:function(){return Tt(this.toKeyedSeq())},toObject:function(){Lt(this.size);var t={};return this.__iterate(function(e,r){t[r]=e}),t},toOrderedMap:function(){return Oe(this.toKeyedSeq())},toOrderedSet:function(){return vr(s(this)?this.valueSeq():this)},toSet:function(){return sr(s(this)?this.valueSeq():this)},toSetSeq:function(){return new Ue(this)},toSeq:function(){return a(this)?this.toIndexedSeq():s(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return Sr(s(this)?this.valueSeq():this)},toList:function(){return _e(s(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(t,e){return 0===this.size?t+e:t+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+e},concat:function(){return Qe(this,function(t,e){var r=s(t),i=[t].concat(e).map(function(t){return u(t)?r&&(t=n(t)):t=r?ut(t):st(Array.isArray(t)?t:[t]),t}).filter(function(t){return 0!==t.size});if(0===i.length)return t;if(1===i.length){var o=i[0];if(o===t||r&&s(o)||a(t)&&a(o))return o}var h=new tt(i);return r?h=h.toKeyedSeq():a(t)||(h=h.toSetSeq()),(h=h.flatten(!0)).size=i.reduce(function(t,e){if(void 0!==t){var r=e.size;if(void 0!==r)return t+r}},0),h}(this,t.call(arguments,0)))},includes:function(t){return this.some(function(e){return lt(e,t)})},entries:function(){return this.__iterator(K)},every:function(t,e){Lt(this.size);var r=!0;return this.__iterate(function(n,i,o){if(!t.call(e,n,i,o))return r=!1,!1}),r},filter:function(t,e){return Qe(this,Ce(this,t,e,!0))},find:function(t,e,r){var n=this.findEntry(t,e);return n?n[1]:r},findEntry:function(t,e){var r;return this.__iterate(function(n,i,o){if(t.call(e,n,i,o))return r=[i,n],!1}),r},findLastEntry:function(t,e){return this.toSeq().reverse().findEntry(t,e)},forEach:function(t,e){return Lt(this.size),this.__iterate(e?t.bind(e):t)},join:function(t){Lt(this.size),t=void 0!==t?""+t:",";var e="",r=!0;return this.__iterate(function(n){r?r=!1:e+=t,e+=null!=n?n.toString():""}),e},keys:function(){return this.__iterator(A)},map:function(t,e){return Qe(this,We(this,t,e))},reduce:function(t,e,r){var n,i;return Lt(this.size),arguments.length<2?i=!0:n=e,this.__iterate(function(e,o,u){i?(i=!1,n=e):n=t.call(r,n,e,o,u)}),n},reduceRight:function(t,e,r){var n=this.toKeyedSeq().reverse();return n.reduce.apply(n,arguments)},reverse:function(){return Qe(this,Be(this,!0))},slice:function(t,e){return Qe(this,Je(this,t,e,!0))},some:function(t,e){return!this.every(jr(t),e)},sort:function(t){return Qe(this,He(this,t))},values:function(){return this.__iterator(j)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return void 0!==this.size?0===this.size:!this.some(function(){return!0})},count:function(t,e){return q(t?this.toSeq().filter(t,e):this)},countBy:function(t,e){return function(t,e,r){var n=Tt().asMutable();return t.__iterate(function(i,o){n.update(e.call(r,i,o,t),0,function(t){return t+1})}),n.asImmutable()}(this,t,e)},equals:function(t){return vt(this,t)},entrySeq:function(){var t=this;if(t._cache)return new tt(t._cache);var e=t.toSeq().map(Ar).toIndexedSeq();return e.fromEntrySeq=function(){return t.toSeq()},e},filterNot:function(t,e){return this.filter(jr(t),e)},findLast:function(t,e,r){return this.toKeyedSeq().reverse().find(t,e,r)},first:function(){return this.find(M)},flatMap:function(t,e){return Qe(this,function(t,e,r){var n=Ze(t);return t.toSeq().map(function(i,o){return n(e.call(r,i,o,t))}).flatten(!0)}(this,t,e))},flatten:function(t){return Qe(this,Pe(this,t,!0))},fromEntrySeq:function(){return new Le(this)},get:function(t,e){return this.find(function(e,r){return lt(r,t)},void 0,e)},getIn:function(t,e){for(var r,n=this,i=rr(t);!(r=i.next()).done;){var o=r.value;if((n=n&&n.get?n.get(o,m):m)===m)return e}return n},groupBy:function(t,e){return function(t,e,r){var n=s(t),i=(f(t)?Oe():Tt()).asMutable();t.__iterate(function(o,u){i.update(e.call(r,o,u,t),function(t){return(t=t||[]).push(n?[u,o]:o),t})});var o=Ze(t);return i.map(function(e){return Qe(t,o(e))})}(this,t,e)},has:function(t){return this.get(t,m)!==m},hasIn:function(t){return this.getIn(t,m)!==m},isSubset:function(t){return t="function"==typeof t.includes?t:r(t),this.every(function(e){return t.includes(e)})},isSuperset:function(t){return(t="function"==typeof t.isSubset?t:r(t)).isSubset(this)},keySeq:function(){return this.toSeq().map(kr).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(t){return Ve(this,t)},maxBy:function(t,e){return Ve(this,e,t)},min:function(t){return Ve(this,t?Kr(t):Lr)},minBy:function(t,e){return Ve(this,e?Kr(e):Lr,t)},rest:function(){return this.slice(1)},skip:function(t){return this.slice(Math.max(0,t))},skipLast:function(t){return Qe(this,this.toSeq().reverse().skip(t).reverse())},skipWhile:function(t,e){return Qe(this,Ne(this,t,e,!0))},skipUntil:function(t,e){return this.skipWhile(jr(t),e)},sortBy:function(t,e){return Qe(this,He(this,e,t))},take:function(t){return this.slice(0,Math.max(0,t))},takeLast:function(t){return Qe(this,this.toSeq().reverse().take(t).reverse())},takeWhile:function(t,e){return Qe(this,function(t,e,r){var n=$e(t);return n.__iterateUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterate(n,i);var u=0;return t.__iterate(function(t,i,s){return e.call(r,t,i,s)&&++u&&n(t,i,o)}),u},n.__iteratorUncached=function(n,i){var o=this;if(i)return this.cacheResult().__iterator(n,i);var u=t.__iterator(K,i),s=!0;return new T(function(){if(!s)return{value:void 0,done:!0};var t=u.next();if(t.done)return t;var i=t.value,a=i[0],h=i[1];return e.call(r,h,a,o)?n===K?t:W(n,a,h,t):(s=!1,{value:void 0,done:!0})})},n}(this,t,e))},takeUntil:function(t,e){return this.takeWhile(jr(t),e)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=function(t){if(t.size===1/0)return 0;var e=f(t),r=s(t),n=e?1:0;return function(t,e){return e=It(e,3432918353),e=It(e<<15|e>>>-15,461845907),e=It(e<<13|e>>>-13,5),e=It((e=(e+3864292196|0)^t)^e>>>16,2246822507),e=bt((e=It(e^e>>>13,3266489909))^e>>>16)}(t.__iterate(r?e?function(t,e){n=31*n+Tr(qt(t),qt(e))|0}:function(t,e){n=n+Tr(qt(t),qt(e))|0}:e?function(t){n=31*n+qt(t)|0}:function(t){n=n+qt(t)|0}),n)}(this))}});var Or=r.prototype;Or[c]=!0,Or[L]=Or.values,Or.__toJS=Or.toArray,Or.__toStringMapper=Rr,Or.inspect=Or.toSource=function(){return this.toString()},Or.chain=Or.flatMap,Or.contains=Or.includes,function(){try{Object.defineProperty(Or,"length",{get:function(){if(!r.noLengthWarning){var t;try{throw new Error}catch(e){t=e.stack}if(-1===t.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+t),this.size}}})}catch(t){}}(),Er(n,{flip:function(){return Qe(this,Te(this))},findKey:function(t,e){var r=this.findEntry(t,e);return r&&r[0]},findLastKey:function(t,e){return this.toSeq().reverse().findKey(t,e)},keyOf:function(t){return this.findKey(function(e){return lt(e,t)})},lastKeyOf:function(t){return this.findLastKey(function(e){return lt(e,t)})},mapEntries:function(t,e){var r=this,n=0;return Qe(this,this.toSeq().map(function(i,o){return t.call(e,[o,i],n++,r)}).fromEntrySeq())},mapKeys:function(t,e){var r=this;return Qe(this,this.toSeq().flip().map(function(n,i){return t.call(e,n,i,r)}).flip())}});var xr=n.prototype;function kr(t,e){return e}function Ar(t,e){return[e,t]}function jr(t){return function(){return!t.apply(this,arguments)}}function Kr(t){return function(){return-t.apply(this,arguments)}}function Rr(t){return"string"==typeof t?JSON.stringify(t):t}function Ur(){return b(arguments)}function Lr(t,e){return t<e?1:t>e?-1:0}function Tr(t,e){return t^e+2654435769+(t<<6)+(t>>2)|0}return xr[_]=!0,xr[L]=Or.entries,xr.__toJS=Or.toObject,xr.__toStringMapper=function(t,e){return JSON.stringify(e)+": "+Rr(t)},Er(i,{toKeyedSeq:function(){return new Ke(this,!1)},filter:function(t,e){return Qe(this,Ce(this,t,e,!1))},findIndex:function(t,e){var r=this.findEntry(t,e);return r?r[0]:-1},indexOf:function(t){var e=this.toKeyedSeq().keyOf(t);return void 0===e?-1:e},lastIndexOf:function(t){var e=this.toKeyedSeq().reverse().keyOf(t);return void 0===e?-1:e},reverse:function(){return Qe(this,Be(this,!1))},slice:function(t,e){return Qe(this,Je(this,t,e,!1))},splice:function(t,e){var r=arguments.length;if(e=Math.max(0|e,0),0===r||2===r&&!e)return this;t=O(t,t<0?this.count():this.size);var n=this.slice(0,t);return Qe(this,1===r?n:n.concat(b(arguments,2),this.slice(t+e)))},findLastIndex:function(t,e){var r=this.toKeyedSeq().findLastKey(t,e);return void 0===r?-1:r},first:function(){return this.get(0)},flatten:function(t){return Qe(this,Pe(this,t,!1))},get:function(t,e){return(t=D(this,t))<0||this.size===1/0||void 0!==this.size&&t>this.size?e:this.find(function(e,r){return r===t},void 0,e)},has:function(t){return(t=D(this,t))>=0&&(void 0!==this.size?this.size===1/0||t<this.size:-1!==this.indexOf(t))},interpose:function(t){return Qe(this,function(t,e){var r=$e(t);return r.size=t.size&&2*t.size-1,r.__iterateUncached=function(r,n){var i=this,o=0;return t.__iterate(function(t,n){return(!o||!1!==r(e,o++,i))&&!1!==r(t,o++,i)},n),o},r.__iteratorUncached=function(r,n){var i,o=t.__iterator(j,n),u=0;return new T(function(){return(!i||u%2)&&(i=o.next()).done?i:u%2?W(r,u++,e):W(r,u++,i.value,i)})},r}(this,t))},interleave:function(){var t=[this].concat(b(arguments)),e=Fe(this.toSeq(),F.of,t),r=e.flatten(!0);return e.size&&(r.size=e.size*t.length),Qe(this,r)},last:function(){return this.get(-1)},skipWhile:function(t,e){return Qe(this,Ne(this,t,e,!1))},zip:function(){return Qe(this,Fe(this,Ur,[this].concat(b(arguments))))},zipWith:function(t){var e=b(arguments);return e[0]=this,Qe(this,Fe(this,t,e))}}),i.prototype[p]=!0,i.prototype[l]=!0,Er(o,{get:function(t,e){return this.has(t)?t:e},includes:function(t){return this.has(t)},keySeq:function(){return this.valueSeq()}}),o.prototype.has=Or.includes,Er(Y,n.prototype),Er(F,i.prototype),Er(Q,o.prototype),Er(wt,n.prototype),Er(St,i.prototype),Er(zt,o.prototype),{Iterable:r,Seq:V,Collection:gt,Map:Tt,OrderedMap:Oe,List:_e,Stack:Sr,Set:sr,OrderedSet:vr,Record:nr,Range:mt,Repeat:yt,is:lt,fromJS:ct}},"object"==typeof e&&void 0!==t?t.exports=i():"function"==typeof define&&define.amd?define(i):n.Immutable=i(),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockMapBuilder
 * @format
 * 
 */
"use strict";var n=r(785).OrderedMap,o={createFromArray:function(t){return n(t.map(function(t){return[t.getKey(),t]}))}};t.exports=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CharacterMetadata
 * @format
 * 
 */
"use strict";var r=n(785),o=r.Map,i=r.OrderedSet,u=r.Record,c=i(),s={style:c,entity:null},a=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getStyle=function(){return this.get("style")},e.prototype.getEntity=function(){return this.get("entity")},e.prototype.hasStyle=function(t){return this.getStyle().includes(t)},e.applyStyle=function(t,n){var r=t.set("style",t.getStyle().add(n));return e.create(r)},e.removeStyle=function(t,n){var r=t.set("style",t.getStyle().remove(n));return e.create(r)},e.applyEntity=function(t,n){var r=t.getEntity()===n?t:t.set("entity",n);return e.create(r)},e.create=function(t){if(!t)return l;var n=o({style:c,entity:null}).merge(t),r=y.get(n);if(r)return r;var i=new e(n);return y=y.set(n,i),i},e}(u(s)),l=new a,y=o([[o(s),l]]);a.EMPTY=l,t.exports=a,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findRangesImmutable
 * @format
 * 
 */
"use strict";t.exports=function(t,n,e,o){if(t.size){var r=0;t.reduce(function(t,s,u){return n(t,s)||(e(t)&&o(r,u),r=u),s}),e(t.last())&&o(r,t.count())}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlock
 * @format
 * 
 */
"use strict";var r=n(787),o=n(785),i=n(788),a=o.List,c=o.Map,u=o.OrderedSet,p=o.Record,s=o.Repeat,f=u(),y=p({key:"",type:"unstyled",text:"",characterList:a(),depth:0,data:c()}),h=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=a(s(r.EMPTY,n.length))),t},g=function(t){function e(n){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h(n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():f},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.findStyleRanges=function(t,e){i(this.getCharacterList(),l,t,e)},e.prototype.findEntityRanges=function(t,e){i(this.getCharacterList(),d,t,e)},e}(y);function l(t,e){return t.getStyle()===e.getStyle()}function d(t,e){return t.getEntity()===e.getEntity()}t.exports=g,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentBlockNode
 * @format
 * 
 *
 * This file is a fork of ContentBlock adding support for nesting references by
 * providing links to children, parent, prevSibling, and nextSibling.
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */
"use strict";var r=n(787),i=n(785),o=n(788),u=i.List,a=i.Map,c=i.OrderedSet,p=i.Record,s=i.Repeat,g=c(),f={parent:null,characterList:u(),data:a(),depth:0,key:"",text:"",type:"unstyled",children:u(),prevSibling:null,nextSibling:null},l=function(t,e){return t.getStyle()===e.getStyle()},y=function(t,e){return t.getEntity()===e.getEntity()},h=function(t){if(!t)return t;var e=t.characterList,n=t.text;return n&&!e&&(t.characterList=u(s(r.EMPTY,n.length))),t},d=function(t){function e(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,h(n)))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getKey=function(){return this.get("key")},e.prototype.getType=function(){return this.get("type")},e.prototype.getText=function(){return this.get("text")},e.prototype.getCharacterList=function(){return this.get("characterList")},e.prototype.getLength=function(){return this.getText().length},e.prototype.getDepth=function(){return this.get("depth")},e.prototype.getData=function(){return this.get("data")},e.prototype.getInlineStyleAt=function(t){var e=this.getCharacterList().get(t);return e?e.getStyle():g},e.prototype.getEntityAt=function(t){var e=this.getCharacterList().get(t);return e?e.getEntity():null},e.prototype.getChildKeys=function(){return this.get("children")},e.prototype.getParentKey=function(){return this.get("parent")},e.prototype.getPrevSiblingKey=function(){return this.get("prevSibling")},e.prototype.getNextSiblingKey=function(){return this.get("nextSibling")},e.prototype.findStyleRanges=function(t,e){o(this.getCharacterList(),l,t,e)},e.prototype.findEntityRanges=function(t,e){o(this.getCharacterList(),y,t,e)},e}(p(f));t.exports=d,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags-core
 * @format
 * 
 */
"use strict";t.exports={draft_killswitch_allow_nontextnodes:!1,draft_segmented_entities_behavior:!1,draft_handlebeforeinput_composed_text:!1,draft_tree_data_support:!1},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftFeatureFlags
 * @format
 * 
 */
"use strict";var o=r(791);t.exports=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentStateInlineStyle
 * @format
 * 
 */
"use strict";var n=r(787),a=r(785).Map,o={add:function(t,e,r){return c(t,e,r,!0)},remove:function(t,e,r){return c(t,e,r,!1)}};function c(t,e,r,o){var c=t.getBlockMap(),i=e.getStartKey(),u=e.getStartOffset(),f=e.getEndKey(),s=e.getEndOffset(),g=c.skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===f}).concat(a([[f,c.get(f)]])).map(function(t,e){var a,c;i===f?(a=u,c=s):(a=e===i?u:0,c=e===f?s:t.getLength());for(var g,l=t.getCharacterList();a<c;)g=l.get(a),l=l.set(a,o?n.applyStyle(g,r):n.removeStyle(g,r)),a++;return t.set("characterList",l)});return t.merge({blockMap:c.merge(g),selectionBefore:e,selectionAfter:e})}t.exports=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentBlock
 * @format
 * 
 */
"use strict";var a=r(787);t.exports=function(t,e,r,s){for(var n=t.getCharacterList();e<r;)n=n.set(e,a.applyEntity(n.get(e),s)),e++;return t.set("characterList",n)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule applyEntityToContentState
 * @format
 * 
 */
"use strict";var r=n(785),o=n(794);t.exports=function(t,e,n){var a=t.getBlockMap(),i=e.getStartKey(),c=e.getStartOffset(),f=e.getEndKey(),u=e.getEndOffset(),p=a.skipUntil(function(t,e){return e===i}).takeUntil(function(t,e){return e===f}).toOrderedMap().merge(r.OrderedMap([[f,a.get(f)]])).map(function(t,e){var r=e===i?c:0,a=e===f?u:t.getLength();return o(t,r,a,n)});return t.merge({blockMap:a.merge(p),selectionBefore:e,selectionAfter:e})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,n,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntitySegments
 * @format
 * 
 */
"use strict";e.exports={getRemovalRange:function(e,n,t,r,l){var u=t.split(" ");u=u.map(function(e,n){if("forward"===l){if(n>0)return" "+e}else if(n<u.length-1)return e+" ";return e});for(var f,o=r,a=null,i=null,s=0;s<u.length;s++){if(e<(f=o+u[s].length)&&o<n)null!==a?i=f:(a=o,i=f);else if(null!==a)break;o=f}var c=r+t.length,g=a===r,p=i===c;return(!g&&p||g&&!p)&&("forward"===l?i!==c&&i++:a!==r&&a--),{start:a,end:i}}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var o=function(e){};e.exports=function(e,n,r,i,t,a,f,s){if(o(n),!e){var u;if(void 0===n)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[r,i,t,a,f,s],d=0;(u=new Error(n.replace(/%s/g,function(){return c[d++]}))).name="Invariant Violation"}throw u.framesToPop=1,u}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangesForDraftEntity
 * @format
 * 
 */
"use strict";var i=e(797);t.exports=function(t,n){var e=[];return t.findEntityRanges(function(t){return t.getEntity()===n},function(t,n){e.push({start:t,end:n})}),e.length||i(!1),e},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getCharacterRemovalRange
 * @format
 * 
 */
"use strict";var f=r(796),s=r(798),a=r(797);function n(t,e,r,n,i,g,c){var o=r.getStartOffset(),u=r.getEndOffset(),O=t.__get(i).getMutability(),d=c?o:u;if("MUTABLE"===O)return r;var v=s(e,i).filter(function(t){return d<=t.end&&d>=t.start});1!=v.length&&a(!1);var l=v[0];if("IMMUTABLE"===O)return r.merge({anchorOffset:l.start,focusOffset:l.end,isBackward:!1});g||(c?u=l.end:o=l.start);var E=f.getRemovalRange(o,u,e.getText().slice(l.start,l.end),l.start,n);return r.merge({anchorOffset:E.start,focusOffset:E.end,isBackward:!1})}t.exports=function(t,e,r,f,s){var a=f.getStartOffset(),i=f.getEndOffset(),g=e.getEntityAt(a),c=r.getEntityAt(i-1);if(!g&&!c)return f;var o=f;if(g&&g===c)o=n(t,e,o,s,g,!0,!0);else if(g&&c){var u=n(t,e,o,s,g,!1,!0),O=n(t,r,o,s,c,!1,!1);o=o.merge({anchorOffset:u.getAnchorOffset(),focusOffset:O.getFocusOffset(),isBackward:!1})}else if(g){var d=n(t,e,o,s,g,!1,!0);o=o.merge({anchorOffset:d.getStartOffset(),isBackward:!1})}else if(c){var v=n(t,r,o,s,c,!1,!1);o=o.merge({focusOffset:v.getEndOffset(),isBackward:!1})}return o},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule generateRandomKey
 * @format
 * 
 */
"use strict";var n={},a=Math.pow(2,24);t.exports=function(){for(var t=void 0;void 0===t||n.hasOwnProperty(t)||!isNaN(+t);)t=Math.floor(Math.random()*a).toString(32);return n[t]=!0,t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule randomizeBlockMapKeys
 * @format
 * 
 */
"use strict";var i=n(790),r=n(785),g=n(800),o=r.OrderedMap;e.exports=function(e){return e.first()instanceof i?function(e){var t={},n=void 0;return o(e.withMutations(function(e){e.forEach(function(i,r){var o=i.getKey(),s=i.getNextSiblingKey(),l=i.getPrevSiblingKey(),u=i.getChildKeys(),a=i.getParentKey(),c=g();if(t[o]=c,s&&(e.get(s)?e.setIn([s,"prevSibling"],c):e.setIn([o,"nextSibling"],null)),l&&(e.get(l)?e.setIn([l,"nextSibling"],c):e.setIn([o,"prevSibling"],null)),a&&e.get(a)){var f=e.get(a).getChildKeys();e.setIn([a,"children"],f.set(f.indexOf(i.getKey()),c))}else e.setIn([o,"parent"],null),n&&(e.setIn([n.getKey(),"nextSibling"],c),e.setIn([o,"prevSibling"],t[n.getKey()])),n=e.get(o);u.forEach(function(t){e.get(t)?e.setIn([t,"parent"],c):e.setIn([o,"children"],i.getChildKeys().filter(function(e){return e!==t}))})})}).toArray().map(function(e){return[t[e.getKey()],e.set("key",t[e.getKey()])]}))}(e):function(e){return o(e.toArray().map(function(e){var t=g();return[t,e.set("key",t)]}))}(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeEntitiesAtEdges
 * @format
 * 
 */
"use strict";var r=n(787),i=n(788),a=n(797);function o(t,e,n){var o=e.getCharacterList(),g=n>0?o.get(n-1):void 0,c=n<o.count()?o.get(n):void 0,s=g?g.getEntity():void 0,f=c?c.getEntity():void 0;if(f&&f===s&&"MUTABLE"!==t.__get(f).getMutability()){for(var u,y=function(t,e,n){var r;return i(t,function(t,e){return t.getEntity()===e.getEntity()},function(t){return t.getEntity()===e},function(t,e){t<=n&&e>=n&&(r={start:t,end:e})}),"object"!=typeof r&&a(!1),r}(o,f,n),l=y.start,v=y.end;l<v;)u=o.get(l),o=o.set(l,r.applyEntity(u,null)),l++;return e.set("characterList",o)}return e}t.exports=function(t,e){var n=t.getBlockMap(),r=t.getEntityMap(),i={},a=e.getStartKey(),g=e.getStartOffset(),c=n.get(a),s=o(r,c,g);s!==c&&(i[a]=s);var f=e.getEndKey(),u=e.getEndOffset(),y=n.get(f);a===f&&(y=s);var l=o(r,y,u);return l!==y&&(i[f]=l),Object.keys(i).length?t.merge({blockMap:n.merge(i),selectionAfter:e}):t.set("selectionAfter",e)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getContentStateFragment
 * @format
 * 
 */
"use strict";var s=r(801),c=r(802);e.exports=function(e,t){var r=t.getStartKey(),i=t.getStartOffset(),a=t.getEndKey(),n=t.getEndOffset(),o=c(e,t).getBlockMap(),f=o.keySeq(),g=f.indexOf(r),l=f.indexOf(a)+1;return s(o.slice(g,l).map(function(e,t){var s=e.getText(),c=e.getCharacterList();return r===a?e.merge({text:s.slice(i,n),characterList:c.slice(i,n)}):t===r?e.merge({text:s.slice(i),characterList:c.slice(i)}):t===a?e.merge({text:s.slice(0,n),characterList:c.slice(0,n)}):e}))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertIntoList
 * @format
 * 
 */
"use strict";t.exports=function(t,e,n){if(n===t.count())e.forEach(function(e){t=t.push(e)});else if(0===n)e.reverse().forEach(function(e){t=t.unshift(e)});else{var o=t.slice(0,n),s=t.slice(n);t=o.concat(e,s).toList()}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertFragmentIntoContentState
 * @format
 * 
 */
"use strict";var i=r(786),n=r(790),a=r(785),s=r(804),c=r(797),g=r(801),o=a.List,f=function(e,t,r,a,s,c){var g=r.first()instanceof n,f=[],l=a.size,u=r.get(s),h=a.first(),p=a.last(),y=p.getLength(),x=p.getKey(),K=g&&(!u.getChildKeys().isEmpty()||!h.getChildKeys().isEmpty());r.forEach(function(e,t){t===s?(K?f.push(e):f.push(function(e,t,r){var i=e.getText(),n=e.getCharacterList(),a=i.slice(0,t),s=n.slice(0,t),c=r.first();return e.merge({text:a+c.getText(),characterList:s.concat(c.getCharacterList()),type:a?e.getType():c.getType(),data:c.getData()})}(e,c,a)),a.slice(K?0:1,l-1).forEach(function(e){return f.push(e)}),f.push(function(e,t,r){var i=e.getText(),n=e.getCharacterList(),a=i.length,s=i.slice(t,a),c=n.slice(t,a),g=r.last();return g.merge({text:g.getText()+s,characterList:g.getCharacterList().concat(c),data:g.getData()})}(e,c,a))):f.push(e)});var b=i.createFromArray(f);return g&&(b=function(e,t,r,i){return e.withMutations(function(t){var n=r.getKey(),a=i.getKey(),s=r.getNextSiblingKey(),c=r.getParentKey(),g=function(e,t){var r=e.getKey(),i=e,n=[];for(t.get(r)&&n.push(r);i&&i.getNextSiblingKey();){var a=i.getNextSiblingKey();if(!a)break;n.push(a),i=t.get(a)}return n}(i,e),f=g[g.length-1];if(t.get(a)?(t.setIn([n,"nextSibling"],a),t.setIn([a,"prevSibling"],n)):(t.setIn([n,"nextSibling"],i.getNextSiblingKey()),t.setIn([i.getNextSiblingKey(),"prevSibling"],n)),t.setIn([f,"nextSibling"],s),s&&t.setIn([s,"prevSibling"],f),g.forEach(function(e){return t.setIn([e,"parent"],c)}),c){var l=e.get(c).getChildKeys(),u=l.indexOf(n)+1,h=l.toArray();h.splice.apply(h,[u,0].concat(g)),t.setIn([c,"children"],o(h))}})}(b,0,u,h)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:x,anchorOffset:y,focusKey:x,focusOffset:y,isBackward:!1})})};e.exports=function(e,t,r){t.isCollapsed()||c(!1);var i=e.getBlockMap(),a=g(r),o=t.getStartKey(),l=t.getStartOffset(),u=i.get(o);return u instanceof n&&(u.getChildKeys().isEmpty()||c(!1)),1===a.size?function(e,t,r,i,n,a){var c=r.get(n),g=c.getText(),o=c.getCharacterList(),f=n,l=a+i.getText().length,u=c.merge({text:g.slice(0,a)+i.getText()+g.slice(a),characterList:s(o,i.getCharacterList(),a),data:i.getData()});return e.merge({blockMap:r.set(n,u),selectionBefore:t,selectionAfter:t.merge({anchorKey:f,anchorOffset:l,focusKey:f,focusOffset:l,isBackward:!1})})}(e,t,i,a.first(),o,l):f(e,t,i,a,o,l)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule insertTextIntoContentState
 * @format
 * 
 */
"use strict";var s=r(785),a=r(804),i=r(797),n=s.Repeat;t.exports=function(t,e,r,s){e.isCollapsed()||i(!1);var o=r.length;if(!o)return t;var c=t.getBlockMap(),f=e.getStartKey(),g=e.getStartOffset(),l=c.get(f),u=l.getText(),p=l.merge({text:u.slice(0,g)+r+u.slice(g,l.getLength()),characterList:a(l.getCharacterList(),n(s,o).toList(),g)}),x=g+o;return t.merge({blockMap:c.set(f,p),selectionAfter:e.merge({anchorOffset:x,focusOffset:x})})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule modifyBlockForContentState
 * @format
 * 
 */
"use strict";var r=n(785).Map;t.exports=function(t,e,n){var o=e.getStartKey(),c=e.getEndKey(),i=t.getBlockMap(),a=i.toSeq().skipUntil(function(t,e){return e===o}).takeUntil(function(t,e){return e===c}).concat(r([[c,i.get(c)]])).map(n);return t.merge({blockMap:i.merge(a),selectionBefore:e,selectionAfter:e})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getNextDelimiterBlockKey
 * @format
 * 
 *
 * This is unstable and not part of the public API and should not be used by
 * production systems. This file may be update/removed without notice.
 */var r=n(790);e.exports=function(e,t){if(!(e instanceof r))return null;var n=e.getNextSiblingKey();if(n)return n;var i=e.getParentKey();if(!i)return null;for(var l=t.get(i);l&&!l.getNextSiblingKey();){var o=l.getParentKey();l=o?t.get(o):null}return l?l.getNextSiblingKey():null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeRangeFromContentState
 * @format
 * 
 */
"use strict";var r=n(790),i=n(785),g=n(808),u=(i.List,i.Map),c=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}},o=function(e,t){var n=[];if(!e)return n;for(var r=t.get(e);r&&r.getParentKey();){var i=r.getParentKey();i&&n.push(i),r=i?t.get(i):null}return n},l=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getNextSiblingKey();r&&!t.get(r);)r=n.get(r).getNextSiblingKey()||null;return r},f=function(e,t,n){if(!e)return null;for(var r=n.get(e.getKey()).getPrevSiblingKey();r&&!t.get(r);)r=n.get(r).getPrevSiblingKey()||null;return r},a=function(e,t,n,r){return e.withMutations(function(e){c(t.getKey(),e,function(n){return n.merge({nextSibling:l(t,e,r),prevSibling:f(t,e,r)})}),c(n.getKey(),e,function(t){return t.merge({nextSibling:l(n,e,r),prevSibling:f(n,e,r)})}),o(t.getKey(),r).forEach(function(t){return c(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:l(t,e,r),prevSibling:f(t,e,r)})})}),c(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:t.getPrevSiblingKey()})}),c(t.getPrevSiblingKey(),e,function(n){return n.merge({nextSibling:l(t,e,r)})}),c(n.getNextSiblingKey(),e,function(t){return t.merge({prevSibling:f(n,e,r)})}),c(n.getPrevSiblingKey(),e,function(e){return e.merge({nextSibling:n.getNextSiblingKey()})}),o(n.getKey(),r).forEach(function(t){c(t,e,function(t){return t.merge({children:t.getChildKeys().filter(function(t){return e.get(t)}),nextSibling:l(t,e,r),prevSibling:f(t,e,r)})})}),function(e,t){var n=[];if(!e)return n;for(var r=g(e,t);r&&t.get(r);){var i=t.get(r);n.push(r),r=i.getParentKey()?g(i,t):null}return n}(n,r).forEach(function(t){return c(t,e,function(t){return t.merge({nextSibling:l(t,e,r),prevSibling:f(t,e,r)})})})})},s=function(e,t,n){if(0===t)for(;t<n;)e=e.shift(),t++;else if(n===e.count())for(;n>t;)e=e.pop(),n--;else{var r=e.slice(0,t),i=e.slice(n);e=r.concat(i).toList()}return e};e.exports=function(e,t){if(t.isCollapsed())return e;var n=e.getBlockMap(),i=t.getStartKey(),c=t.getStartOffset(),l=t.getEndKey(),f=t.getEndOffset(),y=n.get(i),v=n.get(l),K=y instanceof r,S=[];if(K){var b=v.getChildKeys(),p=o(l,n);v.getNextSiblingKey()&&(S=S.concat(p)),b.isEmpty()||(S=S.concat(p.concat([l]))),S=S.concat(o(g(v,n),n))}var x=void 0;x=y===v?s(y.getCharacterList(),c,f):y.getCharacterList().slice(0,c).concat(v.getCharacterList().slice(f));var h=y.merge({text:y.getText().slice(0,c)+v.getText().slice(f),characterList:x}),m=n.toSeq().skipUntil(function(e,t){return t===i}).takeUntil(function(e,t){return t===l}).filter(function(e,t){return-1===S.indexOf(t)}).concat(u([[l,null]])).map(function(e,t){return t===i?h:null}),d=n.merge(m).filter(function(e){return!!e});return K&&(d=a(d,y,v,n)),e.merge({blockMap:d,selectionBefore:t,selectionAfter:t.merge({anchorKey:i,anchorOffset:c,focusKey:i,focusOffset:c,isBackward:!1})})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitBlockInContentState
 * @format
 * 
 */
"use strict";var r=n(790),i=n(785),c=n(800),o=n(797),a=i.List,s=i.Map,f=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t){t.isCollapsed()||o(!1);var n=t.getAnchorKey(),i=t.getAnchorOffset(),g=e.getBlockMap(),u=g.get(n),l=u.getText(),p=u.getCharacterList(),y=c(),d=u instanceof r,m=u.merge({text:l.slice(0,i),characterList:p.slice(0,i)}),h=m.merge({key:y,text:l.slice(i),characterList:p.slice(i),data:s()}),x=g.toSeq().takeUntil(function(e){return e===u}),K=g.toSeq().skipUntil(function(e){return e===u}).rest(),b=x.concat([[n,m],[y,h]],K).toOrderedMap();return d&&(u.getChildKeys().isEmpty()||o(!1),b=function(e,t,n){return e.withMutations(function(e){var r=t.getKey(),i=n.getKey();f(t.getParentKey(),e,function(e){var t=e.getChildKeys(),n=t.indexOf(r)+1,c=t.toArray();return c.splice(n,0,i),e.merge({children:a(c)})}),f(t.getNextSiblingKey(),e,function(e){return e.merge({prevSibling:i})}),f(r,e,function(e){return e.merge({nextSibling:i})}),f(i,e,function(e){return e.merge({prevSibling:r})})})}(b,m,h)),e.merge({blockMap:b,selectionBefore:t,selectionAfter:t.merge({anchorKey:y,anchorOffset:0,focusKey:y,focusOffset:0,isBackward:!1})})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftModifier
 * @format
 * 
 */
"use strict";var r=n(787),a=n(793),o=n(792),i=n(785),c=n(795),u=n(799),f=n(803),g=n(805),l=n(806),s=n(797),y=n(807),m=n(802),v=n(809),p=n(810),d=i.OrderedSet,S={replaceText:function(t,e,n,a,o){var i=m(t,e),c=v(i,e),u=r.create({style:a||d(),entity:o||null});return l(c,c.getSelectionAfter(),n,u)},insertText:function(t,e,n,r,a){return e.isCollapsed()||s(!1),S.replaceText(t,e,n,r,a)},moveText:function(t,e,n){var r=f(t,e),a=S.removeRange(t,e,"backward");return S.replaceWithFragment(a,n,r)},replaceWithFragment:function(t,e,n){var r=m(t,e),a=v(r,e);return g(a,a.getSelectionAfter(),n)},removeRange:function(t,e,n){var r,a,i=void 0,c=void 0;e.getIsBackward()&&(e=e.merge({anchorKey:e.getFocusKey(),anchorOffset:e.getFocusOffset(),focusKey:e.getAnchorKey(),focusOffset:e.getAnchorOffset(),isBackward:!1})),r=e.getAnchorKey(),a=e.getFocusKey(),i=t.getBlockForKey(r),c=t.getBlockForKey(a);var f=e.getStartOffset(),g=e.getEndOffset(),l=i.getEntityAt(f),s=c.getEntityAt(g-1);if(r===a&&l&&l===s){var y=u(t.getEntityMap(),i,c,e,n);return v(t,y)}var p=e;o.draft_segmented_entities_behavior&&(p=u(t.getEntityMap(),i,c,e,n));var d=m(t,p);return v(d,p)},splitBlock:function(t,e){var n=m(t,e),r=v(n,e);return p(r,r.getSelectionAfter())},applyInlineStyle:function(t,e,n){return a.add(t,e,n)},removeInlineStyle:function(t,e,n){return a.remove(t,e,n)},setBlockType:function(t,e,n){return y(t,e,function(t){return t.merge({type:n,depth:0})})},setBlockData:function(t,e,n){return y(t,e,function(t){return t.merge({data:n})})},mergeBlockData:function(t,e,n){return y(t,e,function(t){return t.merge({data:t.getData().merge(n)})})},applyEntity:function(t,e,n){var r=m(t,e);return c(r,e,n)}};t.exports=S,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,u){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */function r(t){return function(){return t}}var e=function(){};e.thatReturns=r,e.thatReturnsFalse=r(!1),e.thatReturnsTrue=r(!0),e.thatReturnsNull=r(null),e.thatReturnsThis=function(){return this},e.thatReturnsArgument=function(t){return t},t.exports=e,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule BlockTree
 * @format
 * 
 */
"use strict";var r=n(785),a=n(812),u=n(788),o=r.List,s=r.Repeat,l=r.Record,i=a.thatReturnsTrue,c=l({start:null,end:null}),f=l({start:null,end:null,decoratorKey:null,leaves:null}),d={generate:function(t,e,n){var r=e.getLength();if(!r)return o.of(new f({start:0,end:0,decoratorKey:null,leaves:o.of(new c({start:0,end:0}))}));var a=[],l=n?n.getDecorations(e,t):o(s(null,r)),d=e.getCharacterList();return u(l,g,i,function(t,e){var n,r,s,p;a.push(new f({start:t,end:e,decoratorKey:l.get(t),leaves:(n=d.slice(t,e).toList(),r=t,s=[],p=n.map(function(t){return t.getStyle()}).toList(),u(p,g,i,function(t,e){s.push(new c({start:t+r,end:e+r}))}),o(s))}))}),o(a)},getFingerprint:function(t){return t.map(function(t){var e=t.get("decoratorKey");return(null!==e?e+"."+(t.get("end")-t.get("start")):"")+"."+t.get("leaves").size}).join("-")}};function g(t,e){return t===e}t.exports=d,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEntityInstance
 * @legacyServerCallableInstance
 * @format
 * 
 */
"use strict";var o=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getType=function(){return this.get("type")},e.prototype.getMutability=function(){return this.get("mutability")},e.prototype.getData=function(){return this.get("data")},e}((0,n(785).Record)({type:"TOKEN",mutability:"IMMUTABLE",data:Object}));t.exports=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,a){"use strict";var n=a(32,1)||function(t){for(var e=1;e<arguments.length;e++){var a=arguments[e];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(t[n]=a[n])}return t},r=a(814),i=a(785),c=a(797),o=(0,i.Map)(),u=0;function _(t,e){console.warn("WARNING: "+t+' will be deprecated soon!\nPlease use "'+e+'" instead.')}var f={getLastCreatedEntityKey:function(){return _("DraftEntity.getLastCreatedEntityKey","contentState.getLastCreatedEntityKey"),f.__getLastCreatedEntityKey()},create:function(t,e,a){return _("DraftEntity.create","contentState.createEntity"),f.__create(t,e,a)},add:function(t){return _("DraftEntity.add","contentState.addEntity"),f.__add(t)},get:function(t){return _("DraftEntity.get","contentState.getEntity"),f.__get(t)},mergeData:function(t,e){return _("DraftEntity.mergeData","contentState.mergeEntityData"),f.__mergeData(t,e)},replaceData:function(t,e){return _("DraftEntity.replaceData","contentState.replaceEntityData"),f.__replaceData(t,e)},__getLastCreatedEntityKey:function(){return""+u},__create:function(t,e,a){return f.__add(new r({type:t,mutability:e,data:a||{}}))},__add:function(t){var e=""+ ++u;return o=o.set(e,t),e},__get:function(t){var e=o.get(t);return e||c(!1),e},__mergeData:function(t,e){var a=f.__get(t),r=n({},a.getData(),e),i=a.set("data",r);return o=o.set(t,i),i},__replaceData:function(t,e){var a=f.__get(t).set("data",e);return o=o.set(t,a),a}};t.exports=f,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SelectionState
 * @format
 * 
 */
"use strict";var r=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.serialize=function(){return"Anchor: "+this.getAnchorKey()+":"+this.getAnchorOffset()+", Focus: "+this.getFocusKey()+":"+this.getFocusOffset()+", Is Backward: "+String(this.getIsBackward())+", Has Focus: "+String(this.getHasFocus())},e.prototype.getAnchorKey=function(){return this.get("anchorKey")},e.prototype.getAnchorOffset=function(){return this.get("anchorOffset")},e.prototype.getFocusKey=function(){return this.get("focusKey")},e.prototype.getFocusOffset=function(){return this.get("focusOffset")},e.prototype.getIsBackward=function(){return this.get("isBackward")},e.prototype.getHasFocus=function(){return this.get("hasFocus")},e.prototype.hasEdgeWithin=function(t,e,o){var r=this.getAnchorKey(),s=this.getFocusKey();if(r===s&&r===t){var n=this.getStartOffset();return e<=this.getEndOffset()&&n<=o}if(t!==r&&t!==s)return!1;var c=t===r?this.getAnchorOffset():this.getFocusOffset();return e<=c&&o>=c},e.prototype.isCollapsed=function(){return this.getAnchorKey()===this.getFocusKey()&&this.getAnchorOffset()===this.getFocusOffset()},e.prototype.getStartKey=function(){return this.getIsBackward()?this.getFocusKey():this.getAnchorKey()},e.prototype.getStartOffset=function(){return this.getIsBackward()?this.getFocusOffset():this.getAnchorOffset()},e.prototype.getEndKey=function(){return this.getIsBackward()?this.getAnchorKey():this.getFocusKey()},e.prototype.getEndOffset=function(){return this.getIsBackward()?this.getAnchorOffset():this.getFocusOffset()},e.createEmpty=function(t){return new e({anchorKey:t,anchorOffset:0,focusKey:t,focusOffset:0,isBackward:!1,hasFocus:!1})},e}((0,o(785).Record)({anchorKey:"",anchorOffset:0,focusKey:"",focusOffset:0,isBackward:!1,hasFocus:!1}));t.exports=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule sanitizeDraftText
 * @format
 * 
 */
"use strict";var r=new RegExp("\r","g");e.exports=function(e){return e.replace(r,"")},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule ContentState
 * @format
 * 
 */
"use strict";var n=r(786),o=r(787),i=r(789),c=r(790),a=r(815),p=r(792),u=r(785),s=r(816),f=r(800),l=r(817),y=u.List,g=u.Record,k=u.Repeat,h=p.draft_tree_data_support?c:i,B=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.getEntityMap=function(){return a},e.prototype.getBlockMap=function(){return this.get("blockMap")},e.prototype.getSelectionBefore=function(){return this.get("selectionBefore")},e.prototype.getSelectionAfter=function(){return this.get("selectionAfter")},e.prototype.getBlockForKey=function(t){return this.getBlockMap().get(t)},e.prototype.getKeyBefore=function(t){return this.getBlockMap().reverse().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getKeyAfter=function(t){return this.getBlockMap().keySeq().skipUntil(function(e){return e===t}).skip(1).first()},e.prototype.getBlockAfter=function(t){return this.getBlockMap().skipUntil(function(e,r){return r===t}).skip(1).first()},e.prototype.getBlockBefore=function(t){return this.getBlockMap().reverse().skipUntil(function(e,r){return r===t}).skip(1).first()},e.prototype.getBlocksAsArray=function(){return this.getBlockMap().toArray()},e.prototype.getFirstBlock=function(){return this.getBlockMap().first()},e.prototype.getLastBlock=function(){return this.getBlockMap().last()},e.prototype.getPlainText=function(t){return this.getBlockMap().map(function(t){return t?t.getText():""}).join(t||"\n")},e.prototype.getLastCreatedEntityKey=function(){return a.__getLastCreatedEntityKey()},e.prototype.hasText=function(){var t=this.getBlockMap();return t.size>1||t.first().getLength()>0},e.prototype.createEntity=function(t,e,r){return a.__create(t,e,r),this},e.prototype.mergeEntityData=function(t,e){return a.__mergeData(t,e),this},e.prototype.replaceEntityData=function(t,e){return a.__replaceData(t,e),this},e.prototype.addEntity=function(t){return a.__add(t),this},e.prototype.getEntity=function(t){return a.__get(t)},e.createFromBlockArray=function(t,r){var o=Array.isArray(t)?t:t.contentBlocks,i=n.createFromArray(o),c=i.isEmpty()?new s:s.createEmpty(i.first().getKey());return new e({blockMap:i,entityMap:r||a,selectionBefore:c,selectionAfter:c})},e.createFromText=function(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/\r\n?|\n/g,n=t.split(r).map(function(t){return t=l(t),new h({key:f(),text:t,type:"unstyled",characterList:y(k(o.EMPTY,t.length))})});return e.createFromBlockArray(n)},e}(g({entityMap:null,blockMap:null,selectionBefore:null,selectionAfter:null}));t.exports=B,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var i=r(797),o="LTR",e="RTL",u=null;function l(t){return t===o||t===e}function f(t){return l(t)||i(!1),t===o?"ltr":"rtl"}function a(t){u=t}var c={NEUTRAL:"NEUTRAL",LTR:o,RTL:e,isStrong:l,getHTMLDir:f,getHTMLDirIfDifferent:function(t,n){return l(t)||i(!1),l(n)||i(!1),t===n?null:f(t)},setGlobalDir:a,initGlobalDir:function(){a(o)},getGlobalDir:function(){return u||this.initGlobalDir(),u||i(!1),u}};t.exports=c,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(n,r,t){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var e=t(819),i=t(797),o="----------------------",u="------------------------------",c=new RegExp("["+"A-Za-z-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------"+o+u+"]"),a=new RegExp("["+o+u+"]");function s(n){var r=c.exec(n);return null==r?null:r[0]}function f(n){var r=s(n);return null==r?e.NEUTRAL:a.exec(r)?e.RTL:e.LTR}function l(n,r){if(r=r||e.NEUTRAL,!n.length)return r;var t=f(n);return t===e.NEUTRAL?r:t}function R(n,r){return r||(r=e.getGlobalDir()),e.isStrong(r)||i(!1),l(n,r)}var L={firstStrongChar:s,firstStrongCharDir:f,resolveBlockDir:l,getDirection:R,isDirectionLTR:function(n,r){return R(n,r)===e.LTR},isDirectionRTL:function(n,r){return R(n,r)===e.RTL}};n.exports=L,n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,i,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * 
 */
"use strict";var r=n(820),e=n(819),o=n(797),s=function(){function t(i){!function(t,i){if(!(t instanceof i))throw new TypeError("Cannot call a class as a function")}(this,t),i?e.isStrong(i)||o(!1):i=e.getGlobalDir(),this._defaultDir=i,this.reset()}return t.prototype.reset=function(){this._lastDir=this._defaultDir},t.prototype.getDirection=function(t){return this._lastDir=r.getDirection(t,this._lastDir),this._lastDir},t}();t.exports=s,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(n,t,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */n.exports=function(n){if(null!=n)return n;throw new Error("Got unexpected null or undefined")},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,i){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorBidiService
 * @format
 * 
 */
"use strict";var n,r=i(785),o=i(821),s=i(822),u=r.OrderedMap,c={getDirectionMap:function(e,t){n?n.reset():n=new o;var i=e.getBlockMap(),c=i.valueSeq().map(function(e){return s(n).getDirection(e.getText())}),a=u(i.keySeq().zip(c));return null!=t&&r.is(t,a)?t:a}};e.exports=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule EditorState
 * @format
 * 
 */
"use strict";var r=n(32,1)||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e};var o=n(813),i=n(818),c=n(823),a=n(785),u=n(816),l=a.OrderedSet,g=a.Record,s=a.Stack,p=g({allowUndo:!0,currentContent:null,decorator:null,directionMap:null,forceSelection:!1,inCompositionMode:!1,inlineStyleOverride:null,lastChangeType:null,nativelyRenderedContent:null,redoStack:s(),selection:null,treeMap:null,undoStack:s()}),f=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._immutable=t}return e.createEmpty=function(t){return e.createWithContent(i.createFromText(""),t)},e.createWithContent=function(t,n){var r=t.getBlockMap().first().getKey();return e.create({currentContent:t,undoStack:s(),redoStack:s(),decorator:n||null,selection:u.createEmpty(r)})},e.create=function(t){var n=t.currentContent,o=t.decorator,i=r({},t,{treeMap:S(n,o),directionMap:c.getDirectionMap(n)});return new e(new p(i))},e.set=function(t,n){return new e(t.getImmutable().withMutations(function(e){var r=e.get("decorator"),i=r;null===n.decorator?i=null:n.decorator&&(i=n.decorator);var c=n.currentContent||t.getCurrentContent();if(i!==r){var a,u=e.get("treeMap");return a=i&&r?function(e,t,n,r,i){return n.merge(t.toSeq().filter(function(t){return r.getDecorations(t,e)!==i.getDecorations(t,e)}).map(function(t){return o.generate(e,t,r)}))}(c,c.getBlockMap(),u,i,r):S(c,i),void e.merge({decorator:i,treeMap:a,nativelyRenderedContent:null})}c!==t.getCurrentContent()&&e.set("treeMap",function(e,t,n,r){var i=e.getCurrentContent().set("entityMap",n),c=i.getBlockMap();return e.getImmutable().get("treeMap").merge(t.toSeq().filter(function(e,t){return e!==c.get(t)}).map(function(e){return o.generate(i,e,r)}))}(t,c.getBlockMap(),c.getEntityMap(),i)),e.merge(n)}))},e.prototype.toJS=function(){return this.getImmutable().toJS()},e.prototype.getAllowUndo=function(){return this.getImmutable().get("allowUndo")},e.prototype.getCurrentContent=function(){return this.getImmutable().get("currentContent")},e.prototype.getUndoStack=function(){return this.getImmutable().get("undoStack")},e.prototype.getRedoStack=function(){return this.getImmutable().get("redoStack")},e.prototype.getSelection=function(){return this.getImmutable().get("selection")},e.prototype.getDecorator=function(){return this.getImmutable().get("decorator")},e.prototype.isInCompositionMode=function(){return this.getImmutable().get("inCompositionMode")},e.prototype.mustForceSelection=function(){return this.getImmutable().get("forceSelection")},e.prototype.getNativelyRenderedContent=function(){return this.getImmutable().get("nativelyRenderedContent")},e.prototype.getLastChangeType=function(){return this.getImmutable().get("lastChangeType")},e.prototype.getInlineStyleOverride=function(){return this.getImmutable().get("inlineStyleOverride")},e.setInlineStyleOverride=function(t,n){return e.set(t,{inlineStyleOverride:n})},e.prototype.getCurrentInlineStyle=function(){var e=this.getInlineStyleOverride();if(null!=e)return e;var t=this.getCurrentContent(),n=this.getSelection();return n.isCollapsed()?function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r>0)return o.getInlineStyleAt(r-1);if(o.getLength())return o.getInlineStyleAt(0);return y(e,n)}(t,n):function(e,t){var n=t.getStartKey(),r=t.getStartOffset(),o=e.getBlockForKey(n);if(r<o.getLength())return o.getInlineStyleAt(r);if(r>0)return o.getInlineStyleAt(r-1);return y(e,n)}(t,n)},e.prototype.getBlockTree=function(e){return this.getImmutable().getIn(["treeMap",e])},e.prototype.isSelectionAtStartOfContent=function(){var e=this.getCurrentContent().getBlockMap().first().getKey();return this.getSelection().hasEdgeWithin(e,0,0)},e.prototype.isSelectionAtEndOfContent=function(){var e=this.getCurrentContent().getBlockMap().last(),t=e.getLength();return this.getSelection().hasEdgeWithin(e.getKey(),t,t)},e.prototype.getDirectionMap=function(){return this.getImmutable().get("directionMap")},e.acceptSelection=function(e,t){return d(e,t,!1)},e.forceSelection=function(e,t){return t.getHasFocus()||(t=t.set("hasFocus",!0)),d(e,t,!0)},e.moveSelectionToEnd=function(t){var n=t.getCurrentContent().getLastBlock(),r=n.getKey(),o=n.getLength();return e.acceptSelection(t,new u({anchorKey:r,anchorOffset:o,focusKey:r,focusOffset:o,isBackward:!1}))},e.moveFocusToEnd=function(t){var n=e.moveSelectionToEnd(t);return e.forceSelection(n,n.getSelection())},e.push=function(t,n,r){if(t.getCurrentContent()===n)return t;var o="insert-characters"!==r,i=c.getDirectionMap(n,t.getDirectionMap());if(!t.getAllowUndo())return e.set(t,{currentContent:n,directionMap:i,lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:null});var a=t.getSelection(),u=t.getCurrentContent(),l=t.getUndoStack(),g=n;a!==u.getSelectionAfter()||function(e,t){var n=e.getLastChangeType();return t!==n||"insert-characters"!==t&&"backspace-character"!==t&&"delete-character"!==t}(t,r)?(l=l.push(u),g=g.set("selectionBefore",a)):"insert-characters"!==r&&"backspace-character"!==r&&"delete-character"!==r||(g=g.set("selectionBefore",u.getSelectionBefore()));var p=t.getInlineStyleOverride();-1===["adjust-depth","change-block-type","split-block"].indexOf(r)&&(p=null);var f={currentContent:g,directionMap:i,undoStack:l,redoStack:s(),lastChangeType:r,selection:n.getSelectionAfter(),forceSelection:o,inlineStyleOverride:p};return e.set(t,f)},e.undo=function(t){if(!t.getAllowUndo())return t;var n=t.getUndoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=c.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:n.shift(),redoStack:t.getRedoStack().push(o),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"undo",nativelyRenderedContent:null,selection:o.getSelectionBefore()})},e.redo=function(t){if(!t.getAllowUndo())return t;var n=t.getRedoStack(),r=n.peek();if(!r)return t;var o=t.getCurrentContent(),i=c.getDirectionMap(r,t.getDirectionMap());return e.set(t,{currentContent:r,directionMap:i,undoStack:t.getUndoStack().push(o),redoStack:n.shift(),forceSelection:!0,inlineStyleOverride:null,lastChangeType:"redo",nativelyRenderedContent:null,selection:r.getSelectionAfter()})},e.prototype.getImmutable=function(){return this._immutable},e}();function d(e,t,n){return f.set(e,{selection:t,forceSelection:n,nativelyRenderedContent:null,inlineStyleOverride:null})}function S(e,t){return e.getBlockMap().map(function(n){return o.generate(e,n,t)}).toOrderedMap()}function y(e,t){var n=e.getBlockMap().reverse().skipUntil(function(e,n){return n===t}).skip(1).skipUntil(function(e,t){return e.getLength()}).first();return n?n.getInlineStyleAt(n.getLength()-1):l()}e.exports=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveBlockInContentState
 * @format
 * 
 */
"use strict";var r=n(790),i=n(785),o=n(808),c=n(797),g=i.OrderedMap,a=i.List,u=function(e,t,n){if(e){var r=t.get(e);r&&t.set(e,n(r))}};e.exports=function(e,t,n,i){"replace"===i&&c(!1);var f=n.getKey(),l=t.getKey();l===f&&c(!1);var y=e.getBlockMap(),s=t instanceof r,K=[t],p=y.delete(l);s&&(K=[],p=y.withMutations(function(e){var n=t.getNextSiblingKey(),r=o(t,e);e.toSeq().skipUntil(function(e){return e.getKey()===l}).takeWhile(function(e){var t=e.getKey(),i=t===l,o=n&&t!==n,c=!n&&e.getParentKey()&&(!r||t!==r);return!!(i||o||c)}).forEach(function(t){K.push(t),e.delete(t.getKey())})}));var v=p.toSeq().takeUntil(function(e){return e===n}),d=p.toSeq().skipUntil(function(e){return e===n}).skip(1),b=K.map(function(e){return[e.getKey(),e]}),S=g();if("before"===i){var m=e.getBlockBefore(f);m&&m.getKey()===t.getKey()&&c(!1),S=v.concat([].concat(b,[[f,n]]),d).toOrderedMap()}else if("after"===i){var x=e.getBlockAfter(f);x&&x.getKey()===l&&c(!1),S=v.concat([[f,n]].concat(b),d).toOrderedMap()}return e.merge({blockMap:function(e,t,n,r,i){if(!i)return e;var o="after"===r,c=t.getKey(),g=n.getKey(),f=t.getParentKey(),l=t.getNextSiblingKey(),y=t.getPrevSiblingKey(),s=n.getParentKey(),K=o?n.getNextSiblingKey():g,p=o?g:n.getPrevSiblingKey();return e.withMutations(function(e){u(f,e,function(e){var t=e.getChildKeys();return e.merge({children:t.delete(t.indexOf(c))})}),u(y,e,function(e){return e.merge({nextSibling:l})}),u(l,e,function(e){return e.merge({prevSibling:y})}),u(K,e,function(e){return e.merge({prevSibling:c})}),u(p,e,function(e){return e.merge({nextSibling:c})}),u(s,e,function(e){var t=e.getChildKeys(),n=t.indexOf(g),r=o?n+1:0!==n?n-1:0,i=t.toArray();return i.splice(r,0,c),e.merge({children:a(i)})}),u(c,e,function(e){return e.merge({nextSibling:K,prevSibling:p,parent:s})})})}(S,t,n,i,s),selectionBefore:e.getSelectionAfter(),selectionAfter:e.getSelectionAfter().merge({anchorKey:l,focusKey:l})})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule AtomicBlockUtils
 * @format
 * 
 */
"use strict";var o=r(32,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e},n=r(786),a=r(787),c=r(789),i=r(790),l=r(792),s=r(811),f=r(824),g=r(785),u=(r(816),r(800)),p=r(825),y=l.draft_tree_data_support,k=y?i:c,v=g.List,m=g.Repeat,S={insertAtomicBlock:function(e,t,r){var c=e.getCurrentContent(),i=e.getSelection(),l=s.removeRange(c,i,"backward"),g=l.getSelectionAfter(),p=s.splitBlock(l,g),S=p.getSelectionAfter(),d=s.setBlockType(p,S,"atomic"),B=a.create({entity:t}),b={key:u(),type:"atomic",text:r,characterList:v(m(B,r.length))},F={key:u(),type:"unstyled"};y&&(b=o({},b,{nextSibling:F.key}),F=o({},F,{prevSibling:b.key}));var h=[new k(b),new k(F)],A=n.createFromArray(h),C=s.replaceWithFragment(d,S,A),K=C.merge({selectionBefore:i,selectionAfter:C.getSelectionAfter().set("hasFocus",!0)});return f.push(e,K,"insert-fragment")},moveAtomicBlock:function(e,t,r,o){var n=e.getCurrentContent(),a=e.getSelection(),c=void 0;if("before"===o||"after"===o){var i=n.getBlockForKey("before"===o?r.getStartKey():r.getEndKey());c=p(n,t,i,o)}else{var l=s.removeRange(n,r,"backward"),g=l.getSelectionAfter(),u=l.getBlockForKey(g.getFocusKey());if(0===g.getStartOffset())c=p(l,t,u,"before");else if(g.getEndOffset()===u.getLength())c=p(l,t,u,"after");else{var y=s.splitBlock(l,g),k=y.getSelectionAfter(),v=y.getBlockForKey(k.getFocusKey());c=p(y,t,v,"before")}}var m=c.merge({selectionBefore:a,selectionAfter:c.getSelectionAfter().set("hasFocus",!0)});return f.push(e,m,"move-block")}};e.exports=S,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule CompositeDraftDecorator
 * @format
 * 
 */
"use strict";var o=n(785).List,e=function(){function t(r){!function(t,r){if(!(t instanceof r))throw new TypeError("Cannot call a class as a function")}(this,t),this._decorators=r.slice()}return t.prototype.getDecorations=function(t,r){var n=Array(t.getText().length).fill(null);return this._decorators.forEach(function(o,e){var i=0;(0,o.strategy)(t,function(t,r){(function(t,r,n){for(var o=r;o<n;o++)if(null!=t[o])return!1;return!0})(n,t,r)&&(function(t,r,n,o){for(var e=r;e<n;e++)t[e]=o}(n,t,r,e+"."+i),i++)},r)}),o(n)},t.prototype.getComponentForKey=function(t){var r=parseInt(t.split(".")[0],10);return this._decorators[r].component},t.prototype.getPropsForKey=function(t){var r=parseInt(t.split(".")[0],10);return this._decorators[r].props},t}();t.exports=e,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */function o(t){return t.replace(/\//g,"-")}t.exports=function(t){return"object"==typeof t?Object.keys(t).filter(function(e){return t[e]}).map(o).join(" "):Array.prototype.map.call(arguments,o).join(" ")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,l){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftBlockRenderMap
 * @format
 * 
 */
"use strict";var r=l(785).Map,a=l(34,1),n=l(828),m=r({"header-one":{element:"h1"},"header-two":{element:"h2"},"header-three":{element:"h3"},"header-four":{element:"h4"},"header-five":{element:"h5"},"header-six":{element:"h6"},"unordered-list-item":{element:"li",wrapper:a.createElement("ul",{className:n("public/DraftStyleDefault/ul")})},"ordered-list-item":{element:"li",wrapper:a.createElement("ol",{className:n("public/DraftStyleDefault/ol")})},blockquote:{element:"blockquote"},atomic:{element:"figure"},"code-block":{element:"pre",wrapper:a.createElement("pre",{className:n("public/DraftStyleDefault/pre")})},unstyled:{element:"div",aliasedElements:["p"]}});e.exports=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DefaultDraftInlineStyle
 * @format
 * 
 */
"use strict";t.exports={BOLD:{fontWeight:"bold"},CODE:{fontFamily:"monospace",wordWrap:"break-word"},ITALIC:{fontStyle:"italic"},STRIKETHROUGH:{textDecoration:"line-through"},UNDERLINE:{textDecoration:"underline"}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(E,A,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */E.exports={BACKSPACE:8,TAB:9,RETURN:13,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46,COMMA:188,PERIOD:190,A:65,Z:90,ZERO:48,NUMPAD_0:96,NUMPAD_9:105},E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getEntityKeyForSelection
 * @format
 * 
 */
"use strict";function r(t,e){return e&&"MUTABLE"===t.__get(e).getMutability()?e:null}t.exports=function(t,e){var n;if(e.isCollapsed()){var o=e.getAnchorKey(),g=e.getAnchorOffset();return g>0?(n=t.getBlockForKey(o).getEntityAt(g-1))!==t.getBlockForKey(o).getEntityAt(g)?null:r(t.getEntityMap(),n):null}var i=e.getStartKey(),l=e.getStartOffset(),u=t.getBlockForKey(i);return n=l===u.getLength()?null:u.getEntityAt(l),r(t.getEntityMap(),n)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isEventHandled
 * @format
 * 
 */
"use strict";t.exports=function(t){return"handled"===t||!0===t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule isSelectionAtLeafStart
 * @format
 * 
 */
"use strict";t.exports=function(t){var e=t.getSelection(),n=e.getAnchorKey(),r=t.getBlockTree(n),o=e.getStartOffset(),s=!1;return r.some(function(t){return o===t.get("start")?(s=!0,!0):o<t.get("end")&&t.get("leaves").some(function(t){var e=t.get("start");return o===e&&(s=!0,!0)})}),s},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorCompositionHandler
 * @format
 * 
 */
"use strict";var o=n(792),i=n(811),r=n(824),s=n(831),a=n(832),u=n(833),f=n(834),l=!1,p=!1,c="",d={onBeforeInput:function(e,t){c=(c||"")+t.data},onCompositionStart:function(e){p=!0},onCompositionEnd:function(e){l=!1,p=!1,setTimeout(function(){l||d.resolveComposition(e)},20)},onKeyDown:function(e,t){if(!p)return d.resolveComposition(e),void e._onKeyDown(t);t.which!==s.RIGHT&&t.which!==s.LEFT||t.preventDefault()},onKeyPress:function(e,t){t.which===s.RETURN&&t.preventDefault()},resolveComposition:function(e){if(!p){l=!0;var t=c;c="";var n=r.set(e._latestEditorState,{inCompositionMode:!1}),s=n.getCurrentInlineStyle(),d=a(n.getCurrentContent(),n.getSelection()),C=!t||f(n)||s.size>0||null!==d;if(C&&e.restoreEditorDOM(),e.exitCurrentMode(),t){if(o.draft_handlebeforeinput_composed_text&&e.props.handleBeforeInput&&u(e.props.handleBeforeInput(t,n)))return;var v=i.replaceText(n.getCurrentContent(),n.getSelection(),t,s,d);e.update(r.push(n,v,"insert-characters"))}else C&&e.update(r.set(n,{nativelyRenderedContent:null,forceSelection:!0}))}}};e.exports=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(i,s,e){
/*!
 * UAParser.js v0.7.19
 * Lightweight JavaScript-based User-Agent string parser
 * https://github.com/faisalman/ua-parser-js
 *
 * Copyright  2012-2016 Faisal Salman <fyzlman@gmail.com>
 * Dual licensed under GPLv2 or MIT
 */
!function(e,o){"use strict";var r="model",n="name",a="type",t="vendor",d="version",l="mobile",w="tablet",u={extend:function(i,s){var e={};for(var o in i)s[o]&&s[o].length%2==0?e[o]=s[o].concat(i[o]):e[o]=i[o];return e},has:function(i,s){return"string"==typeof i&&-1!==s.toLowerCase().indexOf(i.toLowerCase())},lowerize:function(i){return i.toLowerCase()},major:function(i){return"string"==typeof i?i.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(i){return i.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},c={rgx:function(i,s){for(var e,o,r,n,a,t,d=0;d<s.length&&!a;){var l=s[d],w=s[d+1];for(e=o=0;e<l.length&&!a;)if(a=l[e++].exec(i))for(r=0;r<w.length;r++)t=a[++o],"object"==typeof(n=w[r])&&n.length>0?2==n.length?"function"==typeof n[1]?this[n[0]]=n[1].call(this,t):this[n[0]]=n[1]:3==n.length?"function"!=typeof n[1]||n[1].exec&&n[1].test?this[n[0]]=t?t.replace(n[1],n[2]):void 0:this[n[0]]=t?n[1].call(this,t,n[2]):void 0:4==n.length&&(this[n[0]]=t?n[3].call(this,t.replace(n[1],n[2])):void 0):this[n]=t||void 0;d+=2}},str:function(i,s){for(var e in s)if("object"==typeof s[e]&&s[e].length>0){for(var o=0;o<s[e].length;o++)if(u.has(s[e][o],i))return"?"===e?void 0:e}else if(u.has(s[e],i))return"?"===e?void 0:e;return i}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},b={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[n,d],[/(opios)[\/\s]+([\w\.]+)/i],[[n,"Opera Mini"],d],[/\s(opr)\/([\w\.]+)/i],[[n,"Opera"],d],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?([\w\.]*)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark)\/([\w\.-]+)/i],[n,d],[/(trident).+rv[:\s]([\w\.]+).+like\sgecko/i],[[n,"IE"],d],[/(edge|edgios|edga)\/((\d+)?[\w\.]+)/i],[[n,"Edge"],d],[/(yabrowser)\/([\w\.]+)/i],[[n,"Yandex"],d],[/(puffin)\/([\w\.]+)/i],[[n,"Puffin"],d],[/(focus)\/([\w\.]+)/i],[[n,"Firefox Focus"],d],[/(opt)\/([\w\.]+)/i],[[n,"Opera Touch"],d],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[n,"UCBrowser"],d],[/(comodo_dragon)\/([\w\.]+)/i],[[n,/_/g," "],d],[/(micromessenger)\/([\w\.]+)/i],[[n,"WeChat"],d],[/(brave)\/([\w\.]+)/i],[[n,"Brave"],d],[/(qqbrowserlite)\/([\w\.]+)/i],[n,d],[/(QQ)\/([\d\.]+)/i],[n,d],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[n,d],[/(BIDUBrowser)[\/\s]?([\w\.]+)/i],[n,d],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[n,d],[/(MetaSr)[\/\s]?([\w\.]+)/i],[n],[/(LBBROWSER)/i],[n],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[d,[n,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[d,[n,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[n,d],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[d,[n,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[n,/(.+)/,"$1 WebView"],d],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[n,/(.+(?:g|us))(.+)/,"$1 $2"],d],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[d,[n,"Android Browser"]],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[n,d],[/(dolfin)\/([\w\.]+)/i],[[n,"Dolphin"],d],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[n,"Chrome"],d],[/(coast)\/([\w\.]+)/i],[[n,"Opera Coast"],d],[/fxios\/([\w\.-]+)/i],[d,[n,"Firefox"]],[/version\/([\w\.]+).+?mobile\/\w+\s(safari)/i],[d,[n,"Mobile Safari"]],[/version\/([\w\.]+).+?(mobile\s?safari|safari)/i],[d,n],[/webkit.+?(gsa)\/([\w\.]+).+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[[n,"GSA"],d],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[n,[d,c.str,m.browser.oldsafari.version]],[/(konqueror)\/([\w\.]+)/i,/(webkit|khtml)\/([\w\.]+)/i],[n,d],[/(navigator|netscape)\/([\w\.-]+)/i],[[n,"Netscape"],d],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(mozilla)\/([\w\.]+).+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[n,d]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",u.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",u.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",u.lowerize]]],device:[[/\((ipad|playbook);[\w\s\);-]+(rim|apple)/i],[r,t,[a,w]],[/applecoremedia\/[\w\.]+ \((ipad)/],[r,[t,"Apple"],[a,w]],[/(apple\s{0,1}tv)/i],[[r,"Apple TV"],[t,"Apple"]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[t,r,[a,w]],[/(kf[A-z]+)\sbuild\/.+silk\//i],[r,[t,"Amazon"],[a,w]],[/(sd|kf)[0349hijorstuw]+\sbuild\/.+silk\//i],[[r,c.str,m.device.amazon.model],[t,"Amazon"],[a,l]],[/android.+aft([bms])\sbuild/i],[r,[t,"Amazon"],[a,"smarttv"]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[r,t,[a,l]],[/\((ip[honed|\s\w*]+);/i],[r,[t,"Apple"],[a,l]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[t,r,[a,l]],[/\(bb10;\s(\w+)/i],[r,[t,"BlackBerry"],[a,l]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone)/i],[r,[t,"Asus"],[a,w]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[t,"Sony"],[r,"Xperia Tablet"],[a,w]],[/android.+\s([c-g]\d{4}|so[-l]\w+)\sbuild\//i],[r,[t,"Sony"],[a,l]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[t,r,[a,"console"]],[/android.+;\s(shield)\sbuild/i],[r,[t,"Nvidia"],[a,"console"]],[/(playstation\s[34portablevi]+)/i],[r,[t,"Sony"],[a,"console"]],[/(sprint\s(\w+))/i],[[t,c.str,m.device.sprint.vendor],[r,c.str,m.device.sprint.model],[a,l]],[/(lenovo)\s?(S(?:5000|6000)+(?:[-][\w+]))/i],[t,r,[a,w]],[/(htc)[;_\s-]+([\w\s]+(?=\))|\w+)*/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|lenovo|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[t,[r,/_/g," "],[a,l]],[/(nexus\s9)/i],[r,[t,"HTC"],[a,w]],[/d\/huawei([\w\s-]+)[;\)]/i,/(nexus\s6p)/i],[r,[t,"Huawei"],[a,l]],[/(microsoft);\s(lumia[\s\w]+)/i],[t,r,[a,l]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[r,[t,"Microsoft"],[a,"console"]],[/(kin\.[onetw]{3})/i],[[r,/\./g," "],[t,"Microsoft"],[a,l]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[r,[t,"Motorola"],[a,l]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[r,[t,"Motorola"],[a,w]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[t,u.trim],[r,u.trim],[a,"smarttv"]],[/hbbtv.+maple;(\d+)/i],[[r,/^/,"SmartTV"],[t,"Samsung"],[a,"smarttv"]],[/\(dtv[\);].+(aquos)/i],[r,[t,"Sharp"],[a,"smarttv"]],[/android.+((sch-i[89]0\d|shw-m380s|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[t,"Samsung"],r,[a,w]],[/smart-tv.+(samsung)/i],[t,[a,"smarttv"],r],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[t,"Samsung"],r,[a,l]],[/sie-(\w*)/i],[r,[t,"Siemens"],[a,l]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[t,"Nokia"],r,[a,l]],[/android\s3\.[\s\w;-]{10}(a\d{3})/i],[r,[t,"Acer"],[a,w]],[/android.+([vl]k\-?\d{3})\s+build/i],[r,[t,"LG"],[a,w]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[t,"LG"],r,[a,w]],[/(lg) netcast\.tv/i],[t,r,[a,"smarttv"]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[r,[t,"LG"],[a,l]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[r,[t,"Lenovo"],[a,w]],[/linux;.+((jolla));/i],[t,r,[a,l]],[/((pebble))app\/[\d\.]+\s/i],[t,r,[a,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[t,r,[a,l]],[/crkey/i],[[r,"Chromecast"],[t,"Google"]],[/android.+;\s(glass)\s\d/i],[r,[t,"Google"],[a,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[r,[t,"Google"],[a,w]],[/android.+;\s(pixel( [23])?( xl)?)\s/i],[r,[t,"Google"],[a,l]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]*note?[\s_]*(?:\d\w)?)\s+build/i,/android.+(mi[\s\-_]*(?:one|one[\s_]plus|note lte)?[\s_]*(?:\d?\w?)[\s_]*(?:plus)?)\s+build/i,/android.+(redmi[\s\-_]*(?:note)?(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[t,"Xiaomi"],[a,l]],[/android.+(mi[\s\-_]*(?:pad)(?:[\s_]*[\w\s]+))\s+build/i],[[r,/_/g," "],[t,"Xiaomi"],[a,w]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[r,[t,"Meizu"],[a,w]],[/(mz)-([\w-]{2,})/i],[[t,"Meizu"],r,[a,l]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})\s+build/i],[r,[t,"OnePlus"],[a,l]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[r,[t,"RCA"],[a,w]],[/android.+[;\/\s]+(Venue[\d\s]{2,7})\s+build/i],[r,[t,"Dell"],[a,w]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[r,[t,"Verizon"],[a,w]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(V?.*)\s+build/i],[[t,"Barnes & Noble"],r,[a,w]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[r,[t,"NuVision"],[a,w]],[/android.+;\s(k88)\sbuild/i],[r,[t,"ZTE"],[a,w]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[r,[t,"Swiss"],[a,l]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[r,[t,"Swiss"],[a,w]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[r,[t,"Zeki"],[a,w]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[t,"Dragon Touch"],r,[a,w]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[r,[t,"Insignia"],[a,w]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[r,[t,"NextBook"],[a,w]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[t,"Voice"],r,[a,l]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[t,"LvTel"],r,[a,l]],[/android.+;\s(PH-1)\s/i],[r,[t,"Essential"],[a,l]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[r,[t,"Envizen"],[a,w]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[t,r,[a,w]],[/android.+[;\/]\s*(Trio[\s\-]*.*)\s+build/i],[r,[t,"MachSpeed"],[a,w]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[t,r,[a,w]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[r,[t,"Rotor"],[a,w]],[/android.+(KS(.+))\s+build/i],[r,[t,"Amazon"],[a,w]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[t,r,[a,w]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[a,u.lowerize],t,r],[/(android[\w\.\s\-]{0,9});.+build/i],[r,[t,"Generic"]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[d,[n,"EdgeHTML"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[n,d],[/rv\:([\w\.]{1,9}).+(gecko)/i],[d,n]],os:[[/microsoft\s(windows)\s(vista|xp)/i],[n,d],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[n,[d,c.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[n,"Windows"],[d,c.str,m.os.windows.version]],[/\((bb)(10);/i],[[n,"BlackBerry"],d],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|contiki)[\/\s-]?([\w\.]*)/i,/linux;.+(sailfish);/i],[n,d],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[n,"Symbian"],d],[/\((series40);/i],[n],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[n,"Firefox OS"],d],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[n,d],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[n,"Chromium OS"],d],[/(sunos)\s?([\w\.\d]*)/i],[[n,"Solaris"],d],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[n,d],[/(haiku)\s(\w+)/i],[n,d],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[d,/_/g,"."],[n,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[n,"Mac OS"],[d,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[n,d]]},p=function(i,s){if("object"==typeof i&&(s=i,i=void 0),!(this instanceof p))return new p(i,s).getResult();var o=i||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),r=s?u.extend(b,s):b;return this.getBrowser=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.browser),i.major=u.major(i.version),i},this.getCPU=function(){var i={architecture:void 0};return c.rgx.call(i,o,r.cpu),i},this.getDevice=function(){var i={vendor:void 0,model:void 0,type:void 0};return c.rgx.call(i,o,r.device),i},this.getEngine=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.engine),i},this.getOS=function(){var i={name:void 0,version:void 0};return c.rgx.call(i,o,r.os),i},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return o},this.setUA=function(i){return o=i,this},this};p.VERSION="0.7.19",p.BROWSER={NAME:n,MAJOR:"major",VERSION:d},p.CPU={ARCHITECTURE:"architecture"},p.DEVICE={MODEL:r,VENDOR:t,TYPE:a,CONSOLE:"console",MOBILE:l,SMARTTV:"smarttv",TABLET:w,WEARABLE:"wearable",EMBEDDED:"embedded"},p.ENGINE={NAME:n,VERSION:d},p.OS={NAME:n,VERSION:d},void 0!==s?(void 0!==i&&i.exports&&(s=i.exports=p),s.UAParser=p):"function"==typeof define&&define.amd?define(function(){return p}):e&&(e.UAParser=p);var v=e&&(e.jQuery||e.Zepto);if(void 0!==v&&!v.ua){var g=new p;v.ua=g.getResult(),v.ua.get=function(){return g.getUA()},v.ua.set=function(i){g.setUA(i);var s=g.getResult();for(var e in s)v.ua[e]=s[e]}}}("object"==typeof window?window:this),i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(r,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var n=o(836),s="Unknown",i={"Mac OS":"Mac OS X"};var t,a=(new n).getResult(),c=function(r){if(!r)return{major:"",minor:""};var e=r.split(".");return{major:e[0],minor:e[1]}}(a.browser.version),m={browserArchitecture:a.cpu.architecture||s,browserFullVersion:a.browser.version||s,browserMinorVersion:c.minor||s,browserName:a.browser.name||s,browserVersion:a.browser.major||s,deviceName:a.device.model||s,engineName:a.engine.name||s,engineVersion:a.engine.version||s,platformArchitecture:a.cpu.architecture||s,platformName:(t=a.os.name,i[t]||t||s),platformVersion:a.os.version||s,platformFullVersion:a.os.version||s};r.exports=m,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(n,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var e=r(797),i=/\./,u=/\|\|/,o=/\s+\-\s+/,c=/^(<=|<|=|>=|~>|~|>|)?\s*(.+)/,a=/^(\d*)(.*)/;function s(n,t){var r=n.split(u);return r.length>1?r.some(function(n){return y.contains(n,t)}):function(n,t){var r=n.split(o);if(r.length>0&&r.length<=2||e(!1),1===r.length)return f(r[0],t);var i=r[0],u=r[1];return g(i)&&g(u)||e(!1),f(">="+i,t)&&f("<="+u,t)}(n=r[0].trim(),t)}function f(n,t){if(""===(n=n.trim()))return!0;var r,e=t.split(i),u=v(n),o=u.modifier,c=u.rangeComponents;switch(o){case"<":return l(e,c);case"<=":return-1===(r=I(e,c))||0===r;case">=":return h(e,c);case">":return function(n,t){return 1===I(n,t)}(e,c);case"~":case"~>":return function(n,t){var r=t.slice(),e=t.slice();e.length>1&&e.pop();var i=e.length-1,u=parseInt(e[i],10);p(u)&&(e[i]=u+1+"");return h(n,r)&&l(n,e)}(e,c);default:return function(n,t){return 0===I(n,t)}(e,c)}}function l(n,t){return-1===I(n,t)}function h(n,t){var r=I(n,t);return 1===r||0===r}function v(n){var t=n.split(i),r=t[0].match(c);return r||e(!1),{modifier:r[1],rangeComponents:[r[2]].concat(t.slice(1))}}function p(n){return!isNaN(n)&&isFinite(n)}function g(n){return!v(n).modifier}function m(n,t){for(var r=n.length;r<t;r++)n[r]="0"}function d(n,t){var r=n.match(a)[1],e=t.match(a)[1],i=parseInt(r,10),u=parseInt(e,10);return p(i)&&p(u)&&i!==u?x(i,u):x(n,t)}function x(n,t){return typeof n!=typeof t&&e(!1),n>t?1:n<t?-1:0}function I(n,t){for(var r=function(n,t){m(n=n.slice(),(t=t.slice()).length);for(var r=0;r<t.length;r++){var e=t[r].match(/^[x*]$/i);if(e&&(t[r]=n[r]="0","*"===e[0]&&r===t.length-1))for(var i=r;i<n.length;i++)n[i]="0"}return m(t,n.length),[n,t]}(n,t),e=r[0],i=r[1],u=0;u<i.length;u++){var o=d(e[u],i[u]);if(o)return o}return 0}var y={contains:function(n,t){return s(n.trim(),t.trim())}};n.exports=y,n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,r,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var e=Object.prototype.hasOwnProperty;t.exports=function(t,r,n){if(!t)return null;var o={};for(var a in t)e.call(t,a)&&(o[a]=r.call(n,t[a],a,t));return o},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 * @typechecks static-only
 */
"use strict";t.exports=function(t){var n={};return function(r){return n.hasOwnProperty(r)||(n[r]=t.call(this,r)),n[r]}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";var t=n(837),i=n(838),o=n(839),u=n(840);function s(r,e,n,t){if(r===n)return!0;if(!n.startsWith(r))return!1;var o=n.slice(r.length);return!!e&&(o=t?t(o):o,i.contains(o,e))}function c(r){return"Windows"===t.platformName?r.replace(/^\s*NT/,""):r}var a={isBrowser:function(r){return s(t.browserName,t.browserFullVersion,r)},isBrowserArchitecture:function(r){return s(t.browserArchitecture,null,r)},isDevice:function(r){return s(t.deviceName,null,r)},isEngine:function(r){return s(t.engineName,t.engineVersion,r)},isPlatform:function(r){return s(t.platformName,t.platformFullVersion,r,c)},isPlatformArchitecture:function(r){return s(t.platformArchitecture,null,r)}};r.exports=o(a,u),r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorTextNode.react
 * @format
 * 
 */
"use strict";var r=n(34,1),o=n(38,1),a=n(841),i=n(797),c=a.isBrowser("IE <= 11");var s=c?r.createElement("span",{key:"A","data-text":"true"},"\n"):r.createElement("br",{key:"A","data-text":"true"}),p=c?r.createElement("span",{key:"B","data-text":"true"},"\n"):r.createElement("br",{key:"B","data-text":"true"}),f=function(t){function e(n){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var r=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,n));return r._forceFlag=!1,r}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){var e=o.findDOMNode(this),n=""===t.children;return e instanceof Element||i(!1),n?!function(t){return c?"\n"===t.textContent:"BR"===t.tagName}(e):e.textContent!==t.children},e.prototype.componentDidMount=function(){this._forceFlag=!this._forceFlag},e.prototype.componentDidUpdate=function(){this._forceFlag=!this._forceFlag},e.prototype.render=function(){return""===this.props.children?this._forceFlag?s:p:r.createElement("span",{key:this._forceFlag?"A":"B","data-text":"true"},this.props.children)},e}(r.Component);t.exports=f,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftJsDebugLogging
 */
"use strict";t.exports={logSelectionStateFailure:function(){return null}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */e.exports=function(e){var o=(e?e.ownerDocument||e:document).defaultView||window;return!(!e||!("function"==typeof o.Node?e instanceof o.Node:"object"==typeof e&&"number"==typeof e.nodeType&&"string"==typeof e.nodeName))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var o=n(844);t.exports=function(t){return o(t)&&3==t.nodeType},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,t,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */var e=n(845);o.exports=function o(t,n){return!(!t||!n)&&(t===n||!e(t)&&(e(n)?o(t,n.parentNode):"contains"in t?t.contains(n):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(n))))},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */t.exports=function(t){if(void 0===(t=t||("undefined"!=typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule setDraftEditorSelection
 * @format
 * 
 */
"use strict";var o=n(843),a=n(846),r=n(847),s=n(797);function i(e,t){if(!e)return"[empty]";var n=function e(t,n){var o=void 0!==n?n(t):[];if(t.nodeType===Node.TEXT_NODE){var a=t.textContent.length;return document.createTextNode("[text "+a+(o.length?" | "+o.join(", "):"")+"]")}var r=t.cloneNode();1===r.nodeType&&o.length&&r.setAttribute("data-labels",o.join(", "));var s=t.childNodes;for(var i=0;i<s.length;i++)r.appendChild(e(s[i],n));return r}(e,t);return n.nodeType===Node.TEXT_NODE?n.textContent:(n instanceof Element||s(!1),n.outerHTML)}function l(e,t){for(var n=e;n;){if(n instanceof Element&&n.hasAttribute("contenteditable"))return i(n,t);n=n.parentNode}return"Could not find contentEditable parent of node"}function c(e){return null===e.nodeValue?e.childNodes.length:e.nodeValue.length}function f(e,t,n,s){var i=r();if(e.extend&&a(i,t)){n>c(t)&&o.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(s.toJS())});var f=t===e.focusNode;try{e.extend(t,n)}catch(d){throw o.logSelectionStateFailure({anonymizedDom:l(t,function(t){var n=[];return t===i&&n.push("active element"),t===e.anchorNode&&n.push("selection anchor node"),t===e.focusNode&&n.push("selection focus node"),n}),extraParams:JSON.stringify({activeElementName:i?i.nodeName:null,nodeIsFocus:t===e.focusNode,nodeWasFocus:f,selectionRangeCount:e.rangeCount,selectionAnchorNodeName:e.anchorNode?e.anchorNode.nodeName:null,selectionAnchorOffset:e.anchorOffset,selectionFocusNodeName:e.focusNode?e.focusNode.nodeName:null,selectionFocusOffset:e.focusOffset,message:d?""+d:null,offset:n},null,2),selectionState:JSON.stringify(s.toJS(),null,2)}),d}}else{var u=e.getRangeAt(0);u.setEnd(t,n),e.addRange(u.cloneRange())}}function u(e,t,n,a){var r=document.createRange();n>c(t)&&o.logSelectionStateFailure({anonymizedDom:l(t),extraParams:JSON.stringify({offset:n}),selectionState:JSON.stringify(a.toJS())}),r.setStart(t,n),e.addRange(r)}e.exports=function(e,t,n,o,r){if(a(document.documentElement,t)){var s=global.getSelection(),i=e.getAnchorKey(),l=e.getAnchorOffset(),c=e.getFocusKey(),d=e.getFocusOffset(),g=e.getIsBackward();if(!s.extend&&g){var N=i,m=l;i=c,l=d,c=N,d=m,g=!1}var v=i===n&&o<=l&&r>=l,h=c===n&&o<=d&&r>=d;if(v&&h)return s.removeAllRanges(),u(s,t,l-o,e),void f(s,t,d-o,e);if(g){if(h&&(s.removeAllRanges(),u(s,t,d-o,e)),v){var S=s.focusNode,y=s.focusOffset;s.removeAllRanges(),u(s,t,l-o,e),f(s,S,y,e)}}else v&&(s.removeAllRanges(),u(s,t,l-o,e)),h&&f(s,t,d-o,e)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorLeaf.react
 * @format
 * 
 */
"use strict";var n=o(32,1);var r=o(842),i=o(34,1),s=o(38,1),a=o(797),c=o(848),p=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._setSelection=function(){var t=this.props.selection;if(null!=t&&t.getHasFocus()){var e=this.props,o=e.block,n=e.start,r=e.text,i=o.getKey(),p=n+r.length;if(t.hasEdgeWithin(i,n,p)){var f=s.findDOMNode(this);f||a(!1);var u=f.firstChild;u||a(!1);var l=void 0;u.nodeType===Node.TEXT_NODE?l=u:"BR"===u.tagName?l=f:(l=u.firstChild)||a(!1),c(t,l,i,n,p)}}},e.prototype.shouldComponentUpdate=function(t){var e=s.findDOMNode(this.leaf);return e||a(!1),e.textContent!==t.text||t.styleSet!==this.props.styleSet||t.forceSelection},e.prototype.componentDidUpdate=function(){this._setSelection()},e.prototype.componentDidMount=function(){this._setSelection()},e.prototype.render=function(){var t=this,e=this.props.block,o=this.props.text;o.endsWith("\n")&&this.props.isLast&&(o+="\n");var s=this.props,a=s.customStyleMap,c=s.customStyleFn,p=s.offsetKey,f=s.styleSet,u=f.reduce(function(t,e){var o={},r=a[e];return void 0!==r&&t.textDecoration!==r.textDecoration&&(o.textDecoration=[t.textDecoration,r.textDecoration].join(" ").trim()),n(t,r,o)},{});if(c){var l=c(f,e);u=n(u,l)}return i.createElement("span",{"data-offset-key":p,ref:function(e){return t.leaf=e},style:u},i.createElement(r,null,o))},e}(i.Component);t.exports=p,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftOffsetKey
 * @format
 * 
 */
"use strict";var r={encode:function(e,t,n){return e+"-"+t+"-"+n},decode:function(e){var t=e.split("-"),n=t[0],r=t[1],o=t[2];return{blockKey:n,decoratorKey:parseInt(r,10),leafKey:parseInt(o,10)}}};e.exports=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */function n(o,e){return!!e&&(o===e.documentElement||o===e.body)}var r={getTop:function(o){var e=o.ownerDocument;return n(o,e)?e.body.scrollTop||e.documentElement.scrollTop:o.scrollTop},setTop:function(o,e){var t=o.ownerDocument;n(o,t)?t.body.scrollTop=t.documentElement.scrollTop=e:o.scrollTop=e},getLeft:function(o){var e=o.ownerDocument;return n(o,e)?e.body.scrollLeft||e.documentElement.scrollLeft:o.scrollLeft},setLeft:function(o,e){var t=o.ownerDocument;n(o,t)?t.body.scrollLeft=t.documentElement.scrollLeft=e:o.scrollLeft=e}};o.exports=r,o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var r=/-(.)/g;t.exports=function(t){return t.replace(r,function(t,e){return e.toUpperCase()})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var r=/([A-Z])/g;t.exports=function(t){return t.replace(r,"-$1").toLowerCase()},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var r=n(852),u=n(853);function l(e){return null==e?e:String(e)}e.exports=function(e,t){var n=void 0;if(window.getComputedStyle&&(n=window.getComputedStyle(e,null)))return l(n.getPropertyValue(u(t)));if(document.defaultView&&document.defaultView.getComputedStyle){if(n=document.defaultView.getComputedStyle(e,null))return l(n.getPropertyValue(u(t)));if("display"===t)return"none"}return e.currentStyle?l("float"===t?e.currentStyle.cssFloat||e.currentStyle.styleFloat:e.currentStyle[r(t)]):l(e.style&&e.style[r(t)])},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */function o(e,r){var t=n.get(e,r);return"auto"===t||"scroll"===t}var n={get:t(854),getScrollParent:function(e){if(!e)return null;for(var r=e.ownerDocument;e&&e!==r.body;){if(o(e,"overflow")||o(e,"overflowY")||o(e,"overflowX"))return e;e=e.parentNode}return r.defaultView||r.parentWindow}};e.exports=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var o=e(846);t.exports=function(t){var n=t.ownerDocument.documentElement;if(!("getBoundingClientRect"in t&&o(n,t)))return{left:0,right:0,top:0,bottom:0};var e=t.getBoundingClientRect();return{left:Math.round(e.left)-n.clientLeft,right:Math.round(e.right)-n.clientLeft,top:Math.round(e.top)-n.clientTop,bottom:Math.round(e.bottom)-n.clientTop}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=o(856);t.exports=function(t){var e=n(t);return{x:e.left,y:e.top,width:e.right-e.left,height:e.bottom-e.top}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var o="undefined"!=typeof navigator&&navigator.userAgent.indexOf("AppleWebKit")>-1;e.exports=function(e){return(e=e||document).scrollingElement?e.scrollingElement:o||"CSS1Compat"!==e.compatMode?e.body:e.documentElement},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";e.exports=function(e){return e.Window&&e instanceof e.Window?{x:e.pageXOffset||e.document.documentElement.scrollLeft,y:e.pageYOffset||e.document.documentElement.scrollTop}:{x:e.scrollLeft,y:e.scrollTop}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var o=e(858),i=e(859);t.exports=function(t){var n=o(t.ownerDocument||t.document);t.Window&&t instanceof t.Window&&(t=n);var e=i(t),c=t===n?t.ownerDocument.documentElement:t,r=t.scrollWidth-c.clientWidth,l=t.scrollHeight-c.clientHeight;return e.x=Math.max(0,Math.min(e.x,r)),e.y=Math.max(0,Math.min(e.y,l)),e},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){"use strict";function o(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientWidth),!t&&document.body&&(t=document.body.clientWidth),t||0}
/**
   * Copyright (c) 2013-present, Facebook, Inc.
   *
   * This source code is licensed under the MIT license found in the
   * LICENSE file in the root directory of this source tree.
   *
   * 
   * @typechecks
   */function i(){var t=void 0;return document.documentElement&&(t=document.documentElement.clientHeight),!t&&document.body&&(t=document.body.clientHeight),t||0}function d(){return{width:window.innerWidth||o(),height:window.innerHeight||i()}}d.withoutScrollbars=function(){return{width:o(),height:i()}},t.exports=d,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorBlock.react
 * @format
 * 
 */
"use strict";var r=o(32,1)||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(t[r]=o[r])}return t};var n=o(849),i=o(850),s=o(34,1),c=o(38,1),l=o(851),p=o(855),f=o(820),a=o(819),u=o(828),y=o(857),b=o(860),d=o(861),h=o(797),g=o(822),m=function(t,e){return t.getAnchorKey()===e||t.getFocusKey()===e},v=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.block!==t.block||this.props.tree!==t.tree||this.props.direction!==t.direction||m(t.selection,t.block.getKey())&&t.forceSelection},e.prototype.componentDidMount=function(){var t=this.props.selection,e=t.getEndKey();if(t.getHasFocus()&&e===this.props.block.getKey()){var o=c.findDOMNode(this),r=p.getScrollParent(o),n=b(r),i=void 0;if(r===window){var s=y(o);(i=s.y+s.height-d().height)>0&&window.scrollTo(n.x,n.y+i+10)}else{o instanceof HTMLElement||h(!1),(i=o.offsetHeight+o.offsetTop-(r.offsetHeight+n.y))>0&&l.setTop(r,l.getTop(r)+i+10)}}},e.prototype._renderChildren=function(){var t=this,e=this.props.block,o=e.getKey(),c=e.getText(),l=this.props.tree.size-1,p=m(this.props.selection,o);return this.props.tree.map(function(u,y){var b=u.get("leaves"),d=b.size-1,h=b.map(function(r,f){var a=i.encode(o,y,f),u=r.get("start"),b=r.get("end");return s.createElement(n,{key:a,offsetKey:a,block:e,start:u,selection:p?t.props.selection:null,forceSelection:t.props.forceSelection,text:c.slice(u,b),styleSet:e.getInlineStyleAt(u),customStyleMap:t.props.customStyleMap,customStyleFn:t.props.customStyleFn,isLast:y===l&&f===d})}).toArray(),m=u.get("decoratorKey");if(null==m)return h;if(!t.props.decorator)return h;var v=g(t.props.decorator),S=v.getComponentForKey(m);if(!S)return h;var j=v.getPropsForKey(m),D=i.encode(o,y,0),w=c.slice(b.first().get("start"),b.last().get("end")),K=a.getHTMLDirIfDifferent(f.getDirection(w),t.props.direction);return s.createElement(S,r({},j,{contentState:t.props.contentState,decoratedText:w,dir:K,key:D,entityKey:e.getEntityAt(u.get("start")),offsetKey:D}),h)}).toArray()},e.prototype.render=function(){var t=this.props,e=t.direction,o=t.offsetKey,r=u({"public/DraftStyleDefault/block":!0,"public/DraftStyleDefault/ltr":"LTR"===e,"public/DraftStyleDefault/rtl":"RTL"===e});return s.createElement("div",{"data-offset-key":o,className:r},this._renderChildren())},e}(s.Component);t.exports=v,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks static-only
 */
"use strict";t.exports=function(t){t||(t="");var n=void 0,o=arguments.length;if(o>1)for(var r=1;r<o;r++)(n=arguments[r])&&(t=(t?t+" ":"")+n);return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents-core.react
 * @format
 * 
 */
"use strict";var o=r(32,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var o in r)Object.prototype.hasOwnProperty.call(r,o)&&(e[o]=r[o])}return e};var n=r(862),l=r(850),a=(r(824),r(34,1)),i=r(828),c=r(863),p=r(822),s=function(e,t,r,o){return i({"public/DraftStyleDefault/unorderedListItem":"unordered-list-item"===e,"public/DraftStyleDefault/orderedListItem":"ordered-list-item"===e,"public/DraftStyleDefault/reset":r,"public/DraftStyleDefault/depth0":0===t,"public/DraftStyleDefault/depth1":1===t,"public/DraftStyleDefault/depth2":2===t,"public/DraftStyleDefault/depth3":3===t,"public/DraftStyleDefault/depth4":4===t,"public/DraftStyleDefault/listLTR":"LTR"===o,"public/DraftStyleDefault/listRTL":"RTL"===o})},u=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.shouldComponentUpdate=function(e){var t=this.props.editorState,r=e.editorState;if(t.getDirectionMap()!==r.getDirectionMap())return!0;if(t.getSelection().getHasFocus()!==r.getSelection().getHasFocus())return!0;var o=r.getNativelyRenderedContent(),n=t.isInCompositionMode(),l=r.isInCompositionMode();if(t===r||null!==o&&r.getCurrentContent()===o||n&&l)return!1;var a=t.getCurrentContent(),i=r.getCurrentContent(),c=t.getDecorator(),p=r.getDecorator();return n!==l||a!==i||c!==p||r.mustForceSelection()},t.prototype.render=function(){for(var e=this.props,t=e.blockRenderMap,r=e.blockRendererFn,i=e.blockStyleFn,u=e.customStyleMap,f=e.customStyleFn,d=e.editorState,y=e.editorKey,b=e.textDirectionality,g=d.getCurrentContent(),h=d.getSelection(),D=d.mustForceSelection(),m=d.getDecorator(),S=p(d.getDirectionMap()),v=g.getBlocksAsArray(),k=[],w=null,C=null,T=0;T<v.length;T++){var E=v[T],j=E.getKey(),F=E.getType(),M=r(E),O=void 0,R=void 0,x=void 0;M&&(O=M.component,R=M.props,x=M.editable);var K=b||S.get(j),L=l.encode(j,0,0),I={contentState:g,block:E,blockProps:R,blockStyleFn:i,customStyleMap:u,customStyleFn:f,decorator:m,direction:K,forceSelection:D,key:j,offsetKey:L,selection:h,tree:d.getBlockTree(j)},P=t.get(F)||t.get("unstyled"),_=P.wrapper,B=P.element||t.get("unstyled").element,A=E.getDepth(),H="";if(i&&(H=i(E)),"li"===B)H=c(H,s(F,A,C!==_||null===w||A>w,K));var N=O||n,U={className:H,"data-block":!0,"data-editor":y,"data-offset-key":L,key:j};void 0!==x&&(U=o({},U,{contentEditable:x,suppressContentEditableWarning:!0}));var W=a.createElement(B,U,a.createElement(N,I));k.push({block:W,wrapperTemplate:_,key:j,offsetKey:L}),w=_?E.getDepth():null,C=_}for(var q=[],z=0;z<k.length;){var G=k[z];if(G.wrapperTemplate){var J=[];do{J.push(k[z].block),z++}while(z<k.length&&k[z].wrapperTemplate===G.wrapperTemplate);var Q=a.cloneElement(G.wrapperTemplate,{key:G.key+"-wrap","data-offset-key":G.offsetKey},J);q.push(Q)}else q.push(G.block),z++}return a.createElement("div",{"data-contents":"true"},q)},t}(a.Component);e.exports=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){
/**
 * Copyright 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorContents.react
 * @format
 * 
 */
"use strict";var r=o(864);t.exports=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */var r={isImage:function(t){return"image"===i(t)[0]},isJpeg:function(t){var e=i(t);return r.isImage(t)&&("jpeg"===e[1]||"pjpeg"===e[1])}};function i(t){return t.split("/")}t.exports=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,t,e){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */var n=e(797);r.exports=function(r){return function(r){return!!r&&("object"==typeof r||"function"==typeof r)&&"length"in r&&!("setInterval"in r)&&"number"!=typeof r.nodeType&&(Array.isArray(r)||"callee"in r||"item"in r)}(r)?Array.isArray(r)?r.slice():function(r){var t=r.length;if((Array.isArray(r)||"object"!=typeof r&&"function"!=typeof r)&&n(!1),"number"!=typeof t&&n(!1),0===t||t-1 in r||n(!1),"function"==typeof r.callee&&n(!1),r.hasOwnProperty)try{return Array.prototype.slice.call(r)}catch(i){}for(var e=Array(t),o=0;o<t;o++)e[o]=r[o];return e}(r):[r]},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,i){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
var n=i(866),a=i(867),s=i(812),r=new RegExp("\r\n","g"),o={"text/rtf":1,"text/html":1};function u(t){if("file"==t.kind)return t.getAsFile()}var h=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.data=e,this.types=e.types?a(e.types):[]}return t.prototype.isRichText=function(){return!(!this.getHTML()||!this.getText())||!this.isImage()&&this.types.some(function(t){return o[t]})},t.prototype.getText=function(){var t;return this.data.getData&&(this.types.length?-1!=this.types.indexOf("text/plain")&&(t=this.data.getData("text/plain")):t=this.data.getData("Text")),t?t.replace(r,"\n"):null},t.prototype.getHTML=function(){if(this.data.getData){if(!this.types.length)return this.data.getData("Text");if(-1!=this.types.indexOf("text/html"))return this.data.getData("text/html")}},t.prototype.isLink=function(){return this.types.some(function(t){return-1!=t.indexOf("Url")||-1!=t.indexOf("text/uri-list")||t.indexOf("text/x-moz-url")})},t.prototype.getLink=function(){return this.data.getData?-1!=this.types.indexOf("text/x-moz-url")?this.data.getData("text/x-moz-url").split("\n")[0]:-1!=this.types.indexOf("text/uri-list")?this.data.getData("text/uri-list"):this.data.getData("url"):null},t.prototype.isImage=function(){var t=this.types.some(function(t){return-1!=t.indexOf("application/x-moz-file")});if(t)return!0;for(var e=this.getFiles(),i=0;i<e.length;i++){var a=e[i].type;if(!n.isImage(a))return!1}return!0},t.prototype.getCount=function(){return this.data.hasOwnProperty("items")?this.data.items.length:this.data.hasOwnProperty("mozItemCount")?this.data.mozItemCount:this.data.files?this.data.files.length:null},t.prototype.getFiles=function(){return this.data.items?Array.prototype.slice.call(this.data.items).map(u).filter(s.thatReturnsArgument):this.data.files?Array.prototype.slice.call(this.data.files):[]},t.prototype.hasFiles=function(){return this.getFiles().length>0},t}();t.exports=h,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSelectionOffsetKeyForNode
 * @format
 * 
 */
"use strict";t.exports=function t(e){if(e instanceof Element){var n=e.getAttribute("data-offset-key");if(n)return n;for(var r=0;r<e.childNodes.length;r++){var o=t(e.childNodes[r]);if(o)return o}}return null},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule findAncestorOffsetKey
 * @format
 * 
 */
"use strict";var o=n(869);e.exports=function(e){for(var t=e;t&&t!==document.documentElement;){var n=o(t);if(null!=n)return n;t=t.parentNode}return null},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getTextContentFromFiles
 * @format
 * 
 */
"use strict";var i=n(797),r=/\.textClipping$/,o={"text/plain":!0,"text/html":!0,"text/rtf":!0},a=5e3;t.exports=function(t,e){var n=0,f=[];t.forEach(function(l){!function(t,e){if(global.FileReader&&(!t.type||t.type in o)){if(""===t.type){var n="";return r.test(t.name)&&(n=t.name.replace(r,"")),void e(n)}var a=new FileReader;a.onload=function(){var t=a.result;"string"!=typeof t&&i(!1),e(t)},a.onerror=function(){e("")},a.readAsText(t)}else e("")}(l,function(i){n++,i&&f.push(i.slice(0,a)),n==t.length&&e(f.join("\r"))})})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getUpdatedSelectionState
 * @format
 * 
 */
"use strict";var o=r(850),n=r(822);e.exports=function(e,t,r,s,c){var f=n(e.getSelection()),a=o.decode(t),l=a.blockKey,u=e.getBlockTree(l).getIn([a.decoratorKey,"leaves",a.leafKey]),g=o.decode(s),i=g.blockKey,y=e.getBlockTree(i).getIn([g.decoratorKey,"leaves",g.leafKey]),K=u.get("start"),d=y.get("start"),k=u?K+r:null,p=y?d+c:null;if(f.getAnchorKey()===l&&f.getAnchorOffset()===k&&f.getFocusKey()===i&&f.getFocusOffset()===p)return f;var v=!1;if(l===i){var h=u.get("end"),O=y.get("end");v=d===K&&O===h?c<r:d<K}else v=e.getCurrentContent().getBlockMap().keySeq().skipUntil(function(e){return e===l||e===i}).first()===i;return f.merge({anchorKey:l,anchorOffset:k,focusKey:i,focusOffset:p,isBackward:v})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorDragHandler
 * @format
 * 
 */
"use strict";var r=n(868),a=n(811),o=n(824),i=n(870),l=n(871),s=n(872),u=n(833),f=n(822);var p={onDragEnd:function(e){e.exitCurrentMode()},onDrop:function(e,t){var n=new r(t.nativeEvent.dataTransfer),p=e._latestEditorState,g=function(e,t){var n=null,r=null;if("function"==typeof document.caretRangeFromPoint){var a=document.caretRangeFromPoint(e.x,e.y);n=a.startContainer,r=a.startOffset}else{if(!e.rangeParent)return null;n=e.rangeParent,r=e.rangeOffset}n=f(n),r=f(r);var o=f(i(n));return s(t,o,r,o,r)}(t.nativeEvent,p);if(t.preventDefault(),e.exitCurrentMode(),null!=g){var c=n.getFiles();if(c.length>0){if(e.props.handleDroppedFiles&&u(e.props.handleDroppedFiles(g,c)))return;l(c,function(t){t&&e.update(d(p,g,t))})}else{var v=e._internalDrag?"internal":"external";e.props.handleDrop&&u(e.props.handleDrop(g,n,v))||(e._internalDrag?e.update(function(e,t){var n=a.moveText(e.getCurrentContent(),e.getSelection(),t);return o.push(e,n,"insert-fragment")}(p,g)):e.update(d(p,g,n.getText())))}}}};function d(e,t,n){var r=a.insertText(e.getCurrentContent(),t,n,e.getCurrentInlineStyle());return o.push(e,r,"insert-fragment")}e.exports=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){!function(e,t){"use strict";if(!e.setImmediate){var n,a,s,o,c,i=1,r={},f=!1,l=e.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(e);u=u&&u.setTimeout?u:e,"[object process]"==={}.toString.call(e.process)?n=function(e){process.nextTick(function(){g(e)})}:!function(){if(e.postMessage&&!e.importScripts){var t=!0,n=e.onmessage;return e.onmessage=function(){t=!1},e.postMessage("","*"),e.onmessage=n,t}}()?e.MessageChannel?((s=new MessageChannel).port1.onmessage=function(e){g(e.data)},n=function(e){s.port2.postMessage(e)}):l&&"onreadystatechange"in l.createElement("script")?(a=l.documentElement,n=function(e){var t=l.createElement("script");t.onreadystatechange=function(){g(e),t.onreadystatechange=null,a.removeChild(t),t=null},a.appendChild(t)}):n=function(e){setTimeout(g,0,e)}:(o="setImmediate$"+Math.random()+"$",c=function(t){t.source===e&&"string"==typeof t.data&&0===t.data.indexOf(o)&&g(+t.data.slice(o.length))},e.addEventListener?e.addEventListener("message",c,!1):e.attachEvent("onmessage",c),n=function(t){e.postMessage(o+t,"*")}),u.setImmediate=function(e){"function"!=typeof e&&(e=new Function(""+e));for(var t=new Array(arguments.length-1),a=0;a<t.length;a++)t[a]=arguments[a+1];var s={callback:e,args:t};return r[i]=s,n(i),i++},u.clearImmediate=d}function d(e){delete r[e]}function g(e){if(f)setTimeout(g,0,e);else{var n=r[e];if(n){f=!0;try{!function(e){var n=e.callback,a=e.args;switch(a.length){case 0:n();break;case 1:n(a[0]);break;case 2:n(a[0],a[1]);break;case 3:n(a[0],a[1],a[2]);break;default:n.apply(t,a)}}(n)}finally{d(e),f=!1}}}}}("undefined"==typeof self?"undefined"==typeof global?this:global:self),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 */
"use strict";s(874),t.exports=global.setImmediate,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBeforeInput
 * @format
 * 
 */
"use strict";var r=n(813),o=n(811),i=n(824),a=n(841),d=n(832),f=n(833),p=n(834),l=n(822),u=n(875),g="'",s="/",c=a.isBrowser("Firefox");function S(e,t,n,r){var a=o.replaceText(e.getCurrentContent(),e.getSelection(),t,n,r);return i.push(e,a,"insert-characters")}e.exports=function(e,t){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var n=e._latestEditorState,o=t.data;if(o)if(e.props.handleBeforeInput&&f(e.props.handleBeforeInput(o,n)))t.preventDefault();else{var a=n.getSelection(),v=a.getStartOffset(),C=a.getEndOffset(),m=a.getAnchorKey();if(!a.isCollapsed())return t.preventDefault(),void(o===n.getCurrentContent().getPlainText().slice(v,C)?e.update(i.forceSelection(n,a.merge({focusOffset:C}))):e.update(S(n,o,n.getCurrentInlineStyle(),d(n.getCurrentContent(),n.getSelection()))));var B,F=S(n,o,n.getCurrentInlineStyle(),d(n.getCurrentContent(),n.getSelection())),I=!1;if(I||(I=p(e._latestCommittedEditorState)),!I){var h=global.getSelection();if(h.anchorNode&&h.anchorNode.nodeType===Node.TEXT_NODE){var T=h.anchorNode.parentNode;I="SPAN"===T.nodeName&&T.firstChild.nodeType===Node.TEXT_NODE&&-1!==T.firstChild.nodeValue.indexOf("\t")}}if(I||(I=r.getFingerprint(n.getBlockTree(m))!==r.getFingerprint(F.getBlockTree(m))),I||(B=o,I=c&&(B==g||B==s)),I||(I=l(F.getDirectionMap()).get(m)!==l(n.getDirectionMap()).get(m)),I)return t.preventDefault(),void e.update(F);F=i.set(F,{nativelyRenderedContent:F.getCurrentContent()}),e._pendingStateFromBeforeInput=F,u(function(){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0)})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnBlur
 * @format
 * 
 */
"use strict";var n=o(824),s=o(846),r=o(847);e.exports=function(e,t){if(r()===document.body){var o=global.getSelection(),a=e.editor;1===o.rangeCount&&s(a,o.anchorNode)&&s(a,o.focusNode)&&o.removeAllRanges()}var c=e._latestEditorState,i=c.getSelection();if(i.getHasFocus()){var l=i.set("hasFocus",!1);e.props.onBlur&&e.props.onBlur(t),e.update(n.acceptSelection(c,l))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCompositionStart
 * @format
 * 
 */
"use strict";var i=e(824);t.exports=function(t,o){t.setMode("composite"),t.update(i.set(t._latestEditorState,{inCompositionMode:!0})),t._onCompositionStart(o)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getFragmentFromSelection
 * @format
 * 
 */
"use strict";var o=n(803);t.exports=function(t){var e=t.getSelection();return e.isCollapsed()?null:o(t.getCurrentContent(),e)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCopy
 * @format
 * 
 */
"use strict";var n=o(879);t.exports=function(t,e){t._latestEditorState.getSelection().isCollapsed()?e.preventDefault():t.setClipboard(n(t._latestEditorState))},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnCut
 * @format
 * 
 */
"use strict";var r=o(811),n=o(824),i=o(855),a=o(879),s=o(860);e.exports=function(e,t){var o=e._latestEditorState,l=o.getSelection(),u=t.target,c=void 0;if(l.isCollapsed())t.preventDefault();else{u instanceof Node&&(c=s(i.getScrollParent(u)));var f=a(o);e.setClipboard(f),e.setMode("cut"),setTimeout(function(){e.restoreEditorDOM(c),e.exitCurrentMode(),e.update(function(e){var t=r.removeRange(e.getCurrentContent(),e.getSelection(),"forward");return n.push(e,t,"remove-range")}(o))},0)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragOver
 * @format
 * 
 */
"use strict";t.exports=function(t,e){t._internalDrag=!1,t.setMode("drag"),e.preventDefault()},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnDragStart
 * @format
 * 
 */
"use strict";t.exports=function(t){t._internalDrag=!0,t.setMode("drag")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnFocus
 * @format
 * 
 */
"use strict";var s=o(824),r=o(841);t.exports=function(t,e){var o=t._latestEditorState,c=o.getSelection();if(!c.getHasFocus()){var n=c.set("hasFocus",!0);t.props.onFocus&&t.props.onFocus(e),r.isBrowser("Chrome < 60.0.3081.0")?t.update(s.forceSelection(o,n)):t.update(s.acceptSelection(o,n))}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnInput
 * @format
 * 
 */
"use strict";var o=n(792),r=n(811),i=n(850),l=n(824),f=n(841),a=n(870),s=n(822),d=f.isEngine("Gecko"),c="\n\n";e.exports=function(e){void 0!==e._pendingStateFromBeforeInput&&(e.update(e._pendingStateFromBeforeInput),e._pendingStateFromBeforeInput=void 0);var t=global.getSelection(),n=t.anchorNode,f=t.isCollapsed,g=n.nodeType!==Node.TEXT_NODE,u=n.nodeType!==Node.TEXT_NODE&&n.nodeType!==Node.ELEMENT_NODE;if(o.draft_killswitch_allow_nontextnodes){if(g)return}else if(u)return;if(n.nodeType===Node.TEXT_NODE&&(null!==n.previousSibling||null!==n.nextSibling)){var p=n.parentNode;n.nodeValue=p.textContent;for(var E=p.firstChild;null!==E;E=E.nextSibling)E!==n&&p.removeChild(E)}var y=n.textContent,h=e._latestEditorState,T=s(a(n)),O=i.decode(T),v=O.blockKey,S=O.decoratorKey,b=O.leafKey,x=h.getBlockTree(v).getIn([S,"leaves",b]),N=x.start,_=x.end,m=h.getCurrentContent(),A=m.getBlockForKey(v),B=A.getText().slice(N,_);if(y.endsWith(c)&&(y=y.slice(0,-1)),y!==B){var k,C,D,F,K=h.getSelection(),M=K.merge({anchorOffset:N,focusOffset:_,isBackward:!1}),I=A.getEntityAt(N),w=I&&m.getEntity(I),X="MUTABLE"===(w&&w.getMutability()),j=X?"spellcheck-change":"apply-entity",L=r.replaceText(m,M,y,A.getInlineStyleAt(N),X?A.getEntityAt(N):null);if(d)k=t.anchorOffset,C=t.focusOffset,F=(D=N+Math.min(k,C))+Math.abs(k-C),k=D,C=F;else{var U=y.length-B.length;D=K.getStartOffset(),F=K.getEndOffset(),k=f?F+U:D,C=F+U}var G=L.merge({selectionBefore:m.getSelectionAfter(),selectionAfter:K.merge({anchorOffset:k,focusOffset:C})});e.update(l.push(h,G,j))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule KeyBindingUtil
 * @format
 * 
 */
"use strict";var r=n(841).isPlatform("Mac OS X"),o={isCtrlKeyCommand:function(t){return!!t.ctrlKey&&!t.altKey},isOptionKeyCommand:function(t){return r&&t.altKey},hasCommandModifier:function(t){return r?!!t.metaKey&&!t.altKey:o.isCtrlKeyCommand(t)}};t.exports=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule SecondaryClipboard
 * @format
 * 
 */
"use strict";var n=r(811),o=r(824),s=r(803),a=r(822),u=null,f={cut:function(e){var t=e.getCurrentContent(),r=e.getSelection(),f=null;if(r.isCollapsed()){var i=r.getAnchorKey(),g=t.getBlockForKey(i).getLength();if(g===r.getAnchorOffset())return e;f=r.set("focusOffset",g)}else f=r;f=a(f),u=s(t,f);var l=n.removeRange(t,f,"forward");return l===t?e:o.push(e,l,"remove-range")},paste:function(e){if(!u)return e;var t=n.replaceWithFragment(e.getCurrentContent(),e.getSelection(),u);return o.push(e,t,"insert-fragment")}};e.exports=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 */
"use strict";var e=n(797),u=55296,i=56319,o=56320,a=57343,f=/[\uD800-\uDFFF]/;function s(r){return u<=r&&r<=a}function c(r){return f.test(r)}function g(r,t){return 1+s(r.charCodeAt(t))}function h(r,t,n){if(t=t||0,n=void 0===n?1/0:n||0,!c(r))return r.substr(t,n);var e=r.length;if(e<=0||t>e||n<=0)return"";var u=0;if(t>0){for(;t>0&&u<e;t--)u+=g(r,u);if(u>=e)return""}else if(t<0){for(u=e;t<0&&0<u;t++)u-=g(r,u-1);u<0&&(u=0)}var i=e;if(n<e)for(i=u;n>0&&i<e;n--)i+=g(r,i);return r.substring(u,i)}var v={getCodePoints:function(r){for(var t=[],n=0;n<r.length;n+=g(r,n))t.push(r.codePointAt(n));return t},getUTF16Length:g,hasSurrogateUnit:c,isCodeUnitInSurrogateRange:s,isSurrogatePair:function(r,t){if(0<=t&&t<r.length||e(!1),t+1===r.length)return!1;var n=r.charCodeAt(t),f=r.charCodeAt(t+1);return u<=n&&n<=i&&o<=f&&f<=a},strlen:function(r){if(!c(r))return r.length;for(var t=0,n=0;n<r.length;n+=g(r,n))t++;return t},substring:function(r,t,n){(t=t||0)<0&&(t=0),(n=void 0===n?1/0:n||0)<0&&(n=0);var e=Math.abs(n-t);return h(r,t=t<n?t:n,e)},substr:h};r.exports=v,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeClientRects
 * @format
 * 
 */
"use strict";var n=r(841),o=r(797);var a=n.isBrowser("Chrome")?function(t){for(var e=t.cloneRange(),r=[],n=t.endContainer;null!=n;n=n.parentNode){var a=n===t.commonAncestorContainer;a?e.setStart(t.startContainer,t.startOffset):e.setStart(e.endContainer,0);var s,i=Array.from(e.getClientRects());if(r.push(i),a)return r.reverse(),(s=[]).concat.apply(s,r);e.setEndBefore(n)}o(!1)}:function(t){return Array.from(t.getClientRects())};t.exports=a,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule expandRangeToStartOfLine
 * @format
 * 
 */var o=n(888),r=n(889),a=n(797);function i(t,e){for(var n=1/0,o=1/0,r=-1/0,a=-1/0,i=0;i<t.length;i++){var l=t[i];0!==l.width&&1!==l.width&&(n=Math.min(n,l.top),o=Math.min(o,l.bottom),r=Math.max(r,l.top),a=Math.max(a,l.bottom))}return r<=o&&r-n<e&&a-o<e}function l(t){switch(t.nodeType){case Node.DOCUMENT_TYPE_NODE:return 0;case Node.TEXT_NODE:case Node.PROCESSING_INSTRUCTION_NODE:case Node.COMMENT_NODE:return t.length;default:return t.childNodes.length}}t.exports=function(t){t.collapsed||a(!1);var e=(t=t.cloneRange()).startContainer;1!==e.nodeType&&(e=e.parentNode);var n=function(t){var e=getComputedStyle(t),n=document.createElement("div");n.style.fontFamily=e.fontFamily,n.style.fontSize=e.fontSize,n.style.fontStyle=e.fontStyle,n.style.fontWeight=e.fontWeight,n.style.lineHeight=e.lineHeight,n.style.position="absolute",n.textContent="M";var o=document.body;o||a(!1),o.appendChild(n);var r=n.getBoundingClientRect();return o.removeChild(n),r.height}(e),s=t.endContainer,d=t.endOffset;for(t.setStart(t.startContainer,0);i(r(t),n)&&(s=t.startContainer,d=t.startOffset,s.parentNode||a(!1),t.setStartBefore(s),1!==s.nodeType||"inline"===getComputedStyle(s).display););for(var f=s,c=d-1;;){for(var u=f.nodeValue,h=c;h>=0;h--)if(!(null!=u&&h>0&&o.isSurrogatePair(u,h-1))){if(t.setStart(f,h),!i(r(t),n))break;s=f,d=h}if(-1===h||0===f.childNodes.length)break;c=l(f=f.childNodes[h])}return t.setStart(s,d),t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelectionWithNodes
 * @format
 * 
 */
"use strict";var i=n(870),l=n(869),r=n(872),s=n(797),f=n(822);function o(t,e,n){var r=e,o=i(r);if(null!=o||t&&(t===r||t.firstChild===r)||s(!1),t===r&&((r=r.firstChild)instanceof Element&&"true"===r.getAttribute("data-contents")||s(!1),n>0&&(n=r.childNodes.length)),0===n){var a=null;if(null!=o)a=o;else{var u=function(t){for(;t.firstChild&&(t.firstChild instanceof Element&&"true"===t.firstChild.getAttribute("data-blocks")||l(t.firstChild));)t=t.firstChild;return t}(r);a=f(l(u))}return{key:a,offset:0}}var c=r.childNodes[n-1],h=null,C=null;if(l(c)){var v=function(t){for(;t.lastChild&&(t.lastChild instanceof Element&&"true"===t.lastChild.getAttribute("data-blocks")||l(t.lastChild));)t=t.lastChild;return t}(c);h=f(l(v)),C=d(v)}else h=f(o),C=d(c);return{key:h,offset:C}}function d(t){var e=t.textContent;return"\n"===e?0:e.length}t.exports=function(t,e,n,l,s,d){var a=n.nodeType===Node.TEXT_NODE,u=s.nodeType===Node.TEXT_NODE;if(a&&u)return{selectionState:r(t,f(i(n)),l,f(i(s)),d),needsRecovery:!1};var c=null,h=null,C=!0;return a?(c={key:f(i(n)),offset:l},h=o(e,s,d)):u?(h={key:f(i(s)),offset:d},c=o(e,n,l)):(c=o(e,n,l),h=o(e,s,d),n===s&&l===d&&(C=!!n.firstChild&&"BR"!==n.firstChild.nodeName)),{selectionState:r(t,c.key,c.offset,h.key,h.offset),needsRecovery:C}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionBackward
 * @format
 * 
 */
"use strict";e.exports=function(e,t){var r=e.getSelection(),n=e.getCurrentContent(),o=r.getStartKey(),s=r.getStartOffset(),f=o,c=0;if(t>s){var u=n.getKeyBefore(o);null==u?f=o:(f=u,c=n.getBlockForKey(u).getText().length)}else c=s-t;return r.merge({focusKey:f,focusOffset:c,isBackward:!0})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule removeTextWithStrategy
 * @format
 * 
 */
"use strict";var r=n(811);t.exports=function(t,e,n){var i=t.getSelection(),o=t.getCurrentContent(),f=i;if(i.isCollapsed()){if("forward"===n){if(t.isSelectionAtEndOfContent())return o}else if(t.isSelectionAtStartOfContent())return o;if((f=e(t))===i)return o}return r.removeRange(o,f,n)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceToStartOfLine
 * @format
 * 
 */
"use strict";var r=n(824),o=n(890),a=n(891),i=n(892),s=n(893);t.exports=function(t){var e=s(t,function(t){var e=t.getSelection();if(e.isCollapsed()&&0===e.getAnchorOffset())return i(t,1);var n=global.getSelection().getRangeAt(0);return n=o(n),a(t,null,n.endContainer,n.endOffset,n.startContainer,n.startOffset).selectionState},"backward");return e===t.getCurrentContent()?t:r.push(t,e,"remove-range")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * @typechecks
 * @stub
 * 
 */
"use strict";t.exports={getPunctuation:function(){return"[.,+*?$|#{}()'\\^\\-\\[\\]\\\\\\/!@%\"~=<>_:;-----------]"}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftRemovableWord
 * @format
 * 
 */
"use strict";var r="\\s|(?![_])"+n(895).getPunctuation(),o=new RegExp("^(?:"+r+")*(?:[']|(?!"+r+").)*(?:(?!"+r+").)"),u=new RegExp("(?:(?!"+r+").)(?:[']|(?!"+r+").)*(?:"+r+")*$");function c(e,t){var n=t?u.exec(e):o.exec(e);return n?n[0]:e}var i={getBackward:function(e){return c(e,!0)},getForward:function(e){return c(e,!1)}};e.exports=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandBackspaceWord
 * @format
 * 
 */
"use strict";var n=r(896),o=r(824),a=r(892),c=r(893);t.exports=function(t){var e=c(t,function(t){var e=t.getSelection(),r=e.getStartOffset();if(0===r)return a(t,1);var o=e.getStartKey(),c=t.getCurrentContent().getBlockForKey(o).getText().slice(0,r),i=n.getBackward(c);return a(t,i.length||1)},"backward");return e===t.getCurrentContent()?t:o.push(t,e,"remove-range")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule moveSelectionForward
 * @format
 * 
 */
"use strict";t.exports=function(t,e){var r,n=t.getSelection(),o=n.getStartKey(),f=n.getStartOffset(),s=t.getCurrentContent(),c=o;return e>s.getBlockForKey(o).getText().length-f?(c=s.getKeyAfter(o),r=0):r=f+e,n.merge({focusKey:c,focusOffset:r})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandDeleteWord
 * @format
 * 
 */
"use strict";var o=r(896),n=r(824),a=r(898),g=r(893);t.exports=function(t){var e=g(t,function(t){var e=t.getSelection(),r=e.getStartOffset(),n=e.getStartKey(),g=t.getCurrentContent().getBlockForKey(n).getText().slice(r),i=o.getForward(g);return a(t,i.length||1)},"forward");return e===t.getCurrentContent()?t:n.push(t,e,"remove-range")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandInsertNewline
 * @format
 * 
 */
"use strict";var r=o(811),n=o(824);t.exports=function(t){var e=r.splitBlock(t.getCurrentContent(),t.getSelection());return n.push(t,e,"split-block")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToEndOfBlock
 * @format
 * 
 */
"use strict";var n=o(824);e.exports=function(e){var t=e.getSelection(),o=t.getEndKey(),r=e.getCurrentContent().getBlockForKey(o).getLength();return n.set(e,{selection:t.merge({anchorKey:o,anchorOffset:r,focusKey:o,focusOffset:r,isBackward:!1}),forceSelection:!0})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandMoveSelectionToStartOfBlock
 * @format
 * 
 */
"use strict";var r=o(824);e.exports=function(e){var t=e.getSelection(),o=t.getStartKey();return r.set(e,{selection:t.merge({anchorKey:o,anchorOffset:0,focusKey:o,focusOffset:0,isBackward:!1}),forceSelection:!0})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainBackspace
 * @format
 * 
 */
"use strict";var n=r(824),o=r(888),c=r(892),a=r(893);e.exports=function(e){var t=a(e,function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),a=t.getAnchorOffset(),i=r.getBlockForKey(n).getText()[a-1];return c(e,i?o.getUTF16Length(i,0):1)},"backward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"backspace-character":"remove-range")},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandPlainDelete
 * @format
 * 
 */
"use strict";var n=r(824),o=r(888),i=r(898),c=r(893);e.exports=function(e){var t=c(e,function(e){var t=e.getSelection(),r=e.getCurrentContent(),n=t.getAnchorKey(),c=t.getAnchorOffset(),s=r.getBlockForKey(n).getText()[c];return i(e,s?o.getUTF16Length(s,0):1)},"forward");if(t===e.getCurrentContent())return e;var r=e.getSelection();return n.push(e,t.set("selectionBefore",r),r.isCollapsed()?"delete-character":"remove-range")},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandTransposeCharacters
 * @format
 * 
 */
"use strict";var n=r(811),f=r(824),o=r(803);e.exports=function(e){var t=e.getSelection();if(!t.isCollapsed())return e;var r=t.getAnchorOffset();if(0===r)return e;var s,a,c=t.getAnchorKey(),i=e.getCurrentContent(),g=i.getBlockForKey(c).getLength();if(g<=1)return e;r===g?(s=t.set("anchorOffset",r-1),a=t):a=(s=t.set("focusOffset",r+1)).set("anchorOffset",r+1);var u=o(i,s),h=n.removeRange(i,s,"backward"),l=h.getSelectionAfter(),p=l.getAnchorOffset()-1,O=l.merge({anchorOffset:p,focusOffset:p}),v=n.replaceWithFragment(h,O,u),d=f.push(e,v,"insert-fragment");return f.acceptSelection(d,a)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule keyCommandUndo
 * @format
 * 
 */
"use strict";var o=n(824);e.exports=function(e,t,n){var r=o.undo(t);if("spellcheck-change"!==t.getLastChangeType())e.preventDefault(),t.getNativelyRenderedContent()?(n(o.set(t,{nativelyRenderedContent:null})),setTimeout(function(){n(r)},0)):n(r);else{var a=r.getCurrentContent();n(o.set(r,{nativelyRenderedContent:a}))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnKeyDown
 * @format
 * 
 */
"use strict";var t=o(811),n=o(824),a=o(886),s=o(831),c=o(887),p=o(841),d=o(833),i=o(894),u=o(897),l=o(899),m=o(900),f=o(901),k=o(902),v=o(903),C=o(904),y=o(905),w=o(906),h=a.isOptionKeyCommand,b=p.isBrowser("Chrome");e.exports=function(e,r){var o=r.which,a=e._latestEditorState;switch(o){case s.RETURN:if(r.preventDefault(),e.props.handleReturn&&d(e.props.handleReturn(r,a)))return;break;case s.ESC:return r.preventDefault(),void(e.props.onEscape&&e.props.onEscape(r));case s.TAB:return void(e.props.onTab&&e.props.onTab(r));case s.UP:return void(e.props.onUpArrow&&e.props.onUpArrow(r));case s.RIGHT:return void(e.props.onRightArrow&&e.props.onRightArrow(r));case s.DOWN:return void(e.props.onDownArrow&&e.props.onDownArrow(r));case s.LEFT:return void(e.props.onLeftArrow&&e.props.onLeftArrow(r));case s.SPACE:if(b&&h(r)){r.preventDefault();var p=t.replaceText(a.getCurrentContent(),a.getSelection(),"");return void e.update(n.push(a,p,"insert-characters"))}}var A=e.props.keyBindingFn(r);if(A)if("undo"!==A){if(r.preventDefault(),!e.props.handleKeyCommand||!d(e.props.handleKeyCommand(A,a))){var T=function(e,r){switch(e){case"redo":return n.redo(r);case"delete":return C(r);case"delete-word":return l(r);case"backspace":return v(r);case"backspace-word":return u(r);case"backspace-to-start-of-line":return i(r);case"split-block":return m(r);case"transpose-characters":return y(r);case"move-selection-to-start-of-block":return k(r);case"move-selection-to-end-of-block":return f(r);case"secondary-cut":return c.cut(r);case"secondary-paste":return c.paste(r);default:return r}}(A,a);T!==a&&e.update(T)}}else w(r,a,e.update)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 *
 * 
 */
"use strict";var r=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this._uri=n}return t.prototype.toString=function(){return this._uri},t}();t.exports=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getSafeBodyFromHTML
 * @format
 * 
 */
"use strict";var o=n(841),i=n(797),m=o.isBrowser("IE <= 9");e.exports=function(e){var t,n=null;return!m&&document.implementation&&document.implementation.createHTMLDocument&&((t=document.implementation.createHTMLDocument("foo")).documentElement||i(!1),t.documentElement.innerHTML=e,n=t.getElementsByTagName("body")[0]),n},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromHTMLToContentBlocks
 * @format
 * 
 */
"use strict";var r,i=l||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l=n(32,1);function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var o=n(787),s=n(789),c=n(790),u=n(829),f=n(815),d=n(792),p=n(785),h=n(785).Set,y=n(908),v=n(828),x=n(800),g=n(909),m=n(797),b=n(817),k=d.draft_tree_data_support,E=p.List,L=p.OrderedSet,M=new RegExp("\r","g"),T=new RegExp("\n","g"),D=new RegExp("&nbsp;","g"),R=new RegExp("&#13;?","g"),O=new RegExp("&#8203;?","g"),S=["bold","bolder","500","600","700","800","900"],w=["light","lighter","100","200","300","400"],I={b:"BOLD",code:"CODE",del:"STRIKETHROUGH",em:"ITALIC",i:"ITALIC",s:"STRIKETHROUGH",strike:"STRIKETHROUGH",strong:"BOLD",u:"UNDERLINE"},A=(a(r={},v("public/DraftStyleDefault/depth0"),0),a(r,v("public/DraftStyleDefault/depth1"),1),a(r,v("public/DraftStyleDefault/depth2"),2),a(r,v("public/DraftStyleDefault/depth3"),3),a(r,v("public/DraftStyleDefault/depth4"),4),r),B=["className","href","rel","target","title"],C=["alt","className","height","src","width"],H=void 0,N={text:"",inlines:[],entities:[],blocks:[]},U={children:E(),depth:0,key:"",type:""},K=function(e,t){return"li"===e?"ol"===t?"ordered-list-item":"unordered-list-item":null},j=function(e,t,n){var r=n.filter(function(t){return t.element===e||t.wrapper===e||t.aliasedElements&&t.aliasedElements.some(function(t){return t===e})}).keySeq().toSet().toArray().sort();switch(r.length){case 0:return"unstyled";case 1:return r[0];default:return function(e,t,n){for(var r=0;r<n.length;r++){var i=n[r](e,t);if(i)return i}return null}(e,t,[K])||"unstyled"}},_=function(e,t,n){var r=e.text.slice(-1),i=t.text.slice(0,1);if("\r"!==r||"\r"!==i||n||(e.text=e.text.slice(0,-1),e.inlines.pop(),e.entities.pop(),e.blocks.pop()),"\r"===r){if(" "===t.text||"\n"===t.text)return e;" "!==i&&"\n"!==i||(t.text=t.text.slice(1),t.inlines.shift(),t.entities.shift())}return{text:e.text+t.text,inlines:e.inlines.concat(t.inlines),entities:e.entities.concat(t.entities),blocks:e.blocks.concat(t.blocks)}},G=function(e){e instanceof HTMLAnchorElement||m(!1);var t=e.protocol;return"http:"===t||"https:"===t||"mailto:"===t},F=function(){return i({},N,{text:"\n",inlines:[L()],entities:new Array(1)})},P=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return{text:"\r",inlines:[L()],entities:new Array(1),blocks:[function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return i({},U,e)}({parent:n,key:x(),type:e,depth:Math.max(0,Math.min(4,t))})]}},q=function e(t,n,r,l,a,o,s,c,u,d){var p=H,h=n.nodeName.toLowerCase(),v=t,x="unstyled",g=!1,m=a&&j(a,l,c),b=i({},N),E=void 0;if("#text"===h){var M=n.textContent,D=M.trim();if(l&&""===D&&n.parentElement){var R=n.parentElement.nodeName.toLowerCase();if("ol"===R||"ul"===R)return{chunk:i({},N),entityMap:t}}return""===D&&"pre"!==a?{chunk:function(e){var t=new Array(1);return e&&(t[0]=e),i({},N,{text:" ",inlines:[L()],entities:t})}(u),entityMap:t}:("pre"!==a&&(M=M.replace(T," ")),H=h,{chunk:{text:M,inlines:Array(M.length).fill(r),entities:Array(M.length).fill(u),blocks:[]},entityMap:t})}if(H=h,"br"===h)return"br"!==p||a&&"unstyled"!==m?{chunk:F(),entityMap:t}:{chunk:P("unstyled",s,d),entityMap:t};if("img"===h&&n instanceof HTMLImageElement&&n.attributes.getNamedItem("src")&&n.attributes.getNamedItem("src").value){var O=n,U={};C.forEach(function(e){var t=O.getAttribute(e);t&&(U[e]=t)}),n.textContent="",u=f.__create("IMAGE","MUTABLE",U||{})}r=function(e,t,n){var r=I[e];if(r)n=n.add(r).toOrderedSet();else if(t instanceof HTMLElement){var i=t;n=n.withMutations(function(e){var t=i.style.fontWeight,n=i.style.fontStyle,r=i.style.textDecoration;S.indexOf(t)>=0?e.add("BOLD"):w.indexOf(t)>=0&&e.remove("BOLD"),"italic"===n?e.add("ITALIC"):"normal"===n&&e.remove("ITALIC"),"underline"===r&&e.add("UNDERLINE"),"line-through"===r&&e.add("STRIKETHROUGH"),"none"===r&&(e.remove("UNDERLINE"),e.remove("STRIKETHROUGH"))}).toOrderedSet()}return n}(h,n,r),"ul"!==h&&"ol"!==h||(l&&(s+=1),l=h),!k&&"li"===h&&n instanceof HTMLElement&&(s=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Object.keys(A).some(function(n){e.classList.contains(n)&&(t=A[n])}),t}(n,s));var K=j(h,l,c),q=l&&"li"===a&&"li"===h,z=(!a||k)&&-1!==o.indexOf(h);(q||z)&&(E=(b=P(K,s,d)).blocks[0].key,a=h,g=!k),q&&(x="ul"===l?"unordered-list-item":"ordered-list-item");var W=n.firstChild;null!=W&&(h=W.nodeName.toLowerCase());for(var J=null;W;){W instanceof HTMLAnchorElement&&W.href&&G(W)?function(){var e=W,t={};B.forEach(function(n){var r=e.getAttribute(n);r&&(t[n]=r)}),t.url=new y(e.href).toString(),J=f.__create("LINK","MUTABLE",t||{})}():J=void 0;var Q=e(v,W,r,l,a,o,s,c,J||u,k?E:null),V=Q.chunk;v=Q.entityMap,b=_(b,V,k);var X=W.nextSibling;!d&&X&&o.indexOf(h)>=0&&a&&(b=_(b,F())),X&&(h=X.nodeName.toLowerCase()),W=X}return g&&(b=_(b,P(x,s,d))),{chunk:b,entityMap:v}},z=function(e,t,n,r){e=e.trim().replace(M,"").replace(D," ").replace(R,"").replace(O,"");var l=function(e){var t=e.get("unstyled").element,n=h([]);return e.forEach(function(e){e.aliasedElements&&e.aliasedElements.forEach(function(e){n=n.add(e)}),n=n.add(e.element)}),n.filter(function(e){return e&&e!==t}).toArray().sort()}(n),a=t(e);if(!a)return null;H=null;var o=function(e,t){return t.some(function(t){return-1!==e.indexOf("<"+t)})}(e,l)?l:["div"],s=q(r,a,L(),"ul",null,o,-1,n),c=s.chunk,u=s.entityMap;return 0===c.text.indexOf("\r")&&(c={text:c.text.slice(1),inlines:c.inlines.slice(1),entities:c.entities.slice(1),blocks:c.blocks}),"\r"===c.text.slice(-1)&&(c.text=c.text.slice(0,-1),c.inlines=c.inlines.slice(0,-1),c.entities=c.entities.slice(0,-1),c.blocks.pop()),0===c.blocks.length&&c.blocks.push(i({},N,{type:"unstyled",depth:0})),c.text.split("\r").length===c.blocks.length+1&&c.blocks.unshift({type:"unstyled",depth:0}),{chunk:c,entityMap:u}};e.exports=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:g,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u,r=z(e,t,n,f);if(null==r)return null;var i=r.chunk,l=r.entityMap;return{contentBlocks:function(e){if(!e||!e.text||!Array.isArray(e.blocks))return null;var t=0,n=e.blocks,r=e.inlines,i=e.entities,l=k?c:s;return e.text.split("\r").reduce(function(e,a,s){a=b(a);var u=n[s],f=t+a.length,d=r.slice(t,f),p=i.slice(t,f),h=E(d.map(function(e,t){var n={style:e,entity:null};return p[t]&&(n.entity=p[t]),o.create(n)}));t=f+1;var y=u.depth,v=u.type,g=u.parent,m=u.key||x(),k=null;if(g){var L=e.cacheRef[g],M=e.contentBlocks[L];if(M.getChildKeys().isEmpty()&&M.getText()){var T=M.getCharacterList(),D=M.getText();k=x();var R=new c({key:k,text:D,characterList:T,parent:g,nextSibling:m});e.contentBlocks.push(R),M=M.withMutations(function(e){e.set("characterList",E()).set("text","").set("children",M.children.push(R.getKey()))})}e.contentBlocks[L]=M.set("children",M.children.push(m))}var O=new l({key:m,parent:g,type:v,depth:y,text:a,characterList:h,prevSibling:k||(0===s||n[s-1].parent!==g?null:n[s-1].key),nextSibling:s===n.length-1||n[s+1].parent!==g?null:n[s+1].key});return e.contentBlocks.push(O),e.cacheRef[O.key]=s,e},{cacheRef:{},contentBlocks:[]}).contentBlocks}(i),entityMap:l}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftPasteProcessor
 * @format
 * 
 */
"use strict";var n=r(32,1)||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o=(r(787),r(789)),a=r(790),c=r(792),s=r(785),i=r(910),u=r(800),p=r(909),f=r(817),l=s.List,g=s.Repeat,d=c.draft_tree_data_support,v=d?a:o,x={processHTML:function(t,e){return i(t,p,e)},processText:function(t,e,r){return t.reduce(function(t,o,a){o=f(o);var c=u(),s={key:c,type:r,text:o,characterList:l(g(e,o.length))};if(d&&0!==a){var i=a-1,p=t[i]=t[i].merge({nextSibling:c});s=n({},s,{prevSibling:p.getKey()})}return t.push(new v(s)),t},[])}};t.exports=x,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule adjustBlockDepthForContentState
 * @format
 * 
 */
"use strict";t.exports=function(t,e,n,r){var o=e.getStartKey(),c=e.getEndKey(),i=t.getBlockMap(),a=i.toSeq().skipUntil(function(t,e){return e===o}).takeUntil(function(t,e){return e===c}).concat([[c,i.get(c)]]).map(function(t){var e=t.getDepth()+n;return e=Math.max(0,Math.min(e,r)),t.set("depth",e)});return i=i.merge(a),t.merge({blockMap:i,selectionBefore:e,selectionAfter:e})},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule RichTextEditorUtil
 * @format
 * 
 */
"use strict";var r=n(811),o=n(824),l=(n(816),n(912)),c=n(822),g={currentBlockContainsLink:function(e){var t=e.getSelection(),n=e.getCurrentContent(),r=n.getEntityMap();return n.getBlockForKey(t.getAnchorKey()).getCharacterList().slice(t.getStartOffset(),t.getEndOffset()).some(function(e){var t=e.getEntity();return!!t&&"LINK"===r.__get(t).getType()})},getCurrentBlockType:function(e){var t=e.getSelection();return e.getCurrentContent().getBlockForKey(t.getStartKey()).getType()},getDataObjectForLinkURL:function(e){return{url:e.toString()}},handleKeyCommand:function(e,t){switch(t){case"bold":return g.toggleInlineStyle(e,"BOLD");case"italic":return g.toggleInlineStyle(e,"ITALIC");case"underline":return g.toggleInlineStyle(e,"UNDERLINE");case"code":return g.toggleCode(e);case"backspace":case"backspace-word":case"backspace-to-start-of-line":return g.onBackspace(e);case"delete":case"delete-word":case"delete-to-end-of-block":return g.onDelete(e);default:return null}},insertSoftNewline:function(e){var t=r.insertText(e.getCurrentContent(),e.getSelection(),"\n",e.getCurrentInlineStyle(),null),n=o.push(e,t,"insert-characters");return o.forceSelection(n,t.getSelectionAfter())},onBackspace:function(e){var t=e.getSelection();if(!t.isCollapsed()||t.getAnchorOffset()||t.getFocusOffset())return null;var n=e.getCurrentContent(),r=t.getStartKey(),l=n.getBlockBefore(r);if(l&&"atomic"===l.getType()){var c=n.getBlockMap().delete(l.getKey()),i=n.merge({blockMap:c,selectionAfter:t});if(i!==n)return o.push(e,i,"remove-range")}var u=g.tryToRemoveBlockStyle(e);return u?o.push(e,u,"change-block-type"):null},onDelete:function(e){var t=e.getSelection();if(!t.isCollapsed())return null;var n=e.getCurrentContent(),l=t.getStartKey(),c=n.getBlockForKey(l).getLength();if(t.getStartOffset()<c)return null;var g=n.getBlockAfter(l);if(!g||"atomic"!==g.getType())return null;var i=t.merge({focusKey:g.getKey(),focusOffset:g.getLength()}),u=r.removeRange(n,i,"forward");return u!==n?o.push(e,u,"remove-range"):null},onTab:function(e,t,n){var r=t.getSelection(),c=r.getAnchorKey();if(c!==r.getFocusKey())return t;var g=t.getCurrentContent(),i=g.getBlockForKey(c),u=i.getType();if("unordered-list-item"!==u&&"ordered-list-item"!==u)return t;e.preventDefault();var a=g.getBlockBefore(c);if(!a)return t;var s=a.getType();if("unordered-list-item"!==s&&"ordered-list-item"!==s)return t;var f=i.getDepth();if(!e.shiftKey&&f===n)return t;n=Math.min(a.getDepth()+1,n);var y=l(g,r,e.shiftKey?-1:1,n);return o.push(t,y,"adjust-depth")},toggleBlockType:function(e,t){var n=e.getSelection(),l=n.getStartKey(),g=n.getEndKey(),i=e.getCurrentContent(),u=n;if(l!==g&&0===n.getEndOffset()){var a=c(i.getBlockBefore(g));g=a.getKey(),u=u.merge({anchorKey:l,anchorOffset:n.getStartOffset(),focusKey:g,focusOffset:a.getLength(),isBackward:!1})}if(i.getBlockMap().skipWhile(function(e,t){return t!==l}).reverse().skipWhile(function(e,t){return t!==g}).some(function(e){return"atomic"===e.getType()}))return e;var s=i.getBlockForKey(l).getType()===t?"unstyled":t;return o.push(e,r.setBlockType(i,u,s),"change-block-type")},toggleCode:function(e){var t=e.getSelection(),n=t.getAnchorKey(),r=t.getFocusKey();return t.isCollapsed()||n!==r?g.toggleBlockType(e,"code-block"):g.toggleInlineStyle(e,"CODE")},toggleInlineStyle:function(e,t){var n=e.getSelection(),l=e.getCurrentInlineStyle();if(n.isCollapsed())return o.setInlineStyleOverride(e,l.has(t)?l.remove(t):l.add(t));var c,g=e.getCurrentContent();return c=l.has(t)?r.removeInlineStyle(g,n,t):r.applyInlineStyle(g,n,t),o.push(e,c,"change-inline-style")},toggleLink:function(e,t,n){var l=r.applyEntity(e.getCurrentContent(),t,n);return o.push(e,l,"apply-entity")},tryToRemoveBlockStyle:function(e){var t=e.getSelection(),n=t.getAnchorOffset();if(t.isCollapsed()&&0===n){var o=t.getAnchorKey(),l=e.getCurrentContent(),c=l.getBlockForKey(o),g=l.getFirstBlock();if(c.getLength()>0&&c!==g)return null;var i=c.getType(),u=l.getBlockBefore(o);if("code-block"===i&&u&&"code-block"===u.getType()&&0!==u.getLength())return null;if("unstyled"!==i)return r.setBlockType(l,t,"unstyled")}return null}};e.exports=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule splitTextIntoTextBlocks
 * @format
 * 
 */
"use strict";var e=/\r\n?|\n/g;t.exports=function(t){return t.split(e)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnPaste
 * @format
 * 
 */
"use strict";var n=r(786),a=r(787),i=r(868),o=r(811),s=r(911),l=r(824),p=r(913),c=r(832),d=r(871),u=r(833),f=r(914);function g(t,e,r){var n=o.replaceWithFragment(t.getCurrentContent(),t.getSelection(),e);return l.push(t,n.set("entityMap",r),"insert-fragment")}t.exports=function(t,e){e.preventDefault();var r=new i(e.clipboardData);if(!r.isRichText()){var v=r.getFiles(),x=r.getText();if(v.length>0){if(t.props.handlePastedFiles&&u(t.props.handlePastedFiles(v)))return;return void d(v,function(e){if(e=e||x){var r=t._latestEditorState,i=f(e),d=a.create({style:r.getCurrentInlineStyle(),entity:c(r.getCurrentContent(),r.getSelection())}),u=p.getCurrentBlockType(r),g=s.processText(i,d,u),v=n.createFromArray(g),y=o.replaceWithFragment(r.getCurrentContent(),r.getSelection(),v);t.update(l.push(r,y,"insert-fragment"))}})}}var y=[],T=r.getText(),h=r.getHTML(),C=t._latestEditorState;if(!t.props.handlePastedText||!u(t.props.handlePastedText(T,h,C))){if(T&&(y=f(T)),!t.props.stripPastedStyles){var S=t.getClipboard();if(r.isRichText()&&S){if(-1!==h.indexOf(t.getEditorKey())||1===y.length&&1===S.size&&S.first().getText()===T)return void t.update(g(t._latestEditorState,S))}else if(S&&r.types.includes("com.apple.webarchive")&&!r.types.includes("text/html")&&function(t,e){return t.length===e.size&&e.valueSeq().every(function(e,r){return e.getText()===t[r]})}(y,S))return void t.update(g(t._latestEditorState,S));if(h){var F=s.processHTML(h,t.props.blockRenderMap);if(F){var E=F.contentBlocks,m=F.entityMap;if(E){var M=n.createFromArray(E);return void t.update(g(t._latestEditorState,M,m))}}}t.setClipboard(null)}if(y.length){var b=a.create({style:C.getCurrentInlineStyle(),entity:c(C.getCurrentContent(),C.getSelection())}),P=p.getCurrentBlockType(C),k=s.processText(y,b,P),B=n.createFromArray(k);t.update(g(t._latestEditorState,B))}}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDraftEditorSelection
 * @format
 * 
 */
"use strict";var n=o(891);e.exports=function(e,t){var o=global.getSelection();return 0===o.rangeCount?{selectionState:e.getSelection().set("hasFocus",!1),needsRecovery:!1}:n(e,t,o.anchorNode,o.anchorOffset,o.focusNode,o.focusOffset)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule editOnSelect
 * @format
 * 
 */
"use strict";var i=o(824),r=o(38,1),n=o(916),a=o(797);t.exports=function(t){if(!t._blockSelectEvents&&t._latestEditorState===t.props.editorState){var e=t.props.editorState,o=r.findDOMNode(t.editorContainer);o||a(!1),o.firstChild instanceof HTMLElement||a(!1);var c=n(e,o.firstChild),s=c.selectionState;s!==e.getSelection()&&(e=c.needsRecovery?i.forceSelection(e,s):i.acceptSelection(e,s),t.update(e))}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorEditHandler
 * @format
 * 
 */
"use strict";var o={onBeforeInput:e(876),onBlur:e(877),onCompositionStart:e(878),onCopy:e(880),onCut:e(881),onDragOver:e(882),onDragStart:e(883),onFocus:e(884),onInput:e(885),onKeyDown:e(907),onPaste:e(915),onSelect:e(917)};t.exports=o,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditorPlaceholder.react
 * @format
 * 
 */
"use strict";var r=o(34,1),n=o(828),i=function(t){function e(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype.shouldComponentUpdate=function(t){return this.props.text!==t.text||this.props.editorState.getSelection().getHasFocus()!==t.editorState.getSelection().getHasFocus()},e.prototype.render=function(){var t=this.props.editorState.getSelection().getHasFocus(),e=n({"public/DraftEditorPlaceholder/root":!0,"public/DraftEditorPlaceholder/hasFocus":t});return r.createElement("div",{className:e},r.createElement("div",{className:n("public/DraftEditorPlaceholder/inner"),id:this.props.accessibilityID,style:{whiteSpace:"pre-wrap"}},this.props.text))},e}(r.Component);t.exports=i,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getDefaultKeyBinding
 * @format
 * 
 */
"use strict";var t=r(886),l=r(831),s=r(841),c=s.isPlatform("Mac OS X"),u=s.isPlatform("Windows"),a=c&&s.isBrowser("Firefox < 29"),o=t.hasCommandModifier,i=t.isCtrlKeyCommand;function d(e){return c&&e.altKey||i(e)}e.exports=function(e){switch(e.keyCode){case 66:return o(e)?"bold":null;case 68:return i(e)?"delete":null;case 72:return i(e)?"backspace":null;case 73:return o(e)?"italic":null;case 74:return o(e)?"code":null;case 75:return!u&&i(e)?"secondary-cut":null;case 77:case 79:return i(e)?"split-block":null;case 84:return c&&i(e)?"transpose-characters":null;case 85:return o(e)?"underline":null;case 87:return c&&i(e)?"backspace-word":null;case 89:return i(e)?u?"redo":"secondary-paste":null;case 90:return function(e){return o(e)?e.shiftKey?"redo":"undo":null}(e)||null;case l.RETURN:return"split-block";case l.DELETE:return function(e){return u&&e.shiftKey?null:d(e)?"delete-word":"delete"}(e);case l.BACKSPACE:return function(e){return o(e)&&c?"backspace-to-start-of-line":d(e)?"backspace-word":"backspace"}(e);case l.LEFT:return a&&o(e)?"move-selection-to-start-of-block":null;case l.RIGHT:return a&&o(e)?"move-selection-to-end-of-block":null;default:return null}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftEditor.react
 * @format
 * 
 * @preventMunge
 */
"use strict";var n=o(32,1)||function(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var n in o)Object.prototype.hasOwnProperty.call(o,n)&&(t[n]=o[n])}return t};var r=o(829),i=o(830),a=o(835),l=o(865),s=o(873),d=o(918),p=o(919),c=o(824),u=o(34,1),h=o(38,1),f=o(851),_=o(855),b=o(841),y=o(828),D=o(812),S=o(800),C=o(920),g=o(860),m=o(797),E=o(822),v=b.isBrowser("IE"),w=!v,H={edit:d,composite:a,drag:s,cut:null,render:null},x=function(t){function e(o){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e);var n=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!=typeof e&&"function"!=typeof e?t:e}(this,t.call(this,o));return n.focus=function(t){var e=n.props.editorState,o=e.getSelection().getHasFocus(),r=h.findDOMNode(n.editor);if(r){var i=_.getScrollParent(r),a=t||g(i),l=a.x,s=a.y;r instanceof HTMLElement||m(!1),r.focus(),i===window?window.scrollTo(l,s):f.setTop(i,s),o||n.update(c.forceSelection(e,e.getSelection()))}},n.blur=function(){var t=h.findDOMNode(n.editor);t instanceof HTMLElement||m(!1),t.blur()},n.setMode=function(t){n._handler=H[t]},n.exitCurrentMode=function(){n.setMode("edit")},n.restoreEditorDOM=function(t){n.setState({contentsKey:n.state.contentsKey+1},function(){n.focus(t)})},n.setClipboard=function(t){n._clipboard=t},n.getClipboard=function(){return n._clipboard},n.update=function(t){n._latestEditorState=t,n.props.onChange(t)},n.onDragEnter=function(){n._dragCount++},n.onDragLeave=function(){n._dragCount--,0===n._dragCount&&n.exitCurrentMode()},n._blockSelectEvents=!1,n._clipboard=null,n._handler=null,n._dragCount=0,n._editorKey=o.editorKey||S(),n._placeholderAccessibilityID="placeholder-"+n._editorKey,n._latestEditorState=o.editorState,n._latestCommittedEditorState=o.editorState,n._onBeforeInput=n._buildHandler("onBeforeInput"),n._onBlur=n._buildHandler("onBlur"),n._onCharacterData=n._buildHandler("onCharacterData"),n._onCompositionEnd=n._buildHandler("onCompositionEnd"),n._onCompositionStart=n._buildHandler("onCompositionStart"),n._onCopy=n._buildHandler("onCopy"),n._onCut=n._buildHandler("onCut"),n._onDragEnd=n._buildHandler("onDragEnd"),n._onDragOver=n._buildHandler("onDragOver"),n._onDragStart=n._buildHandler("onDragStart"),n._onDrop=n._buildHandler("onDrop"),n._onInput=n._buildHandler("onInput"),n._onFocus=n._buildHandler("onFocus"),n._onKeyDown=n._buildHandler("onKeyDown"),n._onKeyPress=n._buildHandler("onKeyPress"),n._onKeyUp=n._buildHandler("onKeyUp"),n._onMouseDown=n._buildHandler("onMouseDown"),n._onMouseUp=n._buildHandler("onMouseUp"),n._onPaste=n._buildHandler("onPaste"),n._onSelect=n._buildHandler("onSelect"),n.getEditorKey=function(){return n._editorKey},n.state={contentsKey:0},n}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}(e,t),e.prototype._buildHandler=function(t){var e=this;return function(o){if(!e.props.readOnly){var n=e._handler&&e._handler[t];n&&n(e,o)}}},e.prototype._showPlaceholder=function(){return!!this.props.placeholder&&!this.props.editorState.isInCompositionMode()&&!this.props.editorState.getCurrentContent().hasText()},e.prototype._renderPlaceholder=function(){if(this._showPlaceholder()){var t={text:E(this.props.placeholder),editorState:this.props.editorState,textAlignment:this.props.textAlignment,accessibilityID:this._placeholderAccessibilityID};return u.createElement(p,t)}return null},e.prototype.render=function(){var t=this,e=this.props,o=e.blockRenderMap,r=e.blockRendererFn,a=e.blockStyleFn,s=e.customStyleFn,d=e.customStyleMap,p=e.editorState,c=e.readOnly,h=e.textAlignment,f=e.textDirectionality,_=y({"DraftEditor/root":!0,"DraftEditor/alignLeft":"left"===h,"DraftEditor/alignRight":"right"===h,"DraftEditor/alignCenter":"center"===h}),b=this.props.role||"textbox",D="combobox"===b?!!this.props.ariaExpanded:null,S={blockRenderMap:o,blockRendererFn:r,blockStyleFn:a,customStyleMap:n({},i,d),customStyleFn:s,editorKey:this._editorKey,editorState:p,key:"contents"+this.state.contentsKey,textDirectionality:f};return u.createElement("div",{className:_},this._renderPlaceholder(),u.createElement("div",{className:y("DraftEditor/editorContainer"),ref:function(e){return t.editorContainer=e}},u.createElement("div",{"aria-activedescendant":c?null:this.props.ariaActiveDescendantID,"aria-autocomplete":c?null:this.props.ariaAutoComplete,"aria-controls":c?null:this.props.ariaControls,"aria-describedby":this.props.ariaDescribedBy||this._placeholderAccessibilityID,"aria-expanded":c?null:D,"aria-label":this.props.ariaLabel,"aria-labelledby":this.props.ariaLabelledBy,"aria-multiline":this.props.ariaMultiline,autoCapitalize:this.props.autoCapitalize,autoComplete:this.props.autoComplete,autoCorrect:this.props.autoCorrect,className:y({notranslate:!c,"public/DraftEditor/content":!0}),contentEditable:!c,"data-testid":this.props.webDriverTestID,onBeforeInput:this._onBeforeInput,onBlur:this._onBlur,onCompositionEnd:this._onCompositionEnd,onCompositionStart:this._onCompositionStart,onCopy:this._onCopy,onCut:this._onCut,onDragEnd:this._onDragEnd,onDragEnter:this.onDragEnter,onDragLeave:this.onDragLeave,onDragOver:this._onDragOver,onDragStart:this._onDragStart,onDrop:this._onDrop,onFocus:this._onFocus,onInput:this._onInput,onKeyDown:this._onKeyDown,onKeyPress:this._onKeyPress,onKeyUp:this._onKeyUp,onMouseUp:this._onMouseUp,onPaste:this._onPaste,onSelect:this._onSelect,ref:function(e){return t.editor=e},role:c?null:b,spellCheck:w&&this.props.spellCheck,style:{outline:"none",userSelect:"text",WebkitUserSelect:"text",whiteSpace:"pre-wrap",wordWrap:"break-word"},suppressContentEditableWarning:!0,tabIndex:this.props.tabIndex},u.createElement(l,S))))},e.prototype.componentDidMount=function(){this.setMode("edit"),v&&document.execCommand("AutoUrlDetect",!1,!1)},e.prototype.componentWillUpdate=function(t){this._blockSelectEvents=!0,this._latestEditorState=t.editorState},e.prototype.componentDidUpdate=function(){this._blockSelectEvents=!1,this._latestCommittedEditorState=this.props.editorState},e}(u.Component);x.defaultProps={blockRenderMap:r,blockRendererFn:D.thatReturnsNull,blockStyleFn:D.thatReturns(""),keyBindingFn:C,readOnly:!1,spellCheck:!1,stripPastedStyles:!1},t.exports=x,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule DraftStringKey
 * @format
 * 
 */
"use strict";var i={stringify:function(t){return"_"+String(t)},unstringify:function(t){return t.slice(1)}};t.exports=i,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeEntityRanges
 * @format
 * 
 */
"use strict";var i=e(922),r=e(888).strlen;t.exports=function(t,n){var e=[];return t.findEntityRanges(function(t){return!!t.getEntity()},function(s,f){var o=t.getText(),u=t.getEntityAt(s);e.push({offset:r(o.slice(0,s)),length:r(o.slice(s,f)),key:Number(n[i.stringify(u)])})}),e},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule encodeInlineStyleRanges
 * @format
 * 
 */
"use strict";var r=e(888),o=e(788),i=function(t,n){return t===n},s=function(t){return!!t},u=[];t.exports=function(t){var n=t.getCharacterList().map(function(t){return t.getStyle()}).toList(),e=n.flatten().toSet().map(function(e){return function(t,n,e){var u=[],a=n.map(function(t){return t.has(e)}).toList();return o(a,i,s,function(n,o){var i=t.getText();u.push({offset:r.strlen(i.slice(0,n)),length:r.strlen(i.slice(n,o)),style:e})}),u}(t,n,e)});return Array.prototype.concat.apply(u,e.toJS())},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromDraftStateToRaw
 * @format
 * 
 */
"use strict";var i=n(32,1)||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},a=n(789),r=n(790),o=n(922),c=n(923),s=n(924),y=n(797),u=function(t,e){return{key:t.getKey(),text:t.getText(),type:t.getType(),depth:t.getDepth(),inlineStyleRanges:s(t),entityRanges:c(t,e),data:t.getData().toObject()}},f=function(t,e){var n=e.entityMap,c=[],s={},f={},g=0;return t.getBlockMap().forEach(function(t){t.findEntityRanges(function(t){return null!==t.getEntity()},function(e){var i=t.getEntityAt(e),a=o.stringify(i);f[a]||(f[a]=i,n[a]=""+g,g++)}),function(t,e,n,o){if(t instanceof a)n.push(u(t,e));else{t instanceof r||y(!1);var c=t.getParentKey(),s=o[t.getKey()]=i({},u(t,e),{children:[]});c?o[c].children.push(s):n.push(s)}}(t,n,c,s)}),{blocks:c,entityMap:n}};t.exports=function(t){var e={entityMap:{},blocks:[]};return e=function(t,e){var n=e.blocks,i=e.entityMap,a={};return Object.keys(i).forEach(function(e,n){var i=t.getEntity(o.unstringify(e));a[n]={type:i.getType(),mutability:i.getMutability(),data:i.getData()}}),{blocks:n,entityMap:a}}(t,e=f(t,e))},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,e,t){"use strict";var n=t(32,1)||function(r){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(r[n]=t[n])}return r},a=t(797),o=function(r){if(!r||!r.type)return!1;var e=r.type;return"unordered-list-item"===e||"ordered-list-item"===e},i={fromRawTreeStateToRawState:function(r){var e=r.blocks,t=[];return Array.isArray(e)||a(!1),Array.isArray(e)&&e.length?(function(r,e){for(var t=[].concat(r).reverse();t.length;){var n=t.pop();e(n);var o=n.children;Array.isArray(o)||a(!1),t=t.concat([].concat(o.reverse()))}}(e,function(r){var e=n({},r);o(r)&&(e.depth=e.depth||0,function(r){Array.isArray(r.children)&&(r.children=r.children.map(function(e){return e.type===r.type?n({},e,{depth:(r.depth||0)+1}):e}))}(r)),delete e.children,t.push(e)}),r.blocks=t,n({},r,{blocks:t})):r},fromRawStateToRawTreeState:function(r){var e={},t=[];return r.blocks.forEach(function(r){var i=o(r),c=r.depth||0,s=n({},r,{children:[]});if(!i)return e={},void t.push(s);if(e[c]=s,c>0){var u=e[c-1];return u||a(!1),void u.children.push(s)}t.push(s)}),n({},r,{blocks:t})}};r.exports=i,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule createCharacterList
 * @format
 * 
 */
"use strict";var a=r(787),n=r(785).List;t.exports=function(t,e){var r=t.map(function(t,r){var n=e[r];return a.create({style:t,entity:n})});return n(r)},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,e){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeEntityRanges
 * @format
 * 
 */
"use strict";var r=e(888).substr;t.exports=function(t,n){var e=Array(t.length).fill(null);return n&&n.forEach(function(n){for(var o=r(t,0,n.offset).length,f=o+r(t,n.offset,n.length).length,s=o;s<f;s++)e[s]=n.key}),e},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule decodeInlineStyleRanges
 * @format
 * 
 */
"use strict";var n=r(785).OrderedSet,o=r(888).substr,s=n();t.exports=function(t,e){var r=Array(t.length).fill(s);return e&&e.forEach(function(e){for(var n=o(t,0,e.offset).length,s=n+o(t,e.offset,e.length).length;n<s;)r[n]=r[n].add(e.style),n++}),r},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule convertFromRawToDraftState
 * @format
 * 
 */
"use strict";var n=r(32,1)||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},a=r(789),i=r(790),o=r(818),c=r(815),u=r(792),l=r(926),y=r(785),s=r(816),f=r(927),p=r(928),d=r(929),g=r(800),k=r(797),v=u.draft_tree_data_support,b=y.List,h=y.Map,m=y.OrderedMap,S=function(e,t){var r=e.key,n=e.type,a=e.data;return{text:e.text,depth:e.depth||0,type:n||"unstyled",key:r||g(),data:h(a),characterList:w(e,t)}},w=function(e,t){var r=e.text,a=e.entityRanges,i=e.inlineStyleRanges,o=a||[];return f(d(r,i||[]),p(r,o.filter(function(e){return t.hasOwnProperty(e.key)}).map(function(e){return n({},e,{key:t[e.key]})})))},R=function(e){return n({},e,{key:e.key||g()})},x=function(e,t,r){var a=t.map(function(e){return n({},e,{parentRef:r})});return e.concat(a.reverse())},A=function(e,t){var r=Array.isArray(e.blocks[0].children),o=v&&!r?l.fromRawStateToRawTreeState(e).blocks:e.blocks;return v?function(e,t){return e.map(R).reduce(function(r,a,o){Array.isArray(a.children)||k(!1);var c=a.children.map(R),u=new i(n({},S(a,t),{prevSibling:0===o?null:e[o-1].key,nextSibling:o===e.length-1?null:e[o+1].key,children:b(c.map(function(e){return e.key}))}));r=r.set(u.getKey(),u);for(var l=x([],c,u);l.length>0;){var y=l.pop(),s=y.parentRef,f=s.getChildKeys(),p=f.indexOf(y.key),d=Array.isArray(y.children);if(!d){d||k(!1);break}var g=y.children.map(R),v=new i(n({},S(y,t),{parent:s.getKey(),children:b(g.map(function(e){return e.key})),prevSibling:0===p?null:f.get(p-1),nextSibling:p===f.size-1?null:f.get(p+1)}));r=r.set(v.getKey(),v),l=x(l,g,v)}return r},m())}(o,t):function(e,t){return m(e.map(function(e){var r=new a(S(e,t));return[r.getKey(),r]}))}(r?l.fromRawTreeStateToRawState(e).blocks:o,t)};e.exports=function(e){Array.isArray(e.blocks)||k(!1);var t=function(e){var t=e.entityMap,r={};return Object.keys(t).forEach(function(e){var n=t[e],a=n.type,i=n.mutability,o=n.data;r[e]=c.__create(a,i,o||{})}),r}(e),r=A(e,t),n=r.isEmpty()?new s:s.createEmpty(r.first().getKey());return new o({blockMap:r,entityMap:t,selectionBefore:n,selectionAfter:n})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getRangeBoundingClientRect
 * @format
 * 
 */
"use strict";var i=o(889);t.exports=function(t){var e=i(t),o=0,h=0,r=0,n=0;if(e.length){if(e.length>1&&0===e[0].width){var a=e[1];o=a.top,h=a.right,r=a.bottom,n=a.left}else{var f=e[0];o=f.top,h=f.right,r=f.bottom,n=f.left}for(var g=1;g<e.length;g++){var l=e[g];0!==l.height&&0!==l.width&&(o=Math.min(o,l.top),h=Math.max(h,l.right),r=Math.max(r,l.bottom),n=Math.min(n,l.left))}}return{top:o,right:h,bottom:r,left:n,width:h-n,height:r-o}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule getVisibleSelectionRect
 * @format
 * 
 */
"use strict";var o=n(931);t.exports=function(t){var e=t.getSelection();if(!e.rangeCount)return null;var n=e.getRangeAt(0),r=o(n),u=r.top,i=r.right,a=r.bottom,g=r.left;return 0===u&&0===i&&0===a&&0===g?null:r},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){
/**
 * Copyright (c) 2013-present, Facebook, Inc.
 * All rights reserved.
 *
 * This source code is licensed under the BSD-style license found in the
 * LICENSE file in the root directory of this source tree. An additional grant
 * of patent rights can be found in the PATENTS file in the same directory.
 *
 * @providesModule Draft
 * @format
 * 
 */
"use strict";var a=o(826),r=o(786),i=o(787),n=o(827),c=o(789),l=o(818),f=o(829),d=o(830),D=o(921),s=o(862),B=o(815),S=o(811),u=o(814),y=o(824),k=o(886),E=o(913),R=o(816),g=o(925),m={Editor:D,EditorBlock:s,EditorState:y,CompositeDecorator:n,Entity:B,EntityInstance:u,BlockMapBuilder:r,CharacterMetadata:i,ContentBlock:c,ContentState:l,SelectionState:R,AtomicBlockUtils:a,KeyBindingUtil:k,Modifier:S,RichUtils:E,DefaultDraftBlockRenderMap:f,DefaultDraftInlineStyle:d,convertFromHTML:o(910),convertFromRaw:o(930),convertToRaw:g,genKey:o(800),getDefaultKeyBinding:o(920),getVisibleSelectionRect:o(932)};t.exports=m,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(933       ),s=n(279         ),i=/:([0-9A-Za-z-_+]+)$/;e.filterEmojiEntities=((t,e,n)=>a(t,e,n,"EMOJI")),e.filterMentionEntities=((t,e,n)=>a(t,e,n,"MENTION"));const a=(t,e,n,r)=>{t.findEntityRanges(t=>{const e=t.getEntity();return null!==e&&n.getEntity(e).getType()===r},e)};e.findMatch=(t=>{const n=t.getSelection(),r=t.getCurrentContent(),s=n.getAnchorKey(),a=r.getBlockForKey(s),o=n.getAnchorOffset(),l=a.getText().substring(0,o),u=l.match(i),c=e.getMentionSearchFromString(l);let g,f,d,h;return c?(g="MENTION",f=c.search,d=c.index,h=o):u&&(g="EMOJI",f=u[1],d=u.index,h=o),{type:g,search:f,start:d,end:h}}),e.getMentionSearchFromString=(t=>{let e,n,r=0;-1!==t.lastIndexOf("\n")&&(r=t.lastIndexOf("\n")+1,t=t.substring(r));let s=t.lastIndexOf("@");if(-1!==s){if(n=s," "===(e=t.substring(s+1)).substring(0,1))return null;if(e.split(" ").length>2)return null;const r=t.substring(0,s),i=r.lastIndexOf("@");if(-1!==i){const s=t.substring(i+1);if(-1===s.indexOf(" ")){if(0!==i&&" "!==r[i-1])return null;e=s,n=i}}else if(0!==s&&" "!==t[s-1])return null}return null!=e?{search:e,index:n+=r}:null}),e.editorStateToMessageMeta=(t=>{let e=[];const n=r.convertToRaw(t.getCurrentContent());let i="";return n.blocks.forEach(t=>{const r=s.stringToArrayOfRealChars(t.text),a=t.entityRanges,o={};a.forEach(t=>{o[t.offset]=t});for(let s=0;s<r.length;s++)if(s in o){""!==i&&(e.push({t:i}),i="");let t=o[s],a=n.entityMap[t.key],l="";for(let e=0;e<t.length;e++)l+=r[s+e];let u={};"MENTION"===a.type?(u.user_id=a.data.mention.id,u.user_annotated=a.data.mention):u.t=l,e.push(u),s+=t.length-1}else i+=r[s];i+="\n"}),""!==(i=i.slice(0,-1))&&e.push({t:i}),e}),e.messageMetaToEditorState=((t,e)=>{let n=[],s={},i="",a=0;t.forEach(t=>{t.user_annotated?(n.push({key:a,length:t.user_annotated.handle.length,offset:i.length}),s[a]={type:"MENTION",mutability:"IMMUTABLE",data:{mention:t.user_annotated}},a+=1,i+=t.user_annotated.handle):i+=t.t});const o={text:i,entityRanges:n,type:"unstyled",depth:0,inlineStyleRanges:[],key:"abcd"},l=r.convertFromRaw({blocks:[o],entityMap:s});return r.EditorState.createWithContent(l,e)}),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=n(933       ),o=n(934             );e.addMention=((t,e)=>{const n=t.getCurrentContent().createEntity("MENTION","IMMUTABLE",{mention:e}).getLastCreatedEntityKey(),r=o.findMatch(t);return c(t,r,n,e.handle)}),e.addEmoji=((t,e)=>{const n=t.getCurrentContent().createEntity("EMOJI","IMMUTABLE",{emoji:e}).getLastCreatedEntityKey(),r=o.findMatch(t);return c(t,r,n,e.colons)}),e.selectAll=(t=>{const e=t.getSelection(),n=t.getCurrentContent(),o=n.getFirstBlock(),c=n.getLastBlock(),s=e.merge({anchorKey:o.getKey(),anchorOffset:0,focusKey:c.getKey(),focusOffset:c.getLength()});return r.EditorState.forceSelection(t,s)});const c=(t,e,n,o)=>{const c=t.getSelection(),s=t.getCurrentContent();let{start:i,end:l}=e,g=c;null!=i&&null!=l&&(g=c.merge({anchorOffset:i,focusOffset:l}));let a=r.Modifier.replaceText(s,g,o,null,n);const f=a.getSelectionAfter(),u=a.getLastBlock();u.getKey()===f.getStartKey()&&u.getKey()===f.getEndKey()&&u.getLength()===f.getStartOffset()&&u.getLength()===f.getEndOffset()&&(a=r.Modifier.replaceText(a,f," ",null,null));const d=r.EditorState.push(t,a,"insert-fragment");return r.EditorState.forceSelection(d,a.getSelectionAfter())};t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){e.exports={"DraftEditor-editorContainer":"editable_typeahead--DraftEditor-editorContainer--1aL1H","DraftEditor-root":"editable_typeahead--DraftEditor-root--296DT","public-DraftEditor-content":"editable_typeahead--public-DraftEditor-content--31uqN","public-DraftEditor-block":"editable_typeahead--public-DraftEditor-block--3WEb5","DraftEditor-alignLeft":"editable_typeahead--DraftEditor-alignLeft--1opeq","public-DraftStyleDefault-block":"editable_typeahead--public-DraftStyleDefault-block--1uAfh","public-DraftEditorPlaceholder-root":"editable_typeahead--public-DraftEditorPlaceholder-root--wmjEA","DraftEditor-alignCenter":"editable_typeahead--DraftEditor-alignCenter--1-n8t","DraftEditor-alignRight":"editable_typeahead--DraftEditor-alignRight--iS7Oe","public-DraftEditorPlaceholder-hasFocus":"editable_typeahead--public-DraftEditorPlaceholder-hasFocus--qvFRm","DraftEditorPlaceholder-hidden":"editable_typeahead--DraftEditorPlaceholder-hidden--2Q89d","public-DraftStyleDefault-ltr":"editable_typeahead--public-DraftStyleDefault-ltr--1RL5T","public-DraftStyleDefault-rtl":"editable_typeahead--public-DraftStyleDefault-rtl--37w1P","public-DraftStyleDefault-listLTR":"editable_typeahead--public-DraftStyleDefault-listLTR--9YU1o","public-DraftStyleDefault-listRTL":"editable_typeahead--public-DraftStyleDefault-listRTL--2aRXX","public-DraftStyleDefault-ol":"editable_typeahead--public-DraftStyleDefault-ol--1q5sL","public-DraftStyleDefault-ul":"editable_typeahead--public-DraftStyleDefault-ul--32O7C","public-DraftStyleDefault-depth0":"editable_typeahead--public-DraftStyleDefault-depth0--2eGoY","public-DraftStyleDefault-depth1":"editable_typeahead--public-DraftStyleDefault-depth1--3PxBR","public-DraftStyleDefault-depth2":"editable_typeahead--public-DraftStyleDefault-depth2--3wiQc","public-DraftStyleDefault-depth3":"editable_typeahead--public-DraftStyleDefault-depth3--3AGGZ","public-DraftStyleDefault-depth4":"editable_typeahead--public-DraftStyleDefault-depth4--2XLem","public-DraftStyleDefault-unorderedListItem":"editable_typeahead--public-DraftStyleDefault-unorderedListItem--fAzTJ","public-DraftStyleDefault-orderedListItem":"editable_typeahead--public-DraftStyleDefault-orderedListItem--2m2Ym","public-DraftStyleDefault-reset":"editable_typeahead--public-DraftStyleDefault-reset--8u_yp",wrapperBase:"editable_typeahead--wrapperBase--IpgDP",wrapperDefault:"editable_typeahead--wrapperDefault--3w757",mention:"editable_typeahead--mention--3NYwP",emoji:"editable_typeahead--emoji--3A0nO"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(933       ),i=s(34,1   ),n=s(38,1       ),a=s(784                  ),r=s(935                 ),h=s(934             ),p=s(232                        ),d=s(936                       );e.decorator=new o.CompositeDecorator([{strategy:h.filterMentionEntities,component:t=>i.createElement("span",{className:d.mention,spellCheck:!1},t.children)},{strategy:h.filterEmojiEntities,component:t=>i.createElement("span",{className:d.emoji,spellCheck:!1},t.children)}]);class c extends i.Component{constructor(t){super(t),this.ref=(t=>{t&&!this.editorEl&&(this.editorEl=n.findDOMNode(t),this.props.onUpdateTextArea(this.editorEl))}),this.onChange=(t=>{const e=this.state.editorState;this.setState({editorState:t});const s=t.getSelection(),o=e.getCurrentContent(),i=t.getCurrentContent();s.isCollapsed()&&o!==i?(this.onEditorContentChange(t),this.editorEl&&this.props.onUpdateTextArea(this.editorEl)):this.clearTypeahead()}),this.onEditorContentChange=(t=>{const e=h.editorStateToMessageMeta(t);this.lastMessageMeta=e,this.props.updateMessage(e);const{search:s,type:o}=h.findMatch(t);null!=s?"MENTION"===o?this.onMentionSearchChange(s):"EMOJI"===o&&this.onEmojiSearchChange(s):this.clearTypeahead()}),this.hasSuggestions=(()=>{const{mentions:t,emojis:e}=this.props.typeahead;return e&&e.length>0||t&&t.length>0}),this.insertMention=(t=>{const e=r.addMention(this.state.editorState,t);this.onChange(e)}),this.insertEmoji=(t=>{const e=r.addEmoji(this.state.editorState,t);this.onChange(e)}),this.onInsert=(()=>{const{mentions:t,emojis:e,index:s}=this.props.typeahead;t&&t[s]?this.insertMention(t[s]):e&&e[s]&&this.insertEmoji(e[s])}),this.assignHandlers=(()=>{this.props.assignHandlers(this.onInsert,this.clearTypeahead)}),this.onMentionSearchChange=(t=>{this.props.dispatch(p.comments.setTypeaheadMentionSearch({search:t}))}),this.onEmojiSearchChange=(t=>{this.props.dispatch(p.comments.setTypeaheadEmojiSearch({search:t}))}),this.clearTypeahead=(()=>{(null!=this.props.typeahead.index||this.hasSuggestions())&&this.props.dispatch(p.comments.setTypeahead({index:null,mentions:[],emojis:[]}))}),this.focus=(()=>{this.state.editorState.getSelection().getHasFocus()?this.props.onFocus():setTimeout(()=>{this.setState({editorState:o.EditorState.moveFocusToEnd(this.state.editorState)}),this.onFocus()},0)}),this.onNavigationKeyDown=(t=>{if(t.stopPropagation(),!this.hasSuggestions())return o.getDefaultKeyBinding(t);t.preventDefault()}),this.handleEscape=(t=>{this.hasSuggestions()||(t.currentTarget.blur(),this.props.onCancel()),t.preventDefault(),t.stopPropagation()}),this.handleReturn=((t,e)=>{t.stopPropagation();const s=this.hasSuggestions(),o=this.state.editorState.getCurrentContent().getPlainText(),i=!!o&&!/^\s+$/.test(o);return(t.metaKey||t.altKey)&&i&&!s?(t.preventDefault(),this.props.onSubmit(),"handled"):s||t.metaKey?(t.preventDefault(),"handled"):"not-handled"}),this.onFocus=(()=>{this.assignHandlers(),this.props.setIsEditorFocused(!0),this.focus()}),this.onBlur=(()=>{this.props.setIsEditorFocused(!1)}),this.onKeyDown=(t=>(t.stopPropagation(),o.getDefaultKeyBinding(t))),this.onMouseDown=(t=>{t.stopPropagation()}),this.onContextMenu=(t=>{t.stopPropagation()}),this.props.messageMeta?this.state={editorState:h.messageMetaToEditorState(this.props.messageMeta,e.decorator)}:this.state={editorState:o.EditorState.createEmpty(e.decorator)},this.lastMessageMeta=this.props.messageMeta}componentDidMount(){if(this.assignHandlers(),this.props.mountFocused){const t=o.EditorState.moveFocusToEnd(this.state.editorState);this.props.setIsEditorFocused(!0),this.onChange(t)}}UNSAFE_componentWillReceiveProps(t){if(!a.messageMetasEqual(t.messageMeta,this.lastMessageMeta)){let s=h.messageMetaToEditorState(t.messageMeta,e.decorator);s=this.state.editorState.getSelection().getHasFocus()?o.EditorState.moveFocusToEnd(s):o.EditorState.moveSelectionToEnd(s),this.onChange(s),this.lastMessageMeta=t.messageMeta}}componentWillUnmount(){this.props.setIsEditorFocused(!1)}render(){let t=d.wrapperBase;return t=this.props.className?t+" "+this.props.className:t+" "+d.wrapperDefault,i.createElement("div",{className:t,onMouseDown:this.onMouseDown,onContextMenu:this.onContextMenu,onClick:this.focus},i.createElement(o.Editor,{editorState:this.state.editorState,placeholder:this.props.placeholderText,onChange:this.onChange,onUpArrow:this.onNavigationKeyDown,onDownArrow:this.onNavigationKeyDown,onLeftArrow:this.onNavigationKeyDown,onRightArrow:this.onNavigationKeyDown,onTab:this.onNavigationKeyDown,onEscape:this.handleEscape,handleReturn:this.handleReturn,keyBindingFn:this.onKeyDown,spellCheck:!0,onFocus:this.onFocus,onBlur:this.onBlur,ref:this.ref,tabIndex:this.props.tabIndex||0}))}}c.displayName="EditableTypeahead",e.EditableTypeahead=c,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){e.exports={_threadElement:"thread_comment--_threadElement--1My4B text--labelText--1wP9s",threadElementNewAuthor:"thread_comment--threadElementNewAuthor--2vPDJ thread_comment--_threadElement--1My4B text--labelText--1wP9s",threadElementSameAuthor:"thread_comment--threadElementSameAuthor--2A40p thread_comment--_threadElement--1My4B text--labelText--1wP9s",threadSubelement:"thread_comment--threadSubelement--3JV89",leftJustified:"thread_comment--leftJustified--2YXih",rightJustified:"thread_comment--rightJustified--3e5GP",authorAvatar:"thread_comment--authorAvatar--2TpfU",headerLabel:"thread_comment--headerLabel--246GT text--titleText--10C29",boldLabel:"thread_comment--boldLabel--PQOwI thread_comment--headerLabel--246GT text--titleText--10C29",grayLabel:"thread_comment--grayLabel--1mPAg thread_comment--headerLabel--246GT text--titleText--10C29",link:"thread_comment--link--37Zby blue_link--blueLink--22X56",iconButtonSpace:"thread_comment--iconButtonSpace--onBGa",textButton:"thread_comment--textButton--ZKidi",editingFrame:"thread_comment--editingFrame--1r07A",readingFrame:"thread_comment--readingFrame--3TKNQ",text:"thread_comment--text--3gPNU text--largeBodyText--1919S"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,c){e.exports={id:null,src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 13.5c-2.142 0-3.934-1.496-4.388-3.5h1.033c.43 1.446 1.77 2.5 3.355 2.5 1.586 0 2.925-1.054 3.355-2.5h1.033c-.454 2.004-2.246 3.5-4.388 3.5zM7 7c0 .552-.448 1-1 1-.552 0-1-.448-1-1 0-.552.448-1 1-1 .552 0 1 .448 1 1zm5 1c.552 0 1-.448 1-1 0-.552-.448-1-1-1-.552 0-1 .448-1 1 0 .552.448 1 1 1z" fill="#5e5e5e"/><path d="M18 9c0 4.97-4.03 9-9 9-4.97 0-9-4.03-9-9 0-4.97 4.03-9 9-9 4.97 0 9 4.03 9 9zm-1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd" fill="#5e5e5e"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(143              ),n=s(784                  ),a=s(199      ),r=s(219          ),p=s(198         ),h=s(106                                 ),c=s(204                                            ),d=s(212                                  ),l=s(937                                           ),m=s(938                   ),u=s(389                                                                  ),b=s(939                                );class g extends i.Component{constructor(){super(...arguments),this.state={editing:this.props.mountFocused},this.editorRef=(e=>{e&&!this.editor&&(this.editor=e)}),this.focusEditor=(()=>{this.editor&&this.editor.focus()}),this.onFocus=(()=>{this.setState({editing:!0})}),this.onSubmitButton=(e=>{e.preventDefault(),this.props.assignHandlers(null,this.focusEditor),this.onSubmit()}),this.onSubmit=(()=>{this.props.isDisabled||this.props.onSubmit()}),this.onCancel=(()=>{this.setState({editing:!1}),this.props.onCancel()}),this.onKeyDown=(e=>{const{emojis:t,mentions:s}=this.props.typeahead;e.keyCode!==a.Key.ESCAPE||t&&0!==t.length||s&&0!==s.length||this.props.dispatch(h.comments.setActive({threadId:null}))}),this.handleUpdateTextAreaPosition=(e=>{const{threadPosition:t}=this.props;if(null==t)return;const{left:s,top:o,height:i}=e.getBoundingClientRect(),n=this.props.viewportPositionFromCanvasPosition(new p.Vector(s,o+i)),a=p.Vector.subtract(n,t);this.props.dispatch(h.comments.setTypeaheadPositionOffset({positionOffset:a}))}),this.onUpdate=i.otherEvent(this,"update",e=>{this.props.updateMessage(e)}),this.onMouseDownEmojiButton=(e=>{e.stopPropagation()}),this.onClickEmojiButton=(e=>{const{threadPosition:t}=this.props;if(null==t)return;const s=this.props.viewportPositionFromCanvasPosition(new p.Vector(e.clientX,e.clientY)),o=p.Vector.subtract(s,t);s.y<420&&(o.y+=424),r.segment&&r.segment.track("Emoji Picker Opened"),this.props.assignHandlers(this.focusEditor,null),this.props.dispatch(h.comments.setEmojiPicker({visible:!0,positionOffset:o}))}),this.isSubmitDisabled=(e=>!!this.props.isDisabled||(!(e=e||n.messageMetaToTextString(this.props.messageMeta))||/^\s+$/.test(e)))}render(){const e=n.messageMetaToTextString(this.props.messageMeta),t=this.isSubmitDisabled(e);return o.createElement("div",{className:this.props.headerText?m.threadElementSameAuthor:m.threadElementNewAuthor},o.createElement(d.TabLoop,{startTabIndex:1,endTabIndex:5},this.state.editing&&o.createElement("div",{className:m.threadSubelement},o.createElement("div",{className:m.leftJustified},!this.props.headerText&&o.createElement("span",{className:m.authorAvatar,style:{backgroundImage:`url("${this.props.user.img_url}")`}}),!this.props.headerText&&o.createElement("span",{className:m.boldLabel},this.props.user.handle),this.props.headerText&&o.createElement("span",{className:m.grayLabel},this.props.headerText)),o.createElement("div",{className:m.rightJustified},o.createElement(c.ButtonSecondary,{className:m.textButton,onClick:this.onCancel,tabIndex:t?3:4,recordingKey:i.joinKeys(this.props,"cancel")},"Cancel"),o.createElement(c.ButtonPrimary,{className:m.textButton,onClick:t?null:this.onSubmitButton,disabled:t,tabIndex:t?-1:3,recordingKey:i.joinKeys(this.props,"submit")},this.props.submitText))),o.createElement("div",{className:m.threadSubelement},o.createElement(l.EditableTypeahead,{ref:this.editorRef,dispatch:this.props.dispatch,typeahead:this.props.typeahead,onUpdateTextArea:this.handleUpdateTextAreaPosition,onKeyDown:this.onKeyDown,onSubmit:this.onSubmit,onFocus:this.onFocus,onCancel:this.onCancel,assignHandlers:this.props.assignHandlers,updateMessage:this.onUpdate,messageMeta:this.props.messageMeta,className:m.text,placeholderText:this.props.placeholderText,mountFocused:this.props.mountFocused,setIsEditorFocused:this.props.setIsEditorFocused,tabIndex:2}),o.createElement(u.IconButton,{onClick:this.onClickEmojiButton,onMouseDown:this.onMouseDownEmojiButton,svg:b}))))}}g.displayName="ThreadCommentComposer",t.ThreadCommentComposer=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,m,s){e.exports={commentMessage:"comment_message--commentMessage--3YBcJ",emoji:"comment_message--emoji--1-b73",emojiSmall:"comment_message--emojiSmall--YDntT comment_message--commentMessage--3YBcJ comment_message--emoji--1-b73",emojiMedium:"comment_message--emojiMedium--1EGtI comment_message--commentMessage--3YBcJ comment_message--emoji--1-b73",defaultMessage:"comment_message--defaultMessage--3oqNg text--labelText--1wP9s",mention:"comment_message--mention--3XZxJ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";e.__esModule=!0,e.inherits=function(t,e){var o=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.create(t.prototype);for(var n in o)r[n]=o[n];return r.constructor=e,e.prototype=r,e},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,r){"use strict";e.__esModule=!0;var a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o={defaultProtocol:"http",events:null,format:i,formatHref:i,nl2br:!1,tagName:"a",target:function(t,e){return"url"===e?"_blank":null},validate:!0,ignoreTags:[],attributes:null,className:"linkified"};function n(t){t=t||{},this.defaultProtocol=t.defaultProtocol||o.defaultProtocol,this.events=t.events||o.events,this.format=t.format||o.format,this.formatHref=t.formatHref||o.formatHref,this.nl2br=t.nl2br||o.nl2br,this.tagName=t.tagName||o.tagName,this.target=t.target||o.target,this.validate=t.validate||o.validate,this.ignoreTags=[],this.attributes=t.attributes||t.linkAttributes||o.attributes,this.className=t.className||t.linkClass||o.className;for(var e=t.ignoreTags||o.ignoreTags,r=0;r<e.length;r++)this.ignoreTags.push(e[r].toUpperCase())}function i(t){return t}e.defaults=o,e.Options=n,e.contains=function(t,e){for(var r=0;r<t.length;r++)if(t[r]===e)return!0;return!1},n.prototype={resolve:function(t){var e=t.toHref(this.defaultProtocol);return{formatted:this.get("format",t.toString(),t),formattedHref:this.get("formatHref",e,t),tagName:this.get("tagName",e,t),className:this.get("className",e,t),target:this.get("target",e,t),events:this.getObject("events",e,t),attributes:this.getObject("attributes",e,t)}},check:function(t){return this.get("validate",t.toString(),t)},get:function(t,e,r){var n=this[t];if(!n)return n;switch(void 0===n?"undefined":a(n)){case"function":return n(e,r.type);case"object":var i=n[r.type]||o[t];return"function"==typeof i?i(e,r.type):i}return n},getObject:function(t,e,r){var a=this[t];return"function"==typeof a?a(e,r.type):a}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,i){"use strict";n.__esModule=!0,n.stateify=n.TokenState=n.CharacterState=void 0;var e=i(942);var r=function(t){this.j=[],this.T=t||null};r.prototype={defaultTransition:!1,on:function(t,n){if(t instanceof Array){for(var i=0;i<t.length;i++)this.j.push([t[i],n]);return this}return this.j.push([t,n]),this},next:function(t){for(var n=0;n<this.j.length;n++){var i=this.j[n],e=i[0],r=i[1];if(this.test(t,e))return r}return this.defaultTransition},accepts:function(){return!!this.T},test:function(t,n){return t===n},emit:function(){return this.T}};var s=(0,e.inherits)(r,function(t){this.j=[],this.T=t||null},{test:function(t,n){return t===n||n instanceof RegExp&&n.test(t)}}),u=(0,e.inherits)(r,function(t){this.j=[],this.T=t||null},{jump:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,i=this.next(new t(""));return i===this.defaultTransition?(i=new this.constructor(n),this.on(t,i)):n&&(i.T=n),i},test:function(t,n){return t instanceof n}});n.CharacterState=s,n.TokenState=u,n.stateify=function(t,n,i,e){for(var r=0,u=t.length,o=n,a=[],h=void 0;r<u&&(h=o.next(t[r]));)o=h,r++;if(r>=u)return[];for(;r<u-1;)h=new s(e),a.push(h),o.on(t[r],h),o=h,r++;return h=new s(i),a.push(h),o.on(t[u-1],h),a},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";e.__esModule=!0,e.createTokenClass=function(){return function(t){t&&(this.v=t)}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(E,O,A){"use strict";O.__esModule=!0,O.AMPERSAND=O.CLOSEPAREN=O.CLOSEANGLEBRACKET=O.CLOSEBRACKET=O.CLOSEBRACE=O.OPENPAREN=O.OPENANGLEBRACKET=O.OPENBRACKET=O.OPENBRACE=O.WS=O.TLD=O.SYM=O.UNDERSCORE=O.SLASH=O.MAILTO=O.PROTOCOL=O.QUERY=O.POUND=O.PLUS=O.NUM=O.NL=O.LOCALHOST=O.PUNCTUATION=O.DOT=O.COLON=O.AT=O.DOMAIN=O.Base=void 0;var N=A(945),C=A(942),L=(0,N.createTokenClass)();function R(E){var O=E?{v:E}:{};return(0,C.inherits)(L,(0,N.createTokenClass)(),O)}L.prototype={toString:function(){return this.v+""}};var T=R(),t=R("@"),S=R(":"),e=R("."),P=R(),s=R(),n=R("\n"),o=R(),r=R("+"),a=R("#"),B=R(),U=R("mailto:"),i=R("?"),D=R("/"),c=R("_"),M=R(),u=R(),l=R(),K=R("{"),v=R("["),I=R("<"),f=R("("),p=R("}"),G=R("]"),H=R(">"),Y=R(")"),d=R("&");O.Base=L,O.DOMAIN=T,O.AT=t,O.COLON=S,O.DOT=e,O.PUNCTUATION=P,O.LOCALHOST=s,O.NL=n,O.NUM=o,O.PLUS=r,O.POUND=a,O.QUERY=i,O.PROTOCOL=B,O.MAILTO=U,O.SLASH=D,O.UNDERSCORE=c,O.SYM=M,O.TLD=u,O.WS=l,O.OPENBRACE=K,O.OPENBRACKET=v,O.OPENANGLEBRACKET=I,O.OPENPAREN=f,O.CLOSEBRACE=p,O.CLOSEBRACKET=G,O.CLOSEANGLEBRACKET=H,O.CLOSEPAREN=Y,O.AMPERSAND=d,E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(e,a,o){"use strict";a.__esModule=!0,a.start=a.run=a.TOKENS=a.State=void 0;var t=o(944),i=o(946),n=function(e){if(e&&e.__esModule)return e;var a={};if(null!=e)for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(a[o]=e[o]);return a.default=e,a}(i);var r="aaa|aarp|abb|abbott|abogado|ac|academy|accenture|accountant|accountants|aco|active|actor|ad|adac|ads|adult|ae|aeg|aero|af|afl|ag|agency|ai|aig|airforce|airtel|al|alibaba|alipay|allfinanz|alsace|am|amica|amsterdam|an|analytics|android|ao|apartments|app|apple|aq|aquarelle|ar|aramco|archi|army|arpa|arte|as|asia|associates|at|attorney|au|auction|audi|audio|author|auto|autos|avianca|aw|ax|axa|az|azure|ba|baidu|band|bank|bar|barcelona|barclaycard|barclays|bargains|bauhaus|bayern|bb|bbc|bbva|bcg|bcn|bd|be|beats|beer|bentley|berlin|best|bet|bf|bg|bh|bharti|bi|bible|bid|bike|bing|bingo|bio|biz|bj|black|blackfriday|bloomberg|blue|bm|bms|bmw|bn|bnl|bnpparibas|bo|boats|boehringer|bom|bond|boo|book|boots|bosch|bostik|bot|boutique|br|bradesco|bridgestone|broadway|broker|brother|brussels|bs|bt|budapest|bugatti|build|builders|business|buy|buzz|bv|bw|by|bz|bzh|ca|cab|cafe|cal|call|camera|camp|cancerresearch|canon|capetown|capital|car|caravan|cards|care|career|careers|cars|cartier|casa|cash|casino|cat|catering|cba|cbn|cc|cd|ceb|center|ceo|cern|cf|cfa|cfd|cg|ch|chanel|channel|chase|chat|cheap|chloe|christmas|chrome|church|ci|cipriani|circle|cisco|citic|city|cityeats|ck|cl|claims|cleaning|click|clinic|clinique|clothing|cloud|club|clubmed|cm|cn|co|coach|codes|coffee|college|cologne|com|commbank|community|company|compare|computer|comsec|condos|construction|consulting|contact|contractors|cooking|cool|coop|corsica|country|coupon|coupons|courses|cr|credit|creditcard|creditunion|cricket|crown|crs|cruises|csc|cu|cuisinella|cv|cw|cx|cy|cymru|cyou|cz|dabur|dad|dance|date|dating|datsun|day|dclk|de|dealer|deals|degree|delivery|dell|deloitte|delta|democrat|dental|dentist|desi|design|dev|diamonds|diet|digital|direct|directory|discount|dj|dk|dm|dnp|do|docs|dog|doha|domains|download|drive|dubai|durban|dvag|dz|earth|eat|ec|edeka|edu|education|ee|eg|email|emerck|energy|engineer|engineering|enterprises|epson|equipment|er|erni|es|esq|estate|et|eu|eurovision|eus|events|everbank|exchange|expert|exposed|express|fage|fail|fairwinds|faith|family|fan|fans|farm|fashion|fast|feedback|ferrero|fi|film|final|finance|financial|firestone|firmdale|fish|fishing|fit|fitness|fj|fk|flickr|flights|florist|flowers|flsmidth|fly|fm|fo|foo|football|ford|forex|forsale|forum|foundation|fox|fr|fresenius|frl|frogans|frontier|fund|furniture|futbol|fyi|ga|gal|gallery|gallup|game|garden|gb|gbiz|gd|gdn|ge|gea|gent|genting|gf|gg|ggee|gh|gi|gift|gifts|gives|giving|gl|glass|gle|global|globo|gm|gmail|gmbh|gmo|gmx|gn|gold|goldpoint|golf|goo|goog|google|gop|got|gov|gp|gq|gr|grainger|graphics|gratis|green|gripe|group|gs|gt|gu|gucci|guge|guide|guitars|guru|gw|gy|hamburg|hangout|haus|hdfcbank|health|healthcare|help|helsinki|here|hermes|hiphop|hitachi|hiv|hk|hm|hn|hockey|holdings|holiday|homedepot|homes|honda|horse|host|hosting|hoteles|hotmail|house|how|hr|hsbc|ht|hu|hyundai|ibm|icbc|ice|icu|id|ie|ifm|iinet|il|im|immo|immobilien|in|industries|infiniti|info|ing|ink|institute|insurance|insure|int|international|investments|io|ipiranga|iq|ir|irish|is|iselect|ist|istanbul|it|itau|iwc|jaguar|java|jcb|je|jetzt|jewelry|jlc|jll|jm|jmp|jo|jobs|joburg|jot|joy|jp|jpmorgan|jprs|juegos|kaufen|kddi|ke|kerryhotels|kerrylogistics|kerryproperties|kfh|kg|kh|ki|kia|kim|kinder|kitchen|kiwi|km|kn|koeln|komatsu|kp|kpn|kr|krd|kred|kuokgroup|kw|ky|kyoto|kz|la|lacaixa|lamborghini|lamer|lancaster|land|landrover|lanxess|lasalle|lat|latrobe|law|lawyer|lb|lc|lds|lease|leclerc|legal|lexus|lgbt|li|liaison|lidl|life|lifeinsurance|lifestyle|lighting|like|limited|limo|lincoln|linde|link|live|living|lixil|lk|loan|loans|local|locus|lol|london|lotte|lotto|love|lr|ls|lt|ltd|ltda|lu|lupin|luxe|luxury|lv|ly|ma|madrid|maif|maison|makeup|man|management|mango|market|marketing|markets|marriott|mba|mc|md|me|med|media|meet|melbourne|meme|memorial|men|menu|meo|mg|mh|miami|microsoft|mil|mini|mk|ml|mm|mma|mn|mo|mobi|mobily|moda|moe|moi|mom|monash|money|montblanc|mormon|mortgage|moscow|motorcycles|mov|movie|movistar|mp|mq|mr|ms|mt|mtn|mtpc|mtr|mu|museum|mutuelle|mv|mw|mx|my|mz|na|nadex|nagoya|name|natura|navy|nc|ne|nec|net|netbank|network|neustar|new|news|nexus|nf|ng|ngo|nhk|ni|nico|nikon|ninja|nissan|nl|no|nokia|norton|nowruz|np|nr|nra|nrw|ntt|nu|nyc|nz|obi|office|okinawa|om|omega|one|ong|onl|online|ooo|oracle|orange|org|organic|origins|osaka|otsuka|ovh|pa|page|pamperedchef|panerai|paris|pars|partners|parts|party|passagens|pe|pet|pf|pg|ph|pharmacy|philips|photo|photography|photos|physio|piaget|pics|pictet|pictures|pid|pin|ping|pink|pizza|pk|pl|place|play|playstation|plumbing|plus|pm|pn|pohl|poker|porn|post|pr|praxi|press|pro|prod|productions|prof|promo|properties|property|protection|ps|pt|pub|pw|pwc|py|qa|qpon|quebec|quest|racing|re|read|realtor|realty|recipes|red|redstone|redumbrella|rehab|reise|reisen|reit|ren|rent|rentals|repair|report|republican|rest|restaurant|review|reviews|rexroth|rich|ricoh|rio|rip|ro|rocher|rocks|rodeo|room|rs|rsvp|ru|ruhr|run|rw|rwe|ryukyu|sa|saarland|safe|safety|sakura|sale|salon|samsung|sandvik|sandvikcoromant|sanofi|sap|sapo|sarl|sas|saxo|sb|sbs|sc|sca|scb|schaeffler|schmidt|scholarships|school|schule|schwarz|science|scor|scot|sd|se|seat|security|seek|select|sener|services|seven|sew|sex|sexy|sfr|sg|sh|sharp|shell|shia|shiksha|shoes|show|shriram|si|singles|site|sj|sk|ski|skin|sky|skype|sl|sm|smile|sn|sncf|so|soccer|social|softbank|software|sohu|solar|solutions|song|sony|soy|space|spiegel|spot|spreadbetting|sr|srl|st|stada|star|starhub|statefarm|statoil|stc|stcgroup|stockholm|storage|store|studio|study|style|su|sucks|supplies|supply|support|surf|surgery|suzuki|sv|swatch|swiss|sx|sy|sydney|symantec|systems|sz|tab|taipei|taobao|tatamotors|tatar|tattoo|tax|taxi|tc|tci|td|team|tech|technology|tel|telecity|telefonica|temasek|tennis|tf|tg|th|thd|theater|theatre|tickets|tienda|tiffany|tips|tires|tirol|tj|tk|tl|tm|tmall|tn|to|today|tokyo|tools|top|toray|toshiba|total|tours|town|toyota|toys|tp|tr|trade|trading|training|travel|travelers|travelersinsurance|trust|trv|tt|tube|tui|tunes|tushu|tv|tvs|tw|tz|ua|ubs|ug|uk|unicom|university|uno|uol|us|uy|uz|va|vacations|vana|vc|ve|vegas|ventures|verisign|versicherung|vet|vg|vi|viajes|video|viking|villas|vin|vip|virgin|vision|vista|vistaprint|viva|vlaanderen|vn|vodka|volkswagen|vote|voting|voto|voyage|vu|vuelos|wales|walter|wang|wanggou|watch|watches|weather|weatherchannel|webcam|weber|website|wed|wedding|weir|wf|whoswho|wien|wiki|williamhill|win|windows|wine|wme|wolterskluwer|work|works|world|ws|wtc|wtf|xbox|xerox|xin|xperia|xxx|xyz|yachts|yahoo|yamaxun|yandex|ye|yodobashi|yoga|yokohama|youtube|yt|za|zara|zero|zip|zm|zone|zuerich|zw".split("|"),s="0123456789".split(""),c="0123456789abcdefghijklmnopqrstuvwxyz".split(""),l=[" ","\f","\r","\t","\v","","",""],u=[],p=function(e){return new t.CharacterState(e)},m=p(),g=p(i.NUM),d=p(i.DOMAIN),b=p(),h=p(i.WS);m.on("@",p(i.AT)).on(".",p(i.DOT)).on("+",p(i.PLUS)).on("#",p(i.POUND)).on("?",p(i.QUERY)).on("/",p(i.SLASH)).on("_",p(i.UNDERSCORE)).on(":",p(i.COLON)).on("{",p(i.OPENBRACE)).on("[",p(i.OPENBRACKET)).on("<",p(i.OPENANGLEBRACKET)).on("(",p(i.OPENPAREN)).on("}",p(i.CLOSEBRACE)).on("]",p(i.CLOSEBRACKET)).on(">",p(i.CLOSEANGLEBRACKET)).on(")",p(i.CLOSEPAREN)).on("&",p(i.AMPERSAND)).on([",",";","!",'"',"'"],p(i.PUNCTUATION)),m.on("\n",p(i.NL)).on(l,h),h.on(l,h);for(var f=0;f<r.length;f++){var y=(0,t.stateify)(r[f],m,i.TLD,i.DOMAIN);u.push.apply(u,y)}var k=(0,t.stateify)("file",m,i.DOMAIN,i.DOMAIN),v=(0,t.stateify)("ftp",m,i.DOMAIN,i.DOMAIN),w=(0,t.stateify)("http",m,i.DOMAIN,i.DOMAIN),x=(0,t.stateify)("mailto",m,i.DOMAIN,i.DOMAIN);u.push.apply(u,k),u.push.apply(u,v),u.push.apply(u,w);var O=k.pop(),z=v.pop(),A=w.pop(),N=x.pop(),j=p(i.DOMAIN),E=p(i.PROTOCOL),C=p(i.MAILTO);z.on("s",j).on(":",E),A.on("s",j).on(":",E),u.push(j),O.on(":",E),j.on(":",E),N.on(":",C);var M=(0,t.stateify)("localhost",m,i.LOCALHOST,i.DOMAIN);u.push.apply(u,M),m.on(s,g),g.on("-",b).on(s,g).on(c,d),d.on("-",b).on(c,d);for(var S=0;S<u.length;S++)u[S].on("-",b).on(c,d);b.on("-",b).on(s,d).on(c,d),m.defaultTransition=p(i.SYM);var D=m;a.State=t.CharacterState,a.TOKENS=n,a.run=function(e){for(var a=e.replace(/[A-Z]/g,function(e){return e.toLowerCase()}),o=e.length,t=[],i=0;i<o;){for(var n=m,r=null,s=0,c=null,l=-1;i<o&&(r=n.next(a[i]));)(n=r).accepts()?(l=0,c=n):l>=0&&l++,s++,i++;if(!(l<0)){i-=l,s-=l;var u=c.emit();t.push(new u(e.substr(i-s,s)))}}return t},a.start=D,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";e.__esModule=!0,e.URL=e.TEXT=e.NL=e.EMAIL=e.MAILTOEMAIL=e.Base=void 0;var i=n(945),o=n(942),r=n(946);var s=(0,i.createTokenClass)();s.prototype={type:"token",isLink:!1,toString:function(){for(var t=[],e=0;e<this.v.length;e++)t.push(this.v[e].toString());return t.join("")},toHref:function(){return this.toString()},toObject:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http";return{type:this.type,value:this.toString(),href:this.toHref(t)}}};var a=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0}),h=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"email",isLink:!0,toHref:function(){this.v;return"mailto:"+this.toString()}}),c=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"text"}),u=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"nl"}),f=(0,o.inherits)(s,(0,i.createTokenClass)(),{type:"url",isLink:!0,toHref:function(){for(var t,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"http",n=!1,i=!1,o=this.v,s=[],a=0;o[a]instanceof r.PROTOCOL;)n=!0,s.push(o[a].toString().toLowerCase()),a++;for(;o[a]instanceof r.SLASH;)i=!0,s.push(o[a].toString()),a++;for(;(t=o[a])instanceof r.DOMAIN||t instanceof r.TLD;)s.push(o[a].toString().toLowerCase()),a++;for(;a<o.length;a++)s.push(o[a].toString());return s=s.join(""),n||i||(s=e+"://"+s),s},hasProtocol:function(){return this.v[0]instanceof r.PROTOCOL}});e.Base=s,e.MAILTOEMAIL=a,e.EMAIL=h,e.NL=u,e.TEXT=c,e.URL=f,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(n,o,O){"use strict";o.__esModule=!0,o.start=o.run=o.TOKENS=o.State=void 0;var E=O(944),L=O(946),A=(T(L),O(948)),N=T(A);function T(n){if(n&&n.__esModule)return n;var o={};if(null!=n)for(var O in n)Object.prototype.hasOwnProperty.call(n,O)&&(o[O]=n[O]);return o.default=n,o}var C=function(n){return new E.TokenState(n)},S=C(),t=C(),R=C(),e=C(),r=C(),P=C(),D=C(),M=C(A.URL),u=C(),U=C(A.URL),a=C(A.URL),l=C(),s=C(),B=C(),K=C(),f=C(),i=C(A.URL),I=C(A.URL),H=C(A.URL),c=C(A.URL),p=C(),v=C(),h=C(),G=C(),x=C(),d=C(),w=C(A.EMAIL),k=C(),Y=C(A.EMAIL),_=C(A.MAILTOEMAIL),g=C(),m=C(),y=C(),Q=C(),X=C(A.NL);S.on(L.NL,X).on(L.PROTOCOL,t).on(L.MAILTO,R).on(L.SLASH,e),t.on(L.SLASH,e),e.on(L.SLASH,r),S.on(L.TLD,P).on(L.DOMAIN,P).on(L.LOCALHOST,M).on(L.NUM,P),r.on(L.TLD,a).on(L.DOMAIN,a).on(L.NUM,a).on(L.LOCALHOST,a),P.on(L.DOT,D),x.on(L.DOT,d),D.on(L.TLD,M).on(L.DOMAIN,P).on(L.NUM,P).on(L.LOCALHOST,P),d.on(L.TLD,w).on(L.DOMAIN,x).on(L.NUM,x).on(L.LOCALHOST,x),M.on(L.DOT,D),w.on(L.DOT,d),M.on(L.COLON,u).on(L.SLASH,a),u.on(L.NUM,U),U.on(L.SLASH,a),w.on(L.COLON,k),k.on(L.NUM,Y);var b=[L.DOMAIN,L.AT,L.LOCALHOST,L.NUM,L.PLUS,L.POUND,L.PROTOCOL,L.SLASH,L.TLD,L.UNDERSCORE,L.SYM,L.AMPERSAND],j=[L.COLON,L.DOT,L.QUERY,L.PUNCTUATION,L.CLOSEBRACE,L.CLOSEBRACKET,L.CLOSEANGLEBRACKET,L.CLOSEPAREN,L.OPENBRACE,L.OPENBRACKET,L.OPENANGLEBRACKET,L.OPENPAREN];a.on(L.OPENBRACE,s).on(L.OPENBRACKET,B).on(L.OPENANGLEBRACKET,K).on(L.OPENPAREN,f),l.on(L.OPENBRACE,s).on(L.OPENBRACKET,B).on(L.OPENANGLEBRACKET,K).on(L.OPENPAREN,f),s.on(L.CLOSEBRACE,a),B.on(L.CLOSEBRACKET,a),K.on(L.CLOSEANGLEBRACKET,a),f.on(L.CLOSEPAREN,a),i.on(L.CLOSEBRACE,a),I.on(L.CLOSEBRACKET,a),H.on(L.CLOSEANGLEBRACKET,a),c.on(L.CLOSEPAREN,a),p.on(L.CLOSEBRACE,a),v.on(L.CLOSEBRACKET,a),h.on(L.CLOSEANGLEBRACKET,a),G.on(L.CLOSEPAREN,a),s.on(b,i),B.on(b,I),K.on(b,H),f.on(b,c),s.on(j,p),B.on(j,v),K.on(j,h),f.on(j,G),i.on(b,i),I.on(b,I),H.on(b,H),c.on(b,c),i.on(j,i),I.on(j,I),H.on(j,H),c.on(j,c),p.on(b,i),v.on(b,I),h.on(b,H),G.on(b,c),p.on(j,p),v.on(j,v),h.on(j,h),G.on(j,G),a.on(b,a),l.on(b,a),a.on(j,l),l.on(j,l),R.on(L.TLD,_).on(L.DOMAIN,_).on(L.NUM,_).on(L.LOCALHOST,_),_.on(b,_).on(j,g),g.on(b,_).on(j,g);var F=[L.DOMAIN,L.NUM,L.PLUS,L.POUND,L.QUERY,L.UNDERSCORE,L.SYM,L.AMPERSAND,L.TLD];P.on(F,m).on(L.AT,y),M.on(F,m).on(L.AT,y),D.on(F,m),m.on(F,m).on(L.AT,y).on(L.DOT,Q),Q.on(F,m),y.on(L.TLD,x).on(L.DOMAIN,x).on(L.LOCALHOST,w);o.State=E.TokenState,o.TOKENS=N,o.run=function(n){for(var o=n.length,O=0,E=[],L=[];O<o;){for(var N=S,T=null,C=null,t=0,R=null,e=-1;O<o&&!(T=N.next(n[O]));)L.push(n[O++]);for(;O<o&&(C=T||N.next(n[O]));)T=null,(N=C).accepts()?(e=0,R=N):e>=0&&e++,O++,t++;if(e<0)for(var r=O-t;r<O;r++)L.push(n[r]);else{L.length>0&&(E.push(new A.TEXT(L)),L=[]),O-=e,t-=e;var P=R.emit();E.push(new P(n.slice(O-t,O)))}}return L.length>0&&E.push(new A.TEXT(L)),E},o.start=S,n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(n,r,t){"use strict";r.__esModule=!0,r.tokenize=r.test=r.scanner=r.parser=r.options=r.inherits=r.find=void 0;var e=t(942),i=u(t(943)),o=u(t(947)),s=u(t(949));function u(n){if(n&&n.__esModule)return n;var r={};if(null!=n)for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(r[t]=n[t]);return r.default=n,r}Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)});var a=function(n){return s.run(o.run(n))};r.find=function(n){for(var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=a(n),e=[],i=0;i<t.length;i++){var o=t[i];!o.isLink||r&&o.type!==r||e.push(o.toObject())}return e},r.inherits=e.inherits,r.options=i,r.parser=s,r.scanner=o,r.test=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,t=a(n);return 1===t.length&&t[0].isLink&&(!r||t[0].type===r)},r.tokenize=a,n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,r){"use strict";t.__esModule=!0;var n,o=r(34,1),i=(n=o)&&n.__esModule?n:{default:n},a=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}(r(950));var s=a.options,f=s.Options;function p(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(0===i.default.Children.count(e.props.children))return e;var n=[];i.default.Children.forEach(e.props.children,function(e){"string"==typeof e?n.push.apply(n,function(e,t){for(var r=a.tokenize(e),n=[],o=0,s=0;s<r.length;s++){var f=r[s];if("nl"===f.type&&t.nl2br)n.push(i.default.createElement("br",{key:"linkified-"+ ++o}));else if(f.isLink&&t.check(f)){var p=t.resolve(f),l=(p.href,p.formatted),u=p.formattedHref,c=p.tagName,h=p.className,d=p.target,y=p.attributes,v=(p.events,{key:"linkified-"+ ++o,href:u});if(h&&(v.className=h),d&&(v.target=d),y)for(var m in y)v[m]=y[m];n.push(i.default.createElement(c,v,l))}else n.push(f.toString())}return n}(e,t)):i.default.isValidElement(e)?"string"==typeof e.type&&s.contains(t.ignoreTags,e.type.toUpperCase())?n.push(e):n.push(p(e,t,++r)):n.push(e)});var o={key:"linkified-element-"+r};for(var f in e.props)o[f]=e.props[f];return i.default.cloneElement(e,o,n)}var l=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.render=function(){var e={key:"linkified-element-0"};for(var t in this.props)"options"!==t&&"tagName"!==t&&(e[t]=this.props[t]);var r=new f(this.props.options),n=this.props.tagName||"span";return p(i.default.createElement(n,e),r,0)},t}(i.default.Component);t.default=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports=n(951).default,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),n=t(784                  ),o=t(941                    ),m=t(952              );class r extends a.Component{render(){const e=n.messageMetaToElement(this.props.messageMeta,o.mention),s="small"===this.props.emojiSize?o.emojiSmall:o.emojiMedium,t=this.props.className||o.defaultMessage;return a.createElement("div",{className:s+" "+t},a.createElement(m.default,{options:{target:"_blank",attributes:{rel:"noopener"}}},e))}}r.displayName="CommentMessage",s.CommentMessage=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"ga566e41f",src:'<svg width="12" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M3.122 2.996c0 .622-.504 1.126-1.126 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126zm4 0c0 .622-.505 1.126-1.127 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126zm4 0c0 .622-.504 1.126-1.126 1.126-.622 0-1.126-.504-1.126-1.126 0-.622.504-1.126 1.126-1.126.622 0 1.126.504 1.126 1.126z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:null,src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13.649 6.879l-.798-.758-4.346 4.575-2.852-3.07-.806.748 3.648 3.93 5.154-5.425z"/><path d="M18 9c0 4.97-4.03 9-9 9-4.97 0-9-4.03-9-9 0-4.97 4.03-9 9-9 4.97 0 9 4.03 9 9zm-1 0c0 4.418-3.582 8-8 8-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gfd53090a",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 18c4.97 0 9-4.03 9-9 0-4.97-4.03-9-9-9-4.97 0-9 4.03-9 9 0 4.97 4.03 9 9 9zm4.685-11.087l-.87-.826-4.31 4.537-2.816-3.032-.879.816 3.685 3.968 5.19-5.463z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(38,1       ),n=s(80,1    ),a=s(232                        ),m=s(664                                  ),r=s(1417                       ),p=s(940                                                                         ),d=s(953                                                                  ),c=s(679                                                                 ),l=s(938                   ),h=s(389                                                                  ),u=s(954                              ),g=s(955                                   ),_=s(956                                     );class E extends o.Component{constructor(){super(...arguments),this.dropdownTargetRef=(e=>{this.dropdownTargetEl=i.findDOMNode(e)}),this.updateMessage=(e=>{this.props.dispatch(a.comments.setEditingMessage({messageMeta:e}))}),this.stopEditing=(()=>{this.props.dispatch(a.comments.stopEditing({submit:!0}))}),this.onSubmit=(()=>{this.props.submitComment(this.stopEditing,this.props.editingComment.messageMeta)}),this.onCancel=(()=>{this.props.dispatch(a.comments.stopEditing({submit:!1}))}),this.onClickOverflow=(e=>{this.props.dropdownShown&&this.props.dropdownShown.type===t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU||(e.stopPropagation(),this.props.dispatch(a.fileBrowser.showDropdown({type:t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU,data:{comment:this.props.comment,confirmDelete:this.props.confirmDelete,parentRect:this.dropdownTargetEl?this.dropdownTargetEl.getBoundingClientRect():null}})))}),this.onClickResolve=(()=>{this.props.dispatch(a.comments.put({comment:{key:this.props.comment.key,id:this.props.comment.id,resolved_at:this.props.comment.resolved_at?"false":"true"},userInitiated:!0}))}),this.stopPropagation=(e=>e.stopPropagation())}render(){const e=this.props.comment,t=this.props.prevAuthor!==e.user_id;return this.props.editingComment&&this.props.editingComment.id===e.id?o.createElement(p.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.typeahead,messageMeta:this.props.editingComment.messageMeta,submitText:"Done",placeholderText:"Comment",headerText:t?"":`${n.utc(e.created_at).fromNow(!1)}`,onCancel:this.onCancel,onSubmit:this.onSubmit,assignHandlers:this.props.assignHandlers,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,isDisabled:!1,mountFocused:!0,updateMessage:this.updateMessage,threadPosition:this.props.threadPosition,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"editCommentComposer"}):o.createElement("div",{className:t?l.threadElementNewAuthor:l.threadElementSameAuthor},o.createElement("div",{className:l.threadSubelement},o.createElement("div",{className:l.leftJustified},t&&o.createElement("span",{className:l.authorAvatar,style:{backgroundImage:`url("${e.user.img_url}")`}}),t&&o.createElement("span",{className:l.boldLabel},e.user.handle),o.createElement(m.FromNow,{className:l.grayLabel,date:e.created_at})),o.createElement("div",{className:l.rightJustified},e.user_id===this.props.user.id&&o.createElement(h.IconButton,{svg:u,onClick:this.onClickOverflow,ref:this.dropdownTargetRef}),0===this.props.index&&o.createElement(h.IconButton,{svg:e.resolved_at?_:g,"data-tooltip-text":e.resolved_at?"Unresolve":"Resolve",onClick:this.onClickResolve}))),o.createElement("div",{onMouseDown:this.stopPropagation,className:l.threadSubelement,tabIndex:1},o.createElement(d.CommentMessage,{messageMeta:e.message_meta,className:l.text,emojiSize:"small"}),o.createElement("div",{className:l.iconButtonSpace})))}}E.displayName="ThreadComment",t.ThreadComment=E,t.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU="DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU";class v extends o.PureComponent{constructor(){super(...arguments),this.onSelectItem=((e,t)=>{e.displayText.includes("Edit")?this.editComment():e.displayText.includes("Delete")&&this.deleteComment()}),this.editComment=(()=>{this.props.dispatch(a.comments.beginEditing({comment:this.props.comment}))}),this.deleteComment=(()=>{this.props.confirmDelete?this.props.dispatch(a.fileBrowser.showModal({type:r.AppModal.CONFIRM_COMMENT_DELETION_MODAL,data:{comment:this.props.comment}})):this.props.dispatch(a.comments.del({comment:this.props.comment,userInitiated:!0}))})}render(){const e=[{displayText:"Edit..."},{displayText:this.props.confirmDelete?"Delete Thread...":"Delete Comment"}];return o.createElement(c.MultilevelDropdown,{dispatch:this.props.dispatch,items:e,showPoint:!0,parentRect:this.props.parentRect,onSelectItem:this.onSelectItem,minWidth:96,recordingKey:"commentOverflowMenu"})}}v.displayName="CommentOverflowMenu",t.ThreadCommentOverflowMenu=v,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){e.exports={translatedThreadContainer:"thread_container--translatedThreadContainer--idGBg",threadContainer:"thread_container--threadContainer--2AW4o text--labelText--1wP9s overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54","comments-fade-in":"thread_container--comments-fade-in--rJe8S"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const e=s(34,1   ),i=s(370              ),n=s(198         ),r=s(778                              ),a=s(232                        ),h=s(105                        ),p=s(958                     ),d=s(385                                        ),c=s(177                             ),l=15,m=i.pxToInt(d.commentThreadOuterMargin__REFRESH),u=i.pxToInt(d.toolbarHeight);class P extends e.Component{constructor(){super(...arguments),this.containerRef=(t=>{t&&(this.container=t)}),this.adjustPositionAndScrollToBottom=((t=!1)=>{if(!this.container)return;const o=2*u,s=this.props.thread.threadPosition.y+o;let e;if(s+this.container.offsetHeight>window.innerHeight-l){let t=window.innerHeight-o-this.container.offsetHeight-l;e={x:this.props.thread.threadPosition.x,y:t}}else!t&&s<o+l&&(e={x:this.props.thread.threadPosition.x,y:l});e&&this.props.dispatch(a.comments.setThreadPosition({threadId:this.props.thread.id,position:e})),this.scrollToBottom()}),this.scrollToBottom=(()=>{this.container&&(this.container.scrollTop=this.container.scrollHeight)}),this.onMouseDown=(t=>{t.stopPropagation();const o=this.props.viewportPositionFromCanvasPosition(new n.Vector(t.clientX,t.clientY));let s=!1;o.x>this.props.thread.threadPosition.x&&o.x<this.props.thread.threadPosition.x+m?s=!0:o.y>this.props.thread.threadPosition.y&&o.y<this.props.thread.threadPosition.y+m&&(s=!0),s&&this.props.dispatch(a.comments.startDrag({startPosition:o,threadId:this.props.thread.id}))}),this.onMouseMove=(t=>{if(this.props.drag){const o=this.props.viewportPositionFromCanvasPosition(new n.Vector(t.clientX,t.clientY));r.handleMouseMove(o.x,o.y)}}),this.onMouseUp=(t=>{const o=this.props.viewportPositionFromCanvasPosition(new n.Vector(t.clientX,t.clientY));r.handleMouseUp(o.x,o.y)}),this.hideDropdown=(()=>{this.props.dispatch(a.fileBrowser.hideDropdown())})}componentDidMount(){this.adjustPositionAndScrollToBottom()}componentDidUpdate(t){const o=this.props.thread.id;if(o!==t.thread.id)this.adjustPositionAndScrollToBottom();else if(o!==h.NEW_COMMENT_ID){const o=this.props.thread,s=t.thread;this.props.thread.comments.length===t.thread.comments.length&&o.replyMessageMeta===s.replyMessageMeta||this.adjustPositionAndScrollToBottom(!0)}}render(){const t=`translate(${this.props.thread.threadPosition.x}px, ${this.props.thread.threadPosition.y}px)`;let o={transform:t,WebkitTransform:t};return e.createElement("div",{style:o,className:`${p.translatedThreadContainer} ${c.PREVENT_EVENT_CAPTURE}`,onMouseMove:this.onMouseMove,onMouseUp:this.onMouseUp},e.createElement("div",{ref:this.containerRef,className:p.threadContainer,onMouseDown:this.onMouseDown,onClick:this.hideDropdown},this.props.children))}}P.displayName="ThreadContainer",o.ThreadContainer=P,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(232                        ),p=t(105                        ),r=t(957                                                                ),a=t(940                                                                         ),n=t(959                                                                    );class m extends o.Component{constructor(){super(...arguments),this.dispatchSubmitReply=(()=>{this.props.dispatch(i.comments.submitReply({threadId:this.props.thread.id}))}),this.onSubmitReply=(()=>{this.props.submitComment(this.dispatchSubmitReply,this.props.thread.replyMessageMeta)}),this.cancelReply=(()=>{this.updateMessage([]),this.props.dispatch(i.comments.stopEditing({submit:!1}))}),this.updateMessage=(e=>{this.props.dispatch(i.comments.setReplyMessage({threadId:this.props.thread.id,messageMeta:e}))})}render(){const{threadPosition:e,comments:s,state:t,replyMessageMeta:i}=this.props.thread;return null==e?null:o.createElement(n.ThreadContainer,{thread:this.props.thread,drag:this.props.comments.drag,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch},s.map((e,t)=>o.createElement(r.ThreadComment,{key:`thread-comment-${e.id}`,dispatch:this.props.dispatch,user:this.props.user,comment:e,typeahead:this.props.comments.typeahead,prevAuthor:0===t?null:s[t-1].user_id,index:t,confirmDelete:!e.parent_id&&s.length>1,editingComment:this.props.comments.editingComment,dropdownShown:this.props.dropdownShown,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,submitComment:this.props.submitComment,assignHandlers:this.props.assignHandlers,threadPosition:this.props.thread.threadPosition,setIsEditorFocused:this.props.setIsEditorFocused})),o.createElement(a.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.comments.typeahead,threadPosition:e,messageMeta:i,submitText:"Reply",placeholderText:"Reply",onCancel:this.cancelReply,onSubmit:this.onSubmitReply,assignHandlers:this.props.assignHandlers,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,isDisabled:t===p.CommentState.BUSY,mountFocused:!1,updateMessage:this.updateMessage,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"replyCommentComposer"}))}}m.displayName="ActiveThread",s.ActiveThread=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={container:"nav_container--container--3X-Fv overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",header:"nav_container--header--3ARtM",plusbutton:"nav_container--plusbutton--20kBA"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(34,1   ),r=t(177                             ),i=t(961                  ),o=t(389                                                                  ),p=t(143              ),l=t(439                                                       ),a=t(440                                                         );class c extends n.Component{constructor(){super(...arguments),this.onClick=(e=>{this.props.onPlusClick&&this.props.onPlusClick(e)})}render(){const e=this.props.viewportInfo;if(!e)return null;let s={top:e.y,left:e.x+e.width};return n.createElement("div",{className:`${i.container} ${r.PREVENT_EVENT_CAPTURE}`,style:s},n.createElement("div",{className:this.props.headerClass||i.header},this.props.header,this.props.onPlusClick&&n.createElement(o.IconButton,{svg:l,fallbackSvg:a,onClick:this.onClick,className:i.plusbutton,recordingKey:p.joinKeys(this.props,"plusVersion")})),this.props.children)}}c.displayName="RightNavContainer",s.RightNavContainer=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,m){e.exports={actionItemsContainer:"comments_list--actionItemsContainer--1qpOT",actionItemRow:"comments_list--actionItemRow--1D1ok raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",actionItemCheckbox:"comments_list--actionItemCheckbox--OtFtb",actionItemLabel:"comments_list--actionItemLabel--QXQpN",emptyState:"comments_list--emptyState--2vpW7",comment:"comments_list--comment--15bRn text--labelText--1wP9s",hovered:"comments_list--hovered--2h1eE",commentOtherPage:"comments_list--commentOtherPage--3iaJ1 comments_list--comment--15bRn text--labelText--1wP9s",pageNameDivider:"comments_list--pageNameDivider--AG14H",activeComment:"comments_list--activeComment--3sFIL comments_list--comment--15bRn text--labelText--1wP9s",iconDiv:"comments_list--iconDiv--xq9M0",commentHeader:"comments_list--commentHeader--1oPe8",commentIcon:"comments_list--commentIcon--3QTvZ",orderNumber:"comments_list--orderNumber--1BCqB",authorLines:"comments_list--authorLines--AHAkz",subjectAuthor:"comments_list--subjectAuthor--baUxt ellipsis--ellipsis--1RWY6",writtenWhen:"comments_list--writtenWhen--rSEVc",commentMessage:"comments_list--commentMessage--gY7rv ellipsis--ellipsis--1RWY6 text--smallTitleText--1f4Vt",commentMessageRead:"comments_list--commentMessageRead--1pcG- comments_list--commentMessage--gY7rv ellipsis--ellipsis--1RWY6 text--smallTitleText--1f4Vt",numReplies:"comments_list--numReplies--3nEsQ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"g17f8c19d",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M11.453 12.204C13.012 10.941 14 9.024 14 6.884 14 3.082 10.867 0 7 0 3.133 0 0 3.082 0 6.884c0 2.14.988 4.057 2.547 5.32L7 16l4.453-3.796z" fill="#30c2ff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g8618f5e9",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M11.453 12.204C13.012 10.941 14 9.024 14 6.884 14 3.082 10.867 0 7 0 3.133 0 0 3.082 0 6.884c0 2.14.988 4.057 2.547 5.32L7 16l4.453-3.796z" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g4101eaf9",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M11.453 12.204C13.012 10.941 14 9.024 14 6.884 14 3.082 10.867 0 7 0 3.133 0 0 3.082 0 6.884c0 2.14.988 4.057 2.547 5.32L7 16l4.453-3.796z" fill="#f24822"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),o=s(232                        ),n=s(204                                            ),m=s(664                                  ),i=s(144                        ),c=s(962                                                     ),r=s(953                                                                  ),l=s(963                  ),d=s(964                                                ),p=s(965                                                ),h=s(966                                               );class g extends a.Component{render(){let e=function(e,t){const s=new Map,a=[];for(const n of e)if(n.page){let e=s.get(n.page);e?e.push(n):s.set(n.page,[n])}else a.push(n);const o=[];return t.forEach(e=>{const t=s.get(e.nodeId);t&&o.push({page:{id:e.nodeId,name:e.name},threads:t})}),0!==a.length&&o.push({page:{id:"detached",name:"Unattached Comments"},threads:a}),o}(this.props.threads,this.props.pagesList).map(({threads:e,page:t})=>a.createElement("div",{key:`comments-list-page-${t.id}`},a.createElement("div",{className:l.pageNameDivider},t.name),e.map(e=>a.createElement(v,{key:`comments-list-item-${e.id}`,dispatch:this.props.dispatch,thread:e,isCurrentPage:t.id===this.props.pageId}))));return a.createElement(c.RightNavContainer,{viewportInfo:this.props.comments.viewportInfo,header:"Comments"},a.createElement("div",{className:l.actionItemsContainer},a.createElement("div",{className:l.actionItemRow},a.createElement(n.Checkbox,{id:"show-resolved-comments",checked:this.props.showResolvedComments,onChange:this.props.toggleShowResolvedComments,className:l.actionItemCheckbox}),a.createElement(n.Label,{htmlFor:"show-resolved-comments",className:l.actionItemLabel},"Show resolved comments")),a.createElement("div",{className:l.actionItemRow},a.createElement(n.Checkbox,{id:"follow-file",checked:this.props.isFollowingFile,onChange:this.props.toggleFollowingFile,className:l.actionItemCheckbox}),a.createElement(n.Label,{htmlFor:"follow-file",className:l.actionItemLabel},"Receive email notifications"))),0===e.length&&a.createElement("div",{className:l.emptyState},"Click the canvas to leave a comment."),e)}}g.displayName="CommentsList",t.CommentsList=g;class v extends a.Component{constructor(){super(...arguments),this.ref=(e=>{e&&(this.commentEl=e)}),this.onClick=(e=>{this.props.thread.isActive||this.props.dispatch(o.comments.showThread({threadId:this.props.thread.id}))})}componentDidMount(){this.props.thread.isActive&&this.commentEl.scrollIntoViewIfNeeded()}componentDidUpdate(e){const t=e.thread.isActive;this.props.thread.isActive&&!t&&this.commentEl.scrollIntoViewIfNeeded()}getThreadAuthors(){const e=this.props.thread.comments;if(1===e.length)return e[0].user.handle;const t=e=>e.handle.split(" ")[0];let s=e[0].user,a={[s.id]:!0},o=t(s);for(let n of e)a[(s=n.user).id]||(a[s.id]=!0,o+=`, ${t(s)}`);return o}render(){const{comments:e,isActive:t,isUnread:s}=this.props.thread,o=this.props.isCurrentPage,n=e[0],c=e[e.length-1],g=e.length-1;let v;g>0&&(v=1===g?"1 reply":`${g} replies`);const f=t?l.activeComment:o?l.comment:l.commentOtherPage,u=t?d:s?h:p;return a.createElement("div",{ref:this.ref,className:f,onClick:this.onClick},a.createElement("div",{className:l.commentHeader},a.createElement("div",{className:l.iconDiv},a.createElement(i.Svg,{key:"commentGrey",className:l.commentIcon,svg:u,useOriginalSrcFills:!0}),a.createElement("div",{className:l.orderNumber},n.order_id)),a.createElement("div",{className:l.authorLines},a.createElement("div",{className:l.subjectAuthor},this.getThreadAuthors(),","),a.createElement("div",{className:l.writtenWhen},a.createElement(m.FromNow,{date:c.created_at})))),a.createElement("div",{className:l.commentMessage},a.createElement(r.CommentMessage,{messageMeta:n.message_meta,emojiSize:"small"})),v&&a.createElement("div",{className:l.numReplies},v))}}v.displayName="CommentsListItem",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,i,o){e.exports={emojiPickerContainer:"emoji_picker--emojiPickerContainer--3B85V",emojiPicker:"emoji_picker--emojiPicker--3nfiX"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(782         ),n=t(219          ),a=t(198         ),c=t(232                        ),m=t(105                        ),r=t(177                             );t(968               );const p=t(969                 ),d=338,h=351;class l extends o.Component{constructor(){super(...arguments),this.isNewMessage=(()=>this.props.comments.activeId===m.NEW_COMMENT_ID),this.addEmoji=(e=>{const s=[{t:e.colons+" "}];if(this.isNewMessage()){const e=this.props.comments.newComment.messageMeta.concat(s);this.props.dispatch(c.comments.setNewCommentMessage({messageMeta:e}))}else if(this.props.comments.editingComment){const e=this.props.comments.editingComment.messageMeta.concat(s);this.props.dispatch(c.comments.setEditingMessage({messageMeta:e}))}else{const e=this.props.comments.activeId,t=this.props.comments.threads[e].replyMessageMeta.concat(s);this.props.dispatch(c.comments.setReplyMessage({threadId:e,messageMeta:t}))}this.hideEmojiPicker(),this.props.onInsert(),n.segment&&n.segment.track("emojiIndex.EmojiData Inserted")}),this.onMouseDown=(e=>{e.stopPropagation()}),this.onClickOutside=(e=>{this.hideEmojiPicker(),e.stopPropagation()}),this.hideEmojiPicker=(()=>{this.props.dispatch(c.comments.setEmojiPicker({visible:!1}))})}render(){const{threadPosition:e}=this.props;if(!e)return null;const s=a.Vector.add(e,this.props.comments.emojiPicker.positionOffset),t=a.Vector.subtract(s,{x:h-60,y:d+70});let n=t?{transform:`translate(${t.x}px, ${t.y}px)`,WebkitTransform:`translate(${t.x}px, ${t.y}px)`}:null;return o.createElement("div",{className:p.emojiPickerContainer,onMouseDown:this.onClickOutside},o.createElement("div",{className:`${p.emojiPicker} ${r.PREVENT_EVENT_CAPTURE}`,style:n,onMouseDown:this.onMouseDown},o.createElement(i.Picker,{native:!1,onClick:this.addEmoji,autoFocus:!0,title:"",emoji:""})))}}l.displayName="EmojiPickerView",s.EmojiPickerView=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(232                        ),a=t(105                        ),n=t(781                                                ),r=t(959                                                                    ),m=t(940                                                                         );class p extends o.Component{constructor(){super(...arguments),this.updateMessage=(e=>{this.props.dispatch(i.comments.setNewCommentMessage({messageMeta:e}))}),this.submit=(()=>{this.props.onSubmit()}),this.onCancel=(()=>{this.props.dispatch(i.comments.setNewCommentMessage({messageMeta:[]})),this.props.dispatch(i.comments.setActiveIfValid({threadId:null}))})}render(){const{thread:e}=this.props;return o.createElement("div",null,o.createElement(n.NewCommentAnchor,{comments:this.props.comments,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch}),o.createElement(r.ThreadContainer,{thread:e,drag:this.props.comments.drag,dispatch:this.props.dispatch,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition},o.createElement(m.ThreadCommentComposer,{dispatch:this.props.dispatch,user:this.props.user,typeahead:this.props.comments.typeahead,threadPosition:e.threadPosition,messageMeta:e.messageMeta,submitText:"Post",placeholderText:"Comment",onSubmit:this.submit,onCancel:this.onCancel,assignHandlers:this.props.assignHandlers,viewportPositionFromCanvasPosition:this.props.viewportPositionFromCanvasPosition,isDisabled:e.state===a.CommentState.BUSY,mountFocused:!0,updateMessage:this.updateMessage,setIsEditorFocused:this.props.setIsEditorFocused,recordingKey:"newCommentComposer"})))}}p.displayName="NewComment",s.NewComment=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),n=t(199      ),i=t(232                        );class a extends o.Component{constructor(){super(...arguments),this.getPositionTranslateStyle=(()=>{const{x:e,y:s}=this.props.position;return{transform:`translate(${e}px, ${s}px)`,WebkitTransform:`translate(${e}px, ${s}px)`}}),this.handleKeyDown=(e=>{const s=()=>e.ctrlKey||e.altKey||e.shiftKey||e.metaKey,t=this.props.typeahead,a=o.Children.count(this.props.children);let p=null;if(e.keyCode!==n.Key.DOWN_ARROW||s())if(e.keyCode!==n.Key.UP_ARROW||s()){if((()=>e.keyCode===n.Key.DOWN_ARROW||e.keyCode===n.Key.UP_ARROW)()&&s())return void this.props.onClear()}else p=(a+t.index-1)%a;else p=(t.index+1)%a;e.keyCode!==n.Key.ENTER&&e.keyCode!==n.Key.TAB||null!==(p=t.index)&&this.props.onInsert(),null!==p&&this.props.dispatch(i.comments.setTypeahead({index:p,isTyping:!1})),e.keyCode!==n.Key.ENTER&&e.keyCode!==n.Key.TAB&&e.keyCode!==n.Key.ESCAPE&&e.keyCode!==n.Key.LEFT_ARROW&&e.keyCode!==n.Key.RIGHT_ARROW||setTimeout(()=>{this.props.onClear()},50)})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}render(){return o.createElement("div",{className:this.props.className,style:this.getPositionTranslateStyle(),onKeyDown:this.handleKeyDown,onMouseMove:this.props.onMouseMove},this.props.children)}}a.displayName="TypeaheadView",s.TypeaheadView=a;class p extends o.Component{constructor(){super(...arguments),this.handleMouseUp=(e=>{e.stopPropagation()}),this.handleMouseDown=(e=>{this.props.onClick(e),e.stopPropagation(),e.preventDefault()})}render(){let e=this.props.className;return this.props.selected&&(e+=" "+this.props.selectedClassName),o.createElement("div",{className:e,onMouseUp:this.handleMouseUp,onMouseDown:this.handleMouseDown,onMouseOver:this.props.onMouseOver},this.props.children)}}p.displayName="TypeaheadItem",s.TypeaheadItem=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,o){e.exports={emojiTypeahead:"emoji_typeahead--emojiTypeahead--1DE3y",emojiTypeaheadRow:"emoji_typeahead--emojiTypeaheadRow--1ZflI",emojiTypeaheadRowSelected:"emoji_typeahead--emojiTypeaheadRowSelected--9WsaA",emojiPreview:"emoji_typeahead--emojiPreview--2ernv"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(782         ),a=t(783                  ),p=t(232                        ),n=t(972          ),d=t(973                    );class m extends o.Component{constructor(){super(...arguments),this.mouseMoved=!1,this.onEmojiTypeaheadClick=(e=>{this.placeEmoji(e),this.props.onInsert(),this.props.dispatch(p.comments.setTypeahead({index:null,emojis:[]}))}),this.placeEmoji=(e=>{this.props.dispatch(p.comments.setTypeahead({index:e,isTyping:!1}))})}componentDidUpdate(e){e.typeahead.emojis!==this.props.typeahead.emojis&&(this.mouseMoved=!1)}render(){let e=this.props.typeahead.emojis.map((e,s)=>{let t=e.unified;a.MODIFIABLE_EMOJI_BASES_SET[t.toUpperCase()]&&i.emojiIndex.getDefaultSkin()&&(t+=`-${a.SKIN_TONES[i.emojiIndex.getDefaultSkin()]}`);return o.createElement(n.TypeaheadItem,{className:d.emojiTypeaheadRow,selectedClassName:d.emojiTypeaheadRowSelected,selected:this.props.typeahead.index===s,onClick:()=>this.onEmojiTypeaheadClick(s),onMouseOver:()=>{this.mouseMoved&&this.placeEmoji(s)},key:e.name},o.createElement("img",{className:d.emojiPreview,src:a.unifiedToPNG(t)}),":"+e.name+":")});return o.createElement(n.TypeaheadView,{typeahead:this.props.typeahead,className:d.emojiTypeahead,onMouseMove:()=>this.mouseMoved=!0,onInsert:this.props.onInsert,onClear:this.props.onClear,dispatch:this.props.dispatch,position:this.props.position},e)}}m.displayName="EmojiTypeaheadView",s.EmojiTypeaheadView=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){e.exports={mentionsTypeahead:"mentions_typeahead--mentionsTypeahead--a7wUe",mentionsTypeaheadRow:"mentions_typeahead--mentionsTypeaheadRow--Sa7ew",mentionsTypeaheadRowSelected:"mentions_typeahead--mentionsTypeaheadRowSelected--hjK29",email:"mentions_typeahead--email--3-fFF mentions_typeahead--profileItem--1b-Ry",avatar:"mentions_typeahead--avatar--ScSXp",profile:"mentions_typeahead--profile--14Amm",profileItem:"mentions_typeahead--profileItem--1b-Ry",name:"mentions_typeahead--name--2jFz- mentions_typeahead--profileItem--1b-Ry"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),n=s(232                        ),i=s(972          ),o=s(975                       );class p extends a.Component{constructor(){super(...arguments),this.mouseMoved=!1,this.onMentionTypeaheadClick=(e=>{this.placeMention(e),this.props.onInsert(),this.props.dispatch(n.comments.setTypeahead({index:null,mentions:[]}))}),this.placeMention=(e=>{this.props.dispatch(n.comments.setTypeahead({index:e,isTyping:!1}))})}componentDidUpdate(e){e.typeahead.mentions!==this.props.typeahead.mentions&&(this.mouseMoved=!1)}render(){let e=this.props.typeahead.mentions.map((e,t)=>{return a.createElement(i.TypeaheadItem,{className:o.mentionsTypeaheadRow,selectedClassName:o.mentionsTypeaheadRowSelected,selected:this.props.typeahead.index===t,onClick:()=>this.onMentionTypeaheadClick(t),onMouseOver:()=>{this.mouseMoved&&this.placeMention(t)},key:e.id},a.createElement("img",{className:o.avatar,src:e.img_url}),a.createElement("div",{className:o.profile},a.createElement("div",{className:o.name},e.handle),a.createElement("div",{className:o.email},e.email)))});return a.createElement(i.TypeaheadView,{typeahead:this.props.typeahead,className:o.mentionsTypeahead,onMouseMove:()=>this.mouseMoved=!0,onInsert:this.props.onInsert,onClear:this.props.onClear,dispatch:this.props.dispatch,position:this.props.position},e)}}p.displayName="MentionsTypeaheadView",t.MentionsTypeaheadView=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,o){n.exports={_container:"comments_view--_container--3ZTC5",viewContainer:"comments_view--viewContainer--1Dhm2 comments_view--_container--3ZTC5",outerAnchorContainer:"comments_view--outerAnchorContainer--3sjQa comments_view--_container--3ZTC5",innerAnchorContainer:"comments_view--innerAnchorContainer--Of536 comments_view--_container--3ZTC5"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(199      ),n=s(198         ),r=s(143              ),a=s(775                     ),p=s(778                              ),m=s(1426                               ),c=s(563                                ),h=s(232                        ),d=s(107                                 ),l=s(1471                    ),u=s(105                        ),f=s(1417                       ),w=s(781                                                ),v=s(960                                                              ),g=s(967                                                              ),_=s(970                                                            ),C=s(971                                                          ),y=s(974                                                            ),F=s(976                                                               ),b=s(977                  ),E=s(208                      ),I=s(957                               );class P extends r.Component{constructor(){super(...arguments),this.keyboardReceiverRef=(e=>{this.keyboardReceiver=e}),this.state={isEditorFocused:!1,onInsert:()=>{},onClear:()=>{}},this.containerRef=(e=>{e&&(this.container=e)}),this.assignHandlers=((e,t)=>{this.setState(Object.assign({},this.state,{onInsert:e,onClear:t}))}),this.onContextMenu=(e=>{e.preventDefault()}),this.onKeyDown=r.propagatingKeyboardEvent(this,"keydown",e=>{if(e.event.keyCode===i.Key.ESCAPE&&!this.props.comments.editingComment){if(this.props.comments.activeId){if(this.props.comments.emojiPicker&&this.props.comments.emojiPicker.visible)return this.props.dispatch(h.comments.setEmojiPicker({visible:!1})),void e.accept();if(this.state.isEditorFocused)return;return this.props.dispatch(h.comments.setActiveIfValid({threadId:null})),void e.accept()}this.props.selectedView.fullscreen&&(m.fullscreen.triggerAction("set-tool-default"),e.accept())}}),this.myFileFollower=(()=>this.props.fileFollowers[this.props.user.id]),this.isFollowingFile=(()=>{let e=this.myFileFollower();return!(!e||!e.email_comments)}),this.submitComment=((e,t)=>{const s=[];for(let o in t){const e=t[o];if(e.user_id){const t=this.props.fileByKey[this.props.editingFileKey],o=this.props.folders[t.folder_id]||null,i=this.props.teams[t.team_id]||null;if(t){let t=this.props.roles.byFileKey[this.props.editingFileKey],s=!1;for(const o in t){const i=t[o];if(i.pending&&i.user.email===e.user_annotated.email||!i.pending&&i.user.id===e.user_annotated.id){s=!0;break}}if(s)continue}if(o){let t=this.props.roles.byFolderId[o.id],s=!1;for(const o in t){if(t[o].user.id===e.user_annotated.id){s=!0;break}}if(s)continue}if(i&&o&&!o.is_invite_only){let t=this.props.roles.byTeamId[i.id],s=!1;for(const o in t){if(t[o].user.id===e.user_annotated.id){s=!0;break}}if(s)continue}s.push(e.user_annotated.handle)}}s.length>0?this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.CONFIRM_COMMENT_MENTION_MODAL,data:{onConfirm:e,onCancel:()=>{this.state.onClear&&this.state.onClear()},usersWithoutFileAccess:s}})):e()}),this.dispatchSubmitNewComment=(()=>{const e=this.props.comments.newComment,t=c.viewportPositionToCanvas(this.props.comments.viewportInfo,e.anchorPosition),s=p.getCommentDestinationForCanvasPosition(t,this.props.pageId);this.props.dispatch(h.comments.submitNewComment(s))}),this.onSubmitNewComment=(()=>{this.submitComment(this.dispatchSubmitNewComment,this.props.comments.newComment.messageMeta)}),this.toggleFileFollower=(()=>{let e=l.getEditingFile(this.props);this.isFollowingFile()?this.props.dispatch(h.fileFollower.del(this.myFileFollower(),!0)):this.props.dispatch(h.fileFollower.post({key:e.key,user_id:this.props.user.id,user:this.props.user},!0))}),this.viewportPositionFromCanvasPosition=(e=>{if(this.container){let t=this.container.getBoundingClientRect();return e.subtract(new n.Vector(t.left,t.top))}return new n.Vector(0,0)}),this.setIsEditorFocused=(e=>{this.setState({isEditorFocused:e})})}componentDidMount(){this.props.dispatch(d.loadContacts())}getSnapshotBeforeUpdate(e){return this.keyboardReceiver&&this.props.comments.activeId&&this.props.comments.activeId!==e.comments.activeId&&this.keyboardReceiver.focus(),this.keyboardReceiver&&!this.props.dropdownShown&&e.dropdownShown&&e.dropdownShown.type===I.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU&&this.keyboardReceiver.focus(),null}render(){const e=this.props.comments.viewportInfo;if(!e)return o.createElement("div",null);let t=a.commentThreads(this.props.comments,this.props.pageContainingNode);this.props.showResolvedComments||(t=t.filter(e=>!e.comments[0].resolved_at));let s=null;this.props.comments.activeId===u.NEW_COMMENT_ID?s=a.newCommentThread(this.props.comments,this.props.pageId):this.props.comments.activeId&&(s=t.find(e=>e.id===this.props.comments.activeId));const i=this.props.comments.typeahead,r=n.Vector.add(s&&s.threadPosition||{x:0,y:0},i.positionOffset||{x:0,y:0});return o.createElement(E.KeyboardReceiver,{name:"comments-view",handleKeyDown:this.onKeyDown,focusOnMount:!0,propagateKeyboardFocus:!0,ref:this.keyboardReceiverRef},o.createElement("div",{"data-forward-events-to-fullscreen":!0,className:b.viewContainer},this.props.showRightHandBar&&o.createElement(g.CommentsList,{comments:this.props.comments,threads:t,showResolvedComments:this.props.showResolvedComments,isFollowingFile:this.isFollowingFile(),toggleFollowingFile:this.toggleFileFollower,dispatch:this.props.dispatch,toggleShowResolvedComments:this.props.toggleResolvedComments,pageId:this.props.pageId,pagesList:this.props.pagesList}),o.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:b.outerAnchorContainer,style:{left:e.x,top:e.y,width:e.width,height:e.height},ref:this.containerRef,onContextMenu:this.onContextMenu},o.createElement("div",{"data-allow-component-drop":!0,"data-forward-events-to-fullscreen":!0,className:b.innerAnchorContainer},t.filter(e=>!!e.anchorPosition&&e.page===this.props.pageId&&a.canPlaceCommentAtViewportPosition(e.anchorPosition,this.props.comments)).map(e=>o.createElement(w.ThreadAnchor,{key:`anchor-${e.id}`,thread:e,comments:this.props.comments,viewportPositionFromCanvasPosition:this.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch}))),s&&s.id!==u.NEW_COMMENT_ID&&o.createElement(v.ActiveThread,{thread:s,comments:this.props.comments,dropdownShown:this.props.dropdownShown,user:this.props.user,viewportPositionFromCanvasPosition:this.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch,submitComment:this.submitComment,assignHandlers:this.assignHandlers,setIsEditorFocused:this.setIsEditorFocused}),s&&s.id===u.NEW_COMMENT_ID&&o.createElement(C.NewComment,{thread:s,comments:this.props.comments,user:this.props.user,viewportPositionFromCanvasPosition:this.viewportPositionFromCanvasPosition,dispatch:this.props.dispatch,onSubmit:this.onSubmitNewComment,assignHandlers:this.assignHandlers,setIsEditorFocused:this.setIsEditorFocused}),s&&this.props.comments.emojiPicker&&this.props.comments.emojiPicker.visible&&o.createElement(_.EmojiPickerView,{comments:this.props.comments,dispatch:this.props.dispatch,onInsert:this.state.onInsert,threadPosition:s.threadPosition}),s&&this.props.comments.typeahead.emojis&&this.props.comments.typeahead.emojis.length>0&&o.createElement(y.EmojiTypeaheadView,{dispatch:this.props.dispatch,typeahead:i,onInsert:this.state.onInsert,onClear:this.state.onClear,position:r}),s&&this.props.comments.typeahead.mentions&&this.props.comments.typeahead.mentions.length>0&&o.createElement(F.MentionsTypeaheadView,{dispatch:this.props.dispatch,typeahead:i,onInsert:this.state.onInsert,onClear:this.state.onClear,position:r}))))}}P.displayName="CommentsView",t.CommentsView=P,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,s,e){r.exports={progressBarBackground:"progress_bar--progressBarBackground--18Dzc",progressBar:"progress_bar--progressBar--1uSHu",progressBarKeepUI:"progress_bar--progressBarKeepUI--3JIV0 progress_bar--progressBar--1uSHu",progressBarPageCover:"progress_bar--progressBarPageCover--5OQvS",progressBarPageFade:"progress_bar--progressBarPageFade--3NV2m progress_bar--progressBarPageCover--5OQvS",fadein:"progress_bar--fadein--xk7sz"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const t=s(34,1   ),a=s(979                 ),n=s(344                          );let o=!1;const i=()=>{if(o)return;o=!0;let e="";const r=e=>Math.atan(e);for(let a=0;a<200;a++){let s=a/200,t=r(20*s)/r(20);e+=(100*s).toFixed(3)+"%{transform:scaleX("+t.toFixed(3)+");}"}const s="@-moz-keyframes progress-bar-animation {"+e+"}@-webkit-keyframes progress-bar-animation {"+e+"}",t=document.createElement("style");t.textContent=s,document.head.appendChild(t)};class l extends t.PureComponent{constructor(){super(...arguments),this.PROGRESS_BAR_SECONDS=120,this.renderKeepUI=(()=>t.createElement("div",null,t.createElement("div",{className:a.progressBarBackground}),t.createElement("div",{className:a.progressBarPageFade}),t.createElement("div",{className:a.progressBarKeepUI,style:{MozAnimation:`progress-bar-animation ${this.PROGRESS_BAR_SECONDS}s linear`,WebkitAnimation:`progress-bar-animation ${this.PROGRESS_BAR_SECONDS}s linear`,left:`${this.props.left||0}`}}))),this.renderHideUI=(()=>t.createElement("div",null,t.createElement("div",{className:a.progressBarBackground}),t.createElement("div",{className:a.progressBarPageCover}),t.createElement("div",{className:a.progressBar,style:{MozAnimation:`progress-bar-animation ${this.PROGRESS_BAR_SECONDS}s linear`,WebkitAnimation:`progress-bar-animation ${this.PROGRESS_BAR_SECONDS}s linear`}})))}render(){return i(),this.props.progressBarMode===n.ProgressBarMode.KEEP_UI?this.renderKeepUI():this.renderHideUI()}}l.displayName="ProgressBar",r.ProgressBar=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(95               ),i=o(283         ),r=o(287       ),c=o(140           ),l=o(129                               );function s(e){return e===l.DeviceType.PRESET||e===l.DeviceType.CUSTOM?"scale-down":e===l.DeviceType.PRESENTATION?"contain":"min-zoom"}t.urlQueryForPrototype=function(e,t,o){const c={},l=n.parse(location.search);for(const n in l)""!==n&&(c[n]=l[n]);return e&&(c.scaling=e),t&&r.isValid(r.fromString(t))&&(c["node-id"]=t),null==o||o?delete c["hotspot-hints"]:c["hotspot-hints"]="0",i.isEmpty(c)?"":`?${n.encode(c)}`},t.urlFragmentForPrototype=function(e){return e?`#${encodeURIComponent(e)}`:""},t.defaultDesktopScalingMode=s,t.getScalingMode=function(e){let t=e.scalingMode;return t||(t=s(l.DeviceType.NONE)),c.isMobileBrowser&&(t="fit-width"),t},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){e.exports={item:"history_view--item--2R4op",seeMore:"history_view--seeMore--1iAni",itemTop:"history_view--itemTop--3inSR",itemInfo:"history_view--itemInfo--2gVyr",itemInfoAutoRow:"history_view--itemInfoAutoRow--2o6kx",itemActive:"history_view--itemActive--24mU4",label:"history_view--label--2ItBy ellipsis--ellipsis--1RWY6",itemDisabled:"history_view--itemDisabled--2tVbU",versionInfo:"history_view--versionInfo--1_eQv",userInfo:"history_view--userInfo--3Z5rz",link:"history_view--link--2BrZX blue_link--blueLink--22X56",loadMore:"history_view--loadMore--3j_qK",time:"history_view--time--2AN3D",editsByList:"history_view--editsByList--36CM1 history_view--time--2AN3D",editsByEntry:"history_view--editsByEntry--3rIlv history_view--time--2AN3D",timeAsLabel:"history_view--timeAsLabel--6fKiV",dotsMenu:"history_view--dotsMenu--3eOv2",historyUpsell:"history_view--historyUpsell--1D2_7",description:"history_view--description--3OuvQ",descriptionLong:"history_view--descriptionLong--1AuNG history_view--description--3OuvQ",seeMoreText:"history_view--seeMoreText--3N7ii",descriptionActive:"history_view--descriptionActive--2uNCX history_view--description--3OuvQ",verticalLineRow:"history_view--verticalLineRow--1Eszp",firstVerticalLine:"history_view--firstVerticalLine--1FNYp history_view--verticalLineRow--1Eszp",noVerticalLine:"history_view--noVerticalLine--1neq1",lastVerticalLine:"history_view--lastVerticalLine--2Kff2 history_view--verticalLineRow--1Eszp",verticalCap:"history_view--verticalCap--hKKbK",autoCircle:"history_view--autoCircle--Lb7dy",autoCircleBlue:"history_view--autoCircleBlue--3oCpb history_view--autoCircle--Lb7dy",noUserImage:"history_view--noUserImage--DJS9H",autoSummary:"history_view--autoSummary--eQ6sP",autoSummaryDisabled:"history_view--autoSummaryDisabled--15xh- history_view--autoSummary--eQ6sP",autoInfo:"history_view--autoInfo--k8gRZ",hotkeyHelper:"history_view--hotkeyHelper--1zN7N",hotkeys:"history_view--hotkeys--2bv5t",expandCaret:"history_view--expandCaret--3KHWa",expandCaretOpen:"history_view--expandCaretOpen--1FV_W",headerGap:"history_view--headerGap--3XK-6",topGap:"history_view--topGap--3csR6",headerNoGap:"history_view--headerNoGap--2LY_y",topHeader:"history_view--topHeader--14cGo",topHeaderSavepoint:"history_view--topHeaderSavepoint--35FDW history_view--topHeader--14cGo"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=a(80,1    );e.formatDateWithMinutes=function(t){let e,a=o(new Date),n=o(t);return e=n.isSame(a,"day")?n.format("h:mm a"):n.isSame(a,"year")?n.format("MMM D h:mm a"):n.format("MMM D, YYYY")},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(232                        ),r=s(143              ),n=s(339             ),a=s(173                        ),l=s(1426                               ),p=s(1471                    ),d=s(391                                                                        ),h=s(389                                                                  ),c=s(199      ),m=s(279         ),u=s(340                                 ),v=s(172                     ),g=s(349                            ),y=s(962                                                     ),E=s(982                 ),f=s(144                        ),b=s(685                             ),_=s(983                  ),V=s(140           ),I=s(344                          ),w=s(1417                       ),k=s(219          ),S=s(220                     ),C=s(556                                       ),N=s(566                                        ),R=s(954                              );class A extends r.Component{constructor(e){super(e),this.descriptionElem=null,this.descriptionRef=(e=>{this.descriptionElem=e}),this.onClick=r.mouseEvent(this,"click",()=>{setTimeout(()=>{null===window.store.getState().modalShown&&!this.props.isActive&&this.props.loadVersionByID&&this.props.loadVersionByID(this.props.versionId)},300)}),this.onMouseEnter=(e=>{this.descriptionElem.scrollHeight>this.descriptionElem.clientHeight&&this.setState({hovered:!0})}),this.onMouseLeave=(e=>{this.setState({hovered:!1})}),this.onDoubleClick=r.mouseEvent(this,"dblclick",()=>{this.props.onCreateSavepoint?this.props.onCreateSavepoint(null):this.props.onEditSavepoint&&this.props.onEditSavepoint(this.props.versionId)}),this.onMenuClick=r.mouseEvent(this,"contextmenu",e=>{if(this.props.onSavepointMenuCallback){if(this.props.versionId===u.CURRENT_VERSION)return;this.props.onSavepointMenuCallback(this.props.versionId,this.props.checkpointKey,e)}}),this.toggleSeeMore=(e=>{e.preventDefault(),e.stopPropagation(),this.setState({longDescription:!this.state.longDescription})}),this.state={longDescription:!1,hovered:!1}}componentDidMount(){S.trackPanelView({panel:"version history"})}render(){const e=this.descriptionElem&&(this.state.longDescription||this.descriptionElem.scrollHeight>this.descriptionElem.clientHeight||this.state.hovered)&&!this.props.isActive;let t;if(this.props.userUrl){const e={img_url:this.props.userUrl};t=i.createElement(g.Avatar,{size:30,entity:e})}else t=i.createElement("div",{className:E.noUserImage});const s=this.props.versionId===u.CURRENT_VERSION,o=!this.props.label&&!s;let n=E.item;this.props.disabled&&(n=E.itemDisabled+" "+n),s&&(n=E.itemTop+" "+n),this.props.isActive&&(n=E.itemActive+" "+n);const a=this.props.isActive&&!s?E.descriptionActive:this.state.longDescription?E.descriptionLong:E.description,l=this.state.longDescription?"Show less":"Show more";let p=[];if(this.props.participatingUsersArray)if(1===this.props.participatingUsersArray.length)p.push(i.createElement("div",{className:E.editsByEntry,"data-tooltip-text":this.props.user,"data-tooltip-show-left":!0,"data-tooltip-max-width":1e3,key:"who_0"},this.props.user));else for(let r in this.props.participatingUsersArray){if(Number(r)>4&&!this.props.isActive){p.push(i.createElement("div",{className:E.editsByEntry,key:`who_${r}`},"+",this.props.participatingUsersArray.length-Number(r)," more"));break}let e=this.props.participatingUsersArray[r];e.length>0&&p.push(i.createElement("div",{className:E.editsByEntry,key:`who_${r}`,"data-tooltip-text":e,"data-tooltip-show-left":!0,"data-tooltip-max-width":1e3},e))}return i.createElement("div",{className:n,onClick:this.props.disabled?null:this.onClick,onMouseEnter:this.props.disabled?null:this.onMouseEnter,onMouseLeave:this.props.disabled?null:this.onMouseLeave,onContextMenu:this.props.disabled?null:this.onMenuClick,onDoubleClick:this.onDoubleClick},i.createElement("div",{className:this.props.first?E.firstVerticalLine:this.props.last?E.lastVerticalLine:E.verticalLineRow}),(this.props.last||this.props.first)&&i.createElement("div",{className:E.verticalCap}),i.createElement("div",{className:o?E.itemInfoAutoRow:E.itemInfo},i.createElement("div",{className:E.versionInfo},i.createElement("div",{className:E.userInfo},t,o?this.renderTime(this.props.time,E.timeAsLabel):i.createElement("div",{className:E.label},this.props.text)),this.props.isActive&&!s&&i.createElement(h.IconButton,{svg:R,onClick:this.props.disabled?null:this.onMenuClick,className:E.dotsMenu,recordingKey:r.joinKeys(this.props,"versonContext")})),i.createElement("div",{className:a,ref:this.descriptionRef},this.props.description,e&&i.createElement("div",{className:E.seeMore,onClick:this.props.disabled?null:this.toggleSeeMore},i.createElement("div",{className:E.seeMoreText},l))),i.createElement("div",{className:E.editsByList},p),this.props.isActive&&this.props.time&&!o&&this.renderTime(this.props.time,E.time)))}renderTime(e,t){const s=_.formatDateWithMinutes(e);return i.createElement("div",{className:t},s)}}A.displayName="VersionRow";class M extends i.Component{componentDidMount(){S.trackPanelView({panel:"version history paywall",teamId:this.props.team&&this.props.team.id})}render(){return i.createElement("div",{className:E.historyUpsell},i.createElement("p",null,"End of ",v.FREE_VERSION_HISTORY_MAX_DAYS," day version history."),i.createElement("p",null,"Unlimited version history is available to paid teams."),this.props.team&&i.createElement("a",{className:E.link,onClick:this.props.startUpgrade},"Upgrade now"),!this.props.team&&i.createElement("a",{className:E.link,href:"/pricing",target:"_blank",rel:"noopener"},"Learn more"))}}class D extends r.Component{constructor(e){super(e),this.label="",this.description="",this.hasLabeled=!1,this.autoExpandUnlabeledOnly=!0,this.autoExpandGroupId="",this.expandLast=!1,this.toggleAutoItemById=(e=>{let t=new Set(this.state.expandedIds);t.has(e)||this.autoExpandUnlabeledOnly&&!this.hasLabeled||this.autoExpandGroupId===e?(t.delete(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!1),this.setState({autoExpandForCurrentSelection:!1})):(t.add(e),this.hasLabeled||(this.autoExpandUnlabeledOnly=!0)),this.autoExpandGroupId="",this.setState({expandedIds:t})}),this.drawRows=((e,t,s)=>{let i=[],o=0,r=-1,n=-1,a=0;for(;o<e.length;){const t=e[o];if(t.label){let l=s&&(0===o&&t.disabled||0===i.length);a>0&&(this.renderAutoVersionBatch(i,e,r,n,s&&(t.disabled&&0===r||0===i.length),!1),l=!1),i.push(this.renderRow(t,l,o===e.length-1)),a=0,r=-1,n=-1}else r<0&&(r=o),n=o,a++;o++}return a>0&&this.renderAutoVersionBatch(i,e,r,n,s&&(e[0].disabled&&0===r||0===i.length),t),i}),this.hasLabeledVersions=(e=>{for(let t of e)if(t.label&&t.label.length>0)return!0;return!1}),this.startLoadingVersion=(e=>{this.props.dispatch(o.fullscreen.setProgressBarMode({mode:I.ProgressBarMode.KEEP_UI})),this.setState({isLoadingVersion:!0,loadingVersionId:e}),k.segment&&k.segment.track("History Version Savepoint Viewed",{savepointId:e})}),this.finishedLoadingVersion=(()=>{if(this.state.loadingVersionId&&this.state.loadingVersionId.length>0){const e=this.getVersionByID(this.state.loadingVersionId);if(e){let t;if(null!=e.label&&e.label.length>0)t="Viewing "+e.label;else{t="Viewing "+_.formatDateWithMinutes(e.touched_at)}t.length>34&&(t=t.substring(0,34)+""),this.props.dispatch(o.visualBell.enqueue({type:"versions",message:t}))}}this.setState({isLoadingVersion:!1,loadingVersionId:""}),this.props.dispatch(o.fullscreen.setProgressBarMode({mode:I.ProgressBarMode.OFF}))}),this.loadVersionById=(e=>{if(e===u.CURRENT_VERSION)return void this.props.dispatch(o.versionHistory.setActive({id:u.CURRENT_VERSION}));const t=this.getVersionByID(e);t&&this.loadVersion(t)}),this.loadVersion=(e=>{e.id!==this.props.versionHistory.activeId&&(this.startLoadingVersion(e.id),requestAnimationFrame(()=>{this.props.dispatch(o.versionHistory.setActive({id:e.id}))}))}),this.onKeyDown=r.keyboardEvent(this,"keydown",e=>{const t=null!=this.props.modalShown;if(27===e.keyCode)t?this.props.dispatch(o.fileBrowser.hideModal()):l.fullscreen.triggerAction("enter-layout-mode");else if((e.keyCode===c.Key.UP_ARROW||e.keyCode===c.Key.DOWN_ARROW)&&!t){const t=this.props.versionHistory.versions.length;this.setState({autoExpandForCurrentSelection:!0}),this.autoExpandGroupId="";let s=-1;if(this.props.versionHistory.activeId===u.CURRENT_VERSION)e.keyCode===c.Key.DOWN_ARROW&&(s=0);else{const t=this.props.versionHistory.versions.findIndex(e=>e.id===this.props.versionHistory.activeId);-1!==t&&(s=e.keyCode===c.Key.UP_ARROW?t-1:t+1)}if(s<0)return void this.props.dispatch(o.versionHistory.setActive({id:u.CURRENT_VERSION}));s>=t&&(s=t-1);const i=this.props.versionHistory.versions[s];i.disabled||this.loadVersion(i)}}),this.loadMore=(()=>{this.expandLast=!0,this.props.dispatch(o.versionHistory.loadMore())}),this.startUpgrade=(()=>{const e=p.getEditingFile(this.props),t=this.props.teams[e.team_id];t&&(S.trackCtaClicked({location:"panel",text:"upgrade now",category:[S.CtaCategories.UPGRADE_FLOW,S.CtaCategories.PAYWALL],type:"link",description:"Version History Upgrade Now cta_clicked"}),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:t.id,selectedView:this.props.selectedView})))}),this.restoreVersion=(e=>{a.canEditFile(this.props.editingFileKey,this.props)&&(this.props.dispatch(o.file.restore(p.getEditingFile(this.props),e)),k.segment&&k.segment.track("History Version Checkpoint Restored",{checkpointKey:e}))}),this.duplicateVersion=(e=>{this.props.dispatch(o.file.duplicateCheckpoint(p.getEditingFile(this.props),e)),k.segment&&k.segment.track("History Version Checkpoint Duplicated",{checkpointKey:e})}),this.clearVersion=(e=>{this.props.dispatch(o.file.updateSavepoint(p.getEditingFile(this.props),e,"",""))}),this.addSavepoint=(e=>{a.canEditFile(this.props.editingFileKey,this.props)&&this.props.dispatch(o.fileBrowser.showModal({type:w.AppModal.SAVEPOINT_MODAL}))}),this.editSavepoint=(e=>{if(a.canEditFile(this.props.editingFileKey,this.props)&&e){const t=this.getVersionByID(e);t&&(this.label=t.label,this.description=t.description),this.props.dispatch(o.fileBrowser.showModal({type:w.AppModal.SAVEPOINT_MODAL,data:{description:this.description,label:this.label,savepointID:e}}))}}),this.dropdownCallback=((e,t)=>{let{versionId:s,checkpointKey:i}=t;switch(e){case"savepoint-clear":this.clearVersion(s);break;case"savepoint-restore":this.restoreVersion(i);break;case"savepoint-duplicate":this.duplicateVersion(i);break;case"savepoint-edit":case"savepoint-label":this.editSavepoint(s)}}),this.getVersionByID=(e=>this.props.versionHistory.versions.find(t=>t.id===e)),this.onSavepointMenu=((e,t,s)=>{if(this.props.dropdownShown&&this.props.dropdownShown.type===b.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU)return void s.preventDefault();s.stopPropagation(),s.preventDefault();let i=this.getVersionByID(e);const{clientX:r,clientY:n}=s;this.props.dispatch(o.fileBrowser.showDropdown({type:b.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU,data:{clientX:r,clientY:n,versionId:e,checkpointKey:t,callback:this.dropdownCallback,editName:i.label?"savepoint-edit":"savepoint-label",enableClear:i.label&&i.label.length>0}}))}),this.renderRow=((e,t,s)=>i.createElement(A,{key:`history-item-${e.id}`,description:e.description,label:e.label,disabled:e.disabled,text:function(e){return e.participating_users_array&&e.participating_users_array.length>0?e.label||e.participating_users_array[0]||e.user.handle:e.label||e.user.handle}(e),participatingUsersArray:e.participating_users_array,time:e.touched_at,isActive:this.props.versionHistory.activeId===e.id,isLoading:this.state.isLoadingVersion,user:e.user&&e.user.handle,userUrl:e.user&&e.label?e.user.img_url:null,restoreVersion:this.restoreVersion.bind(this,e.checkpoint_key),duplicateVersion:this.duplicateVersion.bind(this,e.checkpoint_key),clearVersion:this.clearVersion.bind(this,e.id),loadVersionByID:this.loadVersionById,versionId:e.id,checkpointKey:e.checkpoint_key,dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"version",e.id),onSavepointMenuCallback:this.onSavepointMenu,onEditSavepoint:this.editSavepoint,modalShown:this.props.modalShown,first:t,last:s})),this.onPlusClick=(e=>{this.addSavepoint(this.props.versionHistory.versions&&this.props.versionHistory.versions.length>0&&this.props.versionHistory.versions[0].checkpoint_key||u.CURRENT_VERSION)}),this.state={isLoadingVersion:!1,loadingVersionId:"",expandedIds:new Set,autoExpandForCurrentSelection:!1}}renderAutoVersionBatch(e,t,s,o,n,a){if(s<0||null===t||t.length<1)return;const l=t[s].id;let p=this.state.expandedIds.has(l)||this.autoExpandUnlabeledOnly&&!this.hasLabeled;if(this.state.autoExpandForCurrentSelection)for(let i=s;i<=o;i++)t[i].id===this.props.versionHistory.activeId&&(p=!0,this.autoExpandGroupId=this.props.versionHistory.activeId);this.expandLast&&a&&(p||this.toggleAutoItemById(l),this.expandLast=!1);const h=o-s+1;let c,u=!0;1===h&&(p=!0,u=!1),c=!a||1!==h&&p?n?E.firstVerticalLine:E.verticalLineRow:n?E.noVerticalLine:E.lastVerticalLine;let v=a&&!p||n;if(u&&e.push(i.createElement(d.RecordableDiv,{key:`auto_row_${s}`,recordingKey:r.joinKeys(this.props,`autoVersionBatch.${s}`),className:t[s].disabled?E.autoSummaryDisabled:E.autoSummary,onClick:this.toggleAutoItemById.bind(this,l)},i.createElement("div",{className:c}),i.createElement(f.Svg,{key:"expand-caret",className:p?E.expandCaretOpen:E.expandCaret,svg:p?C:N}),i.createElement("div",{className:E.autoInfo},h," autosave ",m.getPluralOrSingular(h,"version")),v&&i.createElement("div",{className:E.verticalCap}))),p)for(let i=s;i<=o;i++)e.push(this.renderRow(t[i],n&&s===o,a&&i===o))}componentDidMount(){this.props.dispatch(o.versionHistory.setActive({id:u.CURRENT_VERSION})),document.addEventListener("keydown",this.onKeyDown),l.fullscreen.fromFullscreen.on("sceneGraphMirrorUpdate",this.finishedLoadingVersion)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.onKeyDown),l.fullscreen.fromFullscreen.removeListener("sceneGraphMirrorUpdate",this.finishedLoadingVersion)}render(){const e=p.getEditingFile(this.props),t=this.props.teams[e.team_id];let s,o=this.props.versionHistory.versions.filter((e,t,s)=>!e.disabled),a=this.props.versionHistory.versions.filter((e,t,s)=>e.disabled).slice(0,v.MAX_DISABLED_VERSIONS);this.hasLabeled=this.hasLabeledVersions(o)||this.hasLabeledVersions(a);const l=n.hasMore(this.props.versionHistory);v.shouldRestrictProFeature(t)&&!e.parent_org_id&&(a.length>0||!l)&&(s=i.createElement(M,{startUpgrade:this.startUpgrade,team:t}));const d=i.createElement("div",{className:E.loadMore},!this.props.versionHistory.loading&&n.hasMore(this.props.versionHistory)&&i.createElement("a",{className:E.link,onClick:this.loadMore},"Show older")),h=this.props.versionHistory.docHasChanged;return i.createElement("div",null,i.createElement(y.RightNavContainer,{viewportInfo:this.props.comments.viewportInfo,header:"Version History ",headerClass:E.topHeaderSavepoint,onPlusClick:this.onPlusClick},i.createElement("div",{className:E.headerGap},!this.hasLabeled&&i.createElement("div",{className:E.hotkeyHelper},V.mac&&i.createElement("div",{className:E.hotkeys}," +  + S"),!V.mac&&i.createElement("div",{className:E.hotkeys},"Ctrl + Alt + S"),i.createElement("div",null,"Add to version history while editing.")),h&&i.createElement(A,{text:"Current Version",isActive:this.props.versionHistory.activeId===u.CURRENT_VERSION,userUrl:this.props.user.img_url,versionId:u.CURRENT_VERSION,dispatch:this.props.dispatch,addSavepoint:this.addSavepoint,loadVersionByID:this.loadVersionById,first:!0,recordingKey:r.joinKeys(this.props,"currentVersion"),onCreateSavepoint:this.onPlusClick,onSavepointMenuCallback:this.onSavepointMenu,modalShown:this.props.modalShown}),this.drawRows(o,0===a.length,!h),s,this.drawRows(a,!0,!1)),0===a.length&&d))}}D.displayName="VersionHistoryView",t.VersionHistoryView=D,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,d){o.exports={menu:"quick_command_dropdown--menu--VjS0w",hasPreview:"quick_command_dropdown--hasPreview--2fgXV",leftPane:"quick_command_dropdown--leftPane--1KE7F",rightPane:"quick_command_dropdown--rightPane--3-mbV",noPreview:"quick_command_dropdown--noPreview--1SciM",name:"quick_command_dropdown--name--12xKH",rightColumn:"quick_command_dropdown--rightColumn--3fwuj",iconContainer:"quick_command_dropdown--iconContainer--2uxTA",highlight:"quick_command_dropdown--highlight--L9UP3",optionActive:"quick_command_dropdown--optionActive--1v4mO quick_command_dropdown--option--10Kny undefined",option:"quick_command_dropdown--option--10Kny undefined",optionDisabled:"quick_command_dropdown--optionDisabled--YsbRi quick_command_dropdown--option--10Kny undefined"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(34,1   ),s=i(985                                                           ),n=i(144                        ),r=i(677                                                           );class p extends o.PureComponent{constructor(){super(...arguments),this.adjustHighlightBitStringForPrefix=((t,e)=>{if(0===e.length)return t;let i="";for(let o=0;o<e.length;o++)i+="0";return i+t})}render(){const t=this.adjustHighlightBitStringForPrefix(this.props.highlightBitString,this.props.prefixText),e=this.props.prefixText+this.props.text,i=this.props.highlightBitString?r.highlightText(e,t,s.highlight):this.props.text;let p=s.option;return this.props.isEnabled?this.props.isActive&&(p=s.optionActive):p=s.optionDisabled,o.createElement("div",{className:p,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseMove:this.props.onMouseMove,onMouseLeave:this.props.onMouseLeave},o.createElement("div",{className:s.iconContainer},!!this.props.icon&&o.createElement(n.Svg,{svg:this.props.icon})),o.createElement("div",{className:s.name},i),this.props.rightText&&o.createElement("span",{className:s.rightColumn},this.props.rightText))}}p.displayName="QuickCommandDropdownOption",e.QuickCommandDropdownOption=p,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),n=i(38,1       ),o=i(199      ),c=i(232                        ),a=i(408                                  ),l=i(985                                                           ),r=i(986                                                              ),h=a.dropdown.Dropdown,m=24;class d extends s.PureComponent{constructor(e){super(e),this.options=Object.create(null),this.selectNextActiveItem=((e,t)=>{for(let i=void 0===t?0:t+1;i<e.length;i++){const t=e[i];if(this.isItemSelectable(t)){this.setActiveOption(t,i);break}}}),this.onKeyDown=(e=>{let t;switch(e.keyCode){case o.Key.ENTER:e.preventDefault(),(t=null!==this.state.activeItemIndex&&this.visibleItems[this.state.activeItemIndex])&&(t.callback(t,e),t.doNotDismiss||this.props.dispatch(c.fileBrowser.hideDropdown()));break;case o.Key.ESCAPE:e.preventDefault(),this.props.dispatch(c.fileBrowser.hideDropdown());break;case o.Key.DOWN_ARROW:if(e.preventDefault(),null===this.state.activeItemIndex){const e=0,t=this.visibleItems[e];this.setActiveOption(t,e)}else this.state.activeItemIndex<this.visibleItems.length-1&&this.selectNextActiveItem(this.visibleItems,this.state.activeItemIndex);break;case o.Key.UP_ARROW:if(e.preventDefault(),null===this.state.activeItemIndex){const e=this.visibleItems.length-1,t=this.visibleItems[e];this.setActiveOption(t,e)}else if(this.state.activeItemIndex>0)for(let e=this.state.activeItemIndex-1;e>-1;e--){const t=this.visibleItems[e];if(this.isItemSelectable(t)){this.setActiveOption(t,e);break}}}}),this.setActiveOption=((e,t,i)=>{const s=this.options[t],o=n.findDOMNode(s);o&&this.setState({activeItemIndex:t,activeItemClientRect:o.getBoundingClientRect()})}),this.onMouseEnterItem=((e,t)=>i=>{this.setActiveOption(e,t,!0)}),this.onClickItem=(e=>t=>{t.stopPropagation(),e.callback(e,t),e.doNotDismiss||this.props.dispatch(c.fileBrowser.hideDropdown())}),this.onClickMenu=(e=>{e.stopPropagation()}),this.onMouseOver=(e=>{this.setState({activeItemIndex:null,activeItemClientRect:null})}),this.isItemSelectable=(e=>!0),this.optionRef=((e,t)=>{this.options[e]=t}),this.renderItem=((e,t)=>{const i=e.match?e.match.compileHighlightForMenuItem():"";return s.createElement(r.QuickCommandDropdownOption,{text:e.text,rightText:e.rightText,isActive:t===this.state.activeItemIndex,icon:e.icon,isEnabled:e.isEnabled,prefixText:"",key:t,highlightBitString:i,onClick:this.onClickItem(e),onMouseEnter:this.onMouseEnterItem(e,t),ref:this.optionRef.bind(this,t)})}),this.renderOptions=(e=>e.map((e,t)=>this.renderItem(e,t))),this.state={activeItemIndex:null,activeItemClientRect:null}}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentDidUpdate(e){e.items!==this.props.items&&this.selectNextActiveItem(this.visibleItems,-1)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){this.visibleItems=this.props.items;const e=window.innerHeight/8,t=window.innerHeight-e-m,i=Math.floor((t-e)/m);this.visibleItems.length>i&&(this.visibleItems=this.visibleItems.slice(0,i));const n={};n.left=window.innerWidth/2-300,n.top=window.innerHeight/8;const o=null!==this.state.activeItemIndex&&this.visibleItems[this.state.activeItemIndex],c=o&&o.thumbnailUrl,a=c?l.hasPreview:l.noPreview;return s.createElement(h,{className:l.menu,key:"pointerless",style:n},s.createElement("div",{key:"child-container",onClick:this.onClickMenu,onMouseOver:this.onMouseOver},this.props.children),s.createElement("div",{className:a},s.createElement("div",{className:l.leftPane},this.renderOptions(this.visibleItems)),s.createElement("div",{className:l.rightPane},c&&s.createElement("img",{src:c}))))}}d.displayName="QuickCommandDropdown",t.QuickCommandDropdown=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,c,t){n.exports={searchInput:"quick_command_bar--searchInput--113CG",searchInputContainer:"quick_command_bar--searchInputContainer--26Phl",searchInputIcon:"quick_command_bar--searchInputIcon--1n_3C",quickInput:"quick_command_bar--quickInput--1OKqT",quickInputContainer:"quick_command_bar--quickInputContainer--3q6h1",tabHint:"quick_command_bar--tabHint--2iuHv",completionHint:"quick_command_bar--completionHint--3l8w8"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0}),function(e){e[e.NULL=0]="NULL",e[e.ALL=1]="ALL",e[e.RUN=2]="RUN",e[e.GOTO=3]="GOTO",e[e.INSERT=4]="INSERT",e[e.OPEN=5]="OPEN"}(r.QuickCommandSearchMode||(r.QuickCommandSearchMode={})),r.nullSearchResultCallback=((e,r)=>{});r.BasicSearchMap=class{constructor(){this.props=null,this.updateProps=(e=>{this.props=e}),this.getSearchResults=((e,r)=>{throw new Error("search_map.performSearch() was called before it was overriden. This is not allowed!!!")})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(1430                                             ),s=n(563                                ),a=n(198         ),i=n(1426                               ),r=n(989           ),c=n(281                                  );t.ComponentSearchMap=class extends r.BasicSearchMap{constructor(){super(...arguments),this.getSearchResults=((e,t)=>{if(t!==r.QuickCommandSearchMode.ALL&&t!==r.QuickCommandSearchMode.INSERT)return[];const n=[];let o=0;for(const s in this.props.componentsByTeamId){const t=this.props.componentsByTeamId[s];for(const s in t){const a=t[s];for(const t in a){const i=a[t],p=e?e.matchAgainstText(i.name):null;if(p||!e&&o<20){const e=this.props.fileByKey[s],t=this.props.folders[e.folder_id],a=c.getStringWithSubstitutions(this.props.appModel.strings,"insert-component-right-text",{folder_name:t&&t.name,name:e.name});n.push({text:i.name,rightText:a,isEnabled:!0,forMode:r.QuickCommandSearchMode.INSERT,callback:this.insertComponentCallback,args:{name:i.name,component:i},match:p,thumbnailUrl:i.thumbnail_url}),o++}}}}return n}),this.insertComponentCallback=((e,t)=>{const n=i.fullscreen.getViewportInfo(),r=s.viewportPositionToCanvas(n,{x:n.width/2,y:n.height/2});this.props.dispatch(o.insertSharedComponent({component:e.args.component,canvasPosition:r,percentageOffset:new a.Vector(.5,.5),insertAsChildOfCanvas:!0}))})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(232                        ),a=s(989           ),r=s(281                                  );t.FileSearchMap=class extends a.BasicSearchMap{constructor(){super(...arguments),this.getSearchResults=((e,t)=>{if(t!==a.QuickCommandSearchMode.ALL&&t!==a.QuickCommandSearchMode.OPEN)return[];const s=[];let i=0;for(const o in this.props.fileByKey){const t=this.props.fileByKey[o],l=e?e.matchAgainstText(t.name):null;if(l||!e&&i<20){const e=this.props.folders[t.folder_id],o=r.getStringWithSubstitutions(this.props.appModel.strings,"open-file-right-text",{folder_name:e&&e.name});s.push({text:t.name,rightText:o,isEnabled:!0,forMode:a.QuickCommandSearchMode.OPEN,callback:this.gotoFileCallback,args:{file:t},match:l,thumbnailUrl:t.thumbnail_url}),i++}}return s}),this.gotoFileCallback=((e,t)=>{this.props.dispatch(i.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:e.args.file.key}}))})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g5988d2d6",src:'<svg width="9" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M3.414 7.414L0 4l1.414-1.414 2 2 4-4L8.828 2 3.414 7.414z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(672                                  ),i=s(281                                  ),r=s(0                    ),n=s(176              ),o=s(989           ),l=s(681                                        ),c=s(281                                  ),p=s(143              ),u=s(992                                    );t.FullscreenSearchMap=class extends o.BasicSearchMap{constructor(){super(...arguments),this.getSearchResults=((e,t)=>{if(t!=o.QuickCommandSearchMode.ALL&&t!=o.QuickCommandSearchMode.RUN)return[];if(!e)return[];const s=[];return this.addToSearcResultFromMenuItem(e,a.getFullscreenMenuRoot(),s),s}),this.addToSearcResultFromMenuItem=((e,t,s)=>{if(t&&!t.separator){if(t.flags){if(t.flags.indexOf("!ship")>-1)return;if(t.flags.indexOf("!desktop")>-1){if(n.desktopApp)return}else if(t.flags.indexOf("desktop")>-1&&!n.desktopApp)return;const e=this.props.appModel.userCanEdit||p.isRunningInteractionTests();if(t.flags.indexOf("!edit")>-1){if(e)return}else if(t.flags.indexOf("edit")>-1&&!e)return}if((!t.featureFlags||t.featureFlags.every(e=>r.initialOptions().feature_flags[e]))&&(!t.notFeatureFlags||!t.notFeatureFlags.some(e=>r.initialOptions().feature_flags[e]))&&this.isMenuItemEnabled(t))if(t.children)for(let a of t.children)this.addToSearcResultFromMenuItem(e,a,s);else{const a=t.action||t.name,r=i.getString(this.props.appModel.strings,a),n=e.matchAgainstText(r);n&&s.push({text:r,rightText:c.getKeyboardShortcut(this.props.appModel.keyboardShortcuts,a),isEnabled:this.isMenuItemEnabled(t),forMode:o.QuickCommandSearchMode.RUN,icon:this.isMenuItemChecked(t)?u:null,callback:this.fullscreenMenuCallback,args:{menuItem:t},match:n})}}}),this.fullscreenMenuCallback=((e,t)=>{l.actionCallbacks.get(e.args.menuItem.action,"quick-command")(t)}),this.isMenuItemEnabled=(e=>!!e.name||!!e.children||!!e.action&&c.isActionEnabled(this.props.appModel,e.action)),this.isMenuItemChecked=(e=>void 0!==e.propertyValue&&this.props.appModel[e.property]===e.propertyValue)}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,L,t){l.exports={id:"gf5f16012",src:'<svg width="16" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M5.207 13.707L4.5 13l.707-.707 2.086-2.086L8 9.5l.707.707 2.086 2.086.707.707-.707.707-2.086 2.086L8 16.5l-.707-.707-2.086-2.086zM8 15.086L10.086 13 8 10.914 5.914 13 8 15.086zM5.207 4.707L4.5 4l.707-.707 2.086-2.086L8 .5l.707.707 2.086 2.086L11.5 4l-.707.707-2.086 2.086L8 7.5l-.707-.707-2.086-2.086zM8 6.086L10.086 4 8 1.914 5.914 4 8 6.086zM.707 9.207L0 8.5l.707-.707 2.086-2.086L3.5 5l.707.707 2.086 2.086L7 8.5l-.707.707-2.086 2.086L3.5 12l-.707-.707L.707 9.207zM3.5 10.586L5.586 8.5 3.5 6.414 1.414 8.5 3.5 10.586zm6.207-1.379L9 8.5l.707-.707 2.086-2.086L12.5 5l.707.707 2.086 2.086L16 8.5l-.707.707-2.086 2.086L12.5 12l-.707-.707-2.086-2.086zm2.793 1.379L14.586 8.5 12.5 6.414 10.414 8.5l2.086 2.086z" fill-rule="evenodd"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(281                                  ),a=s(989           ),i=s(681                                        );class n{constructor(){this.foundCount=Object.create(null),this.usedCount=Object.create(null)}countItem(e){this.foundCount[e]=this.foundCount[e]?this.foundCount[e]+1:1}makeUniqueNameForItem(e){return this.foundCount[e]&&1!==this.foundCount[e]?(this.usedCount[e]=this.usedCount[e]?this.usedCount[e]+1:1,e+" ("+this.usedCount[e]+" of "+this.foundCount[e]+")"):e}}t.SceneGraphSearchMap=class extends a.BasicSearchMap{constructor(){super(...arguments),this.validNodes=null,this.updateProps=(e=>{this.props&&this.props.sceneGraph===e.sceneGraph||(this.props=e,this.validNodes=null)}),this.getSearchResults=((e,t)=>{if(t!=a.QuickCommandSearchMode.ALL&&t!=a.QuickCommandSearchMode.GOTO)return[];this.validNodes||this.findValidNodes();const o=[],i=new n;let r;for(r of this.validNodes)i.countItem(r.name);let d=0;for(r of this.validNodes){const t=r.guid,n=i.makeUniqueNameForItem(r.name),c="FRAME"===r.type?s(399                                            ):"SYMBOL"===r.type?s(994                                             ):null,u=e?e.matchAgainstText(n):null;(u||!e&&d<20)&&(o.push({text:n,rightText:"",isEnabled:!0,forMode:a.QuickCommandSearchMode.GOTO,icon:c,callback:this.gotoLayerCallback,args:{name:n,nodeId:t},match:u}),d++)}return o}),this.findValidNodes=(()=>{const e=this.props.sceneGraph.get(o.currentCanvasNodeId(this.props.appModel));this.validNodes=[],this.eachValidNode(e,e=>{this.validNodes.push(e)})}),this.eachValidNode=((e,t)=>{if(this.isValidNodeForLayerAction(e)&&t(e),!e.sharedSymbolReference)for(const s of e.reversedChildren)this.eachValidNode(this.props.sceneGraph.get(s),t)}),this.isValidNodeForLayerAction=(e=>-1!==["FRAME","SYMBOL"].indexOf(e.type)&&("FRAME"!==e.type||e.parent===o.currentCanvasNodeId(this.props.appModel))&&!e.sharedSymbolReference),this.gotoLayerCallback=((e,t)=>{i.actionCallbacks.get("goto-layer","quick-command",e.args)(t)})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),r=s(144                        ),o=s(987                                                       ),n=s(988                                                      ),i=s(561                     ),c=s(281                                  ),h=s(199      ),m=s(989           ),d=s(990                     ),p=s(991                ),l=s(993                      ),u=s(995                      ),g=s(682                                    ),f=s(683                          );class M extends a.PureComponent{constructor(e){super(e),this.searchMaps=[],this.modeInfoArray=[],this.focusSearchInput=(()=>{this.searchInput&&this.searchInput!==document.activeElement&&this.searchInput.focus()}),this.onKeyDown=(e=>{if(e.keyCode===h.Key.TAB){e.preventDefault();let t=this.getFirstMatchingModeFromPrefix(this.state.searchQuery);if(!t){const e=(this.getIndexForMode(this.state.mode)+1)%this.modeInfoArray.length;t=this.modeInfoArray[e]}this.clearSearchInput(),this.setState({mode:t.mode})}}),this.onSearchChange=(e=>{this.setState({searchQuery:e.currentTarget.value})}),this.clearSearchInput=(()=>{this.setState({searchQuery:""})}),this.performSearch=(e=>{let t=new i.FuzzyStringMatcher(e);t.isValidQuery()||(t=null);let s=[];if(t||this.state.mode!=m.QuickCommandSearchMode.ALL)for(const o of this.searchMaps)s=s.concat(o.getSearchResults(t,this.state.mode));s=this.sortAndGroupResults(s),t&&!s.length&&(s=[{text:c.getString(this.props.appModel.strings,"search-results-empty"),rightText:"",isEnabled:!1,forMode:m.QuickCommandSearchMode.ALL,callback:m.nullSearchResultCallback,args:{}}]);let a=this.getFirstMatchingModeFromPrefix(e),r="";a&&(r=a.commandText.toLowerCase()),this.setState({searchResults:s,completionHint:r})}),this.sortAndGroupResults=(e=>{const t=e.sort(this.searchResultSortFunction),s=[],a=this.state.mode==m.QuickCommandSearchMode.ALL,r=a?5:100;let o=m.QuickCommandSearchMode.NULL,n=0;for(const i of t){if(a&&i.forMode!=o){let e=this.getInfoForMode(i.forMode);s.push({text:e.labelText,rightText:"",isEnabled:!1,forMode:i.forMode,callback:m.nullSearchResultCallback,args:{}}),o=i.forMode,n=0}n<r?s.push(i):n==r&&s.push({text:"More...",rightText:"",isEnabled:!0,forMode:i.forMode,callback:this.switchModeCallback,args:{mode:i.forMode},doNotDismiss:!0}),n++}return s}),this.searchResultSortFunction=((e,t)=>{if(e.forMode<t.forMode)return-1;if(e.forMode>t.forMode)return 1;const s=e.match?e.match.score:0,a=t.match?t.match.score:0;return s>a?-1:s<a?1:e.text<t.text?-1:e.text>t.text?1:0}),this.setSearchInput=(e=>{this.searchInput=e}),this.switchModeCallback=((e,t)=>{this.setState({mode:e.args.mode})}),this.getInfoForMode=(e=>{for(const t of this.modeInfoArray)if(t.mode===e)return t;return null}),this.getIndexForMode=(e=>{for(let t=0;t<this.modeInfoArray.length;t++)if(this.modeInfoArray[t].mode===this.state.mode)return t;return-1}),this.getFirstMatchingModeFromPrefix=(e=>{if(e)for(const t of this.modeInfoArray)if(0===t.commandText.toLowerCase().indexOf(e))return t;return null}),this.state={searchResults:[],searchQuery:"",mode:m.QuickCommandSearchMode.ALL},this.searchMaps.push(new d.ComponentSearchMap),this.searchMaps.push(new p.FileSearchMap),this.searchMaps.push(new l.FullscreenSearchMap),this.searchMaps.push(new u.SceneGraphSearchMap),this.modeInfoArray=[{mode:m.QuickCommandSearchMode.ALL,commandText:c.getString(this.props.appModel.strings,"command-bar-mode-all"),labelText:c.getString(this.props.appModel.strings,"command-bar-mode-all-label"),placeholderText:c.getString(this.props.appModel.strings,"command-bar-mode-all-hint")},{mode:m.QuickCommandSearchMode.RUN,commandText:c.getString(this.props.appModel.strings,"command-bar-mode-run"),labelText:c.getString(this.props.appModel.strings,"command-bar-mode-run-label"),placeholderText:c.getString(this.props.appModel.strings,"command-bar-mode-run-hint")},{mode:m.QuickCommandSearchMode.GOTO,commandText:c.getString(this.props.appModel.strings,"command-bar-mode-goto"),labelText:c.getString(this.props.appModel.strings,"command-bar-mode-goto-label"),placeholderText:c.getString(this.props.appModel.strings,"command-bar-mode-goto-hint")},{mode:m.QuickCommandSearchMode.INSERT,commandText:c.getString(this.props.appModel.strings,"command-bar-mode-insert"),labelText:c.getString(this.props.appModel.strings,"command-bar-mode-insert-label"),placeholderText:c.getString(this.props.appModel.strings,"command-bar-mode-insert-hint")},{mode:m.QuickCommandSearchMode.OPEN,commandText:c.getString(this.props.appModel.strings,"command-bar-mode-open"),labelText:c.getString(this.props.appModel.strings,"command-bar-mode-open-label"),placeholderText:c.getString(this.props.appModel.strings,"command-bar-mode-open-hint")}]}componentDidMount(){document.addEventListener("keydown",this.onKeyDown),this.searchMaps.forEach(e=>e.updateProps(this.props)),this.focusSearchInput(),this.performSearch(this.state.searchQuery.trim())}componentDidUpdate(e,t){this.searchMaps.forEach(e=>e.updateProps(this.props)),t.searchQuery===this.state.searchQuery&&t.mode===this.state.mode||this.performSearch(this.state.searchQuery.trim()),this.focusSearchInput()}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown)}render(){const e=this.state.searchQuery?a.createElement(r.Svg,{className:n.searchInputIcon,svg:f,onClick:this.clearSearchInput}):a.createElement(r.Svg,{className:n.searchInputIcon,svg:g});let t=this.getInfoForMode(this.state.mode).placeholderText,s=this.state.completionHint,i=s?"TAB to complete":0===this.state.searchQuery.length?"TAB to switch":"";return a.createElement("div",null,a.createElement(o.QuickCommandDropdown,{dispatch:this.props.dispatch,appModel:this.props.appModel,items:this.state.searchResults,mode:this.state.mode},a.createElement("div",{className:n.quickInputContainer,key:"search"},e,s&&a.createElement("span",{className:n.completionHint},s),a.createElement("input",{className:n.quickInput,ref:this.setSearchInput,placeholder:t,onChange:this.onSearchChange,value:this.state.searchQuery}),i&&a.createElement("span",{className:n.tabHint},i))))}}M.displayName="QuickCommandBar",t.QuickCommandBar=M,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(h,v,t){h.exports={id:"g6243dd34",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 2H2v6h6V2H3zm4 1H3v4h4V3zm3-1h6v6h-6V2zm1 1h4v4h-4V3zm-1 7h6v6h-6v-6zm1 1h4v4h-4v-4zm-9-1h6v6H2v-6zm1 1h4v4H3v-4z" fill-rule="evenodd"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,e,s){t.exports={id:"g6de97331",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M12.5 10c1.38 0 2.5-1.12 2.5-2.5C15 6.12 13.88 5 12.5 5 11.12 5 10 6.12 10 7.5c0 1.38 1.12 2.5 2.5 2.5zM14 7.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM17 1H1v16h16V1zm-1 1v14h-1.293L6 7.293l-4 4V2h14zM2 16v-3.293l4-4L13.293 16H2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,e){t.exports={id:"g73e2d995",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1 5V4h3V1h1v3h8.293l2.853-2.854.708.708L14 4.707V13h3v1h-3v3h-1v-3H4V5H1zm4 0h7.293L5 12.293V5zm8 .707V13H5.707L13 5.707z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,v,t){h.exports={id:"gc5db94e6",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M13 14h1v-4h-1v3H5V5h3V4H4v10h9zM3 5H0V4h3v1zm0 9H0v-1h3v1zm15 0h-3v-1h3v1zm-5 4v-3h1v3h-1zM4 3V0h1v3H4zm0 15v-3h1v3H4zM15 2h1v5h-1V2zm-4 1V2h5v1h-5zm4.854-.146l-6.5 6.5-.708-.708 6.5-6.5.708.708z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,h,e){t.exports={id:"gfb0bb9ca",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M12 1H1v11h5v5h11V6h-5V1zM2 11V2h9v4H6v5H2zm14 5H7v-4h5V7h4v9z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"ga1da393b",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M17 17V6h-5V1H1v11h5v5h11zm-6-6H2V2h9v9z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"gb02966ff",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M17 17V6h-5V1H1v11h5v5h11z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g8ff52026",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M12 1H1v11h5V6h6V1zm5 16V6h-5v6H6v5h11z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,c){t.exports={id:"g1d9f26d6",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 16.196C6.557 16.71 7.745 17 9 17c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-1.255 0-2.443.29-3.5.804C2.836 3.103 1 5.837 1 9c0 3.163 1.836 5.898 4.5 7.196zM16 9c0 3.866-3.134 7-7 7-.854 0-1.673-.153-2.43-.433C8.643 14.12 10 11.719 10 9c0-2.719-1.357-5.121-3.43-6.567C7.327 2.153 8.146 2 9 2c3.866 0 7 3.134 7 7z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,t,z){c.exports={id:"g22e5d057",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 5C3.88 5 5 3.88 5 2.5 5 1.12 3.88 0 2.5 0 1.12 0 0 1.12 0 2.5 0 3.88 1.12 5 2.5 5zm0-1C1.672 4 1 3.328 1 2.5 1 1.672 1.672 1 2.5 1 3.328 1 4 1.672 4 2.5 4 3.328 3.328 4 2.5 4zm11 1C14.88 5 16 3.88 16 2.5 16 1.12 14.88 0 13.5 0 12.12 0 11 1.12 11 2.5 11 3.88 12.12 5 13.5 5zm0-1c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zm0 12c1.38 0 2.5-1.12 2.5-2.5 0-1.38-1.12-2.5-2.5-2.5-1.38 0-2.5 1.12-2.5 2.5 0 1.38 1.12 2.5 2.5 2.5zm0-1c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zm-11 1C3.88 16 5 14.88 5 13.5 5 12.12 3.88 11 2.5 11 1.12 11 0 12.12 0 13.5 0 14.88 1.12 16 2.5 16zm0-1c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zm8.55-12.996h-6.1c.033.16.05.326.05.496 0 .17-.017.336-.05.496h6.1c-.033-.16-.05-.326-.05-.496 0-.17.017-.336.05-.496zM14 11.05l.003-6.1c-.162.033-.33.05-.503.05-.172 0-.34-.017-.503-.05l.003 6.1c.162-.033.329-.05.5-.05.171 0 .338.017.5.05zM4.95 14h6.1c-.033-.162-.05-.329-.05-.5 0-.171.017-.338.05-.5h-6.1c.033.162.05.329.05.5 0 .171-.017.338-.05.5zM2 4.95l-.003 6.1c.162-.033.33-.05.503-.05.172 0 .34.017.503.05l-.002-6.1c-.162.033-.33.05-.501.05-.172 0-.34-.017-.5-.05z" fill="red"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,s,e){t.exports={id:"g24aadec1",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M16 13H2v1h14v-1zm0-5H2v1h14V8zm0-5H2v1h14V3z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(v,h,m){v.exports={id:"ga83923e1",src:'<svg width="14" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M12 3.5h2v2h-2v-2zm1 2h1v-2h-2v2h1zm-1-5h2v2h-2v-2zm1 2h1v-2h-2v2h1zm-4 7h2v2H9v-2zm1 2h1v-2H9v2h1zm-1-5h2v2H9v-2zm1 2h1v-2H9v2h1zm-1-5h2v2H9v-2zm1 2h1v-2H9v2h1zm-4 1h2v2H6v-2zm1 2h1v-2H6v2h1zm-4 1h2v2H3v-2zm1 2h1v-2H3v2h1zm-1-5h2v2H3v-2zm1 2h1v-2H3v2h1zm-1-5h2v2H3v-2zm1 2h1v-2H3v2h1zm-4 7h2v2H0v-2zm1 2h1v-2H0v2h1zm-1-5h2v2H0v-2zm1 2h1v-2H0v2h1z" fill="#ff1a1a"/></svg>'},v.exports instanceof Function&&(v.exports.default=v.exports)}),
(function(t,s,e){t.exports={id:"g7e789352",src:'<svg width="20" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M2.95 14.544l4.595-.506.312-.035.275.15c1.029.568 2.09.856 3.34.847 3.867 0 7-3.134 7-7 0-3.866-3.133-7-7-7-3.865 0-7 3.134-7 7-.005 1.05.197 1.946.604 2.848l.24.536-.352.47-2.013 2.69zm4.704.488l-5.524.609-1.361.15.82-1.096 2.574-3.44c-.443-.994-.69-2.096-.69-3.255 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8 0 4.418-3.582 8-8 8-1.383 0-2.684-.35-3.819-.968zm.765-6.678l.707-.708 1.647 1.647 3.646-3.647.707.708-4.353 4.353-2.354-2.353z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g9ea86428",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M8 4H7v3H4v1h3v3h1V8h3V7H8V4zm8.146 12.854l.708-.708-4.418-4.417C13.411 10.592 14 9.115 14 7.5 14 3.91 11.09 1 7.5 1 3.91 1 1 3.91 1 7.5 1 11.09 3.91 14 7.5 14c1.615 0 3.092-.589 4.23-1.564l4.416 4.418zM13 7.5c0 3.038-2.462 5.5-5.5 5.5C4.462 13 2 10.538 2 7.5 2 4.462 4.462 2 7.5 2 10.538 2 13 4.462 13 7.5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g835a5a5e",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M16.146 16.854l.708-.708-4.418-4.417C13.411 10.592 14 9.115 14 7.5 14 3.91 11.09 1 7.5 1 3.91 1 1 3.91 1 7.5 1 11.09 3.91 14 7.5 14c1.615 0 3.092-.589 4.23-1.564l4.416 4.418zM13 7.5c0 3.038-2.462 5.5-5.5 5.5C4.462 13 2 10.538 2 7.5 2 4.462 4.462 2 7.5 2 10.538 2 13 4.462 13 7.5zM4 7v1h7V7H4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"gf1187480",src:'<svg width="16" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M4 4h3v6H4V4zm6-4h3v10h-3V0zM0 11.5h16v1H0v-1z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g1463ebd3",src:'<svg width="10" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M0 4h10v3H0V4zm2 5h6v3H2V9zm2.5-9h1v16h-1V0z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g531bffb2",src:'<svg width="13" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3 4h10v3H3V4zM0 0h1v16H0V0zm3 10h6v3H3v-3z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g600f2021",src:'<svg width="13" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M0 3h10v3H0V3zm4 6h6v3H4V9zm7.5-9h1v16h-1V0z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g012b0fc3",src:'<svg width="16" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M3 3h3v10H3V3zm6 0h3v6H9V3zM0 0h16v1H0V0z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g35f6085e",src:'<svg width="16" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M3 0h3v10H3V0zm6 2h3v6H9V2zM0 4.5h16v1H0v-1z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g955f65e9",src:'<svg width="11" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M4 3h3v8H4V3zM0 0h1v14H0V0zm10 0h1v14h-1V0z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"gfedb5499",src:'<svg width="14" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M11 4v3H3V4h8zm3-4v1H0V0h14zm0 10v1H0v-1h14z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"gef148866",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M8.5 11.71l-.354-.354-3.5-3.5.708-.708L8 9.795V1.002h1v8.793l2.646-2.647.708.708-3.5 3.5-.354.353zM4 16h9v1H4v-1zm-3-3h15v1H1v-1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(l,t,L){l.exports={id:"g6c34c39e",src:'<svg width="19" height="19" xmlns="http://www.w3.org/2000/svg"><path d="M6.27 5.145l-.707-.707.707-.708 2.523-2.523L9.5.5l.707.707L12.73 3.73l.707.708-.707.707-2.523 2.523-.707.707-.707-.707L6.27 5.145zM9.5 6.96l2.523-2.524L9.5 1.914 6.977 4.438 9.5 6.96zM6.27 15.27l-.707-.707.707-.708 2.523-2.523.707-.707.707.707 2.523 2.523.707.707-.707.708-2.523 2.523-.707.707-.707-.707L6.27 15.27zm3.23 1.816l2.523-2.523L9.5 12.038l-2.523 2.524L9.5 17.085zm-8.293-6.879L.5 9.5l.707-.707L3.73 6.27l.708-.707.707.707 2.523 2.523.707.707-.707.707-2.523 2.523-.707.707-.708-.707-2.523-2.523zm3.23 1.816L6.962 9.5 4.437 6.977 1.914 9.5l2.524 2.523zm6.895-1.816l-.707-.707.707-.707 2.523-2.523.707-.707.708.707 2.523 2.523.707.707-.707.707-2.523 2.523-.707.707-.708-.707-2.523-2.523zm3.23 1.816L17.087 9.5l-2.523-2.523L12.038 9.5l2.524 2.523z" fill-rule="evenodd"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,s,o){t.exports={id:"g6fab127b",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M2.79 11.497l.354-.353 8-8 .353-.354.354.354 8 8 .353.353-.707.707-.353-.353-7.647-7.647-7.293 7.293 7.293 7.293 3.647-3.646.353-.354.707.707-.353.354-4 4-.354.353-.353-.353-8-8-.354-.354zm7.914.5l1.647 1.647-.707.707-2.5-2.5-.354-.354.354-.353 2.5-2.5.707.707-1.647 1.646h2.293c3.314 0 6 2.686 6 6 0 1.657-.671 3.157-1.757 4.243l-.707-.707c.904-.905 1.464-2.155 1.464-3.536 0-2.761-2.238-5-5-5h-2.293z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g3f12dfac",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M14.872 8.859L3.646 2.072l-.98-.592.231 1.121 2.683 13 .243 1.178.664-1.003 3.038-4.59 5.22-1.417 1.127-.306-1-.604zM4.108 3.52l9.247 5.59-4.274 1.16-.182.05-.104.157-2.479 3.745L4.108 3.52z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,t,v){c.exports={id:"ga1ef5035",src:'<svg width="42" height="42" xmlns="http://www.w3.org/2000/svg"><path d="M13.026 23.382c-.518-.487-.57-1.308-.118-1.856.435-.527 1.191-.62 1.74-.216l1.347.996 1 .739V15c0-.552.448-1 1-1 .553 0 1 .448 1 1v5h1v-7c0-.552.448-1 1-1 .553 0 1 .448 1 1v7h1v-6c0-.552.448-1 1-1 .552 0 1 .448 1 1v6h1v-3c0-.552.448-1 1-1 .552 0 1 .448 1 1v8c0 2.762-2.238 5-5 5h-1c-1.553 0-2.94-.708-3.858-1.82-.036-.028-.072-.06-.106-.092l-5.005-4.706zm4.4 5.507l-.08-.072-5.005-4.706c-.902-.848-.993-2.267-.204-3.221.772-.936 2.127-1.106 3.105-.384l.753.557V15c0-1.105.896-2 2-2 .365 0 .706.097 1 .268V13c0-1.105.896-2 2-2 .873 0 1.615.559 1.888 1.338.318-.214.7-.338 1.112-.338 1.105 0 2 .895 2 2v1.268c.294-.17.636-.268 1-.268 1.105 0 2 .895 2 2v8c0 3.314-2.686 6-6 6h-1c-1.83 0-3.47-.821-4.57-2.111z" fill-rule="evenodd" fill="#fff"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,s,o){t.exports={id:"gab37a713",src:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M1.944 16.75l1.696-2.758.287-.465-.237-.493c-.465-.951-.697-1.91-.69-3.034 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7-1.14.007-2.112-.232-3.074-.709l-.268-.131-.296.037-4.418.552zm4.543.44c1.06.518 2.253.81 3.513.81 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 1.243.283 2.419.789 3.468l-2.117 3.44L0 18l1.272-.159 5.215-.652z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,v,t){h.exports={id:"g3d918ed5",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M3 16v-3H0v-1h3V4H0V3h3V0h1v3h8V0h1v3h3v1h-3v8h3v1h-3v3h-1v-3H4v3H3zm9-4V4H4v8h8z" fill-rule="evenodd"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,s,e){t.exports={id:"g3aaeb09f",src:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M9.147 9.147l-8 8L.293 18H10v-4.293l8.854-8.853.353-.354-.353-.353-2-2-.354-.354-.353.354-7 7zm.853.56l6.5-6.5L17.793 4.5 10 12.293V9.707zM2.707 17L9 10.707V17H2.707z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,l){t.exports={id:"gc1cd27d2",src:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M10 4.008l1.282 3.975.224.694.73-.001 4.176-.01-3.384 2.448-.591.428.227.693 1.299 3.97-3.373-2.463-.59-.43-.59.43-3.373 2.462 1.3-3.969.226-.693-.591-.428-3.384-2.447 4.176.009.73.001.224-.694L10 4.008zM7.766 7.676l-5.565-.012L.49 7.66l1.387 1.003 4.51 3.261-1.731 5.29-.533 1.626 1.383-1.009L10 14.55l4.495 3.281 1.383 1.01-.533-1.628-1.731-5.289 4.51-3.261L19.51 7.66l-1.712.004-5.565.012-1.709-5.297L10 .75l-.525 1.629-1.709 5.297z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g27b88a01",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1.354 17.353l16-16-.708-.707-16 16 .708.707z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g72363255",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11 1h6v6h-1V2.707L1.354 17.354l-.708-.708L15.293 2H11V1z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,c){t.exports={id:"gc82bc655",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 1C4.582 1 1 4.582 1 9c0 4.418 3.582 8 8 8 4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8zm7 8c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g7906e794",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1 1h16v16H1V1zm1 1h14v14H2V2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g66aea906",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 1L0 17h18L9 1zM1.71 16L9 3.04 16.29 16H1.71z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,c){t.exports={id:"gd1a13180",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M3.444 2.737l6.666 1.9.012.004.012.003C12.07 5.146 13.5 6.907 13.5 9c.003.503-.063.912-.211 1.367l-.185.58.43.43 1.865 1.866-2.12 2.121-1.848-1.847-.435-.435-.585.193c-.469.157-.891.228-1.411.225-2.171 0-3.985-1.539-4.407-3.586l-.008-.037-.01-.037-1.832-6.39 4.903 4.903C7.552 8.55 7.5 8.768 7.5 9c0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.232 0-.45.052-.647.146l-4.91-4.91zm9.834 14.041l3.536-3.535-2.572-2.572c.167-.527.258-1.089.258-1.671 0-2.56-1.748-4.71-4.115-5.324L1 1l2.613 9.116C4.13 12.618 6.345 14.5 9 14.5c.602 0 1.182-.097 1.724-.276l2.554 2.554z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(l,t,e){l.exports={id:"g68c8be30",src:'<svg width="19" height="19" xmlns="http://www.w3.org/2000/svg"><path d="M7.313 16.431l10.82-10.82c.782-.782.782-2.048 0-2.829L16.72 1.368c-.781-.781-2.048-.781-2.829 0l-10.82 10.82-1.061 5.304 5.303-1.06zM12.234 4.44L3.992 12.68l-.707 3.536 3.535-.707 8.243-8.243-2.829-2.828zm.707-.707L15.77 6.56l1.657-1.657c.39-.39.39-1.023 0-1.414l-1.414-1.414c-.39-.39-1.024-.39-1.415 0l-1.657 1.657z" fill-rule="evenodd" fill="#fff"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,c,e){t.exports={id:"g385d0dba",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M14.5 6C15.88 6 17 4.88 17 3.5 17 2.12 15.88 1 14.5 1c-1.21 0-2.218.859-2.45 2h-.55C6.806 3 3 6.806 3 11.5v.55c-1.141.232-2 1.24-2 2.45C1 15.88 2.12 17 3.5 17 4.88 17 6 15.88 6 14.5c0-1.21-.859-2.218-2-2.45v-.55C4 7.358 7.358 4 11.5 4h.55c.232 1.141 1.24 2 2.45 2zM16 3.5c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zm-11 11c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"ga4d915d9",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9.028 17.486L.543 9 9.028.515 17.514 9l-8.486 8.486zm0-15.557L16.1 9H1.957l7.071-7.07z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"gf8e7b2c9",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M2 5h1V2h5v14H5v1h7v-1H9V2h5v3h1V1H2v4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"gc9de7417",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1 1h5v1H2v14h14v-4h1v5H1V1zm5 11V6h1v4.293L15.293 2H11V1h6v6h-1V2.707L7.707 11H12v1H6z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,a){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=a(604                             ),l={"choose-symbol":a(997                                                    ),place:a(998                                                   ),"crop-image":a(999                                                 ),"export-selected-exportables":a(1000                                                                 ),"live-boolean-intersect":a(1001                                                            ),"live-boolean-subtract":a(1002                                                           ),"live-boolean-union":a(1003                                                        ),"live-boolean-xor":a(1004                                                      ),"mask-selection":a(1005                                                    ),"request-edit-mode-via-toolbar":a(1006                                                       ),"toggle-menu":a(1007                                                 ),"toggle-pixel-preview":a(1008                                                          ),"toggle-show-resolved-comments":a(1009                                                                   ),"zoom-in":a(1010                                             ),"zoom-out":a(1011                                              ),"align-bottom":a(1012                                                  ),"align-horizontal-center":a(1013                                                             ),"align-left":a(1014                                                ),"align-right":a(1015                                                 ),"align-top":a(1016                                               ),"align-vertical-center":a(1017                                                           ),"distribute-horizontal-spacing":a(1018                                                                   ),"distribute-vertical-spacing":a(1019                                                                 ),"flatten-selection":a(1020                                                       ),"create-symbol":a(1021                                                   ),"reset-symbol":a(1022                                                  )};s.svgForAction=function(e){return l[e]},s.svgForTool=function(e){switch(e){case o.Tool.NONE:return null;case o.Tool.SELECT:return a(1023                                             );case o.Tool.HAND:return a(1024                                             );case o.Tool.COMMENTS:return a(1025                                                 );case o.Tool.DROPPER_COLOR:return null;case o.Tool.FRAME:return a(1026                                                       );case o.Tool.SLICE:return a(1027                                              );case o.Tool.SHAPE_STAR:return a(1028                                                   );case o.Tool.SHAPE_LINE:return a(1029                                                   );case o.Tool.SHAPE_ARROW:return a(1030                                                    );case o.Tool.SHAPE_ELLIPSE:return a(1031                                                      );case o.Tool.SHAPE_RECTANGLE:return a(1032                                                        );case o.Tool.SHAPE_REGULAR_POLYGON:return a(1033                                                              );case o.Tool.VECTOR_PEN:return a(1034                                                   );case o.Tool.VECTOR_PENCIL:return a(1035                                                      );case o.Tool.VECTOR_BEND:return a(1036                                                    );case o.Tool.VECTOR_PAINT_BUCKET:return a(1037                                                            );case o.Tool.TYPE:return a(1038                                             );case o.Tool.SCALE:return a(1039                                              )}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,n){o.exports={pointingDropdown:"flyout_view--pointingDropdown--2w15h",flyout:"flyout_view--flyout--1EMCu",flyoutButton:"flyout_view--flyoutButton--DXm0E",flyoutDropdownShown:"flyout_view--flyoutDropdownShown--feIQT"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(o,n,t){o.exports={optionContainer:"action_option--optionContainer--CpNKZ",iconContainer:"action_option--iconContainer--vjcHT",shortcut:"action_option--shortcut--24K-Z"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),n=t(143              ),i=t(144                        ),c=t(408                                  ),r=t(992                                    ),a=t(1042                 ),p=t(388                                                    );s.OptionIcon=(({svg:e})=>o.createElement("div",{className:a.iconContainer},o.createElement(i.Svg,{svg:e})));class l extends n.PureComponent{render(){return o.createElement(c.dropdown.Option6,{disabled:!this.props.isEnabled,onClick:this.props.isEnabled?this.props.onClick:null,recordingKey:this.props.recordingKey,className:a.optionContainer},!this.props.hideCheck&&o.createElement("div",{className:a.iconContainer},o.createElement(p.SvgWithFallback,{svg:this.props.isChecked?r:null,fallbackSvg:this.props.fallbackSvg})),this.props.icon&&o.createElement(s.OptionIcon,{svg:this.props.icon}),this.props.text,null!=this.props.shortcut&&o.createElement("span",{className:a.shortcut},this.props.shortcut))}}l.displayName="ActionOption",s.ActionOption=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,e){n.exports={chevronContainer:"chevron--chevronContainer--3xT09",svgChevron:"chevron--svgChevron--ttrRg",chevronDown:"chevron--chevronDown--1chcB"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(34,1   ),n=s(406             ),r=s(232                        ),i=s(1044           ),h=s(143              ),p=s(144                        ),a=s(475                                                     );class c extends h.Component{constructor(){super(...arguments),this._chevronRef=(e=>{this._chevronEl=e}),this._onChevronMouseDown=h.mouseEvent(this,"mousedown",e=>{this.props.showingDropdown?this.props.dispatch(r.fileBrowser.hideDropdown()):this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.dropdownKey,data:Object.assign({targetRect:this._chevronEl?this._chevronEl.getBoundingClientRect():null},this.props.additionalDispatchData)}))}),this._onChevronClick=(e=>{e.stopPropagation()})}render(){let e=n.join(i.chevronContainer,this.props.showingDropdown&&i.chevronDown,this.props.className);return t.createElement("div",{className:e,ref:this._chevronRef,"data-tooltip-text":this.props.tooltipText,onMouseDown:this._onChevronMouseDown,onClick:this._onChevronClick},t.createElement(p.Svg,{svg:this.props.iconOverride||a,className:i.svgChevron}))}}c.displayName="Chevron",o.Chevron=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=t(347                         ),l=t(604                             );var n;!function(o){o[o.TOOL=0]="TOOL",o[o.ACTION=1]="ACTION",o[o.FLYOUT=2]="FLYOUT",o[o.LABEL=3]="LABEL",o[o.TEXT_BUTTON=4]="TEXT_BUTTON"}(n=e.Type||(e.Type={}));const i=[l.EditModeType.LAYOUT,l.EditModeType.RASTER,l.EditModeType.GRADIENT,l.EditModeType.TEXT,l.EditModeType.COMMENTS],a=i.concat([l.EditModeType.VECTOR]),c=i.concat([l.EditModeType.VECTOR,l.EditModeType.PLACE_IMAGE]),d=[l.EditModeType.VECTOR],y=[l.EditModeType.PLACE_IMAGE],p=[l.EditModeType.PREVIEW];e.toolbarLeftItems=[{type:n.TOOL,tool:l.Tool.HAND,action:"set-tool-hand",nonEditorsAllowed:!0,loggedOutOnly:!0,editModes:p,recordingKey:"toolHand"},{type:n.TOOL,tool:l.Tool.SELECT,action:"set-tool-default",nonEditorsAllowed:!0,editModes:p,recordingKey:"toolDefault"},{type:n.FLYOUT,name:"move-flyout",children:[{action:"set-tool-default",property:"currentTool",propertyValue:l.Tool.SELECT,recordingKey:"toolDefault"},{action:"set-tool-scale",property:"currentTool",propertyValue:l.Tool.SCALE,recordingKey:"toolScale"}],editModes:c,recordingKey:"moveFlyout"},{type:n.FLYOUT,name:"region-flyout",editModes:i,onboardingKey:"frame",recordingKey:"regionFlyout",children:[{action:"set-tool-frame",property:"currentTool",propertyValue:l.Tool.FRAME,recordingKey:"toolFrame"},{action:"set-tool-slice",property:"currentTool",propertyValue:l.Tool.SLICE,recordingKey:"toolSlice"}]},{type:n.FLYOUT,name:"shape-flyout",editModes:i,recordingKey:"shapeFlyout",children:[{action:"set-tool-rectangle",property:"currentTool",propertyValue:l.Tool.SHAPE_RECTANGLE,recordingKey:"toolShapeRectangle"},{action:"set-tool-line",property:"currentTool",propertyValue:l.Tool.SHAPE_LINE,recordingKey:"toolShapeLine"},{action:"set-tool-arrow",property:"currentTool",propertyValue:l.Tool.SHAPE_ARROW,recordingKey:"toolShapeArrow"},{action:"set-tool-ellipse",property:"currentTool",propertyValue:l.Tool.SHAPE_ELLIPSE,recordingKey:"toolShapeEllipse"},{action:"set-tool-regular-polygon",property:"currentTool",propertyValue:l.Tool.SHAPE_REGULAR_POLYGON,recordingKey:"toolShapePolygon"},{action:"set-tool-star",property:"currentTool",propertyValue:l.Tool.SHAPE_STAR,recordingKey:"toolShapeStar"},{action:"place",recordingKey:"toolPlaceImage"}]},{type:n.FLYOUT,name:"pen-flyout",editModes:a,recordingKey:"penFlyout",onboardingKey:"pen",children:[{action:"set-tool-pen",property:"currentTool",propertyValue:l.Tool.VECTOR_PEN,recordingKey:"toolPen"},{action:"set-tool-pencil",property:"currentTool",propertyValue:l.Tool.VECTOR_PENCIL,recordingKey:"toolPencil"}]},{type:n.TOOL,tool:l.Tool.VECTOR_BEND,action:"set-tool-bend",editModes:d,recordingKey:"toolBend"},{type:n.TOOL,tool:l.Tool.VECTOR_PAINT_BUCKET,action:"set-tool-paint-bucket",editModes:d,recordingKey:"toolPaintBucket"},{type:n.TOOL,tool:l.Tool.TYPE,action:"set-tool-type",editModes:i,recordingKey:"toolType"},{type:n.TOOL,tool:l.Tool.COMMENTS,action:"set-tool-comments",editModes:i.concat([l.EditModeType.PREVIEW]),nonEditorsAllowed:!0,onboardingKey:"comment",recordingKey:"toolComment"},{type:n.LABEL,label:"toolbar-place-image",editModes:y},{type:n.TEXT_BUTTON,action:"place-all-images",editModes:y,recordingKey:"toolPlaceAllImages"},{type:n.TEXT_BUTTON,action:"discard-all-images",editModes:y,recordingKey:"toolDiscardAllImages"},{type:n.TEXT_BUTTON,action:"leave-edit-mode",editModes:d,tooltip:"leave-vector-edit-mode",recordingKey:"toolLeaveVectorEditMode"}];const T={enabledFill:r.FIGMA_GREEN,activeFill:r.FIGMA_WHITE,activeBackgroundColor:r.FIGMA_GREEN};e.toolbarMiddleItems=[Object.assign({type:n.ACTION,action:"request-edit-mode-via-toolbar"},T,{editModes:i,recordingKey:"toolEditMode"}),Object.assign({type:n.ACTION,action:"reset-symbol",editModes:i},T,{recordingKey:"toolResetSymbol"}),Object.assign({type:n.ACTION,action:"create-symbol",editModes:i},T,{recordingKey:"toolCreateSymbol"}),Object.assign({type:n.ACTION,action:"mask-selection",property:"selectionIsMask",propertyValue:l.PropertyState.ON},T,{editModes:i,recordingKey:"toolMaskSelection"}),Object.assign({type:n.FLYOUT,name:"boolean-flyout",editModes:i},T,{children:[{action:"live-boolean-union",recordingKey:"toolBooleanUnion"},{action:"live-boolean-subtract",recordingKey:"toolBooleanSubtract"},{action:"live-boolean-intersect",recordingKey:"toolBooleanIntersect"},{action:"live-boolean-xor",recordingKey:"toolBooleanXor"},null,{action:"flatten-selection",recordingKey:"toolFlatten"}],recordingKey:"booleanFlyout"}),Object.assign({type:n.ACTION,action:"crop-image",editModes:i},T,{recordingKey:"toolCropImage"})],o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,o,e){t.exports={enabledButton:"toolbar_styles--enabledButton--2cWGq",disabledButton:"toolbar_styles--disabledButton--AaXxQ",activeButton:"toolbar_styles--activeButton--2RefP"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=e(1047                  );o.toolbarStyles=s,o.classNameForToolbarButton=function(t,e,s){let l=o.toolbarStyles.enabledButton;return e?s&&(l=o.toolbarStyles.activeButton):l=o.toolbarStyles.disabledButton,l},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(34,1   ),s=o(406             ),n=o(1041               ),i=o(143              ),p=o(1043                              ),l=o(681                                        ),a=o(1045                                        ),c=o(1040                             ),d=o(281                                  ),h=o(408                                  ),u=o(1046                                                   ),m=o(1048                                                    ),y=o(674                                                             ),f=o(144                        ),g=o(180         );function w(t){return`flyout-dropdown-${t}`}const v={"move-flyout":"Move Tools","region-flyout":"Region Tools","pen-flyout":"Drawing Tools","shape-flyout":"Shape Tools","boolean-flyout":"Boolean Groups","styles-flyout":"Styles","symbol-flyout":"Components..."};function _(t){g.assertDev(t.type===u.Type.FLYOUT,"Invalid item passed");let e=[];for(let o of t.children)null!=o&&(e.push(o.action),e.push(d.actionEnabledKey(o.action)),e.push(o.property));return e.push("strings"),e.push("keyboardShortcuts"),e}e.appModelKeysForFlyoutItem=_;class b extends i.Component{constructor(t){super(t),this.relevantAppModelKeys=[],this.handleInteractionTestStart=(()=>{this._currentItem=null,this.forceUpdate()}),this.updateRelevantAppModelKeys=(t=>{this.relevantAppModelKeys=null!=this.props.item?_(this.props.item):[]}),this._currentItem=null,this._onFlyoutItemClick=((t,e)=>{this._currentItem=t,l.actionCallbacks.get(t.action,"toolbar")(e)}),this.showingDropdown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===w(this.props.item.name)),this.updateRelevantAppModelKeys(t)}componentDidMount(){i.addTestStartListener(this.handleInteractionTestStart)}componentWillUnmount(){i.removeTestStartListener(this.handleInteractionTestStart)}UNSAFE_componentWillReceiveProps(t){this.props.item!==t.item&&this.updateRelevantAppModelKeys(t)}shouldComponentUpdate(t){for(let e in t){const o=e;if("appModel"!==o&&t[o]!==this.props[o])return!0}if(this.props.appModel!==t.appModel)for(let e of this.relevantAppModelKeys)if(t.appModel[e]!==this.props.appModel[e])return!0;return!1}_isActive(){if(this.props.item.flyoutIcon)return!1;let t=!1;for(let e of this.props.item.children)e&&e.property&&this.props.appModel[e.property]===e.propertyValue&&(this._currentItem=e,d.isFullscreenMenuVisible(this.props.dropdownShown)||(t=!0));return t}render(){const t=this._isActive(),e=this._currentItem||this.props.item.children[0],o=d.isActionEnabled(this.props.appModel,e.action);if(!o)return null;let u=this.props.item.flyoutIcon;u||(u="currentTool"===e.property?c.svgForTool(e.propertyValue):c.svgForAction(e.action));const g=this.showingDropdown();let _=s.join(n.flyout,g&&n.flyoutDropdownShown,m.classNameForToolbarButton(e.action,o,t));const b=this.props.item.flyoutShowItemIcons||void 0===this.props.item.flyoutShowItemIcons;let S=!0;if(g)for(let r of this.props.item.children)if(r&&void 0!==r.property){S=!1;break}return r.createElement("div",null,r.createElement("div",{className:_,"data-tooltip":e.action,"data-onboarding-key":this.props.item.onboardingKey},r.createElement(f.Svg,{svg:u,className:n.flyoutButton,recordingKey:i.joinKeys(this.props,"default",e.recordingKey),onMouseDown:o?l.actionCallbacks.get(e.action,"toolbar"):null}),r.createElement(a.Chevron,{dispatch:this.props.dispatch,showingDropdown:g,dropdownKey:w(this.props.item.name),tooltipText:v[this.props.item.name],additionalDispatchData:{items:this.props.item.children},recordingKey:i.joinKeys(this.props,"chevron")})),g&&r.createElement(y.PointingDropdown,{targetRect:this.props.dropdownShown.data.targetRect,className:n.pointingDropdown},this.props.dropdownShown.data.items.map((t,e)=>{if(!t)return r.createElement(h.dropdown.Separator,{key:`separator-${e}`});const o="currentTool"===t.property?c.svgForTool(t.propertyValue):null,{action:s,property:n,propertyValue:l}=t,a=!b,u=t.text,m=this.props.appModel,y=d.isActionEnabled(m,s),f=void 0!==l&&m[n]===l,g=!a&&(o||c.svgForAction(s)),w=u||d.getString(m.strings,s),v=d.getKeyboardShortcut(m.keyboardShortcuts,s);return r.createElement(p.ActionOption,{key:t.action,text:w,shortcut:v,isEnabled:y,isChecked:f,onClick:this._onFlyoutItemClick.bind(this,t),icon:g,hideCheck:S,recordingKey:i.joinKeys(this.props,"flyout",t.recordingKey)})})))}}b.displayName="FlyoutView",e.FlyoutView=b,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,e){t.exports={root:"action--root--1ClVW",text:"action--text--1LT3b",label:"action--label--2JZ2q action--text--1LT3b",enabled:"action--enabled--16Cku action--root--1ClVW toolbar_styles--enabledButton--2cWGq",disabled:"action--disabled--2gd1h action--root--1ClVW toolbar_styles--disabledButton--AaXxQ",selected:"action--selected--1NVvC action--root--1ClVW toolbar_styles--activeButton--2RefP",indicator:"action--indicator--32d4Z",unfaded:"action--unfaded--1OMO_"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=t(34,1   ),i=t(1050          ),p=t(144                        ),r=t(143              );class a extends r.Component{constructor(){super(...arguments),this.onClick=r.mouseEvent(this,"click",s=>{this.props.onClick&&this.props.onClick(s)})}render(){let s="";return this.props.selected?s=i.selected:this.props.enabled?(s=i.enabled,this.props.faded||(s+=` ${i.unfaded}`)):s=i.disabled,o.createElement("a",{className:`${s} ${this.props.className||""}`,onClick:this.props.enabled?this.onClick:null,"data-tooltip":this.props.tooltip,"data-tooltip-text":this.props.title,"data-onboarding-key":this.props.onboardingKey},this.props.svg&&o.createElement(p.Svg,{svg:this.props.svg,useOriginalSrcFills:this.props.useOriginalSrcFills}),this.props.text&&o.createElement("span",{className:this.props.svg?i.label:i.text},this.props.text),this.props.showIndicator&&o.createElement("span",{className:i.indicator}),this.props.children)}}a.displayName="TopBarAction",e.TopBarAction=a,a.defaultProps={enabled:!0,faded:!0},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(o,n,e){o.exports={zoomMenu:"zoom_menu--zoomMenu--GRL4u",input:"zoom_menu--input--1yr7o",zoomAmount:"zoom_menu--zoomAmount--3dyBJ",chevronContainer:"zoom_menu--chevronContainer--2j64e",zoomInputContainer:"zoom_menu--zoomInputContainer--8sS-v"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=t(34,1   ),s=t(38,1       ),r=t(143              ),a=t(199      ),p=t(232                        ),l=t(1426                               ),n=t(1045                                        ),d=t(1051                                                ),c=t(679                                                                 ),g=t(727                                 ),h=t(281                                  ),u=t(408                                  ),m=t(1052             ),y=t(0                    ),w=t(681                                        ),C="zoom-input-dropdown";var M;!function(e){e.ZOOM_IN="Zoom in",e.ZOOM_OUT="Zoom out",e.ZOOM_TO_FIT="Zoom to Fit",e.ZOOM_TO_50="Zoom to 50%",e.ZOOM_TO_100="Zoom to 100%",e.ZOOM_TO_200="Zoom to 200%",e.PIXEL_PREVIEW="Pixel Preview",e.PIXEL_GRID="Pixel Grid",e.SNAP_TO_PIXEL_GRID="Snap to Pixel Grid",e.LAYOUT_GRIDS="Layout Grids",e.MULTIPLAYER_CURSORS="Multiplayer Cursors",e.RULERS="Rulers",e.SLICES="Show Slices",e.PIXEL_PREVIEW_DISABLED="Disabled",e.PIXEL_PREVIEW_1X="1x",e.PIXEL_PREVIEW_2X="2x"}(M||(M={}));class v extends i.PureComponent{constructor(){super(...arguments),this.toggleZoomMenu=(()=>{if(this.showingZoomDropdown())this.props.dispatch(p.fileBrowser.hideDropdown());else{const e=this.zoomMenu,o=s.findDOMNode(e);this.props.dispatch(p.fileBrowser.showDropdown({type:C,data:{targetRect:o.getBoundingClientRect(),hasOwnEscKeyHandler:!1}}))}}),this.inputCancel=(()=>{}),this.inputSubmit=(e=>{e.endsWith("%")&&(e=e.substr(0,e.length-1));let o=-1;try{o=parseInt(e,10)}catch(t){}o>0&&l.fullscreen.sendMessage("updateActiveCanvasCurrentZoom",{zoom:o/100})}),this.onKeyDown=(e=>{e.keyCode!==a.Key.ENTER&&e.keyCode!==a.Key.ESCAPE||!this.showingZoomDropdown()||this.props.dispatch(p.fileBrowser.hideDropdown())}),this.setZoomMenu=(e=>{this.zoomMenu=e}),this.onSelectDropdownItem=((e,o)=>{e.displayText===M.ZOOM_IN?l.fullscreen.triggerAction("zoom-in",{source:"zoom-menu"}):e.displayText===M.ZOOM_OUT?l.fullscreen.triggerAction("zoom-out",{source:"zoom-menu"}):e.displayText===M.ZOOM_TO_FIT?l.fullscreen.triggerAction("zoom-to-fit",{source:"zoom-menu"}):e.displayText===M.ZOOM_TO_50?l.fullscreen.sendMessage("updateActiveCanvasCurrentZoom",{zoom:.5}):e.displayText===M.ZOOM_TO_100?l.fullscreen.sendMessage("updateActiveCanvasCurrentZoom",{zoom:1}):e.displayText===M.ZOOM_TO_200?l.fullscreen.sendMessage("updateActiveCanvasCurrentZoom",{zoom:2}):e.displayText===M.PIXEL_PREVIEW?w.actionCallbacks.get("toggle-pixel-preview","toolbar")(o):e.displayText===M.PIXEL_GRID?w.actionCallbacks.get("toggle-grid","toolbar")(o):e.displayText===M.SNAP_TO_PIXEL_GRID?w.actionCallbacks.get("toggle-snapping-to-pixels","toolbar")(o):e.displayText===M.LAYOUT_GRIDS?w.actionCallbacks.get("toggle-shown-layout-grids","toolbar")(o):e.displayText===M.MULTIPLAYER_CURSORS?w.actionCallbacks.get("toggle-multiplayer-cursors","toolbar")(o):e.displayText===M.RULERS?w.actionCallbacks.get("toggle-rulers","toolbar")(o):e.displayText===M.SLICES?w.actionCallbacks.get("toggle-show-slices","toolbar")(o):e.displayText===M.PIXEL_PREVIEW_DISABLED?this.props.appModel.activeCanvasPixelPreview&&l.fullscreen.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}):e.displayText===M.PIXEL_PREVIEW_1X?(this.props.appModel.activeCanvasPixelPreview||l.fullscreen.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}),this.props.appModel.activeCanvasRetinaMode&&l.fullscreen.triggerAction("toggle-retina-mode",{source:"zoom-menu"})):e.displayText===M.PIXEL_PREVIEW_2X&&(this.props.appModel.activeCanvasPixelPreview||l.fullscreen.triggerAction("toggle-pixel-preview",{source:"zoom-menu"}),this.props.appModel.activeCanvasRetinaMode||l.fullscreen.triggerAction("toggle-retina-mode",{source:"zoom-menu"})),this.toggleZoomMenu()})}showingZoomDropdown(){return this.props.dropdownShown&&this.props.dropdownShown.type===C}multilevelDropdownItems(){const e=this.props.keyboardShortcuts,o=this.props.appModel.userCanEdit,t=Math.round(100*this.props.activeCanvasCurrentZoom),i=o?"showFrameGrids":"showFrameGridsViewOnly";let s=[{displayText:M.ZOOM_IN,displayRightCol:h.getKeyboardShortcut(e,"zoom-in"),recordingKey:"zoomIn"},{displayText:M.ZOOM_OUT,displayRightCol:h.getKeyboardShortcut(e,"zoom-out"),recordingKey:"zoomOut"},{displayText:M.ZOOM_TO_FIT,displayRightCol:h.getKeyboardShortcut(e,"zoom-to-fit"),recordingKey:"zoomToFit"},{displayText:M.ZOOM_TO_50,recordingKey:"zoomTo50",isChecked:50===t},{displayText:M.ZOOM_TO_100,displayRightCol:h.getKeyboardShortcut(e,"zoom-reset"),recordingKey:"zoomTo100",isChecked:100===t},{displayText:M.ZOOM_TO_200,recordingKey:"zoomTo200",isChecked:200===t},{displayText:"",disabled:!0,separator:!0},{displayText:h.getString(this.props.appModel.strings,"toggle-pixel-preview"),isChildChecked:!!this.props.appModel.activeCanvasPixelPreview,recordingKey:"activeCanvasPixelPreview",disabled:h.isActionEnabled(this.props.appModel,"activeCanvasPixelPreview"),children:[{displayText:"Disabled",displayRightCol:h.getKeyboardShortcut(e,"toggle-pixel-preview"),isChecked:!this.props.appModel.activeCanvasPixelPreview,recordingKey:"disabled"},{displayText:"1x",isChecked:!!this.props.appModel.activeCanvasPixelPreview&&!this.props.appModel.activeCanvasRetinaMode,displayRightCol:!this.props.appModel.activeCanvasRetinaMode&&h.getKeyboardShortcut(e,"toggle-pixel-preview"),recordingKey:"1x"},{displayText:"2x",isChecked:!!this.props.appModel.activeCanvasPixelPreview&&!!this.props.appModel.activeCanvasRetinaMode,displayRightCol:!!this.props.appModel.activeCanvasRetinaMode&&h.getKeyboardShortcut(e,"toggle-pixel-preview"),recordingKey:"2x"}]},{displayText:h.getString(this.props.appModel.strings,"toggle-grid"),displayRightCol:h.getKeyboardShortcut(e,"toggle-grid"),recordingKey:"renderGrid",isChecked:!!this.props.appModel.renderGrid,disabled:h.isActionEnabled(this.props.appModel,"renderGrid")},{displayText:h.getString(this.props.appModel.strings,"toggle-snapping-to-pixels"),displayRightCol:h.getKeyboardShortcut(e,"toggle-snapping-to-pixels"),recordingKey:"snapToPixelGrid",isChecked:!!this.props.appModel.snapToPixelGrid,disabled:h.isActionEnabled(this.props.appModel,"snapToPixelGrid")},{displayText:h.getString(this.props.appModel.strings,"toggle-shown-layout-grids"),displayRightCol:h.getKeyboardShortcut(e,"toggle-shown-layout-grids"),recordingKey:i,isChecked:!!this.props.appModel[i],disabled:h.isActionEnabled(this.props.appModel,i)},{displayText:M.MULTIPLAYER_CURSORS,displayRightCol:h.getKeyboardShortcut(e,"toggle-multiplayer-cursors"),recordingKey:"hideMultiplayerCursors",isChecked:!this.props.appModel.hideMultiplayerCursors,disabled:h.isActionEnabled(this.props.appModel,"hideMultiplayerCursors")},{displayText:h.getString(this.props.appModel.strings,"toggle-rulers"),displayRightCol:h.getKeyboardShortcut(e,"toggle-rulers"),recordingKey:"renderRulers",isChecked:!!this.props.appModel.renderRulers,disabled:h.isActionEnabled(this.props.appModel,"renderRulers")}];return y.default().feature_flags.allow_hide_slices&&s.push({displayText:h.getString(this.props.appModel.strings,"toggle-show-slices"),displayRightCol:h.getKeyboardShortcut(e,"toggle-show-slices"),recordingKey:"showSlices",isChecked:!!this.props.appModel.showSlices,disabled:h.isActionEnabled(this.props.appModel,"showSlices")}),s}render(){let e=Math.round(100*this.props.activeCanvasCurrentZoom);return i.createElement(i.Fragment,null,i.createElement(d.TopBarAction,{onClick:this.toggleZoomMenu,recordingKey:r.joinKeys(this.props,"zoomButton"),selected:this.showingZoomDropdown(),className:m.zoomMenu,onboardingKey:"zoom-menu"},i.createElement("div",{className:m.zoomAmount},e,"%"),i.createElement("div",{className:m.chevronContainer,ref:this.setZoomMenu},i.createElement(n.Chevron,{dispatch:this.props.dispatch,dropdownKey:C,showingDropdown:this.showingZoomDropdown()}))),this.showingZoomDropdown()&&i.createElement(c.MultilevelDropdown,{items:this.multilevelDropdownItems(),onSelectItem:this.onSelectDropdownItem,parentRect:this.props.dropdownShown.data.targetRect,showPoint:!0,dispatch:this.props.dispatch,recordingKey:r.joinKeys(this.props,"dropdown"),alwaysShowCheckMarkOffset:!0},i.createElement("div",{className:m.zoomInputContainer,onKeyDown:this.onKeyDown},i.createElement(g.Input,{className:m.input,placeholderValue:`${Math.round(100*this.props.activeCanvasCurrentZoom)}%`,cancel:this.inputCancel,submit:this.inputSubmit,recordingKey:r.joinKeys(this.props,"dropdown","zoomInput")})),i.createElement(u.dropdown.Separator,null)))}}v.displayName="ZoomMenu",o.ZoomMenu=v,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){e.exports={filename:"filename_view--filename--1GD6c",fullWidth:"filename_view--fullWidth--2O_nM",pageTitle:"filename_view--pageTitle--89RpN text--whiteTitleText--2yF_5 text--titleText--10C29 text--_whiteText--2PkdM",pageTitleRenaming:"filename_view--pageTitleRenaming--25dv2 filename_view--pageTitle--89RpN text--whiteTitleText--2yF_5 text--titleText--10C29 text--_whiteText--2PkdM",pageTitleInput:"filename_view--pageTitleInput--2_1Bi",folder:"filename_view--folder--QARXN",title:"filename_view--title--2tmkq ellipsis--ellipsis--1RWY6",titleWithToggleContainer:"filename_view--titleWithToggleContainer--2D-PN filename_view--title--2tmkq ellipsis--ellipsis--1RWY6",folderMissing:"filename_view--folderMissing--35jjK filename_view--folder--QARXN",folderName:"filename_view--folderName--2kvPt ellipsis--ellipsis--1RWY6",folderNameInteractive:"filename_view--folderNameInteractive--3fkuc filename_view--folderName--2kvPt ellipsis--ellipsis--1RWY6",pathSeparator:"filename_view--pathSeparator--1gsv7",permissionsText:"filename_view--permissionsText--2seaD",saveStatus:"filename_view--saveStatus--3tDm5",dropdown:"filename_view--dropdown--1RfVR",dropdownOption:"filename_view--dropdownOption--2tn0R",dropdownOptionShortcut:"filename_view--dropdownOptionShortcut--2HDDW",dropdownOptionText:"filename_view--dropdownOptionText--80c5t"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,l,e){t.exports={id:null,src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1 17h16l-.5-1L9.559 2.118 9 1l-.559 1.118L1.5 16 1 17zm1.618-1h12.764L9 3.236 2.618 16z" fill-rule="evenodd" fill="#ffdb29"/><path d="M8.25 8h1.5v4h-1.5V8zM10 14c0 .552-.448 1-1 1-.552 0-1-.448-1-1 0-.552.448-1 1-1 .552 0 1 .448 1 1z" fill="#ffdb29"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"gf18cbe51",src:'<svg width="6" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M6 3c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3 0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g47456668",src:'<svg width="9" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1.032 16.824l6-16 .936.352-6 16-.936-.352z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(34,1   ),o=i(176              ),r=i(406             ),p=i(143              ),n=i(283         ),a=i(357                  ),l=i(374                            ),d=i(172                     ),c=i(173                        ),h=i(681                                        ),m=i(1426                               ),g=i(604                             ),f=(i(185                              ),i(232                        )),u=i(371                       ),y=i(166                         ),w=i(281                                  ),b=i(408                                  ),_=i(144                        ),v=i(1417                       ),E=i(1045                                        ),K=i(727                                 ),F=(i(1051                                                ),i(674                                                             )),N=i(1054                 ),M=(i(1055                                                 ),i(1056                                         )),S=i(1057                            ),O="FULLSCREEN_FILENAME_DROPDOWN";class k extends p.PureComponent{constructor(){super(...arguments),this.startRenaming=p.mouseEvent(this,"click",()=>{(!this.props.file||this.props.canEdit)&&this.props.user&&this.props.dispatch(f.fullscreen.beginRenaming())}),this.submitFileName=(e=>{this.props.dispatch(f.fullscreen.stopRenaming()),this.props.dispatch(f.file.stopRenaming(this.props.file,e))}),this.cancelFileName=(()=>{this.props.dispatch(f.fullscreen.stopRenaming())})}render(){const e=this.props.file?this.props.file.name:"Untitled";return this.props.isRenaming?t.createElement(K.Input,{className:N.pageTitleInput,placeholderValue:e,submit:this.submitFileName,cancel:this.cancelFileName,recordingKey:p.joinKeys(this.props,"input")}):t.createElement("span",{className:this.props.user?N.titleWithToggleContainer:N.title,onClick:this.startRenaming},e)}}k.displayName="Filename";class D extends p.PureComponent{constructor(){super(...arguments),this.publishVersion=(()=>{this.props.dispatch(f.fileBrowser.showModal({type:v.AppModal.PUBLISH_COMPONENTS_MODAL}))}),this.toggleVersionHistory=(()=>{this.props.dispatch(f.fileBrowser.hideDropdown()),this.props.topLevelMode===g.TopLevelMode.HISTORY?m.fullscreen.triggerAction("enter-layout-mode"):this.props.dispatch(f.fullscreen.enterVersionHistoryMode())}),this.duplicate=(()=>{if(!this.props.editingFileKey)throw new Error("duplicate called but the current file is not saved");const e=this.props.editingFileKey,s=this.props.fileByKey[e];this.props.dispatch(f.fileBrowser.hideDropdown()),m.fullscreen.dispatchIfSaved(f.file.duplicate(s))}),this.rename=(()=>{this.props.dispatch(f.fileBrowser.hideDropdown()),this.props.dispatch(f.fullscreen.beginRenaming())}),this.delete=(()=>{if(!this.props.editingFileKey)throw new Error("duplicate called but the current file is not saved");this.props.dispatch(f.fileBrowser.hideDropdown());const{editingFileKey:e,fileByKey:s}=this.props,i=s[e],t=a.getDeleteFilesPayload({[i.key]:!0},this.props,!0);this.props.dispatch(f.file.tryDeleteFiles({filesByKey:t}))}),this.moveToProject=(()=>{this.props.dispatch(f.fileBrowser.hideDropdown()),this.props.dispatch(f.fileBrowser.showModal({type:v.AppModal.FILE_MOVE_MODAL,data:{fileKey:this.props.editingFileKey}}))}),this.showUpsellModal=(()=>{const e=this.props.fileByKey[this.props.editingFileKey],s=this.props.teams[e.team_id];this.props.dispatch(f.fileBrowser.showModal({type:v.AppModal.PUBLISH_COMPONENTS_UPSELL_MODAL,data:{afterFileMove:this.publishVersion,team:s}}))})}renderDropdownMenu(){if(!(this.props.dropdownShown&&this.props.dropdownShown.type===O))return null;const{user:e,editingFileKey:s,fileByKey:i}=this.props,r=i[s],a=e&&c.canManageFile(r&&r.key,this.props,!0),m=e&&c.canEditFile(r&&r.key,this.props),f=!r||m,y=this.props.dropdownShown.data.targetRect,_=c.canEditFolder(r.folder_id,this.props),v=l.hasPendingItemChanges(this.props.library.local.styles),E=l.hasPendingItemChanges(this.props.library.local.components),K=d.canAccessProFeature(this.props.teams[r.team_id]),M=r.team_id||u.NO_TEAM_ID,S=!n.isEmpty((this.props.library.published.styles[M]||{})[r.key])||!n.isEmpty((this.props.library.published.components[M]||{})[r.key]);let k=!1;E&&!K&&(v&&S||(k=!0));const D=v||E;return t.createElement(F.PointingDropdown,{className:N.dropdown,targetRect:y,minWidth:200},D&&t.createElement(b.dropdown.Option,{onClick:k?this.showUpsellModal:this.publishVersion,recordingKey:p.joinKeys(this.props,"publishVersion")},"Publish Styles & Components"),t.createElement(b.dropdown.Option,{onClick:this.toggleVersionHistory,disabled:!this.props.isEnterHistoryModeEnabled,recordingKey:p.joinKeys(this.props,"toggleVersionHistory")},this.props.topLevelMode===g.TopLevelMode.HISTORY?"Hide Version History":"Show Version History"),t.createElement(b.dropdown.Option,{onClick:h.actionCallbacks.get("export-selected-exportables","toolbar"),disabled:!e,className:N.dropdownOption,recordingKey:p.joinKeys(this.props,"exportSelectedExportables")},t.createElement("div",{className:N.dropdownOptionText},"Export..."),this.props.keyboardShortcuts&&t.createElement("div",{className:N.dropdownOptionShortcut},w.getKeyboardShortcut(this.props.keyboardShortcuts,"export-selected-exportables"))),t.createElement(b.dropdown.Separator,null),r&&t.createElement(b.dropdown.Option,{onClick:this.duplicate,recordingKey:p.joinKeys(this.props,"duplicate")},_?"Duplicate":"Duplicate to your Drafts"),t.createElement(b.dropdown.Option,{disabled:!f,onClick:this.rename,recordingKey:p.joinKeys(this.props,"rename")},"Rename"),r&&t.createElement(b.dropdown.Option,{disabled:!a,onClick:this.delete,recordingKey:p.joinKeys(this.props,"delete")},"Delete"),(!o.desktopApp||r)&&t.createElement(b.dropdown.Separator,null),r&&t.createElement(b.dropdown.Option,{disabled:!a,onClick:this.moveToProject,recordingKey:p.joinKeys(this.props,"moveToProject")},"Move to Project..."))}showingDropdown(){return this.props.dropdownShown&&this.props.dropdownShown.type===O}getFolderName(e){if(e.folder_id){const s=this.props.folders&&this.props.folders[e.folder_id];if(s)return y.getFolderName(s)}return""}render(){const{user:e,editingFileKey:s,fileByKey:i,isRenaming:o}=this.props,n=i[s],a=this.props.user&&c.canEditFile(n&&n.key,this.props),l=this.props.user&&n&&!a,d=n?this.getFolderName(n):"",h=!o&&e,m=e&&c.canManageFile(n&&n.key,this.props,!0),g=d.length>25?d:null,f=this.props.saveStatus&&this.props.saveStatus.hasUnsavedChanges;return t.createElement("div",{className:r.join(N.filename,!e&&N.fullWidth),id:"fullscreen-filename"},t.createElement("div",{className:o?N.pageTitleRenaming:N.pageTitle},!1,t.createElement("div",{className:d?N.folder:N.folderMissing,title:g},t.createElement("div",{className:m?N.folderNameInteractive:N.folderName,onClick:m?this.moveToProject:void 0},d),t.createElement(_.Svg,{svg:S,className:N.pathSeparator})),t.createElement(k,{dispatch:this.props.dispatch,user:e,file:n,editingFileKey:this.props.editingFileKey,canEdit:a,isRenaming:o,viewOnly:l,recordingKey:p.joinKeys(this.props,"fileName")}),h&&t.createElement(E.Chevron,{dispatch:this.props.dispatch,showingDropdown:this.showingDropdown(),dropdownKey:O,iconOverride:f?M:null,recordingKey:p.joinKeys(this.props,"chevron"),tooltipText:f?this.props.saveStatus.tabCloseText:null}),h&&this.renderDropdownMenu(),l&&t.createElement("span",{className:N.permissionsText},t.createElement("span",{className:N.saveStatus},"View only"))))}}D.displayName="FilenameView",s.FilenameView=D,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,r){t.exports={root:"text_avatar--root--UrhbE avatar--root--2kH_E"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),a=s(1059               );class o extends r.Component{render(){const e=this.props.size;return r.createElement("div",{className:`${a.root} ${this.props.className||""}`,style:this.props.size?{width:`${e}px`,height:`${e}px`,lineHeight:`${e}px`}:void 0},this.props.text)}}o.displayName="TextAvatar",t.TextAvatar=o,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,l){e.exports={multiplayerView:"multiplayer_view--multiplayerView--19Y20",users:"multiplayer_view--users--2LGXC",userIconView:"multiplayer_view--userIconView--1wivF",userIconImage:"multiplayer_view--userIconImage--1-Y25",coloredLine:"multiplayer_view--coloredLine--29_ny",overflowColoredLine:"multiplayer_view--overflowColoredLine--WNwuB multiplayer_view--coloredLine--29_ny",textAvatarContainer:"multiplayer_view--textAvatarContainer--1QQrh",textAvatar:"multiplayer_view--textAvatar--3dpZL",overflowDropdown:"multiplayer_view--overflowDropdown--3Aa0u",overflowTextAvatar:"multiplayer_view--overflowTextAvatar--gwzeV multiplayer_view--textAvatar--3dpZL",overflowRow:"multiplayer_view--overflowRow--DElg3",overflowName:"multiplayer_view--overflowName--2pp2Q"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={toolbar:"toolbar_view--toolbar--2396w",buttonGroup:"toolbar_view--buttonGroup--2wM3n",flexibleSpace:"toolbar_view--flexibleSpace--X6lgG",centerButtonGroup:"toolbar_view--centerButtonGroup--3K7ek",iconButton:"toolbar_view--iconButton--Zxsnv",actionButtonContainer:"toolbar_view--actionButtonContainer--J2txY",actionButtonBadge:"toolbar_view--actionButtonBadge--N_YXW",label:"toolbar_view--label--2d6w6",textButtonContainer:"toolbar_view--textButtonContainer--3iQPl",shareButton:"toolbar_view--shareButton--Q6fI7 toolbar_view--textButtonContainer--3iQPl",textButton:"toolbar_view--textButton--eiCIw basic_form--primaryBtn--3NqnQ basic_form--btn--3A-Ju ellipsis--ellipsis--1RWY6",toolButtonContainer:"toolbar_view--toolButtonContainer--1HAfB",unreadDot:"toolbar_view--unreadDot--Tdpt5",unreadDotActive:"toolbar_view--unreadDotActive--146a-"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,n){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=n(1417                       ),r=n(232                        ),i=n(34,1   ),o=n(370              ),a=n(1060                                            ),l=n(674                                                             ),p=14.5,d=n(1061                    ),m=n(1062                 ),c=n(385                                        ),h=o.pxToInt(c.toolbarHeight__REFRESH);class u extends i.PureComponent{constructor(){super(...arguments),this.state={animationClassName:null}}componentDidMount(){this.props.user.sessionID===this.props.observingSessionID&&this.setState({animationClassName:"selected"})}componentDidUpdate(e){this.props.user.sessionID===this.props.observingSessionID&&e.observingSessionID!==this.props.observingSessionID&&this.setState({animationClassName:"selected"}),this.props.user.sessionID!==this.props.observingSessionID&&this.props.user.sessionID===e.observingSessionID&&this.setState({animationClassName:"deselected"})}render(){const{onClick:e,user:s}=this.props;let n=null;this.props.shouldShowColorIndicator&&(n=[i.createElement("svg",{key:"multiplayer-animation-svg",className:"multiplayer-animation-svg",viewBox:`0 0 ${h} ${h}`},i.createElement("circle",{className:`multiplayer-animation-circle ${this.state.animationClassName}`,cx:h/2,cy:h/2,r:p,fill:"none",stroke:s.color,strokeWidth:"2.4"})),i.createElement("div",{key:"multiplayer-animation-droplet",className:`multiplayer-animation-droplet ${this.state.animationClassName}`,style:{backgroundColor:s.color}})]);const t={backgroundColor:s.imageURL?"rgb(255, 255, 255)":s.color,color:s.imageURL?"transparent":"rgba(0, 0, 0, 127)",backgroundImage:s.imageURL?`url(${s.imageURL})`:"none"};return i.createElement("div",{className:d.userIconView,onClick:e,"data-tooltip-text":s.name},n,i.createElement("div",{className:d.userIconImage,style:t},"?"))}}u.displayName="UserView";const x=`\n  .multiplayer-animation-svg {\n    position: absolute;\n  }\n\n  .multiplayer-animation-droplet {\n    left: ${h/2-7}px;\n    top: 0px;\n    height: 2px;\n    width: 14px;\n    border-radius: 0px;\n    position: absolute;\n  }\n\n  .multiplayer-animation-droplet.selected {\n    animation: droplet 0.3s ease-in forwards;\n  }\n\n  .multiplayer-animation-droplet.deselected {\n    animation: droplet-reverse 0.2s ease-out 0.4s forwards;\n    left: ${h/2-3.5}px;\n    top: 0px;\n    height: 0px;\n    width: 0px;\n    border-radius: 0px;\n  }\n\n  .multiplayer-animation-circle {\n    stroke-dasharray: 400;\n    stroke-dashoffset: 400;\n    transform-origin: center;\n    transform: rotateZ(-90deg);\n  }\n\n  .multiplayer-animation-circle.selected {\n    animation: draw-circle 0.15s ease-in 0.3s forwards;\n  }\n\n  .multiplayer-animation-circle.deselected {\n    animation: draw-circle-reverse 0.4s ease-in forwards;\n  }\n\n  @keyframes droplet {\n    0% {\n      left: ${h/2-7}px;\n      top: 0px;\n      height: 2px;\n      width: 14px;\n      border-radius: 0px;\n    }\n    20% {\n      left: ${h/2-3.5}px;\n      top: -3.5px;\n      height: 7px;\n      width: 7px;\n      border-radius: 100%;\n    }\n    66% {\n      top: -2px;\n      height: 7px;\n    }\n    99% {\n      top: 5px;\n      left: ${h/2-1.5}px;\n      height: 3px;\n      width: 3px;\n      border-radius: 100%;\n    }\n    100% {\n      top: 5px;\n      left: ${h/2-.5}px;\n      height: 1px;\n      width: 1px;\n      border-radius: 100%;\n    }\n  }\n\n  @keyframes draw-circle {\n    0% {\n      stroke-dashoffset: 400;\n    }\n    100% {\n      stroke-dashoffset: 300;\n    }\n  }\n\n  @keyframes droplet-reverse {\n    0% {\n      left: ${h/2-3.5}px;\n      top: 0px;\n      height: 2px;\n      width: 2px;\n      border-radius: 0px;\n    }\n    100% {\n      left: ${h/2-7}px;\n      top: 0px;\n      height: 2px;\n      width: 14px;\n      border-radius: 0px;\n    }\n  }\n\n  @keyframes draw-circle-reverse {\n    0% {\n      stroke-dashoffset: 300;\n    }\n    100% {\n      stroke-dashoffset: 400;\n    }\n  }\n`,g=i.createElement("style",null,x);class w extends i.PureComponent{constructor(){super(...arguments),this._textAvatarContainerRef=(e=>{this._textAvatarContainer=e}),this._showPermissionsModal=(()=>{this.props.editingFileKey&&this.props.dispatch(r.fullscreen.requestThumbnailRender()),this.props.dispatch(r.fileBrowser.showModal({type:t.AppModal.FILE_PERMISSIONS_MODAL,data:{fileKey:this.props.editingFileKey}}))}),this._showMultiplayerUserDropdown=(()=>{this.props.dispatch(r.fileBrowser.showDropdown({type:w.MULTIPLAYER_USERS_DROPDOWN}))})}renderMultiplayerUsersDropdown(e){return this.props.dropdownShown&&this.props.dropdownShown.type===w.MULTIPLAYER_USERS_DROPDOWN?i.createElement(l.PointingDropdown,{targetRect:this._textAvatarContainer?this._textAvatarContainer.getBoundingClientRect():null,maxHeight:window.innerHeight-70,maxWidth:200,className:d.overflowDropdown},e.map(e=>{const s=()=>{this.props.startObservingUser(e)};return i.createElement("div",{key:e.sessionID,className:d.overflowRow,onClick:s},i.createElement(u,{onClick:s,sessionID:this.props.multiplayer.sessionID,observingSessionID:this.props.multiplayer.observingSessionID,user:e,shouldShowColorIndicator:!1}),i.createElement("div",{className:d.overflowName},e.name))})):null}renderMultiplayerUsers(){const e=this.props.multiplayer,s=e.observingSessionID;let n=e.allUsers;if(!n)return null;e.deviceNameFilter&&(n=n.filter(s=>s.deviceName===e.deviceNameFilter)),n.length&&n[0].sessionID!==e.sessionID&&(n=n.slice()).unshift(n.pop());const t=this.props.threshold||4;let r=[];n.length>t&&(r=n.slice(t-1),n=n.slice(0,t-1));for(let i of r)if(i.sessionID===s){r.push(n.pop()),r.splice(r.indexOf(i),1),n.push(i);break}return r.sort((e,s)=>e.name===s.name?e.sessionID-s.sessionID:"Anonymous"===e.name?1:"Anonymous"===s.name?-1:e.name>s.name?1:-1),i.createElement("span",{className:d.users},n.map(t=>{return i.createElement(u,{key:t.sessionID,onClick:()=>{this.props.startObservingUser(t)},sessionID:e.sessionID,observingSessionID:s,user:t,shouldShowColorIndicator:n.length>1})}),r&&0!==r.length&&i.createElement("span",{className:d.textAvatarContainer,ref:this._textAvatarContainerRef,onClick:this._showMultiplayerUserDropdown},i.createElement(a.TextAvatar,{className:d.overflowTextAvatar,text:`${r.length}`}),i.createElement("div",{className:d.overflowColoredLine})),r&&0!==r.length&&this.renderMultiplayerUsersDropdown(r))}render(){return i.createElement("div",{className:d.multiplayerView},g,this.renderMultiplayerUsers(),this.props.user&&this.props.editingFileKey&&i.createElement("div",{className:`${m.shareButton} ${m.textButton}`,onClick:this._showPermissionsModal,"data-onboarding-key":"share"},"Share"))}}w.displayName="MultiplayerView",w.MULTIPLAYER_USERS_DROPDOWN="multiplayer-users-dropdown",s.MultiplayerView=w,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){e.exports={id:"g2ceee9dd",src:'<svg width="40" height="40" xmlns="http://www.w3.org/2000/svg"><path d="M17 14.098l.765.478 8 5 .678.424-.678.424-8 5-.765.478V14.098zm1 1.804v8.196L24.557 20 18 15.902z" fill-rule="evenodd" fill="#fff"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"gb5c13c15",src:'<svg width="7" height="7" xmlns="http://www.w3.org/2000/svg"><path d="M0 3.5C0 1.567 1.567 0 3.5 0 5.433 0 7 1.567 7 3.5 7 5.433 5.433 7 3.5 7 1.567 7 0 5.433 0 3.5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(l,t,e){l.exports={id:null,src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M3.111 1L0 9h1.073l.778-2h3.606l.777 2h1.073l-3.11-8H3.11zm1.957 5L3.654 2.364 2.24 6h2.828z" fill-rule="evenodd" fill="#ffeb00"/><path d="M10.063 6.7h1.117c0-.973.25-1.364.96-1.802.7-.425 1.106-1.023 1.106-1.878 0-1.27-.96-2.13-2.394-2.13-1.317 0-2.372.77-2.422 2.176h1.187c.047-.828.637-1.191 1.235-1.191.664 0 1.203.441 1.203 1.133 0 .578-.352.984-.828 1.277-.758.465-1.188.953-1.165 2.414zm.59 2.417c.456 0 .816-.347.816-.797 0-.445-.36-.797-.817-.797-.453 0-.812.352-.816.797.004.45.363.797.816.797z" fill="#ffeb00"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),i=o(38,1       ),r=o(406             ),n=o(143              ),a=o(232                        ),p=o(177                             ),l=o(604                             ),c=o(681                                        ),d=o(1426                               ),u=o(173                        ),g=o(1040                             ),m=o(281                                  ),h=o(1049                                                ),y=o(1046             ),b=o(1048              ),f=o(1053                   ),v=o(144                        ),E=o(1058                           ),w=o(1063                                 ),M=o(1051                                                ),T=o(1062                ),_=o(394                          ),C=o(517                                        ),B=o(204                                            ),k=o(129                               ),F=o(1261                                        ),K=o(1064                                                             ),S=o(1065                                    ),N=o(1066                                                          );class O extends n.PureComponent{constructor(){super(...arguments),this.onClick=n.mouseEvent(this,"click",c.actionCallbacks.get(this.props.action,"toolbar"))}render(){const{action:e,text:t}=this.props;return s.createElement("div",{className:T.textButtonContainer},s.createElement("div",{key:`toolbar-action-button-${e}`,className:T.textButton,onClick:this.onClick,"data-tooltip":e},t))}}O.displayName="TextButton";class D extends n.PureComponent{render(){const{item:e,isEnabled:t,isActive:o,showBadge:i}=this.props;if(!t)return null;let n=r.join(T.iconButton,b.classNameForToolbarButton(e.action,t,o));const a=function(e){return e.type===y.Type.TOOL?g.svgForTool(e.tool):e.action?g.svgForAction(e.action):(console.error(`Couldnt find icon for item ${e}`),null)}(e),p=`toolbar-action-${e.action}`;return s.createElement("span",{className:T.actionButtonContainer},s.createElement(v.Svg,{id:p,key:p,svg:a,recordingKey:this.props.recordingKey,className:n,onMouseDown:t?c.actionCallbacks.get(e.action,"toolbar"):null,"data-tooltip":e.action,"data-onboarding-key":e.onboardingKey}),i&&s.createElement("div",{className:T.actionButtonBadge},s.createElement(v.Svg,{svg:S})))}}D.displayName="ActionButton";class A extends n.PureComponent{render(){const{isEnabled:e,isActive:t,item:o,numUnreadComments:i}=this.props;let n=r.join(T.iconButton,b.classNameForToolbarButton(o.action,e,t)),a=g.svgForTool(o.tool);return a||(a=g.svgForAction(o.action)),s.createElement("div",{key:o.action,className:T.toolButtonContainer},s.createElement(v.Svg,{svg:a,recordingKey:this.props.recordingKey,className:n,onMouseDown:c.actionCallbacks.get(o.action,"toolbar"),"data-tooltip":o.action,"data-onboarding-key":o.onboardingKey}),i>0&&o.tool===l.Tool.COMMENTS&&s.createElement("div",{className:t?T.unreadDotActive:T.unreadDot}))}}A.displayName="ToolButton";const x=o(1007                                                 );class I extends n.Component{constructor(){super(...arguments),this.isDragTarget=(e=>!0),this.onFileDragEnter=(e=>{}),this.onFileDragLeave=(e=>{}),this.onFileDrop=(e=>{}),this.goBackIntoLayoutMode=(()=>d.fullscreen.triggerAction("enter-layout-mode")),this.toggleFullscreenMenu=(()=>{const e=this.refs.toggleMenuButton,t=i.findDOMNode(e);if(!this.props.user||this.props.user.appData&&this.props.user.appData.loggedOut)t&&this.props.dispatch(a.fileBrowser.showDropdown({type:F.FullscreenPageView.DROPDOWN_TYPE_PAGE_PICKER,data:{targetRect:t.getBoundingClientRect()}}));else if(m.isFullscreenMenuVisible(this.props.dropdownShown))this.props.dispatch(a.fileBrowser.hideDropdown());else if(t){const e={type:m.fullscreenMenuDropdownKey,data:{targetRect:t.getBoundingClientRect()},hasOwnEscKeyHandler:!0};this.props.dispatch(a.fileBrowser.showDropdown(e))}}),this._filenameView=new _.CachedSubtree(()=>s.createElement(E.FilenameView,Object.assign({library:this.props.library,dispatch:this.props.dispatch,editingFileKey:this.props.editingFileKey,dropdownShown:this.props.dropdownShown,isRenaming:this.props.isRenaming,saveStatus:this.props.saveStatus,isEnterHistoryModeEnabled:m.isActionEnabled(this.props.appModel,"enter-history-mode"),topLevelMode:this.props.appModel.topLevelMode,keyboardShortcuts:this.props.appModel.keyboardShortcuts,recordingKey:n.joinKeys(this.props,"filenameView")},u.getPermissionsState(this.props)))),this._toolbarMiddleItems=new _.CachedSubtree(()=>y.toolbarMiddleItems.map(this.renderToolbarItem,this)),this.startObservingUser=(e=>{d.fullscreen.sendMessage("observeMultiplayerUser",e.sessionID)}),this.onMissingFontsButtonClick=(()=>{k.Fullscreen.findMissingFontsAndShowPopover()})}shouldComponentUpdate(e){for(let t in e){let o=t;if("mirror"!==o&&"appModel"!==o&&e[o]!==this.props[o])return!0}for(let t in e.appModel)if("viewportInfo"!==t&&"hoveredNode"!==t&&e.appModel[t]!==this.props.appModel[t])return!0;return!1}renderToolbarItem(e){if(!e)return null;if(!this.props.userCanEditFile&&!e.nonEditorsAllowed)return null;if(!!this.props.user){if(e.loggedOutOnly)return null}else if(!e.loggedOutOnly)return null;if(e.editModes&&-1===e.editModes.indexOf(this.props.appModel.activeCanvasEditModeType))return null;if(e.showForTools&&-1===e.showForTools.indexOf(this.props.appModel.currentTool))return null;switch(e.type){case y.Type.LABEL:return s.createElement("div",{key:`label-${e.label}`,className:T.label},m.getString(this.props.appModel.strings,e.label));case y.Type.TEXT_BUTTON:return s.createElement(O,{key:`text-button-${e.action}`,action:e.action,isEnabled:m.isActionEnabled(this.props.appModel,e.action),text:m.getString(this.props.appModel.strings,e.action),recordingKey:n.joinKeys(this.props,e.recordingKey)});case y.Type.FLYOUT:return s.createElement(h.FlyoutView,{key:`flyout-${e.name}`,item:e,appModel:this.props.appModel,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,recordingKey:n.joinKeys(this.props,e.recordingKey)});case y.Type.ACTION:{const t=void 0!==e.propertyValue&&this.props.appModel[e.property]===e.propertyValue,o=m.isActionEnabled(this.props.appModel,e.action);return s.createElement(D,{key:`action-button-${e.action}`,item:e,isEnabled:o,isActive:t,recordingKey:n.joinKeys(this.props,e.recordingKey)})}case y.Type.TOOL:{const t=m.isActionEnabled(this.props.appModel,e.action),o=e.tool&&e.tool===this.props.appModel.currentTool&&!m.isFullscreenMenuVisible(this.props.dropdownShown);return s.createElement(A,{key:`tool-button-${e.tool}`,dropdownShown:this.props.dropdownShown,isEnabled:t,isActive:o,item:e,numUnreadComments:this.props.numUnreadComments,recordingKey:n.joinKeys(this.props,e.recordingKey)})}}throw Error(`Unhandled type above ${e.type}`)}renderHistoryButtonsIfNecessary(){if(this.props.appModel.topLevelMode===l.TopLevelMode.HISTORY)return s.createElement("div",{className:T.textButtonContainer},s.createElement(B.ButtonPrimary,{key:"back-to-editing-btn",className:T.textButton,recordingKey:n.joinKeys(this.props,"backToEditing"),onClick:this.goBackIntoLayoutMode},"Edit Current Version"))}render(){const e=this.props.appModel,t=e.activeCanvasEditModeType,o=e.topLevelMode,i=t==l.EditModeType.COMMENTS||t==l.EditModeType.PREVIEW||o==l.TopLevelMode.HISTORY||o==l.TopLevelMode.PREVIEW,r=e.selectionEmpty,a=void 0===r||r||i;return s.createElement(C.DragTarget,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onFileDragEnter,onTargetDragLeave:this.onFileDragLeave,onTargetDrop:this.onFileDrop},s.createElement("div",{className:`${T.toolbar} ${p.PREVENT_EVENT_CAPTURE}`},s.createElement(M.TopBarAction,{key:"toggle-menu-button",ref:"toggleMenuButton",recordingKey:n.joinKeys(this.props,"toggleMenuTopbarButton"),selected:m.isFullscreenMenuVisible(this.props.dropdownShown),svg:x,tooltip:"toggle-menu",onClick:this.toggleFullscreenMenu}),s.createElement("div",{key:"left-group",className:T.buttonGroup},y.toolbarLeftItems.map(e=>this.renderToolbarItem(e)),this.renderHistoryButtonsIfNecessary()),s.createElement("div",{className:T.flexibleSpace}),s.createElement("div",{key:"center-group",className:`${T.buttonGroup} ${T.centerButtonGroup}`},this._filenameView.render(a),this._toolbarMiddleItems.render(!a)),s.createElement("div",{key:"right-group",className:T.buttonGroup},this.props.multiplayer&&s.createElement(w.MultiplayerView,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,editingFileKey:this.props.editingFileKey,startObservingUser:this.startObservingUser}),s.createElement(M.TopBarAction,{key:"play-button",svg:K,onClick:this.props.openPrototype,recordingKey:n.joinKeys(this.props,"playButton"),title:"Present",faded:!1}),e.showMissingFontsButton&&s.createElement(M.TopBarAction,{key:"missing-fonts-button",svg:N,useOriginalSrcFills:!0,onClick:this.onMissingFontsButtonClick,recordingKey:n.joinKeys(this.props,"missingFontsButton"),title:"Missing Fonts"}),s.createElement(f.ZoomMenu,{appModel:this.props.appModel,keyboardShortcuts:this.props.appModel.keyboardShortcuts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,activeCanvasCurrentZoom:this.props.appModel.activeCanvasCurrentZoom,recordingKey:n.joinKeys(this.props,"zoomMenu")}))))}}I.displayName="ToolbarView",t.ToolbarView=I,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={keyboardShortcutPanel:"keyboard_shortcut_panel--keyboardShortcutPanel--2UT6R",nav:"keyboard_shortcut_panel--nav--3G3Q_",tab:"keyboard_shortcut_panel--tab--DuCac",tabActive:"keyboard_shortcut_panel--tabActive--3p5-l keyboard_shortcut_panel--tab--DuCac",tabLeftOfActive:"keyboard_shortcut_panel--tabLeftOfActive--1Un7d keyboard_shortcut_panel--tab--DuCac",tabRightOfActive:"keyboard_shortcut_panel--tabRightOfActive--122nt keyboard_shortcut_panel--tab--DuCac",tabActiveCompletedFirstTime:"keyboard_shortcut_panel--tabActiveCompletedFirstTime--28BRe keyboard_shortcut_panel--tabActive--3p5-l keyboard_shortcut_panel--tab--DuCac",navWithFirstTabActive:"keyboard_shortcut_panel--navWithFirstTabActive--3eIO1 keyboard_shortcut_panel--nav--3G3Q_",navWithLastTabActive:"keyboard_shortcut_panel--navWithLastTabActive--2eaV0 keyboard_shortcut_panel--nav--3G3Q_",closeX:"keyboard_shortcut_panel--closeX--Q4k3W",replayAnimation:"keyboard_shortcut_panel--replayAnimation--1f9IL",replayAnimationActive:"keyboard_shortcut_panel--replayAnimationActive--_skvk keyboard_shortcut_panel--replayAnimation--1f9IL",tabContents:"keyboard_shortcut_panel--tabContents--plA7-",tabContentsCompleted:"keyboard_shortcut_panel--tabContentsCompleted--1jxhs keyboard_shortcut_panel--tabContents--plA7-",tabContentsCompletedFirstTime:"keyboard_shortcut_panel--tabContentsCompletedFirstTime--32ZG- keyboard_shortcut_panel--tabContents--plA7-",hint:"keyboard_shortcut_panel--hint--2Nwzc",categoryCaption:"keyboard_shortcut_panel--categoryCaption--34arC",contents:"keyboard_shortcut_panel--contents--1GINy",column:"keyboard_shortcut_panel--column--2fZIg",caption:"keyboard_shortcut_panel--caption--GQtJO",shortcutRow:"keyboard_shortcut_panel--shortcutRow--33OZy",shortcutRowUsed:"keyboard_shortcut_panel--shortcutRowUsed--2xPnu keyboard_shortcut_panel--shortcutRow--33OZy",shortcutRowPressed:"keyboard_shortcut_panel--shortcutRowPressed--3Epe1 keyboard_shortcut_panel--shortcutRow--33OZy",shortcutRowPressedFirstTime:"keyboard_shortcut_panel--shortcutRowPressedFirstTime--NGOKX keyboard_shortcut_panel--shortcutRow--33OZy",shortcutRowCompletedTab:"keyboard_shortcut_panel--shortcutRowCompletedTab--1S5GF keyboard_shortcut_panel--shortcutRowUsed--2xPnu keyboard_shortcut_panel--shortcutRow--33OZy",shortcutRowCompletedAllTabs:"keyboard_shortcut_panel--shortcutRowCompletedAllTabs--3RLfR keyboard_shortcut_panel--shortcutRowUsed--2xPnu keyboard_shortcut_panel--shortcutRow--33OZy",shortcutRowHeld:"keyboard_shortcut_panel--shortcutRowHeld--22Cr_ keyboard_shortcut_panel--shortcutRowUsed--2xPnu keyboard_shortcut_panel--shortcutRow--33OZy",and:"keyboard_shortcut_panel--and--3QMy5",shortcutName:"keyboard_shortcut_panel--shortcutName--1cktE",shortcutIconCanvas:"keyboard_shortcut_panel--shortcutIconCanvas--3f5eE",shortcutIcon:"keyboard_shortcut_panel--shortcutIcon--G0KYc",keyBindings:"keyboard_shortcut_panel--keyBindings--3fFg8",keyBinding:"keyboard_shortcut_panel--keyBinding--1DP87",shortcutBox:"keyboard_shortcut_panel--shortcutBox--3nsCt",singleCharKeyBox:"keyboard_shortcut_panel--singleCharKeyBox--6zMFx keyboard_shortcut_panel--shortcutBox--3nsCt",contentsSpacedOut:"keyboard_shortcut_panel--contentsSpacedOut--mpMU3 keyboard_shortcut_panel--contents--1GINy",multiCharKeyBox:"keyboard_shortcut_panel--multiCharKeyBox--DnCC8 keyboard_shortcut_panel--shortcutBox--3nsCt",usage:"keyboard_shortcut_panel--usage--3L_Ti",shortcutBoxPressed:"keyboard_shortcut_panel--shortcutBoxPressed--297w2",shortcutBoxPressedFirstTime:"keyboard_shortcut_panel--shortcutBoxPressedFirstTime--2F2Ry",textPressedFirstTime:"keyboard_shortcut_panel--textPressedFirstTime--c81mW",shortcutIconPressedFirstTime:"keyboard_shortcut_panel--shortcutIconPressedFirstTime--10XvI",shortcutBoxCompletedTab:"keyboard_shortcut_panel--shortcutBoxCompletedTab--GbgV_",shortcutBoxCompletedAllTabs:"keyboard_shortcut_panel--shortcutBoxCompletedAllTabs--3pf9k"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,t,l){c.exports={id:null,src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M9.898 7.776l-.959-.256c-.114.427-.366.804-.717 1.073-.35.269-.78.415-1.222.415-.442 0-.872-.146-1.222-.415-.35-.27-.603-.646-.717-1.073l-.959.256c.089.332.233.643.425.922.177.258.395.489.647.682C5.698 9.782 6.34 10 7 10c.66 0 1.302-.218 1.826-.62.252-.193.47-.424.647-.682.052-.075.1-.153.145-.233.038-.068.073-.137.106-.208.071-.154.13-.315.174-.48zM5 5.5c0 .276-.224.5-.5.5-.138 0-.264-.056-.354-.147C4.056 5.763 4 5.638 4 5.5c0-.276.224-.5.5-.5.276 0 .5.224.5.5zm4.854.353c.09-.09.146-.215.146-.353 0-.276-.224-.5-.5-.5-.276 0-.5.224-.5.5 0 .276.224.5.5.5.138 0 .264-.056.354-.147z" fill="#30c2ff"/><path d="M14 7c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm-1 0c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6 0-3.314 2.686-6 6-6 3.314 0 6 2.686 6 6z" fill-rule="evenodd" fill="#30c2ff"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,l,c){t.exports={id:null,src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M4.5 6c.097 0 .187-.027.263-.075C4.905 5.837 5 5.68 5 5.5c0-.276-.224-.5-.5-.5-.276 0-.5.224-.5.5 0 .276.224.5.5.5zm5.5-.5c0 .276-.224.5-.5.5-.09 0-.176-.024-.25-.067-.075-.043-.138-.106-.182-.181C9.025 5.678 9 5.592 9 5.5c0-.276.224-.5.5-.5.276 0 .5.224.5.5zM4 8v1h6V8H4z" fill="#888"/><path d="M14 7c0 3.866-3.134 7-7 7-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7zm-1 0c0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6 0-3.314 2.686-6 6-6 3.314 0 6 2.686 6 6z" fill-rule="evenodd" fill="#888"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(34,1   ),i=s(141     ),a=s(1068                           ),r=s(1426                               ),l=s(144                        ),c=s(1040                             ),n=s(604                             ),h=s(0                    ),p=s(210                              ),u=s(1069                             ),m=s(1070                           );var d;function y(){if(i.mac){return{"bend-tool":[[""]],"center-resize-drag":[[""]],copy:[["","C"]],"crop-image":[["","dbl-click"]],cut:[["","X"]],"deep-pick":[["","right-click"]],"deep-select":[["","click"]],"deselect-all":[[""]],duplicate:[[""]],"ignore-constraints":[[""]],"measure-to-selection":[[""]],"move-while-resizing":[[""]],pan:[["","drag"]],paste:[["","V"]],"prevent-nesting":[[""]],"request-edit-mode":[[""]],"resize-proportionally":[[""]],"text-font-size-adjust":[["","",["<",">"]]],"text-letter-spacing-adjust":[["",[",","."]]],"text-line-height-adjust":[["","",["<",">"]]]}}{const t=i.chromeos?"Search":"Alt";return{copy:[["Ctrl","C"]],"center-resize-drag":[[t]],"crop-image":[[t,"dbl-click"]],cut:[["Ctrl","X"]],"deep-pick":[["Ctrl","right-click"]],"deep-select":[["Ctrl","click"]],"deselect-all":[["Esc"]],duplicate:[[t]],"ignore-constraints":[["Ctrl"]],"measure-to-selection":[[t]],"move-while-resizing":[[""]],pan:[["","drag"]],paste:[["Ctrl","V"]],"prevent-nesting":[["Ctrl"]],"request-edit-mode":[["Enter"]],"resize-proportionally":[["Shift"]],"text-font-size-adjust":[["Ctrl","Shift",["<",">"]]],"text-letter-spacing-adjust":[[t,[",","."]]],"text-line-height-adjust":[[t,"Shift",["<",">"]]]}}}!function(t){t[t.NOT_PRESSED=0]="NOT_PRESSED",t[t.PRESSED=1]="PRESSED",t[t.PRESSED_FIRST_TIME=2]="PRESSED_FIRST_TIME",t[t.HELD=3]="HELD",t[t.COMPLETED_TAB_ANIMATION=4]="COMPLETED_TAB_ANIMATION"}(d||(d={})),e.otherShortcuts=y;class g extends o.PureComponent{render(){return o.createElement("div",{className:a.column},o.createElement("table",null,this.props.children))}}g.displayName="Column";class b extends o.PureComponent{render(){const t=o.Children.toArray(this.props.children).filter(t=>!!t);if(0===t.length)return null;const e=this.props.caption?this.props.appModelStrings[this.props.caption]:null;return o.createElement("tbody",null,e&&o.createElement("tr",null,o.createElement("th",{className:a.categoryCaption,colSpan:3},e)),t)}}b.displayName="Category";class T extends o.PureComponent{constructor(){super(...arguments),this.state={pressed:d.NOT_PRESSED,animationDelays:this.calculateAnimationDelays(this.props)},this.prettifyKeyLabel=(t=>t.replace(//,"Space").replace(//," Tab").replace(//," PgUp").replace(//," PgDn").replace(//," Home").replace(//," End").replace(//," Esc").replace(//," Enter")),this.getTooltipText=(t=>{switch(t){case"":return"Command";case"":return"Shift";case"":return"Option/Alt";case"":return"Control";case"":return"Backspace";default:return null}}),this.renderKeyBindings=(t=>{const e=[];let s=0;return t.forEach(t=>{const i=Array.isArray(t)?t:[t];for(var r=0;r<i.length;r++){const t=this.prettifyKeyLabel(i[r]);r>0&&e.push(o.createElement("div",{key:t+"and",className:a.and},"and"));const l=t.length>1?a.multiCharKeyBox:a.singleCharKeyBox;let c=this.state.animationDelays[s]?{animationDelay:`${this.state.animationDelays[s]}ms`}:{};e.push(o.createElement("div",{key:t+s,className:l,style:c,"data-tooltip-show-immediately":"true","data-tooltip-show-above":"true","data-tooltip-text":this.getTooltipText(i[r])},t)),s++}}),o.createElement("span",{className:a.keyBinding},e)}),this.triggerUnpressed=(()=>{this.setState({pressed:d.NOT_PRESSED})}),this.triggerPressed=(()=>{this.state.pressed!=d.COMPLETED_TAB_ANIMATION&&this.state.pressed!=d.PRESSED_FIRST_TIME&&(clearTimeout(this.pressedTimeout),this.pressedTimeout=setTimeout(()=>this.triggerUnpressed(),500),this.state.pressed!=d.HELD&&(this.state.pressed==d.PRESSED?this.setState({pressed:d.HELD}):this.setState({pressed:d.PRESSED})))}),this.triggerPressedFirstTime=(()=>{this.setState({pressed:d.PRESSED_FIRST_TIME}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),1200)}),this.triggerCompletedTab=(()=>{this.setState({pressed:d.COMPLETED_TAB_ANIMATION}),clearTimeout(this.pressedTimeout),setTimeout(()=>this.triggerUnpressed(),4e3)})}static shortcutUsedCount(t,e){switch(t){case"text-font-size-adjust":return Math.min(e["text-font-size-increase"]||0,e["text-font-size-decrease"]||0);case"text-letter-spacing-adjust":return Math.min(e["text-letter-spacing-increase"]||0,e["text-letter-spacing-decrease"]||0);case"text-line-height-adjust":return Math.min(e["text-line-height-increase"]||0,e["text-line-height-decrease"]||0);default:return e[t]||0}}calculateAnimationDelays(t){let e=[];for(var s=0;s<5;s++){let s=0;t.allTabsCompletedAnimation?s=-Math.floor(2e3*Math.random()):t.tabCompletedFirstTimeAnimation&&(s=110*Math.abs(t.keyPosition-t.tabCompletedAnimationKeyPosition)+100),e.push(s)}return e}UNSAFE_componentWillReceiveProps(t){const e=T.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts),s=T.shortcutUsedCount(t.shortcutKey,t.usedKeyboardShortcuts);if(this.props.allTabsCompletedAnimation!=t.allTabsCompletedAnimation||this.props.tabCompletedFirstTimeAnimation!=t.tabCompletedFirstTimeAnimation){let e=this.calculateAnimationDelays(t);this.setState({animationDelays:e})}t.tabCompletedFirstTimeAnimation&&!this.props.tabCompletedAnimation&&t.tabCompletedAnimation?this.triggerCompletedTab():e!=s&&this.props.shortcutKey==t.shortcutKey&&(1==s?this.triggerPressedFirstTime():this.triggerPressed())}render(){const t=this.props.displayName?this.props.appModelStrings[this.props.displayName]:this.props.appModelStrings[this.props.shortcutKey],e=T.shortcutUsedCount(this.props.shortcutKey,this.props.usedKeyboardShortcuts)>0,s=T.keybindingsForShortcut(this.props.shortcutKey,this.props.appModelKeyboardShortcuts);let i,r=null;return s&&(r=this.renderKeyBindings(s[0])),i=this.props.allTabsCompletedAnimation?a.shortcutRowCompletedAllTabs:this.state.pressed==d.COMPLETED_TAB_ANIMATION?a.shortcutRowCompletedTab:this.state.pressed==d.PRESSED_FIRST_TIME?a.shortcutRowPressedFirstTime:this.state.pressed==d.HELD?a.shortcutRowHeld:this.state.pressed==d.PRESSED?a.shortcutRowPressed:e?a.shortcutRowUsed:a.shortcutRow,s&&o.createElement("tr",{className:i,key:this.props.shortcutKey},this.props.icon&&o.createElement("td",{className:a.shortcutIconCanvas},o.createElement(l.Svg,{svg:this.props.icon,className:a.shortcutIcon})),o.createElement("td",{className:a.shortcutName},t,this.props.usage&&o.createElement("div",{className:a.usage},this.props.usage)),o.createElement("td",{className:a.keyBindings},r))}}T.displayName="Shortcut",T.specialKeys=["Backspace","Delete","Down","End","Enter","Home","Left","Page Down","Page Up","Right","Tab","Up"],T.splitStringIntoKeys=(t=>{const e=[];for(;t.length>0;)if(t.startsWith("Ctrl+"))e.push("Ctrl"),t=t.slice("Ctrl+".length);else if(t.startsWith("Shift+"))e.push("Shift"),t=t.slice("Shift+".length);else if(t.startsWith("Alt+"))e.push("Alt"),t=t.slice("Alt+".length);else if(t.startsWith("Win+"))e.push("Win"),t=t.slice("Win+".length);else{let s=!1;for(let o=0;o<T.specialKeys.length;o++){const i=T.specialKeys[o];if(t.startsWith(i)){e.push(i),t=t.slice(i.length),s=!0;break}}s||(e.push(t[0]),t=t.slice(1))}return e}),T.keybindingsForShortcut=((t,e)=>{const s=y();return e?t in e?e[t].filter(t=>-1===t.toLowerCase().indexOf("num")).map(T.splitStringIntoKeys):t in s?s[t]:null:null});class K extends o.PureComponent{constructor(){super(...arguments),this.keyShortcutPositionsInTab={},this.shortcutList={essential:{name:"Essential",columns:[[{shortcuts:[{shortcutKey:"toggle-ui",usage:"Press it now to quickly hide the panes and focus on your work"}]}],[{shortcuts:[{shortcutKey:"toggle-dropper",usage:"Grab a color from elsewhere without losing your flow"}]}],[{shortcuts:[{shortcutKey:"toggle-menu",usage:"Search through all of Figmas commands"}]}]]},tools:{name:"Tools",columns:[[{shortcuts:[{shortcutKey:"set-tool-default",displayName:"set-tool-default-desc",icon:c.svgForTool(n.Tool.SELECT)},{shortcutKey:"set-tool-frame",displayName:"set-tool-frame-desc",icon:c.svgForTool(n.Tool.FRAME)},{shortcutKey:"set-tool-pen",displayName:"set-tool-pen-desc",icon:c.svgForTool(n.Tool.VECTOR_PEN)},{shortcutKey:"set-tool-pencil",displayName:"set-tool-pencil-desc",icon:c.svgForTool(n.Tool.VECTOR_PENCIL)}]}],[{shortcuts:[{shortcutKey:"set-tool-type",displayName:"set-tool-type-desc",icon:c.svgForTool(n.Tool.TYPE)},{shortcutKey:"set-tool-rectangle",displayName:"set-tool-rectangle-desc",icon:c.svgForTool(n.Tool.SHAPE_RECTANGLE)},{shortcutKey:"set-tool-ellipse",displayName:"set-tool-ellipse-desc",icon:c.svgForTool(n.Tool.SHAPE_ELLIPSE)},{shortcutKey:"set-tool-line",displayName:"set-tool-line-desc",icon:c.svgForTool(n.Tool.SHAPE_LINE)},{shortcutKey:"set-tool-arrow",displayName:"set-tool-arrow-desc",icon:c.svgForTool(n.Tool.SHAPE_ARROW)}]}],[{shortcuts:[{shortcutKey:"set-tool-comments",icon:c.svgForTool(n.Tool.COMMENTS)},{shortcutKey:"toggle-dropper",icon:s(508                                                       )},{shortcutKey:"set-tool-slice",displayName:"set-tool-slice-desc",icon:c.svgForTool(n.Tool.SLICE)}]}]]},view:{name:"View",columns:[[{shortcuts:[{shortcutKey:"toggle-rulers"},{shortcutKey:"toggle-outlines"},{shortcutKey:"toggle-pixel-preview"}]}],[{shortcuts:[{shortcutKey:"toggle-shown-layout-grids"},{shortcutKey:"toggle-grid"}]}],[{shortcuts:[{shortcutKey:"toggle-ui"},{shortcutKey:"toggle-multiplayer-cursors"},{shortcutKey:"toggle-layers",displayName:"toggle-layers-desc"},{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc"},{shortcutKey:"toggle-library",displayName:"toggle-library-desc"}]}]]},zoom:{name:"Zoom",columns:[[{shortcuts:[{shortcutKey:"pan"},{shortcutKey:"zoom-in"},{shortcutKey:"zoom-out"},{shortcutKey:"zoom-reset"}]}],[{shortcuts:[{shortcutKey:"zoom-to-fit"},{shortcutKey:"zoom-to-selection"},{shortcutKey:"previous-artboard"},{shortcutKey:"next-artboard"}]}],[{shortcuts:[{shortcutKey:"page-previous"},{shortcutKey:"page-next"},{shortcutKey:"previous-artboard-same-zoom"},{shortcutKey:"next-artboard-same-zoom"}]}]]},text:{name:"Text",columns:[[{shortcuts:[{shortcutKey:"text-toggle-bold"},{shortcutKey:"text-toggle-italic"},{shortcutKey:"text-toggle-underline"},{shortcutKey:"paste-over-selection",displayName:"paste-and-match-style"}]}],[{shortcuts:[{shortcutKey:"text-align-left"},{shortcutKey:"text-align-center"},{shortcutKey:"text-align-right"},{shortcutKey:"text-align-justified"}]}],[{shortcuts:[{shortcutKey:"text-font-size-adjust"},{shortcutKey:"text-letter-spacing-adjust"},{shortcutKey:"text-line-height-adjust"}]}]]},shape:{name:"Shape",columns:[[{caption:"while-editing-shape",shortcuts:[{shortcutKey:"set-tool-pen",icon:c.svgForTool(n.Tool.VECTOR_PEN)},{shortcutKey:"set-tool-pencil",icon:c.svgForTool(n.Tool.VECTOR_PENCIL)},{shortcutKey:"set-tool-paint-bucket",icon:c.svgForTool(n.Tool.VECTOR_PAINT_BUCKET)},{shortcutKey:"bend-tool",icon:c.svgForTool(n.Tool.VECTOR_BEND)}]}],[{shortcuts:[{shortcutKey:"remove-fill"},{shortcutKey:"remove-stroke"},{shortcutKey:"swap-fill-and-stroke"},{shortcutKey:"outline-stroke"},{shortcutKey:"flatten-selection"}]}],[{caption:"after-selecting-points",shortcuts:[{shortcutKey:"join-selection"},{shortcutKey:"smooth-join-selection"},{shortcutKey:"delete-and-heal-selection"}]}]]},select:{name:"Selection",columns:[[{shortcuts:[{shortcutKey:"select-all"},{shortcutKey:"select-inverse"},{shortcutKey:"deselect-all"},{shortcutKey:"deep-select"},{shortcutKey:"deep-pick"}]}],[{shortcuts:[{shortcutKey:"select-child"},{shortcutKey:"select-parent"},{shortcutKey:"select-next-sibling"},{shortcutKey:"select-previous-sibling"}]}],[{shortcuts:[{shortcutKey:"group-selection"},{shortcutKey:"ungroup-selection"},{shortcutKey:"frame-selection"},{shortcutKey:"toggle-shown-for-selected-nodes"},{shortcutKey:"toggle-locked-for-selected-nodes"}]}]]},cursor:{name:"Cursor",columns:[[{caption:"while-pointing",shortcuts:[{shortcutKey:"measure-to-selection"}]},{caption:"while-moving",shortcuts:[{shortcutKey:"duplicate"}].concat(h.default().feature_flags.disable_reparent_during_drag?[{shortcutKey:"prevent-nesting"}]:[])}],[{caption:"while-clicking",shortcuts:[{shortcutKey:"deep-select"},{shortcutKey:"deep-pick"}]}],[{caption:"while-resizing",shortcuts:[{shortcutKey:"center-resize-drag"},{shortcutKey:"resize-proportionally"},{shortcutKey:"move-while-resizing"},{shortcutKey:"ignore-constraints",displayName:"ignore-constraints-desc"}]}]]},edit:{name:"Edit",columns:[[{shortcuts:[{shortcutKey:"copy"},{shortcutKey:"cut"},{shortcutKey:"paste"},{shortcutKey:"paste-over-selection"}]}],[{shortcuts:[{shortcutKey:"duplicate-in-place"},{shortcutKey:"rename-selection"},{shortcutKey:"export-selected-exportables",displayName:"export-selected-exportables-desc"}]}],[{shortcuts:[{shortcutKey:"copy-properties"},{shortcutKey:"paste-properties"}]}]]},transform:{name:"Transform",columns:[[{shortcuts:[{shortcutKey:"flip-horizontal"},{shortcutKey:"flip-vertical"},{shortcutKey:"mask-selection"}]}],[{shortcuts:[{shortcutKey:"request-edit-mode",displayName:"edit-shape-or-image"},{shortcutKey:"place"},{shortcutKey:"crop-image"}]}],[{shortcuts:[{shortcutKey:"set-opacity-1"},{shortcutKey:"set-opacity-5"},{shortcutKey:"set-opacity-0"}]}]]},arrange:{name:"Arrange",columns:[[{shortcuts:[{shortcutKey:"bring-forward"},{shortcutKey:"send-backward"},{shortcutKey:"bring-to-front"},{shortcutKey:"send-to-back"}]}],[{shortcuts:[{shortcutKey:"align-left"},{shortcutKey:"align-right"},{shortcutKey:"align-top"},{shortcutKey:"align-bottom"}]}],[{shortcuts:[{shortcutKey:"align-horizontal-center"},{shortcutKey:"align-vertical-center"},{shortcutKey:"tidy-up"},{shortcutKey:"distribute-horizontal-spacing"},{shortcutKey:"distribute-vertical-spacing"}]}]]},components:{name:"Components",columns:[[],[{shortcuts:[{shortcutKey:"toggle-publish",displayName:"toggle-publish-desc"},{shortcutKey:"create-symbol"},{shortcutKey:"detach-instance"},{shortcutKey:"choose-symbol"}]}]]}},this.state={activeTab:"essential",completedTabs:this.getCompletedTabs(this.props.usedKeyboardShortcuts),allTabsCompleted:this.allTabsCompleted(this.getCompletedTabs(this.props.usedKeyboardShortcuts)),tabCompletedAnimation:!1,tabCompletedFirstTimeAnimation:!1,allTabsCompletedAnimation:!1},this.onNavClick=(t=>{this.setState({activeTab:t,completedTabs:this.state.completedTabs,allTabsCompleted:this.state.allTabsCompleted,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation})}),this.getTabs=(()=>{const t=[];for(const e in this.shortcutList)t.push({name:this.shortcutList[e].name,id:e,active:this.state.activeTab==e,className:a.tab});return t}),this.replayAllTabsCompletedAnimation=(()=>{this.state.allTabsCompletedAnimation?this.stopAllTabsCompletedAnimation():this.playAllTabsCompletedAnimation(this.state.completedTabs)}),this.onClose=(()=>{r.fullscreen.triggerAction("toggle-keyboard-shortcuts")})}getCompletedTabs(t){const e={};for(const s in this.shortcutList){let o=!0;for(const e of this.shortcutList[s].columns)for(const s of e)for(const e of s.shortcuts)if(T.keybindingsForShortcut(e.shortcutKey,this.props.appModelKeyboardShortcuts)){if(!(T.shortcutUsedCount(e.shortcutKey,t)>0)){o=!1;break}}e[s]=o}return e}findChangedKey(t,e,s){for(const o of this.shortcutList[t].columns)for(const t of o)for(const o of t.shortcuts)if(T.keybindingsForShortcut(o.shortcutKey,this.props.appModelKeyboardShortcuts)){const t=T.shortcutUsedCount(o.shortcutKey,e);if(T.shortcutUsedCount(o.shortcutKey,s)>t)return o.shortcutKey}return null}allTabsCompleted(t){let e=!0;for(var s in t)if(!t[s]){e=!1;break}return e}playAllTabsCompletedAnimation(t){this.setState({completedTabs:t,allTabsCompleted:!0,tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1,allTabsCompletedAnimation:!0})}stopAllTabsCompletedAnimation(){this.setState({allTabsCompletedAnimation:!1})}playCompletedTabFirstTimeAnimation(t,e){setTimeout(()=>this.setState({completedTabs:e,tabCompletedFirstTimeAnimation:!0,tabCompletedAnimationKeyPosition:this.keyShortcutPositionsInTab[t],tabCompletedAnimation:!0}),1500),setTimeout(()=>this.setState({tabCompletedFirstTimeAnimation:!1,tabCompletedAnimation:!1}),6e3)}UNSAFE_componentWillReceiveProps(t){const e=this.getCompletedTabs(this.props.usedKeyboardShortcuts),s=this.getCompletedTabs(t.usedKeyboardShortcuts);if(!this.allTabsCompleted(s)||this.allTabsCompleted(e)){{const o=this.findChangedKey(this.state.activeTab,this.props.usedKeyboardShortcuts,t.usedKeyboardShortcuts);if(o&&s[this.state.activeTab]&&!e[this.state.activeTab])return void this.playCompletedTabFirstTimeAnimation(o,s)}this.setState({completedTabs:s,allTabsCompleted:this.allTabsCompleted(s)})}else this.playAllTabsCompletedAnimation(s)}renderTabContents(){const t={usedKeyboardShortcuts:this.props.usedKeyboardShortcuts,appModelStrings:this.props.appModelStrings,appModelKeyboardShortcuts:this.props.appModelKeyboardShortcuts};this.keyShortcutPositionsInTab={};let e=0;const s=s=>(e++,this.keyShortcutPositionsInTab[s.shortcutKey]=e,o.createElement(T,Object.assign({shortcutKey:s.shortcutKey,key:`shortcut-${this.state.activeTab}-${e}`,icon:s.icon,displayName:s.displayName,usage:s.usage,keyPosition:e,tabCompletedFirstTimeAnimation:this.state.tabCompletedFirstTimeAnimation,tabCompletedAnimation:this.state.tabCompletedAnimation,tabCompletedAnimationKeyPosition:this.state.tabCompletedAnimationKeyPosition,allTabsCompletedAnimation:this.state.allTabsCompletedAnimation},t))),i=this.shortcutList[this.state.activeTab].columns.map((e,i)=>o.createElement(g,Object.assign({},t,{key:`column-${i}`}),e.map((e,i)=>o.createElement(b,Object.assign({caption:e.caption,key:`category-${i}`},t),e.shortcuts.map(s)))));let r;switch(r=this.state.tabCompletedFirstTimeAnimation?a.tabContentsCompletedFirstTime:this.state.completedTabs[this.state.activeTab]?a.tabContentsCompleted:a.tabContents,this.state.activeTab){case"essential":return o.createElement("div",{className:r},o.createElement("div",{className:a.caption},"Essential Keyboard Shortcuts"),o.createElement("div",{className:a.contentsSpacedOut},i));default:return o.createElement("div",{className:r},o.createElement("div",{className:a.contents},i))}}render(){const t=this.getTabs();let e=a.nav;for(let s=0;s<t.length;s++)if(t[s].active){t[s].className=this.state.tabCompletedFirstTimeAnimation?a.tabActiveCompletedFirstTime:a.tabActive,s>0?t[s-1].className=a.tabLeftOfActive:e=a.navWithFirstTabActive,s<t.length-1?t[s+1].className=a.tabRightOfActive:e=a.navWithLastTabActive;break}return o.createElement("div",{className:a.keyboardShortcutPanel},o.createElement("nav",{className:e},t.map(t=>o.createElement("a",{key:`${t.name}-link`,className:t.className,"data-completed":this.state.completedTabs[t.id],onClick:this.onNavClick.bind(this,t.id)},t.name)),o.createElement("div",{className:a.closeX,onClick:this.onClose},o.createElement(l.Svg,{svg:p})),this.state.allTabsCompleted&&o.createElement("div",{className:this.state.allTabsCompletedAnimation?a.replayAnimationActive:a.replayAnimation,onClick:this.replayAllTabsCompletedAnimation},o.createElement(l.Svg,{svg:this.state.allTabsCompletedAnimation?u:m}))),this.renderTabContents())}}K.displayName="KeyboardShortcutPanel",e.KeyboardShortcutPanel=K,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,a,p){e.exports={resizeLineContainer:"pages_panel--resizeLineContainer--3EcNq",resizeLine:"pages_panel--resizeLine--1ni95",dragImage:"pages_panel--dragImage--1sExn",verticalFlexContainer:"pages_panel--verticalFlexContainer--3d2_R",objectPanelContent:"pages_panel--objectPanelContent--1FJNF",pagesPanelContent:"pages_panel--pagesPanelContent--2qjss",pagesHeaderContainer:"pages_panel--pagesHeaderContainer--dcdHl",chevron:"pages_panel--chevron--1CQI-",pagesHeaderContainerWithShadow:"pages_panel--pagesHeaderContainerWithShadow--3_9Ml pages_panel--pagesHeaderContainer--dcdHl",pagesHeaderText:"pages_panel--pagesHeaderText--1GE3u",renaming:"pages_panel--renaming--jG9wd",pagesRowSpacer:"pages_panel--pagesRowSpacer--3XD0S",pageRowSpacerInsertBefore:"pages_panel--pageRowSpacerInsertBefore--qfoxz pages_panel--pagesRowSpacer--3XD0S",pageRowSpacerInsertAfter:"pages_panel--pageRowSpacerInsertAfter--2u5C2 pages_panel--pagesRowSpacer--3XD0S",pageRowSpacerInsertBeforeTop:"pages_panel--pageRowSpacerInsertBeforeTop--1kUAt pages_panel--pagesRowSpacer--3XD0S",pageRowSpacerInsertAfterBottom:"pages_panel--pageRowSpacerInsertAfterBottom--3C9ZF pages_panel--pagesRowSpacer--3XD0S",pagesList:"pages_panel--pagesList--M2vLA",pageRow:"pages_panel--pageRow--2vEox",pageRowSvg:"pages_panel--pageRowSvg--2eQfK",pageRowSelected:"pages_panel--pageRowSelected--2YhW2",renameableNode:"pages_panel--renameableNode--gFFyO",renameableNodeText:"pages_panel--renameableNodeText--2DeQl ellipsis--ellipsis--1RWY6",newPageButton:"pages_panel--newPageButton--2rGpn",scrollContainer:"pages_panel--scrollContainer--2qUat",tab:"pages_panel--tab--3s1Y5",tabActive:"pages_panel--tabActive--JOVKa pages_panel--tab--3s1Y5",pageTab:"pages_panel--pageTab--3Ohc_",pageTabViewOnly:"pages_panel--pageTabViewOnly--FYzic",pageTabText:"pages_panel--pageTabText--3tl1n ellipsis--ellipsis--1RWY6",tabsHeader:"pages_panel--tabsHeader--p4Khp",tabsHeaderBordered:"pages_panel--tabsHeaderBordered--28fYc pages_panel--tabsHeader--p4Khp",assetsTab:"pages_panel--assetsTab--2Db-N",teamLibraryUpdatesIndicator:"pages_panel--teamLibraryUpdatesIndicator--aeTHA"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,f){t.exports={id:"gd485fb0f",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M1.176 2.824L3.06 4.706 6.824.941 8 2.118 3.059 7.059 0 4l1.176-1.176z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),n=t(38,1       ),a=t(199      ),r=t(143              ),i=t(342                                        ),p=t(1072               ),l=t(144                        ),h=t(391                                                                        ),c=t(1073                                          );class g extends r.PureComponent{constructor(e){super(e),this.onContextMenu=r.mouseEvent(this,"contextmenu",e=>{e.preventDefault(),this.props.onContextMenuCallback&&this.props.onContextMenuCallback(this.props.nodeId,e)}),this.inputRef=(e=>{if(e){n.findDOMNode(e).select()}}),this.onInputChange=r.changeEvent(this,"change",e=>{this.setState({renamingValue:e.currentTarget.value})}),this.onKeyDown=r.keyboardEvent(this,"keydown",e=>{if(e.keyCode===a.Key.ESCAPE)this.props.stopRenaming(!1);else if(e.keyCode===a.Key.ENTER)this.props.stopRenaming(!0,this.state.renamingValue);else{if(e.keyCode!==a.Key.TAB)return i.forwardInputKeyToFullscreenIfNecessary(e,i.ForwardUndo.NO),r.SKIP_RECORDING;e.preventDefault(),this.props.stopRenaming(!0,this.state.renamingValue)}}),this.onBlur=r.focusEvent(this,"blur",e=>{this.props.stopRenaming(!0,this.state.renamingValue)}),this.onDoubleClickName=r.mouseEvent(this,"dblclick",e=>{this.props.startRenaming(this.props.nodeId)}),this.onClick=r.mouseEvent(this,"click",e=>{null!=this.props.onClickCallback&&this.props.onClickCallback(this.props.nodeId,e)}),this.onDragStart=(e=>{null!=this.props.onDragStartCallback&&this.props.onDragStartCallback(this.props.nodeId,e)}),this.onDragOver=(e=>{null!=this.props.onDragOverCallback&&this.props.onDragOverCallback(this.props.nodeId,e)}),this.onDragDrop=(e=>{null!=this.props.onDragDropCallback&&this.props.onDragDropCallback(this.props.nodeId,e)}),this.onDragLeave=(e=>{null!=this.props.onDragLeaveCallback&&this.props.onDragLeaveCallback(this.props.nodeId,e)}),this.onMouseUp=(e=>{null!=this.props.onDragDropCallback&&this.props.onDragDropCallback(this.props.nodeId,e)}),this.state={renamingValue:null}}UNSAFE_componentWillReceiveProps(e){!this.props.isRenaming&&e.isRenaming&&this.setState({renamingValue:e.nodeName})}render(){const e=this.props.width?this.props.width-64:150;return o.createElement("div",{className:`${p.pageRow} ${this.props.isSelected?p.pageRowSelected:""}`,onContextMenu:this.onContextMenu,onClick:this.onClick,draggable:!0,onDragStart:this.onDragStart,onDragOver:this.onDragOver,onDrop:this.onDragDrop,onMouseUp:this.onMouseUp,onDragLeave:this.onDragLeave,onDoubleClick:this.onDoubleClickName},o.createElement(l.Svg,{className:p.pageRowSvg,svg:c}),this.props.isRenaming&&o.createElement(h.TextInput,{className:p.renaming,ref:this.inputRef,value:this.state.renamingValue,onChange:this.onInputChange,onKeyDown:this.onKeyDown,onBlur:this.onBlur,spellCheck:!1,autoCorrect:"off",autoCapitalize:"off"}),!this.props.isRenaming&&o.createElement("div",{className:p.renameableNode},o.createElement("span",{className:p.renameableNodeText,style:{maxWidth:e}},this.props.shouldShowGuids?`${this.props.nodeName} (${this.props.nodeId})`:this.props.nodeName)))}}g.displayName="PagesRowItem",s.PagesRowItem=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"g2081b59b",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M.646 4.647l.708.707L4 2.707l2.646 2.647.708-.707L4 1.293.646 4.647z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"gca481a5d",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M.646 3.354l.708-.708L4 5.293l2.646-2.647.708.708L4 6.707.646 3.354z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))(function(a,n){function r(e){try{l(i.next(e))}catch(t){n(t)}}function o(e){try{l(i.throw(e))}catch(t){n(t)}}function l(e){e.done?a(e.value):new s(function(t){t(e.value)}).then(r,o)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),n=s(232                        ),r=s(1426                               ),o=s(143              ),l=s(174          ),h=s(219          ),p=s(709                                                                 ),g=s(688                                                     ),d=s(341                              ),c=s(1471                    ),u=s(1417                       ),m=s(371                       ),f=s(1072               ),P=s(341                              ),S=s(474                               ),w=s(685                             ),v=s(517                                        ),R=s(376                                                  ),b=s(144                        ),E=s(301           ),_=s(129                               ),L=s(391                                                                        ),N=s(389                                                                  ),T=s(1074               ),C=s(439                                                       ),G=s(440                                                         ),y=s(1075                                      ),O=s(1076                                        ),H=40,M=32;class I extends o.PureComponent{constructor(){super(...arguments),this.lastResizeY=0,this.startResizeY=0,this.startHeight=0,this.dragPaneImageRef=null,this.scrollContainerRef=(e=>{this.scrollContainer=e}),this.state={renamingPageGuid:null,renamingNodeGuid:null,reorderingPageGuid:null,dragOverPageGuid:null,draggingBefore:!1,currentPageGuidBeforeNewPage:null,needsScrollLine:!1,isResizing:!1,height:null,cachedInnerHeight:0,isOpen:!1,stickyOffset:0,pagesListInitialScrollTop:null,viewMode:p.ComponentsSidebarViewMode.Grid},this.updateStickyOffset=(()=>{if(this.stickyBelowRef){const e=this.stickyBelowRef.getBoundingClientRect();this.setState({stickyOffset:e.bottom})}else{const e=!this.state.isOpen||this.props.showTabs?S.LEFT_NAV_HEIGHT__REFRESH:0;this.setState({stickyOffset:S.TOOLBAR_HEIGHT__REFRESH+e-1})}}),this.updateLocalStorageSettings=((e,t)=>i(this,void 0,void 0,function*(){if(l.localStorageOrNull){const s=JSON.parse(l.localStorageOrNull.getItem("pages-panel"))||{};s[this.props.editingFileKey]={height:e,isOpen:t},l.localStorageOrNull.setItem("pages-panel",JSON.stringify(s))}})),this.getLocalStorageSettings=(()=>i(this,void 0,void 0,function*(){if(l.localStorageOrNull){return(JSON.parse(l.localStorageOrNull.getItem("pages-panel"))||{})[this.props.editingFileKey]}})),this.setNeedsScrollLine=(()=>{if(this.scrollContainer){let e=0<this.scrollContainer.getScrollTop();this.state.needsScrollLine!==e&&this.setState({needsScrollLine:e})}}),this.scrollViewToPage=(e=>{const t=this.positionOfPageInList(e),s=t+M;if(this.scrollContainer){const e=this.scrollContainer.getScrollTop(),i=e+this.scrollContainer.getTrackHeight();if(t<e)this.scrollContainer.scrollTo(t-M/2);else if(s>i){const t=s-i;this.scrollContainer.scrollTo(e+t+M/2)}}}),this.onFullscreenStartRenamingPage=(({nodeId:e})=>{this.startRenamingPage(e)}),this.onPageClicked=((e,t)=>{d.setCurrentPageFromNode(e),this.props.currentPageGuid!==e&&r.fullscreen.trackFromFullscreen("action_page_switch")}),this.onContextClick=o.mouseEvent(this,"contextmenu",e=>{this.onContextMenu(this.props.currentPageGuid,e)}),this.onContextClickNothing=(e=>{e.preventDefault(),e.stopPropagation()}),this.onContextMenu=((e,t)=>{if(t.stopPropagation(),t.preventDefault(),this.props.canEdit){const{clientX:s,clientY:i}=t;this.props.dispatch(n.fileBrowser.showDropdown({type:w.DROPDOWN_TYPE_PAGE_CONTEXT_MENU,data:{clientX:s,clientY:i,nodeId:e}}))}}),this.forcePagesExpanded=(()=>{this.showLayersPanel(),this.state.isOpen||this.setState({isOpen:!0}),h.segmentTrackEvent("pages_panel_open_toggle",{isOpen:!0})}),this.togglePagesExpanded=(e=>{h.segmentTrackEvent("pages_panel_open_toggle",{isOpen:!this.state.isOpen}),this.setState({isOpen:!this.state.isOpen})}),this.showPublish=(()=>{h.segmentTrackEvent("left_panel_set_tab",{value:"Components"}),this.props.dispatch(n.fullscreen.setLeftPanelTab({tab:_.LeftPanelTab.PUBLISH}))}),this.showLayersPanel=(()=>{h.segmentTrackEvent("left_panel_set_tab",{value:"Layers"}),this.props.dispatch(n.fullscreen.setLeftPanelTab({tab:_.LeftPanelTab.LAYERS}))}),this.startRenamingPage=(e=>{this.props.readonly||(this.forcePagesExpanded(),this.scrollViewToPage(e),this.setState({renamingPageGuid:e}))}),this.stopRenamingPage=((e,t)=>{this.props.readonly||(this.state.renamingPageGuid&&e&&(t=t||"",P.setName(this.state.renamingPageGuid,t),r.fullscreen.commit()),this.setState({renamingPageGuid:null}))}),this.onFullscreenStartRenamingNode=(({nodeId:e})=>{this.startRenamingNode(e)}),this.startRenamingNode=(e=>{if(this.props.readonly)return;this.props.dispatch(n.fullscreen.setLeftPanelTab({tab:_.LeftPanelTab.LAYERS})),this.setState({renamingNodeGuid:e});const t=this.props.sceneGraph.get(e);t&&t.parent&&P.expandUpToRoot(t.parent)}),this.stopRenamingNode=((e,t)=>{this.props.readonly||(this.state.renamingNodeGuid&&e&&(t=t||"",P.setName(this.state.renamingNodeGuid,t),r.fullscreen.commit()),this.setState({renamingNodeGuid:null}))}),this.onNewPage=o.mouseEvent(this,"click",e=>{e.preventDefault(),e.stopPropagation(),this.props.canEdit&&(this.setState({currentPageGuidBeforeNewPage:this.props.currentPageGuid}),r.fullscreen.triggerAction("page-new"),r.fullscreen.commit())}),this.onDragStart=((e,t)=>{let s=t;s.dataTransfer.setData("text",e),s.dataTransfer.dropEffect="none",s.dataTransfer.effectAllowed="move",this.dragPaneImageRef&&s.dataTransfer.setDragImage(this.dragPaneImageRef,10,10),this.setState({reorderingPageGuid:e,dragOverPageGuid:null})}),this.onDragLeave=((e,t)=>{this.state.dragOverPageGuid===e&&this.setState({dragOverPageGuid:null}),t.stopPropagation()}),this.onDragOver=((e,t)=>{const s=t.target;this.state.dragOverPageGuid!==e&&(this.cachedDragOverBounds=s.getBoundingClientRect());let i=t.clientY-this.cachedDragOverBounds.top;null!==this.state.reorderingPageGuid&&(e!==this.state.reorderingPageGuid&&this.setState({dragOverPageGuid:e,draggingBefore:i<this.cachedDragOverBounds.height/2}),t.preventDefault(),t.stopPropagation())}),this.onDragDrop=((e,t)=>{null!=this.state.reorderingPageGuid&&(this.state.draggingBefore?_.SceneGraphHelpers.pageMoveBeforePage(this.state.reorderingPageGuid,e):_.SceneGraphHelpers.pageMoveAfterPage(this.state.reorderingPageGuid,e),this.setState({reorderingPageGuid:null,dragOverPageGuid:null}),t.preventDefault(),t.stopPropagation())}),this.onEdgeMouseDown=(e=>{e.preventDefault(),e.stopPropagation(),this.startResizeY=this.lastResizeY=e.clientY,this.startHeight=e.clientY-(S.TOOLBAR_HEIGHT+(this.props.readonly?0:S.LEFT_NAV_HEIGHT__REFRESH)+M),this.setState({isResizing:!0,height:this.startHeight}),P.setHoveredNode(null)}),this.clampValidHeight=(e=>{const t=1.5*M,s=Math.round(this.state.cachedInnerHeight-(this.props.readonly?0:S.TOOLBAR_HEIGHT__REFRESH)-S.LEFT_NAV_HEIGHT__REFRESH-H-M);return Math.max(t,Math.min(e,s))}),this.onMouseMove=(e=>{if(this.state.isResizing&&(e.preventDefault(),e.stopPropagation(),P.setHoveredNode(null),e.clientY!==this.lastResizeY)){const t=this.clampValidHeight(this.startHeight+e.clientY-this.startResizeY);this.setState({height:t}),this.lastResizeY=e.clientY}}),this.onMouseUp=(e=>{this.setState({isResizing:!1})}),this.onWindowSize=(e=>{this.windowResizeHandler()}),this.windowResizeHandler=E.debounce(()=>{this.setState({cachedInnerHeight:window.innerHeight})},45),this.showInsertBefore=(e=>this.state.dragOverPageGuid===e&&this.state.draggingBefore),this.showInsertAfter=(e=>this.state.dragOverPageGuid===e&&!this.state.draggingBefore),this.setStickyBelowRef=(e=>{this.stickyBelowRef=e}),this.setDragImageRef=(e=>{this.dragPaneImageRef=e}),this.isDragTarget=(e=>!0),this.onFileDragEnter=(e=>{}),this.onFileDragLeave=(e=>{}),this.onFileDrop=(e=>{}),this.toggleViewMode=(()=>{this.setState({viewMode:this.state.viewMode===p.ComponentsSidebarViewMode.Grid?p.ComponentsSidebarViewMode.List:p.ComponentsSidebarViewMode.Grid})}),this.isLibraryModalShown=(()=>this.props.modalShown&&this.props.modalShown.type===u.AppModal.LIBRARY_PREFERENCES_MODAL),this.toggleLibraryModal=(()=>{h.segmentTrackEvent("toggle_library_modal"),this.isLibraryModalShown()?this.props.dispatch(n.fileBrowser.hideModal()):this.props.dispatch(n.fileBrowser.showModal({type:u.AppModal.LIBRARY_PREFERENCES_MODAL,data:{tab:m.LibraryPreferencesModalTab.LIBRARIES}}))}),this.resetHeight=(()=>{this.setState({height:null})})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.setState({cachedInnerHeight:window.innerHeight})}componentDidMount(){r.fullscreen.fromFullscreen.on("startRenamingPage",this.onFullscreenStartRenamingPage),r.fullscreen.fromFullscreen.on("startRenamingNode",this.onFullscreenStartRenamingNode),document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp),window.addEventListener("resize",this.onWindowSize),null!=this.props.currentPageGuid&&this.scrollViewToPage(this.props.currentPageGuid),this.initializePagesPanelSettings()}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("resize",this.onWindowSize),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp),r.fullscreen.fromFullscreen.removeListener("startRenamingPage",this.onFullscreenStartRenamingPage),r.fullscreen.fromFullscreen.removeListener("startRenamingNode",this.onFullscreenStartRenamingNode)}UNSAFE_componentWillUpdate(e,t){this.state.currentPageGuidBeforeNewPage&&this.state.currentPageGuidBeforeNewPage!==this.props.currentPageGuid&&this.startRenamingPage(this.props.currentPageGuid),this.state.renamingPageGuid===t.renamingPageGuid||this.scrollContainer||this.setState({pagesListInitialScrollTop:this.positionOfPageInList(t.renamingPageGuid)-M/2}),this.updateStickyOffset()}componentDidUpdate(e,t){super.componentDidUpdate(),e&&this.state.isOpen!==t.isOpen&&this.updateStickyOffset(),this.state.currentPageGuidBeforeNewPage&&this.state.currentPageGuidBeforeNewPage!==this.props.currentPageGuid&&(this.setState({currentPageGuidBeforeNewPage:null}),this.scrollContainer&&this.scrollContainer.scrollToBottom());const s=e.activeTab!==this.props.activeTab&&this.props.leftPanel.activeTab===_.LeftPanelTab.PUBLISH,i=t.viewMode!==this.state.viewMode;(s||i)&&h.segment.track("Component Sidebar Viewed",{viewMode:p.viewModeToString(this.state.viewMode)}),this.setNeedsScrollLine(),e.editingFileKey!==this.props.editingFileKey&&this.initializePagesPanelSettings(),e.editingFileKey!==this.props.editingFileKey||t.isOpen===this.state.isOpen&&t.height===this.state.height||this.updateLocalStorageSettings(this.state.height,this.state.isOpen)}defaultHeight(){let e=this.props.pagesList.length*M;e=Math.ceil(e/M)*M,e+=M/2;const t=Math.round(.25*(this.state.cachedInnerHeight-S.TOOLBAR_HEIGHT__REFRESH-S.LEFT_NAV_HEIGHT__REFRESH-H));return Math.min(e,t)}initializePagesPanelSettings(){return i(this,void 0,void 0,function*(){const e=yield this.getLocalStorageSettings();e?this.setState({height:e.height,isOpen:e.isOpen}):this.setState({isOpen:this.props.pagesList.length>1})})}positionOfPageInList(e){const t=this.props.pagesList.findIndex(t=>t.nodeId===e);return-1!==t?t*M:0}renderHeaderRow(){return this.props.canEdit?a.createElement("div",{className:this.state.needsScrollLine?f.pagesHeaderContainerWithShadow:f.pagesHeaderContainer},a.createElement("div",{className:f.pagesHeaderText,onContextMenu:this.onContextClickNothing},"Pages"),a.createElement(N.IconButton,{className:f.newPageButton,recordingKey:o.joinKeys(this.props,"newPage"),"data-tooltip-text":"Add New Page",svg:C,fallbackSvg:G,onClick:this.onNewPage})):a.createElement("div",{className:this.state.needsScrollLine?f.pagesHeaderContainerWithShadow:f.pagesHeaderContainer,onClick:this.togglePagesExpanded},a.createElement("div",{className:f.pagesHeaderText,onContextMenu:this.onContextClickNothing},"Pages",a.createElement(b.Svg,{className:f.chevron,svg:y})))}computedHeight(){return this.state.height?this.clampValidHeight(this.state.height):this.defaultHeight()}renderPagesList(){return this.props.pagesList?a.createElement(v.DragTarget,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onFileDragEnter,onTargetDragLeave:this.onFileDragLeave,onTargetDrop:this.onFileDrop},a.createElement("div",{style:{height:this.computedHeight()},className:f.pagesList},a.createElement(R.ScrollContainer,{scrollBarAlways:!1,ref:this.scrollContainerRef,className:f.scrollContainer,width:this.props.width,showScrollbar:!0,onScroll:this.setNeedsScrollLine,initialScrollTop:this.state.pagesListInitialScrollTop},this.props.pagesList.map((e,t)=>{let s=f.pagesRowSpacer;return this.showInsertBefore(e.nodeId)?s=0===t?f.pageRowSpacerInsertBeforeTop:f.pageRowSpacerInsertBefore:this.showInsertAfter(e.nodeId)&&(s=t===this.props.pagesList.length-1?f.pageRowSpacerInsertAfterBottom:f.pageRowSpacerInsertAfter),a.createElement("div",{className:s,key:e.nodeId},a.createElement(T.PagesRowItem,{width:this.props.width,recordingKey:o.joinKeys(this.props,"row",t),nodeId:e.nodeId,nodeName:e.name,shouldShowGuids:this.props.shouldShowGuids,isRenaming:this.state.renamingPageGuid===e.nodeId,startRenaming:this.startRenamingPage,stopRenaming:this.stopRenamingPage,dispatch:this.props.dispatch,isSelected:this.props.currentPageGuid===e.nodeId,onDragStartCallback:this.onDragStart,onDragDropCallback:this.onDragDrop,onDragOverCallback:this.onDragOver,onDragLeaveCallback:this.onDragLeave,onClickCallback:this.onPageClicked,onContextMenuCallback:this.onContextMenu,onNewPageClick:this.onNewPage}))})))):null}render(){const e=this.props.canEdit?this.props.width-155:void 0,t=this.state.isOpen&&this.props.activeTab===_.LeftPanelTab.LAYERS?y:O;return a.createElement("div",{className:`${f.verticalFlexContainer} pagesPanel`,style:{width:this.props.width}},(!this.state.isOpen||this.props.showTabs)&&a.createElement("div",{className:f.tabsHeaderBordered},this.props.showTabs&&a.createElement(a.Fragment,null,a.createElement(L.RecordableDiv,{className:this.props.activeTab===_.LeftPanelTab.LAYERS?f.tabActive:f.tab,onClick:this.showLayersPanel,onContextMenu:this.onContextClickNothing,"data-label":"Layers",recordingKey:o.joinKeys(this.props,"tab","layers")},"Layers"),a.createElement(L.RecordableDiv,{className:f.assetsTab,onClick:this.showPublish,onContextMenu:this.onContextClickNothing,recordingKey:o.joinKeys(this.props,"tab","assets")},this.props.hasTeamLibraryUpdates&&a.createElement("span",{className:f.teamLibraryUpdatesIndicator}),a.createElement("div",{className:this.props.activeTab===_.LeftPanelTab.PUBLISH?f.tabActive:f.tab,"data-label":"Assets"},"Assets"))),a.createElement(L.RecordableDiv,{className:`${f.pageTab} ${!this.props.showTabs&&f.pageTabViewOnly}`,onClick:this.props.activeTab===_.LeftPanelTab.PUBLISH?this.forcePagesExpanded:this.togglePagesExpanded,onContextMenu:this.onContextClick,recordingKey:o.joinKeys(this.props,"collapsedRow")},a.createElement("span",{className:f.pageTabText,style:{maxWidth:e}},this.props.currentPageName),a.createElement(b.Svg,{className:f.chevron,svg:t}))),this.props.activeTab===_.LeftPanelTab.LAYERS&&this.state.isOpen&&a.createElement("div",{ref:this.setStickyBelowRef,className:f.pagesPanelContent},this.renderHeaderRow(),this.renderPagesList(),a.createElement("div",{className:f.dragImage,ref:this.setDragImageRef})),a.createElement("div",{className:f.resizeLineContainer},a.createElement("div",{className:f.resizeLine,onMouseDown:this.onEdgeMouseDown,onDoubleClick:this.resetHeight})),this.props.activeTab===_.LeftPanelTab.LAYERS&&a.createElement("div",{className:f.objectPanelContent},a.createElement(g.ObjectsPanelView,{dispatch:this.props.dispatch,hidden:this.props.hidden,readonly:this.props.readonly,sceneGraph:this.props.sceneGraph,sceneGraphSelection:this.props.sceneGraphSelection,objectsPanelRowRebuildCounter:this.props.objectsPanelRowRebuildCounter,hoveredNode:this.props.hoveredNode,currentPage:this.props.currentPageGuid,width:this.props.width,shouldShowGuids:this.props.shouldShowGuids,recordingKey:"objectsPanel",stickyOffset:this.state.stickyOffset,renamingGuid:this.state.renamingNodeGuid,startRenaming:this.startRenamingNode,stopRenaming:this.stopRenamingNode})),this.props.activeTab===_.LeftPanelTab.PUBLISH&&a.createElement(p.ComponentsSidebar,Object.assign({},c.stateWithoutMirror(this.props),{width:this.props.width,sceneGraphSelection:this.props.mirror.sceneGraphSelection,sceneGraph:this.props.mirror.sceneGraph,subscribedComponents:this.props.mirror.appModel.subscribedComponents,recordingKey:"componentsSidebar",viewMode:this.state.viewMode,toggleViewMode:this.toggleViewMode,toggleLibraryModal:this.toggleLibraryModal,isLibraryModalShown:this.isLibraryModalShown()})))}}I.displayName="PagesPanelView",t.PagesPanelView=I,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={panelContainer:"left_panel--panelContainer--1OR1n",panelContainerResizing:"left_panel--panelContainerResizing--1JBdC left_panel--panelContainer--1OR1n",edge:"left_panel--edge--3mQJa",panelContainerHidden:"left_panel--panelContainerHidden--1AWKi left_panel--panelContainer--1OR1n",content:"left_panel--content--35qKc",indicator:"left_panel--indicator--3hhDl",tabActive:"left_panel--tabActive--3bJQm"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(34,1   ),o=t(341                              ),r=t(143              ),n=t(177                             ),p=t(604                             ),a=t(281                                  ),d=t(1077                                                ),l=t(1078              ),h=t(374                            ),c=t(1427                      ),u=200,m=500;function M(e){return Math.max(u,Math.min(m,e||0))}class g extends r.Component{constructor(){super(...arguments),this.state={isResizing:!1},this.isShown=(()=>this.props.user&&this.props.mirror.appModel.showUi&&this.props.mirror.appModel.showSidebar&&(this.props.mirror.appModel.topLevelMode===p.TopLevelMode.LAYOUT||this.props.mirror.appModel.topLevelMode===p.TopLevelMode.HISTORY||this.props.isDevHandoffActive)),this.width=(()=>M(this.props.mirror.appModel.sidebarSplitPosition)),this.onEdgeMouseDown=r.mouseEvent(this,"mousedown",e=>{this.setState({isResizing:!0}),this.lastRecordedClientX=e.clientX},{recordMetadata:e=>null,playbackMetadata:e=>({clientX:this.width()})}),this.onMouseMove=r.mouseEvent(this,"mousemove",e=>{if(!this.state.isResizing)return r.SKIP_RECORDING;{const s=M(e.clientX);s!==this.width()&&o.setObjectsPanelWidth(s)}},{recordMetadata:e=>{const s=e.clientX-this.lastRecordedClientX;return this.lastRecordedClientX=e.clientX,{diffX:s}},playbackMetadata:e=>{const s=this.lastRecordedClientX+e.diffX;return this.lastRecordedClientX=s,{clientX:s}}}),this.onMouseUp=r.mouseEvent(this,"mouseup",e=>{if(!this.state.isResizing)return r.SKIP_RECORDING;this.setState({isResizing:!1})})}recordingKey(){return"leftPanel"}componentDidMount(){document.addEventListener("mousemove",this.onMouseMove),document.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("mousemove",this.onMouseMove),document.removeEventListener("mouseup",this.onMouseUp)}render(){if(!this.props.mirror.appModel.currentPage)return null;const e=!this.props.mirror.appModel.isReadOnly&&this.props.mirror.appModel.topLevelMode!==p.TopLevelMode.HISTORY,s=e,t=this.state.isResizing?l.panelContainerResizing:this.isShown()?l.panelContainer:l.panelContainerHidden,o=a.currentCanvasNodeId(this.props.mirror.appModel),r=this.props.mirror.sceneGraph.get(o),u=c.hasPendingUpdatesToPublish(this.props),m=h.numUpdates(this.props.library)>0;return i.createElement("div",{className:`${t} ${n.PREVENT_EVENT_CAPTURE}`,style:{width:this.width()}},i.createElement("div",{className:l.content},i.createElement(d.PagesPanelView,Object.assign({recordingKey:"pagesPanel",dispatch:this.props.dispatch,hidden:!this.isShown(),readonly:this.props.isDevHandoffActive||!e,sceneGraph:this.props.mirror.sceneGraph,sceneGraphSelection:this.props.mirror.sceneGraphSelection,objectsPanelRowRebuildCounter:this.props.mirror.objectsPanelRowRebuildCounter,hoveredNode:this.props.mirror.appModel.hoveredNode,currentPageGuid:o,currentPageName:r?r.name:null,width:this.width(),pagesList:this.props.mirror.appModel.pagesList,shouldShowGuids:this.props.mirror.appModel.showGuids,dropdownShown:this.props.dropdownShown,canEdit:e,pageContainingNode:this.props.pageContainingNode,hasTeamLibraryUpdates:m||u,activeTab:this.props.leftPanel.activeTab,showTabs:s},this.props))),i.createElement("div",{className:l.edge,style:{left:this.width()},onMouseDown:this.onEdgeMouseDown}))}}g.displayName="LeftPanel",s.LeftPanel=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,o){n.exports={panel:"align_panel--panel--3nNpm",alignButton:"align_panel--alignButton--YHQL0",alignButtonIconButton:"align_panel--alignButtonIconButton--1OMO3",alignButtonChevron:"align_panel--alignButtonChevron--7Pd08",alignButtonChevronDisabled:"align_panel--alignButtonChevronDisabled--218ZS align_panel--alignButtonChevron--7Pd08",dropdownButton:"align_panel--dropdownButton--1U5cG",dropdownButtonActive:"align_panel--dropdownButtonActive--3hPBu align_panel--dropdownButton--1U5cG"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,h,s){t.exports={id:"ga866b94c",src:'<svg width="14" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M13.5 1V0H.5v1h13zm-8 12V3h-2v10h2zm5-10v6h-2V3h2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,t,v){h.exports={id:"g1f09ee36",src:'<svg width="14" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 5.5v-5h2v5h3v-3h2v3h3v1h-3v3h-2v-3h-3v5h-2v-5h-3v-1h3z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,h,s){t.exports={id:"gba97b905",src:'<svg width="14" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 0v10h-2V0h2zm8 12v1H.5v-1h13zm-3-2V4h-2v6h2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g433cc8d3",src:'<svg width="13" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M1 13.5H0V.5h1v13zm12-8H3v-2h10v2zm-10 5h6v-2H3v2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,t,v){h.exports={id:"gb9772318",src:'<svg width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M6.5.5h-1v3h-5v2h5v3h-3v2h3v3h1v-3h3v-2h-3v-3h5v-2h-5v-3z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,s,h){t.exports={id:"gb988a1f7",src:'<svg width="13" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M12 13.5h1V.5h-1v13zm-12-8h10v-2H0v2zm10 5H4v-2h6v2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g5f8278b8",src:'<svg width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M1 13.5V.5H0v13h1zm11-13v13h-1V.5h1zm-5 3v7H5v-7h2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g9a9d65eb",src:'<svg width="14" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M.5 0h13v1H.5V0zm3 5h7v2h-7V5zm10 6H.5v1h13v-1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gd9e5ee80",src:'<svg width="14" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M.5 0h13v2H.5V0zm0 5h13v2H.5V5zm13 5H.5v2h13v-2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"g48788276",src:'<svg width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M0 13.5V.5h2v13H0zm5 0V.5h2v13H5zm5-13v13h2V.5h-2z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,v,t){h.exports={id:"g18deeb0a",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h2v2H0V0zm10 0h2v2h-2V0zM2 5H0v2h2V5zm8 0h2v2h-2V5zm-8 5H0v2h2v-2zm8 0h2v2h-2v-2zM7 0H5v2h2V0zM5 5h2v2H5V5zm2 5H5v2h2v-2z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,e,s){t.exports={id:"g7eb1ac71",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M5 13V3H3v10h2zm8-12V0H0v1h13zm-3 2v6H8V3h2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g6e24d9b9",src:'<svg width="14" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M3 5V0h2v5h3V2h2v3h3v1h-3v3H8V6H5v5H3V6H0V5h3z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g4f9bb51d",src:'<svg width="14" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M5 0v10H3V0h2zm8 12v1H0v-1h13zm-3-2V4H8v6h2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g616aa929",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M1 13H0V0h1v13zm12-8H3V3h10v2zM3 10h6V8H3v2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,h){t.exports={id:"gf0bf8590",src:'<svg width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M6 0H5v3H0v2h5v3H2v2h3v3h1v-3h3V8H6V5h5V3H6V0z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g3d038eb5",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M13 13h1V0h-1v13zM1 5h10V3H1v2zm10 5H5V8h6v2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g5c641853",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M2 13V0H1v13h1zM13 0v13h-1V0h1zM8 3v7H6V3h2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"ga68095ff",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M0 1h13v1H0V1zm3 5h7v2H3V6zm10 6H0v1h13v-1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g1330547f",src:'<svg width="13" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 .429h12.071v1.857H0V.429zM0 5.07h12.071V6.93H0V5.07zm12.071 4.643H0v1.857h12.071V9.714z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g5381dafc",src:'<svg width="12" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M0 13V0h2v13H0zm5 0V0h2v13H5zm5-13v13h2V0h-2z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,v,t){h.exports={id:"g53989cef",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v3H0V0zm10 0h3v3h-3V0zM5 0h3v3H5V0zM0 5h3v3H0V5zm10 0h3v3h-3V5zM5 5h3v3H5V5zm-5 5h3v3H0v-3zm10 0h3v3h-3v-3zm-5 0h3v3H5v-3z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=t(34,1   ),s=t(143              ),n=t(232                        ),r=t(1426                               ),o=t(281                                  ),p=t(282                             ),l=t(391                               ),c=t(389                         ),g=t(1080               ),_=t(144                        ),d=t(674                                                             ),u=t(1043                                                    ),m="FULLSCREEN_DISTRIBUTE_DROPDOWN",h=t(475                                                     ),f={"align-top":t(1081                                                           ),"align-vertical-center":t(1082                                                                       ),"align-bottom":t(1083                                                              ),"align-left":t(1084                                                            ),"align-horizontal-center":t(1085                                                                         ),"align-right":t(1086                                                             ),"distribute-horizontal-spacing":t(1087                                                                               ),"distribute-vertical-spacing":t(1088                                                                             ),"arrange-as-list-Y":t(1089                                                                          ),"arrange-as-list-X":t(1090                                                                            ),"arrange-as-grid":t(1091                                                                 )},E={"align-top":t(1092                                                             ),"align-vertical-center":t(1093                                                                         ),"align-bottom":t(1094                                                                ),"align-left":t(1095                                                              ),"align-horizontal-center":t(1096                                                                           ),"align-right":t(1097                                                               ),"distribute-horizontal-spacing":t(1098                                                                                 ),"distribute-vertical-spacing":t(1099                                                                               ),"arrange-as-list-Y":t(1100                                                                            ),"arrange-as-list-X":t(1101                                                                              ),"arrange-as-grid":t(1102                                                                   )},b=["tidy-up","distribute-vertical-spacing","distribute-horizontal-spacing"];class R extends a.PureComponent{constructor(){super(...arguments),this.dropdownTargetRef=(e=>{this.dropdownTargetEl=e}),this.isDropdownShown=(()=>{const{dropdownShown:e}=this.props;return e&&e.type===m}),this.getDropdownButtonActionAndIcon=(()=>{let e;const i="tidy-up"===(e=o.isActionEnabled(this.props.appModel,"tidy-up")?"tidy-up":"distribute-horizontal-spacing")?this.getTidyUpIcon():{icon:f[e],fallbackIcon:E[e]};return Object.assign({action:e},i)}),this.getTidyUpIcon=(()=>o.isActionEnabled(this.props.appModel,"arrange-as-grid")?{icon:f["arrange-as-grid"],fallbackIcon:E["arrange-as-grid"]}:{icon:f[`arrange-as-list-${p.getValue(this.props.detectableListAxis,"Y")}`],fallbackIcon:E[`arrange-as-list-${p.getValue(this.props.detectableListAxis,"Y")}`]}),this.renderDistributeDropdown=(()=>{const{icon:e,fallbackIcon:i}=this.getTidyUpIcon();return a.createElement(d.PointingDropdown,{targetRect:this.props.dropdownShown.data.targetRect},a.createElement(v,Object.assign({action:"tidy-up",icon:e,fallbackSvg:i,isEnabled:o.isActionEnabled(this.props.appModel,"tidy-up")},this.props)),a.createElement(v,Object.assign({action:"distribute-vertical-spacing",isEnabled:o.isActionEnabled(this.props.appModel,"distribute-vertical-spacing")},this.props)),a.createElement(v,Object.assign({action:"distribute-horizontal-spacing",isEnabled:o.isActionEnabled(this.props.appModel,"distribute-horizontal-spacing")},this.props)))}),this.onShowMoreClick=(()=>{this.props.dispatch(n.fileBrowser.showDropdown({type:m,data:{targetRect:this.dropdownTargetEl?this.dropdownTargetEl.getBoundingClientRect():null}}))})}render(){const e=b.some(e=>o.isActionEnabled(this.props.appModel,e)),{icon:i,fallbackIcon:t}=this.getDropdownButtonActionAndIcon();return a.createElement(l.Panel,{className:g.panel},a.createElement(l.Row,null,a.createElement(S,Object.assign({action:"align-left"},this.props)),a.createElement(S,Object.assign({action:"align-horizontal-center"},this.props)),a.createElement(S,Object.assign({action:"align-right"},this.props)),a.createElement(S,Object.assign({action:"align-top"},this.props)),a.createElement(S,Object.assign({action:"align-vertical-center"},this.props)),a.createElement(S,Object.assign({action:"align-bottom"},this.props)),a.createElement("div",{ref:this.dropdownTargetRef,className:g.alignButton},a.createElement(c.IconButton,{className:g.alignButtonIconButton,svg:i,fallbackIcon:t,onClick:e?this.onShowMoreClick:null,disabled:!e,recordingKey:s.joinKeys(this.props,"distributeDropdown")}),a.createElement(_.Svg,{svg:h,className:e?g.alignButtonChevron:g.alignButtonChevronDisabled}))),this.isDropdownShown()&&this.renderDistributeDropdown())}}R.displayName="AlignPanel",i.AlignPanel=R;class v extends a.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{const{action:e}=this.props;r.fullscreen.triggerAction(e,"tidy-up"===e?{source:"panel"}:null)})}render(){const{appModel:e,action:i,icon:t,isEnabled:n,fallbackSvg:r}=this.props;return a.createElement(u.ActionOption,{text:o.getString(e.strings,i),isEnabled:n,hideCheck:!0,isChecked:!1,onClick:this.onClick,icon:t||f[i],fallbackSvg:r,key:i,shortcut:o.getKeyboardShortcut(e.keyboardShortcuts,i),recordingKey:s.joinKeys(this.props,"distributeDropdown",i)})}}v.displayName="DropdownOption";class S extends a.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{r.fullscreen.triggerAction(this.props.action)})}render(){const e=o.isActionEnabled(this.props,this.props.action);return a.createElement(c.IconButton,{svg:f[this.props.action],fallbackSvg:E[this.props.action],disabled:!e,onClick:this.onClick,"data-tooltip":this.props.action,recordingKey:s.joinKeys(this.props,"alignButton",this.props.action),className:g.alignButton})}}S.displayName="AlignButton",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(c,e,b){c.exports={checkbox:"checkbox--checkbox--2ubjb basic_form--checkbox--3eCIg",_checkboxLabel:"checkbox--_checkboxLabel--1418z",checkboxMixed:"checkbox--checkboxMixed--3OE51 checkbox--checkbox--2ubjb basic_form--checkbox--3eCIg",disabled:"checkbox--disabled--1Xr8w"},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(143              ),c=o(282                             ),i=o(1104            );class r extends n.PureComponent{constructor(e){super(e),this.documentKeyDown=(e=>{9===e.keyCode&&this.setState({showFocus:!0})}),this.documentMouseDown=(e=>{this.setState({showFocus:!1})}),this.onChange=n.changeEvent(this,"change",e=>{this.props.onChange(e.target.checked)}),this.onFocus=(e=>{this.state.showFocus||e.target.blur()}),this.state={showFocus:!1}}componentDidMount(){document.addEventListener("keydown",this.documentKeyDown),document.addEventListener("mousedown",this.documentMouseDown)}componentWillUnmount(){super.componentWillUnmount(),document.removeEventListener("keydown",this.documentKeyDown),document.removeEventListener("mousedown",this.documentMouseDown)}classNameForInput(){let e=this.props.className?this.props.className:"";return c.notMixed(this.props.property)?e+=` ${i.checkbox}`:e+=` ${i.checkboxMixed}`,this.props.disabled&&(e+=` ${i.disabled}`),e}render(){const e=c.notMixed(this.props.property)&&!!c.getValue(this.props.property);return s.createElement("input",{id:this.props.id,className:this.classNameForInput(),checked:e,onChange:this.onChange,onFocus:this.onFocus,type:"checkbox",disabled:this.props.disabled})}}r.displayName="Checkbox",t.Checkbox=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={singleRowHeight:"stroke_settings--singleRowHeight--3I7f1",doubleRowHeight:"stroke_settings--doubleRowHeight--24Pcq",input:"stroke_settings--input--1IgNk stroke_settings--singleRowHeight--3I7f1",border:"stroke_settings--border--1jdIS",borderFocusWithin:"stroke_settings--borderFocusWithin--A3D-5",iconInsideBorderFocusWithin:"stroke_settings--iconInsideBorderFocusWithin--1ZtRN",rowSelectedSecondary:"stroke_settings--rowSelectedSecondary--3BrpU stroke_settings--rowSelected--3DXTE",selectHiddenInput:"stroke_settings--selectHiddenInput--2LKi0",iconButton:"stroke_settings--iconButton--WFhgu",borderFocus:"stroke_settings--borderFocus--3c5lL",multiValueInput:"stroke_settings--multiValueInput--uAxjY stroke_settings--borderFocusWithin--A3D-5",base:"stroke_settings--base--QVbKs",label:"stroke_settings--label--2AJxB stroke_settings--base--QVbKs",labelInactive:"stroke_settings--labelInactive--Qfbo_ stroke_settings--label--2AJxB stroke_settings--base--QVbKs",textInput:"stroke_settings--textInput--HRhdt stroke_settings--base--QVbKs stroke_settings--input--1IgNk stroke_settings--singleRowHeight--3I7f1",textAreaInput:"stroke_settings--textAreaInput--1qFTX stroke_settings--base--QVbKs stroke_settings--input--1IgNk stroke_settings--singleRowHeight--3I7f1",noLeftBorder:"stroke_settings--noLeftBorder--1oL5O",squareRightBorder:"stroke_settings--squareRightBorder--U3_Ka",_iconButton:"stroke_settings--_iconButton--qxRob",iconButtonEnabled:"stroke_settings--iconButtonEnabled--C_cqb stroke_settings--_iconButton--qxRob",iconButtonDisabled:"stroke_settings--iconButtonDisabled--1yZ66 stroke_settings--_iconButton--qxRob",iconButtonSelected:"stroke_settings--iconButtonSelected--1JDrT stroke_settings--_iconButton--qxRob",chitCenter:"stroke_settings--chitCenter--3CNY0",outlineButton:"stroke_settings--outlineButton--EJeSK",modalPanel:"stroke_settings--modalPanel--1N7xv",panel:"stroke_settings--panel--o8oG1",_row:"stroke_settings--_row--1VKW7",singleRow:"stroke_settings--singleRow--3KXEJ stroke_settings--singleRowHeight--3I7f1 stroke_settings--_row--1VKW7",doubleRow:"stroke_settings--doubleRow--2p8PH stroke_settings--doubleRowHeight--24Pcq stroke_settings--_row--1VKW7",labelRow:"stroke_settings--labelRow--3g177 stroke_settings--singleRow--3KXEJ stroke_settings--singleRowHeight--3I7f1 stroke_settings--_row--1VKW7",rowSelected:"stroke_settings--rowSelected--3DXTE",panelTitle:"stroke_settings--panelTitle--3utln",panelTitleWithTip:"stroke_settings--panelTitleWithTip--2Bt4U stroke_settings--panelTitle--3utln",panelTitleWithTipText:"stroke_settings--panelTitleWithTipText--3fOwL",panelTitleWithTipIcon:"stroke_settings--panelTitleWithTipIcon--1NB41",panelTitleFaded:"stroke_settings--panelTitleFaded--1m6TR stroke_settings--panelTitle--3utln",flushLeft:"stroke_settings--flushLeft--3cXju",strokeCapLabel:"stroke_settings--strokeCapLabel--1oQm_",dashesLabel:"stroke_settings--dashesLabel--etxOQ",joinLabel:"stroke_settings--joinLabel--2abn4",miterLabel:"stroke_settings--miterLabel--2teUU",strokeCap:"stroke_settings--strokeCap--BaFqp",dashes:"stroke_settings--dashes--1E5S8",join:"stroke_settings--join--3X6iQ",miter:"stroke_settings--miter--24Kzl",spacer:"stroke_settings--spacer--1k5Yn"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"gc374dae1",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M13 0H0v6h7v7h6V0z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g29e94eb9",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M7 0H0v6h7v7h6V6L7 0z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g205bb526",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M5 0H0v6h7v7h6V8c0-6-2-8-8-8z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),o=r(232                        ),n=r(143              ),a=r(198         ),i=r(1426                               ),p=r(391                               ),l=r(214                                                    ),c=r(478                                 ),m=r(542                   ),d=r(477               ),h=r(748                                     ),g=r(1106                   ),u=r(1107                                                            ),E=r(1108                                                            ),S=r(1109                                                            );class y extends h.SegmentedControl{}class _ extends h.Segment{}class R extends s.PureComponent{constructor(){super(...arguments),this.onStrokeJoinChange=(e=>i.fullscreen.updateSelectionProperties({strokeJoin:e}))}render(){return s.createElement(y,{className:g.join,property:this.props.strokeJoin,onChange:this.onStrokeJoinChange,recordingKey:this.props.recordingKey},s.createElement(_,{svg:u,value:"MITER",tooltip:"Miter",recordingKey:n.joinKeys(this.props,"MITER")}),s.createElement(_,{svg:E,value:"BEVEL",tooltip:"Bevel",recordingKey:n.joinKeys(this.props,"BEVEL")}),s.createElement(_,{svg:S,value:"ROUND",tooltip:"Round",recordingKey:n.joinKeys(this.props,"ROUND")}))}}R.displayName="StrokeJoinSettings";class f extends d.Select{}class C extends d.Option{}const k=["NONE","ROUND","SQUARE","ARROW_LINES","ARROW_EQUILATERAL"];class w extends s.PureComponent{constructor(){super(...arguments),this.strokeCapFormatter={format:e=>{switch(e){case"NONE":return"None";case"ROUND":return"Round";case"SQUARE":return"Square";case"ARROW_LINES":return"Line Arrow";case"ARROW_EQUILATERAL":return"Triangle Arrow"}}},this.onStrokeCapChange=(e=>i.fullscreen.updateSelectionProperties({strokeCap:e}))}render(){const e=k.map((e,t)=>s.createElement(C,{key:t,value:e,recordingKey:n.joinKeys(this.props,e)}));return s.createElement(f,{id:"stroke-cap-select",className:g.strokeCap,property:this.props.strokeCap,formatter:this.strokeCapFormatter,onChange:this.onStrokeCapChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,autoFocus:!0,recordingKey:this.props.recordingKey},e)}}w.displayName="StrokeCapSettings";class N extends s.PureComponent{constructor(){super(...arguments),this.miterFormatter=new m.AngleFormatter({min:7.16,max:180}),this.dashFormatter=new m.DashFormatter,this.onDashPatternChange=(e=>i.fullscreen.updateSelectionProperties({dashPattern:e})),this.onMiterLimitAngleChange=(e=>i.fullscreen.updateSelectionProperties({miterLimitAngle:e})),this.close=(()=>{this.props.dispatch(o.fullscreen.hidePicker()),i.fullscreen.deselectProperty()})}render(){const e=new a.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY);return s.createElement(l.DraggableModal,{title:"Advanced Stroke",initialPosition:e,headerSize:"small",onClose:this.close,recordingKey:n.joinKeys(this.props,"modal")},s.createElement(p.ModalPanel,null,s.createElement(p.Row,null,s.createElement(p.LabelInactive,{className:g.strokeCapLabel},"Cap"),s.createElement(p.LabelInactive,{className:g.joinLabel},"Join")),s.createElement(p.Row,null,s.createElement(w,{strokeCap:this.props.strokeCap,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:n.joinKeys(this.props,"cap")}),s.createElement(R,{strokeJoin:this.props.strokeJoin,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:n.joinKeys(this.props,"join")})),s.createElement("div",{className:g.spacer}),s.createElement(p.Row,null,s.createElement(p.LabelInactive,{className:g.dashesLabel},"Dashes"),s.createElement(p.LabelInactive,{className:g.miterLabel},"Miter Angle")),s.createElement(p.Row,null,s.createElement(c.NumberArrayInput,{className:g.dashes,formatter:this.dashFormatter,property:this.props.dashPattern,onChange:this.onDashPatternChange,placeholder:'Dash, Gap (e.g. "2, 5")',recordingKey:n.joinKeys(this.props,"dashes")}),s.createElement(c.NumberInput,{className:g.miter,disabled:"MITER"!==this.props.strokeJoin,formatter:this.miterFormatter,property:this.props.miterLimitAngle,onChange:this.onMiterLimitAngleChange,recordingKey:n.joinKeys(this.props,"miterAngle")}))))}}N.displayName="StrokeSettings",t.StrokeSettings=N,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,t){n.exports={chitThumbnail:"paint_panels--chitThumbnail--24LwK",chitAlpha:"paint_panels--chitAlpha--39K6Y",chit:"paint_panels--chit--1AKml",chitWithBorder:"paint_panels--chitWithBorder--2S5m6",chitShowFocus:"paint_panels--chitShowFocus--30PAD paint_panels--chit--1AKml",singleRowHeight:"paint_panels--singleRowHeight--2uZNt",doubleRowHeight:"paint_panels--doubleRowHeight--2to0j",input:"paint_panels--input--11nD6 paint_panels--singleRowHeight--2uZNt",border:"paint_panels--border--t0i8T",borderFocusWithin:"paint_panels--borderFocusWithin--17iBv",iconInsideBorderFocusWithin:"paint_panels--iconInsideBorderFocusWithin--2qbPe",rowSelectedSecondary:"paint_panels--rowSelectedSecondary--2IWSY paint_panels--rowSelected--OjBz5",selectHiddenInput:"paint_panels--selectHiddenInput--2ETYS",iconButton:"paint_panels--iconButton--3xiro",borderFocus:"paint_panels--borderFocus--1VpcB",multiValueInput:"paint_panels--multiValueInput--1c6bj paint_panels--borderFocusWithin--17iBv",base:"paint_panels--base--1VaSy",label:"paint_panels--label--3ly5o paint_panels--base--1VaSy",labelInactive:"paint_panels--labelInactive--3Uoby paint_panels--label--3ly5o paint_panels--base--1VaSy",textInput:"paint_panels--textInput--3EznU paint_panels--base--1VaSy paint_panels--input--11nD6 paint_panels--singleRowHeight--2uZNt",textAreaInput:"paint_panels--textAreaInput--2--Ae paint_panels--base--1VaSy paint_panels--input--11nD6 paint_panels--singleRowHeight--2uZNt",noLeftBorder:"paint_panels--noLeftBorder--2GJb7",squareRightBorder:"paint_panels--squareRightBorder--2Eri6",_iconButton:"paint_panels--_iconButton--10mQY",iconButtonEnabled:"paint_panels--iconButtonEnabled--tVs8q paint_panels--_iconButton--10mQY",iconButtonDisabled:"paint_panels--iconButtonDisabled--NUGKC paint_panels--_iconButton--10mQY",iconButtonSelected:"paint_panels--iconButtonSelected--1bOHe paint_panels--_iconButton--10mQY",chitCenter:"paint_panels--chitCenter--39_no",outlineButton:"paint_panels--outlineButton--1FQnH",modalPanel:"paint_panels--modalPanel--O0Ur0",panel:"paint_panels--panel--1oMS1",_row:"paint_panels--_row--2caXl",singleRow:"paint_panels--singleRow--1w81j paint_panels--singleRowHeight--2uZNt paint_panels--_row--2caXl",doubleRow:"paint_panels--doubleRow--15ZZy paint_panels--doubleRowHeight--2to0j paint_panels--_row--2caXl",labelRow:"paint_panels--labelRow--3I5p6 paint_panels--singleRow--1w81j paint_panels--singleRowHeight--2uZNt paint_panels--_row--2caXl",rowSelected:"paint_panels--rowSelected--OjBz5",panelTitle:"paint_panels--panelTitle--2MLx1",panelTitleWithTip:"paint_panels--panelTitleWithTip--2bqOF paint_panels--panelTitle--2MLx1",panelTitleWithTipText:"paint_panels--panelTitleWithTipText--3VIJz",panelTitleWithTipIcon:"paint_panels--panelTitleWithTipIcon--3bbzM",panelTitleFaded:"paint_panels--panelTitleFaded--3Mn_R paint_panels--panelTitle--2MLx1",flushLeft:"paint_panels--flushLeft--2G1UT",paintLabel:"paint_panels--paintLabel--ecWUN ellipsis--ellipsis--1RWY6",typeContainer:"paint_panels--typeContainer--KyReT",colorInput:"paint_panels--colorInput--10RG5",opacityInput:"paint_panels--opacityInput--3ziNZ",typeContainerHidden:"paint_panels--typeContainerHidden--2YGMw paint_panels--typeContainer--KyReT",colorInputHidden:"paint_panels--colorInputHidden--2On-e",typeInput:"paint_panels--typeInput--3Phna paint_panels--paintLabel--ecWUN ellipsis--ellipsis--1RWY6",opacityInputContainer:"paint_panels--opacityInputContainer--1ckND",colorValueContainer:"paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a",opacityInputHidden:"paint_panels--opacityInputHidden--28tSZ",strokeInput:"paint_panels--strokeInput--2X0a2 raw_components--flushLeft--2dWma",strokeWeight:"paint_panels--strokeWeight--1jHue raw_components--borderFocusWithin--3IG2Z",strokeAlign:"paint_panels--strokeAlign--2Fb2r",advancedStroke:"paint_panels--advancedStroke--9ZvZO",paintPanelColorValueContainer:"paint_panels--paintPanelColorValueContainer--auo4Q paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a",iconContainer:"paint_panels--iconContainer--qnn_T",inactiveLabel:"paint_panels--inactiveLabel--Enb2z transform_panel--inactiveLabel--hZBjR raw_components--iconInsideBorderFocusWithin--Ry1th"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,s,c){t.exports={id:"gbc8d8af3",src:'<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 3c0 .828-.672 1.5-1.5 1.5C1.172 4.5.5 3.828.5 3c0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zm6 0c0 .828-.672 1.5-1.5 1.5-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5zM14 4.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g3c260d9f",src:'<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M3 2.5C3 3.328 2.328 4 1.5 4 .672 4 0 3.328 0 2.5 0 1.672.672 1 1.5 1 2.328 1 3 1.672 3 2.5zm6 0C9 3.328 8.328 4 7.5 4 6.672 4 6 3.328 6 2.5 6 1.672 6.672 1 7.5 1 8.328 1 9 1.672 9 2.5zM13.5 4c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g3e3f0c61",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h12v1H0V0zm0 4h12v2H0V4zm12 5H0v3h12V9z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),r=s(38,1       ),i=s(232                        ),n=s(143              ),p=s(1426                               ),a=s(129                               ),c=s(282                             ),l=s(500                                     ),h=s(341                              ),d=s(386                        ),g=s(542                   ),u=s(391                               ),y=s(389                         ),m=s(477               ),P=s(468           ),k=s(538                 ),S=s(478                                 ),C=s(533                           ),f=s(465                                        ),w=s(1110                                ),E=s(497                                  ),b=s(443                         ),v=s(1111                ),T=s(144                        ),K=s(1112                                                      ),_=s(1113                                                        ),O=s(459                                                        ),I=s(460                                                          ),N=s(1114                                                               );class M extends o.PureComponent{constructor(){super(...arguments),this.onPaintsChange=((e,t)=>{p.fullscreen.updateSelectionProperties({fillPaints:e},t,a.Overwrite.ONLY_WHEN_NOT_EMPTY)})}render(){const e=b.extractStyleContainerProps(Object.assign({},this.props,{styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKey"}));return o.createElement(u.Panel,null,o.createElement(j,Object.assign({propertyList:this.props.fillPaints,onChange:this.onPaintsChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:a.SelectedPropertyType.FILL,recordingKey:n.joinKeys(this.props,"paintList")},C.extractPaintPickerContainerProps(this.props),e)))}}M.displayName="FillPanel",t.FillPanel=M;class F extends m.Select{}class R extends m.Option{}class x extends o.PureComponent{constructor(){super(...arguments),this.settingsId="stroke-settings",this.stopPropagation=(e=>e.stopPropagation()),this.onPaintsChange=((e,t)=>{p.fullscreen.updateSelectionProperties({strokePaints:e},t,a.Overwrite.ONLY_WHEN_NOT_EMPTY),0===c.getValue(this.props.strokePaints,[]).length&&0===this.props.strokeWeight&&p.fullscreen.updateSelectionProperties({strokeWeight:1})}),this.settingsRowRef=(e=>{e&&(this.settingsRow=r.findDOMNode(e))}),this.toggleSettings=(()=>{if(this.props.pickerShown&&this.props.pickerShown.id===this.settingsId)this.props.dispatch(i.fullscreen.hidePicker());else{const e=d.pickerPositionLeftOf(this.settingsRow);this.props.dispatch(i.fullscreen.showPicker({id:this.settingsId,initialX:e.x,initialY:e.y}))}})}render(){const e=c.getValue(this.props.strokePaints,[]),t=b.extractStyleContainerProps(Object.assign({},this.props,{styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKeyForStroke"}));let s=b.isStyleConsumer(t)||e.length>0||this.props.strokePaints===c.MIXED,r=this.props.pickerShown&&this.props.pickerShown.id===this.settingsId;return o.createElement(u.Panel,null,o.createElement(j,Object.assign({propertyList:this.props.strokePaints,selectedPropertyType:a.SelectedPropertyType.STROKE,onChange:this.onPaintsChange,currentSelectedProperty:this.props.currentSelectedProperty,recordingKey:n.joinKeys(this.props,"paintList")},C.extractPaintPickerContainerProps(this.props),t)),s&&o.createElement(u.Row,{ref:this.settingsRowRef},o.createElement(L,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,strokeWeight:this.props.strokeWeight,bigNudgeAmount:this.props.bigNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,recordingKey:n.joinKeys(this.props,"weight")}),o.createElement(A,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,strokeAlign:this.props.strokeAlign,recordingKey:n.joinKeys(this.props,"align")}),o.createElement(y.IconButton,{svg:K,fallbackSvg:_,className:v.advancedStroke,onClick:this.toggleSettings,onMouseDown:this.stopPropagation,recordingKey:n.joinKeys(this.props,"more"),selected:r})),r&&o.createElement(w.StrokeSettings,{strokeCap:this.props.strokeCap,strokeJoin:this.props.strokeJoin,miterLimitAngle:this.props.miterLimitAngle,dashPattern:this.props.dashPattern,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,recordingKey:n.joinKeys(this.props,"advanced")}))}}x.displayName="StrokePanel",t.StrokePanel=x;class L extends o.PureComponent{constructor(){super(...arguments),this.onChangeStrokeWeight=((e,t)=>{p.fullscreen.updateSelectionProperties({strokeWeight:e},t)})}render(){return o.createElement(E.ScrubbablePositivePixelInput,{className:v.strokeWeight,min:0,max:1e3,onValueChange:this.onChangeStrokeWeight,value:this.props.strokeWeight,dispatch:this.props.dispatch,recordingKey:this.props.recordingKey,bigNudgeAmount:this.props.bigNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,inputClassName:v.strokeInput},o.createElement(T.Svg,{svg:N,className:v.inactiveLabel}))}}L.displayName="StrokeWeightSelection";class A extends o.PureComponent{constructor(){super(...arguments),this.titleCaseFormatter=new g.TitleCaseFormatter,this.onStrokeAlignChange=(e=>{p.fullscreen.updateSelectionProperties({strokeAlign:e})})}render(){return o.createElement(F,{id:"stroke-align-select",className:v.strokeAlign,formatter:this.titleCaseFormatter,property:this.props.strokeAlign,onChange:this.onStrokeAlignChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey},o.createElement(R,{value:"CENTER",recordingKey:n.joinKeys(this.props,"CENTER")}),o.createElement(R,{value:"INSIDE",recordingKey:n.joinKeys(this.props,"INSIDE")}),o.createElement(R,{value:"OUTSIDE",recordingKey:n.joinKeys(this.props,"OUTSIDE")}))}}A.displayName="StrokeAlignSelection";class D extends f.StyleAndPropertyList{}class j extends o.PureComponent{constructor(){super(...arguments),this.addProperty=(()=>{const e=b.hasSelectedStyle(this.props.selectedStyleProperties);switch(this.props.selectedPropertyType){case a.SelectedPropertyType.STROKE:e?p.fullscreen.triggerAction("add-stroke-to-style-selection"):p.fullscreen.triggerAction("add-stroke-to-selection");break;case a.SelectedPropertyType.FILL:e?p.fullscreen.triggerAction("add-fill-to-style-selection"):p.fullscreen.triggerAction("add-fill-to-selection");break;case a.SelectedPropertyType.BACKGROUND:p.fullscreen.triggerAction("add-background-to-selection")}}),this.removeProperty=(e=>{const t=c.getValue(this.props.propertyList,[]).filter((t,s)=>s!==e);this.props.onChange(t),p.fullscreen.deselectProperty()}),this.title=(()=>{switch(this.props.selectedPropertyType){case a.SelectedPropertyType.STROKE:return"Stroke";case a.SelectedPropertyType.FILL:return"Fill";case a.SelectedPropertyType.BACKGROUND:return"Background"}}),this.onChange=((e,t)=>{this.props.onChange(e,t),c.getValue(this.props.propertyList,[]).length!==e.length&&l.paintCache.clearCache()}),this.onReorder=(()=>{l.paintCache.clearCache()}),this.renderProperty=((e,t,s,r,i,p,c,l)=>o.createElement(W,Object.assign({key:`paint-${t}`,id:`${this.props.selectedPropertyType}-${t}`,index:t,selectedPropertyType:this.props.selectedPropertyType,paint:e,isStroke:this.props.selectedPropertyType===a.SelectedPropertyType.STROKE,selected:s,hasFocus:r,onChange:i,onMouseDown:p,onMouseMove:c,onMouseUp:l,onRemovePaint:this.removeProperty.bind(this,t),recordingKey:n.joinKeys(this.props,t)},C.extractPaintPickerContainerProps(this.props))))}render(){return o.createElement(D,Object.assign({title:this.title(),propertyList:this.props.propertyList,onChange:this.onChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:this.props.selectedPropertyType,styleType:this.props.styleType,addProperty:this.addProperty,renderProperty:this.renderProperty,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,onReorder:this.onReorder,recordingKey:this.props.recordingKey},b.extractStyleContainerProps(this.props)))}}j.displayName="PaintList",t.PaintList=j;class W extends o.PureComponent{constructor(){super(...arguments),this.handleOpenImagePicker=(e=>{this.props.selectedPropertyType!==e.propertyType||this.props.index!==e.index||this.pickerShown()||this.showPicker()}),this.handleCloseImagePicker=(e=>{this.props.selectedPropertyType===e.propertyType&&this.props.index===e.index&&this.pickerShown()&&this.hidePicker()}),this.rowRef=(e=>{e&&(this.row=r.findDOMNode(e))}),this.stopEventPropagation=(e=>{e.stopPropagation()}),this.onChange=((e,t=!0)=>{if(e.visible=!0,this.props.onChange(e),t){let e=l.paintCache.getId(this.props.index,this.props.selectedPropertyType);l.paintCache.clearCache(e)}}),this.onPaintPickerChange=((e,t)=>{e.visible=!0,this.props.onChange(e,t)}),this.onColorChange=(e=>{this.onChange(Object.assign({},this.props.paint,{color:e}))}),this.onOpacityChange=(e=>{this.onChange(Object.assign({},this.props.paint,{opacity:e}))}),this.onScrubChangeOpacity=(e=>{const t=Object.assign({},this.props.paint,{opacity:e});this.props.onChange(t,h.ShouldCommit.NO)}),this.onVisibleChange=(e=>{this.props.onChange(Object.assign({},this.props.paint,{visible:e}))}),this.pickerShown=(()=>this.props.pickerShown&&this.props.pickerShown.id===this.props.id),this.showPicker=(()=>{const e=d.pickerPositionLeftOf(this.row);l.isGradient(this.props.paint.type)&&this.props.editModeType!==a.EditModeType.GRADIENT?p.fullscreen.triggerAction("toggle-gradient-edit-mode"):"IMAGE"===this.props.paint.type&&this.props.editModeType!==a.EditModeType.RASTER&&p.fullscreen.triggerAction("toggle-raster-edit-mode"),p.fullscreen.updateAppModel({currentSelectedProperty:{type:this.props.selectedPropertyType,indices:[this.props.index]}}),this.props.dispatch(i.fullscreen.showPicker({id:this.props.id,initialX:e.x,initialY:e.y}))}),this.hidePicker=(()=>{this.props.dispatch(i.fullscreen.hidePicker()),p.fullscreen.deselectProperty()}),this.togglePicker=(()=>{this.pickerShown()?this.hidePicker():this.showPicker()}),this.onChitOrTypeMouseDown=(e=>{e.stopPropagation(),this.togglePicker()}),this.onRowFocus=(()=>{this.pickerShown()&&this.togglePicker()})}componentDidMount(){p.fullscreen.fromFullscreen.on("openImagePicker",this.handleOpenImagePicker),p.fullscreen.fromFullscreen.on("closeImagePicker",this.handleCloseImagePicker)}componentWillUnmount(){p.fullscreen.fromFullscreen.removeListener("openImagePicker",this.handleOpenImagePicker),p.fullscreen.fromFullscreen.removeListener("closeImagePicker",this.handleCloseImagePicker)}render(){let e=v.opacityInput;return this.props.paint.visible||(e=v.opacityInputHidden),o.createElement("div",null,o.createElement(u.Row,{ref:this.rowRef,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey},o.createElement("div",{className:v.paintPanelColorValueContainer},o.createElement(P.Chit,Object.assign({},this.props,{onMouseDown:this.onChitOrTypeMouseDown,recordingKey:n.joinKeys(this.props,"chit"),className:v.chit})),o.createElement(H,Object.assign({},this.props,{visible:this.props.paint.visible,onTypeMouseDown:this.onChitOrTypeMouseDown,onMouseDown:this.stopEventPropagation,onColorChange:this.onColorChange,recordingKey:n.joinKeys(this.props,"value"),noBorderOnFocus:!0})),o.createElement(E.ScrubbablePercentageInput,{noLeftBorder:!0,className:v.opacityInputContainer,inputClassName:e,value:this.props.paint.opacity,onMouseDown:this.stopEventPropagation,onValueChange:this.onOpacityChange,onScrubChange:this.onScrubChangeOpacity,dispatch:this.props.dispatch,recordingKey:n.joinKeys(this.props,"opacity"),noBorderOnFocus:!0})),o.createElement("div",{className:v.iconContainer},o.createElement(k.Visible,{visible:this.props.paint.visible,onChange:this.onVisibleChange,recordingKey:n.joinKeys(this.props,"visibleToggle")}),o.createElement(y.IconButton,{recordingKey:n.joinKeys(this.props,"removeButton"),svg:O,fallbackSvg:I,onClick:this.props.onRemovePaint}))),this.pickerShown()&&o.createElement(C.PaintPicker,Object.assign({paint:this.props.paint,paintId:l.paintCache.getId(this.props.index,this.props.selectedPropertyType),onChange:this.onPaintPickerChange,recordingKey:n.joinKeys(this.props,"paintPicker")},C.extractPaintPickerContainerProps(this.props))))}}W.displayName="Paint";let B=0;class H extends n.PureComponent{constructor(e){super(e),this.hexFormatter=new g.ColorHexFormatterWithoutHash,this.typeFormatter=new g.PaintTypeFormatter,this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown&&this.props.onMouseDown(e),this.props.onTypeMouseDown&&this.props.onTypeMouseDown(e)}),this.id=B++}render(){const e=`type-${this.id}`;return"SOLID"===this.props.paint.type?o.createElement(S.ColorInput,{className:this.props.visible?v.colorInput:v.colorInputHidden,noLeftBorder:!1,squareRightBorder:!1,formatter:this.hexFormatter,property:this.props.paint.color,onChange:this.props.onColorChange,onMouseDown:this.props.onMouseDown,recordingKey:n.joinKeys(this.props,"colorInput"),noBorderOnFocus:this.props.noBorderOnFocus}):o.createElement("div",{className:this.props.visible?v.typeContainer:v.typeContainerHidden,id:e,onMouseDown:this.onMouseDown},this.typeFormatter.format(this.props.paint.type))}}H.displayName="PaintValue",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,a){n.exports={chitThumbnail:"background_panel--chitThumbnail--3hO0q",chitAlpha:"background_panel--chitAlpha--24jnr",chit:"background_panel--chit--1sifP paint_panels--chit--1AKml",chitWithBorder:"background_panel--chitWithBorder--LbMuZ",chitShowFocus:"background_panel--chitShowFocus--1KpfS background_panel--chit--1sifP",singleRowHeight:"background_panel--singleRowHeight--1pW06",doubleRowHeight:"background_panel--doubleRowHeight--2p4HB",input:"background_panel--input--34545 background_panel--singleRowHeight--1pW06",border:"background_panel--border--cE5iI",borderFocusWithin:"background_panel--borderFocusWithin--2Pl6g",iconInsideBorderFocusWithin:"background_panel--iconInsideBorderFocusWithin--XT1t6",rowSelectedSecondary:"background_panel--rowSelectedSecondary--2v3IW background_panel--rowSelected--3urKE",selectHiddenInput:"background_panel--selectHiddenInput--1xiSA",iconButton:"background_panel--iconButton--1v0R_",borderFocus:"background_panel--borderFocus--3Od3Q",multiValueInput:"background_panel--multiValueInput--1rxkz background_panel--borderFocusWithin--2Pl6g",base:"background_panel--base--2sUHT",label:"background_panel--label--3_h7H background_panel--base--2sUHT",labelInactive:"background_panel--labelInactive--3YLse background_panel--label--3_h7H background_panel--base--2sUHT",textInput:"background_panel--textInput--3WiqC background_panel--base--2sUHT background_panel--input--34545 background_panel--singleRowHeight--1pW06",textAreaInput:"background_panel--textAreaInput--2p-GF background_panel--base--2sUHT background_panel--input--34545 background_panel--singleRowHeight--1pW06",noLeftBorder:"background_panel--noLeftBorder--Z8KJj",squareRightBorder:"background_panel--squareRightBorder--FL-bJ",_iconButton:"background_panel--_iconButton--2CeXF",iconButtonEnabled:"background_panel--iconButtonEnabled--19edY background_panel--_iconButton--2CeXF",iconButtonDisabled:"background_panel--iconButtonDisabled--Fgkxn background_panel--_iconButton--2CeXF",iconButtonSelected:"background_panel--iconButtonSelected--1yqdN background_panel--_iconButton--2CeXF",chitCenter:"background_panel--chitCenter--2PmNO",outlineButton:"background_panel--outlineButton--1Of7i",modalPanel:"background_panel--modalPanel--3Nq1D",panel:"background_panel--panel--2B-RJ",_row:"background_panel--_row--AT8E5",singleRow:"background_panel--singleRow--1-rQ_ background_panel--singleRowHeight--1pW06 background_panel--_row--AT8E5",doubleRow:"background_panel--doubleRow--1OGQ7 background_panel--doubleRowHeight--2p4HB background_panel--_row--AT8E5",labelRow:"background_panel--labelRow--1TuA5 background_panel--singleRow--1-rQ_ background_panel--singleRowHeight--1pW06 background_panel--_row--AT8E5",rowSelected:"background_panel--rowSelected--3urKE",panelTitle:"background_panel--panelTitle--1Ycij",panelTitleWithTip:"background_panel--panelTitleWithTip--1-lqt background_panel--panelTitle--1Ycij",panelTitleWithTipText:"background_panel--panelTitleWithTipText--3U-5y",panelTitleWithTipIcon:"background_panel--panelTitleWithTipIcon--y5WUs",panelTitleFaded:"background_panel--panelTitleFaded--32HX8 background_panel--panelTitle--1Ycij",flushLeft:"background_panel--flushLeft--3SYXe",color:"background_panel--color--2TxAv paint_panels--colorInput--10RG5",colorHidden:"background_panel--colorHidden--2lFpN paint_panels--colorInputHidden--2On-e",opacity:"background_panel--opacity--3eevq paint_panels--opacityInputContainer--1ckND",opacityInputHidden:"background_panel--opacityInputHidden--2uxLa paint_panels--opacityInputHidden--28tSZ",visible:"background_panel--visible--2c_xW",colorValueContainer:"background_panel--colorValueContainer--3r_XR paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a",checkbox:"background_panel--checkbox--2gMWx",checkboxLabel:"background_panel--checkboxLabel--31O7e"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(34,1   ),i=o(38,1       ),n=o(232                        ),a=o(143              ),s=o(198         ),c=o(282                             ),l=o(1426                               ),p=o(129                               ),d=o(341                              ),h=o(386                        ),u=o(391                               ),g=o(478                                 ),b=o(542                   ),k=o(538                 ),C=o(1105                  ),m=o(468           ),y=o(533                           ),P=o(497                                  ),f=o(443                         ),O=o(1115                          ),E=o(1116                    );class _ extends r.PureComponent{constructor(e){super(e),this.colorFormatter=new b.ColorHexFormatterWithoutHash,this.onPaintsChange=((e,t)=>{l.fullscreen.updateSelectionProperties({backgroundPaints:e},t,p.Overwrite.ONLY_WHEN_NOT_EMPTY)}),this.onColorChange=((e,t)=>{const o=e.a;e.a=1,l.fullscreen.updateSelectionProperties({backgroundColor:e,backgroundOpacity:o,backgroundEnabled:!0},t)}),this.onColorChangeWithoutAlpha=((e,t)=>{l.fullscreen.updateSelectionProperties({backgroundColor:e,backgroundEnabled:!0},t)}),this.onOpacityChange=((e,t)=>{l.fullscreen.updateSelectionProperties({backgroundOpacity:e,backgroundEnabled:0!==e},t)}),this.onOpacityScrubChange=(e=>{this.onOpacityChange(e,d.ShouldCommit.NO)}),this.onBackgroundEnabledChange=(e=>l.fullscreen.updateSelectionProperties({backgroundEnabled:e})),this.onExportBackgroundDisabledChange=(e=>{l.fullscreen.updateSelectionProperties({exportBackgroundDisabled:!e})}),this.chitRowRef=(e=>{e&&(this.chitRow=i.findDOMNode(e))}),this.toggleColorPicker=(()=>{if(this.props.pickerShown&&this.props.pickerShown.id===_.COLOR_PICKER_ID)this.props.dispatch(n.fullscreen.hidePicker());else{const e=h.pickerPositionLeftOf(this.chitRow);this.props.dispatch(n.fullscreen.showPicker({id:_.COLOR_PICKER_ID,initialX:e.x,initialY:e.y}))}}),this.mergeColorAndOpacity=(e=>{const t=c.getValue(e.backgroundColor),o=c.getValue(e.backgroundOpacity);if(null!=t&&null!=o){return Object.assign({},t,{a:o})}return e.backgroundColor});const t=this.mergeColorAndOpacity(e);this.state={mergedColorAndOpacity:t}}UNSAFE_componentWillUpdate(e){if(this.props.backgroundColor!==e.backgroundColor||this.props.backgroundOpacity!==e.backgroundOpacity){const t=this.mergeColorAndOpacity(e);this.setState({mergedColorAndOpacity:t})}}renderSimpleBackground(){return r.createElement("div",null,r.createElement(u.Row,null,r.createElement(u.PanelTitle,null,"Background")),r.createElement(u.Row,{ref:this.chitRowRef},r.createElement("div",{className:E.colorValueContainer},r.createElement(m.Chit,{color:this.state.mergedColorAndOpacity,opacity:this.props.backgroundOpacity,onMouseDown:this.toggleColorPicker,recordingKey:a.joinKeys(this.props,"colorChit"),className:E.chit}),r.createElement(g.ColorInput,{className:this.props.backgroundEnabled?E.color:E.colorHidden,formatter:this.colorFormatter,property:this.props.backgroundColor,onChange:this.onColorChangeWithoutAlpha,recordingKey:a.joinKeys(this.props,"rgbTextInput"),noBorderOnFocus:!0}),r.createElement(P.ScrubbablePercentageInput,{className:E.opacity,inputClassName:this.props.backgroundEnabled?null:E.opacityInputHidden,value:this.props.backgroundOpacity,onScrubChange:this.onOpacityScrubChange,onValueChange:this.onOpacityChange,dispatch:this.props.dispatch,recordingKey:a.joinKeys(this.props,"alphaTextInput"),noBorderOnFocus:!0})),r.createElement(k.Visible,{visible:this.props.backgroundEnabled,onChange:this.onBackgroundEnabledChange,recordingKey:a.joinKeys(this.props,"visibleToggle"),className:E.visible})))}renderFillPaintBackground(){const e=f.extractStyleContainerProps(Object.assign({},this.props,{styleType:"FILL",inheritStyleKeyField:"inheritFillStyleKeyForBackground"}));return r.createElement(O.PaintList,Object.assign({propertyList:this.props.fillPaints,onChange:this.onPaintsChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:p.SelectedPropertyType.BACKGROUND,recordingKey:a.joinKeys(this.props,"paintList")},y.extractPaintPickerContainerProps(this.props),e))}render(){const e=this.props.idPrefix+"-",t=this.props.pickerShown&&this.props.pickerShown.id===_.COLOR_PICKER_ID,o=!this.props.fillPaints,i=this.props.hasExports&&(o||this.props.fillPaints&&c.getValue(this.props.fillPaints,[]).length>0);return r.createElement(u.Panel,null,o?this.renderSimpleBackground():this.renderFillPaintBackground(),i&&r.createElement(u.Row,null,r.createElement(C.Checkbox,{className:E.checkbox,id:e+"export-background-disabled",property:this.props.exportBackgroundDisabled===c.MIXED?c.MIXED:!this.props.exportBackgroundDisabled,onChange:this.onExportBackgroundDisabledChange,recordingKey:a.joinKeys(this.props,"exportDisableCheckbox")}),r.createElement(u.Label,{className:E.checkboxLabel,htmlFor:e+"export-background-disabled","data-tooltip-text":"Include the canvas or group background in exports."},"Show in exports")),t&&r.createElement(y.ColorPicker,Object.assign({title:"Background",initialPosition:new s.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:c.notMixed(this.state.mergedColorAndOpacity)?c.getValue(this.state.mergedColorAndOpacity):{r:1,g:1,b:1,a:1},onChange:this.onColorChange,recordingKey:a.joinKeys(this.props,"colorPicker")},y.extractColorPickerContainerProps(this.props))))}}_.displayName="BackgroundPanel",_.COLOR_PICKER_ID="background-panel-color-picker",t.BackgroundPanel=_,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,t,e){n.exports={singleRowHeight:"constraints_panel--singleRowHeight--17Dyg",doubleRowHeight:"constraints_panel--doubleRowHeight--MKayA",input:"constraints_panel--input--1Spe6 constraints_panel--singleRowHeight--17Dyg",border:"constraints_panel--border--3fCve",borderFocusWithin:"constraints_panel--borderFocusWithin--2yLIl",iconInsideBorderFocusWithin:"constraints_panel--iconInsideBorderFocusWithin--3mAT7",rowSelectedSecondary:"constraints_panel--rowSelectedSecondary--3iEbT constraints_panel--rowSelected--3_gxY",selectHiddenInput:"constraints_panel--selectHiddenInput--3T_UT",iconButton:"constraints_panel--iconButton--261nJ",borderFocus:"constraints_panel--borderFocus--nhRgh",multiValueInput:"constraints_panel--multiValueInput--x1mPj constraints_panel--borderFocusWithin--2yLIl",base:"constraints_panel--base--37If2",label:"constraints_panel--label--1vtA1 constraints_panel--base--37If2",labelInactive:"constraints_panel--labelInactive--2Kypn constraints_panel--label--1vtA1 constraints_panel--base--37If2",textInput:"constraints_panel--textInput--2wBtx constraints_panel--base--37If2 constraints_panel--input--1Spe6 constraints_panel--singleRowHeight--17Dyg",textAreaInput:"constraints_panel--textAreaInput--AieYv constraints_panel--base--37If2 constraints_panel--input--1Spe6 constraints_panel--singleRowHeight--17Dyg",noLeftBorder:"constraints_panel--noLeftBorder--HQwMw",squareRightBorder:"constraints_panel--squareRightBorder--3UU9V",_iconButton:"constraints_panel--_iconButton--GVitN",iconButtonEnabled:"constraints_panel--iconButtonEnabled--3vihl constraints_panel--_iconButton--GVitN",iconButtonDisabled:"constraints_panel--iconButtonDisabled--3qv2O constraints_panel--_iconButton--GVitN",iconButtonSelected:"constraints_panel--iconButtonSelected--1nU5l constraints_panel--_iconButton--GVitN",chitCenter:"constraints_panel--chitCenter--2H0z4",outlineButton:"constraints_panel--outlineButton--254Pf",modalPanel:"constraints_panel--modalPanel--QeV1f",panel:"constraints_panel--panel--x55ex",_row:"constraints_panel--_row--3ZsPg",singleRow:"constraints_panel--singleRow--19OvM constraints_panel--singleRowHeight--17Dyg constraints_panel--_row--3ZsPg",doubleRow:"constraints_panel--doubleRow--1ZtLV constraints_panel--doubleRowHeight--MKayA constraints_panel--_row--3ZsPg",labelRow:"constraints_panel--labelRow--SIZd3 constraints_panel--singleRow--19OvM constraints_panel--singleRowHeight--17Dyg constraints_panel--_row--3ZsPg",rowSelected:"constraints_panel--rowSelected--3_gxY",panelTitle:"constraints_panel--panelTitle--11-bB",panelTitleWithTip:"constraints_panel--panelTitleWithTip--1hnG0 constraints_panel--panelTitle--11-bB",panelTitleWithTipText:"constraints_panel--panelTitleWithTipText--2R-Lk",panelTitleWithTipIcon:"constraints_panel--panelTitleWithTipIcon--g4ENY",panelTitleFaded:"constraints_panel--panelTitleFaded--25ycC constraints_panel--panelTitle--11-bB",flushLeft:"constraints_panel--flushLeft--33zHk",constraintContainer:"constraints_panel--constraintContainer--3g2UU",selectorContainer:"constraints_panel--selectorContainer--1pd_D",selectorBox:"constraints_panel--selectorBox--3OBFR",selectorOuterRow:"constraints_panel--selectorOuterRow--1bE4q",selectorInnerRow:"constraints_panel--selectorInnerRow--3wsUZ",selectorOuterVerticalTarget:"constraints_panel--selectorOuterVerticalTarget--RrX8Z",selectorOuterVerticalIgnoredProng:"constraints_panel--selectorOuterVerticalIgnoredProng--3AJY3",selectorOuterVerticalSelectedProng:"constraints_panel--selectorOuterVerticalSelectedProng--yW0Aq",selectorOuterHorizontalTarget:"constraints_panel--selectorOuterHorizontalTarget--28EjW",selectorOuterHorizontalIgnoredProng:"constraints_panel--selectorOuterHorizontalIgnoredProng--3w4nE",selectorOuterHorizontalSelectedProng:"constraints_panel--selectorOuterHorizontalSelectedProng--sZY5P",selectorInnerBox:"constraints_panel--selectorInnerBox--2l-Vr",selectorInnerVerticalIgnoredProng:"constraints_panel--selectorInnerVerticalIgnoredProng--34rEk",selectorInnerVerticalSelectedProng:"constraints_panel--selectorInnerVerticalSelectedProng--3qs-T",selectorInnerHorizontalIgnoredProng:"constraints_panel--selectorInnerHorizontalIgnoredProng--WD6pM",selectorInnerHorizontalSelectedProng:"constraints_panel--selectorInnerHorizontalSelectedProng--2EJCA",selectorActiveSelectedProng:"constraints_panel--selectorActiveSelectedProng--2i---",selectorDisabledSelectedProng:"constraints_panel--selectorDisabledSelectedProng--3gN5-",selectorIgnoredProng:"constraints_panel--selectorIgnoredProng--1EyiL",_dropdownIconContainer:"constraints_panel--_dropdownIconContainer--2Lr3o",dropdownTopIconContainer:"constraints_panel--dropdownTopIconContainer--2XMIF constraints_panel--_dropdownIconContainer--2Lr3o",dropdownBottomIconContainer:"constraints_panel--dropdownBottomIconContainer--36Njo constraints_panel--_dropdownIconContainer--2Lr3o",dropdownIcon:"constraints_panel--dropdownIcon--1C36f",_dropdownInput:"constraints_panel--_dropdownInput--nHQd1",dropdownTopInput:"constraints_panel--dropdownTopInput--2HI1f constraints_panel--_dropdownInput--nHQd1",dropdownBottomInput:"constraints_panel--dropdownBottomInput--1sPet constraints_panel--_dropdownInput--nHQd1",checkbox:"constraints_panel--checkbox--18ddZ",checkboxLabel:"constraints_panel--checkboxLabel--3vvz3 checkbox--_checkboxLabel--1418z"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,s,c){t.exports={id:"g5d96af5e",src:'<svg width="7" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M4 8.793V2.207l1.146 1.146c.196.196.512.196.708 0 .195-.195.195-.511 0-.707l-2-2L3.5.293l-.354.353-2 2c-.195.196-.195.512 0 .707.196.196.512.196.708 0L3 2.207v6.586L1.854 7.646c-.196-.195-.512-.195-.708 0-.195.196-.195.512 0 .707l2 2 .354.354.354-.354 2-2c.195-.195.195-.511 0-.707-.196-.195-.512-.195-.708 0L4 8.793z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,c){t.exports={id:"g30124c53",src:'<svg width="11" height="7" xmlns="http://www.w3.org/2000/svg"><path d="M2.204 4H8.79L7.644 5.146c-.196.196-.196.512 0 .708.195.195.511.195.707 0l2-2 .353-.354-.353-.354-2-2c-.196-.195-.512-.195-.707 0-.196.196-.196.512 0 .708L8.79 3H2.204l1.147-1.146c.195-.196.195-.512 0-.708-.196-.195-.512-.195-.707 0l-2 2L.29 3.5l.354.354 2 2c.195.195.511.195.707 0 .195-.196.195-.512 0-.708L2.204 4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),o=r(143              ),n=r(542                   ),i=r(1426                               ),a=r(129                               ),l=r(282                             ),c=r(232                        ),p=r(144                        ),h=r(404                              ),d=r(1105                                                           ),C=r(391                                                                        ),m=r(477                                                        ),g=r(1118                     ),E=r(1119                                                             ),u=r(1120                                                               ),N=new n.HorizontalConstraintFormatter,I=new n.VerticalConstraintFormatter;function v(e,t){return(t.scrollBehavior===l.MIXED||"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===t.scrollBehavior)&&("HORIZONTAL"===e&&l.getValue(t.hasHorizontallyScrollingParent)||"VERTICAL"===e&&l.getValue(t.hasVerticallyScrollingParent))}class T extends o.PureComponent{constructor(){super(...arguments),this.onHorizontalConstraintChange=(e=>{i.fullscreen.updateSelectionProperties({horizontalConstraint:e})}),this.onVerticalConstraintChange=(e=>{i.fullscreen.updateSelectionProperties({verticalConstraint:e})}),this.onFixedChange=(e=>{this.props.dispatch(c.prototype.trackEvent({name:"Fixed When Scrolling Changed",params:{newValue:e}})),a.PrototypingHelpers.aggressivelySetScrollBehaviorOfSelection(e?a.ScrollBehavior.FIXED:a.ScrollBehavior.SCROLLS),i.fullscreen.commit()})}render(){return s.createElement(C.Panel,null,s.createElement(C.Row,null,s.createElement(C.PanelTitle,null,"Constraints")),s.createElement(C.DoubleRow,{className:g.constraintContainer},s.createElement(b,Object.assign({},this.props,{recordingKey:o.joinKeys(this.props,"constraintSelector")})),s.createElement("div",{className:g.dropdownTopIconContainer},s.createElement(p.Svg,{className:g.dropdownIcon,svg:u})),s.createElement(y,{className:g.dropdownTopInput,id:"horizontal-constraint-select",property:this.props.horizontalConstraint,formatter:N,onChange:this.onHorizontalConstraintChange,disabled:this.props.disabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disableInapplicable:v("HORIZONTAL",this.props),recordingKey:o.joinKeys(this.props,"horizontal")}),s.createElement("div",{className:g.dropdownBottomIconContainer},s.createElement(p.Svg,{className:g.dropdownIcon,svg:E})),s.createElement(y,{className:g.dropdownBottomInput,id:"vertical-constraint-select",property:this.props.verticalConstraint,formatter:I,onChange:this.onVerticalConstraintChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:this.props.disabled,disableInapplicable:v("VERTICAL",this.props),recordingKey:o.joinKeys(this.props,"vertical")})),this.props.allHaveScrollableFrameAsParent&&s.createElement(C.Row,null,s.createElement(d.Checkbox,{id:"fix-position-when-scrolling",property:this.props.scrollBehavior===l.MIXED?l.MIXED:"FIXED_WHEN_CHILD_OF_SCROLLING_FRAME"===this.props.scrollBehavior,disabled:this.props.disabled,onChange:this.onFixedChange,recordingKey:o.joinKeys(this.props,"fixWhenScrolling"),className:g.checkbox}),s.createElement("label",{className:g.checkboxLabel,"data-tooltip-content-key":h.TooltipView.FIX_POSITION_INFO,htmlFor:"fix-position-when-scrolling"},"Fix position when scrolling")),this.props.children)}}T.displayName="ConstraintsPanel",t.ConstraintsPanel=T;class S extends m.Select{}class R extends m.Option{}class y extends o.PureComponent{render(){return s.createElement(S,Object.assign({className:this.props.className,recordingKey:o.joinKeys(this.props,"select")},this.props),s.createElement(R,{value:"MIN",recordingKey:o.joinKeys(this.props,"select","MIN")}),s.createElement(R,{value:"MAX",recordingKey:o.joinKeys(this.props,"select","MAX")}),s.createElement(R,{value:"STRETCH",disabled:this.props.disableInapplicable,recordingKey:o.joinKeys(this.props,"select","STRETCH")}),s.createElement(R,{value:"CENTER",recordingKey:o.joinKeys(this.props,"select","CENTER")}),s.createElement(R,{value:"SCALE",disabled:this.props.disableInapplicable,recordingKey:o.joinKeys(this.props,"select","SCALE")}))}}y.displayName="ConstraintSelect";class b extends o.PureComponent{constructor(){super(...arguments),this.meta=(e=>e.shiftKey||e.metaKey),this.updateFullscreen=(e=>{this.props.disabled||i.fullscreen.updateSelectionProperties(e)}),this.topClick=(e=>{let t="MIN";this.meta(e)&&("MAX"===this.props.verticalConstraint?t=v("VERTICAL",this.props)?"MIN":"STRETCH":"STRETCH"===this.props.verticalConstraint?t="MAX":this.props.verticalConstraint===t&&(t=v("VERTICAL",this.props)?"MIN":"SCALE")),this.updateFullscreen({verticalConstraint:t})}),this.bottomClick=(e=>{let t="MAX";this.meta(e)&&("MIN"===this.props.verticalConstraint?t=v("VERTICAL",this.props)?"MAX":"STRETCH":"STRETCH"===this.props.verticalConstraint?t="MIN":this.props.verticalConstraint===t&&(t=v("VERTICAL",this.props)?"MAX":"SCALE")),this.updateFullscreen({verticalConstraint:t})}),this.leftClick=(e=>{let t="MIN";this.meta(e)&&("MAX"===this.props.horizontalConstraint?t=v("HORIZONTAL",this.props)?"MIN":"STRETCH":"STRETCH"===this.props.horizontalConstraint?t="MAX":this.props.horizontalConstraint===t&&(t=v("HORIZONTAL",this.props)?"MIN":"SCALE")),this.updateFullscreen({horizontalConstraint:t})}),this.rightClick=(e=>{let t="MAX";this.meta(e)&&("MIN"===this.props.horizontalConstraint?t=v("HORIZONTAL",this.props)?"MAX":"STRETCH":"STRETCH"===this.props.horizontalConstraint?t="MIN":this.props.horizontalConstraint===t&&(t=v("HORIZONTAL",this.props)?"MAX":"SCALE")),this.updateFullscreen({horizontalConstraint:t})}),this.centerClick=(e=>{const{top:t,left:r,width:s,height:o}=e.target.parentElement.getBoundingClientRect(),n=e.clientX-r-s/2,i=e.clientY-t-o/2;if(Math.abs(n)<Math.abs(i)){let t="CENTER";this.meta(e)&&this.props.verticalConstraint===t&&(t="SCALE"),this.updateFullscreen({verticalConstraint:t})}else{let t="CENTER";this.meta(e)&&this.props.horizontalConstraint===t&&(t="SCALE"),this.updateFullscreen({horizontalConstraint:t})}})}render(){const e=this.props.horizontalConstraint,t=this.props.verticalConstraint,r=(e,t,r)=>{let s=e,o=g.selectorIgnoredProng;return r&&(s=t,o=this.props.disabled?g.selectorDisabledSelectedProng:g.selectorActiveSelectedProng),`${s} ${o}`};return s.createElement("div",{className:g.selectorContainer},s.createElement("div",{className:g.selectorBox},s.createElement("div",{className:g.selectorOuterRow},s.createElement(C.RecordableDiv,{className:g.selectorOuterVerticalTarget,recordingKey:o.joinKeys(this.props,"top"),onClick:this.topClick},s.createElement("div",{className:r(g.selectorOuterVerticalIgnoredProng,g.selectorOuterVerticalSelectedProng,t in{MIN:!0,STRETCH:!0})}))),s.createElement("div",{className:g.selectorInnerRow},s.createElement(C.RecordableDiv,{className:g.selectorOuterHorizontalTarget,recordingKey:o.joinKeys(this.props,"left"),onClick:this.leftClick},s.createElement("div",{className:r(g.selectorOuterHorizontalIgnoredProng,g.selectorOuterHorizontalSelectedProng,e in{MIN:!0,STRETCH:!0})})),s.createElement("div",{className:g.selectorInnerBox,onClick:this.centerClick},e in{CENTER:!0}&&s.createElement(C.RecordableDiv,{className:r(g.selectorInnerVerticalIgnoredProng,g.selectorInnerVerticalSelectedProng,t in{CENTER:!0}),recordingKey:o.joinKeys(this.props,"centerY")}),e in{CENTER:!0}&&s.createElement(C.RecordableDiv,{className:r(g.selectorInnerHorizontalIgnoredProng,g.selectorInnerHorizontalSelectedProng,e in{CENTER:!0}),recordingKey:o.joinKeys(this.props,"centerX")}),!(e in{CENTER:!0})&&s.createElement(C.RecordableDiv,{className:r(g.selectorInnerHorizontalIgnoredProng,g.selectorInnerHorizontalSelectedProng,e in{CENTER:!0}),recordingKey:o.joinKeys(this.props,"centerX")}),!(e in{CENTER:!0})&&s.createElement(C.RecordableDiv,{className:r(g.selectorInnerVerticalIgnoredProng,g.selectorInnerVerticalSelectedProng,t in{CENTER:!0}),recordingKey:o.joinKeys(this.props,"centerY")})),s.createElement(C.RecordableDiv,{className:g.selectorOuterHorizontalTarget,recordingKey:o.joinKeys(this.props,"right"),onClick:this.rightClick},s.createElement("div",{className:r(g.selectorOuterHorizontalIgnoredProng,g.selectorOuterHorizontalSelectedProng,e in{MAX:!0,STRETCH:!0})}))),s.createElement("div",{className:g.selectorOuterRow},s.createElement(C.RecordableDiv,{className:g.selectorOuterVerticalTarget,recordingKey:o.joinKeys(this.props,"bottom"),onClick:this.bottomClick},s.createElement("div",{className:r(g.selectorOuterVerticalIgnoredProng,g.selectorOuterVerticalSelectedProng,t in{MAX:!0,STRETCH:!0})})))))}}b.displayName="ConstraintSelector",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=s(34,1   ),n=s(143              ),r=s(542                   ),p=s(389                         ),a=s(477               ),i=s(527                                                        ),d=new r.TitleCaseFormatter;class c extends a.Option{}const l=["NORMAL","SELECT_DIVIDER","DARKEN","MULTIPLY","COLOR_BURN","SELECT_DIVIDER","LIGHTEN","SCREEN","COLOR_DODGE","SELECT_DIVIDER","OVERLAY","SOFT_LIGHT","HARD_LIGHT","SELECT_DIVIDER","DIFFERENCE","EXCLUSION","SELECT_DIVIDER","HUE","SATURATION","COLOR","LUMINOSITY"],E=["PASS_THROUGH"].concat(l);class h extends a.Select{}class m extends t.PureComponent{render(){const e=this.props.includePassThrough?E:l;return t.createElement(h,{id:`blend-mode-select-${this.props.id}`,className:this.props.className,property:this.props.property,formatter:d,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey},e.map((e,o)=>"SELECT_DIVIDER"===e?t.createElement(a.SelectDivider,{key:o}):t.createElement(c,{key:o,value:e,recordingKey:n.joinKeys(this.props,e)})))}}m.displayName="BlendMode",o.BlendMode=m;class u extends a.Select{renderInput(){return t.createElement(p.IconButton,{tabIndex:-1,onMouseDown:this.onMouseDown,svg:i})}}class D extends t.PureComponent{render(){const e=this.props.includePassThrough?E:l;return t.createElement(u,{id:`blend-mode-select-${this.props.id}`,className:this.props.className,dropdownClassName:this.props.dropdownClassName,property:this.props.property,formatter:d,onChange:this.props.onChange,onMouseDown:this.props.onMouseDown,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey},e.map((e,o)=>"SELECT_DIVIDER"===e?t.createElement(a.SelectDivider,{key:o}):t.createElement(c,{key:o,value:e,recordingKey:n.joinKeys(this.props,e)})))}}D.displayName="CompactBlendMode",o.CompactBlendMode=D,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){e.exports={_centered:"effects_settings--_centered--1J2_T",blur:"effects_settings--blur--1kS5j effects_settings--_centered--1J2_T",blurLabel:"effects_settings--blurLabel--1l85A effects_settings--_centered--1J2_T",x:"effects_settings--x--1SUoa effects_settings--_centered--1J2_T",xLabel:"effects_settings--xLabel--1pRTI effects_settings--_centered--1J2_T",y:"effects_settings--y--1D9-s effects_settings--_centered--1J2_T",yLabel:"effects_settings--yLabel--2s5DM effects_settings--_centered--1J2_T",chit:"effects_settings--chit--3NB-u paint_panels--chit--1AKml",color:"effects_settings--color--3mUb3 effects_settings--_centered--1J2_T",opacity:"effects_settings--opacity--3qKsc effects_settings--_centered--1J2_T paint_panels--opacityInputContainer--1ckND",blendMode:"effects_settings--blendMode--1SEcc effects_settings--_centered--1J2_T",blendModeDropdown:"effects_settings--blendModeDropdown--1mmOv",blurSingleLabel:"effects_settings--blurSingleLabel--2fIwl effects_settings--_centered--1J2_T",blurSingleInput:"effects_settings--blurSingleInput--2afwM effects_settings--_centered--1J2_T",colorValueContainer:"effects_settings--colorValueContainer--MSeEk paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),i=o(38,1       ),n=o(143              ),r=o(198         ),a=o(542                   ),l=o(1426                               ),c=o(341                              ),p=o(232                        ),h=o(386                        ),u=o(497                                  ),d=o(214                                                    ),g=o(1122                                                               ),f=o(468                                                    ),m=o(533                                                                    ),C=o(478                                                                          ),b=o(391                                                                        ),S=o(1123                    );class y extends s.PureComponent{render(){return"INNER_SHADOW"===this.props.effect.type||"DROP_SHADOW"===this.props.effect.type?s.createElement(N,Object.assign({},this.props)):s.createElement(w,Object.assign({},this.props))}}y.displayName="EffectSettings",t.EffectSettings=y;class N extends s.PureComponent{constructor(e){super(e),this.colorFormatter=new a.ColorHexFormatterWithoutHash,this.chitRowRef=(e=>{e&&(this.chitRow=i.findDOMNode(e))}),this.toggleColorPicker=(()=>{this.state.colorPickerShown?this.hideColorPicker():(this.pickerPosition=h.pickerPositionLeftOf(this.chitRow),this.setState({colorPickerShown:!0}))}),this.hideColorPicker=(()=>{this.setState({colorPickerShown:!1})}),this.onClose=(()=>{this.props.dispatch(p.fullscreen.hidePicker()),l.fullscreen.deselectProperty()}),this.onRadiusChange=((e,t)=>{const o=Object.assign({},this.props.effect,{radius:e});this.props.onChange(o,t)}),this.onRadiusScrubChange=(e=>{this.onRadiusChange(e,c.ShouldCommit.NO)}),this.onXChange=(e=>{this.onOffsetChange({x:e,y:this.props.effect.offset.y})}),this.onXScrubChange=(e=>{this.onOffsetChange({x:e,y:this.props.effect.offset.y},c.ShouldCommit.NO)}),this.onYChange=(e=>{this.onOffsetChange({y:e,x:this.props.effect.offset.x})}),this.onYScrubChange=(e=>{this.onOffsetChange({y:e,x:this.props.effect.offset.x},c.ShouldCommit.NO)}),this.onOffsetChange=((e,t)=>{const o=Object.assign({},this.props.effect,{offset:e});this.props.onChange(o,t)}),this.onColorChange=((e,t)=>{const o=Object.assign({},this.props.effect,{color:e});this.props.onChange(o,t)}),this.onOpacityChange=(e=>{this.onColorChange(Object.assign({},this.props.effect.color,{a:e}))}),this.onOpacityScrubChange=(e=>{this.onColorChange(Object.assign({},this.props.effect.color,{a:e}),c.ShouldCommit.NO)}),this.onBlendModeChange=(e=>{const t=Object.assign({},this.props.effect,{blendMode:e});this.props.onChange(t)}),this.state={colorPickerShown:!1}}render(){const e=new r.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY);return s.createElement(d.DraggableModal,{title:"Effect",headerSize:"small",initialPosition:e,onClose:this.onClose,recordingKey:n.joinKeys(this.props,"modal")},s.createElement(b.ModalPanel,null,s.createElement(b.Row,null,s.createElement(b.LabelInactive,{className:S.blurLabel},"Blur"),s.createElement(b.LabelInactive,{className:S.xLabel},"X"),s.createElement(b.LabelInactive,{className:S.yLabel},"Y")),s.createElement(b.Row,null,s.createElement(u.ScrubbablePositivePixelInput,{className:S.blur,value:this.props.effect.radius,onValueChange:this.onRadiusChange,onScrubChange:this.onRadiusScrubChange,scrubMultiplier:.1,wheelMultiplier:4,resolution:.1,min:0,max:250,bigNudgeAmount:this.props.bigNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,autoFocus:!0,dispatch:this.props.dispatch,recordingKey:n.joinKeys(this.props,"blurInput")}),s.createElement(u.ScrubbablePixelInput,{className:S.x,value:this.props.effect.offset.x,onValueChange:this.onXChange,onScrubChange:this.onXScrubChange,dispatch:this.props.dispatch,min:-3e4,max:3e4,bigNudgeAmount:this.props.bigNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,recordingKey:n.joinKeys(this.props,"xInput")}),s.createElement(u.ScrubbablePixelInput,{className:S.y,value:this.props.effect.offset.y,onValueChange:this.onYChange,onScrubChange:this.onYScrubChange,dispatch:this.props.dispatch,min:-3e4,max:3e4,bigNudgeAmount:this.props.bigNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,recordingKey:n.joinKeys(this.props,"yInput")})),s.createElement(b.Row,{ref:this.chitRowRef},s.createElement("div",{className:S.colorValueContainer},s.createElement("div",{className:S.chit},s.createElement(f.Chit,{color:this.props.effect.color,onClick:this.toggleColorPicker,recordingKey:n.joinKeys(this.props,"chit")})),s.createElement(C.ColorInput,{className:S.color,noLeftBorder:!0,formatter:this.colorFormatter,property:this.props.effect.color,onChange:this.onColorChange,recordingKey:n.joinKeys(this.props,"colorInput"),noBorderOnFocus:!0}),s.createElement(u.ScrubbablePercentageInput,{className:S.opacity,value:this.props.effect.color.a,onValueChange:this.onOpacityChange,onScrubChange:this.onOpacityScrubChange,dispatch:this.props.dispatch,recordingKey:n.joinKeys(this.props,"opacityInput"),noBorderOnFocus:!0})),s.createElement(g.CompactBlendMode,{id:"effect-settings-blend-mode",className:S.blendMode,dropdownClassName:S.blendModeDropdown,property:this.props.effect.blendMode,onChange:this.onBlendModeChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:n.joinKeys(this.props,"blendMode")}))),this.state.colorPickerShown&&s.createElement(m.ColorPicker,Object.assign({title:"Effect Color",initialPosition:this.pickerPosition,color:this.props.effect.color,onChange:this.onColorChange,onClose:this.hideColorPicker,recordingKey:n.joinKeys(this.props,"colorPicker")},m.extractColorPickerContainerProps(this.props))))}}N.displayName="ShadowEffectSettings";class w extends s.PureComponent{constructor(){super(...arguments),this.onClose=(()=>{this.props.dispatch(p.fullscreen.hidePicker()),l.fullscreen.deselectProperty()}),this.onRadiusChange=((e,t)=>{const o=Object.assign({},this.props.effect,{radius:e});this.props.onChange(o,t)}),this.onRadiusScrubChange=(e=>{this.onRadiusChange(e,c.ShouldCommit.NO)})}render(){const e=new r.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY);return s.createElement(d.DraggableModal,{title:"Effect",headerSize:"small",initialPosition:e,onClose:this.onClose,recordingKey:n.joinKeys(this.props,"modal")},s.createElement(b.ModalPanel,null,s.createElement(b.Row,null,s.createElement(b.LabelInactive,{className:S.blurSingleLabel},"Blur"),s.createElement(u.ScrubbablePositivePixelInput,{className:S.blurSingleInput,value:this.props.effect.radius,onValueChange:this.onRadiusChange,onScrubChange:this.onRadiusScrubChange,scrubMultiplier:.1,wheelMultiplier:4,resolution:.1,min:0,max:250,bigNudgeAmount:this.props.bigNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,autoFocus:!0,dispatch:this.props.dispatch,recordingKey:n.joinKeys(this.props,"blurInput")}))))}}w.displayName="BlurEffectSettings",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){e.exports={effectIcon:"effects_panel--effectIcon--nBG11",effectIconInvisible:"effects_panel--effectIconInvisible--AFDwV effects_panel--effectIcon--nBG11",select:"effects_panel--select--6U_kS",selectDropdown:"effects_panel--selectDropdown--1LEbM",inputInvisible:"effects_panel--inputInvisible--3fZRh",visibleButton:"effects_panel--visibleButton--2MyIf",removeButton:"effects_panel--removeButton--11X7P"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(38,1       ),i=t(232                        ),p=t(143              ),n=t(1426                               ),c=t(341                              ),l=t(282                             ),a=t(129                               ),h=t(386                        ),f=t(391                               ),d=t(389                         ),g=t(465                                        ),u=t(477               ),y=t(538                 ),m=t(1124                                  ),E=t(533                           ),S=t(443                         ),P=t(1125                 ),b=t(542                   ),_=t(429                                                          ),w=t(430                                                            ),C=t(459                                                        ),v=t(460                                                          ),N=["INNER_SHADOW","DROP_SHADOW","FOREGROUND_BLUR","BACKGROUND_BLUR"],R={DROP_SHADOW:8,INNER_SHADOW:8,BACKGROUND_BLUR:1,FOREGROUND_BLUR:1};class O extends o.PureComponent{constructor(){super(...arguments),this.onEffectsChange=((e,s)=>{n.fullscreen.updateSelectionProperties({effects:e},s)})}render(){const e=l.getValue(this.props.effects,[]),s={};N.forEach(e=>s[e]=0),e.forEach(e=>s[e.type]++);const t=N.filter(e=>s[e]<R[e]),r=S.extractStyleContainerProps(Object.assign({},this.props,{styleType:"EFFECT",inheritStyleKeyField:"inheritEffectStyleKey"}));return o.createElement(f.Panel,null,o.createElement(K,Object.assign({propertyList:this.props.effects,selectedPropertyType:a.SelectedPropertyType.EFFECT,onChange:this.onEffectsChange,currentSelectedProperty:this.props.currentSelectedProperty,recordingKey:p.joinKeys(this.props,"effectsList"),pickerShown:this.props.pickerShown,allowedEffects:t,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount},E.extractColorPickerContainerProps(this.props),r,{showListLayout:!0})))}}O.displayName="EffectsPanel",s.EffectsPanel=O;class k extends g.StyleAndPropertyList{}class K extends o.PureComponent{constructor(){super(...arguments),this.addProperty=(()=>{const e=l.getValue(this.props.propertyList,[]);this.props.onChange(e.concat([{blendMode:"NORMAL",color:{r:0,g:0,b:0,a:.25},offset:{x:0,y:4},radius:4,type:"DROP_SHADOW",visible:!0}]))}),this.removeProperty=(e=>{const s=l.getValue(this.props.propertyList,[]);this.props.onChange(s.filter((s,t)=>t!==e)),n.fullscreen.deselectProperty()}),this.renderProperty=((e,s,t,r,i,n,c,l)=>o.createElement(F,Object.assign({key:`effect-${s}`,id:`${this.props.selectedPropertyType}-${s}`,index:s,effect:e,selected:t,hasFocus:r,onChange:i,onMouseDown:n,onMouseMove:c,onMouseUp:l,onRemoveEffect:this.removeProperty.bind(this,s),pickerShown:this.props.pickerShown,allowedEffects:this.props.allowedEffects,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:p.joinKeys(this.props,s)},E.extractColorPickerContainerProps(this.props))))}render(){return o.createElement(k,Object.assign({title:"Effects",propertyList:this.props.propertyList,onChange:this.props.onChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:this.props.selectedPropertyType,addProperty:this.addProperty,renderProperty:this.renderProperty,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,recordingKey:this.props.recordingKey},S.extractStyleContainerProps(this.props)))}}K.displayName="EffectsList";class x extends u.Select{}class A extends u.Option{}class F extends o.PureComponent{constructor(){super(...arguments),this.rowRef=(e=>{e&&(this.row=r.findDOMNode(e))}),this.stopPropagation=(e=>e.stopPropagation()),this.formatter=new b.EffectFormatter,this.onChange=((e,s)=>{e.visible=!0,this.props.onChange(e,s)}),this.onTypeChange=(e=>{this.onChange(Object.assign({},this.props.effect,{type:e}),c.ShouldCommit.YES)}),this.toggleVisible=(e=>{this.props.onChange(Object.assign({},this.props.effect,{visible:e}),c.ShouldCommit.YES)}),this.settingsShown=(()=>this.props.pickerShown&&this.props.pickerShown.id===this.props.id),this.toggleSettings=(e=>{if(e&&e.stopPropagation(),this.settingsShown())this.props.dispatch(i.fullscreen.hidePicker()),n.fullscreen.deselectProperty();else{const e=h.pickerPositionLeftOf(this.row);n.fullscreen.updateAppModel({currentSelectedProperty:{type:a.SelectedPropertyType.EFFECT,indices:[this.props.index]}}),this.props.dispatch(i.fullscreen.showPicker({id:this.props.id,initialX:e.x,initialY:e.y}))}}),this.onRowFocus=(()=>{this.props.pickerShown&&this.props.pickerShown.id===this.props.id&&this.props.dispatch(i.fullscreen.hidePicker())})}isValidEffectOption(e){return this.props.effect.type===e||-1!==this.props.allowedEffects.indexOf(e)}render(){const e=N.map((e,s)=>o.createElement(A,{key:s,value:e,disabled:!this.isValidEffectOption(e),recordingKey:p.joinKeys(this.props,"select",e)}));return o.createElement("div",null,o.createElement(f.Row,{ref:this.rowRef,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,onFocus:this.onRowFocus,recordingKey:this.props.recordingKey},o.createElement(d.IconButton,{className:this.props.effect.visible?P.effectIcon:P.effectIconInvisible,svg:_,fallbackSvg:w,onMouseDown:this.toggleSettings,onMouseUp:this.stopPropagation,recordingKey:p.joinKeys(this.props,"toggleSettings"),selected:this.settingsShown()}),o.createElement(x,{id:this.props.id,className:P.select,inputClassName:this.props.effect.visible?"":P.inputInvisible,dropdownClassName:P.selectDropdown,property:this.props.effect.type,formatter:this.formatter,onChange:this.onTypeChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:p.joinKeys(this.props,"select")},e),o.createElement(y.Visible,{visible:this.props.effect.visible,onChange:this.toggleVisible,recordingKey:p.joinKeys(this.props,"visibleToggle"),className:P.visibleButton}),o.createElement(d.IconButton,{className:P.removeButton,recordingKey:p.joinKeys(this.props,"removeButton"),svg:C,fallbackSvg:v,onClick:this.props.onRemoveEffect})),this.settingsShown()&&o.createElement(m.EffectSettings,Object.assign({effect:this.props.effect,onChange:this.onChange,pickerShown:this.props.pickerShown,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:p.joinKeys(this.props,"settings")},E.extractColorPickerContainerProps(this.props))))}}F.displayName="Effect",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});let i=0;class o{constructor(){this.work=(()=>{const e=this.jobs.shift();if(e)try{const t=e.callback();e.resolve(t)}catch(s){e.reject(s)}}),this.jobs=[]}isDone(){return 0===this.numJobs()}numJobs(){return this.jobs.length}cancelJobs(e){this.jobs=this.jobs.filter(s=>-1===e.indexOf(s.jobId))}queueJob(e){let s,t;const o=new Promise((e,i)=>{s=e,t=i}),r=++i;return this.jobs.push({jobId:r,resolve:s,reject:t,callback:e}),{promise:o,jobId:r}}}s.QueuedWorker=o;const r={requestAnimationFrame:e=>requestAnimationFrame(e),computeElapsedTime:e=>{let s=Date.now();return e(),Date.now()-s}};class u{constructor(e={}){this.tick=(()=>{if(!this.isTickScheduled)throw new Error("wat, how did tick() get called if we're not ticking?");let e=0,s=0;for(;s<this.msPerTick&&!this.queuedWorker.isDone();)s+=this.utils.computeElapsedTime(this.queuedWorker.work),e++;this.debug&&console.log(`did ${e} jobs in ${s} ms`),this.isTickScheduled=!1,this.queuedWorker.isDone()||this.requestTick()}),this.requestTick=(()=>{this.isTickScheduled||(this.isTickScheduled=!0,this.utils.requestAnimationFrame(this.tick))}),this.numJobs=(()=>this.queuedWorker.numJobs()),this.queueJob=(e=>{let{promise:s,jobId:t}=this.queuedWorker.queueJob(e);return this.requestTick(),{promise:s,jobId:t}}),this.queuedWorker=new o,this.isTickScheduled=!1,this.msPerTick=e.msPerTick||6,this.utils=e.utils||r,this.debug=!0===e.debug}cancelJobs(e){this.queuedWorker.cancelJobs(e)}}s.AnimationFrameWorker=u,s.animationFrameWorker=new u({debug:!1}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=n(232                        ),i=n(97      ),o=n(302          ),r=n(1426                               ),s=n(95               ),a=n(176              ),p=n(1130                                                    ),c=Object.create(null);t.checkpointCallback=((e,t)=>{e in c&&c[e](t)}),t.externalExport=function(e,t,n,u,d){const f=Math.random().toString(36).substring(2);r.fullscreen.sendMessage("triggerExportCheckpoint",{uuid:f});let b=null;if(t===p.ExportTab.zeplin){b=`/zeplin_export?ids=${d.join(",")}`;const e=s.parse(location.search).zeplin_scheme;e&&(b+=`&zeplin_scheme=${e}`)}else t===p.ExportTab.avocode&&(b=`/avocode_export?filekey=${n}&ids=${d.join(",")}`);const x=a.desktopApp?null:o.unsafeWindowOpen(b,"_blank"),h=()=>{null!=x&&x.close()};c[f]=(r=>{i.default.get(`/api/files/${n}`).then(n=>{const i=JSON.parse(n.response),s=i.meta.checkpoint_token,d=i.meta.name;if(b+=`&token=${s}&filename=${d}`,a.desktopApp)return o.unsafeWindowOpen(`${b}&desktop=true`,"_blank"),null!=u&&u(),void delete c[f];if(!r)return h(),e(l.flash.error("Couldn't save checkpoint, please try again later")),delete c[f],void(null!=u&&u());const k=x;null!=k.startExport?t===p.ExportTab.zeplin?(k.startExport(s),setTimeout(()=>{try{k.blurred||(e(l.flash.error("Couldn't launch Zeplin, is it installed?")),h())}catch(t){e(l.flash.error("Couldn't launch Zeplin, is it installed?")),h()}null!=u&&u(),delete c[f]},200)):(k.startExport(s,d),delete c[f]):setTimeout(c[f].bind(null,r),200)})}),setTimeout(()=>{f in c&&(h(),e(l.flash.error("Timed out waiting for export, aborting")),delete c[f],null!=u&&u())},1e4)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){e.exports={exportModalContainer:"export_picker--exportModalContainer--X1HLS",scrollContainer:"export_picker--scrollContainer--2uP9J",emptyModal:"export_picker--emptyModal--2QvA4",modalHeader:"export_picker--modalHeader--G2AXm",select:"export_picker--select--2Snz6",selectDropdown:"export_picker--selectDropdown--290jQ",tabsHeader:"export_picker--tabsHeader--3OVEG properties_panel--tabsHeader--YEflB pages_panel--tabsHeader--p4Khp",header:"export_picker--header--203Gv",headerTitle:"export_picker--headerTitle--1jsXn",label:"export_picker--label--1CTVZ checkbox--_checkboxLabel--1418z",labelWithoutCheckbox:"export_picker--labelWithoutCheckbox--1KvQM export_picker--label--1CTVZ checkbox--_checkboxLabel--1418z",button:"export_picker--button--1Atml",row:"export_picker--row--1k2T7",nonImageRow:"export_picker--nonImageRow--3fFvp",thumbContainer:"export_picker--thumbContainer--2lDEW",thumb:"export_picker--thumb--3rMnF",twoRows:"export_picker--twoRows--2I_tT",nameInfo:"export_picker--nameInfo--24tke export_picker--twoRows--2I_tT",name:"export_picker--name--2aKko ellipsis--ellipsis--1RWY6",modal:"export_picker--modal--1_gOQ",warningRow:"export_picker--warningRow--3gFjU",warningIcon:"export_picker--warningIcon--2Vskc",warning:"export_picker--warning--3kTl- ellipsis--ellipsis--1RWY6",settingsInfo:"export_picker--settingsInfo--2E6o7 export_picker--twoRows--2I_tT",exportHeader:"export_picker--exportHeader--3B-kv export_picker--header--203Gv",frameName:"export_picker--frameName--2eTmJ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),a=s(232                        ),i=s(466                                          ),r=s(1426                               ),n=s(1127                             ),l=s(282                             ),p=s(198         ),c=s(174          ),m=s(370              ),h=s(219          ),d=s(214                                                    ),g=s(1105                                                           ),x=s(542                   ),b=s(204                                            ),u=s(376                                                  ),E=s(144                        ),f=s(1128                                      ),I=s(477                                                        ),v=s(385                                        ),k=s(1129                 ),T=s(279         ),N=s(560                           );t.EXPORT_PICKER_ID="export-picker";const C=m.pxToInt(v.exportPickerWidth),w=m.pxToInt(v.toolbarHeight);t.ExportTab={zeplin:"zeplin",avocode:"avocode",images:"images"};const S="figma.export-picker-tab";class _ extends I.Select{}class D extends I.Option{}class y{constructor(){this.format=(e=>{switch(e){case"avocode":return"Avocode";case"images":return"Image";case"zeplin":return"Zeplin"}return""})}parse(){return null}}class P extends o.PureComponent{constructor(e){super(e),this.exportTabFormatter=new y,this.onCancel=(()=>{this.props.dispatch(a.fullscreen.hidePicker())}),this.onExportTabChange=(e=>{this.setState({activeTab:e})});let s=t.ExportTab.images;c.sessionStorageOrNull&&(s=c.sessionStorageOrNull.getItem(S)||t.ExportTab.images),this.state={activeTab:s}}render(){const e=new p.Vector(window.innerWidth-C,w+12);let s="Export";return(this.props.avocodeIntegration||this.props.zeplinIntegration)&&(s=o.createElement(_,{className:k.select,dropdownClassName:k.selectDropdown,id:"export-tab-select",property:this.state.activeTab,onChange:this.onExportTabChange,formatter:this.exportTabFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown},o.createElement(D,{value:t.ExportTab.images}),!!this.props.avocodeIntegration&&o.createElement(D,{value:t.ExportTab.avocode}),!!this.props.zeplinIntegration&&o.createElement(D,{value:t.ExportTab.zeplin}))),o.createElement(d.DraggableModal,{title:s,headerSize:"small",initialPosition:e,onClose:this.onCancel,dragHeaderOnly:!0,headerClassName:k.modalHeader},o.createElement("div",{className:k.exportModalContainer},o.createElement(M,Object.assign({},this.props,{width:C,activeTab:this.state.activeTab}))))}}P.displayName="ExportPickerModal",t.ExportPickerModal=P;const z=(e,t,s)=>{const{jobId:o}=n.animationFrameWorker.queueJob(()=>{const o={size:{x:32,y:32},nodeId:t,contentsOnly:s},a=r.fullscreen.sendMessage("requestExportThumbnail",o,null);let n="";a.args&&a.args.pixelSize.x>0&&a.args.pixelSize.y>0&&(n=i.pixelsToDataURI(a.buffer,a.args.pixelSize)),e.setState({thumbnailUri:n})});e.ongoingJobIds.push(o)};class J extends o.PureComponent{constructor(){super(...arguments),this.ongoingJobIds=[],this.state={thumbnailUri:null},this.panToNode=(()=>{r.fullscreen.panToNode(this.props.nodeID)})}componentDidMount(){z(this,this.props.nodeID,!1)}componentWillUnmount(){this.ongoingJobIds&&this.ongoingJobIds.length>0&&n.animationFrameWorker.cancelJobs(this.ongoingJobIds)}render(){return o.createElement("div",{className:`${k.row} ${this.props.className||""}`},o.createElement("div",{className:k.thumbContainer,onClick:this.panToNode},o.createElement("img",{src:this.state.thumbnailUri,className:k.thumb,"data-tooltip-text":this.props.name})),o.createElement("div",{className:k.frameName},o.createElement("div",{className:k.name},this.props.name)))}}J.displayName="FrameRow";const F=new x.ExportConstraintFormatter;class W extends o.PureComponent{constructor(){super(...arguments),this.ongoingJobIds=[],this.state={size:"",warning:"",warningTooltip:"",thumbnailUri:""},this.refreshWarningAndSize=(e=>{const{size:t,warning:s,warningTooltip:o}=r.fullscreen.sendMessage("getExportWarningAndSize",{guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting}).args;this.setState({size:t,warning:s,warningTooltip:o})}),this.panToNode=(()=>{r.fullscreen.panToNode(this.props.nodeID)})}componentDidMount(){this.refreshWarningAndSize(this.props),z(this,this.props.nodeID,this.props.exportSetting.contentsOnly)}componentWillUnmount(){this.ongoingJobIds&&this.ongoingJobIds.length>0&&n.animationFrameWorker.cancelJobs(this.ongoingJobIds)}UNSAFE_componentWillReceiveProps(e){this.props.nodeID===e.nodeID&&this.props.title===e.title&&this.props.exportSetting===e.exportSetting||(this.refreshWarningAndSize(e),z(this,e.nodeID,e.exportSetting.contentsOnly))}render(){let{filename:e,warning:t,warningTooltip:s,title:a,exportSetting:i,onToggleChecked:r,isChecked:n,isDisabled:l}=this.props;const{imageType:p}=i,{thumbnailUri:c}=this.state;t||(t=this.state.warning),s||(s=this.state.warningTooltip);const m=t?o.createElement("div",{className:k.warningRow},o.createElement(E.Svg,{className:k.warningIcon,svg:N,"data-tooltip-text":s}),o.createElement("span",{className:k.warning},t)):o.createElement("div",null);return o.createElement("div",{className:k.row},o.createElement(g.Checkbox,{property:n,onChange:r,disabled:l}),o.createElement("div",{className:k.thumbContainer,onClick:this.panToNode},o.createElement("img",{src:c,className:k.thumb,"data-tooltip-text":e})),o.createElement("div",{className:k.nameInfo},o.createElement("div",{className:k.name},a),m),o.createElement("div",{className:k.settingsInfo},o.createElement("div",null,F.format(i.constraint)," ",p),o.createElement("div",null,this.state.size)))}}W.displayName="ExportRow";class M extends o.PureComponent{constructor(e){super(e),this.onCancel=(()=>{this.props.dispatch(a.fullscreen.hidePicker())}),this.onExport=(()=>{if(h.segment.track("Export Picker Exported"),this.isExporting())return;let e=this.props.exports.items.filter(e=>this.props.exports.checked[e.itemID]);if(0===e.length)return;let t=e.map(e=>({guid:e.nodeID,title:e.title,filename:e.filename,exportSetting:e.exportSetting})),s=0;r.fullscreen.sendMessage("clearExportedItems");const o=t.map(e=>n.animationFrameWorker.queueJob(()=>r.fullscreen.sendMessage("exportItem",e))),i=o.map(e=>e.promise);i.forEach(e=>e.then(()=>this.setState({exportingProgress:++s}))),this.setState({exportingProgress:0,exportingTotal:t.length,exportingJobIds:o.map(e=>e.jobId)}),Promise.all(i).then(()=>{this.setState({exportingJobIds:[]}),r.fullscreen.sendMessage("saveExportedItems"),this.props.dispatch(a.fullscreen.hidePicker()),this.props.dispatch(a.activityLogs.logExport())})}),this.setAllChecked=(e=>{this.props.exports.items.forEach((t,s)=>{this.props.dispatch(a.exportableItems.setChecked({itemID:t.itemID,checked:e}))})}),this.setChecked=((e,t)=>{this.props.dispatch(a.exportableItems.setChecked({itemID:e.itemID,checked:t}))}),this.onExternalExport=(()=>{this.setState({checkpointing:!0}),h.segment&&h.segment.track("Zeplin Export Initiated"),f.externalExport(this.props.dispatch,this.effectiveTab(),this.props.fileKey,()=>{this.setState({checkpointing:!1})},this.props.exports.frames.map(e=>e.nodeID))}),this.effectiveTab=(()=>(this.props.activeTab!==t.ExportTab.avocode||this.props.avocodeIntegration)&&(this.props.activeTab!==t.ExportTab.zeplin||this.props.zeplinIntegration)?this.props.activeTab:t.ExportTab.images),this.isChecked=(e=>this.props.exports.checked[e.itemID]),this.state={exportingProgress:null,exportingTotal:null,exportingJobIds:[]}}isExporting(){return this.state.exportingJobIds&&this.state.exportingJobIds.length>0}componentWillUnmount(){this.isExporting()&&n.animationFrameWorker.cancelJobs(this.state.exportingJobIds)}renderHeader(){if(this.effectiveTab()===t.ExportTab.images){if(this.isExporting())return o.createElement("div",{className:k.header},o.createElement("label",{htmlFor:"export-picker-select-all",className:k.labelWithoutCheckbox},this.state.exportingProgress," of ",this.state.exportingTotal," exported..."),o.createElement(b.ButtonSecondary,{className:k.button,onClick:this.onCancel},"Cancel"));{const e=this.props.exports.items||[],t=e.filter(this.isChecked).length,s=e.length;let a=l.MIXED;return t===s&&(a=!0),0===t&&(a=!1),o.createElement("div",{className:k.header},o.createElement(g.Checkbox,{id:"export-picker-select-all",property:a,onChange:()=>this.setAllChecked(!a)}),o.createElement("label",{htmlFor:"export-picker-select-all",className:k.label},t," of ",s," selected"),o.createElement(b.ButtonSecondary,{className:k.button,disabled:!t,onClick:this.onExport,autoFocus:!0},"Export"))}}{const e=(this.props.exports.frames||[]).length;return o.createElement("div",{className:k.exportHeader},o.createElement("div",{className:k.headerTitle},T.getPluralOrSingular(e,"frame")," selected"),o.createElement(b.ButtonSecondary,{className:k.button,disabled:this.state.checkpointing||!e,onClick:this.onExternalExport,autoFocus:!0},"Export"))}}render(){const e=this.effectiveTab(),s=this.props.exports.items&&this.props.exports.items.length>0,a=this.props.exports.frames&&this.props.exports.frames.length>0;return o.createElement("div",null,o.createElement("div",{className:k.modal},this.renderHeader(),e===t.ExportTab.images&&o.createElement(u.ScrollContainer,{width:this.props.width,className:k.scrollContainer,showScrollbar:!0},!s&&o.createElement("div",{className:k.emptyModal},"No selected layers have export settings. Click + in the export section of the properties panel to add one."),s&&this.props.exports.items.map((e,t)=>o.createElement(W,Object.assign({key:t,isDisabled:this.isExporting(),isChecked:this.isChecked(e),onToggleChecked:()=>this.setChecked(e,!this.isChecked(e))},e)))),e!==t.ExportTab.images&&o.createElement(u.ScrollContainer,{width:this.props.width,className:k.scrollContainer,showScrollbar:!0},!a&&o.createElement("div",{className:k.emptyModal},"No frames selected. You must select some frames to export."),a&&this.props.exports.frames.map(e=>o.createElement(J,{key:e.nodeID,name:e.name,nodeID:e.nodeID,className:k.nonImageRow})))))}}M.displayName="ExportPicker__REFRESH",t.ExportPicker=M,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){e.exports={constraint:"export_panel--constraint--N9xXl",constraintDropdown:"export_panel--constraintDropdown--3lliH",suffix:"export_panel--suffix--1lGH1",imageType:"export_panel--imageType--KyqU8",imageTypeDropdown:"export_panel--imageTypeDropdown--27hku",exportButtonRow:"export_panel--exportButtonRow--4iJ8E",exportSettings:"export_panel--exportSettings--24TCT",exportButton:"export_panel--exportButton--3nhRh",exportButtonContent:"export_panel--exportButtonContent--ifYJS ellipsis--ellipsis--1RWY6",chevron:"export_panel--chevron--1M9cz",rotatedChevron:"export_panel--rotatedChevron--3q_pK export_panel--chevron--1M9cz",label:"export_panel--label--3_oY4",previewThumbnailContainer:"export_panel--previewThumbnailContainer--Np56a"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){e.exports={row:"export_settings--row--RhR5s",checkbox:"export_settings--checkbox--twgLY",label:"export_settings--label--2T2GR checkbox--_checkboxLabel--1418z"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),o=s(232                        ),i=s(143              ),a=s(198         ),l=s(129                               ),r=s(1426                               ),p=s(391                               ),c=s(1105                  ),g=s(214                                                    ),h=s(282                             ),m=s(1132                   );class x extends n.PureComponent{constructor(){super(...arguments),this.close=(()=>{this.props.dispatch(o.fullscreen.hidePicker()),r.fullscreen.deselectProperty()}),this.onContentsOnlyChange=(e=>{const t=h.getValue(this.props.exportSettings,{});this.props.onChange(Object.assign({},t,{contentsOnly:e}))}),this.onSVGIDChange=(e=>{const t=e?"ALWAYS":"IF_NEEDED",s=h.getValue(this.props.exportSettings,{});this.props.onChange(Object.assign({},s,{svgIDMode:t}))}),this.onSVGTextOutlinesChange=(e=>{const t=h.getValue(this.props.exportSettings,{});this.props.onChange(Object.assign({},t,{svgOutlineText:e}))}),this.onSVGSimplifyStrokeChange=(e=>{const t=h.getValue(this.props.exportSettings,{});this.props.onChange(Object.assign({},t,{svgForceStrokeMasks:!e}))})}render(){const e=h.getValue(this.props.exportSettings,null);if(!e)return null;const t=new a.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY),s="SVG"===e.imageType&&n.createElement("div",null,n.createElement(p.Row,{className:m.row},n.createElement(c.Checkbox,{className:m.checkbox,id:"export-settings-svg-id",property:"ALWAYS"===e.svgIDMode,onChange:this.onSVGIDChange,recordingKey:i.joinKeys(this.props,"svgID")}),n.createElement(p.Label,{className:m.label,htmlFor:"export-settings-svg-id","data-tooltip-text":"Export layer names using id attributes"},'Include "id" Attribute')),l.Fullscreen.isTextOutlinableAsSVG()&&n.createElement(p.Row,{className:m.row},n.createElement(c.Checkbox,{className:m.checkbox,id:"export-settings-svg-text-outlines",property:e.svgOutlineText,onChange:this.onSVGTextOutlinesChange,recordingKey:i.joinKeys(this.props,"svgTextOutlines")}),n.createElement(p.Label,{className:m.label,htmlFor:"export-settings-svg-text-outlines","data-tooltip-text":"Export text as outlined <path> element"},"Outline Text")),l.Fullscreen.isStrokeMaskableAsSVG()&&n.createElement(p.Row,{className:m.row},n.createElement(c.Checkbox,{className:m.checkbox,id:"export-settings-svg-simplify-stroke",property:!e.svgForceStrokeMasks,onChange:this.onSVGSimplifyStrokeChange,recordingKey:i.joinKeys(this.props,"svgSimplifyStroke")}),n.createElement(p.Label,{className:m.label,htmlFor:"export-settings-svg-simplify-stroke","data-tooltip-text":"Export stroke as inlined <path> element"},"Simplify Stroke")));return n.createElement(g.DraggableModal,{title:"Export",initialPosition:t,headerSize:"small",onClose:this.close,recordingKey:i.joinKeys(this.props,"modal")},n.createElement(p.ModalPanel,null,n.createElement(p.Row,{className:m.row},n.createElement(c.Checkbox,{className:m.checkbox,id:"export-settings-contents-only",property:e.contentsOnly,onChange:this.onContentsOnlyChange,recordingKey:i.joinKeys(this.props,"contentsOnly")}),n.createElement(p.Label,{className:m.label,htmlFor:"export-settings-contents-only","data-tooltip-text":"Export overlapping foreground and background layers when disabled"},"Contents Only")),s))}}x.displayName="ExportSettings",t.ExportSettings=x,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),o=s(38,1       ),i=s(466                                          ),p=s(232                        ),n=s(219          ),a=s(301           ),l=s(198         ),h=s(1426                               ),c=s(129                               ),d=s(282                             ),u=s(143              ),g=s(386                        ),m=s(391                               ),y=s(465                                        ),S=s(477               ),x=s(498                     ),w=s(542                   ),f=s(1130                                                    ),E=s(204                                            ),v=s(144                        ),T=s(1131                ),C=s(394                          ),b=s(343                               ),P=s(283         ),_=s(389                                                                  ),N=s(1133                                                                         ),K=new l.Vector(210,210),k=s(566                                        ),D=s(1112                                                      ),G=s(1113                                                        );class O extends r.PureComponent{constructor(){super(...arguments),this.onExportChange=((e,t)=>{h.fullscreen.updateSelectionProperties({exportSettings:e},t)}),this.addProperty=(()=>{let e=!1,t=!1,s=!1;const r=d.getValue(this.props.exportSettings,[]);for(let i of r){const r=i.constraint;"CONTENT_SCALE"===r.type&&(1===r.value&&(e=!0),2===r.value&&(t=!0),3===r.value&&(s=!0))}let o={contentsOnly:!0,imageType:"PNG",constraint:{type:"CONTENT_SCALE",value:1},suffix:""};e&&(t?s||(o.constraint.value=3,o.suffix="@3x"):(o.constraint.value=2,o.suffix="@2x")),this.onExportChange(r.concat([o]))}),this.onClickExport=(()=>{n.segment.track("Export Panel Export Clicked"),0===this.props.numSelected?(n.segment.track("Export Picker Opened",{from:"export-panel"}),this.props.dispatch(p.fullscreen.showPicker({id:f.EXPORT_PICKER_ID}))):(h.fullscreen.triggerAction("export-selected-exportables-direct"),this.props.dispatch(p.activityLogs.logExport()))}),this._checkboxAndButtonRow=new C.CachedSubtree(()=>{let e="";if(0===this.props.numSelected||null==this.props.numSelected){let{title:t}=b.computeExportName("CANVAS","",this.props.fileName,[]);e=`Export ${t}`}else if(1===this.props.numSelected){let{title:t}=b.computeExportName("RECTANGLE",this.props.singleNodeName,"",[]);e=`Export ${t}`}else e=`Export ${this.props.numSelected} Layers`;return r.createElement(m.Row,{className:T.exportButtonRow,key:"export-button"},r.createElement(E.ButtonSecondary,{className:T.exportButton,onClick:this.onClickExport,recordingKey:u.joinKeys(this.props,"export")},r.createElement("div",{className:T.exportButtonContent},e)))}),this._shouldRenderPreviewThumbnail=(()=>d.getValue(this.props.exportSettings,[]).length>0),this._previewThumbnail=new C.CachedSubtree(()=>r.createElement(V,{key:"preview",shouldComputeThumbnails:this._shouldRenderPreviewThumbnail,sceneGraphSelection:this.props.sceneGraphSelection,currentPage:this.props.currentPage,numSelected:this.props.numSelected,recordingKey:u.joinKeys(this.props,"previewThumbnail")}))}static singleNodeNameFrom(e){return 1===e.numSelected&&e.exportSettings&&d.notMixed(e.exportSettings)&&e.exportSettings.length>0?e.name.slice(0,64):""}render(){const e=d.getValue(this.props.exportSettings,[]);return r.createElement(m.Panel,null,r.createElement(R,{fileKey:this.props.fileKey,propertyList:e,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onExportChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:c.SelectedPropertyType.EXPORT,pickerShown:this.props.pickerShown,addProperty:this.addProperty,recordingKey:u.joinKeys(this.props,"exportList")}),this._checkboxAndButtonRow.render(d.notMixed(e)&&e.length>0),this._previewThumbnail.render(this._shouldRenderPreviewThumbnail()))}}O.displayName="ExportPanel",t.ExportPanel=O;class M extends y.DraggablePropertyList{}class R extends r.PureComponent{constructor(){super(...arguments),this.renderProperty=((e,t,s,o,i,p,n,a)=>r.createElement(U,{key:`export-${t}`,id:`${this.props.selectedPropertyType}-${t}`,index:t,selectedPropertyType:this.props.selectedPropertyType,exportSetting:e,selected:s,hasFocus:o,onChange:i,onMouseDown:p,onMouseMove:n,onMouseUp:a,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,recordingKey:u.joinKeys(this.props,t)}))}render(){return r.createElement(M,{title:"Export",fileKey:this.props.fileKey,propertyList:this.props.propertyList,onChange:this.props.onChange,currentSelectedProperty:this.props.currentSelectedProperty,selectedPropertyType:this.props.selectedPropertyType,addProperty:this.props.addProperty,renderProperty:this.renderProperty,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,showRemoveButton:!0,recordingKey:this.props.recordingKey})}}R.displayName="ExportList";class L extends x.ComboBox{}class j extends S.Option{}class A extends S.Select{}class F extends S.Option{}const I=[{type:"CONTENT_SCALE",value:.5},{type:"CONTENT_SCALE",value:.75},{type:"CONTENT_SCALE",value:1},{type:"CONTENT_SCALE",value:1.5},{type:"CONTENT_SCALE",value:2},{type:"CONTENT_SCALE",value:3},{type:"CONTENT_SCALE",value:4},{type:"CONTENT_WIDTH",value:512},{type:"CONTENT_HEIGHT",value:512}];class U extends r.PureComponent{constructor(){super(...arguments),this.constraintFormatter=new w.ExportConstraintFormatter,this.imageTypeFormatter={format:e=>{switch(e){case"PNG":return"PNG";case"JPEG":return"JPG";case"SVG":return"SVG";case"PDF":return"PDF"}}},this.rowRef=(e=>{this.row=o.findDOMNode(e)}),this.onConstraintChange=(e=>{this.props.onChange(Object.assign({},this.props.exportSetting,{constraint:e}))}),this.onSuffixChange=(e=>{const t=e.target.value;this.props.onChange(Object.assign({},this.props.exportSetting,{suffix:t}))}),this.onImageTypeChange=(e=>{if(e!==this.props.exportSetting.imageType&&"SVG"===e){const t="IF_NEEDED",s=!0;this.props.onChange(Object.assign({},this.props.exportSetting,{imageType:e,svgIDMode:t,svgOutlineText:s,constraint:{type:"CONTENT_SCALE",value:1}}))}else this.props.onChange(Object.assign({},this.props.exportSetting,{imageType:e}))}),this.pickerShown=(()=>this.props.pickerShown&&this.props.pickerShown.id===this.props.id),this.toggleSettings=(e=>{if(e.stopPropagation(),this.pickerShown())this.props.dispatch(p.fullscreen.hidePicker()),h.fullscreen.deselectProperty();else{const e=g.pickerPositionLeftOf(this.row);h.fullscreen.updateAppModel({currentSelectedProperty:{type:this.props.selectedPropertyType,indices:[this.props.index]}}),this.props.dispatch(p.fullscreen.showPicker({id:this.props.id,initialX:e.x,initialY:e.y}))}}),this.stopPropagation=(e=>e.stopPropagation())}render(){const e=I.map((e,t)=>r.createElement(j,{key:t,value:e,recordingKey:u.joinKeys(this.props,"constraints",e.value)}));return r.createElement("div",null,r.createElement(m.Row,{ref:this.rowRef,selected:this.props.selected,selectedSecondary:this.props.selected&&!this.props.hasFocus,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,onMouseUp:this.props.onMouseUp,recordingKey:this.props.recordingKey},r.createElement(L,{id:`export-constraint-${this.props.id}`,className:T.constraint,dropdownClassName:T.constraintDropdown,property:this.props.exportSetting.constraint,onChange:this.onConstraintChange,formatter:this.constraintFormatter,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:u.joinKeys(this.props,"contraints"),disabled:"SVG"===this.props.exportSetting.imageType||"PDF"===this.props.exportSetting.imageType},e),r.createElement(m.TextInput,{className:T.suffix,placeholder:"Suffix",value:this.props.exportSetting.suffix,onChange:this.onSuffixChange,onMouseDown:this.stopPropagation,recordingKey:u.joinKeys(this.props,"suffix")}),r.createElement(A,{id:`export-image-type-${this.props.id}`,className:T.imageType,property:this.props.exportSetting.imageType,formatter:this.imageTypeFormatter,onChange:this.onImageTypeChange,dispatch:this.props.dispatch,dropdownClassName:T.imageTypeDropdown,dropdownShown:this.props.dropdownShown,onMouseDown:this.stopPropagation,recordingKey:u.joinKeys(this.props,"imageType")},r.createElement(F,{value:"PNG",recordingKey:u.joinKeys(this.props,"imageType","png")}),r.createElement(F,{value:"JPEG",recordingKey:u.joinKeys(this.props,"imageType","jpeg")}),r.createElement(F,{value:"SVG",recordingKey:u.joinKeys(this.props,"imageType","svg")}),r.createElement(F,{value:"PDF",recordingKey:u.joinKeys(this.props,"imageType","pdf")})),r.createElement(_.IconButton,{svg:D,fallbackSvg:G,className:T.exportSettings,onClick:this.toggleSettings,onMouseDown:this.stopPropagation,recordingKey:u.joinKeys(this.props,"settings"),disabled:"PDF"===this.props.exportSetting.imageType,selected:this.pickerShown()})),this.pickerShown()&&r.createElement(N.ExportSettings,{exportSettings:this.props.exportSetting,onChange:this.props.onChange,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,recordingKey:u.joinKeys(this.props,"settings")}))}}U.displayName="Export";class V extends r.PureComponent{constructor(e){super(e),this.toggleShown=(()=>{this.setState({previewShown:!this.state.previewShown})}),this.updateThumbnail=(()=>{if(!this.state.previewShown||!this.props.shouldComputeThumbnails())return;const e=i.requestExportPreview(K);let t=null,s=null;e&&e.pixels&&e.pixelSize&&e.displaySize&&(t=i.pixelsToDataURI(e.pixels,e.pixelSize),s=e.displaySize),this.setState({thumbnailSrc:t,thumbnailDisplaySize:s})}),this.updateThumbnailAfterDelay=a.debounce(()=>this.updateThumbnail(),1e3),this.onSceneGraphChange=(()=>{null!=this.state.previewGUID&&this.updateThumbnailAfterDelay()}),this.state={previewIsCanvas:!0,previewGUID:null,previewShown:!1,thumbnailSrc:null,thumbnailDisplaySize:null}}componentDidUpdate(e,t){const s=!t.previewShown&&this.state.previewShown;if(this.props.sceneGraphSelection===e.sceneGraphSelection&&!s)return;const r=this.props.sceneGraphSelection,o=this.props.numSelected;if(o>1||!this.state.previewShown)return void this.setState({thumbnailSrc:null,previewGUID:null});const i=0===o,p=i?this.props.currentPage:P.getFirstKey(r);p!==this.state.previewGUID&&(this.setState({thumbnailSrc:null,previewGUID:p,previewIsCanvas:i}),this.updateThumbnailAfterDelay.cancel(),this.updateThumbnail())}componentDidMount(){h.fullscreen.fromFullscreen.on("pingSceneGraphEvent",this.onSceneGraphChange)}componentWillUnmount(){h.fullscreen.fromFullscreen.removeListener("pingSceneGraphEvent",this.onSceneGraphChange),this.updateThumbnailAfterDelay.cancel()}render(){return r.createElement("div",null,r.createElement(m.Row,{onClick:this.toggleShown,recordingKey:this.props.recordingKey},r.createElement(v.Svg,{svg:k,className:this.state.previewShown?T.chevron:T.rotatedChevron}),r.createElement(m.Label,{className:T.label},"Preview")),this.state.previewShown&&this.state.thumbnailSrc&&r.createElement("div",{className:T.previewThumbnailContainer},r.createElement("img",{src:this.state.thumbnailSrc,width:this.state.thumbnailDisplaySize.x,height:this.state.thumbnailDisplaySize.y})))}}V.displayName="PreviewThumbnail",t.PreviewThumbnail=V,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={singleRowHeight:"instance_panel--singleRowHeight--1Pp_0",doubleRowHeight:"instance_panel--doubleRowHeight--3bcyM",input:"instance_panel--input--3NOOF instance_panel--singleRowHeight--1Pp_0 raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",border:"instance_panel--border--lW2Te",borderFocusWithin:"instance_panel--borderFocusWithin--3LM2o",iconInsideBorderFocusWithin:"instance_panel--iconInsideBorderFocusWithin--gZK4i",rowSelectedSecondary:"instance_panel--rowSelectedSecondary--9G4ga instance_panel--rowSelected--3LOQG",selectHiddenInput:"instance_panel--selectHiddenInput--a-vtI",iconButton:"instance_panel--iconButton--3OjOR",borderFocus:"instance_panel--borderFocus--2EFzi",multiValueInput:"instance_panel--multiValueInput--3g4uL instance_panel--borderFocusWithin--3LM2o",base:"instance_panel--base--2b9rB",label:"instance_panel--label--Jd9Cq instance_panel--base--2b9rB",labelInactive:"instance_panel--labelInactive--b5rPv instance_panel--label--Jd9Cq instance_panel--base--2b9rB",textInput:"instance_panel--textInput--1XCG4 instance_panel--base--2b9rB instance_panel--input--3NOOF instance_panel--singleRowHeight--1Pp_0",textAreaInput:"instance_panel--textAreaInput--2I9p8 instance_panel--base--2b9rB instance_panel--input--3NOOF instance_panel--singleRowHeight--1Pp_0",noLeftBorder:"instance_panel--noLeftBorder--2Rz0j",squareRightBorder:"instance_panel--squareRightBorder--3pG3w",_iconButton:"instance_panel--_iconButton--3qPt6",iconButtonEnabled:"instance_panel--iconButtonEnabled--35HBb instance_panel--_iconButton--3qPt6",iconButtonDisabled:"instance_panel--iconButtonDisabled--2_VR9 instance_panel--_iconButton--3qPt6",iconButtonSelected:"instance_panel--iconButtonSelected--3RVgn instance_panel--_iconButton--3qPt6",chitCenter:"instance_panel--chitCenter--Iyu1b",outlineButton:"instance_panel--outlineButton--2laEg",modalPanel:"instance_panel--modalPanel--1AbTa",panel:"instance_panel--panel--2kYFm",_row:"instance_panel--_row--XXpMz",singleRow:"instance_panel--singleRow--1Vxjm instance_panel--singleRowHeight--1Pp_0 instance_panel--_row--XXpMz",doubleRow:"instance_panel--doubleRow--SeKGe instance_panel--doubleRowHeight--3bcyM instance_panel--_row--XXpMz",labelRow:"instance_panel--labelRow--20m7l instance_panel--singleRow--1Vxjm instance_panel--singleRowHeight--1Pp_0 instance_panel--_row--XXpMz",rowSelected:"instance_panel--rowSelected--3LOQG",panelTitle:"instance_panel--panelTitle--15ETn",panelTitleWithTip:"instance_panel--panelTitleWithTip--3z_gX instance_panel--panelTitle--15ETn",panelTitleWithTipText:"instance_panel--panelTitleWithTipText--24aNk",panelTitleWithTipIcon:"instance_panel--panelTitleWithTipIcon--2kk5g",panelTitleFaded:"instance_panel--panelTitleFaded--1ctMa instance_panel--panelTitle--15ETn",flushLeft:"instance_panel--flushLeft--hKNW3",container:"instance_panel--container--3Ahl- raw_components--singleRowHeight--3PF2a",hiddenInput:"instance_panel--hiddenInput--2_A1K raw_components--selectHiddenInput--1Ss5k",selectInputExpanded:"instance_panel--selectInputExpanded--1ziE7",inputDisabled:"instance_panel--inputDisabled--3EUOD instance_panel--input--3NOOF instance_panel--singleRowHeight--1Pp_0 raw_components--base--3TpZG raw_components--border--3I0I6 raw_components--input--13lRh raw_components--singleRowHeight--3PF2a ellipsis--ellipsis--1RWY6",chevron:"instance_panel--chevron--336_O select--chevron--AAmeH",inputTextWrapper:"instance_panel--inputTextWrapper--2EZ3J",inputText:"instance_panel--inputText--x6UqD instance_panel--inputTextWrapper--2EZ3J ellipsis--ellipsis--1RWY6",dropdownContainer:"instance_panel--dropdownContainer--1el0d _overlayBase--_overlayBase--1sCqN",dropdownScrollClip:"instance_panel--dropdownScrollClip--2oHXM",dropdown:"instance_panel--dropdown--TTv_v",dropdownContentWrapper:"instance_panel--dropdownContentWrapper--3bxGA",option:"instance_panel--option--3V74C dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",divider:"instance_panel--divider--36TeN",optionFocused:"instance_panel--optionFocused--3vBCE instance_panel--option--3V74C dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionDisabled:"instance_panel--optionDisabled--1JO4m instance_panel--option--3V74C dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionHeader:"instance_panel--optionHeader--yLwN8 instance_panel--option--3V74C dropdown--_optionBase--3koiI text--whiteSmallTitleText--1l9h0 text--smallTitleText--1f4Vt text--_whiteText--2PkdM",optionTruncatedText:"instance_panel--optionTruncatedText--3U7Au",optionFullWidth:"instance_panel--optionFullWidth--W_j7c",optionText:"instance_panel--optionText--2og4g instance_panel--optionTruncatedText--3U7Au ellipsis--ellipsis--1RWY6",check:"instance_panel--check--1L2MW",comboBoxShowChevronOnHover:"instance_panel--comboBoxShowChevronOnHover--3UUON",_comboBoxSelect:"instance_panel--_comboBoxSelect--3c84v",comboBoxSelectDisabled:"instance_panel--comboBoxSelectDisabled--3330b instance_panel--_comboBoxSelect--3c84v",comboBoxSelect:"instance_panel--comboBoxSelect--1hBSJ instance_panel--_comboBoxSelect--3c84v",resetSelect:"instance_panel--resetSelect--1iU3w",resetDropdown:"instance_panel--resetDropdown--wZUYD",breakSymbolOption:"instance_panel--breakSymbolOption--Wf2B6",link:"instance_panel--link--3ZW3B blue_link--blueLink--22X56",descriptionRow:"instance_panel--descriptionRow--3ybM8",description:"instance_panel--description--2MNrr text--paragraphText--25SJf",symbolSelect:"instance_panel--symbolSelect--32C5M raw_components--border--3I0I6",symbolSelectExpanded:"instance_panel--symbolSelectExpanded--3knAT instance_panel--symbolSelect--32C5M raw_components--border--3I0I6 raw_components--borderFocus--tz1OP",symbolSelectText:"instance_panel--symbolSelectText--1iYPs ellipsis--ellipsis--1RWY6",chevronExpanded:"instance_panel--chevronExpanded--1aSA4 select--chevron--AAmeH"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,l){t.exports={id:"ga30929f7",src:'<svg width="6" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M1.232 1.768L.88 1.414l-.707.707.353.354.707-.707zM3 4.243l-.354.353L3 4.95l.354-.354L3 4.243zm2.475-1.768l.353-.354-.707-.707-.353.354.707.707zm-4.95 0l2.121 2.121.708-.707-2.122-2.121-.707.707zm2.829 2.121l2.12-2.121-.706-.707-2.122 2.121.708.707z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(38,1       ),n=t(143              ),l=t(232                        ),r=t(198         ),c=t(564            ),a=t(282                             ),h=t(1427                      ),p=t(674                                                             ),d=t(1426                               ),m=t(374                            ),y=t(679                                                                 ),b=t(144                        ),u=t(391                               ),f=t(1135                  ),g=t(694                                                                         ),C=t(374                            ),I=t(281                                  ),S=t(1430                                             ),w=t(279         ),D=t(1136                                           ),_={displayText:"",disabled:!0,separator:!0,recordingKey:"separator"},k=100;class x extends n.PureComponent{constructor(){super(...arguments),this.symbolsCache={masterSymbolInfoByGUID:new c.LRUCache(k),subscribedDropdownItemsByFileKey:{},localDropdownItems:[],subscribedComponentsInfo:{subscribedFiles:[],fileKeyToSubscribedItems:{}}},this.shouldReinitializeSubscribedDropdownItemsCache=(e=>this.props.fileByKey!==e.fileByKey||this.props.editingFileKey!==e.editingFileKey||this.props.library.published.components!==e.library.published.components||this.props.library.subscriptions!==e.library.subscriptions),this.shouldReinitializeLocalDropdownItemsCache=(e=>this.props.library.local.components!==e.library.local.components),this.shouldFlushMasterSymbolInfoCache=(e=>this.props.library.published.components!==e.library.published.components),this.initializeSubscribedDropdownItemsCache=(e=>{const s=g.getSubscribedComponentsInfo(e.library,e.editingFileKey,e.fileByKey);this.symbolsCache.subscribedComponentsInfo=s,this.symbolsCache.subscribedDropdownItemsByFileKey={};for(const t of s.subscribedFiles){const e=s.fileKeyToSubscribedItems[t.key].map(e=>this.getDropdownItemForComponent(e));this.symbolsCache.subscribedDropdownItemsByFileKey[t.key]=this.getSymbolSubmenusByPage(e)}}),this.initializeLocalDropdownItemsCache=(e=>{const s=C.localLibraryItemsExcludingDeleted(e.library.local.components).map(e=>this.getDropdownItemForComponent(e,"localSymbol"));this.symbolsCache.localDropdownItems=this.getSymbolSubmenusByPage(s)}),this.getMasterSymbolInfoForSubscribedSymbolID=(e=>{const s=this.symbolsCache.masterSymbolInfoByGUID.get(e);if(void 0!==s)return s;let t=null;const{components:o}=this.props.library.published,i=this.props.sceneGraph.get(e);if(!i||!i.parent)return this.symbolsCache.masterSymbolInfoByGUID.set(e,t),t;const n=this.props.sceneGraph.get(i.parent);if(!n||!n.sharedSymbolReference)return this.symbolsCache.masterSymbolInfoByGUID.set(e,t),t;const l=i.componentKey;if(!l)return this.symbolsCache.masterSymbolInfoByGUID.set(e,t),t;let r,c;r=n.sharedSymbolReference.fileKey;const a=Object.keys(o).find(e=>r in o[e]);if(a&&r){const e=o[a][r];c=Object.keys(e).find(s=>e[s]&&e[s].component_key===l)}if(!c)for(const h in o){for(const e in o[h])if((!r||e!==r)&&(c=Object.keys(o[h][e]).find(s=>o[h][e][s]&&o[h][e][s].component_key===l))){r=e;break}if(c)break}return c&&(t={symbolID:c,fileKey:r,componentKey:l}),this.symbolsCache.masterSymbolInfoByGUID.set(e,t),t}),this.getDisplayTextForGUID=(e=>{const s=this.props.sceneGraph.get(e);return s&&s.name?s.name:""}),this.getDropdownItemForComponent=((e,s)=>({subscribedComponent:e,displayText:e.name,separator:!1,recordingKey:s?`${s}.${e.name}`:e.name})),this.sortItemsByDisplayTextInPlace=(e=>{const s=e=>e.localGUID?e.localGUID:e.subscribedComponent&&e.subscribedComponent.component_key||"";e.sort((e,t)=>{let o=e.displayText||"",i=t.displayText||"";return o===i&&(o+=s(e),i+=s(t)),w.compareStringsNaturally(o,i)})}),this.onSelectSymbolItem=(e=>{const s=e,t=Object.keys(this.props.sceneGraphSelection);if(s.detachInstance)d.fullscreen.triggerAction("detach-instance");else if(null!=s.localGUID)d.fullscreen.sendMessage("replaceSymbolBackingInstances",{symbolGUID:s.localGUID,instanceGUIDs:t});else if(null!=s.subscribedComponent){s.subscribedComponent.file_key===this.props.editingFileKey?d.fullscreen.sendMessage("replaceSymbolBackingInstances",{symbolGUID:s.subscribedComponent.node_id,instanceGUIDs:t}):this.props.dispatch(S.swapToSharedComponent({component:s.subscribedComponent,instanceGUIDs:t}))}}),this.symbolSelectRef=(e=>{e&&(this.symbolSelectEl=i.findDOMNode(e))}),this.stopPropagation=(e=>e.stopPropagation()),this.lastMouseDown=new r.Vector(0,0),this.toggleSymbolDropdown=n.mouseEvent(this,"mousedown",e=>{if(this.isSymbolDropdownShown())this.props.dispatch(l.fileBrowser.hideDropdown());else if(this.symbolSelectEl){const{top:s,bottom:t,left:o,right:i,width:n,height:c}=this.symbolSelectEl.getBoundingClientRect(),a={top:s,bottom:t,left:o,right:i,width:n,height:c};a.bottom-=p.ARROW_HEIGHT,this.props.dispatch(l.fileBrowser.showDropdown({type:this.symbolDropdownId,data:{clientRect:a}})),this.lastMouseDown=new r.Vector(e.clientX,e.clientY)}}),this.onRowClick=(e=>{new r.Vector(e.clientX,e.clientY).distanceTo(this.lastMouseDown)<5&&e.stopPropagation()}),this.symbolDropdownId="instance-symbol-select",this.isSymbolDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.symbolDropdownId),this.getSymbolSubmenusByPage=(e=>{const s={},t=[],o={};for(const l of e){const e=l.subscribedComponent;if(e.containing_frame&&e.containing_frame.pageId){const t=e.containing_frame.pageId;s[t]=s[t]||[],s[t].push(l),o[t]=e.containing_frame.pageName}else t.push(l)}let i=[];const n=Object.keys(s).length;if(n>1||1===n&&t.length){for(const e in s)i.push({displayText:o[e],children:this.getSymbolSubmenusByFrame(s[e]),isChildChecked:s[e].some(e=>e.isChildChecked||e.isChecked),recordingKey:o[e]});i=i.concat(this.getSymbolSubmenusByFrame(t))}else i=this.getSymbolSubmenusByFrame(e);return this.sortItemsByDisplayTextInPlace(i),i}),this.getSymbolSubmenusByFrame=(e=>{const s={},t=[],o={};for(const l of e){const e=l.subscribedComponent;if(e.containing_frame&&e.containing_frame.nodeId){const t=e.containing_frame.nodeId;s[t]=s[t]||[],s[t].push(l),o[t]=e.containing_frame}else t.push(l)}let i=[];const n=Object.keys(s).length;if(n>1||1===n&&t.length){for(const e in s){const t=o[e],n=s[e];i.push({displayText:t.name,children:this.getSymbolSubmenusBySeparators(n),isChildChecked:n.some(e=>e.isChildChecked||e.isChecked),recordingKey:t.name})}i=i.concat(this.getSymbolSubmenusBySeparators(t))}else i=this.getSymbolSubmenusBySeparators(e);return this.sortItemsByDisplayTextInPlace(i),i}),this.recursivelyCheckChildren=((e,s)=>{if(!e)return e;if(s(e))return Object.assign({},e,{isChecked:!0});if(!e.children)return e;const t=e.children.map(e=>this.recursivelyCheckChildren(e,s));return Object.assign({},e,{children:t,isChildChecked:t.some(e=>e.isChecked||e.isChildChecked)})}),this.recursivelyCheckSubscribedChildren=((e,s)=>this.recursivelyCheckChildren(e,e=>s&&e.subscribedComponent&&e.subscribedComponent.component_key===s.componentKey)),this.recursivelyCheckLocalChildren=((e,s)=>this.recursivelyCheckChildren(e,e=>a.notMixed(s)&&e.subscribedComponent&&e.subscribedComponent.node_id===s)),this.getSymbolSubmenusBySeparators=(e=>{const s=Object.create(null),t=[];for(let o of e){const e=h.getNameParts(o.displayText),i=o.isChecked;let n="";for(let l=0;l<e.length;l++){const r=e[l],c=n,a=l<e.length-1;if(n+=r,a&&(n+="/"),s[n])i&&(s[n].isChildChecked=!0);else{let e;a?e={displayText:r,children:[],isChildChecked:i,recordingKey:n}:(e=o).displayText=r,a&&(s[n]=e),0===l?t.push(e):s[c].children.push(e)}}}for(let o in s){const e=s[o];e.children&&this.sortItemsByDisplayTextInPlace(e.children)}return this.sortItemsByDisplayTextInPlace(t),t})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),this.initializeSubscribedDropdownItemsCache(this.props),this.initializeLocalDropdownItemsCache(this.props)}UNSAFE_componentWillReceiveProps(e){this.shouldReinitializeSubscribedDropdownItemsCache(e)&&this.initializeSubscribedDropdownItemsCache(e),this.shouldReinitializeLocalDropdownItemsCache(e)&&this.initializeLocalDropdownItemsCache(e),this.shouldFlushMasterSymbolInfoCache(e)&&(this.symbolsCache.masterSymbolInfoByGUID=new c.LRUCache(k))}render(){let e=!0;const s=Object.keys(this.props.symbolGUIDsBackingSelection||{});let t,i=null;if(0===s.length)return null;this.props.isNestedInstanceSelected&&(e=!1),1===s.length?t=s[0]:s.length>1&&(t=a.MIXED);const n=[];if(e&&(n.push({detachInstance:!0,displayText:this.props.detachInstanceText,displayRightCol:this.props.detachInstanceShortcut,recordingKey:"detachInstance"}),n.push(_)),t===a.MIXED)n.push({displayText:"Mixed",disabled:!0,isChecked:!0,recordingKey:"mixed"}),n.push(_);else if(t){let e=null,s={};if(i=this.getMasterSymbolInfoForSubscribedSymbolID(t)){const{symbolID:t,fileKey:o}=i;this.props.fileByKey[o]&&(e=(s=m.publishedLibraryItemsForFile(this.props.library.published.components,this.props.fileByKey[o]))[t])}else e=(s=this.props.library.local.components)[t];const o=Object.keys(s).map(e=>s[e]);if(e&&(e.containing_frame&&e.containing_frame.nodeId||h.getNameParts(e.name).length>1)&&o&&o.length>1){const s=h.getNamePrefix(e.name);let t=[];for(let i of o)I.componentContainersEqual(i.containing_frame,e.containing_frame)&&h.getNamePrefix(i.name)===s&&t.push(Object.assign({},this.getDropdownItemForComponent(i,"related"),{isChecked:i.node_id===e.node_id,displayText:h.getLastPartOfName(i.name)}));if(this.sortItemsByDisplayTextInPlace(t),t.length>20){let s=h.getLastPartOfName(h.getNamePrefix(e.name));!s&&e.containing_frame&&(s=e.containing_frame.name||e.containing_frame.pageName),t=[{displayText:s||"See all",isChildChecked:!0,children:t,recordingKey:"seeAll"}]}n.push({displayText:"Related components",disabled:!0,recordingKey:"related"}),n.push(...t,_)}}if(this.symbolsCache.localDropdownItems.length>0){n.push({displayText:"This file",disabled:!0,recordingKey:"localSymbol"});for(const e of this.symbolsCache.localDropdownItems){const s=(!i||i.fileKey===this.props.editingFileKey)&&a.notMixed(t);n.push(s?this.recursivelyCheckLocalChildren(e,t):e)}n.push(_)}if(Object.keys(this.symbolsCache.subscribedDropdownItemsByFileKey).length>0){n.push({displayText:"Enabled libraries",disabled:!0,recordingKey:"inUse"});for(const e of this.symbolsCache.subscribedComponentsInfo.subscribedFiles){const s=e.name,t=i&&i.fileKey===e.key,o=[...this.symbolsCache.subscribedDropdownItemsByFileKey[e.key]],l=t?o.map(e=>this.recursivelyCheckSubscribedChildren(e,i)):o;n.push({displayText:s,recordingKey:`teamLibrary:${s}`,isChildChecked:t,children:l})}}return o.createElement(u.Row,{onClick:this.onRowClick},o.createElement(u.OutlineButton,{ref:this.symbolSelectRef,className:this.isSymbolDropdownShown()?f.symbolSelectExpanded:f.symbolSelect,onMouseDown:this.toggleSymbolDropdown,onClick:this.stopPropagation},a.notMixed(t)?o.createElement("div",{className:f.symbolSelectText},h.getLastPartOfName(this.getDisplayTextForGUID(t))):"MIXED",o.createElement(b.Svg,{svg:D,className:this.isSymbolDropdownShown()?f.chevronExpanded:f.chevron})),this.isSymbolDropdownShown()&&o.createElement(y.MultilevelDropdown,{items:n,onSelectItem:this.onSelectSymbolItem,parentRect:this.props.dropdownShown.data.clientRect,showPoint:!1,dispatch:this.props.dispatch,recordingKey:this.props.recordingKey}))}}x.displayName="SymbolSelect",s.SymbolSelect=x,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"gb902fcda",src:'<svg width="19" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.793 9.5L9.5.793 18.207 9.5l-.707.707-8-8L2.207 9.5 9.5 16.793l4-4 .707.707L9.5 18.207.793 9.5zM8.707 9H11c3.314 0 6 2.686 6 6 0 1.657-.672 3.157-1.757 4.243l-.707-.707C15.44 17.63 16 16.38 16 15c0-2.761-2.239-5-5-5H8.707l1.647 1.646-.707.708L6.793 9.5l2.854-2.853.707.707L8.707 9z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),n=s(143              ),o=s(287       ),i=s(1426                               ),l=s(129                               ),a=s(477                                                        ),c=s(391                               ),p=s(389                         ),d=s(1137             ),R=s(129                               ),m=s(1135                  ),h=s(1138                                                           );class u extends a.Select{renderInput(){return r.createElement(p.IconButton,{disabled:this.props.disabled,onMouseDown:this.onMouseDown,svg:h})}}class S extends a.Option{}class y extends n.PureComponent{constructor(){super(...arguments),this.onMouseDown=n.mouseEvent(this,"mousedown",e=>{this.props.onMouseDown&&this.props.onMouseDown(e)})}render(){const e=Object.assign({},this.props);return delete e.recordingKey,r.createElement("a",Object.assign({},e,{onMouseDown:this.onMouseDown}),this.props.children)}}y.displayName="RecordedLink";class E extends r.PureComponent{constructor(){super(...arguments),this.resetTypeToString=(e=>{switch(e){case l.Reset.ALL_LAYERS:return"Reset Sublayers";case l.Reset.ALL_OVERRIDES:return"Reset Overrides";case l.Reset.BLANK_ENTRY:return"";case l.Reset.EXPORTS:return"Reset Exports";case l.Reset.EFFECTS:return"Reset Effects";case l.Reset.LAYER:return"Reset Others";case l.Reset.VISIBLE:return"Reset Visibility";case l.Reset.NAME:return"Reset Name";case l.Reset.FILL:return"Reset Fill";case l.Reset.STROKE:return"Reset Stroke";case l.Reset.TEXT:return"Reset Text";case l.Reset.TEXT_STYLE:return"Reset Text Style";case l.Reset.SIZE:return"Reset Size";case l.Reset.TRANSITION:return"Reset Transition";case l.Reset.OVERLAY:return"Reset Overlay";case l.Reset.NUM_VALUES:return""}return""}),this.resetTypeToStringFormatter={format:this.resetTypeToString},this.findSymbol=(()=>{i.fullscreen.triggerAction("find-symbol")}),this.restoreSymbol=(e=>{e.preventDefault(),i.fullscreen.triggerAction("restore-symbol")}),this.onChangeResetSelect=(e=>{i.fullscreen.sendMessage("resetSymbolOverrides",{resetGrouping:e})}),this.renderResetOption=(e=>{const t=this.resetTypeToString(e);return r.createElement(S,{key:e,value:e,disabled:!this.props.resettableInstanceOverrides||!this.props.resettableInstanceOverrides[e],recordingKey:n.joinKeys(this.props,"resetInstanceOption",t)})}),this.symbolIsSoftDeleted=((e,t)=>!!e&&(!(e&&t&&t.sharedSymbolReference)&&R.SceneGraphHelpers.nodeIsSoftDeleted(e.guid))),this.renderSymbolLink=((e,t,s)=>r.createElement(c.Row,null,this.symbolIsSoftDeleted(e,t)?r.createElement(y,{recordingKey:n.joinKeys(this.props,"restoreComponentLink"),className:m.link,onMouseDown:this.restoreSymbol,href:null},"Restore Master Component"):r.createElement(y,{recordingKey:n.joinKeys(this.props,"findComponentLink"),className:m.link,onMouseDown:this.findSymbol,href:s},"Go to Master Component"))),this.renderMasterSymbolInfo=(()=>{const e=this.props.sceneGraph,t=this.props.masterSymbolGUID;if(!t)return;const s=e.get(t);if(!s)return;const n=e.get(s.parent);let i,l;if(n&&n.sharedSymbolReference){const e=n.sharedSymbolReference.fileKey,t=o.toString(n.sharedSymbolReference.symbolID);if(i=`/file/${e}?node-id=${encodeURIComponent(t)}`,this.props.componentsByTeamId)for(const s in this.props.componentsByTeamId)if(e in this.props.componentsByTeamId[s]){const r=this.props.componentsByTeamId[s][e][t];l=r?r.description:null;break}}else l=s.symbolDescription;return r.createElement("div",null,l&&r.createElement(c.Row,{className:m.descriptionRow},r.createElement("div",{className:m.description},l)),s&&this.renderSymbolLink(s,n,i))})}render(){const e=!this.props.resettableInstanceOverrides||!this.props.resettableInstanceOverrides[l.Reset.ALL_OVERRIDES];return r.createElement(c.Panel,null,r.createElement(c.Row,null,r.createElement(c.PanelTitle,null,"Instance"),r.createElement(u,{id:"reset-override-select",className:m.resetSelect,disabled:e,dropdownClassName:m.resetDropdown,property:null,formatter:this.resetTypeToStringFormatter,onChange:this.onChangeResetSelect,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:n.joinKeys(this.props,"resetInstanceSelect")},this.renderResetOption(l.Reset.ALL_OVERRIDES),r.createElement(a.SelectDivider,{key:"divider"}),this.renderResetOption(l.Reset.SIZE),this.renderResetOption(l.Reset.NAME),this.renderResetOption(l.Reset.VISIBLE),this.renderResetOption(l.Reset.FILL),this.renderResetOption(l.Reset.STROKE),this.renderResetOption(l.Reset.TEXT),this.renderResetOption(l.Reset.TEXT_STYLE),this.renderResetOption(l.Reset.EFFECTS),this.renderResetOption(l.Reset.EXPORTS),this.renderResetOption(l.Reset.LAYER),this.renderResetOption(l.Reset.TRANSITION),this.renderResetOption(l.Reset.OVERLAY))),r.createElement(d.SymbolSelect,Object.assign({},this.props,{recordingKey:n.joinKeys(this.props,"symbolSelect")})),this.renderMasterSymbolInfo())}}E.displayName="InstancePanel",t.InstancePanel=E,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){e.exports={singleRowHeight:"frame_presets--singleRowHeight--12ZEL",doubleRowHeight:"frame_presets--doubleRowHeight--1nxVG",input:"frame_presets--input--2T572 frame_presets--singleRowHeight--12ZEL",border:"frame_presets--border--1YTyz",borderFocusWithin:"frame_presets--borderFocusWithin--s548j",iconInsideBorderFocusWithin:"frame_presets--iconInsideBorderFocusWithin--35Xz-",rowSelectedSecondary:"frame_presets--rowSelectedSecondary--bGKS- frame_presets--rowSelected--BZ2Vn",selectHiddenInput:"frame_presets--selectHiddenInput--3weT4",iconButton:"frame_presets--iconButton--3ztkk",borderFocus:"frame_presets--borderFocus--3JIFd",multiValueInput:"frame_presets--multiValueInput--32iyU frame_presets--borderFocusWithin--s548j",base:"frame_presets--base--jkkrJ",label:"frame_presets--label--36SGh frame_presets--base--jkkrJ",labelInactive:"frame_presets--labelInactive--g89he frame_presets--label--36SGh frame_presets--base--jkkrJ",textInput:"frame_presets--textInput--3Wvju frame_presets--base--jkkrJ frame_presets--input--2T572 frame_presets--singleRowHeight--12ZEL",textAreaInput:"frame_presets--textAreaInput--1UHqg frame_presets--base--jkkrJ frame_presets--input--2T572 frame_presets--singleRowHeight--12ZEL",noLeftBorder:"frame_presets--noLeftBorder--3OMNp",squareRightBorder:"frame_presets--squareRightBorder--LkSee",_iconButton:"frame_presets--_iconButton--1qM3Y",iconButtonEnabled:"frame_presets--iconButtonEnabled--rJ4qY frame_presets--_iconButton--1qM3Y",iconButtonDisabled:"frame_presets--iconButtonDisabled--1yL3W frame_presets--_iconButton--1qM3Y",iconButtonSelected:"frame_presets--iconButtonSelected--3hteG frame_presets--_iconButton--1qM3Y",chitCenter:"frame_presets--chitCenter--1TDSz",outlineButton:"frame_presets--outlineButton--1t9Jf",modalPanel:"frame_presets--modalPanel--1QhXK",panel:"frame_presets--panel--1APVg",_row:"frame_presets--_row--20Kh5",singleRow:"frame_presets--singleRow--1e6EI frame_presets--singleRowHeight--12ZEL frame_presets--_row--20Kh5",doubleRow:"frame_presets--doubleRow--2BNK2 frame_presets--doubleRowHeight--1nxVG frame_presets--_row--20Kh5",labelRow:"frame_presets--labelRow--CzKJP frame_presets--singleRow--1e6EI frame_presets--singleRowHeight--12ZEL frame_presets--_row--20Kh5",rowSelected:"frame_presets--rowSelected--BZ2Vn",panelTitle:"frame_presets--panelTitle--1agPn",panelTitleWithTip:"frame_presets--panelTitleWithTip--38aAz frame_presets--panelTitle--1agPn",panelTitleWithTipText:"frame_presets--panelTitleWithTipText--3waWP",panelTitleWithTipIcon:"frame_presets--panelTitleWithTipIcon--2x8uU",panelTitleFaded:"frame_presets--panelTitleFaded--1W_xA frame_presets--panelTitle--1agPn",flushLeft:"frame_presets--flushLeft--1CRXy",presetDropdown:"frame_presets--presetDropdown--1y4DV",presetOption:"frame_presets--presetOption--103qS",presetHeader:"frame_presets--presetHeader--2P9B7",caretAndName:"frame_presets--caretAndName--3iEyE",caret:"frame_presets--caret--2JlfB",caretDown:"frame_presets--caretDown--2W5WR frame_presets--caret--2JlfB",name:"frame_presets--name--_yTCq",presetName:"frame_presets--presetName--3re6o",presetDimensions:"frame_presets--presetDimensions--3fLHz",presetList:"frame_presets--presetList--3dD7a",presetHeaderExpanded:"frame_presets--presetHeaderExpanded--nsEhK frame_presets--presetHeader--2P9B7"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(h,t,s){h.exports={id:"g1ed160ef",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M.646 1.354L4.293 5H2v1h4V2H5v2.293L1.354.646l-.708.708zM11.707 5l3.647-3.646-.707-.708L11 4.293V2h-1v4h4V5h-2.293zm0 6l3.647 3.646-.707.708L11 11.707V14h-1v-4h4v1h-2.293zm-7.414 0L.646 14.646l.708.708L5 11.707V14h1v-4H2v1h2.293z"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),i=s(143              ),n=s(232                        ),o=s(282                             ),a=s(1426                               ),p=s(129                               ),h=s(389                                                                  ),d=s(391                               ),l=s(477               ),c=s(144                        ),m=s(1140                 ),P=s(556                                       ),g=s(566                                        ),y=s(1141                                                               ),u=[{name:"iPhone X",width:375,height:812},{name:"iPhone 8 Plus",width:414,height:736},{name:"iPhone 8",width:375,height:667},{name:"iPhone SE",width:320,height:568},{name:"Google Pixel 2",width:411,height:731},{name:"Google Pixel 2 XL",width:411,height:823},{name:"Android",width:360,height:640}],w=[{name:'iPad Mini / 9.7"',width:768,height:1024},{name:'iPad Pro 10.5"',width:834,height:1112},{name:'iPad Pro 12.9"',width:1024,height:1366},{name:"Surface Pro 3",width:1440,height:990},{name:"Surface Pro 4",width:1368,height:912}],T=[{name:"Desktop",width:1440,height:1024},{name:"MacBook",width:1152,height:700},{name:"MacBook Pro",width:1440,height:900},{name:"Surface Book",width:1500,height:1e3},{name:"iMac",width:1280,height:720}],E=[{name:"Apple Watch 42mm",width:156,height:195},{name:"Apple Watch 38mm",width:136,height:170}],f=[{name:"Twitter Post",width:1012,height:506},{name:"Twitter Header",width:1500,height:500},{name:"Facebook Post",width:1200,height:630},{name:"Facebook Cover",width:820,height:312},{name:"Instagram Post",width:1080,height:1080},{name:"Instagram Story",width:1080,height:1920},{name:"Dribbble Shot",width:400,height:300},{name:"Dribbble Shot HD",width:800,height:600},{name:"LinkedIn Cover",width:1584,height:396}],S=[{name:"A4",width:595,height:842},{name:"A5",width:420,height:595},{name:"A6",width:297,height:420},{name:"Letter",width:612,height:792},{name:"Tabloid",width:792,height:1224}];t.presetsList={phonePresets:u,tabletPresets:w,desktopPresets:T,watchPresets:E,paperPresets:S,socialMediaPresets:f};class A extends i.PureComponent{constructor(){super(...arguments),this.toggleSection=(e=>{this.props.expandedFramePresetType===e&&(e=p.PresetType.NONE),a.fullscreen.updateAppModel({expandedFramePresetType:e})}),this.onSelectPreset=(e=>{a.fullscreen.sendMessage("createFrame",{name:e.name,width:e.width,height:e.height}),this.props.dispatch(n.fullscreen.trackEvent({name:"Frame Size Preset Chosen",params:{method:"Frame Tool Preset List",deviceName:e.name}})),p.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary()})}render(){return r.createElement("div",null,r.createElement(N,{name:"Phone",expanded:this.props.expandedFramePresetType===p.PresetType.PHONE,onMouseDown:this.toggleSection.bind(this,p.PresetType.PHONE),recordingKey:i.joinKeys(this.props,"phoneToggle")}),this.props.expandedFramePresetType===p.PresetType.PHONE&&r.createElement(x,{framePresets:u,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"phoneRows")}),r.createElement(N,{name:"Tablet",expanded:this.props.expandedFramePresetType===p.PresetType.TABLET,onMouseDown:this.toggleSection.bind(this,p.PresetType.TABLET),recordingKey:i.joinKeys(this.props,"framePresetPanel","tabletToggle")}),this.props.expandedFramePresetType===p.PresetType.TABLET&&r.createElement(x,{framePresets:w,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"tabletRows")}),r.createElement(N,{name:"Desktop",expanded:this.props.expandedFramePresetType===p.PresetType.DESKTOP,onMouseDown:this.toggleSection.bind(this,p.PresetType.DESKTOP),recordingKey:i.joinKeys(this.props,"desktopToggle")}),this.props.expandedFramePresetType===p.PresetType.DESKTOP&&r.createElement(x,{framePresets:T,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"desktopRows")}),r.createElement(N,{name:"Watch",expanded:this.props.expandedFramePresetType===p.PresetType.WATCH,onMouseDown:this.toggleSection.bind(this,p.PresetType.WATCH),recordingKey:i.joinKeys(this.props,"watchToggle")}),this.props.expandedFramePresetType===p.PresetType.WATCH&&r.createElement(x,{framePresets:E,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"watchRows")}),r.createElement(N,{name:"Paper",expanded:this.props.expandedFramePresetType===p.PresetType.PAPER,onMouseDown:this.toggleSection.bind(this,p.PresetType.PAPER),recordingKey:i.joinKeys(this.props,"paperToggle")}),this.props.expandedFramePresetType===p.PresetType.PAPER&&r.createElement(x,{framePresets:S,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"paperRows")}),r.createElement(N,{name:"Social Media",expanded:this.props.expandedFramePresetType===p.PresetType.SOCIALMEDIA,onMouseDown:this.toggleSection.bind(this,p.PresetType.SOCIALMEDIA),recordingKey:i.joinKeys(this.props,"socialMediaToggle")}),this.props.expandedFramePresetType===p.PresetType.SOCIALMEDIA&&r.createElement(x,{framePresets:f,onSelectPreset:this.onSelectPreset,recordingKey:i.joinKeys(this.props,"socialMediaRows")}))}}A.displayName="FramePresetPanel",t.FramePresetPanel=A;class N extends i.PureComponent{render(){return r.createElement(d.Panel,{onMouseDown:this.props.onMouseDown,recordingKey:this.props.recordingKey,className:this.props.expanded?m.presetHeaderExpanded:m.presetHeader},r.createElement(d.Row,{className:m.presetHeader},r.createElement("div",{className:m.caretAndName},r.createElement(c.Svg,{className:this.props.expanded?m.caretDown:m.caret,svg:this.props.expanded?P:g}),r.createElement("div",{className:m.name},this.props.name))))}}N.displayName="FramePresetHeader";class x extends i.PureComponent{constructor(){super(...arguments),this.onSelectPreset=(e=>this.props.onSelectPreset(e))}render(){return r.createElement(d.Panel,{className:m.presetList},this.props.framePresets.map(e=>r.createElement(d.Row,{key:e.name,onMouseDown:this.onSelectPreset.bind(this,e),recordingKey:i.joinKeys(this.props,e.name)},r.createElement("div",{className:m.presetName},e.name),r.createElement("div",{className:m.presetDimensions},e.width,"",e.height," "))))}}x.displayName="FramePresetList";class F extends l.Select{}class K extends l.Option{}class D extends i.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>"AUTO"===e?"Group":"MANUAL"===e?"Frame":e.name,isEqual:(e,t)=>"AUTO"===e&&"AUTO"===t||("MANUAL"===e&&"MANUAL"===t||(t="AUTO"===t||"MANUAL"===t?null:t,!(!(e="AUTO"===e||"MANUAL"===e?null:e)||!t)&&(e.width===t.width&&e.height===t.height||e.width===t.height&&e.height===t.width)))},this.onChange=(e=>{if("AUTO"===e)a.fullscreen.updateSelectionProperties({resizeToFit:!0,scrollDirection:"NONE"});else{let t=this.props.width,s=this.props.height,r=null;"MANUAL"!==e&&(t=e.width,s=e.height,r=e.name),a.fullscreen.updateSelectionProperties({resizeToFit:!1,width:t,height:s}),null!=r&&this.props.dispatch(n.fullscreen.trackEvent({name:"Frame Size Preset Chosen",params:{method:"Transform Panel",deviceName:r}})),p.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary()}}),this.getPresetWithDimensions=((e,s)=>{for(let r of Object.keys(t.presetsList))for(let i of t.presetsList[r])if(this.formatter.isEqual({width:e,height:s},i))return i;return null}),this.renderPresetOption=((e,t)=>r.createElement(K,{value:e,key:t,recordingKey:i.joinKeys(this.props,e.name)},r.createElement("div",{className:m.presetOption},r.createElement("span",null,e.name),r.createElement("span",null,e.width,"",e.height)," ")))}render(){let e;return e=o.notMixed(this.props.width)&&o.notMixed(this.props.height)&&o.notMixed(this.props.resizeToFit)?this.props.resizeToFit?"AUTO":this.getPresetWithDimensions(this.props.width,this.props.height)||"MANUAL":o.MIXED,r.createElement(F,{className:this.props.className,id:"frame-preset-select",property:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:m.presetDropdown,recordingKey:i.joinKeys(this.props,"select")},(this.props.resizeToFit||"MANUAL"===e)&&r.createElement(K,{value:"MANUAL",recordingKey:i.joinKeys(this.props,"MANUAL")}),r.createElement(K,{value:"AUTO",recordingKey:i.joinKeys(this.props,"AUTO"),disabled:!this.props.canBecomeGroup}),r.createElement(l.SelectDivider,null),u.map(this.renderPresetOption),r.createElement(l.SelectDivider,null),w.map(this.renderPresetOption),r.createElement(l.SelectDivider,null),T.map(this.renderPresetOption),r.createElement(l.SelectDivider,null),E.map(this.renderPresetOption),r.createElement(l.SelectDivider,null),S.map(this.renderPresetOption),r.createElement(l.SelectDivider,null),f.map(this.renderPresetOption))}}D.displayName="FramePresetDropdown",t.FramePresetDropdown=D;class M extends r.PureComponent{constructor(){super(...arguments),this.onClick=(e=>{a.fullscreen.triggerAction("resize-to-fit")})}render(){return r.createElement(h.IconButton,{onClick:this.onClick,svg:y,className:this.props.className,recordingKey:this.props.recordingKey,"data-tooltip-text":"Resize to Fit"})}}M.displayName="FrameFitButton",t.FrameFitButton=M,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(38,1       ),r=s(406             ),a=s(143              ),n=s(199      ),p=s(201                                      ),h=s(387                                                                            ),l=16;class u extends a.Component{constructor(){super(...arguments),this.minimumHeight=0,this.ref=(e=>{e&&!this.textarea&&(this.textarea=o.findDOMNode(e),this.minimumHeight=this.props.minHeight?this.props.minHeight:this.textarea.scrollHeight,this.textarea.setAttribute("style","height: 0px"),this.textarea.setAttribute("style",`height: ${this.textarea.scrollHeight}px`),this.props.selectOnMount&&this.textarea.select())}),this.resizeTextareaToFitValue=(e=>{let t=this.textarea.cloneNode(!0);this.textarea.parentElement.appendChild(t),t.setAttribute("style","height: 0px"),t.value=e,this.textarea.setAttribute("style",`height: ${Math.max(t.scrollHeight,this.minimumHeight)}px`),t.remove()}),this.onKeyDown=a.keyboardEvent(this,"keydown",e=>{let t=e.currentTarget;if(this.props.captureKeys&&-1!==this.props.captureKeys.indexOf(e.keyCode)&&!(e.metaKey||e.shiftKey||e.altKey))return e.stopPropagation(),e.preventDefault(),void this.props.onKeyDown(e);"function"==typeof this.props.submit&&e.keyCode===n.Key.ENTER&&(e.ctrlKey||e.metaKey||e.altKey)?(e.stopPropagation(),e.preventDefault(),this.props.submit(t.value),t.value=""):this.resizeTextareaToFitValue(this.textarea.value+String.fromCharCode(e.keyCode)),"function"==typeof this.props.onKeyDown&&this.props.onKeyDown(e),e.keyCode===n.Key.ESCAPE&&t.blur()}),this.onKeyUp=a.keyboardEvent(this,"keyup",e=>{"function"==typeof this.props.onKeyUp&&this.props.onKeyUp(e)}),this.onBlur=a.focusEvent(this,"blur",()=>{this.props.submitOnBlur&&"function"==typeof this.props.submit&&this.props.submit(this.textarea.value)})}UNSAFE_componentWillReceiveProps(e){this.props.value!==e.value&&this.resizeTextareaToFitValue(e.value)}render(){const e=this.props.lineHeightPx||l,t=r.create({textarea:{padding:"7px",background:"transparent",lineHeight:`${e}px`,resize:"none",overflow:"hidden"}});return i.createElement(p.LazyInput,{type:"textarea",ref:this.ref,className:r.join(t.textarea,h.textAreaInput,this.props.className),style:Object.assign({height:e},this.props.style),placeholder:this.props.placeholder,value:this.props.value,onKeyDown:this.onKeyDown,onKeyUp:this.onKeyUp,onBlur:this.onBlur,onMouseDown:e=>{e.stopPropagation()},onChange:this.props.onChange,delay:this.props.delay,recordingKey:a.joinKeys(this.props,"input")})}}u.displayName="ExpandingTextarea",t.ExpandingTextarea=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={textRow:"component_panel--textRow--3bHD-",input:"component_panel--input--2bm_6 raw_components--textAreaInput--3N5r5 raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a raw_components--border--3I0I6",updateBadge:"component_panel--updateBadge--2oBwU",updateLabel:"component_panel--updateLabel--3sbba"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(34,1   ),s=n(143              ),l=n(371                       ),o=n(1426                               ),r=n(282                             ),i=n(391                               ),p=n(1143                                ),c=n(549                                                                ),u=n(1144                   );class m extends a.PureComponent{constructor(){super(...arguments),this.state={tempValue:null},this.onChange=(e=>{this.setState({tempValue:e.target.value})}),this.submit=(e=>{o.fullscreen.updateSelectionProperties({symbolDescription:e}),o.fullscreen.commit(),this.setState({tempValue:null})}),this.computeKeyFromSelection=(()=>{const e=Object.keys(this.props.sceneGraphSelection);return e.length<10?e.join(""):e.length+e[Math.floor(e.length/2)]})}render(){let e;e=null!=this.state.tempValue?this.state.tempValue:r.getValue(this.props.symbolDescription,"");const t=this.computeKeyFromSelection();let n=!1,o=!1;for(let a in this.props.localComponents){const e=this.props.localComponents[a].status;e!==l.LibraryStatus.CURRENT&&e!==l.LibraryStatus.DELETED&&e!==l.LibraryStatus.CHANGED&&e!==l.LibraryStatus.CAN_UPGRADE||(n=!0),this.props.sceneGraphSelection[a]&&(e!==l.LibraryStatus.CHANGED&&e!==l.LibraryStatus.DELETED&&e!==l.LibraryStatus.NEW&&e!==l.LibraryStatus.CAN_UPGRADE||(o=!0))}return a.createElement(i.Panel,null,a.createElement(i.Row,null,a.createElement(i.PanelTitle,null,"Component")),a.createElement(i.Row,{className:u.textRow},a.createElement(p.ExpandingTextarea,{key:t,className:u.input,value:e,placeholder:"Description",onChange:this.onChange,submit:this.submit,submitOnBlur:!0,recordingKey:s.joinKeys(this.props,"componentDescriptionText")})),n&&o&&a.createElement(i.Row,null,a.createElement(c.UpdateBadge,{className:u.updateBadge}),a.createElement(i.LabelInactive,{className:u.updateLabel},"Changes not yet published")))}}m.displayName="ComponentPanel",t.ComponentPanel=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,l){e.exports={blendMode:"layer_panel--blendMode--2nCPn",opacity:"layer_panel--opacity--2Zskn",visible:"layer_panel--visible--3kMsf"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=s(34,1   ),t=s(143              ),o=s(1426                               ),r=s(1122                      ),l=s(391                               ),a=s(497                                  ),p=s(538                 ),c=s(1146               );class d extends i.PureComponent{constructor(){super(...arguments),this.onVisibleChange=(e=>o.fullscreen.updateSelectionProperties({visible:e})),this.onBlendModeChange=(e=>o.fullscreen.updateSelectionProperties({blendMode:e,visible:!0}))}render(){return i.createElement(l.Panel,null,i.createElement(l.Row,null,i.createElement(l.PanelTitle,null,"Layer")),i.createElement(l.Row,null,i.createElement(r.BlendMode,{id:"layer-blend-mode",className:c.blendMode,property:this.props.blendMode,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onBlendModeChange,includePassThrough:!0,recordingKey:t.joinKeys(this.props,"blendMode")}),i.createElement(h,{opacity:this.props.opacity,dispatch:this.props.dispatch,recordingKey:t.joinKeys(this.props,"opacity")}),i.createElement(p.Visible,{className:c.visible,visible:this.props.visible,onChange:this.onVisibleChange,recordingKey:t.joinKeys(this.props,"visibleToggle")})))}}d.displayName="LayerPanel",n.LayerPanel=d;class h extends i.PureComponent{constructor(){super(...arguments),this.onChange=((e,n)=>{o.fullscreen.updateSelectionProperties({opacity:e},n),e>0&&o.fullscreen.updateSelectionProperties({visible:!0},n)})}render(){return i.createElement(a.ScrubbablePercentageInput,{onValueChange:this.onChange,value:this.props.opacity,className:c.opacity,min:0,max:1,recordingKey:this.props.recordingKey,dispatch:this.props.dispatch})}}h.displayName="Opacity",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,n){e.exports={singleRowHeight:"mask_panel--singleRowHeight--3k1yF",doubleRowHeight:"mask_panel--doubleRowHeight--38AJg",input:"mask_panel--input--3arQc mask_panel--singleRowHeight--3k1yF",border:"mask_panel--border--NkP0P",borderFocusWithin:"mask_panel--borderFocusWithin--3S4i8",iconInsideBorderFocusWithin:"mask_panel--iconInsideBorderFocusWithin--3L-Vu",rowSelectedSecondary:"mask_panel--rowSelectedSecondary--1fKVA mask_panel--rowSelected--tdtJi",selectHiddenInput:"mask_panel--selectHiddenInput--GSL86",iconButton:"mask_panel--iconButton--1eRuz",borderFocus:"mask_panel--borderFocus--2q2fC",multiValueInput:"mask_panel--multiValueInput--3PMfP mask_panel--borderFocusWithin--3S4i8",base:"mask_panel--base--2pirq",label:"mask_panel--label--1fVzh mask_panel--base--2pirq checkbox--_checkboxLabel--1418z",labelInactive:"mask_panel--labelInactive--3NivK mask_panel--label--1fVzh mask_panel--base--2pirq",textInput:"mask_panel--textInput--2-Q1u mask_panel--base--2pirq mask_panel--input--3arQc mask_panel--singleRowHeight--3k1yF",textAreaInput:"mask_panel--textAreaInput--29j6B mask_panel--base--2pirq mask_panel--input--3arQc mask_panel--singleRowHeight--3k1yF",noLeftBorder:"mask_panel--noLeftBorder--1fAGE",squareRightBorder:"mask_panel--squareRightBorder--VlAqk",_iconButton:"mask_panel--_iconButton--31J9Z",iconButtonEnabled:"mask_panel--iconButtonEnabled--19YfY mask_panel--_iconButton--31J9Z",iconButtonDisabled:"mask_panel--iconButtonDisabled--3ExgK mask_panel--_iconButton--31J9Z",iconButtonSelected:"mask_panel--iconButtonSelected--2kTyg mask_panel--_iconButton--31J9Z",chitCenter:"mask_panel--chitCenter--zQAu_",outlineButton:"mask_panel--outlineButton--216je",modalPanel:"mask_panel--modalPanel--u6klO",panel:"mask_panel--panel--2mF2v",_row:"mask_panel--_row--31mAN",singleRow:"mask_panel--singleRow--1-YPR mask_panel--singleRowHeight--3k1yF mask_panel--_row--31mAN",doubleRow:"mask_panel--doubleRow--DCnvQ mask_panel--doubleRowHeight--38AJg mask_panel--_row--31mAN",labelRow:"mask_panel--labelRow--3B1bb mask_panel--singleRow--1-YPR mask_panel--singleRowHeight--3k1yF mask_panel--_row--31mAN",rowSelected:"mask_panel--rowSelected--tdtJi",panelTitle:"mask_panel--panelTitle--S3rps",panelTitleWithTip:"mask_panel--panelTitleWithTip--1Q3kU mask_panel--panelTitle--S3rps",panelTitleWithTipText:"mask_panel--panelTitleWithTipText--3EKS_",panelTitleWithTipIcon:"mask_panel--panelTitleWithTipIcon--1a-0I",panelTitleFaded:"mask_panel--panelTitleFaded--2hifp mask_panel--panelTitle--S3rps",flushLeft:"mask_panel--flushLeft--vU6UL",checkbox:"mask_panel--checkbox--30qc2"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,s){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=s(34,1   ),a=s(143              ),l=s(1426                               ),o=s(391                               ),r=s(1105                  ),c=s(1148              );class i extends t.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{l.fullscreen.updateSelectionProperties({maskIsOutline:e})})}render(){return t.createElement(o.Panel,null,t.createElement(o.Row,null,t.createElement(o.PanelTitle,null,"Mask")),t.createElement(o.Row,null,t.createElement(r.Checkbox,{id:"mask-use-shape-outline",property:this.props.maskIsOutline,onChange:this.onChange,recordingKey:a.joinKeys(this.props,"maskUseShapeOutline"),className:c.checkbox}),t.createElement(o.Label,{htmlFor:"mask-use-shape-outline",className:c.label},"Use Shape Outlines")))}}i.displayName="MaskPanel",n.MaskPanel=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,n){o.exports={orientationControl:"orientation_control--orientationControl--15tEX"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,s){t.exports={id:"gdb4cb5d2",src:'<svg width="8" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M7 1H1v12h6V1zM1 0H0v14h8V0H1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){e.exports={id:"g46be1eec",src:'<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M1 1v6h12V1H1zM0 7v1h14V0H0v7z" fill-rule="evenodd"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(34,1   ),s=r(1426                               ),n=r(129                               ),o=r(282                             ),p=r(748                                                                              ),a=r(1150                       ),l=r(1151                                                                      ),c=r(1152                                                                       );class g extends p.SegmentedControl{}class d extends p.Segment{}class h extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{(this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT")!==e&&(s.fullscreen.triggerAction("toggle-frame-orientation"),n.PrototypingHelpers.updateCurrentPagePrototypeDeviceIfNecessary())})}render(){let e,t=!1;return o.notMixed(this.props.width)&&o.notMixed(this.props.height)&&o.notMixed(this.props.resizeToFit)?this.props.resizeToFit?t=!0:e=this.props.width>this.props.height?"LANDSCAPE":"PORTRAIT":e=o.MIXED,i.createElement(g,{className:a.orientationControl,disabled:t,property:e,onChange:this.onChange,recordingKey:this.props.recordingKey},i.createElement(d,{value:"PORTRAIT",svg:l}),i.createElement(d,{value:"LANDSCAPE",svg:c}))}}h.displayName="OrientationControl",t.OrientationControl=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,r,a){n.exports={input:"transform_panel--input--3Af2f raw_components--flushLeft--2dWma",inactiveLabel:"transform_panel--inactiveLabel--hZBjR raw_components--iconInsideBorderFocusWithin--Ry1th",iconButton:"transform_panel--iconButton--1pHfe",scrubbableInputLeftCol:"transform_panel--scrubbableInputLeftCol--1SO4Q raw_components--borderFocusWithin--3IG2Z",scrubbableInput:"transform_panel--scrubbableInput--1xoM_ transform_panel--scrubbableInputLeftCol--1SO4Q raw_components--borderFocusWithin--3IG2Z",arcToolInputs:"transform_panel--arcToolInputs--291xt raw_components--borderFocusWithin--3IG2Z",arcToolStart:"transform_panel--arcToolStart--1NvEp",arcToolSweep:"transform_panel--arcToolSweep--1QZIF",arcToolRatio:"transform_panel--arcToolRatio--Crywz",count:"transform_panel--count--12frB transform_panel--scrubbableInputLeftCol--1SO4Q raw_components--borderFocusWithin--3IG2Z",starRadius:"transform_panel--starRadius--BP9pU transform_panel--scrubbableInput--1xoM_ transform_panel--scrubbableInputLeftCol--1SO4Q raw_components--borderFocusWithin--3IG2Z",countLabel:"transform_panel--countLabel--3UJ3j transform_panel--inactiveLabel--hZBjR raw_components--iconInsideBorderFocusWithin--Ry1th",starRadiusLabel:"transform_panel--starRadiusLabel--3G7KV transform_panel--inactiveLabel--hZBjR raw_components--iconInsideBorderFocusWithin--Ry1th",countInput:"transform_panel--countInput--3DsAf",starRadiusInput:"transform_panel--starRadiusInput--2QL1A",rectangleCornerRadiusInputs:"transform_panel--rectangleCornerRadiusInputs--1x9sz raw_components--borderFocusWithin--3IG2Z",rectangleCornerRadiusInput:"transform_panel--rectangleCornerRadiusInput--Pqdsh",rectangleCornerRadiusInputDisabled:"transform_panel--rectangleCornerRadiusInputDisabled--2bWsj transform_panel--rectangleCornerRadiusInput--Pqdsh",rectangleCornerRadius:"transform_panel--rectangleCornerRadius--2D0Gg",cornerSmoothingInput:"transform_panel--cornerSmoothingInput--3ZwaA",framePresetDropdown:"transform_panel--framePresetDropdown--1-nga",framePresetDropdownSmall:"transform_panel--framePresetDropdownSmall--rxWHm",mirroringIcon:"transform_panel--mirroringIcon--1r9xO transform_panel--inactiveLabel--hZBjR raw_components--iconInsideBorderFocusWithin--Ry1th",handleMirroring:"transform_panel--handleMirroring--9TabD",sliderContainer:"transform_panel--sliderContainer--3SoqU",sliderAnnotationStroke:"transform_panel--sliderAnnotationStroke--PBBmO",sliderAnnotationText:"transform_panel--sliderAnnotationText--15BOo",checkbox:"transform_panel--checkbox--1nbaI",checkboxLabel:"transform_panel--checkboxLabel--3qF1k checkbox--_checkboxLabel--1418z"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(t,e,s){t.exports={id:"g6309f66d",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M0 0v8h8V7H5c0-2.21-1.79-4-4-4V0H0zm1 4v3h3c0-1.657-1.343-3-3-3z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g0fa333c8",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M10 5h2v2h-2V5zM0 5h2v2H0V5zm7 5v2H5v-2h2zM7 0v2H5V0h2z" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,d){t.exports={id:"g8a7b3d5f",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M5.5 0h1v12h-1V0zM12 5.5v1H0v-1h12zM9.89 1.404l.706.707-8.485 8.485-.707-.707 8.485-8.485zm.706 8.485l-.707.707-8.485-8.485.707-.707 8.485 8.485z" fill="#d4d4d4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(l,t,d){l.exports={id:null,src:'<svg width="9" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M7.358 6.5L0 .812.591 0l7.883 6.094L9 6.5l-.526.406L.591 13 0 12.187 7.358 6.5z" fill-rule="evenodd" fill="#d4d4d4"/><path d="M4.507 3.636c-1.562 1.562-1.562 4.095 0 5.657L3.8 10c-1.953-1.953-1.953-5.118 0-7.071l.707.707z" fill="#d4d4d4"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,s,o){t.exports={id:"gd4a2158a",src:'<svg width="11" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M5 .022C2.197.275 0 2.631 0 5.5 0 8.538 2.462 11 5.5 11 8.538 11 11 8.538 11 5.5h-1C10 7.985 7.985 10 5.5 10 3.015 10 1 7.985 1 5.5c0-2.316 1.75-4.224 4-4.473V.022zM5 3.05c-1.141.232-2 1.24-2 2.45C3 6.88 4.12 8 5.5 8 6.88 8 8 6.88 8 5.5H7C7 6.328 6.328 7 5.5 7 4.672 7 4 6.328 4 5.5c0-.653.417-1.209 1-1.415V3.05z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g279a42f6",src:'<svg width="9" height="9" xmlns="http://www.w3.org/2000/svg"><path d="M9 1H5C2.79 1 1 2.79 1 5v4H0V5c0-2.761 2.239-5 5-5h4v1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g22beb1b6",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h3v1H1v2H0V0zm7 0h3v3H9V1H7V0zM1 9V7H0v3h3V9H1zm9-2v3H7V9h2V7h1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,c){t.exports={id:"g170a7ca5",src:'<svg width="6" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M3 1c1.105 0 2 .895 2 2v2h1V3c0-1.657-1.343-3-3-3-1.657 0-3 1.343-3 3v2h1V3c0-1.105.895-2 2-2zm2 8h1v2c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3V9h1v2c0 1.105.895 2 2 2 1.105 0 2-.895 2-2V9zM2.5 4v6h1V4h-1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,h){t.exports={id:"gc87b8578",src:'<svg width="8" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M6 3.5V5h1V3.5C7 1.567 5.433 0 3.5 0 1.567 0 0 1.567 0 3.5V5h1V3.5C1 2.12 2.12 1 3.5 1 4.88 1 6 2.12 6 3.5zM6 9h1v1.5C7 12.433 5.433 14 3.5 14 1.567 14 0 12.433 0 10.5V9h1v1.5C1 11.88 2.12 13 3.5 13 4.88 13 6 11.88 6 10.5V9zM3 4v6h1V4H3z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g47e94970",src:'<svg width="6" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M5 5V3c0-1.105-.895-2-2-2-1.105 0-2 .895-2 2v2H0V3c0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3v2H5zm1 4H5v2c0 1.105-.895 2-2 2-1.105 0-2-.895-2-2V9H0v2c0 1.657 1.343 3 3 3 1.657 0 3-1.343 3-3V9z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g79bde53c",src:'<svg width="8" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M6 5V3.5C6 2.12 4.88 1 3.5 1 2.12 1 1 2.12 1 3.5V5H0V3.5C0 1.567 1.567 0 3.5 0 5.433 0 7 1.567 7 3.5V5H6zm1 4H6v1.5C6 11.88 4.88 13 3.5 13 2.12 13 1 11.88 1 10.5V9H0v1.5C0 12.433 1.567 14 3.5 14 5.433 14 7 12.433 7 10.5V9z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g39dfede8",src:'<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M2.5.5L0 3l2.5 2.5 2-2h2.085c.206.583.762 1 1.415 1 .653 0 1.209-.417 1.415-1H11.5l2 2L16 3 13.5.5l-2 2H9.415c-.206-.583-.762-1-1.415-1-.653 0-1.209.417-1.415 1H4.5l-2-2zM3.586 3L2.5 1.914 1.414 3 2.5 4.086 3.586 3zm11 0L13.5 1.914 12.414 3 13.5 4.086 14.586 3z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gd827bb84",src:'<svg width="16" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 0L0 2.5 2.5 5l2-2h2.085c.206.583.762 1 1.415 1 .653 0 1.209-.417 1.415-1H11.5l2 2L16 2.5 13.5 0l-2 2H9.415C9.209 1.417 8.653 1 8 1c-.653 0-1.209.417-1.415 1H4.5l-2-2zm1.086 2.5L2.5 1.414 1.414 2.5 2.5 3.586 3.586 2.5zm11 0L13.5 1.414 12.414 2.5 13.5 3.586 14.586 2.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"gd1e42c04",src:'<svg width="13" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M13 1h-2v10h2v1h-3V0h3v1zM3 0v12H0v-1h2V1H0V0h3zm4 3H6v6h1V3z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g9bb205e7",src:'<svg width="12" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M11 13v-2H1v2H0v-3h12v3h-1zm1-10H0V0h1v2h10V0h1v3zM9 7V6H3v1h6z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gc771afc2",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M8 4.5C8 2.015 5.985 0 3.5 0H0v1h3.5C5.433 1 7 2.567 7 4.5V8h1V4.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf9abeabe",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M0 3.5C0 5.985 2.015 8 4.5 8H8V7H4.5C2.567 7 1 5.433 1 3.5V0H0v3.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g626e7cef",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M8 3.5C8 5.985 5.985 8 3.5 8H0V7h3.5C5.433 7 7 5.433 7 3.5V0h1v3.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g97aa8993",src:'<svg width="8" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M0 4.5C0 2.015 2.015 0 4.5 0H8v1H4.5C2.567 1 1 2.567 1 4.5V8H0V4.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),n=r(38,1       ),o=r(232                        ),i=r(143              ),a=r(198         ),l=r(1426                               ),p=r(129                               ),c=r(1105                  ),u=r(341                              ),g=r(282                             ),h=r(214                                                    ),d=r(502                                                       ),m=r(386                        ),b=r(384                                     ),C=r(497                                  ),f=r(391                               ),S=r(389                         ),R=r(751                             ),E=r(478                                 ),_=r(1142                            ),I=r(1153                                        ),v=r(477               ),P=r(144                        ),N=r(1154                   ),T=r(388                                                    ),y=r(1155                                                          ),L=r(1156                                                ),w=r(1157                                               ),K=r(1158                                              ),O=r(1159                                                 ),x=r(1160                                                               ),B=r(1161                                                                   ),k=r(1162                                                      ),F=r(1163                                                        ),M=r(1164                                                             ),j=r(1165                                                               ),A=r(1166                                                           ),D=r(1167                                                             ),H=r(1112                                                      ),X=r(1113                                                        ),V=r(1168                                                     ),G=r(1169                                                              ),Y={className:N.scrubbableInput,inputClassName:N.input},z={className:N.scrubbableInputLeftCol,inputClassName:N.input};function W(e,t,r,s){const n=Object.assign({value:r,onValueChange:s,dispatch:e.dispatch,wheelMultiplier:e.smallNudgeAmount,scrubMultiplier:e.smallNudgeAmount,smallNudgeAmount:e.smallNudgeAmount,bigNudgeAmount:e.bigNudgeAmount},t);return n.value!==g.MIXED&&null!==n.value||(n.scrubbingDisabled=!0),n}var $;!function(e){e[e.TOP_LEFT=0]="TOP_LEFT",e[e.BOTTOM_LEFT=1]="BOTTOM_LEFT",e[e.TOP_RIGHT=2]="TOP_RIGHT",e[e.BOTTOM_RIGHT=3]="BOTTOM_RIGHT"}($||($={}));class q extends s.PureComponent{constructor(e){super(e),this.cornerSmoothingRef=(e=>{e&&(this.cornerSmoothingElement=n.findDOMNode(e))}),this.toggleProportionsConstrained=(()=>{const e=g.getValue(this.props.proportionsConstrained,!1);l.fullscreen.updateSelectionProperties({proportionsConstrained:!e})}),this.toggleRectangleCornerToolIndependent=(()=>{const e=g.getValue(this.props.rectangleCornerToolIndependent,!1);l.fullscreen.updateSelectionProperties({rectangleCornerToolIndependent:!e})}),this.onCornerRadiusFocus=(e=>{let t=parseInt(e.target.parentElement.dataset.corner),r=t in $?t:$.TOP_LEFT;this.setState({activeCornerRadius:r})}),this.onCornerRadiusBlur=(e=>{this.setState({activeCornerRadius:$.TOP_LEFT})}),this.toggleCornerSmoothing=(e=>{if(this.props.pickerShown&&this.props.pickerShown.id===this.cornerSmoothingId)this.props.dispatch(o.fullscreen.hidePicker());else{const e=m.pickerPositionLeftOf(this.cornerSmoothingElement);this.props.dispatch(o.fullscreen.showPicker({id:this.cornerSmoothingId,initialX:e.x,initialY:e.y}))}e.stopPropagation()}),this.updateCornerSmoothing=((e,t)=>{e=Math.round(100*e)/100,t?l.fullscreen.updateSelectionProperties({cornerSmoothing:e},u.ShouldCommit.YES):l.fullscreen.updateSelectionProperties({cornerSmoothing:e},u.ShouldCommit.NO)}),this.onFrameMaskDisabledChange=(e=>{l.fullscreen.updateSelectionProperties({frameMaskDisabled:!e})}),this.onChangeArcStart=((e,t)=>{l.fullscreen.updateSelectionProperties({arcStart:e},t)}),this.onChangeArcEnd=((e,t)=>{l.fullscreen.updateSelectionProperties({arcSweep:e},t)}),this.onChangeArcRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({arcRadius:e},t)}),this.onChangeX=((e,t)=>{l.fullscreen.updateSelectionProperties({x:e},t)}),this.onChangeY=((e,t)=>{l.fullscreen.updateSelectionProperties({y:e},t)}),this.onChangeWidth=((e,t)=>{l.fullscreen.updateSelectionProperties({width:e},t)}),this.onChangeHeight=((e,t)=>{l.fullscreen.updateSelectionProperties({height:e},t)}),this.onChangeAngle=((e,t)=>{l.fullscreen.updateSelectionProperties({angle:e},t)}),this.onChangeCornerRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({cornerRadius:e},t)}),this.onChangeRectangleTopLeftCornerRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({rectangleTopLeftCornerRadius:e},t)}),this.onChangeRectangleBottomLeftCornerRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({rectangleBottomLeftCornerRadius:e},t)}),this.onChangeRectangleTopRightCornerRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({rectangleTopRightCornerRadius:e},t)}),this.onChangeRectangleBottomRightCornerRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({rectangleBottomRightCornerRadius:e},t)}),this.onChangeCount=((e,t)=>{l.fullscreen.updateSelectionProperties({count:e},t)}),this.onChangeStarInnerScale=((e,t)=>{l.fullscreen.updateSelectionProperties({starInnerScale:e},t)}),this.minListSpacingValue=(e=>{const t=g.getValue(this.props.detectedList);return t?1-t.minItemSize["X"===e?0:1]:0}),this.makeListSpacingChangeHandler=(e=>(t,r)=>{const s=g.getValue(this.props.detectedList),n="X"===e?"canvasSpacingBetweenItemsX":"canvasSpacingBetweenItemsY";l.fullscreen.updateSelectionProperties({detectedList:{[n]:Math.max(t,this.minListSpacingValue(e))}},r);const o="number"==typeof s.canvasSpacingBetweenItemsX&&"number"==typeof s.canvasSpacingBetweenItemsY;r&&l.fullscreen.trackFromFullscreen("magic_collections_list_spacing_changed",{source:"panel",spacing_did_change:t!==s[n],type:o?"grid":"list"})}),this.onChangeListSpacingX=this.makeListSpacingChangeHandler("X"),this.onChangeListSpacingY=this.makeListSpacingChangeHandler("Y"),this.state={activeCornerRadius:$.TOP_LEFT}}scrubbableInputProps(e,t){return W(this.props,Y,e,t)}scrubbableInputPropsLeft(e,t){return W(this.props,z,e,t)}svgForCornerRadius(){switch(this.state.activeCornerRadius){case $.TOP_RIGHT:return r(1170                                                                );case $.BOTTOM_LEFT:return r(1171                                                                  );case $.BOTTOM_RIGHT:return r(1172                                                                   );case $.TOP_LEFT:default:return r(1173                                                               )}}hasListSpacingValue(e){return null!=e&&e!==g.MIXED}render(){const e=0|this.props.shownTransformControls,t=!!(e&1<<p.TransformPanelControl.FRAME_PRESETS_ITEM),r=!!(e&1<<p.TransformPanelControl.CORNER_RADIUS),n=!!(e&1<<p.TransformPanelControl.COUNT),o=!!(e&1<<p.TransformPanelControl.STAR_INNER_SCALE),a=!!(e&1<<p.TransformPanelControl.RECTANGLE_CORNER_RADII),l=!!(e&1<<p.TransformPanelControl.FIXED_FRAME_OPTIONS),u=!!(e&1<<p.TransformPanelControl.ARC_DATA),h=g.getValue(this.props.arcStart),d=g.getValue(this.props.arcSweep),m=g.getValue(this.props.arcRadius),b=this.props.smallNudgeAmount||1,E=this.props.actionEnabledResizeToFit,v=g.getValue(this.props.proportionsConstrained,!1),T=g.getValue(this.props.rectangleCornerToolIndependent,!1),A=this.props.pickerShown&&this.props.pickerShown.id===this.cornerSmoothingId,D=a&&T,Y=g.getValue(this.props.detectedList);return s.createElement(f.Panel,null,t&&s.createElement(f.Row,null,s.createElement(_.FramePresetDropdown,{className:E?N.framePresetDropdownSmall:N.framePresetDropdown,width:this.props.width,height:this.props.height,resizeToFit:this.props.resizeToFit,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,canBecomeGroup:this.props.canBecomeGroup,recordingKey:i.joinKeys(this.props,"framePresetDropdown")}),E&&s.createElement(I.OrientationControl,{width:this.props.width,height:this.props.height,resizeToFit:this.props.resizeToFit,recordingKey:i.joinKeys(this.props,"frameOrientation")}),E&&s.createElement(_.FrameFitButton,{className:N.iconButton,recordingKey:i.joinKeys(this.props,"frameFitButton")})),s.createElement(f.Row,null,s.createElement(C.ScrubbablePixelInput,Object.assign({},this.scrubbableInputPropsLeft(this.props.x,this.onChangeX),{recordingKey:i.joinKeys(this.props,"xInput")}),s.createElement("span",{className:`${N.inactiveLabel} svg`},"X")),s.createElement(C.ScrubbablePixelInput,Object.assign({},this.scrubbableInputProps(this.props.y,this.onChangeY),{recordingKey:i.joinKeys(this.props,"yInput")}),s.createElement("span",{className:`${N.inactiveLabel} svg`},"Y"))),s.createElement(f.Row,null,s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputPropsLeft(this.props.width,this.onChangeWidth),{recordingKey:i.joinKeys(this.props,"widthInput")}),s.createElement("span",{className:`${N.inactiveLabel} svg`},"W")),s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputProps(this.props.height,this.onChangeHeight),{recordingKey:i.joinKeys(this.props,"heightInput")}),s.createElement("span",{className:`${N.inactiveLabel} svg`},"H")),s.createElement(R.OptionButton,{toggled:v,svg:v?k:M,fallbackSvg:v?F:j,className:N.iconButton,onMouseDown:this.toggleProportionsConstrained,recordingKey:i.joinKeys(this.props,"constrainProportionsToggle"),"data-tooltip-text":"Constrain Proportions"})),s.createElement(f.Row,{ref:a?null:this.cornerSmoothingRef},s.createElement(C.ScrubbableAngleInput,Object.assign({},this.scrubbableInputPropsLeft(this.props.angle,this.onChangeAngle),{recordingKey:i.joinKeys(this.props,"angleInput"),"data-tooltip-text":"Rotation"}),s.createElement(P.Svg,{className:N.inactiveLabel,svg:y})),r&&s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputProps(this.props.cornerRadius,this.onChangeCornerRadius),{"data-tooltip-text":"Corner Radius",recordingKey:i.joinKeys(this.props,"cornerRadiusInput"),disabled:D,scrubMultiplier:.1*b,resolution:.01}),s.createElement(P.Svg,{className:N.inactiveLabel,svg:x})),r&&a&&s.createElement(R.OptionButton,{toggled:T,svg:B,className:N.iconButton,onMouseDown:this.toggleRectangleCornerToolIndependent,"data-tooltip-text":"Independent Corners",recordingKey:i.joinKeys(this.props,"rectangleCornerToolIndependentToggle")}),r&&!a&&s.createElement(S.IconButton,{svg:H,fallbackSvg:X,className:N.iconButton,onMouseDown:this.toggleCornerSmoothing,recordingKey:i.joinKeys(this.props,"cornerSmoothingToggle"),"data-tooltip-text":"Corner Smoothing",selected:A})),D&&s.createElement(f.Row,{ref:this.cornerSmoothingRef},s.createElement("div",{className:N.rectangleCornerRadiusInputs},s.createElement(P.Svg,{className:N.inactiveLabel,svg:this.svgForCornerRadius()}),s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputProps(this.props.rectangleTopLeftCornerRadius,this.onChangeRectangleTopLeftCornerRadius),{"data-corner":$.TOP_LEFT,onFocus:this.onCornerRadiusFocus,onBlur:this.onCornerRadiusBlur,recordingKey:i.joinKeys(this.props,"rectangleTopLeftCornerRadiusInput"),"data-tooltip-text":"Top Left Corner Radius",className:N.rectangleCornerRadius,inputClassName:N.rectangleCornerRadiusInput,squareRightBorder:!0,scrubMultiplier:.1*b,resolution:.01,noBorderOnFocus:!0})),s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputProps(this.props.rectangleTopRightCornerRadius,this.onChangeRectangleTopRightCornerRadius),{"data-corner":$.TOP_RIGHT,onFocus:this.onCornerRadiusFocus,onBlur:this.onCornerRadiusBlur,recordingKey:i.joinKeys(this.props,"rectangleTopRightCornerRadiusInput"),"data-tooltip-text":T?"Top Right Corner Radius":void 0,className:N.rectangleCornerRadius,inputClassName:T?N.rectangleCornerRadiusInput:N.rectangleCornerRadiusInputDisabled,noLeftBorder:!0,squareRightBorder:!0,scrubMultiplier:.1*b,resolution:.01,noBorderOnFocus:!0})),s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputProps(this.props.rectangleBottomRightCornerRadius,this.onChangeRectangleBottomRightCornerRadius),{"data-corner":$.BOTTOM_RIGHT,onFocus:this.onCornerRadiusFocus,onBlur:this.onCornerRadiusBlur,recordingKey:i.joinKeys(this.props,"rectangleBottomRightCornerRadiusInput"),"data-tooltip-text":T?"Bottom Right Corner Radius":void 0,className:N.rectangleCornerRadius,inputClassName:T?N.rectangleCornerRadiusInput:N.rectangleCornerRadiusInputDisabled,noLeftBorder:!0,squareRightBorder:!0,scrubMultiplier:.1*b,resolution:.01,noBorderOnFocus:!0})),s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputProps(this.props.rectangleBottomLeftCornerRadius,this.onChangeRectangleBottomLeftCornerRadius),{"data-corner":$.BOTTOM_LEFT,onFocus:this.onCornerRadiusFocus,onBlur:this.onCornerRadiusBlur,recordingKey:i.joinKeys(this.props,"rectangleBottomLeftCornerRadiusInput"),"data-tooltip-text":T?"Bottom Left Corner Radius":void 0,className:N.rectangleCornerRadius,inputClassName:T?N.rectangleCornerRadiusInput:N.rectangleCornerRadiusInputDisabled,noLeftBorder:!0,scrubMultiplier:.1*b,resolution:.01,noBorderOnFocus:!0}))),s.createElement(S.IconButton,{svg:H,fallbackSvg:X,className:N.iconButton,onMouseDown:this.toggleCornerSmoothing,recordingKey:i.joinKeys(this.props,"rectangleCornerSmoothingToggle"),"data-tooltip-text":"Corner Smoothing",selected:A})),(n||o)&&s.createElement(f.Row,null,n&&s.createElement(C.ScrubbableIntInput,Object.assign({},this.scrubbableInputPropsLeft(this.props.count,this.onChangeCount),{recordingKey:i.joinKeys(this.props,"countInput"),"data-tooltip-text":"Count",bigNudgeAmount:10,scrubMultiplier:.1*b,resolution:.01,min:3,max:60}),o&&s.createElement(P.Svg,{className:N.inactiveLabel,svg:w}),!o&&s.createElement(P.Svg,{className:N.inactiveLabel,svg:L})),o&&s.createElement(C.ScrubbablePercentageInput,Object.assign({},this.scrubbableInputProps(this.props.starInnerScale,this.onChangeStarInnerScale),{recordingKey:i.joinKeys(this.props,"starInnerScaleInput"),"data-tooltip-text":"Ratio",min:.001}),s.createElement(P.Svg,{className:N.inactiveLabel,svg:K}))),u&&s.createElement(f.Row,null,s.createElement("div",{className:N.arcToolInputs},s.createElement(P.Svg,{className:N.inactiveLabel,svg:O}),s.createElement(C.ScrubbableAngleInput,Object.assign({},this.scrubbableInputPropsLeft(null!==h?h:g.MIXED,this.onChangeArcStart),{className:N.arcToolStart,recordingKey:i.joinKeys(this.props,"arcStart"),"data-tooltip-text":"Start",noBorderOnFocus:!0})),s.createElement(C.ScrubbablePercentageInput,Object.assign({},this.scrubbableInputProps(null!==d?d:g.MIXED,this.onChangeArcEnd),{className:N.arcToolSweep,recordingKey:i.joinKeys(this.props,"arcSweep"),min:-1,"data-tooltip-text":"Sweep",noBorderOnFocus:!0})),s.createElement(C.ScrubbablePercentageInput,Object.assign({},this.scrubbableInputProps(null!==m?m:g.MIXED,this.onChangeArcRadius),{className:N.arcToolRatio,recordingKey:i.joinKeys(this.props,"arcRatio"),"data-tooltip-text":"Ratio",noBorderOnFocus:!0})))),Y&&s.createElement(f.Row,null,this.hasListSpacingValue(Y.canvasSpacingBetweenItemsX)&&s.createElement(C.ScrubbablePixelInput,{dispatch:this.props.dispatch,value:null==Y?g.MIXED:Y.canvasSpacingBetweenItemsX,min:this.minListSpacingValue("X"),onValueChange:this.onChangeListSpacingX,wheelMultiplier:this.props.smallNudgeAmount,scrubMultiplier:this.props.smallNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,scrubbingDisabled:this.props.detectedList===g.MIXED,className:N.scrubbableInputLeftCol,inputClassName:N.input,recordingKey:i.joinKeys(this.props,"listSpacingX")},s.createElement(P.Svg,{className:N.inactiveLabel,svg:V})),this.hasListSpacingValue(Y.canvasSpacingBetweenItemsY)&&s.createElement(C.ScrubbablePixelInput,{dispatch:this.props.dispatch,value:null==Y?g.MIXED:Y.canvasSpacingBetweenItemsY,min:this.minListSpacingValue("Y"),onValueChange:this.onChangeListSpacingY,wheelMultiplier:this.props.smallNudgeAmount,scrubMultiplier:this.props.smallNudgeAmount,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,scrubbingDisabled:this.props.detectedList===g.MIXED,className:this.hasListSpacingValue(Y.canvasSpacingBetweenItemsX)?N.scrubbableInput:N.scrubbableInputLeftCol,inputClassName:N.input,recordingKey:i.joinKeys(this.props,"listSpacingY")},s.createElement(P.Svg,{className:N.inactiveLabel,svg:G}))),A&&s.createElement(U,{value:this.props.cornerSmoothing,callback:this.updateCornerSmoothing,pickerShown:this.props.pickerShown,dispatch:this.props.dispatch,recordingKey:i.joinKeys(this.props,"advanced")}),l&&s.createElement(f.Row,null,s.createElement(c.Checkbox,{className:N.checkbox,id:"frame-mask-disabled-checkbox",property:this.props.frameMaskDisabled===g.MIXED?g.MIXED:!g.getValue(this.props.frameMaskDisabled),onChange:this.onFrameMaskDisabledChange,recordingKey:i.joinKeys(this.props,"clipContentCheckbox")}),s.createElement(f.Label,{className:N.checkboxLabel,htmlFor:"frame-mask-disabled-checkbox"},"Clip Content")),this.props.children)}}q.displayName="TransformPanel",t.TransformPanel=q;class U extends s.PureComponent{constructor(){super(...arguments),this.width=138,this.border=1,this.ios=.6,this.close=(()=>{this.props.dispatch(o.fullscreen.hidePicker()),l.fullscreen.deselectProperty()}),this.mouseCallback=((e,t)=>{this.props.callback(e.x,t)}),this.wheelCallback=((e,t)=>{}),this.colorHandle=(e=>({r:1,g:1,b:1,a:1})),this.renderCanvas=((e,t)=>{const r=t.getContext("2d");r.fillStyle="#efefef",r.fillRect(0,0,this.width+d.StandardSliderControl.handle,d.StandardSliderControl.handle)}),this.textboxCallback=(e=>{this.props.callback(e,!0)}),this.iosCallback=(()=>{this.props.callback(this.ios,!0)})}render(){const e=new a.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY),t=new a.Vector(g.getValue(this.props.value,0),0),r=new b.PercentageFormatter;return s.createElement(h.DraggableModal,{title:"Corner Smoothing",initialPosition:e,headerSize:"small",onClose:this.close,recordingKey:i.joinKeys(this.props,"modal")},s.createElement(f.ModalPanel,null,s.createElement(f.Row,null,s.createElement(d.StandardSliderControl,{width:this.width,height:0,handlePadding:!0,value:t,mouseCallback:this.mouseCallback,wheelCallback:this.wheelCallback,renderCanvas:this.renderCanvas,colorHandle:this.colorHandle,containerClass:N.sliderContainer},s.createElement("div",{className:N.sliderAnnotationStroke,style:{position:"absolute",width:0,height:18,left:this.ios*this.width+.5*d.StandardSliderControl.handle,top:0,borderLeftWidth:this.border}},s.createElement(f.LabelInactive,{style:{position:"relative",left:-8,top:20},onClick:this.iosCallback},"iOS"))),s.createElement(E.NumberInput,{recordingKey:i.joinKeys(this.props,"modal"),className:N.cornerSmoothingInput,formatter:r,property:t.x,onChange:this.textboxCallback})),s.createElement(f.Row,{style:{height:10}})))}}U.displayName="CornerSmoothing";class J extends s.PureComponent{constructor(){super(...arguments),this.onChangeX=((e,t)=>{l.fullscreen.updateSelectionProperties({x:e},t)}),this.onChangeY=((e,t)=>{l.fullscreen.updateSelectionProperties({y:e},t)}),this.onChangeCornerRadius=((e,t)=>{l.fullscreen.updateSelectionProperties({cornerRadius:e},t)})}scrubbableInputProps(e,t){return W(this.props,Y,e,t)}scrubbableInputPropsLeft(e,t){return W(this.props,z,e,t)}render(){return s.createElement(f.Panel,null,s.createElement(f.Row,null,s.createElement(f.PanelTitle,null,"Vector")),s.createElement(f.Row,null,s.createElement(C.ScrubbablePixelInput,Object.assign({},this.scrubbableInputPropsLeft(this.props.x,this.onChangeX),{recordingKey:i.joinKeys(this.props,"xInput")}),s.createElement("span",{className:N.inactiveLabel},"X")),s.createElement(C.ScrubbablePixelInput,Object.assign({},this.scrubbableInputProps(this.props.y,this.onChangeY),{recordingKey:i.joinKeys(this.props,"yInput")}),s.createElement("span",{className:N.inactiveLabel},"Y"))),s.createElement(f.Row,null,s.createElement(f.LabelInactive,{className:N.mirroringIcon},s.createElement(T.SvgWithFallback,{svg:A,fallbackSvg:D})),s.createElement(ee,{handleMirroring:this.props.handleMirroring,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:i.joinKeys(this.props,"mirroring")})),s.createElement(f.Row,null,s.createElement(C.ScrubbablePositivePixelInput,Object.assign({},this.scrubbableInputPropsLeft(this.props.cornerRadius,this.onChangeCornerRadius),{recordingKey:i.joinKeys(this.props,"cornerRadiusInput"),"data-tooltip-text":"Corner Radius"}),s.createElement(P.Svg,{className:N.inactiveLabel,svg:x}))))}}J.displayName="VectorTransformPanel",t.VectorTransformPanel=J;class Q extends v.Select{}class Z extends v.Option{}class ee extends s.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{switch(e){case"NONE":return"No Mirroring";case"ANGLE":return"Mirror Angle";case"ANGLE_AND_LENGTH":return"Mirror Angle and Length"}}},this.onChange=(e=>l.fullscreen.updateSelectionProperties({handleMirroring:e}))}render(){return s.createElement(Q,{id:"handle-mirroring-select",className:N.handleMirroring,property:this.props.handleMirroring,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey},s.createElement(Z,{value:"NONE",recordingKey:i.joinKeys(this.props,"NONE")}),s.createElement(Z,{value:"ANGLE",recordingKey:i.joinKeys(this.props,"ANGLE")}),s.createElement(Z,{value:"ANGLE_AND_LENGTH",recordingKey:i.joinKeys(this.props,"ANGLE_AND_LENGTH")}))}}ee.displayName="HandleMirroring",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,e){o.exports={colorValueContainer:"prototype_background_panel--colorValueContainer--2_fnP paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a",chit:"prototype_background_panel--chit--1L75w paint_panels--chit--1AKml",color:"prototype_background_panel--color--2lnLu paint_panels--colorInput--10RG5",colorRow:"prototype_background_panel--colorRow--10WU4 undefined"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=r(34,1   ),i=r(38,1       ),n=r(143              ),p=r(198         ),s=r(282                             ),c=r(1426                               ),a=r(542                   ),l=r(232                        ),h=r(386                        ),u=r(391                                                                        ),d=r(478                                                                          ),f=r(468                                                    ),m=r(533                                                                    ),g=r(1175                              );class _ extends n.PureComponent{constructor(){super(...arguments),this.colorFormatter=new a.ColorHexFormatterWithoutHash,this.onColorChange=((e,o)=>{this.props.dispatch(l.prototype.trackEvent({name:"Prototype Background Modified"})),c.fullscreen.updateSelectionProperties({prototypeBackgroundColor:e},o)}),this.chitRowRef=(e=>{e&&(this.chitRow=i.findDOMNode(e))}),this.toggleColorPicker=(()=>{if(this.props.pickerShown&&this.props.pickerShown.id===_.COLOR_PICKER_ID)this.props.dispatch(l.fullscreen.hidePicker());else{const e=h.pickerPositionLeftOf(this.chitRow);this.props.dispatch(l.fullscreen.showPicker({id:_.COLOR_PICKER_ID,initialX:e.x,initialY:e.y}))}})}render(){const e=s.getValue(this.props.prototypeBackgroundColor,{r:0,g:0,b:0,a:1}),o=this.props.pickerShown&&this.props.pickerShown.id===_.COLOR_PICKER_ID;return t.createElement(u.Panel,null,t.createElement(u.Row,null,t.createElement(u.PanelTitle,null,"Background")),t.createElement(u.Row,{ref:this.chitRowRef,className:g.colorRow},t.createElement("div",{className:g.colorValueContainer},t.createElement(f.Chit,{onClick:this.toggleColorPicker,color:e,opacity:e.a,recordingKey:n.joinKeys(this.props,"chit"),className:g.chit}),t.createElement(d.ColorInput,{className:g.color,noLeftBorder:!0,formatter:this.colorFormatter,property:e,onChange:this.onColorChange,recordingKey:n.joinKeys(this.props,"colorInput"),noBorderOnFocus:!0}))),o&&t.createElement(m.ColorPicker,Object.assign({title:"Background",initialPosition:new p.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:e,onChange:this.onColorChange,recordingKey:n.joinKeys(this.props,"colorPicker")},m.extractColorPickerContainerProps(this.props))))}}_.displayName="PrototypeBackgroundPanel",_.COLOR_PICKER_ID="prototype-background-panel-color-picker",o.PrototypeBackgroundPanel=_,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={dropdown:"prototype_origin_panel--dropdown--wCysu"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(34,1   ),s=o(287       ),n=o(143              ),r=o(1426                               ),a=o(341                              ),p=o(129                               ),l=o(391                               ),d=o(404                              ),c=o(477               ),m=o(542                   ),h=o(1177                          );class u extends c.Option{}class g extends c.Select{}class y extends i.PureComponent{constructor(e){super(e),this.state={viableIds:[],disabledIds:[]},this.loadDestinationsFromFullscreen=(()=>{const{viableIds:e,disabledIds:t}=r.fullscreen.sendMessage("getValidStartFramesOnActiveCanvas").args;return new Promise((o,i)=>{this.setState({viableIds:e,disabledIds:t},o)})}),this.onOptionFocus=(e=>{"NODE"===e.type&&a.setHoveredNode(e.nodeId)}),this.onChange=(e=>{"NONE"===e.type?p.PrototypingHelpers.setOriginNodeId(s.invalidGUIDStr):"NODE"===e.type?p.PrototypingHelpers.setOriginNodeId(e.nodeId):setTimeout(()=>{throw new Error("Unexpected prototype origin")},0)}),this.destinationFormatter=new m.DestinationFormatter(e.scene)}render(){const e=s.toString(this.props.prototypeStartNodeID);let t=this.state.viableIds;null!==this.props.prototypeStartNodeID&&s.isValid(this.props.prototypeStartNodeID)&&-1===t.indexOf(e)&&(t=t.concat([e]));const o=t.filter(e=>this.destinationFormatter.hasNameForNode(e)).map((e,t)=>i.createElement(u,{key:t,value:{type:"NODE",nodeId:e},recordingKey:n.joinKeys(this.props,`viable-option-${t}`),disabled:!1}));return i.createElement(l.Panel,null,i.createElement(l.Row,null,i.createElement(l.PanelTitleWithTip,{title:"Starting Frame",dataTooltipContentKey:d.TooltipView.PROTOTYPE_ORIGIN_INFO,dataTooltipTimeoutDelay:50})),i.createElement(l.Row,null,i.createElement(g,{id:"prototype-origin-select",className:h.dropdown,property:{type:"NODE",nodeId:e},formatter:this.destinationFormatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:n.joinKeys(this.props,"select"),willShowDropdown:this.loadDestinationsFromFullscreen,onOptionFocus:this.onOptionFocus},o)))}}y.displayName="PrototypeOriginPanel",t.PrototypeOriginPanel=y,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,e){o.exports={select:"prototype_target_dropdown--select--3G7A-",fullWidth:"prototype_target_dropdown--fullWidth--3yNdd",longDropdown:"prototype_target_dropdown--longDropdown--1HlIs"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),n=s(287       ),i=s(143              ),r=s(1426                               ),d=s(341                              ),a=s(282                             ),p=s(542                   ),l=s(477               ),c=s(1179                             );class h extends l.Option{}class y extends l.Select{}t.PrototypeTargetDropdown=class extends o.PureComponent{constructor(e){super(e),this.loadDestinationsFromFullscreen=(()=>{const{viableIds:e,disabledIds:t}=r.fullscreen.sendMessage("getTransitionDestinationsOnActiveCanvas").args;return new Promise((s,o)=>{this.setState({viableIds:e,disabledIds:t},s)})}),this.onOptionFocus=(e=>{"NODE"===e.type&&d.setHoveredNode(e.nodeId)}),this.state={viableIds:[],disabledIds:[]},this.destinationFormatter=new p.DestinationFormatter(e.scene)}destinationOption(e){return e&&"INTERNAL_NODE"!==e?{type:e}:{type:"NODE",nodeId:n.toString(a.getValue(this.props.nodeId))}}render(){const e=this.props.connectionType===a.MIXED||this.props.nodeId===a.MIXED?a.MIXED:this.destinationOption(a.getValue(this.props.connectionType));let t=this.state.viableIds;a.notMixed(e)&&null!==e&&"NODE"===e.type&&e.nodeId!==n.invalidGUIDStr&&-1===t.indexOf(e.nodeId)&&(t=t.concat([e.nodeId]));let s=this.state.disabledIds,r=this.props.dropdownShown&&"prototype-destination-select"===this.props.dropdownShown.type||!this.props.className?c.fullWidth:this.props.className;return r=c.select+" "+r,o.createElement(y,{id:"prototype-destination-select",className:r,dropdownClassName:c.longDropdown,property:e,formatter:this.destinationFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:i.joinKeys(this.props,"select"),willShowDropdown:this.loadDestinationsFromFullscreen,onOptionFocus:this.onOptionFocus},o.createElement(h,{key:0,value:{type:"NONE"},recordingKey:i.joinKeys(this.props,"clear-option"),disabled:!1}),o.createElement(h,{key:1,value:{type:"BACK"},recordingKey:i.joinKeys(this.props,"back-option"),disabled:!1}),o.createElement(h,{key:2,value:{type:"CLOSE"},recordingKey:i.joinKeys(this.props,"close-option"),disabled:!1}),o.createElement(h,{key:3,value:{type:"URL"},recordingKey:i.joinKeys(this.props,"url-option"),disabled:!1}),0!==t.length&&0!==s.length&&o.createElement(l.SelectDivider,null),t.filter(e=>this.destinationFormatter.hasNameForNode(e)).map((e,t)=>o.createElement(h,{key:t+4,value:{type:"NODE",nodeId:e},recordingKey:i.joinKeys(this.props,`viable-option-${t}`),disabled:!1})),0!==s.length&&o.createElement(l.SelectDivider,null),s.filter(e=>this.destinationFormatter.hasNameForNode(e)).map((e,s)=>o.createElement(h,{key:s+t.length+3,value:{type:"NODE",nodeId:e},recordingKey:i.joinKeys(this.props,`disabled-option-${s}`),disabled:!0})))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){o.exports={overlaySettings:"overlay_settings--overlaySettings--2G6va",overlayPositionControl:"overlay_settings--overlayPositionControl--2S3yu",overlayPositionDropdown:"overlay_settings--overlayPositionDropdown--12wan",colorValueContainer:"overlay_settings--colorValueContainer--2v8rw paint_panels--colorValueContainer--2qjN- raw_components--base--3TpZG raw_components--borderFocusWithin--3IG2Z raw_components--singleRowHeight--3PF2a",chit:"overlay_settings--chit--2eqad paint_panels--chit--1AKml",colorInput:"overlay_settings--colorInput--Mx_ce paint_panels--colorInput--10RG5",opacity:"overlay_settings--opacity--3fDAi paint_panels--opacityInputContainer--1ckND",visible:"overlay_settings--visible--3hfoi",checkbox:"overlay_settings--checkbox--3HSza",label:"overlay_settings--label--1RhmP checkbox--_checkboxLabel--1418z",labelInactive:"overlay_settings--labelInactive--3KqJd",spacer:"overlay_settings--spacer--vX8U0"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,f,l){t.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M15 9H9v6h6V9z" fill="#fff"/><path d="M17 6H7v12h10V6zM6 5v14h12V5H6z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,f,l){t.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7v12h10V6zM6 5v14h12V5H6z" fill-rule="evenodd" fill="#fff"/><path d="M6 6c0-.552.448-1 1-1h6v14H7c-.552 0-1-.448-1-1V6z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,f,l){t.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 6H7v12h10V6zm1-1v14H6V5h12z" fill-rule="evenodd" fill="#fff"/><path d="M9 11h6v7H9v-7z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=r(34,1   ),s=r(38,1       ),i=r(143              ),n=r(232                        ),a=r(198         ),l=r(282                             ),p=r(386                        ),c=r(341                              ),h=r(542                   ),g=r(497                                  ),d=r(748                                     ),m=r(391                               ),y=r(204                                            ),u=r(1105                                                           ),C=r(478                                                                          ),O=r(468                                                    ),v=r(477               ),_=r(538                 ),E=r(533                                                                    ),f=r(1181                    );class k extends t.PureComponent{constructor(){super(...arguments),this.colorFormatter=new h.ColorHexFormatterWithoutHash,this.chitRowRef=(e=>{e&&(this.chitRow=s.findDOMNode(e))}),this.toggleColorPicker=(()=>{if(this.props.pickerShown&&this.props.pickerShown.id===k.COLOR_PICKER_ID)this.props.dispatch(n.fullscreen.hidePicker());else{const e=p.pickerPositionLeftOf(this.chitRow);this.props.dispatch(n.fullscreen.showPicker({id:k.COLOR_PICKER_ID,initialX:e.x,initialY:e.y}))}}),this.onBackgroundVisibleChange=(e=>{this.props.onOverlayBackgroundTypeChange(e?"SOLID_COLOR":"NONE")}),this.onCloseOnClickOutsideChange=(e=>{this.props.onOverlayBackgroundInteractionChange(e?"CLOSE_ON_CLICK_OUTSIDE":"NONE")}),this.onOpacityChange=((e,o)=>{this.props.onOverlayBackgroundColorChange({r:l.getValue(this.props.overlayBackgroundColor).r,g:l.getValue(this.props.overlayBackgroundColor).g,b:l.getValue(this.props.overlayBackgroundColor).b,a:e},o)}),this.onOpacityScrubChange=(e=>{this.onOpacityChange(e,c.ShouldCommit.NO)})}render(){const e=this.props.pickerShown&&this.props.pickerShown.id===k.COLOR_PICKER_ID,o=l.getValue(this.props.overlayBackgroundColor),r=this.props.overlayBackgroundColor===l.MIXED?l.MIXED:l.getValue(this.props.overlayBackgroundColor).a,s=l.getValue(this.props.overlayPositionType),n="CLOSE_ON_CLICK_OUTSIDE"===l.getValue(this.props.overlayBackgroundInteraction),p="SOLID_COLOR"===l.getValue(this.props.overlayBackgroundType);return t.createElement("div",{className:f.overlaySettings},t.createElement("div",{className:f.spacer}),t.createElement(m.Row,null,t.createElement(m.LabelInactive,{className:f.labelInactive},"Position")),t.createElement(m.Row,null,t.createElement(S,{property:s,onChange:this.props.onOverlayPositionTypeChange,recordingKey:i.joinKeys(this.props,"overlayPositionControl"),className:f.overlayPositionControl}),t.createElement(P,{className:f.overlayPositionDropdown,property:s,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.props.onOverlayPositionTypeChange,recordingKey:i.joinKeys(this.props,"overlayPositionDropdown")})),t.createElement("div",{className:f.spacer}),t.createElement(m.Row,null,t.createElement(m.LabelInactive,{className:f.labelInactive},"Overlay Background")),t.createElement(m.Row,{ref:this.chitRowRef},t.createElement("div",{className:f.colorValueContainer},t.createElement(O.Chit,{onClick:p?this.toggleColorPicker:()=>{},color:o,opacity:r,recordingKey:i.joinKeys(this.props,"chit"),className:f.chit}),t.createElement(C.ColorInput,{className:f.colorInput,noLeftBorder:!0,formatter:this.colorFormatter,property:o,disabled:!p,onChange:this.props.onOverlayBackgroundColorChange,recordingKey:i.joinKeys(this.props,"colorInput"),noBorderOnFocus:!0}),t.createElement(g.ScrubbablePercentageInput,{className:f.opacity,value:r,onScrubChange:this.onOpacityScrubChange,onValueChange:this.onOpacityChange,disabled:!p,dispatch:this.props.dispatch,recordingKey:i.joinKeys(this.props,"alphaTextInput"),noBorderOnFocus:!0})),t.createElement(_.Visible,{visible:p,onChange:this.onBackgroundVisibleChange,recordingKey:i.joinKeys(this.props,"visibleToggle"),className:f.visible})),e&&t.createElement(E.ColorPicker,Object.assign({title:"Background",initialPosition:new a.Vector(this.props.pickerShown.initialX,this.props.pickerShown.initialY),color:o,onChange:this.props.onOverlayBackgroundColorChange,recordingKey:i.joinKeys(this.props,"colorPicker")},E.extractColorPickerContainerProps(this.props))),t.createElement(m.Row,null,t.createElement(u.Checkbox,{id:"close-on-click-outside",property:n,onChange:this.onCloseOnClickOutsideChange,recordingKey:i.joinKeys(this.props,"closeOnClickOutside"),className:f.checkbox}),t.createElement(y.Label,{className:f.label,htmlFor:"close-on-click-outside"},"Close when clicking outside")),t.createElement("div",{className:f.spacer}))}}k.displayName="OverlaySettings",k.COLOR_PICKER_ID="overlay-background-panel-color-picker",o.OverlaySettings=k;class b extends v.Select{}class w extends v.Option{}class P extends t.PureComponent{constructor(){super(...arguments),this.titleFormatter=new h.OverlayPositionFormatter,this.renderOverlayPositionOption=((e,o)=>t.createElement(w,{key:o,value:e,recordingKey:i.joinKeys(this.props,e)}))}render(){let e=["CENTER","TOP_LEFT","TOP_CENTER","TOP_RIGHT","BOTTOM_LEFT","BOTTOM_CENTER","BOTTOM_RIGHT"].map(this.renderOverlayPositionOption);return t.createElement(b,{id:this.props.recordingKey,className:this.props.className,property:this.props.property,formatter:this.titleFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:i.joinKeys(this.props,"select")},e,t.createElement(v.SelectDivider,null),this.renderOverlayPositionOption("MANUAL",10))}}P.displayName="OverlayPositionDropdown",o.OverlayPositionDropdown=P;const K=r(1182                                                       ),N=r(1183                                                         ),T=r(1184                                                              );class I extends d.SegmentedControl{}class R extends d.Segment{}class S extends t.PureComponent{render(){return t.createElement(I,{className:this.props.className,property:this.props.property,onChange:this.props.onChange,recordingKey:this.props.recordingKey},t.createElement(R,{value:"CENTER",tooltip:"Center",svg:K,recordingKey:i.joinKeys(this.props,"center")}),t.createElement(R,{value:"TOP_LEFT",tooltip:"Top Left",svg:N,recordingKey:i.joinKeys(this.props,"top-left")}),t.createElement(R,{value:"BOTTOM_CENTER",tooltip:"Bottom Center",svg:T,recordingKey:i.joinKeys(this.props,"bottom-center")}))}}o.OverlayPositionControl=S,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,n){e.exports={previewPanel:"transition_preview_pane--previewPanel--3sZan",previewFrame:"transition_preview_pane--previewFrame--b7CsL",belowInactive:"transition_preview_pane--belowInactive--2iiwo transition_preview_pane--previewFrame--b7CsL",aboveInactive:"transition_preview_pane--aboveInactive--2nTKM transition_preview_pane--previewFrame--b7CsL",belowActive:"transition_preview_pane--belowActive--1Y6O2 transition_preview_pane--previewFrame--b7CsL",aboveActive:"transition_preview_pane--aboveActive--1H5Fg transition_preview_pane--previewFrame--b7CsL"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),a=s(469               ),i=s(282                             ),n=s(1186                           );class r{constructor(e,t,s,o=null){this.delay=e,this.below=t,this.above=s,this.next=o}}const l=108,c=208;class h extends o.PureComponent{constructor(e){super(e),this.executor=null,this.frame=null,this.frames=null,this.transition=null,this.boxSize=50,this.boxTop=l/2-this.boxSize/2,this.boxLeft=c/2-this.boxSize/2,this.opacityBackground=1,this.opacityShadow=.3,this.restDuration=1,this.onStop=(()=>{this.frames&&(this.frame=null,this.executor.reset(),this.onInactive())}),this.onNext=(()=>{this.frame.next?(this.onFrame(this.frame),this.executor.scheduleOnce(this.onNext,this.frame.delay),this.frame=this.frame.next):this.onStop()}),this.onStart=(()=>{this.frames&&(this.onActive(),this.executor.scheduleOnce(this.onNext,0),this.frame=this.frames[1])}),this.onMouseEnter=(()=>{this.frames&&(this.onStop(),this.frames[0].next=this.frames[1],this.onStart())}),this.onMouseLeave=(()=>{this.frames&&this.onStop()}),this.trackedProps=(()=>["behavior","easing","duration","direction"]),this.trackedProps().every(t=>i.notMixed(e.transition[t]))&&(this.frames=this.transitionStillsToFrames(e.transition,this.transitionToStills(e.transition)),this.transition=Object.assign({},e.transition),this.state={belowStyle:this.frames[0].below,aboveStyle:this.frames[0].above,belowClass:n.belowInactive,aboveClass:n.aboveInactive})}transitionToStills(e){switch(e.behavior){case"INSTANT":case"DISSOLVE":return[{above:{opacity:0}},{below:{opacity:0}}];case"FADE":return[{above:{opacity:0}},{below:{opacity:0},above:{opacity:0}},{below:{opacity:0}}];case"SLIDE":switch(e.direction){case"LEFT":return[{above:{left:-1,shadow:1}},{below:{left:.25,opacity:0}}];case"RIGHT":return[{above:{left:1,shadow:1}},{below:{left:-.25,opacity:0}}];case"TOP":return[{above:{top:-1,shadow:1}},{below:{top:.25,opacity:0}}];case"BOTTOM":return[{above:{top:1,shadow:1}},{below:{top:-.25,opacity:0}}]}break;case"SLIDE_OUT":switch(e.direction){case"LEFT":return[{below:{left:-.25,opacity:0}},{above:{left:1,shadow:1}}];case"RIGHT":return[{below:{left:.25,opacity:0}},{above:{left:-1,shadow:1}}];case"TOP":return[{below:{top:-.25,opacity:0}},{above:{top:1,shadow:1}}];case"BOTTOM":return[{below:{top:.25,opacity:0}},{above:{top:-1,shadow:1}}]}break;case"PUSH":switch(e.direction){case"LEFT":return[{above:{left:-1}},{below:{left:1}}];case"RIGHT":return[{above:{left:1}},{below:{left:-1}}];case"TOP":return[{above:{top:-1}},{below:{top:1}}];case"BOTTOM":return[{above:{top:1}},{below:{top:-1}}]}break;case"MOVE":switch(e.direction){case"LEFT":return[{above:{left:-1,shadow:1}},{}];case"RIGHT":return[{above:{left:1,shadow:1}},{}];case"TOP":return[{above:{top:-1,shadow:1}},{}];case"BOTTOM":return[{above:{top:1,shadow:1}},{}]}break;case"MOVE_OUT":switch(e.direction){case"LEFT":return[{},{above:{left:1,shadow:1}}];case"RIGHT":return[{},{above:{left:-1,shadow:1}}];case"TOP":return[{},{above:{top:1,shadow:1}}];case"BOTTOM":return[{},{above:{top:-1,shadow:1}}]}}}transitionStillsToFrames(e,t){let s=0,o={},a={};if("INSTANT"!==e.behavior){let i="";switch(e.easing){case"EASE_IN":i="ease-in";break;case"EASE_OUT":i="ease-out";break;case"EASE_IN_AND_OUT":i="ease-in-out"}s=e.duration/(t.length-1),o={transition:"unset"},a={transition:`all ${s}s ${i}`}}const i=e=>{let t={},s={};const o={top:0,left:0,opacity:1,shadow:0};for(let a in o){const i=void 0!==e&&void 0!==e[a]?e[a]:o[a];switch(a){case"top":s={top:this.boxTop+i*this.boxSize};break;case"left":s={left:this.boxLeft+i*this.boxSize};break;case"opacity":s={opacity:i*this.opacityBackground};break;case"shadow":s={boxShadow:`0px 0px 4px rgba(0, 0, 0, ${i*this.opacityShadow})`}}t=Object.assign({},t,s)}return t},n=t.map((e,n,l)=>0===n?new r(1e3*this.restDuration,Object.assign({},o,i(e.below)),Object.assign({},o,i(e.above))):n===t.length-1?new r(1e3*(this.restDuration+s),Object.assign({},a,i(e.below)),Object.assign({},a,i(e.above))):new r(1e3*s,Object.assign({},a,i(e.below)),Object.assign({},a,i(e.above))));return n.forEach((e,t,s)=>{0!==t&&(t===s.length-1?e.next=s[0]:e.next=s[t+1])}),n}onBlank(){this.setState({belowStyle:null,aboveStyle:null,belowClass:n.belowInactive,aboveClass:n.aboveInactive})}onFrame(e){this.setState({belowStyle:e.below,aboveStyle:e.above,belowClass:this.state.belowClass,aboveClass:this.state.aboveClass})}onActive(){this.setState({belowStyle:this.frames[0].below,aboveStyle:this.frames[0].above,belowClass:n.belowActive,aboveClass:n.aboveActive})}onInactive(){this.setState({belowStyle:this.frames[0].below,aboveStyle:this.frames[0].above,belowClass:n.belowInactive,aboveClass:n.aboveInactive})}componentWillMount(){this.executor=new a.DelayedTask}UNSAFE_componentWillReceiveProps(e){if(this.trackedProps().every(t=>i.notMixed(e.transition[t]))){(!this.transition||this.trackedProps().some(t=>this.transition[t]!==e.transition[t]))&&(this.transition=Object.assign({},e.transition),this.onStop(),this.frames=this.transitionStillsToFrames(e.transition,this.transitionToStills(e.transition)),this.onStart())}else this.onStop(),this.frames=null,this.onBlank()}componentWillUnmount(){this.executor.reset()}render(){let e="A",t="B";this.props.transition.behavior;return e="B",t="A",o.createElement("div",{className:n.previewPanel,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave},this.frames&&o.createElement("div",{className:this.state.belowClass,style:this.state.belowStyle},e),this.frames&&o.createElement("div",{className:this.state.aboveClass,style:this.state.aboveStyle},t))}}h.displayName="TransitionPreviewPane",t.TransitionPreviewPane=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,n){t.exports={behavior:"prototype_transition_panel--behavior--3qq89",easing:"prototype_transition_panel--easing--2jaOp",easingDropdown:"prototype_transition_panel--easingDropdown--2SK-T",duration:"prototype_transition_panel--duration--2r3Dm",direction:"prototype_transition_panel--direction--2P2qx",scrollCheck:"prototype_transition_panel--scrollCheck--1Wf0D",transitionLabelLeftCol:"prototype_transition_panel--transitionLabelLeftCol--3-fNK",transitionLeftCol:"prototype_transition_panel--transitionLeftCol--YAeU8",transitionLabelRightCol:"prototype_transition_panel--transitionLabelRightCol--2y5MJ",transitionDirection:"prototype_transition_panel--transitionDirection--1rNFs",transitionRightCol:"prototype_transition_panel--transitionRightCol--Zth2J",spacer:"prototype_transition_panel--spacer--1CjU2",directionSegment:"prototype_transition_panel--directionSegment--itr6W",preserveScrollRow:"prototype_transition_panel--preserveScrollRow--2JBkm",previewPane:"prototype_transition_panel--previewPane--2vjjZ",checkbox:"prototype_transition_panel--checkbox--3ZxAe",label:"prototype_transition_panel--label--2IyeQ checkbox--_checkboxLabel--1418z"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"ga895e5a9",src:'<svg width="11" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 4L7.354.646l-.708.708L8.793 3.5H.5v1h8.293L6.646 6.646l.708.708L10.707 4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g4e6869de",src:'<svg width="11" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M.293 4L3.647.646l.707.708L2.207 3.5H10.5v1H2.207l2.147 2.146-.707.708L.293 4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g0f462b52",src:'<svg width="8" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M4 10.707L.646 7.354l.708-.708L3.5 8.793V.5h1v8.293l2.146-2.147.708.708L4 10.707z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g188ef950",src:'<svg width="8" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M4 .293L.646 3.647l.708.707L3.5 2.207V10.5h1V2.207l2.146 2.147.708-.707L4 .293z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g5508d87b",src:'<svg width="11" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M10.707 3.5l-.353-.354-3-3-.708.708L8.793 3H.5v1h8.293L6.646 6.146l.708.708 3-3 .353-.354z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gaefcf2ba",src:'<svg width="11" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M.293 3.5l.354-.354 3-3 .707.708L2.207 3H10.5v1H2.207l2.147 2.146-.707.708-3-3L.293 3.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g8d8d524b",src:'<svg width="8" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M3.5 10.707l-.354-.353-3-3 .708-.708L3 8.793V.5h1v8.293l2.146-2.147.708.708-3 3-.354.353z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g2aafc5f5",src:'<svg width="8" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M3.5.293l-.354.354-3 3 .708.707L3 2.207V10.5h1V2.207l2.146 2.147.708-.707-3-3L3.5.293z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34,1   ),i=r(143              ),s=r(1426                               ),o=r(282                             ),a=r(232                        ),p=r(542                   ),c=r(748                                     ),l=r(391                               ),h=r(477               ),d=r(1187                                                ),u=r(496                                         ),g=r(204                                            ),E=r(1105                                                           ),m=r(1188                              ),_=new p.TitleCaseFormatter,S=["INSTANT","DISSOLVE","MOVE","MOVE_OUT","PUSH","SLIDE","SLIDE_OUT"],f=["LEFT","RIGHT","TOP","BOTTOM"],T=["EASE_IN","EASE_OUT","EASE_IN_AND_OUT"];function v(e,t){return"NAVIGATE"===o.getValue(e)||["INSTANT","DISSOLVE","MOVE"].indexOf(t)>=0}const y="INSTANT",O="RIGHT",I="EASE_IN",N=.3,b=!1;function C(e){switch(e.behavior){case"INSTANT":return{transitionType:"INSTANT_TRANSITION"};case"DISSOLVE":return{transitionType:"DISSOLVE"};case"FADE":return{transitionType:"FADE"};case"PUSH":case"SLIDE":case"MOVE":return e.direction?{transitionType:`${e.behavior}_FROM_${e.direction}`}:{transitionType:`${e.behavior}_FROM_${O}`};case"SLIDE_OUT":case"MOVE_OUT":return e.direction?{transitionType:`${e.behavior}_TO_${e.direction}`}:{transitionType:`${e.behavior}_TO_${O}`};default:return{}}}function w(e){switch(e.easing){case"EASE_IN":return{easingType:"IN_CUBIC"};case"EASE_OUT":return{easingType:"OUT_CUBIC"};case"EASE_IN_AND_OUT":return{easingType:"INOUT_CUBIC"};default:return{}}}function D(e){if(o.notMixed(e.duration))return e.duration?{transitionDuration:e.duration}:{}}function M(e){if(o.notMixed(e.preserveScroll))return{transitionPreserveScroll:e.preserveScroll}}t.transitionFromSelections=function(e,t,r,n){return{behavior:function(e){if(e){if(!o.notMixed(e))return o.MIXED;if("INSTANT_TRANSITION"===e)return"INSTANT";if("DISSOLVE"===e)return"DISSOLVE";if("FADE"===e)return"FADE";if(e.startsWith("SLIDE_OUT"))return"SLIDE_OUT";if(e.startsWith("SLIDE"))return"SLIDE";if(e.startsWith("PUSH"))return"PUSH";if(e.startsWith("MOVE_OUT"))return"MOVE_OUT";if(e.startsWith("MOVE"))return"MOVE"}return y}(e),direction:function(e){if(e&&o.notMixed(e))for(const t of f)if(e.indexOf(t)>=0)return t;return null}(e),easing:function(e){if(e){if(!o.notMixed(e))return o.MIXED;if("IN_CUBIC"===e)return"EASE_IN";if("OUT_CUBIC"===e)return"EASE_OUT";if("INOUT_CUBIC"===e)return"EASE_IN_AND_OUT"}return I}(t),duration:function(e){return e?o.notMixed(e)?e:o.MIXED:N}(r),preserveScroll:function(e){return e?o.notMixed(e)?e:o.MIXED:b}(n)}};class A extends n.PureComponent{constructor(e){super(e),this.onBehaviorChange=(e=>{this.props.dispatch(a.prototype.trackEvent({name:"Prototype Transition Type Changed",params:{newType:e,oldType:o.getValue(this.props.transition.behavior,"MIXED")}}));const t=Object.assign({},this.props.transition,{behavior:e});s.fullscreen.updateSelectionProperties(Object.assign({},C(t),w(t),D(t),M(t)))}),this.onDirectionChange=(e=>{const t=this.props.transition.direction?Object.assign({},this.props.transition,{direction:e}):Object.assign({},this.props.transition,{direction:e,behavior:"MOVE"});s.fullscreen.updateSelectionProperties(Object.assign({},C(t)))}),this.onEasingChange=(e=>{const t=Object.assign({},this.props.transition,{easing:e});s.fullscreen.updateSelectionProperties(Object.assign({},w(t)))}),this.onDurationChange=(e=>{const t=Object.assign({},this.props.transition,{duration:e});s.fullscreen.updateSelectionProperties(Object.assign({},D(t)))}),this.onPreserveScrollChange=(e=>{this.props.dispatch(a.prototype.trackEvent({name:"Preserve Scroll Changed",params:{newValue:e}}));const t=Object.assign({},this.props.transition,{preserveScroll:e});s.fullscreen.updateSelectionProperties(Object.assign({},M(t)))})}render(){return n.createElement("div",null,this.props.showPreserveScroll&&n.createElement(l.Row,{className:m.preserveScrollRow},n.createElement(E.Checkbox,{id:"preserve-scroll-transition",property:this.props.transition.preserveScroll,onChange:this.onPreserveScrollChange,disabled:!1,recordingKey:i.joinKeys(this.props,"preserve-scroll-check"),className:m.checkbox}),n.createElement(g.Label,{htmlFor:"preserve-scroll-transition",className:m.label},"Preserve scroll position")),n.createElement("div",{className:m.spacer}),n.createElement(l.Row,null,n.createElement(l.LabelInactive,{className:m.transitionLabelLeftCol},"Transition"),this.props.transition.direction&&n.createElement(l.LabelInactive,{className:m.transitionLabelRightCol},"Direction")),n.createElement(l.Row,null,n.createElement(U,{className:m.transitionLeftCol,navigationType:this.props.navigationType,property:this.props.transition.behavior,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onBehaviorChange,recordingKey:i.joinKeys(this.props,"behaviorDropdown")}),n.createElement(J,{className:m.transitionDirection,property:this.props.transition.direction?this.props.transition.direction:null,onChange:this.onDirectionChange,recordingKey:i.joinKeys(this.props,"directionControl")})),"INSTANT"!==this.props.transition.behavior&&v(this.props.navigationType,o.getValue(this.props.transition.behavior))&&n.createElement("div",null,n.createElement("div",{className:m.spacer}),n.createElement(l.Row,null,n.createElement(l.LabelInactive,{className:m.transitionLabelLeftCol},"Easing"),n.createElement(l.LabelInactive,{className:m.transitionLabelRightCol},"Duration")),n.createElement(l.Row,null,n.createElement(j,{className:m.transitionLeftCol,property:this.props.transition.easing,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onEasingChange,recordingKey:i.joinKeys(this.props,"easingDropdown")}),n.createElement(u.ScrubbableMillisecondsInput,{className:m.transitionRightCol,dispatch:this.props.dispatch,value:this.props.transition.duration,scrubbingDisabled:this.props.transition.duration===o.MIXED||null===this.props.transition.duration,onValueChange:this.onDurationChange,wheelMultiplier:this.props.smallNudgeAmount/1e3,scrubMultiplier:this.props.smallNudgeAmount/1e3,recordingKey:i.joinKeys(this.props,"durationInput")})),n.createElement("div",{className:m.previewPane},n.createElement(d.TransitionPreviewPane,{transition:this.props.transition}))))}}A.displayName="PrototypeTransitionPanel",t.PrototypeTransitionPanel=A;class L extends h.Select{}class P extends h.Option{}class R{constructor(){this.format=(e=>{if(null==e)return"";switch(e){case"INSTANT":return"Instant";case"DISSOLVE":return"Dissolve";case"PUSH":return"Push";case"MOVE":return"Move In";case"MOVE_OUT":return"Move Out";case"SLIDE":return"Slide In";case"SLIDE_OUT":return"Slide Out"}return""})}parse(){return null}}t.TransitionBehaviorFormatter=R;const x=new R;class U extends n.PureComponent{render(){const e=v(this.props.navigationType,o.getValue(this.props.property))?null:"Instant";return n.createElement(L,{id:"animation-behavior-select",className:this.props.className,property:this.props.property,formatter:x,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownOverride:e,recordingKey:i.joinKeys(this.props,"select")},S.map((e,t)=>n.createElement(P,{key:t,value:e,disabled:!v(this.props.navigationType,e),recordingKey:i.joinKeys(this.props,e)})))}}U.displayName="TransitionBehaviorDropdown",t.TransitionBehaviorDropdown=U;class K extends h.Select{}class V extends h.Option{}class j extends n.PureComponent{render(){return n.createElement(K,{id:"easing-type-select",className:this.props.className,dropdownClassName:m.easingDropdown,property:this.props.property,formatter:_,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:i.joinKeys(this.props,"select")},T.map((e,t)=>n.createElement(V,{key:t,value:e,recordingKey:i.joinKeys(this.props,e)})))}}j.displayName="TransitionEasingDropdown",t.TransitionEasingDropdown=j;const F=r(1189                                                                 ),H=r(1190                                                                ),k=r(1191                                                                ),B=r(1192                                                              ),$=r(1193                                                                   ),X=r(1194                                                                  ),W=r(1195                                                                  ),G=r(1196                                                                );class q extends c.SegmentedControl{}class z extends c.Segment{}class J extends n.PureComponent{render(){return n.createElement(q,{className:`${this.props.className} ${m.directionSegment}`,property:this.props.property,onChange:this.props.onChange,recordingKey:this.props.recordingKey},n.createElement(z,{value:"RIGHT",svg:H,fallbackSvg:X,recordingKey:i.joinKeys(this.props,"right")}),n.createElement(z,{value:"LEFT",svg:F,fallbackSvg:$,recordingKey:i.joinKeys(this.props,"left")}),n.createElement(z,{value:"TOP",svg:k,fallbackSvg:W,recordingKey:i.joinKeys(this.props,"top")}),n.createElement(z,{value:"BOTTOM",svg:B,fallbackSvg:G,recordingKey:i.joinKeys(this.props,"bottom")}))}}J.displayName="TransitionDirectionControl",t.TransitionDirectionControl=J,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,n){o.exports={urlInput:"prototype_action_panel--urlInput--2VIz3",shortDropdown:"prototype_action_panel--shortDropdown--3_RW5",longDropdown:"prototype_action_panel--longDropdown--2CgQK",navigate:"prototype_action_panel--navigate--wPFA4",overlay:"prototype_action_panel--overlay--38keJ",actionLabelLeftCol:"prototype_action_panel--actionLabelLeftCol--11aA8",actionLabelRightCol:"prototype_action_panel--actionLabelRightCol--2Ww8B",spacer:"prototype_action_panel--spacer--2z525"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,s){t.exports={id:"g9703d51b",src:'<svg width="14" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M10.146.854l1.498 1.498c-1.735-.103-2.92.183-3.735.775-1.029.748-1.336 1.896-1.525 2.906-.039.204-.071.397-.103.584-.051.305-.1.592-.165.882-.103.454-.231.833-.427 1.136-.188.292-.447.526-.842.68-.239.094-.536.162-.909.19C3.718 8.64 2.934 8 2 8c-1.105 0-2 .895-2 2 0 1.105.895 2 2 2 .929 0 1.71-.633 1.935-1.492.488-.03.91-.118 1.277-.261.6-.236 1.021-.611 1.317-1.07.29-.447.45-.958.562-1.458.07-.311.128-.652.184-.979.03-.18.06-.358.091-.523.186-.99.442-1.78 1.131-2.281.596-.433 1.61-.717 3.422-.562l-1.773 1.772.708.708L13.707 3 10.854.146l-.708.708zM3 10c0-.552-.448-1-1-1-.552 0-1 .448-1 1 0 .552.448 1 1 1 .503 0 .92-.372.99-.856L3 10z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,e){t.exports={id:"g313b6611",src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M11 3h3v8h-3v3H0V0h11v3zm-1-2H1v12h9v-2H7V3h3V1zM8 4h5v6H8V4z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,s){t.exports={id:"g4c5cf07e",src:'<svg width="16" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M14.61 3.688l-1.175 1.468L13.408 5c-.151-.82-.488-1.598-.99-2.275-.701-.947-1.69-1.644-2.817-1.987C8.472.395 7.264.423 6.153.82c-.793.283-1.506.742-2.088 1.339-.234.238-.446.5-.633.78l.83.556C4.8 2.693 5.58 2.085 6.49 1.761c.909-.324 1.897-.347 2.82-.066.923.28 1.732.85 2.306 1.626.485.654.781 1.425.862 2.23l-2.2-1.467-.555.832 3.382 2.254 2.286-2.858-.78-.624zm-14 4l.78.624 1.175-1.468L2.59 7c.152.82.489 1.598.99 2.275.702.947 1.69 1.644 2.818 1.987 1.128.343 2.337.315 3.448-.081.793-.283 1.506-.742 2.088-1.339.233-.238.444-.498.632-.777l.001-.002-.83-.557-.002.001c-.537.801-1.317 1.408-2.225 1.732-.909.323-1.898.347-2.82.066-.924-.28-1.732-.85-2.307-1.626-.484-.654-.78-1.425-.862-2.23l2.2 1.467.555-.832L2.896 4.83.609 7.688z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(34,1   ),a=o(143              ),i=o(232                        ),r=o(1426                               ),p=o(129                               ),s=o(282                             ),c=o(391                               ),l=o(404                              ),g=o(1180                                                    ),d=o(748                                     ),y=o(533                           ),h=o(1185                                  ),u=o(1197                                                      ),v=o(1198                          ),m=o(1199                                                                     ),T=o(1200                                                                    ),_=o(1201                                                                 );class E extends d.SegmentedControl{}class O extends d.Segment{}class C extends n.PureComponent{constructor(){super(...arguments),this.onTargetChange=(e=>{switch(e.type){case"NODE":r.fullscreen.updateSelectionProperties({connectionType:"INTERNAL_NODE"}),p.PrototypingHelpers.safelySetDestinationNodeId(e.nodeId);break;case"URL":r.fullscreen.updateSelectionProperties({connectionType:"URL",connectionURL:""});break;case"NONE":case"BACK":case"CLOSE":r.fullscreen.updateSelectionProperties({connectionType:e.type})}this.props.dispatch(i.prototype.trackEvent({name:"Prototype connection type changed",params:{type:e.type,source:"panel"}}))}),this.onURLChange=(e=>{const t=e.target.value;r.fullscreen.updateSelectionProperties({connectionURL:t})}),this.onNavigationTypeChange=(e=>{r.fullscreen.updateSelectionProperties({navigationType:e}),this.props.dispatch(i.prototype.trackEvent({name:"Navigation type changed",params:{navigationType:e}}))}),this.onDestinationOverlayPositionTypeChange=(e=>{r.fullscreen.updateSelectionProperties({destinationOverlayPositionType:e}),this.props.dispatch(i.prototype.trackEvent({name:"Overlay position changed",params:{position:e}}))}),this.onDestinationOverlayBackgroundInteractionChange=(e=>{r.fullscreen.updateSelectionProperties({destinationOverlayBackgroundInteraction:e}),this.props.dispatch(i.prototype.trackEvent({name:"Overlay background interaction changed",params:{backgroundInteraction:e}}))}),this.onDestinationOverlayBackgroundTypeChange=(e=>{r.fullscreen.updateSelectionProperties({destinationOverlayBackgroundType:e}),this.props.dispatch(i.prototype.trackEvent({name:"Overlay background visible changed",params:{backgroundType:e}}))}),this.onDestinationOverlayBackgroundColorChange=((e,t)=>{r.fullscreen.updateSelectionProperties({destinationOverlayBackgroundColor:e},t)})}render(){const e="URL"===s.getValue(this.props.connectionType),t="INTERNAL_NODE"===s.getValue(this.props.connectionType),o=t&&this.props.navigationType!==s.MIXED&&"OVERLAY"===s.getValue(this.props.navigationType),i=t?v.shortDropdown:v.longDropdown;return n.createElement(c.Panel,null,n.createElement(c.Row,null,n.createElement(c.PanelTitleWithTip,{title:"Action",dataTooltipContentKey:l.TooltipView.PROTOTYPE_ACTION_INFO,dataTooltipTimeoutDelay:50})),n.createElement(c.Row,null,n.createElement(g.PrototypeTargetDropdown,{className:i,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onTargetChange,connectionType:this.props.connectionType,nodeId:this.props.nodeId,scene:this.props.scene,recordingKey:a.joinKeys(this.props,"destinationDropdown")}),t&&n.createElement(E,{className:v.navigate,property:this.props.navigationType,onChange:this.onNavigationTypeChange,recordingKey:this.props.recordingKey},n.createElement(O,{value:"NAVIGATE",tooltipAction:"navigation-navigate",svg:m}),n.createElement(O,{value:"SWAP",tooltipAction:"navigation-swap",svg:_}),n.createElement(O,{value:"OVERLAY",tooltipAction:"navigation-overlay",svg:T}))),o&&n.createElement("div",{className:v.spacer}),o&&n.createElement(h.OverlaySettings,Object.assign({overlayPositionType:this.props.destinationOverlayPositionType,overlayBackgroundInteraction:this.props.destinationOverlayBackgroundInteraction,overlayBackgroundType:this.props.destinationOverlayBackgroundType,overlayBackgroundColor:this.props.destinationOverlayBackgroundColor,onOverlayPositionTypeChange:this.onDestinationOverlayPositionTypeChange,onOverlayBackgroundInteractionChange:this.onDestinationOverlayBackgroundInteractionChange,onOverlayBackgroundTypeChange:this.onDestinationOverlayBackgroundTypeChange,onOverlayBackgroundColorChange:this.onDestinationOverlayBackgroundColorChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown},y.extractColorPickerContainerProps(this.props),{recordingKey:a.joinKeys(this.props,"overlaySettings")})),t&&n.createElement(u.PrototypeTransitionPanel,{transition:this.props.transition,navigationType:this.props.navigationType,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,showPreserveScroll:!o,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:this.props.recordingKey}),e&&n.createElement(c.Row,null,n.createElement(c.TextInput,{className:v.urlInput,placeholder:"example.figma.com",value:s.getValue(this.props.connectionURL,"Mixed"),onChange:this.onURLChange,recordingKey:a.joinKeys(this.props,"urlTextInput")})))}}C.displayName="PrototypeActionPanel",t.PrototypeActionPanel=C,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={interaction:"prototype_trigger_panel--interaction--10H8p",timeoutContainer:"prototype_trigger_panel--timeoutContainer--3w6-d",timeout:"prototype_trigger_panel--timeout--1SW2A",maintained:"prototype_trigger_panel--maintained--2gvKm",label:"prototype_trigger_panel--label--1idmo checkbox--_checkboxLabel--1418z",labelInactive:"prototype_trigger_panel--labelInactive--3PzTf",durationContainer:"prototype_trigger_panel--durationContainer--c10U-",duration:"prototype_trigger_panel--duration--1ql-Q"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(34,1   ),r=n(143              ),o=n(232                        ),a=n(1426                               ),s=n(282                             ),p=n(542                   ),l=n(391                               ),c=n(477               ),u=n(496                                         ),h=n(204                                            ),m=n(1105                                                           ),d=n(604                             ),y=n(1203                           );class E extends i.PureComponent{constructor(){super(...arguments),this.onInteractionChange=(e=>{a.fullscreen.updateSelectionProperties({interactionType:e}),this.props.dispatch(o.prototype.trackEvent({name:"Prototype Interaction Type Changed",params:{newType:e,oldType:s.getValue(this.props.interactionType,"MIXED")}}))}),this.onTimeoutChange=(e=>{a.fullscreen.updateSelectionProperties({transitionTimeout:e})}),this.onMaintainedChange=(e=>{a.fullscreen.updateSelectionProperties({interactionMaintained:e}),this.props.dispatch(o.prototype.trackEvent({name:"Interaction Maintained Changed",params:{newValue:e}}))}),this.onDurationChange=(e=>{a.fullscreen.updateSelectionProperties({interactionDuration:e})})}render(){const e="AFTER_TIMEOUT"===s.getValue(this.props.interactionType),t=["MOUSE_IN","MOUSE_OUT","MOUSE_DOWN","MOUSE_UP"].indexOf(s.getValue(this.props.interactionType))>-1,n=!0===s.getValue(this.props.maintained);return i.createElement(l.Panel,null,i.createElement(l.Row,null,i.createElement(l.PanelTitle,null,"Trigger")),i.createElement("div",null,i.createElement(l.Row,null,i.createElement(b,{className:y.interaction,property:this.props.interactionType,prototypeDeviceType:this.props.prototypeDeviceType,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onInteractionChange,connectionType:this.props.connectionType,allTopLevelFrames:this.props.allTopLevelFrames,recordingKey:r.joinKeys(this.props,"interactionDropdown")})),e&&i.createElement("div",null,i.createElement(l.LabelRow,null,i.createElement(l.LabelInactive,{className:y.labelInactive},"Delay")),i.createElement(l.Row,null,i.createElement(u.ScrubbableMillisecondsInput,{className:y.timeoutContainer,inputClassName:y.timeout,dispatch:this.props.dispatch,value:this.props.timeout,scrubbingDisabled:this.props.timeout===s.MIXED||null===this.props.timeout,onValueChange:this.onTimeoutChange,wheelMultiplier:this.props.bigNudgeAmount/1e3,scrubMultiplier:this.props.bigNudgeAmount/1e3,recordingKey:r.joinKeys(this.props,"timeoutInput")}))),t&&i.createElement("div",null,i.createElement(l.Row,null,i.createElement(m.Checkbox,{className:y.maintained,id:"interaction-maintained",property:this.props.maintained,onChange:this.onMaintainedChange,disabled:!1,recordingKey:r.joinKeys(this.props,"interaction-maintained-check")}),i.createElement(h.Label,{htmlFor:"interaction-maintained",className:y.label},"Trigger after duration")),n&&i.createElement("div",null,i.createElement(l.LabelRow,null,i.createElement(l.LabelInactive,{className:y.labelInactive},"Duration")),i.createElement(l.Row,null,i.createElement(u.ScrubbableMillisecondsInput,{className:y.durationContainer,inputClassName:y.duration,dispatch:this.props.dispatch,value:this.props.interactionDuration,scrubbingDisabled:this.props.interactionDuration===s.MIXED||null===this.props.interactionDuration,onValueChange:this.onDurationChange,wheelMultiplier:this.props.bigNudgeAmount/1e3,scrubMultiplier:this.props.bigNudgeAmount/1e3,recordingKey:r.joinKeys(this.props,"durationInput")}))))))}}E.displayName="PrototypeTriggerPanel",t.PrototypeTriggerPanel=E;class T extends c.Select{}class g extends c.Option{}class b extends i.PureComponent{constructor(){super(...arguments),this.interactionTypeClickFormatter=new p.InteractionTypeClickFormatter,this.interactionTypeTouchFormatter=new p.InteractionTypeTouchFormatter,this.renderTransitionInteractionOption=((e,t)=>i.createElement(g,{key:t,value:e,recordingKey:r.joinKeys(this.props,e),disabled:!this.interactionEnabled(e)}))}interactionEnabled(e){return"NONE"===e||!("AFTER_TIMEOUT"===e&&!this.props.allTopLevelFrames)&&(("URL"!==this.props.connectionType||"ON_CLICK"===e||"MOUSE_UP"===e)&&("BACK"!==this.props.connectionType||"ON_HOVER"!==e&&"ON_PRESS"!==e))}render(){let e=["NONE"].map(this.renderTransitionInteractionOption),t=["ON_CLICK","ON_HOVER","ON_PRESS"].map(this.renderTransitionInteractionOption),n=["MOUSE_IN","MOUSE_OUT","MOUSE_DOWN","MOUSE_UP"].map(this.renderTransitionInteractionOption),o=["AFTER_TIMEOUT"].map(this.renderTransitionInteractionOption);const a=this.props.prototypeDeviceType===d.PrototypeDeviceType.PRESET?this.interactionTypeTouchFormatter:this.interactionTypeClickFormatter;return i.createElement(T,{id:"interaction-type-select",className:this.props.className,property:this.props.property,formatter:a,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"select")},e,i.createElement(c.SelectDivider,null),t,i.createElement(c.SelectDivider,null),n,i.createElement(c.SelectDivider,null),o)}}b.displayName="TransitionInteractionDropdown",t.TransitionInteractionDropdown=b,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,p){e.exports={deviceSelect:"prototype_device_panel--deviceSelect--2aSQ5",deviceDropdown:"prototype_device_panel--deviceDropdown--3ji5M",deviceOption:"prototype_device_panel--deviceOption--1zMFr",activeLabel:"prototype_device_panel--activeLabel--33ZT2",inactiveLabel:"prototype_device_panel--inactiveLabel--1IQNm prototype_device_panel--activeLabel--33ZT2",scrubbableInput:"prototype_device_panel--scrubbableInput--1_P6k",input:"prototype_device_panel--input--3FOye",leftColInput:"prototype_device_panel--leftColInput--1Q70Y prototype_device_panel--input--3FOye",scrubbableInputLeftCol:"prototype_device_panel--scrubbableInputLeftCol--28l3R prototype_device_panel--scrubbableInput--1_P6k",devicePreviewContainer:"prototype_device_panel--devicePreviewContainer--1QlCL",devicePreview:"prototype_device_panel--devicePreview--2GaWa",deviceImage:"prototype_device_panel--deviceImage--1k5Ym",rotateIcon:"prototype_device_panel--rotateIcon--3wxjA",orientationControl:"prototype_device_panel--orientationControl--YGrfz",labelInactive:"prototype_device_panel--labelInactive--vg-gH"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g79eaa437",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M16.167 5.875v12.25H7.833V5.875h8.334zm0 13.125H17V5H7v14h9.167z" fill="#fcfcfc"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"ge37d137e",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M18.125 16.167H5.875V7.833h12.25v8.334zM5 16.167V17h14V7H5v9.167z" fill="#fcfcfc"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=r(34,1   ),o=r(143              ),n=r(542                   ),s=r(1426                               ),p=r(282                             ),a=r(232                        ),c=r(496                                         ),l=r(748                                                                              ),d=r(391                                                                        ),h=r(477                                                        ),v=r(1205                          ),u=r(776                              ),m=new n.ColorHexFormatter,y=r(1206                                                             ),N=r(1207                                                              );class f extends l.SegmentedControl{}class E extends l.Segment{}class D extends i.PureComponent{constructor(){super(...arguments),this.onDeviceWidthChange=(e=>{const t=this.props.prototypeDevice,r=t?t.rotation:"NONE";s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:{x:e,y:this.props.prototypeDevice.size.y},rotation:r}})}),this.onDeviceHeightChange=(e=>{const t=this.props.prototypeDevice,r=t?t.rotation:"NONE";s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:{x:this.props.prototypeDevice.size.x,y:e},rotation:r}})}),this.deviceInfo=(()=>{const e=this.props.prototypeDevice,t=e&&e.presetIdentifier?e.presetIdentifier:null;return u.deviceInfoByIdentifier[t]}),this.shouldShowModelDropdown=(()=>{const e=this.deviceInfo();return u.infosByDeviceName[e.deviceName].length>1}),this.onModelChange=(e=>{if(!this.deviceInfo())return;const t=u.deviceInfoByIdentifier[e];if(!t)return;const r=this.props.prototypeDevice,i=r&&null!=r.rotation?r.rotation:"NONE";s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESET",size:t.framePresetSize,presetIdentifier:e,rotation:i}})}),this.renderModelDropdown=(()=>{const e=this.deviceInfo();if(e&&this.shouldShowModelDropdown())return i.createElement("div",null,i.createElement(d.LabelRow,null,i.createElement(d.LabelInactive,{className:v.labelInactive},"Model")),i.createElement(d.Row,null,i.createElement(C,{dispatch:this.props.dispatch,presetIdentifier:e.presetIdentifier,dropdownShown:this.props.dropdownShown,onChange:this.onModelChange,recordingKey:o.joinKeys(this.props,"modelDropdown")})))}),this.cssForCurrentDeviceRotation=(()=>{const e=this.props.prototypeDevice;if(!e||"NONE"===e.type)return null;let t="";switch("MICROSOFT_SURFACE_PRO_4"===e.presetIdentifier&&(t="scale(0.65)"),e.rotation){case"NONE":return null;case"CCW_90":return`rotate(-90deg) ${t}`;default:return null}}),this.renderDevicePreview=(()=>{const e=this.deviceInfo();if(!e)return;const t=p.getValue(this.props.prototypeBackgroundColor,{r:0,g:0,b:0,a:0}),r=m.format(t),o=`1px solid ${t.r>.9&&t.g>.9&&t.b>.9?"#EFEFEF":"transparent"}`;return i.createElement("div",null,i.createElement(d.LabelRow,null,i.createElement(d.LabelInactive,{className:v.labelInactive},"Preview")),i.createElement("div",{className:v.devicePreviewContainer},i.createElement("div",{className:v.devicePreview,style:{backgroundColor:r,border:o}},i.createElement("img",{className:v.deviceImage,src:e.thumbnailUrl,style:{transform:this.cssForCurrentDeviceRotation()}}))))}),this.onChangeOrientation=(e=>{const t=this.props.prototypeDevice;if(!t||"NONE"===t.type)return;const r=t.size,i=r.y>r.x;let o=t.rotation;o=i?"PORTRAIT"===e?"NONE":"CCW_90":"PORTRAIT"===e?"CCW_90":"NONE",s.fullscreen.updateSelectionProperties({prototypeDevice:Object.assign({},t,{rotation:o})})}),this.currentDeviceOrientation=(()=>{const e=this.props.prototypeDevice;if(!e||"NONE"===e.type)return"PORTRAIT";const t=e.size;return t.y>t.x?"NONE"===e.rotation?"PORTRAIT":"LANDSCAPE":"NONE"===e.rotation?"LANDSCAPE":"PORTRAIT"})}renderDeviceSizeInputs(){return i.createElement(d.Row,null,i.createElement(c.ScrubbablePositivePixelInput,{className:v.scrubbableInputLeftCol,inputClassName:v.leftColInput,dispatch:this.props.dispatch,value:this.props.prototypeDevice.size.x,onValueChange:this.onDeviceWidthChange,recordingKey:o.joinKeys(this.props,"deviceWidth")},i.createElement("span",{className:v.inactiveLabel},"W")),i.createElement(c.ScrubbablePositivePixelInput,{className:v.scrubbableInput,inputClassName:v.input,dispatch:this.props.dispatch,value:this.props.prototypeDevice.size.y,onValueChange:this.onDeviceHeightChange,recordingKey:o.joinKeys(this.props,"deviceHeight")},i.createElement("span",{className:v.inactiveLabel},"H")))}render(){const e=this.props.prototypeDevice;return i.createElement(d.Panel,null,i.createElement(d.Row,null,i.createElement(d.PanelTitle,null,"Device")),i.createElement(d.Row,null,i.createElement(I,{dispatch:this.props.dispatch,prototypeDevice:this.props.prototypeDevice,dropdownShown:this.props.dropdownShown,recordingKey:o.joinKeys(this.props,"deviceDropdown")}),null!=e&&u.deviceSupportsRotation(e.type,e.presetIdentifier)&&i.createElement(f,{property:this.currentDeviceOrientation(),onChange:this.onChangeOrientation,recordingKey:o.joinKeys(this.props,"orientationControl"),className:v.orientationControl},i.createElement(E,{value:"PORTRAIT",svg:y}),i.createElement(E,{value:"LANDSCAPE",svg:N}))),this.renderModelDropdown(),this.renderDevicePreview(),"CUSTOM"===this.props.prototypeDevice.type&&this.renderDeviceSizeInputs())}}D.displayName="PrototypeDevicePanel",t.PrototypeDevicePanel=D;class O extends h.Select{}class S extends h.Option{}class I extends o.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>"NONE"===e?"None":"CUSTOM"===e?"Custom Size":"PRESENTATION"===e?"Presentation":e.deviceName,isEqual:(e,t)=>"NONE"===e||"CUSTOM"===e||"PRESENTATION"===e||"NONE"===t||"CUSTOM"===t||"PRESENTATION"===t?e===t:e.presetIdentifier===t.presetIdentifier},this.currentPresetIdentifier=(()=>{const e=this.props.prototypeDevice;return null!=e&&"PRESET"===e.type?e.presetIdentifier:null}),this.onChange=(e=>{const t=this.props.prototypeDevice.type;let r=t;if("NONE"===e)r="NONE",s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"NONE",size:{x:0,y:0},rotation:"NONE"}});else if("PRESENTATION"===e)r="PRESENTATION",s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESENTATION",size:{x:0,y:0},rotation:"NONE"}});else if("CUSTOM"===e){r="CUSTOM";let e=this.props.prototypeDevice.size;0===e.x&&0===e.y&&(e={x:500,y:500});const t="CUSTOM"===this.props.prototypeDevice.type?this.props.prototypeDevice.rotation:"NONE";s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"CUSTOM",size:e,rotation:t}}),this.props.dispatch(a.fullscreen.trackEvent({name:"Prototype Device Chosen",params:{deviceName:"CUSTOM"}}))}else{r="PRESET";const t=u.deviceInfoByIdentifier[this.currentPresetIdentifier()];if(null!=t&&t.deviceName===e.deviceName)return;const i="PRESET"===this.props.prototypeDevice.type&&u.deviceTypeForPresetIdentifier(this.currentPresetIdentifier())===u.deviceTypeForPresetIdentifier(e.presetIdentifier)?this.props.prototypeDevice.rotation:"NONE";s.fullscreen.updateSelectionProperties({prototypeDevice:{type:"PRESET",size:{x:e.framePresetSize.x,y:e.framePresetSize.y},presetIdentifier:e.presetIdentifier,rotation:i}}),this.props.dispatch(a.fullscreen.trackEvent({name:"Prototype Device Chosen",params:{deviceName:e.deviceName}}))}this.props.dispatch(a.prototype.trackEvent({name:"Prototype Device Type Changed",params:{oldType:t,newType:r}}))}),this.renderPresetOption=((e,t)=>{let r=u.infosByDeviceName[e][0];if("PRESET"===this.props.prototypeDevice.type){const t=u.deviceInfoByIdentifier[this.props.prototypeDevice.presetIdentifier];if(t&&t.deviceName===e)r=t;else if(r.hideUnlessActive)return null}else if(r.hideUnlessActive)return null;const n=r.framePresetSize;return i.createElement(S,{value:r,key:t,recordingKey:o.joinKeys(this.props,r.deviceName)},i.createElement("div",{className:v.deviceOption},i.createElement("span",null,r.deviceName),i.createElement("span",null,n.x,"",n.y)," "))})}render(){let e;return e="NONE"===this.props.prototypeDevice.type?"NONE":"PRESENTATION"===this.props.prototypeDevice.type?"PRESENTATION":"CUSTOM"===this.props.prototypeDevice.type?"CUSTOM":u.deviceInfoByIdentifier[this.props.prototypeDevice.presetIdentifier]||"NONE",i.createElement(O,{className:v.deviceSelect,id:"prototype-device-select",property:e,formatter:this.formatter,onChange:this.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:v.deviceDropdown,recordingKey:o.joinKeys(this.props,"select")},i.createElement(S,{value:"NONE",recordingKey:o.joinKeys(this.props,"NONE")}),i.createElement(h.SelectDivider,null),u.phoneDeviceNames.map(this.renderPresetOption),i.createElement(h.SelectDivider,null),u.tabletDeviceNames.map(this.renderPresetOption),i.createElement(h.SelectDivider,null),u.watchDeviceNames.map(this.renderPresetOption),i.createElement(h.SelectDivider,null),i.createElement(S,{value:"CUSTOM",recordingKey:o.joinKeys(this.props,"CUSTOM")},i.createElement("div",{className:v.deviceOption},i.createElement("span",null,"Custom Size"),i.createElement("span",null,"Fit"))),i.createElement(S,{value:"PRESENTATION",recordingKey:o.joinKeys(this.props,"PRESENTATION")},i.createElement("div",{className:v.deviceOption},i.createElement("span",null,"Presentation"),i.createElement("span",null,"Fill"))))}}I.displayName="DeviceDropdown",t.DeviceDropdown=I;class P extends h.Select{}class g extends h.Option{}class C extends o.PureComponent{constructor(){super(...arguments),this.formatter={format:e=>{const t=u.deviceInfoByIdentifier[e];return t?t.styleName:"(missing)"},isEqual:(e,t)=>e===t},this.renderStyleOption=((e,t)=>{const r=e.presetIdentifier;return i.createElement(g,{value:r,key:t,recordingKey:o.joinKeys(this.props,r)},u.deviceInfoByIdentifier[r].styleName)})}render(){const e=u.deviceInfoByIdentifier[this.props.presetIdentifier];if(!e)return null;const t=u.infosByDeviceName[e.deviceName],r=this.props.presetIdentifier;return i.createElement(P,{className:v.deviceSelect,id:"prototype-style-select",property:r,formatter:this.formatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,dropdownClassName:v.deviceDropdown,recordingKey:o.joinKeys(this.props,"select")},t.map(this.renderStyleOption))}}C.displayName="ModelDropdown",t.ModelDropdown=C,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,r){o.exports={scrollDirectionShort:"overflow_behavior_panel--scrollDirectionShort--1kVRm",scrollDirection:"overflow_behavior_panel--scrollDirection--1oDxt",panelTitle:"overflow_behavior_panel--panelTitle--xQZgR",infoIcon:"overflow_behavior_panel--infoIcon--1HXuR"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,l,s){t.exports={id:null,src:'<svg width="19" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M3 9.25c0-3.314 2.686-6 6-6 3.314 0 6 2.686 6 6 0 3.314-2.686 6-6 6-3.314 0-6-2.686-6-6z" fill="#444"/><path d="M9.516 10.429H8.48l-.147-4.357h1.33l-.147 4.357zm-.518.682c.21 0 .378.062.505.185.13.124.194.282.194.475 0 .19-.064.347-.194.47-.127.125-.295.187-.505.187-.207 0-.376-.062-.505-.186-.127-.124-.19-.28-.19-.47 0-.19.063-.348.19-.471.13-.127.298-.19.505-.19z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,r){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=r(34,1   ),s=r(232                        ),n=r(143              ),i=r(144                        ),l=r(1426                               ),a=r(282                             ),c=r(391                               ),p=r(477               ),d=r(404                       ),h=r(1209                           ),m=r(1210                                             );class u extends t.PureComponent{constructor(){super(...arguments),this.onScrollDirectionChange=(e=>{this.props.dispatch(s.prototype.trackEvent({name:"Overflow Behavior changed",params:{newDirection:e,oldDirection:a.getValue(this.props.scrollDirection,"MIXED")}})),l.fullscreen.updateSelectionProperties({scrollDirection:e})})}render(){return t.createElement(c.Panel,null,t.createElement(c.Row,null,t.createElement(c.PanelTitle,{className:h.panelTitle},"Overflow Behavior")),t.createElement(c.Row,null,this.props.showScrollWarning&&t.createElement(i.Svg,{className:h.infoIcon,svg:m,useOriginalSrcFills:!0,"data-tooltip-content-key":"HORIZONTAL"===this.props.scrollDirection?d.TooltipView.PROTOTYPE_SCROLL_HORIZONTAL_INFO:d.TooltipView.PROTOTYPE_SCROLL_VERTICAL_INFO}),t.createElement(f,{className:this.props.showScrollWarning?h.scrollDirectionShort:h.scrollDirection,property:this.props.scrollDirection,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChange:this.onScrollDirectionChange,disabled:this.props.disabled,recordingKey:n.joinKeys(this.props,"scrollDirection")})))}}u.displayName="OverflowBehaviorPanel",o.OverflowBehaviorPanel=u;class g extends p.Option{}class O extends p.Select{}const w=["NONE","HORIZONTAL","VERTICAL","BOTH"];class f extends t.PureComponent{render(){return t.createElement(O,{id:"scroll-direction-select",className:this.props.className,property:this.props.property||"NONE",formatter:f.directionFormatter,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:this.props.disabled,recordingKey:this.props.recordingKey},w.map(e=>t.createElement(g,{key:e,value:e,recordingKey:n.joinKeys(this.props,e)})))}}f.displayName="ScrollDirectionDropdown",f.directionFormatter={format:e=>{switch(e){case"NONE":return"None";case"HORIZONTAL":return"Horizontal Scrolling";case"VERTICAL":return"Vertical Scrolling";case"BOTH":return"Horizontal & Vertical Scrolling"}return""},parse:()=>null},o.ScrollDirectionDropdown=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={panelTitle:"prototype_panel--panelTitle--1knwg",onboardingIconRow:"prototype_panel--onboardingIconRow--2m-VY undefined",onboardingTextRow:"prototype_panel--onboardingTextRow--3Rmji",onboardingLabel:"prototype_panel--onboardingLabel--2VYwb text--paragraphText--25SJf",onboardingTitle:"prototype_panel--onboardingTitle--2KKTm",onboardingIcon:"prototype_panel--onboardingIcon--2O1sE",onboardingDismissIcon:"prototype_panel--onboardingDismissIcon--2mg03",prototypeSettingsButton:"prototype_panel--prototypeSettingsButton--3uc7S"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,s){t.exports={id:"gc1248a7b",src:'<svg width="14" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M4 .098l.765.478 8 5 .678.424-.678.424-8 5-.765.478V.098zm1 1.804v8.196L11.557 6 5 1.902z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gd75926a7",src:'<svg width="21" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M10.5 1H4V0h7.5v5.708c.736.321 1.287.986 1.45 1.792h5.343l-2.147-2.146.708-.708 3 3 .353.354-.353.354-3 3-.708-.708L18.293 8.5H12.95c-.163.806-.714 1.47-1.45 1.792V16H4v-1h6.5v-4.5C9.12 10.5 8 9.38 8 8c0-1.38 1.12-2.5 2.5-2.5V1zm0 8.5c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C9.672 6.5 9 7.172 9 8c0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gd80048dd",src:'<svg width="22" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M11 1H4V0h8v6.05c.98.199 1.751.97 1.95 1.95h5.343l-2.147-2.146.708-.708 3 3 .353.354-.353.354-3 3-.708-.708L19.293 9H13.95c-.199.98-.97 1.751-1.95 1.95V17H4v-1h7v-5.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45V1zm.5 9c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g9b4e4029",src:'<svg width="20" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M9.5 1H3V0h7.5v5.708C11.383 6.094 12 6.975 12 8c0 1.025-.617 1.906-1.5 2.292V16H3v-1h6.5v-4.5C8.12 10.5 7 9.38 7 8c0-1.38 1.12-2.5 2.5-2.5V1zm7 7.707l2.646 2.647.708-.708L17.207 8l2.647-2.646-.708-.708L16.5 7.293l-2.646-2.647-.708.708L15.793 8l-2.647 2.646.708.708L16.5 8.707zm-7 .793c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5C8.672 6.5 8 7.172 8 8c0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,l,e){t.exports={id:null,src:'<svg width="22" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M11 1.031H4v-1h8V6.05c1.141.232 2 1.24 2 2.45 0 1.21-.859 2.218-2 2.45V17H4v-1h7v-5.05c-1.141-.232-2-1.24-2-2.45 0-1.21.859-2.218 2-2.45V1.031zM11.5 10c.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5z" fill-rule="evenodd"/><path d="M18.5 9.207l2.646 2.647.708-.708L19.207 8.5l2.647-2.646-.708-.708L18.5 7.793l-2.646-2.647-.708.708L17.793 8.5l-2.647 2.646.708.708L18.5 9.207z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(34,1   ),i=o(287       ),r=o(143              ),s=o(232                        ),a=o(180         ),p=o(204                                            ),c=o(282                             ),l=o(144                        ),d=o(533                           ),h=o(1176                                                      ),m=o(1178                                              ),g=o(1202                                              ),y=o(1204                                                ),P=o(1208                                              ),_=o(1197                                                      ),u=o(1211                                                ),v=o(391                               ),b=o(341                              ),S=o(1212                   ),w=o(712                                           ),E=o(388                                                    ),f=o(1213                                                           ),k=o(1214                                                                   ),N=o(1215                                                                     ),C=o(1216                                                                   ),T=o(1217                                                                     ),R=o(210                              );class D extends n.PureComponent{constructor(){super(...arguments),this.dismissPanel=(e=>{w.putPreferences(this.props.dispatch,{[e]:!0})}),this.dismissCreateConnectionHint=(()=>{this.dismissPanel("dismissed_create_connection_hint")}),this.dismissDeleteConnectionHint=(()=>{this.dismissPanel("dismissed_delete_connection_hint")}),this.dismissPlayButtonHint=(()=>{this.dismissPanel("dismissed_play_button_hint")}),this.onClickShowPrototypeSettings=(()=>{this.props.dispatch(s.prototype.trackEvent({name:"Show Prototype Settings Clicked"})),b.clearSelection()})}renderCreateConnectionHint(){return n.createElement("span",{id:"create-connection-hint"},n.createElement(v.Row,{className:S.onboardingIconRow},n.createElement(v.PanelTitle,{className:S.onboardingTitle},"Creating a connection"),n.createElement(l.Svg,{svg:R,onClick:this.dismissCreateConnectionHint,className:S.onboardingDismissIcon})),n.createElement(v.LabelRow,{className:S.onboardingTextRow},n.createElement(E.SvgWithFallback,{svg:k,fallbackSvg:N,className:S.onboardingIcon}),n.createElement(v.LabelInactive,{className:S.onboardingLabel},"Select a frame or object in a frame and use the circular node to drag a connection to another frame.")))}renderDeleteConnectionHint(){return n.createElement("span",{id:"delete-connection-hint"},n.createElement(v.Row,{className:S.onboardingIconRow},n.createElement(v.PanelTitle,{className:S.onboardingTitle},"Removing a connection"),n.createElement(l.Svg,{svg:R,onClick:this.dismissDeleteConnectionHint,className:S.onboardingDismissIcon})),n.createElement(v.LabelRow,{className:S.onboardingTextRow},n.createElement(E.SvgWithFallback,{svg:C,fallbackSvg:T,className:S.onboardingIcon}),n.createElement(v.LabelInactive,{className:S.onboardingLabel},"To delete a connection, click and drag on either end.")))}renderPlayButtonHint(){return n.createElement("span",{id:"play-button-hint"},n.createElement(v.Row,{className:S.onboardingIconRow},n.createElement(v.PanelTitle,{className:S.onboardingTitle},"Running your prototype"),n.createElement(l.Svg,{svg:R,onClick:this.dismissPlayButtonHint,className:S.onboardingDismissIcon})),n.createElement(v.LabelRow,{className:S.onboardingTextRow},n.createElement(l.Svg,{svg:f,className:S.onboardingIcon}),n.createElement(v.LabelInactive,{className:S.onboardingLabel},"Use the play button in the toolbar to play your prototype. If there are no connections, the play button can be used to play a presentation of your frames.")))}renderOnboardingPanel(){const e=w.getPreferences(this.props),t=e.dismissed_create_connection_hint,o=e.dismissed_delete_connection_hint,i=e.dismissed_play_button_hint,r=this.props.selectionProperties.numTransitionsOnCurrentPage,s=0===r&&!t,a=0!==r&&!o,p=!i;return s||a||p?n.createElement(v.Panel,null,n.createElement("div",{className:""},s&&this.renderCreateConnectionHint(),a&&this.renderDeleteConnectionHint(),p&&this.renderPlayButtonHint())):null}renderPrototypeSettingsPanel(){return n.createElement(v.Panel,null,n.createElement(v.Row,null,n.createElement(v.PanelTitle,{className:S.panelTitle},"Prototype Settings")),n.createElement(v.Row,null,n.createElement(p.ButtonSecondary,{className:S.prototypeSettingsButton,onClick:this.onClickShowPrototypeSettings,recordingKey:r.joinKeys(this.props,"prototypeSettingsButton")},"Show Prototype Settings")))}renderDevicePanel(){a.assertDev(c.notMixed(this.props.selectionProperties.prototypeDevice),"should not have mixed device selection");const e=c.getValue(this.props.selectionProperties.prototypeDevice,{type:"NONE",size:{x:0,y:0}});return n.createElement(P.PrototypeDevicePanel,{key:"device-panel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,prototypeDevice:e,recordingKey:"devicePanel"})}render(){const e=!c.notMixed(this.props.selectionProperties.transitionNodeID)||i.isValid(c.getValue(this.props.selectionProperties.transitionNodeID)),t=this.props.selectionProperties.numSelected>0,o=this.props.appModel.activeCanvasPrototypeDeviceType,s=this.props.selectionProperties.isInstanceSelected||this.props.selectionProperties.isInstanceSublayerSelected;if(t){const t=_.transitionFromSelections(this.props.selectionProperties.transitionType,this.props.selectionProperties.easingType,this.props.selectionProperties.transitionDuration,this.props.selectionProperties.transitionPreserveScroll);return n.createElement("div",null,n.createElement(y.PrototypeTriggerPanel,{nodeId:this.props.selectionProperties.transitionNodeID,interactionType:this.props.selectionProperties.interactionType,connectionType:this.props.selectionProperties.connectionType,timeout:this.props.selectionProperties.transitionTimeout,maintained:this.props.selectionProperties.interactionMaintained,interactionDuration:this.props.selectionProperties.interactionDuration,allTopLevelFrames:this.props.selectionProperties.allTopLevelFramesInSelection,prototypeDeviceType:o,bigNudgeAmount:this.props.bigNudgeAmount,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"interactionPanel")}),n.createElement(g.PrototypeActionPanel,Object.assign({connectionType:this.props.selectionProperties.connectionType,connectionURL:this.props.selectionProperties.connectionURL,nodeId:this.props.selectionProperties.transitionNodeID,transition:t,navigationType:this.props.selectionProperties.navigationType,destinationOverlayPositionType:this.props.selectionProperties.destinationOverlayPositionType,destinationOverlayBackgroundInteraction:this.props.selectionProperties.destinationOverlayBackgroundInteraction,destinationOverlayBackgroundType:this.props.selectionProperties.destinationOverlayBackgroundType,destinationOverlayBackgroundColor:this.props.selectionProperties.destinationOverlayBackgroundColor,scene:this.props.scene,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount},d.extractColorPickerContainerProps(this.props),{recordingKey:r.joinKeys(this.props,"actionPanel")})),this.props.showOverflowBehaviorItem&&n.createElement(u.OverflowBehaviorPanel,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,scrollDirection:this.props.selectionProperties.scrollDirection,showScrollWarning:this.props.selectionProperties.showWontScrollWarning,disabled:s,recordingKey:r.joinKeys(this.props,"overflowBehaviorPanel")}),this.renderPrototypeSettingsPanel(),!e&&this.renderOnboardingPanel())}return n.createElement("div",null,this.renderDevicePanel(),n.createElement(h.PrototypeBackgroundPanel,Object.assign({recordingKey:r.joinKeys(this.props,"backgroundPanel"),prototypeBackgroundColor:this.props.selectionProperties.prototypeBackgroundColor,pickerShown:this.props.pickerShown},d.extractColorPickerContainerProps(this.props))),n.createElement(m.PrototypeOriginPanel,{prototypeStartNodeID:c.getValue(this.props.selectionProperties.prototypeStartNodeID),scene:this.props.scene,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:r.joinKeys(this.props,"originPanel")}),!e&&this.renderOnboardingPanel())}}D.displayName="PrototypePanel",t.PrototypePanel=D,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){e.exports={row:"styles--row--1PdsK raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",rowSelected:"styles--rowSelected--2bHct styles--row--1PdsK raw_components--singleRow--20RH7 raw_components--singleRowHeight--3PF2a raw_components--_row--73H_w",rowContents:"styles--rowContents--2S84_",input:"styles--input--Psoim",list:"styles--list--2nR1E",thumb:"styles--thumb--19_d9",name:"styles--name--RhNAx",addRemoveButton:"styles--addRemoveButton--2VLOT",contextMenu:"styles--contextMenu--2RUSv",showOnTitleHover:"styles--showOnTitleHover--2WqRu"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),o=s(232                        ),i=s(1430                                             ),l=s(143              ),r=s(301           ),p=s(219          ),a=s(408                                  ),c=s(374                            ),d=s(1426                               ),y=s(129                               ),h=s(691                                                                 ),u=s(435                                                                 ),m=s(395                                                                        ),S=s(389                                                                  ),_=s(1219          ),g=a.dropdown.Dropdown,f=a.dropdown.Option,w=s(441                                                         );class b extends n.PureComponent{constructor(){super(...arguments),this.state={selectedStyleType:null,selectedStyleIndex:null},this.keyboardReceiverRef=(e=>{this.keyboardReceiver=e}),this.onInspectStyle=(e=>{y.Fullscreen.selectStyle(e.key,e.content_hash),this.props.dispatch(o.library.setIsRenamingSelectedStyle({isRenaming:!1})),this.keyboardReceiver&&this.keyboardReceiver.focus(),p.segment.track("Style Inspected",{styleType:e.style_type,from:"styleListClick"})}),this.onContextMenu=((e,t)=>{t.preventDefault(),t.stopPropagation(),this.props.dispatch(o.fileBrowser.showDropdown({type:b.CONTEXT_MENU_ID,data:{style:e,position:{top:t.clientY,left:t.clientX}}}))}),this.clearSelection=(()=>{this.updateSelectedIndex(null,null)}),this.updateSelectedIndex=((e,t)=>{this.setState({selectedStyleType:e,selectedStyleIndex:t})})}render(){const e=new Map;for(let t of this.props.styleList){const s=e.get(t.style_type);s?s.push(t):e.set(t.style_type,[t])}return n.createElement("div",{onMouseDown:this.clearSelection},c.allStyleTypes.map(t=>{const s=e.get(t);if(s)return n.createElement(x,{key:t,styleType:t,styleList:s,dispatch:this.props.dispatch,isFilePublished:this.props.isFilePublished,updateSelectedIndex:this.updateSelectedIndex.bind(this,t),selectedIndex:this.state.selectedStyleType===t?this.state.selectedStyleIndex:null,onInspectStyle:this.onInspectStyle,onContextMenu:this.onContextMenu})}),n.createElement(E,{editingFileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch}))}}b.displayName="LocalStylesByType",b.CONTEXT_MENU_ID="styles-by-type-context-menu",t.LocalStylesByType=b;class x extends n.PureComponent{constructor(){super(...arguments),this.state={selectedIndexToMove:null},this.generateStyleThumbnails=r.debounce(()=>{this.props.dispatch(o.library.generateStyleThumbnails({styleType:this.props.styleType}))},200),this.insertStylesBetween=((e,t,s)=>{if(1===e.length){const n=e[0].node_id,o=t?t.node_id:"",i=s?s.node_id:"";if(!o&&!i)return;if(o===n)return;if(i===n)return;y.Fullscreen.insertStyleBetween(n,o,i),p.segment.track("Style Reordered",{styleType:e[0].style_type})}this.props.updateSelectedIndex(null)}),this.updateSelection=(e=>{1===e.length&&this.props.updateSelectedIndex(e[0])}),this.onInspectStyle=((e,t)=>{this.props.onInspectStyle(this.props.styleList[e])}),this.renderRow=((e,t,s,o,i,l)=>n.createElement(I,{recordingKey:`style-row-${t}`,key:e.node_id,style:e,selected:s,onContextMenu:this.props.onContextMenu.bind(this,e),onInspectStyle:this.onInspectStyle.bind(this,t),onMouseDown:o,onMouseMove:i,dispatch:this.props.dispatch}))}componentDidMount(){this.generateStyleThumbnails()}UNSAFE_componentWillReceiveProps(){this.generateStyleThumbnails()}render(){c.sortStylesByPosition(this.props.styleList);const e=null===this.props.selectedIndex?[]:[this.props.selectedIndex];return n.createElement(h.LibrarySubSection,{title:c.styleTypeToStylesHeader(this.props.styleType)},n.createElement("div",{className:_.list},n.createElement(M,{listItems:this.props.styleList,onInsertItemsBetween:this.insertStylesBetween,selectedIndices:e,updateSelection:this.updateSelection,renderListItem:this.renderRow})))}}x.displayName="StyleSection";class M extends m.DraggableList{}class I extends l.PureComponent{constructor(){super(...arguments),this.stopPropagation=(e=>e.stopPropagation()),this.onContextMenu=l.mouseEvent(this,"contextmenu",e=>{this.props.onContextMenu(e)})}render(){return n.createElement("div",{className:this.props.selected?_.rowSelected:_.row,onContextMenu:this.onContextMenu,onMouseMove:this.props.onMouseMove,onMouseDown:this.props.onMouseDown},n.createElement(u.StyleIcon,{className:_.thumb,inList:!0,style:this.props.style,selectedState:this.props.selected?"background":void 0}),n.createElement("div",{className:_.rowContents},n.createElement("span",{className:_.name},this.props.style.name)),n.createElement(S.IconButton,{className:_.showOnTitleHover,recordingKey:l.joinKeys(this.props,"customButton"),svg:w,selected:this.props.selected,onMouseDown:this.stopPropagation,onClick:this.props.onInspectStyle}))}}I.displayName="StyleRow";class E extends n.PureComponent{constructor(){super(...arguments),this.onDeleteStyle=(e=>{e.file_key===this.props.editingFileKey&&(y.Fullscreen.deleteNode(e.node_id),d.fullscreen.triggerAction("commit"),p.segment.track("Style Deleted",{styleType:e.style_type,from:"styleListContextMenu"}))}),this.onEditStyle=(e=>{y.Fullscreen.selectStyle(e.key,e.content_hash),p.segment.track("Style Inspected",{styleType:e.style_type,from:"styleListContextMenu"})}),this.onMoveStyle=(e=>{this.props.dispatch(i.moveSharedStyles({styles:[e]}))})}render(){let e=null;if(this.props.dropdownShown&&this.props.dropdownShown.type===b.CONTEXT_MENU_ID&&(e=this.props.dropdownShown.data.style),!e)return n.createElement("div",null);if(e.file_key===this.props.editingFileKey)return n.createElement(g,{style:this.props.dropdownShown.data.position,className:_.contextMenu},n.createElement(f,{recordingKey:"edit-style-option",onClick:this.onEditStyle.bind(this,e)},"Edit Style"),n.createElement(f,{recordingKey:"delete-style-option",onClick:this.onDeleteStyle.bind(this,e)},"Delete Style"));{const t=`${this.props.fileByKey[this.props.editingFileKey].url}?node-id=${encodeURIComponent(e.node_id)}`;return n.createElement(g,{style:this.props.dropdownShown.data.position,className:_.contextMenu},n.createElement(f,{href:t,target:"_blank"},"Go to master style"),n.createElement(f,{onClick:this.onMoveStyle.bind(this,e)},"Move shared style to this file"))}}}E.displayName="StyleRowContextMenu",t.StyleRowContextMenu=E,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){t.exports={emptyState:"local_styles_panel--emptyState--1KEBx",emptyStateIcon:"local_styles_panel--emptyStateIcon--3BSuD",emptyStateContent:"local_styles_panel--emptyStateContent--168Hx text--paragraphText--25SJf"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(34,1   ),a=s(391                               ),n=s(1220                                              ),o=s(391                                                                        ),p=s(1221                      ),r=s(388                                                    ),c=s(462                                                         ),i=s(463                                                           );class y extends l.PureComponent{render(){const e=[];for(const t in this.props.styles){const s=this.props.styles[t];s.deletedFromSceneGraph||e.push(s)}return this.props.userCanEditFile||0!==e.length?l.createElement(a.Panel,null,l.createElement(o.Row,null,l.createElement(a.PanelTitle,null,"Local Styles")),0===e.length?l.createElement(o.Row,{className:p.emptyState},l.createElement(r.SvgWithFallback,{svg:c,fallbackSvg:i,className:p.emptyStateIcon}),l.createElement("div",{className:p.emptyStateContent},"To create a style, select a layer and click on the style icon in the inspector panel.")):l.createElement(n.LocalStylesByType,{styleList:e,editingFileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch})):null}}y.displayName="LocalStylesPanel",t.LocalStylesPanel=y,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,t){e.exports={singleRowHeight:"style_preview_panel--singleRowHeight--2cGG3",doubleRowHeight:"style_preview_panel--doubleRowHeight--xoU9T",input:"style_preview_panel--input--3JXH2 style_preview_panel--singleRowHeight--2cGG3",border:"style_preview_panel--border--3fXUE",borderFocusWithin:"style_preview_panel--borderFocusWithin--2Armv",iconInsideBorderFocusWithin:"style_preview_panel--iconInsideBorderFocusWithin--2mBNs",rowSelectedSecondary:"style_preview_panel--rowSelectedSecondary--35PTW style_preview_panel--rowSelected--aM1m2",selectHiddenInput:"style_preview_panel--selectHiddenInput--3Y-Kx",iconButton:"style_preview_panel--iconButton--HV3SY",borderFocus:"style_preview_panel--borderFocus--EeZMp",multiValueInput:"style_preview_panel--multiValueInput--1-fQ_ style_preview_panel--borderFocusWithin--2Armv",base:"style_preview_panel--base--12jzo",label:"style_preview_panel--label--362Sx style_preview_panel--base--12jzo",labelInactive:"style_preview_panel--labelInactive--zk4El style_preview_panel--label--362Sx style_preview_panel--base--12jzo",textInput:"style_preview_panel--textInput--GZ8BF style_preview_panel--base--12jzo style_preview_panel--input--3JXH2 style_preview_panel--singleRowHeight--2cGG3",textAreaInput:"style_preview_panel--textAreaInput--1lqME style_preview_panel--base--12jzo style_preview_panel--input--3JXH2 style_preview_panel--singleRowHeight--2cGG3",noLeftBorder:"style_preview_panel--noLeftBorder--1oOBd",squareRightBorder:"style_preview_panel--squareRightBorder--1pwAf",_iconButton:"style_preview_panel--_iconButton--2A73g",iconButtonEnabled:"style_preview_panel--iconButtonEnabled--6hTgK style_preview_panel--_iconButton--2A73g",iconButtonDisabled:"style_preview_panel--iconButtonDisabled--1BqUU style_preview_panel--_iconButton--2A73g",iconButtonSelected:"style_preview_panel--iconButtonSelected--3jJ8o style_preview_panel--_iconButton--2A73g",chitCenter:"style_preview_panel--chitCenter--1l5De",outlineButton:"style_preview_panel--outlineButton--1fwi7",modalPanel:"style_preview_panel--modalPanel--2V_Gg",panel:"style_preview_panel--panel--ACZZN",_row:"style_preview_panel--_row--hYYOJ",singleRow:"style_preview_panel--singleRow--37WyG style_preview_panel--singleRowHeight--2cGG3 style_preview_panel--_row--hYYOJ",doubleRow:"style_preview_panel--doubleRow--21Nxc style_preview_panel--doubleRowHeight--xoU9T style_preview_panel--_row--hYYOJ",labelRow:"style_preview_panel--labelRow--Ll-ne style_preview_panel--singleRow--37WyG style_preview_panel--singleRowHeight--2cGG3 style_preview_panel--_row--hYYOJ",rowSelected:"style_preview_panel--rowSelected--aM1m2",panelTitle:"style_preview_panel--panelTitle--3pH8Y",panelTitleWithTip:"style_preview_panel--panelTitleWithTip--yH8Zd style_preview_panel--panelTitle--3pH8Y",panelTitleWithTipText:"style_preview_panel--panelTitleWithTipText--2HsDM",panelTitleWithTipIcon:"style_preview_panel--panelTitleWithTipIcon--2kNNz",panelTitleFaded:"style_preview_panel--panelTitleFaded--2Y7h_ style_preview_panel--panelTitle--3pH8Y",flushLeft:"style_preview_panel--flushLeft--1lCsT",renderedStyleThumbnail:"style_preview_panel--renderedStyleThumbnail--dF055",renderedFillStyleThumbnail:"style_preview_panel--renderedFillStyleThumbnail--3rY7S",renderedTextStyleThumbnail:"style_preview_panel--renderedTextStyleThumbnail--Mtiav",leaveStyleEditMode:"style_preview_panel--leaveStyleEditMode--4KqJk",backIcon:"style_preview_panel--backIcon--2tbvo",headerText:"style_preview_panel--headerText--1tbr9 raw_components--panelTitle--7MaOu",styleName:"style_preview_panel--styleName--3Ksai",styleNameInput:"style_preview_panel--styleNameInput--3RtG8 raw_components--textInput--23_ta raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a raw_components--border--3I0I6",preview:"style_preview_panel--preview--ujuUZ",descriptionRow:"style_preview_panel--descriptionRow--2Hakm",expandingInput:"style_preview_panel--expandingInput--3RHsZ raw_components--textInput--23_ta raw_components--base--3TpZG raw_components--input--13lRh raw_components--singleRowHeight--3PF2a raw_components--border--3I0I6",viewOnlyDescription:"style_preview_panel--viewOnlyDescription--3wJG6",addDescriptionLink:"style_preview_panel--addDescriptionLink--26D0- style_preview_panel--viewOnlyDescription--3wJG6"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g316dc18e",src:'<svg width="8" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M1 6.5l-.354-.354-.353.354.353.354L1 6.5zM6.646.146l-6 6 .708.708 6-6-.708-.708zm-6 6.708l6 6 .708-.708-6-6-.708.708z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),n=s(38,1       ),l=s(143              ),a=s(232                        ),r=s(219          ),o=s(129                               ),p=s(1426                               ),c=s(282                             ),m=s(287       ),y=s(341                              ),h=s(1143                                ),d=s(391                               ),u=s(504                            ),g=s(144                        ),S=s(1223                       ),N=s(435           ),E=s(199      ),w=s(1224                              );class b extends l.PureComponent{constructor(){super(...arguments),this.click=l.mouseEvent(this,"click",()=>{this.props.onClick()})}render(){return i.createElement("a",{className:S.addDescriptionLink,onClick:this.click},"Add Description")}}b.displayName="AddDescriptionLink";class D extends l.PureComponent{constructor(){super(...arguments),this.state={newStyleName:null,editingDescription:!1,tempDescription:null},this.styleNameInputEl=null,this.styleNameInputRef=(e=>{e&&(this.styleNameInputEl=n.findDOMNode(e))}),this.onSubmit=(e=>{o.Fullscreen.renameNode(m.toString(this.props.selectedStyleProperties.guid),e),p.fullscreen.triggerAction("commit"),this.onCancel(),r.segment.track("Style Renamed",{styleType:this.props.selectedStyleProperties.styleType})}),this.onCancel=(()=>{this.props.dispatch(a.library.setIsRenamingSelectedStyle({isRenaming:!1}))}),this.onStartRenaming=(()=>{this.props.dispatch(a.library.setIsRenamingSelectedStyle({isRenaming:!0})),this.setState({newStyleName:this.props.styleName})}),this.leaveStyleEditMode=(()=>o.Fullscreen.selectStyle("","")),this.enableDescriptionField=(()=>{this.setState({editingDescription:!0})}),this.onStyleNameBlur=(()=>{this.state.newStyleName&&this.onSubmit(this.state.newStyleName)}),this.onStyleNameChange=(e=>{this.setState({newStyleName:e.target.value})}),this.onStyleNameKeyDown=l.keyboardEvent(this,"keydown",e=>{if(e.keyCode===E.Key.TAB||e.keyCode===E.Key.ENTER)this.onSubmit(this.state.newStyleName),this.setState({newStyleName:null});else{if(e.keyCode!==E.Key.ESCAPE)return l.SKIP_RECORDING;this.setState({newStyleName:null}),this.onCancel(),setTimeout(()=>{this.styleNameInputEl&&this.styleNameInputEl.blur()},0)}}),this.onChangeDescription=(e=>{this.setState({tempDescription:e.target.value,editingDescription:!0})}),this.submitDescription=(e=>{y.setStyleDescription(m.toString(this.props.selectedStyleProperties.guid),e),this.setState({tempDescription:null,editingDescription:!1}),r.segment.track("Style Description Changed",{styleType:this.props.selectedStyleProperties.styleType})})}render(){const e=this.props.selectedStyleProperties.styleType;let t=S.renderedStyleThumbnail;"TEXT"===e?t=S.renderedTextStyleThumbnail:"FILL"===e&&(t=S.renderedFillStyleThumbnail);const s={};"TEXT"!==e&&"FILL"!==e&&(s.backgroundImage=`url('${u.default()}')`);let n,a=this.props.styleName||"";return null!=this.state.newStyleName&&(a=this.state.newStyleName),n=null!=this.state.tempDescription?this.state.tempDescription:c.getValue(this.props.styleDescription,""),i.createElement("div",{key:"style-preview"},i.createElement(i.Fragment,null,i.createElement(d.Row,{onClick:this.leaveStyleEditMode,recordingKey:l.joinKeys(this.props,"backRow")},i.createElement(g.Svg,{className:S.backIcon,svg:w}),i.createElement("div",{className:S.headerText},"Edit Style")),i.createElement(d.Row,null,this.props.viewOnly?i.createElement("div",{className:S.styleName},a):i.createElement(d.TextInput,{ref:this.styleNameInputRef,className:S.styleNameInput,value:a,onFocus:this.onStartRenaming,onBlur:this.onStyleNameBlur,onChange:this.onStyleNameChange,onKeyDown:this.onStyleNameKeyDown,recordingKey:l.joinKeys(this.props,"styleName"),delay:50}))),this.props.viewOnly&&!!n&&i.createElement(d.Row,{className:S.descriptionRow},i.createElement("div",{className:S.viewOnlyDescription},n)),!this.props.viewOnly&&(n||this.state.editingDescription?i.createElement(d.Row,{className:S.descriptionRow},i.createElement(h.ExpandingTextarea,{className:S.expandingInput,value:n,placeholder:"Description",spellCheck:!1,onChange:this.onChangeDescription,lineHeightPx:16,minHeight:24,selectOnMount:this.state.editingDescription,submit:this.submitDescription,submitOnBlur:!0,recordingKey:l.joinKeys(this.props,"styleDescription")})):i.createElement(d.Row,null,i.createElement(b,{onClick:this.enableDescriptionField,recordingKey:l.joinKeys(this.props,"addDescriptionLink")}))),i.createElement("div",{style:s,className:S.preview},this.props.selectedStyleProperties.url?i.createElement("img",{src:this.props.selectedStyleProperties.url,className:t}):i.createElement(N.FailedThumb,{styleType:this.props.selectedStyleProperties.styleType})))}}D.displayName="EditStylePreviewPanel",t.EditStylePreviewPanel=D,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){/*! highlight.js v9.12.0 | BSD3 License | git.io/hljslicense */var r,a;r=function(e){var n=[],t=Object.keys,r={},a={},i=/^(no-?highlight|plain|text)$/i,s=/\blang(?:uage)?-([\w-]+)\b/i,o=/((^(<[^>]+>|\t|)+|(?:\n)))/gm,l="</span>",c={classPrefix:"hljs-",tabReplace:null,useBR:!1,languages:void 0};function u(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function g(e){return e.nodeName.toLowerCase()}function f(e,n){var t=e&&e.exec(n);return t&&0===t.index}function d(e){return i.test(e)}function E(e){var n,t={},r=Array.prototype.slice.call(arguments,1);for(n in e)t[n]=e[n];return r.forEach(function(e){for(n in e)t[n]=e[n]}),t}function v(e){var n=[];return function e(t,r){for(var a=t.firstChild;a;a=a.nextSibling)3===a.nodeType?r+=a.nodeValue.length:1===a.nodeType&&(n.push({event:"start",offset:r,node:a}),r=e(a,r),g(a).match(/br|hr|img|input/)||n.push({event:"stop",offset:r,node:a}));return r}(e,0),n}function p(e){function n(e){return e&&e.source||e}function r(t,r){return new RegExp(n(t),"m"+(e.case_insensitive?"i":"")+(r?"g":""))}!function a(i,s){if(!i.compiled){if(i.compiled=!0,i.keywords=i.keywords||i.beginKeywords,i.keywords){var o={},l=function(n,t){e.case_insensitive&&(t=t.toLowerCase()),t.split(" ").forEach(function(e){var t=e.split("|");o[t[0]]=[n,t[1]?Number(t[1]):1]})};"string"==typeof i.keywords?l("keyword",i.keywords):t(i.keywords).forEach(function(e){l(e,i.keywords[e])}),i.keywords=o}i.lexemesRe=r(i.lexemes||/\w+/,!0),s&&(i.beginKeywords&&(i.begin="\\b("+i.beginKeywords.split(" ").join("|")+")\\b"),i.begin||(i.begin=/\B|\b/),i.beginRe=r(i.begin),i.end||i.endsWithParent||(i.end=/\B|\b/),i.end&&(i.endRe=r(i.end)),i.terminator_end=n(i.end)||"",i.endsWithParent&&s.terminator_end&&(i.terminator_end+=(i.end?"|":"")+s.terminator_end)),i.illegal&&(i.illegalRe=r(i.illegal)),null==i.relevance&&(i.relevance=1),i.contains||(i.contains=[]),i.contains=Array.prototype.concat.apply([],i.contains.map(function(e){return function(e){return e.variants&&!e.cached_variants&&(e.cached_variants=e.variants.map(function(n){return E(e,{variants:null},n)})),e.cached_variants||e.endsWithParent&&[E(e)]||[e]}("self"===e?i:e)})),i.contains.forEach(function(e){a(e,i)}),i.starts&&a(i.starts,s);var c=i.contains.map(function(e){return e.beginKeywords?"\\.?("+e.begin+")\\.?":e.begin}).concat([i.terminator_end,i.illegal]).map(n).filter(Boolean);i.terminators=c.length?r(c.join("|"),!0):{exec:function(){return null}}}}(e)}function h(e,n,t,a){function i(e,n){var t=E.case_insensitive?n[0].toLowerCase():n[0];return e.keywords.hasOwnProperty(t)&&e.keywords[t]}function s(e,n,t,r){var a='<span class="'+(r?"":c.classPrefix);return(a+=e+'">')+n+(t?"":l)}function o(){R+=null!=b.subLanguage?function(){var e="string"==typeof b.subLanguage;if(e&&!r[b.subLanguage])return u(w);var n=e?h(b.subLanguage,w,!0,_[b.subLanguage]):m(w,b.subLanguage.length?b.subLanguage:void 0);return b.relevance>0&&(M+=n.relevance),e&&(_[b.subLanguage]=n.top),s(n.language,n.value,!1,!0)}():function(){var e,n,t,r;if(!b.keywords)return u(w);for(r="",n=0,b.lexemesRe.lastIndex=0,t=b.lexemesRe.exec(w);t;)r+=u(w.substring(n,t.index)),(e=i(b,t))?(M+=e[1],r+=s(e[0],u(t[0]))):r+=u(t[0]),n=b.lexemesRe.lastIndex,t=b.lexemesRe.exec(w);return r+u(w.substr(n))}(),w=""}function g(e){R+=e.className?s(e.className,"",!0):"",b=Object.create(e,{parent:{value:b}})}function d(e,n){if(w+=e,null==n)return o(),0;var r=function(e,n){var t,r;for(t=0,r=n.contains.length;t<r;t++)if(f(n.contains[t].beginRe,e))return n.contains[t]}(n,b);if(r)return r.skip?w+=n:(r.excludeBegin&&(w+=n),o(),r.returnBegin||r.excludeBegin||(w=n)),g(r),r.returnBegin?0:n.length;var a=function e(n,t){if(f(n.endRe,t)){for(;n.endsParent&&n.parent;)n=n.parent;return n}if(n.endsWithParent)return e(n.parent,t)}(b,n);if(a){var i=b;i.skip?w+=n:(i.returnEnd||i.excludeEnd||(w+=n),o(),i.excludeEnd&&(w=n));do{b.className&&(R+=l),b.skip||b.subLanguage||(M+=b.relevance),b=b.parent}while(b!==a.parent);return a.starts&&g(a.starts),i.returnEnd?0:n.length}if(function(e,n){return!t&&f(n.illegalRe,e)}(n,b))throw new Error('Illegal lexeme "'+n+'" for mode "'+(b.className||"<unnamed>")+'"');return w+=n,n.length||1}var E=N(e);if(!E)throw new Error('Unknown language: "'+e+'"');p(E);var v,b=a||E,_={},R="";for(v=b;v!==E;v=v.parent)v.className&&(R=s(v.className,"",!0)+R);var w="",M=0;try{for(var x,O,y=0;b.terminators.lastIndex=y,x=b.terminators.exec(n);)O=d(n.substring(y,x.index),x[0]),y=x.index+O;for(d(n.substr(y)),v=b;v.parent;v=v.parent)v.className&&(R+=l);return{relevance:M,value:R,language:e,top:b}}catch(S){if(S.message&&-1!==S.message.indexOf("Illegal"))return{relevance:0,value:u(n)};throw S}}function m(e,n){n=n||c.languages||t(r);var a={relevance:0,value:u(e)},i=a;return n.filter(N).forEach(function(n){var t=h(n,e,!1);t.language=n,t.relevance>i.relevance&&(i=t),t.relevance>a.relevance&&(i=a,a=t)}),i.language&&(a.second_best=i),a}function b(e){return c.tabReplace||c.useBR?e.replace(o,function(e,n){return c.useBR&&"\n"===e?"<br>":c.tabReplace?n.replace(/\t/g,c.tabReplace):""}):e}function _(e){var t,r,i,o,l,f=function(e){var n,t,r,a,i=e.className+" ";if(i+=e.parentNode?e.parentNode.className:"",t=s.exec(i))return N(t[1])?t[1]:"no-highlight";for(n=0,r=(i=i.split(/\s+/)).length;n<r;n++)if(d(a=i[n])||N(a))return a}(e);d(f)||(c.useBR?(t=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=e.innerHTML.replace(/\n/g,"").replace(/<br[ \/]*>/g,"\n"):t=e,l=t.textContent,i=f?h(f,l,!0):m(l),(r=v(t)).length&&((o=document.createElementNS("http://www.w3.org/1999/xhtml","div")).innerHTML=i.value,i.value=function(e,t,r){var a=0,i="",s=[];function o(){return e.length&&t.length?e[0].offset!==t[0].offset?e[0].offset<t[0].offset?e:t:"start"===t[0].event?e:t:e.length?e:t}function l(e){i+="<"+g(e)+n.map.call(e.attributes,function(e){return" "+e.nodeName+'="'+u(e.value).replace('"',"&quot;")+'"'}).join("")+">"}function c(e){i+="</"+g(e)+">"}function f(e){("start"===e.event?l:c)(e.node)}for(;e.length||t.length;){var d=o();if(i+=u(r.substring(a,d[0].offset)),a=d[0].offset,d===e){s.reverse().forEach(c);do{f(d.splice(0,1)[0]),d=o()}while(d===e&&d.length&&d[0].offset===a);s.reverse().forEach(l)}else"start"===d[0].event?s.push(d[0].node):s.pop(),f(d.splice(0,1)[0])}return i+u(r.substr(a))}(r,v(o),l)),i.value=b(i.value),e.innerHTML=i.value,e.className=function(e,n,t){var r=n?a[n]:t,i=[e.trim()];return e.match(/\bhljs\b/)||i.push("hljs"),-1===e.indexOf(r)&&i.push(r),i.join(" ").trim()}(e.className,f,i.language),e.result={language:i.language,re:i.relevance},i.second_best&&(e.second_best={language:i.second_best.language,re:i.second_best.relevance}))}function R(){if(!R.called){R.called=!0;var e=document.querySelectorAll("pre code");n.forEach.call(e,_)}}function N(e){return e=(e||"").toLowerCase(),r[e]||r[a[e]]}return e.highlight=h,e.highlightAuto=m,e.fixMarkup=b,e.highlightBlock=_,e.configure=function(e){c=E(c,e)},e.initHighlighting=R,e.initHighlightingOnLoad=function(){addEventListener("DOMContentLoaded",R,!1),addEventListener("load",R,!1)},e.registerLanguage=function(n,t){var i=r[n]=t(e);i.aliases&&i.aliases.forEach(function(e){a[e]=n})},e.listLanguages=function(){return t(r)},e.getLanguage=N,e.inherit=E,e.IDENT_RE="[a-zA-Z]\\w*",e.UNDERSCORE_IDENT_RE="[a-zA-Z_]\\w*",e.NUMBER_RE="\\b\\d+(\\.\\d+)?",e.C_NUMBER_RE="(-?)(\\b0[xX][a-fA-F0-9]+|(\\b\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)",e.BINARY_NUMBER_RE="\\b(0b[01]+)",e.RE_STARTERS_RE="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|-|-=|/=|/|:|;|<<|<<=|<=|<|===|==|=|>>>=|>>=|>=|>>>|>>|>|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~",e.BACKSLASH_ESCAPE={begin:"\\\\[\\s\\S]",relevance:0},e.APOS_STRING_MODE={className:"string",begin:"'",end:"'",illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.QUOTE_STRING_MODE={className:"string",begin:'"',end:'"',illegal:"\\n",contains:[e.BACKSLASH_ESCAPE]},e.PHRASAL_WORDS_MODE={begin:/\b(a|an|the|are|I'm|isn't|don't|doesn't|won't|but|just|should|pretty|simply|enough|gonna|going|wtf|so|such|will|you|your|they|like|more)\b/},e.COMMENT=function(n,t,r){var a=e.inherit({className:"comment",begin:n,end:t,contains:[]},r||{});return a.contains.push(e.PHRASAL_WORDS_MODE),a.contains.push({className:"doctag",begin:"(?:TODO|FIXME|NOTE|BUG|XXX):",relevance:0}),a},e.C_LINE_COMMENT_MODE=e.COMMENT("//","$"),e.C_BLOCK_COMMENT_MODE=e.COMMENT("/\\*","\\*/"),e.HASH_COMMENT_MODE=e.COMMENT("#","$"),e.NUMBER_MODE={className:"number",begin:e.NUMBER_RE,relevance:0},e.C_NUMBER_MODE={className:"number",begin:e.C_NUMBER_RE,relevance:0},e.BINARY_NUMBER_MODE={className:"number",begin:e.BINARY_NUMBER_RE,relevance:0},e.CSS_NUMBER_MODE={className:"number",begin:e.NUMBER_RE+"(%|em|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc|px|deg|grad|rad|turn|s|ms|Hz|kHz|dpi|dpcm|dppx)?",relevance:0},e.REGEXP_MODE={className:"regexp",begin:/\//,end:/\/[gimuy]*/,illegal:/\n/,contains:[e.BACKSLASH_ESCAPE,{begin:/\[/,end:/\]/,relevance:0,contains:[e.BACKSLASH_ESCAPE]}]},e.TITLE_MODE={className:"title",begin:e.IDENT_RE,relevance:0},e.UNDERSCORE_TITLE_MODE={className:"title",begin:e.UNDERSCORE_IDENT_RE,relevance:0},e.METHOD_GUARD={begin:"\\.\\s*"+e.UNDERSCORE_IDENT_RE,relevance:0},e},a="object"==typeof window&&window||"object"==typeof self&&self,void 0!==n?r(n):a&&(a.hljs=r({}),"function"==typeof define&&define.amd&&define([],function(){return a.hljs})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,a){e.exports=function(e){var n={begin:/[A-Z\_\.\-]+\s*:/,returnBegin:!0,end:";",endsWithParent:!0,contains:[{className:"attribute",begin:/\S/,end:":",excludeEnd:!0,starts:{endsWithParent:!0,excludeEnd:!0,contains:[{begin:/[\w-]+\(/,returnBegin:!0,contains:[{className:"built_in",begin:/[\w-]+/},{begin:/\(/,end:/\)/,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE]}]},e.CSS_NUMBER_MODE,e.QUOTE_STRING_MODE,e.APOS_STRING_MODE,e.C_BLOCK_COMMENT_MODE,{className:"number",begin:"#[0-9A-Fa-f]+"},{className:"meta",begin:"!important"}]}}]};return{case_insensitive:!0,illegal:/[=\/|'\$]/,contains:[e.C_BLOCK_COMMENT_MODE,{className:"selector-id",begin:/#[A-Za-z0-9_-]+/},{className:"selector-class",begin:/\.[A-Za-z0-9_-]+/},{className:"selector-attr",begin:/\[/,end:/\]/,illegal:"$"},{className:"selector-pseudo",begin:/:(:)?[a-zA-Z0-9\_\-\+\(\)"'.]+/},{begin:"@(font-face|page)",lexemes:"[a-z-]+",keywords:"font-face page"},{begin:"@",end:"[{;]",illegal:/:/,contains:[{className:"keyword",begin:/\w+/},{begin:/\s/,endsWithParent:!0,excludeEnd:!0,relevance:0,contains:[e.APOS_STRING_MODE,e.QUOTE_STRING_MODE,e.CSS_NUMBER_MODE]}]},{className:"selector-tag",begin:"[a-zA-Z-][a-zA-Z0-9_-]*",relevance:0},{begin:"{",end:"}",illegal:/\S/,contains:[e.C_BLOCK_COMMENT_MODE,n]}]}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,s){e.exports=function(e){var n={endsWithParent:!0,illegal:/</,relevance:0,contains:[{className:"attr",begin:"[A-Za-z0-9\\._:-]+",relevance:0},{begin:/=\s*/,relevance:0,contains:[{className:"string",endsParent:!0,variants:[{begin:/"/,end:/"/},{begin:/'/,end:/'/},{begin:/[^\s"'=<>`]+/}]}]}]};return{aliases:["html","xhtml","rss","atom","xjb","xsd","xsl","plist"],case_insensitive:!0,contains:[{className:"meta",begin:"<!DOCTYPE",end:">",relevance:10,contains:[{begin:"\\[",end:"\\]"}]},e.COMMENT("\x3c!--","--\x3e",{relevance:10}),{begin:"<\\!\\[CDATA\\[",end:"\\]\\]>",relevance:10},{className:"meta",begin:/<\?xml/,end:/\?>/,relevance:10},{begin:/<\?(php)?/,end:/\?>/,subLanguage:"php",contains:[{begin:"/\\*",end:"\\*/",skip:!0}]},{className:"tag",begin:"<style(?=\\s|>|$)",end:">",keywords:{name:"style"},contains:[n],starts:{end:"</style>",returnEnd:!0,subLanguage:["css","xml"]}},{className:"tag",begin:"<script(?=\\s|>|$)",end:">",keywords:{name:"script"},contains:[n],starts:{end:"<\/script>",returnEnd:!0,subLanguage:["actionscript","javascript","handlebars","xml"]}},{className:"tag",begin:"</?",end:"/?>",contains:[{className:"name",begin:/[^\/><\s]+/,relevance:0},n]}]}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,i){e.exports=function(e){var n={keyword:"__COLUMN__ __FILE__ __FUNCTION__ __LINE__ as as! as? associativity break case catch class continue convenience default defer deinit didSet do dynamic dynamicType else enum extension fallthrough false fileprivate final for func get guard if import in indirect infix init inout internal is lazy left let mutating nil none nonmutating open operator optional override postfix precedence prefix private protocol Protocol public repeat required rethrows return right self Self set static struct subscript super switch throw throws true try try! try? Type typealias unowned var weak where while willSet",literal:"true false nil",built_in:"abs advance alignof alignofValue anyGenerator assert assertionFailure bridgeFromObjectiveC bridgeFromObjectiveCUnconditional bridgeToObjectiveC bridgeToObjectiveCUnconditional c contains count countElements countLeadingZeros debugPrint debugPrintln distance dropFirst dropLast dump encodeBitsAsWords enumerate equal fatalError filter find getBridgedObjectiveCType getVaList indices insertionSort isBridgedToObjectiveC isBridgedVerbatimToObjectiveC isUniquelyReferenced isUniquelyReferencedNonObjC join lazy lexicographicalCompare map max maxElement min minElement numericCast overlaps partition posix precondition preconditionFailure print println quickSort readLine reduce reflect reinterpretCast reverse roundUpToAlignment sizeof sizeofValue sort split startsWith stride strideof strideofValue swap toString transcode underestimateCount unsafeAddressOf unsafeBitCast unsafeDowncast unsafeUnwrap unsafeReflect withExtendedLifetime withObjectAtPlusZero withUnsafePointer withUnsafePointerToObject withUnsafeMutablePointer withUnsafeMutablePointers withUnsafePointer withUnsafePointers withVaList zip"},i=e.COMMENT("/\\*","\\*/",{contains:["self"]}),t={className:"subst",begin:/\\\(/,end:"\\)",keywords:n,contains:[]},a={className:"number",begin:"\\b([\\d_]+(\\.[\\deE_]+)?|0x[a-fA-F0-9_]+(\\.[a-fA-F0-9p_]+)?|0b[01_]+|0o[0-7_]+)\\b",relevance:0},r=e.inherit(e.QUOTE_STRING_MODE,{contains:[t,e.BACKSLASH_ESCAPE]});return t.contains=[a],{keywords:n,contains:[r,e.C_LINE_COMMENT_MODE,i,{className:"type",begin:"\\b[A-Z][\\w-']*",relevance:0},a,{className:"function",beginKeywords:"func",end:"{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][0-9A-Za-z$_]*/}),{begin:/</,end:/>/},{className:"params",begin:/\(/,end:/\)/,endsParent:!0,keywords:n,contains:["self",a,r,e.C_BLOCK_COMMENT_MODE,{begin:":"}],illegal:/["']/}],illegal:/\[|%/},{className:"class",beginKeywords:"struct protocol class extension enum",keywords:n,end:"\\{",excludeEnd:!0,contains:[e.inherit(e.TITLE_MODE,{begin:/[A-Za-z$_][\u00C0-\u02B80-9A-Za-z$_]*/})]},{className:"meta",begin:"(@warn_unused_result|@exported|@lazy|@noescape|@NSCopying|@NSManaged|@objc|@convention|@required|@noreturn|@IBAction|@IBDesignable|@IBInspectable|@IBOutlet|@infix|@prefix|@postfix|@autoclosure|@testable|@available|@nonobjc|@NSApplicationMain|@UIApplicationMain)"},{beginKeywords:"import",end:/$/,contains:[e.C_LINE_COMMENT_MODE,i]}]}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(g,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=e(1226                               ),l=e(1227                              ),h=e(1228                              ),n=e(1229                                );e(1230                           ),i.registerLanguage("css",l),i.registerLanguage("xml",h),i.registerLanguage("swift",n),t.highlightSyntax=function(g,t){return i.highlight(g,t||"").value},g.exports instanceof Function&&(g.exports.default=g.exports)}),
(function(c,o,s){c.exports={colorSwatch:"css_code_panel--colorSwatch--FAtW6",cssLine:"css_code_panel--cssLine--3U0SJ"},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),a=n(1232                  ),r=n(129                               ),s=n(542                   );var c;!function(e){e[e.NUMERIC=0]="NUMERIC",e[e.PUNCTUATION_OR_WHITESPACE=1]="PUNCTUATION_OR_WHITESPACE",e[e.KEYWORD=2]="KEYWORD",e[e.FUNCTION_NAME=3]="FUNCTION_NAME"}(c=t.CSSValueTokenType||(t.CSSValueTokenType={}));const l=/[#\-0-9.]/,i=/[ ,\(\)]/,m={punctuation:"",comment:"hljs-comment",declNumeric:"hljs-number",declFunction:"hljs-keyword",declKeyword:"hljs-string",declName:"hljs-attribute"};function p(e){let t=0;const n=e.length,o=[];for(;t<n;){let a=e[t++],r=a,s=c.PUNCTUATION_OR_WHITESPACE;if(l.exec(a))for(s=c.NUMERIC;t<n&&!i.exec(e[t]);)r+=e[t++];else if(i.exec(a))for(s=c.PUNCTUATION_OR_WHITESPACE;t<n&&i.exec(e[t]);)r+=e[t++];else{for(;t<n&&!i.exec(e[t]);)r+=e[t++];s=t<n&&"("===e[t]?c.FUNCTION_NAME:c.KEYWORD}o.push({type:s,text:r})}return o}t.tokenizeCSSValue=p;class u extends o.PureComponent{render(){return o.createElement("span",{className:a.colorSwatch,style:{background:this.props.background}})}}function C(e){2===e.detail&&(!function(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}(e.currentTarget),e.stopPropagation())}u.displayName="FillSwatch";class d extends o.PureComponent{render(){return o.createElement("div",{style:{whiteSpace:"pre"}},"\n")}}d.displayName="Separator";class E extends o.PureComponent{render(){return o.createElement("span",{className:m.comment,onMouseDown:C},"/* ",o.createElement("span",{onMouseDown:C},this.props.text)," */")}}E.displayName="CSSComment",t.CSSComment=E;class N extends o.PureComponent{render(){const{name:e,value:t}=this.props,n=p(t);let r="";return"color"!==e&&"background"!==e||-1!==t.indexOf("url(")||-1!==t.indexOf("var(")||(r=o.createElement(u,{background:t})),o.createElement("div",{className:a.cssLine,onMouseDown:C},o.createElement("span",{className:m.declName},this.props.name),o.createElement("span",{className:m.punctuation},": "),o.createElement("span",{onMouseDown:C},n.map((e,t)=>o.createElement("span",{key:t,className:function(e){switch(e){case c.NUMERIC:return m.declNumeric;case c.PUNCTUATION_OR_WHITESPACE:return m.punctuation;case c.FUNCTION_NAME:return m.declFunction;case c.KEYWORD:return m.declKeyword}return null}(e.type)},e.text))),o.createElement("span",{className:m.punctuation},";"),r)}}N.displayName="CSSDeclaration",t.CSSDeclaration=N;const S=new s.ColorCSSFormatter,T=new s.ColorHexFormatter;class f{constructor(){this.lastPaints=[],this.colorToName=Object.create(null)}setTeamPaints(e){if(this.lastPaints!==e){this.lastPaints=e,this.colorToName=Object.create(null);for(let t of e){if("SOLID"!==t.paint.type)continue;if(null==t.name||0===t.name.length)continue;const e=t.paint.color;e.a<1?this.colorToName[S.format(e)]=t.name:(this.colorToName[S.format(e)]=t.name,this.colorToName[T.format(e)]=t.name)}}}expandCSSLines(e){const t=[];for(let n of e)if(t.push(n),n[0]===r.CSSExportLineType.DECLARATION){const e=n[1],o=n[2];if(f.COLOR_RE.exec(o)){let n=!1;const a=o.replace(f.COLOR_RE,e=>this.colorToName[e]?(n=!0,`var(--${this.colorToName[e]})`):e);n&&t.push([r.CSSExportLineType.DECLARATION,e,a])}}return t}}f.COLOR_RE=/(#[0-F]{6}|rgba\(([\d.]+)\s*,\s*([\d.]+)\s*,\s*([\d.]+)\s*,?\s*([\d.]*)\))/g,t.TeamColorExpander=f;class O extends o.PureComponent{constructor(){super(...arguments),this.teamColorExpander=new f}render(){let e=0,t=0;const n=Object.create(null);this.teamColorExpander.setTeamPaints(this.props.teamPaints);const a=this.teamColorExpander.expandCSSLines(this.props.css);return o.createElement("div",null,a.map(a=>{if(a[0]===r.CSSExportLineType.EMPTY_LINE)return o.createElement(d,{key:`sep-${t++}`});if(a[0]===r.CSSExportLineType.COMMENT){const t=a[1];return o.createElement(E,{key:`comment-${e++}`,text:t})}if(a[0]===r.CSSExportLineType.DECLARATION){const e=a[1],t=a[2];let r=`decl-${e}`;for(let o=2;n[r];o++)r=`decl-${e}${o}`;return n[r]=!0,o.createElement(N,{key:r,name:e,value:t})}}))}}O.displayName="CSSCodeContent",t.CSSCodeContent=O,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,f){t.exports={id:"gcf019b24",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M6 7h10v1H6V7zm0 4h12v1H6v-1zm0 4h8v1H6v-1z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g4be19da3",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M6.464 12.242l3.89-3.889-.708-.707-4.242 4.243-.354.353.354.354 4.242 4.242.707-.707-3.889-3.889zm7.89-4.596l4.242 4.243.354.353-.354.354-4.243 4.242-.707-.707 3.89-3.889-3.89-3.889.707-.707z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(34,1   ),n=i(282                             ),r=i(374                            );class s extends l.PureComponent{render(){let e;if(this.props.inheritStyleName&&n.notMixed(this.props.inheritStyleName)&&(e=n.getValue(this.props.inheritStyleName)),!e)return null;const t=r.inheritStyleKeyFieldToStyleHeader(this.props.inheritStyleKeyField);return l.createElement("div",null,`${t}: ${e}`)}}s.displayName="CodePanelStyleSection",t.CodePanelStyleSection=s,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,o){e.exports={swatch:"code_inspection_panels--swatch--21H0w",inspectionPanel:"code_inspection_panels--inspectionPanel--2Y290",inspectorRow:"code_inspection_panels--inspectorRow--f19we",inspectionGroup:"code_inspection_panels--inspectionGroup--2d58T",formattingControls:"code_inspection_panels--formattingControls--UvWgy",platformSelect:"code_inspection_panels--platformSelect--P8CZJ",paintInspector:"code_inspection_panels--paintInspector--3MSq5",generatedCode:"code_inspection_panels--generatedCode--VeYUe",exportPanel:"code_inspection_panels--exportPanel--2nYrK"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34,1   ),a=r(141     ),o=r(282                             ),s=r(1211                                                                                         ),l=r(129                               ),c=r(542                   ),p=r(1237                          );class i extends n.PureComponent{onMouseDown(e){if(2===e.detail){const t=window.getSelection(),r=document.createRange();r.selectNodeContents(e.currentTarget),t.removeAllRanges(),t.addRange(r),e.stopPropagation()}}render(){return n.createElement("span",{onMouseDown:this.onMouseDown},this.props.children)}}i.displayName="TextSelectionGroup",t.TextSelectionGroup=i;class m extends n.PureComponent{render(){return n.createElement("div",{className:p.inspectionGroup},this.props.children)}}m.displayName="InspectionGroup",t.InspectionGroup=m;class d extends n.PureComponent{render(){return n.createElement("div",{className:p.inspectorRow},this.props.name?`${this.props.name}: `:"",this.props.children)}}d.displayName="PropertyInspector";class u extends n.PureComponent{format(e){return e}formatMixed(e){return"(mixed)"}render(){return n.createElement(d,{name:this.props.name},o.notMixed(this.props.value)?this.format(this.props.value):this.formatMixed(this.props.value))}}u.displayName="SelectionPropertyInspector";class f extends n.PureComponent{format(e,t){return e}formatMixed(e,t){return"(mixed)"}render(){return n.createElement(d,{name:this.props.name},o.notMixed(this.props.value)?this.format(this.props.value,this.props.target):this.formatMixed(this.props.value,this.props.target))}}f.displayName="TargetDependentSelectionPropertyInspector";const h=e=>parseFloat((null==e?0:e).toFixed(2)).toString(),g=e=>{const t=h(e);return-1===t.indexOf(".")?t+".0":t},E=(e,t)=>{switch(t){case l.HandoffPlatformTarget.CSS:return n.createElement(i,null,`${h(e)}px`);case l.HandoffPlatformTarget.ANDROID:return n.createElement(i,null,`${h(e)}dp`);case l.HandoffPlatformTarget.IOS:return n.createElement("span",null,n.createElement(i,null,`${h(e)}`)," pt")}},I=e=>`${h(e)}%`;t.PixelInspector=class extends f{format(e,t){return E(e,t)}};t.TypographicSizeInspector=class extends f{format(e,t){switch(t){case l.HandoffPlatformTarget.ANDROID:return n.createElement(i,null,`${h(e)}sp`);default:return E(e,t)}}};class N extends u{format(e){return I(e)}}t.PercentageInspector=N;t.PixelOrPercentageInspector=class extends f{format(e,t){return"PIXELS"===(e=e||{units:"PERCENT",value:0}).units?E(e.value,t):I(e.value)}};const x=new c.AngleFormatter;t.AngleInspector=class extends u{format(e){return x.format(e)}};t.FontFamilyInspector=class extends u{};t.FontStyleInspector=class extends u{};const w=new c.TitleCaseFormatter;class S extends u{format(e){return w.format(e)}}t.TextAlignHorizontalInspector=S,t.TextAlignVerticalInspector=S,t.BlendModeInspector=S,t.StrokeAlignInspector=S,t.StrokeJoinInspector=S,t.FontVariantNumericFigureInspector=S,t.FontVariantNumericSpacingInspector=S;t.OverflowDirectionInspector=class extends u{format(e){return s.ScrollDirectionDropdown.directionFormatter.format(e)}};const P=new c.ColorCSSFormatter,R=new c.ColorHexFormatter;class v extends n.PureComponent{render(){const{color:e,target:t}=this.props;switch(t){case l.HandoffPlatformTarget.CSS:return n.createElement(i,null,(e.a<1?P:R).format(e));case l.HandoffPlatformTarget.ANDROID:return n.createElement(i,null,R.formatForAndroid(e));case l.HandoffPlatformTarget.IOS:{const t=g(e.r),r=g(e.g),a=g(e.b),o=g(e.a);return n.createElement("span",null,"rgba ",n.createElement(i,null,`${t}, ${r}, ${a}, ${o}`))}}}}v.displayName="PlatformFormattedColor";class A extends n.PureComponent{render(){const{target:e,stop:t}=this.props;switch(e){case l.HandoffPlatformTarget.CSS:return n.createElement("div",{className:p.inspectorRow},n.createElement(v,{color:t.color,target:e})," @ ",n.createElement(i,null,I(100*t.position)));case l.HandoffPlatformTarget.ANDROID:case l.HandoffPlatformTarget.IOS:return n.createElement("div",{className:p.inspectorRow},n.createElement(v,{color:t.color,target:e})," @ ",n.createElement(i,null,g(t.position)))}}}A.displayName="SelectableColorStop";class M extends n.PureComponent{render(){let e=P.format(this.props.color);return n.createElement("span",{className:p.swatch,style:{background:e}})}}M.displayName="ColorSwatch";class y extends n.PureComponent{render(){let e="linear-gradient(180deg, "+this.props.stops.map(e=>P.format(e.color)).join(", ")+")";return n.createElement("span",{className:p.swatch,style:{background:e}})}}y.displayName="GradientSwatch";class D extends n.Component{render(){const e=this.props.colorNameMap&&this.props.colorNameMap[P.format(this.props.value)];return n.createElement("div",{className:p.paintInspector},n.createElement(M,{color:this.props.value}),n.createElement("div",{className:p.inspectorRow},e&&`${e} (`,n.createElement(v,{color:this.props.value,target:this.props.target}),e&&")"))}}D.displayName="ColorInspector",t.ColorInspector=D;const C=new c.PaintTypeFormatter,O=new c.ImageScaleModeFormatter;class T extends n.PureComponent{downloadLinkFor(e){let t="";e.image&&e.image.hash&&(t=Array.from(e.image.hash).map(e=>(e<16?"0":"")+e.toString(16)).join(""));const r=`${e.image.name}.png`,o=`/file/${this.props.editingFileKey}/image/${t}`;return t?a.chrome?n.createElement("a",{href:o,download:!0,target:"_blank",rel:"noopener"},r):n.createElement("a",{href:o,target:"_blank",rel:"noopener"},r):r}render(){const{paint:e,name:r}=this.props;switch(e.type){case"SOLID":{const a=Object.assign({},e.color,{a:e.color.a*e.opacity});return n.createElement("div",null,n.createElement(d,{name:r},"Solid"),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(t.BlendModeInspector,{name:"Blend",value:e.blendMode}),this.props.children,n.createElement(D,{value:a,target:this.props.target,colorNameMap:this.props.colorNameMap}))}case"GRADIENT_LINEAR":case"GRADIENT_RADIAL":case"GRADIENT_ANGULAR":case"GRADIENT_DIAMOND":return n.createElement("div",null,n.createElement(d,{name:r},C.format(e.type)," Gradient"),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(t.BlendModeInspector,{name:"Blend",value:e.blendMode}),this.props.children,n.createElement("div",{className:p.paintInspector},n.createElement(y,{stops:e.stops}),n.createElement("div",null,e.stops.map((e,t)=>n.createElement(A,{key:t,stop:e,target:this.props.target})))));case"IMAGE":return n.createElement("div",null,n.createElement(d,{name:r},"Image"),n.createElement(d,{name:"File Name"},this.downloadLinkFor(e)),e.blendMode&&"NORMAL"!==e.blendMode&&n.createElement(t.BlendModeInspector,{name:"Blend",value:e.blendMode}),n.createElement(d,{name:"Scale Mode"},O.format(e.imageScaleMode)),e.opacity<1&&n.createElement(N,{name:"Opacity",value:100*e.opacity}),this.props.children)}}}T.displayName="PaintInspector",t.PaintInspector=T;t.StrokeCapInspector=class extends u{format(e){switch(e){case"NONE":return"None";case"ROUND":return"Round";case"SQUARE":return"Square";case"ARROW_LINES":return"Line Arrow";case"ARROW_EQUILATERAL":return"Triangle Arrow"}}};const F=new c.DashFormatter;t.DashPatternInspector=class extends u{format(e){return F.format(e)}};t.EffectTypeInspector=class extends u{format(e){switch(e){case"INNER_SHADOW":return"Inner Shadow";case"DROP_SHADOW":return"Drop Shadow";case"FOREGROUND_BLUR":return"Layer Blur";case"BACKGROUND_BLUR":return"Background Blur"}}};t.VectorInspector=class extends f{format(e,t){return n.createElement("span",null,E(e.x,t),", ",E(e.y,t))}};class _ extends u{format(e){return _.formatter.format(e)}}_.formatter=new c.HorizontalConstraintFormatter,t.HorizontalConstraintInspector=_;class b extends u{format(e){return b.formatter.format(e)}}b.formatter=new c.VerticalConstraintFormatter,t.VerticalConstraintInspector=b,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34,1   ),o=r(141     ),a=r(143              ),i=r(282                             ),s=r(1426                               ),l=r(1231                  ),p=r(495          ),c=r(604                             ),m=r(341                              ),h=r(542                   ),d=r(199      ),g=r(394                          ),u=r(1233                                                      ),f=r(129                               ),y=r(477               ),P=r(748                                     ),S=r(1234                                                               ),E=r(1235                                                            ),I=r(1134                          ),C=r(1236                                  ),T=r(1238          ),N=r(1237                          ),b=r(0                    ),_=r(281                                  ),v=r(219          );class F extends n.PureComponent{constructor(){super(...arguments),this.onKeyDown=(e=>{let t=!1;if(d.isStandardShortcutKeyPressed(e)&&e.keyCode===d.Key.C?t=!0:d.isStandardShortcutKeyPressed(e)&&e.keyCode===d.Key.A?t=!0:o.mac?"Meta"===e.key&&(t=!0):"Control"===e.key&&(t=!0),t);else{const t=window.getSelection(),r=0===t.toString().length;t.removeAllRanges(),(r||e.keyCode!==d.Key.ESCAPE)&&s.fullscreen.forwardKeyboardEvent(e.nativeEvent)}})}render(){return n.createElement("div",{className:N.inspectionPanel,tabIndex:-1,onKeyDown:this.onKeyDown},this.props.children)}}F.displayName="InspectionPanel",t.InspectionPanel=F;class k extends n.PureComponent{render(){const e=this.props.target,t=i.getValue(this.props.rectangleCornerRadiiIndependent,!1),r=i.getValue(this.props.rectangleTopLeftCornerRadius,0),o=i.getValue(this.props.rectangleTopRightCornerRadius,0),a=i.getValue(this.props.rectangleBottomRightCornerRadius,0),s=i.getValue(this.props.rectangleBottomLeftCornerRadius,0),l=i.getValue(this.props.cornerRadius,0),p=i.getValue(this.props.overflowDirection,"NONE");return n.createElement(F,null,n.createElement(T.PixelInspector,{name:"X",value:this.props.x,target:e}),n.createElement(T.PixelInspector,{name:"Y",value:this.props.y,target:e}),n.createElement(T.PixelInspector,{name:"W",value:this.props.width,target:e}),n.createElement(T.PixelInspector,{name:"H",value:this.props.height,target:e}),t&&0!==r&&n.createElement(T.PixelInspector,{name:"Top Left Radius",value:this.props.rectangleTopLeftCornerRadius,target:e}),t&&0!==o&&n.createElement(T.PixelInspector,{name:"Top Right Radius",value:this.props.rectangleTopRightCornerRadius,target:e}),t&&0!==a&&n.createElement(T.PixelInspector,{name:"Bottom Right Radius",value:this.props.rectangleBottomRightCornerRadius,target:e}),t&&0!==s&&n.createElement(T.PixelInspector,{name:"Bottom Left Radius",value:this.props.rectangleBottomLeftCornerRadius,target:e}),!t&&0!==l&&n.createElement(T.PixelInspector,{name:"Corner Radius",value:this.props.cornerRadius,target:e}),0!==i.getValue(this.props.angle,0)&&n.createElement(T.AngleInspector,{name:"Rotation",value:this.props.angle}),"NONE"!==p&&n.createElement(T.OverflowDirectionInspector,{name:"Overflow",value:p}))}}k.displayName="TransformInspectionPanel",t.TransformInspectionPanel=k;class x extends n.PureComponent{render(){return n.createElement(F,null,n.createElement(T.HorizontalConstraintInspector,{name:"X Constraint",value:this.props.horizontalConstraint}),n.createElement(T.VerticalConstraintInspector,{name:"Y Constraint",value:this.props.verticalConstraint}))}}x.displayName="ConstraintInspectionPanel",t.ConstraintInspectionPanel=x;class K extends n.PureComponent{render(){const e=this.props.target,t=i.getValue(this.props.letterSpacing,{units:"PERCENT",value:0});let r=0;return b.initialOptions().feature_flags.line_height_update_code&&i.notMixed(this.props.fontSize)&&(r=Math.round(100*this.props.lineHeightPx/this.props.fontSize)),n.createElement(F,null,n.createElement(C.CodePanelStyleSection,Object.assign({inheritStyleKeyField:"inheritTextStyleKey"},this.props)),n.createElement(T.FontFamilyInspector,{name:"Font Family",value:this.props.fontFamily}),n.createElement(T.FontStyleInspector,{name:"Font Style",value:this.props.fontStyle}),n.createElement(T.TypographicSizeInspector,{name:"Font Size",value:this.props.fontSize,target:e}),n.createElement(T.TypographicSizeInspector,{name:"Line Height",value:this.props.lineHeightPx,target:e}),0!==r&&n.createElement(T.PercentageInspector,{name:"Line Height",value:r}),n.createElement(T.TextAlignHorizontalInspector,{name:"Align",value:this.props.textAlignHorizontal}),n.createElement(T.TextAlignVerticalInspector,{name:"Vertical Align",value:this.props.textAlignVertical}),t&&0!==t.value&&n.createElement(T.PixelOrPercentageInspector,{name:"Letter Spacing",value:t,target:e}),0!==i.getValue(this.props.paragraphSpacing,0)&&n.createElement(T.TypographicSizeInspector,{name:"Paragraph Spacing",value:this.props.paragraphSpacing,target:e}),0!==i.getValue(this.props.paragraphIndent,0)&&n.createElement(T.TypographicSizeInspector,{name:"Paragraph Indent",value:this.props.paragraphIndent,target:e}),"NORMAL"!==i.getValue(this.props.fontVariantNumericFigure)&&n.createElement(T.FontVariantNumericFigureInspector,{name:"Number Case",value:this.props.fontVariantNumericFigure}),"NORMAL"!==i.getValue(this.props.fontVariantNumericSpacing)&&n.createElement(T.FontVariantNumericSpacingInspector,{name:"Number Spacing",value:this.props.fontVariantNumericSpacing}))}}K.displayName="TypeInspectionPanel",t.TypeInspectionPanel=K;class R extends n.PureComponent{constructor(){super(...arguments),this.paintIsVisible=(e=>e.visible&&e.opacity>0)}render(){const e=i.getValue(this.props.fillPaints,[]).filter(this.paintIsVisible);return 0===e.length?null:(e.reverse(),n.createElement(F,null,n.createElement(C.CodePanelStyleSection,Object.assign({inheritStyleKeyField:"inheritFillStyleKey"},this.props)),e.map((e,t)=>n.createElement(T.InspectionGroup,{key:t},n.createElement(T.PaintInspector,{name:"Fill",paint:e,target:this.props.target,editingFileKey:this.props.fileKey,colorNameMap:this.props.colorNameMap})))))}}R.displayName="FillInspectionPanel",t.FillInspectionPanel=R;class M extends n.PureComponent{constructor(){super(...arguments),this.paintIsVisible=(e=>e.visible&&e.opacity>0)}render(){const e=i.getValue(this.props.strokePaints,[]).filter(this.paintIsVisible);return 0===e.length?null:(e.reverse(),n.createElement(F,null,n.createElement(C.CodePanelStyleSection,Object.assign({inheritStyleKeyField:"inheritFillStyleKeyForStroke"},this.props)),e.map((e,t)=>n.createElement(T.InspectionGroup,{key:t},n.createElement(T.PaintInspector,{name:"Stroke",paint:e,editingFileKey:this.props.editingFileKey,target:this.props.target,colorNameMap:this.props.colorNameMap}))),n.createElement(T.InspectionGroup,null,n.createElement(T.StrokeAlignInspector,{name:"Align",value:this.props.strokeAlign}),n.createElement(T.PixelInspector,{name:"Width",value:this.props.strokeWeight,target:this.props.target}),"MITER"!==i.getValue(this.props.strokeJoin,"MITER")&&n.createElement(T.StrokeJoinInspector,{name:"Join",value:this.props.strokeJoin}),"NONE"!==i.getValue(this.props.strokeCap,"NONE")&&n.createElement(T.StrokeCapInspector,{name:"Cap",value:this.props.strokeCap}),i.getValue(this.props.dashPattern,[]).length>0&&n.createElement(T.DashPatternInspector,{name:"Dash Pattern",value:this.props.dashPattern}))))}}M.displayName="StrokeInspectionPanel",t.StrokeInspectionPanel=M;class V extends n.PureComponent{constructor(){super(...arguments),this.paintIsVisible=(e=>e.visible&&e.opacity>0)}render(){const e=i.getValue(this.props.backgroundPaints,null);if(null===e){if(!i.getValue(this.props.backgroundEnabled,!1))return null;if(i.getValue(this.props.exportBackgroundDisabled,!1))return null;if(0===i.getValue(this.props.backgroundOpacity,0))return null;if(i.notMixed(this.props.backgroundColor)&&i.notMixed(this.props.backgroundOpacity)){const e=Object.assign({},this.props.backgroundColor,{a:this.props.backgroundOpacity});return n.createElement(F,null,"Background",n.createElement(T.ColorInspector,{value:e,target:this.props.target,colorNameMap:this.props.colorNameMap}))}return null}{const t=e.filter(this.paintIsVisible);return 0===t.length?null:(t.reverse(),n.createElement(F,null,n.createElement(C.CodePanelStyleSection,Object.assign({inheritStyleKeyField:"inheritFillStyleKeyForBackground"},this.props)),t.map((e,t)=>n.createElement(T.InspectionGroup,{key:t},n.createElement(T.PaintInspector,{name:"Fill",paint:e,target:this.props.target,editingFileKey:this.props.fileKey,colorNameMap:this.props.colorNameMap})))))}}}V.displayName="BackgroundInspectionPanel",t.BackgroundInspectionPanel=V;class O extends n.PureComponent{constructor(){super(...arguments),this.effectIsVisible=(e=>e.visible)}render(){const e=i.getValue(this.props.effects,[]).filter(this.effectIsVisible);return 0===e.length?null:n.createElement(F,null,n.createElement(C.CodePanelStyleSection,Object.assign({inheritStyleKeyField:"inheritEffectStyleKey"},this.props)),e.map((e,t)=>{const r="INNER_SHADOW"===e.type||"DROP_SHADOW"===e.type;return n.createElement(T.InspectionGroup,{key:t},n.createElement(T.EffectTypeInspector,{name:"Effect",value:e.type}),e.blendMode&&"NORMAL"!==e.blendMode&&r&&n.createElement(T.BlendModeInspector,{name:"Blend",value:e.blendMode}),e.radius&&n.createElement(T.PixelInspector,{name:"Radius",value:e.radius,target:this.props.target}),e.offset&&r&&n.createElement(T.VectorInspector,{name:"Offset",value:e.offset,target:this.props.target}),e.color&&r&&n.createElement(T.ColorInspector,{value:e.color,target:this.props.target}))}))}}O.displayName="EffectsInspectionPanel",t.EffectsInspectionPanel=O;class A extends n.PureComponent{render(){return"PASS_THROUGH"===i.getValue(this.props.blendMode,null)&&1===i.getValue(this.props.opacity,null)?null:n.createElement(F,null,n.createElement(T.PercentageInspector,{name:"Opacity",value:100*i.getValue(this.props.opacity,1)}),n.createElement(T.BlendModeInspector,{name:"Blend",value:this.props.blendMode}))}}A.displayName="LayerInspectionPanel",t.LayerInspectionPanel=A;class w extends y.Select{}class B extends y.Option{}const L={format(e){switch(e){case f.HandoffPlatformTarget.CSS:return"CSS";case f.HandoffPlatformTarget.ANDROID:return"Android";case f.HandoffPlatformTarget.IOS:return"iOS"}}};class H extends P.SegmentedControl{}class D extends P.Segment{}class z extends n.PureComponent{constructor(){super(...arguments),this.handlePlatformTargetChange=(e=>{v.segmentTrackEvent("set_handoff_platform_target",{value:L.format(e)}),m.setHandoffPlatformTarget(e)})}render(){return n.createElement("div",{className:N.formattingControls},n.createElement(w,{id:"platform-target",className:N.platformSelect,property:this.props.platformTarget,onChange:this.handlePlatformTargetChange,formatter:L,dispatch:this.props.dispatch,neverConstrain:!0,dropdownShown:this.props.dropdownShown,recordingKey:a.joinKeys(this.props,"platform")},n.createElement(B,{value:f.HandoffPlatformTarget.CSS,recordingKey:a.joinKeys(this.props,"platform","CSS")}),n.createElement(B,{value:f.HandoffPlatformTarget.IOS,recordingKey:a.joinKeys(this.props,"platform","IOS")}),n.createElement(B,{value:f.HandoffPlatformTarget.ANDROID,recordingKey:a.joinKeys(this.props,"platform","ANDROID")})),n.createElement(H,{property:this.props.outputFormat,onChange:m.setHandoffOutputFormat,recordingKey:a.joinKeys(this.props,"outputFormat")},n.createElement(D,{value:f.HandoffOutputFormat.CODE,svg:E,recordingKey:a.joinKeys(this.props,"outputFormat","CODE"),tooltip:"Code"}),n.createElement(D,{value:f.HandoffOutputFormat.TABULAR,svg:S,recordingKey:a.joinKeys(this.props,"outputFormat","TABULAR"),tooltip:"Table"})))}}z.displayName="FormattingControls",t.FormattingControls=z;class j extends n.PureComponent{constructor(){super(...arguments),this.selectionProperties=(()=>this.props.mirror.selectedStyleProperties&&this.props.mirror.selectedStyleProperties.guid?this.props.mirror.selectedStyleProperties:this.props.mirror.selectionProperties),this._transformInspectionPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(k,{key:"transform-inspection",target:this.props.mirror.appModel.handoffPlatformTarget,x:e.x,y:e.y,width:e.width,height:e.height,rectangleCornerRadiiIndependent:e.rectangleCornerRadiiIndependent,rectangleTopLeftCornerRadius:e.rectangleTopLeftCornerRadius,rectangleTopRightCornerRadius:e.rectangleTopRightCornerRadius,rectangleBottomRightCornerRadius:e.rectangleBottomRightCornerRadius,rectangleBottomLeftCornerRadius:e.rectangleBottomLeftCornerRadius,cornerRadius:e.cornerRadius,angle:e.angle,overflowDirection:e.scrollDirection})}),this._constraintInspectionPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(x,{key:"constraint-inspection",horizontalConstraint:e.horizontalConstraint,verticalConstraint:e.verticalConstraint})}),this._typeInspectionPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(K,{key:"type-inspection",target:this.props.mirror.appModel.handoffPlatformTarget,fonts:this.props.fonts,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontVariantDiscretionaryLigatures:e.fontVariantDiscretionaryLigatures,fontVariantHistoricalLigatures:e.fontVariantHistoricalLigatures,fontVariantNumericFigure:e.fontVariantNumericFigure,fontVariantNumericSpacing:e.fontVariantNumericSpacing,fontVariantNumericFraction:e.fontVariantNumericFraction,fontVariantCaps:e.fontVariantCaps,fontVariantPosition:e.fontVariantPosition,fontSize:e.fontSize,lineHeightPx:e.lineHeightPx,letterSpacing:e.letterSpacing,paragraphSpacing:e.paragraphSpacing,paragraphIndent:e.paragraphIndent,textAlignHorizontal:e.textAlignHorizontal,textAlignVertical:e.textAlignVertical,textCase:e.textCase,textDecoration:e.textDecoration,textAutoResize:e.textAutoResize,inheritStyleName:e.inheritTextStyleName,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,library:this.props.library})}),this._layerInspectorPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(A,{key:"layer-inspection",blendMode:e.blendMode,opacity:e.opacity})}),this._fillInspectorPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(R,{key:"fill-inspection",target:this.props.mirror.appModel.handoffPlatformTarget,fillPaints:e.fillPaints,colorNameMap:this.getTeamColorToColorNameMap(),inheritStyleName:e.inheritFillStyleName,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,library:this.props.library})}),this._strokeInspectionPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(M,{key:"stroke-inspection",target:this.props.mirror.appModel.handoffPlatformTarget,strokePaints:e.strokePaints,strokeAlign:e.strokeAlign,strokeWeight:e.strokeWeight,strokeJoin:e.strokeJoin,strokeCap:e.strokeCap,miterLimitAngle:e.miterLimitAngle,dashPattern:e.dashPattern,editingFileKey:this.props.editingFileKey,colorNameMap:this.getTeamColorToColorNameMap(),inheritStyleName:e.inheritFillStyleNameForStroke,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,library:this.props.library})}),this._backgroundInspectorPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(V,{key:"background-inspection",target:this.props.mirror.appModel.handoffPlatformTarget,backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,colorNameMap:this.getTeamColorToColorNameMap(),backgroundPaints:e.backgroundPaints,inheritStyleName:e.inheritFillStyleNameForBackground,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams})}),this._effectInspectorPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties();return n.createElement(O,{key:"effects-inspection",target:this.props.mirror.appModel.handoffPlatformTarget,effects:e.effects,inheritStyleName:e.inheritEffectStyleName,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,library:this.props.library})}),this._exportPanel=new g.CachedSubtree(()=>{const e=this.selectionProperties(),t=this.props.fileByKey[this.props.editingFileKey],r=_.currentCanvasNodeId(this.props.mirror.appModel);return n.createElement("div",{className:N.exportPanel},n.createElement(I.ExportPanel,{key:"export",fileName:t.name,fileKey:t.key,singleNodeName:I.ExportPanel.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.mirror.sceneGraphSelection,currentPage:r,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportPanel"}))}),this.getTeamPaints=p.memoizeLast((e,t,r,n)=>{let o=[];if(!(e&&t&&r&&n))return o;if(!t[e])return o;const a=t[e].team_id;for(let i in r){const e=r[i];if(e.team_id===a){const t=n[e.id];if(t)return t.paints}}return o}),this.colorCSSFormatter=new h.ColorCSSFormatter,this.colorToColorName=p.memoizeLast(e=>{const t=Object.create(null);for(let r of e)"SOLID"===r.paint.type&&null!=r.name&&0!==r.name.length&&(t[this.colorCSSFormatter.format(r.paint.color)]=r.name);return t}),this.getTeamColorToColorNameMap=(()=>{const e=this.getTeamPaints(this.props.editingFileKey,this.props.fileByKey,this.props.styleFiles,this.props.styleSets);return this.colorToColorName(e)})}renderGeneratedCode(){switch(this.props.mirror.appModel.handoffPlatformTarget){case f.HandoffPlatformTarget.CSS:return n.createElement(F,null,n.createElement(u.CSSCodeContent,{teamPaints:this.getTeamPaints(this.props.editingFileKey,this.props.fileByKey,this.props.styleFiles,this.props.styleSets),css:this.props.mirror.selectionProperties.generatedCSS}));case f.HandoffPlatformTarget.IOS:{const e=this.props.mirror.selectionProperties.generatedIOSSwift,t=l.highlightSyntax("swift",e).split("\n").map(e=>e?`<p>${e}</p>`:"\n").join("");return n.createElement(F,null,n.createElement("pre",{className:N.generatedCode},n.createElement("code",{dangerouslySetInnerHTML:{__html:t}})))}case f.HandoffPlatformTarget.ANDROID:{const e=this.props.mirror.selectionProperties.generatedAndroidXML,t=l.highlightSyntax("xml",e);return n.createElement(F,null,n.createElement("pre",{className:N.generatedCode},n.createElement("code",{dangerouslySetInnerHTML:{__html:t}})))}}}UNSAFE_componentWillUpdate(e){if(this.props.mirror.sceneGraphSelection!==e.mirror.sceneGraphSelection){const e=window.getSelection();let t=e.focusNode;for(;t;){if(t===this.rootNode){e.removeAllRanges();break}t=t.parentNode}}}render(){const e=this.props.shownPanels,t=this.props.shownTransformControls;return n.createElement("div",{ref:e=>this.rootNode=e},n.createElement(z,{platformTarget:this.props.mirror.appModel.handoffPlatformTarget,outputFormat:this.props.mirror.appModel.handoffOutputFormat,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:a.joinKeys(this.props,"formatting")}),this.props.mirror.appModel.handoffOutputFormat===f.HandoffOutputFormat.TABULAR&&n.createElement("div",null,this._transformInspectionPanel.render(e[f.PropertiesPanelType.TRANSFORM_ITEM]),this._constraintInspectionPanel.render(e[f.PropertiesPanelType.CONSTRAINTS_ITEM]),this._typeInspectionPanel.render(e[f.PropertiesPanelType.TYPE_ITEM]),this._layerInspectorPanel.render(e[f.PropertiesPanelType.LAYER_ITEM]),this._fillInspectorPanel.render(e[f.PropertiesPanelType.FILL_ITEM]),this._strokeInspectionPanel.render(e[f.PropertiesPanelType.STROKE_ITEM]),this._backgroundInspectorPanel.render(e[f.PropertiesPanelType.CANVAS_ITEM]||e[f.PropertiesPanelType.TRANSFORM_ITEM]&&!!(t&1<<f.TransformPanelControl.FRAME_OPTIONS)),this._effectInspectorPanel.render(e[f.PropertiesPanelType.EFFECTS_ITEM])),this.props.mirror.appModel.handoffOutputFormat===f.HandoffOutputFormat.CODE&&this.renderGeneratedCode(),this._exportPanel.render(e[this.props.mirror.appModel.topLevelMode===c.TopLevelMode.PREVIEW&&f.PropertiesPanelType.EXPORT_ITEM]))}}j.displayName="InspectionPanels",t.InspectionPanels=j,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,p){e.exports={panelContainer:"properties_panel--panelContainer--p2KwC",editStylePanelContainerClass:"properties_panel--editStylePanelContainerClass--VEj6f properties_panel--panelContainer--p2KwC",drillDownContainer:"properties_panel--drillDownContainer--2FZAx",drillDownContainerEditingStyle:"properties_panel--drillDownContainerEditingStyle--1Aa5l properties_panel--drillDownContainer--2FZAx",externalStyleLink:"properties_panel--externalStyleLink--1kK0R",propertiesPanel:"properties_panel--propertiesPanel--3PCth",tabsHeader:"properties_panel--tabsHeader--YEflB pages_panel--tabsHeader--p4Khp",tabsHeaderBordered:"properties_panel--tabsHeaderBordered--JO2Q6 properties_panel--tabsHeader--YEflB pages_panel--tabsHeader--p4Khp",tab:"properties_panel--tab--1g-EF pages_panel--tab--3s1Y5",tabActive:"properties_panel--tabActive--3ATzZ pages_panel--tabActive--JOVKa pages_panel--tab--3s1Y5",border:"properties_panel--border--1XEFS"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(34,1   ),s=t(232                        ),i=t(143              ),n=t(1430                                             ),p=t(287       ),a=t(199      ),l=t(177                             ),c=t(129                               ),d=t(370              ),h=t(604                             ),y=t(282                             ),m=t(173                        ),P=t(1471                    ),u=t(281                                  ),S=t(129                               ),g=t(1426                               ),b=t(341                              ),T=t(500                                     ),f=t(394                          ),w=t(374                            ),E=t(1103                       ),_=t(1117                                 ),C=t(1121                                   ),M=t(1126                           ),k=t(1134                         ),F=t(1139                             ),K=t(1115                         ),I=t(1142                           ),N=t(1145                               ),A=t(540                        ),v=t(1147                       ),R=t(1149                     ),D=t(1174                               ),x=t(1275                     ),G=t(1218                               ),B=t(1222                              ),L=t(1225                               ),O=t(391                              ),V=t(1239                                             ),H=t(376                                                  ),z=t(212                                  ),U=t(517                                        ),Y=t(204                                            ),j=t(208                   ),W=t(1240                    ),$=t(385                                        ),X=t(712                                        ),J=d.pxToInt($.rightNavWidth__REFRESH),q=d.pxToInt($.dropdownOverflowPadding);class Q extends i.PureComponent{constructor(){super(...arguments),this.onMouseDown=i.mouseEvent(this,"mousedown",()=>{b.setPropertiesPanelTab(this.props.tab)})}render(){return o.createElement("div",{className:this.props.className,onMouseDown:this.onMouseDown,"data-label":this.props.label},this.props.label)}}Q.displayName="PropertiesTab";class Z extends i.PureComponent{constructor(){super(...arguments),this.onMouseDown=(()=>{g.fullscreen.deselectProperty(),this.props.dispatch(s.fullscreen.hidePicker())}),this.onMoveStyle=(e=>{this.props.dispatch(n.moveSharedStyles({styles:[e]}))}),this.onContextMenu=(e=>{const r=e.target;if(r){const t=r.tagName,o=r.type;t&&"INPUT"===t.toUpperCase()&&o&&"TEXT"===o.toUpperCase()||e.preventDefault()}}),this._stylePreviewThumbnail=new f.CachedSubtree(()=>{const e=w.getExternalStyle(this.props.library.published.styles,this.props.mirror.selectedStyleProperties.styleKey,this.props.editingFileKey);let r="",t="";if(e)r=e.name,t=e.description;else{const e=p.toString(this.props.mirror.selectedStyleProperties.guid),o=this.props.mirror.sceneGraph.get(e);r=o&&o.name,t=o&&o.styleDescription}const s=m.canEditFile(this.props.editingFileKey,this.props);return o.createElement(L.EditStylePreviewPanel,{selectedStyleProperties:this.props.mirror.selectedStyleProperties,styleName:r,styleDescription:t,isRenaming:this.props.library.isRenamingSelectedStyle,viewOnly:!!e||!s,dispatch:this.props.dispatch,recordingKey:i.joinKeys(this.props,"stylePreviewPanel")})}),this._externalStyleLink=new f.CachedSubtree(()=>{const e=w.getExternalStyle(this.props.library.published.styles,this.props.mirror.selectedStyleProperties.styleKey,this.props.editingFileKey);if(e){const r=`${this.props.fileByKey[e.file_key].url}?node-id=${encodeURIComponent(e.node_id)}`;return o.createElement(O.Panel,{key:"external-style-options"},o.createElement(O.Row,null,o.createElement(Y.Link,{className:W.externalStyleLink,href:r,target:"_blank"},"Go to master style to edit")),o.createElement(O.Row,null,o.createElement(Y.Link,{className:W.externalStyleLink,onClick:this.onMoveStyle.bind(this,e)},"Move master style into this file")))}return null}),this._framePresetPanel=new f.CachedSubtree(()=>o.createElement(I.FramePresetPanel,{key:"frame-presets",dispatch:this.props.dispatch,expandedFramePresetType:this.props.mirror.appModel.expandedFramePresetType,recordingKey:"framePresetPanel"})),this._canvasBackgroundPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(_.BackgroundPanel,{key:"canvas-background",idPrefix:"canvas-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,pickerShown:this.props.pickerShown,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,library:this.props.library,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"canvasBackgroundPanel",scrollContainer:this.scrollContainer,fillPaints:e.backgroundPaints,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.mirror.appModel.currentSelectedGradientStop,defaultColor:T.defaultFill,inheritStyleKey:e.inheritFillStyleKeyForBackground,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,hasExports:e.exportSettings&&y.getValue(e.exportSettings,[]).length>0})}),this._localStylesPanel=new f.CachedSubtree(()=>o.createElement(B.LocalStylesPanel,{key:"local-styles",styles:this.props.library.local.styles,recordingKey:"localStylesPanel",editingFileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,userCanEditFile:!this.props.mirror.appModel.isReadOnly})),this._alignPanel=new f.CachedSubtree(()=>o.createElement(E.AlignPanel,{key:"align",actionEnabledAlignTop:this.props.mirror.appModel.actionEnabledAlignTop,actionEnabledAlignVerticalCenter:this.props.mirror.appModel.actionEnabledAlignVerticalCenter,actionEnabledAlignBottom:this.props.mirror.appModel.actionEnabledAlignBottom,actionEnabledAlignLeft:this.props.mirror.appModel.actionEnabledAlignLeft,actionEnabledAlignHorizontalCenter:this.props.mirror.appModel.actionEnabledAlignHorizontalCenter,actionEnabledAlignRight:this.props.mirror.appModel.actionEnabledAlignRight,actionEnabledDistributeHorizontalSpacing:this.props.mirror.appModel.actionEnabledDistributeHorizontalSpacing,actionEnabledDistributeVerticalSpacing:this.props.mirror.appModel.actionEnabledDistributeVerticalSpacing,recordingKey:"alignPanel",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,appModel:this.props.mirror.appModel,detectableListAxis:this.props.mirror.selectionProperties.detectableListAxis})),this._transformPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(D.TransformPanel,{key:"transform",shownTransformControls:this.props.mirror.appModel.shownTransformControls,x:e.x,y:e.y,width:e.width,height:e.height,proportionsConstrained:e.proportionsConstrained,cornerRadius:e.cornerRadius,cornerSmoothing:e.cornerSmoothing,rectangleTopLeftCornerRadius:e.rectangleTopLeftCornerRadius,rectangleTopRightCornerRadius:e.rectangleTopRightCornerRadius,rectangleBottomLeftCornerRadius:e.rectangleBottomLeftCornerRadius,rectangleBottomRightCornerRadius:e.rectangleBottomRightCornerRadius,rectangleCornerRadiiIndependent:e.rectangleCornerRadiiIndependent,rectangleCornerToolIndependent:e.rectangleCornerToolIndependent,angle:e.angle,count:e.count,starInnerScale:e.starInnerScale,arcStart:e.arcStart,arcSweep:e.arcSweep,arcRadius:e.arcRadius,resizeToFit:e.resizeToFit,actionEnabledResizeToFit:this.props.mirror.appModel.actionEnabledResizeToFit,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,canBecomeGroup:e.canBecomeGroup,smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,recordingKey:"transformPanel",frameMaskDisabled:this.selectionProperties().frameMaskDisabled,detectedList:e.detectedList})}),this._vectorPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(D.VectorTransformPanel,{key:"vector-transform",x:e.x,y:e.y,cornerRadius:e.cornerRadius,handleMirroring:e.handleMirroring,smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"vectorTransformPanel"})}),this._frameBackgroundPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(_.BackgroundPanel,{key:"frame-background",idPrefix:"frame-background",backgroundColor:e.backgroundColor,backgroundEnabled:e.backgroundEnabled,backgroundOpacity:e.backgroundOpacity,exportBackgroundDisabled:e.exportBackgroundDisabled,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,library:this.props.library,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"frameBackgroundPanel",scrollContainer:this.scrollContainer,fillPaints:e.backgroundPaints,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.mirror.appModel.currentSelectedGradientStop,defaultColor:T.defaultFill,inheritStyleKey:e.inheritFillStyleKeyForBackground,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,hasExports:e.exportSettings&&y.getValue(e.exportSettings,[]).length>0})}),this._instancePanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(F.InstancePanel,Object.assign({key:"instance",dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,isNestedInstanceSelected:e.isNestedInstanceSelected,symbolGUIDsBackingSelection:e.symbolGUIDsBackingSelection,masterSymbolGUID:e.masterSymbolGUID,resettableInstanceOverrides:e.resettableInstanceOverrides,sceneGraph:this.props.mirror.sceneGraph,sceneGraphSelection:this.props.mirror.sceneGraphSelection,detachInstanceEnabled:u.isActionEnabled(this.props.mirror.appModel,"detach-instance"),detachInstanceText:u.getString(this.props.mirror.appModel.strings,"detach-instance"),detachInstanceShortcut:u.getKeyboardShortcut(this.props.mirror.appModel.keyboardShortcuts,"detach-instance"),subscribedComponents:this.props.mirror.appModel.subscribedComponents,componentsByTeamId:this.props.library.published.components},P.stateWithoutMirror(this.props),{recordingKey:"instancePanel"}))}),this._constraintsPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties(),r=e.isInstanceSublayerSelected;return o.createElement(C.ConstraintsPanel,{key:"constraints",horizontalConstraint:e.horizontalConstraint,verticalConstraint:e.verticalConstraint,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:r,hasHorizontallyScrollingParent:e.hasHorizontallyScrollingParent,hasVerticallyScrollingParent:e.hasVerticallyScrollingParent,allHaveScrollableFrameAsParent:e.allHaveScrollableFrameAsParent,scrollBehavior:e.scrollBehavior,recordingKey:"constraintsPanel"})}),this._maskPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(R.MaskPanel,{key:"mask",maskIsOutline:e.maskIsOutline,recordingKey:"maskPanel"})}),this._componentPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(N.ComponentPanel,{key:"component",symbolDescription:e.symbolDescription,sceneGraphSelection:this.props.mirror.sceneGraphSelection,localComponents:this.props.library.local.components,recordingKey:"componentPanel"})}),this._gridsPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(A.GridsPanel,{key:"grids",layoutGrids:e.layoutGrids,smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,showFrameGrids:this.props.mirror.appModel.showFrameGrids,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,inheritStyleKey:e.inheritGridStyleKey,library:this.props.library,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"gridsPanel",scrollContainer:this.scrollContainer})}),this._layerPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(v.LayerPanel,{key:"layer",blendMode:e.blendMode,opacity:e.opacity,visible:e.visible,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,recordingKey:"layerPanel"})}),this._typePanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(x.TypePanel,{key:"type",fonts:this.props.fonts,fontFamily:e.fontFamily,fontStyle:e.fontStyle,fontVariantDiscretionaryLigatures:e.fontVariantDiscretionaryLigatures,fontVariantHistoricalLigatures:e.fontVariantHistoricalLigatures,fontVariantNumericFigure:e.fontVariantNumericFigure,fontVariantNumericSpacing:e.fontVariantNumericSpacing,fontVariantNumericFraction:e.fontVariantNumericFraction,fontVariantCaps:e.fontVariantCaps,fontVariantPosition:e.fontVariantPosition,fontSize:e.fontSize,lineHeight:e.lineHeight,intrinsicLineHeight:e.intrinsicLineHeight,letterSpacing:e.letterSpacing,paragraphSpacing:e.paragraphSpacing,paragraphIndent:e.paragraphIndent,textAlignHorizontal:e.textAlignHorizontal,textAlignVertical:e.textAlignVertical,textCase:e.textCase,textDecoration:e.textDecoration,textAutoResize:e.textAutoResize,missingFont:e.missingFont,textUserLayoutVersion:e.textUserLayoutVersion,showGoogleFonts:this.props.mirror.appModel.showGoogleFonts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,prefs:X.getPreferences(this.props),smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,inheritStyleKey:e.inheritTextStyleKey,library:this.props.library,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"typePanel",scrollContainer:this.scrollContainer,userCreatedAt:this.props.user?this.props.user.created_at:void 0,lineHeightIconHovered:!!this.props.userFlags.line_height_icon_hovered_new})}),this._fillPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(K.FillPanel,{key:"fill",fillPaints:e.fillPaints,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.mirror.appModel.currentSelectedGradientStop,pickerShown:this.props.pickerShown,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,defaultColor:T.defaultFill,inheritStyleKey:e.inheritFillStyleKey,library:this.props.library,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"fillPanel",scrollContainer:this.scrollContainer})}),this._strokePanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(K.StrokePanel,{key:"stroke",strokePaints:e.strokePaints,strokeWeight:e.strokeWeight,strokeAlign:e.strokeAlign,strokeCap:e.strokeCap,strokeJoin:e.strokeJoin,miterLimitAngle:e.miterLimitAngle,dashPattern:e.dashPattern,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,currentSelectedGradientStop:this.props.mirror.appModel.currentSelectedGradientStop,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,defaultColor:T.defaultStroke,smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,inheritStyleKey:e.inheritFillStyleKeyForStroke,library:this.props.library,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"strokePanel",scrollContainer:this.scrollContainer})}),this._effectsPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties();return o.createElement(M.EffectsPanel,{key:"effects",effects:e.effects,inheritStyleKey:e.inheritEffectStyleKey,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,library:this.props.library,sceneGraphSelection:this.props.mirror.sceneGraphSelection,selectedStyleProperties:this.props.mirror.selectedStyleProperties,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,recordingKey:"effectsPanel",scrollContainer:this.scrollContainer})}),this._exportPanel=new f.CachedSubtree(()=>{const e=this.selectionProperties(),r=this.props.fileByKey[this.props.editingFileKey],t=u.currentCanvasNodeId(this.props.mirror.appModel);return o.createElement(k.ExportPanel,{key:"export",fileKey:r.key,fileName:r.name,singleNodeName:k.ExportPanel.singleNodeNameFrom(e),numSelected:e.numSelected,exportSettings:e.exportSettings,sceneGraphSelection:this.props.mirror.sceneGraphSelection,currentPage:t,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,currentSelectedProperty:this.props.mirror.appModel.currentSelectedProperty,pickerShown:this.props.pickerShown,recordingKey:"exportsPanel"})}),this._prototypeTransitionsPanel=new f.CachedSubtree(()=>{const e=this.shownPanels()[c.PropertiesPanelType.OVERFLOW_ITEM];return o.createElement(G.PrototypePanel,{key:"prototype",dispatch:this.props.dispatch,selectionProperties:this.selectionProperties(),appModel:this.props.mirror.appModel,pickerShown:this.props.pickerShown,dropdownShown:this.props.dropdownShown,currentTool:this.props.mirror.appModel.currentTool,colorFormat:this.props.mirror.appModel.colorFormat,smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,scene:this.props.mirror.sceneGraph,styleFiles:this.props.styleFiles,styleSets:this.props.styleSets,selectedSharedColorIndices:this.props.selectedSharedColorIndices,colorPicker:this.props.colorPicker,editModeType:this.props.mirror.appModel.activeCanvasEditModeType,library:this.props.library,fileKey:this.props.editingFileKey,fileByKey:this.props.fileByKey,teams:this.props.teams,user:this.props.user,userFlags:this.props.userFlags,showOverflowBehaviorItem:e,recordingKey:"prototypePanel"})}),this.isDragTarget=(e=>!0),this.onFileDragEnter=(e=>{}),this.onFileDragLeave=(e=>{}),this.onFileDrop=(e=>{}),this.renderTabsHeader=(()=>{const e=this.props.mirror.appModel.propertiesPanelTab,r=[{label:"design",tab:c.PropertiesPanelTab.DESIGN,active:e===c.PropertiesPanelTab.DESIGN,className:W.tab,recordingKey:"designTab"},{label:"prototype",tab:c.PropertiesPanelTab.PROTOTYPE,active:e===c.PropertiesPanelTab.PROTOTYPE,className:W.tab,recordingKey:"prototypeTab"}];this.shouldRenderCodeTab()&&r.push({label:"code",tab:c.PropertiesPanelTab.CODE,active:e===c.PropertiesPanelTab.CODE,className:W.tab,recordingKey:"codeTab"});for(let t=0;t<r.length;t++)r[t].active&&(r[t].className=W.tabActive);return o.createElement("div",{className:e===c.PropertiesPanelTab.DESIGN&&this.shouldShowAlignControls()?W.tabsHeader:W.tabsHeaderBordered},r.map((e,r)=>o.createElement(Q,Object.assign({key:r},e))))}),this.isStyleSelected=(()=>this.props.mirror.selectedStyleProperties&&!!this.props.mirror.selectedStyleProperties.guid),this.selectionProperties=(()=>this.isStyleSelected()?this.props.mirror.selectedStyleProperties:this.props.mirror.selectionProperties),this.styleTypeToPropertiesPanelType=(e=>{switch(e){case"FILL":return c.PropertiesPanelType.FILL_ITEM;case"TEXT":return c.PropertiesPanelType.TYPE_ITEM;case"EFFECT":return c.PropertiesPanelType.EFFECTS_ITEM;case"GRID":return c.PropertiesPanelType.GRIDS_ITEM;case"EXPORT":return c.PropertiesPanelType.EXPORT_ITEM}}),this.shownPanels=(()=>this.isStyleSelected()?{[this.styleTypeToPropertiesPanelType(this.props.mirror.selectedStyleProperties.styleType)]:!0}:this.props.mirror.appModel.shownPropertiesPanels||{}),this.shownTransformControls=(()=>this.isStyleSelected()?0:0|this.props.mirror.appModel.shownTransformControls),this.shouldShowAlignControls=(()=>{const e=this.shownPanels();return e[c.PropertiesPanelType.TRANSFORM_ITEM]||e[c.PropertiesPanelType.VECTOR_ITEM]}),this.renderDesignPanels=(()=>{const e=this.selectionProperties(),r=e.numSelectedByType,t=r&&r.SYMBOL,s=this.shownPanels(),i=this.isStyleSelected(),n=this.shownTransformControls(),p=0===Object.keys(this.props.mirror.sceneGraphSelection).length&&!i&&!s[c.PropertiesPanelType.FRAME_PRESETS];return o.createElement(z.TabLoop,null,this._stylePreviewThumbnail.render(i),this._framePresetPanel.render(s[c.PropertiesPanelType.FRAME_PRESETS]),this._alignPanel.render(this.shouldShowAlignControls()),this._transformPanel.render(s[c.PropertiesPanelType.TRANSFORM_ITEM]),this._vectorPanel.render(s[c.PropertiesPanelType.VECTOR_ITEM]),this._instancePanel.render(s[c.PropertiesPanelType.INSTANCE_ITEM]),this._constraintsPanel.render(s[c.PropertiesPanelType.CONSTRAINTS_ITEM]),this._maskPanel.render(s[c.PropertiesPanelType.MASK_ITEM]),this._componentPanel.render(1===t&&y.notMixed(e.symbolDescription)),this._gridsPanel.render(s[c.PropertiesPanelType.GRIDS_ITEM]),this._layerPanel.render(s[c.PropertiesPanelType.LAYER_ITEM]),this._typePanel.render(s[c.PropertiesPanelType.TYPE_ITEM]),this._canvasBackgroundPanel.render(s[c.PropertiesPanelType.CANVAS_ITEM]),this._frameBackgroundPanel.render(s[c.PropertiesPanelType.TRANSFORM_ITEM]&&!!(n&1<<c.TransformPanelControl.FRAME_OPTIONS)),this._fillPanel.render(s[c.PropertiesPanelType.FILL_ITEM]),this._strokePanel.render(s[c.PropertiesPanelType.STROKE_ITEM]),this._effectsPanel.render(s[c.PropertiesPanelType.EFFECTS_ITEM]),this._localStylesPanel.render(p),this._exportPanel.render(s[c.PropertiesPanelType.EXPORT_ITEM]),this._externalStyleLink.render(i))}),this.renderCodePanels=(()=>{const e=this.shownPanels(),r=this.shownTransformControls(),t=this.isStyleSelected(),s=0===Object.keys(this.props.mirror.sceneGraphSelection).length&&!t;return o.createElement(z.TabLoop,null,this._stylePreviewThumbnail.render(t),o.createElement(V.InspectionPanels,Object.assign({key:"inspection",recordingKey:"inspectionPanel",shownPanels:e,shownTransformControls:r},this.props)),s&&o.createElement("div",{className:W.border}),this._localStylesPanel.render(s))}),this.renderPrototypePanels=(()=>{const e=this.shownPanels();return o.createElement(z.TabLoop,null,this._framePresetPanel.render(e[c.PropertiesPanelType.FRAME_PRESETS]),this._prototypeTransitionsPanel.render(!e[c.PropertiesPanelType.FRAME_PRESETS]))}),this.shouldRenderCodeTab=(()=>this.props.mirror.appModel.showUi&&null!=this.props.user),this.onKeyDown=(e=>{this.props.mirror.selectedStyleProperties&&p.isValid(this.props.mirror.selectedStyleProperties.guid)&&(e.event.keyCode===a.Key.ESCAPE?(e.accept(),S.Fullscreen.selectStyle("","")):e.event.keyCode===a.Key.F&&S.Fullscreen.selectStyle("",""))}),this.scrollContainer=null,this.refMainScrollContainer=(e=>{this.scrollContainer=e})}render(){const e=this.props.mirror.appModel.topLevelMode,r=e===h.TopLevelMode.PREVIEW?c.PropertiesPanelTab.CODE:this.props.mirror.appModel.propertiesPanelTab,t=this.props.mirror.selectedStyleProperties&&p.isValid(this.props.mirror.selectedStyleProperties.guid),s=t?W.drillDownContainerEditingStyle:W.drillDownContainer,i=!!this.props.dropdownShown||this.props.pickerShown&&this.props.pickerShown.modal;return o.createElement(j.KeyboardReceiver,{name:"propertiesPanel",focusOnMount:!0,handleKeyDown:this.onKeyDown},o.createElement(U.DragTarget,{name:"propertiesPanelContainer",className:s,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onFileDragEnter,onTargetDragLeave:this.onFileDragLeave,onTargetDrop:this.onFileDrop},o.createElement(H.ScrollContainer,{ref:this.refMainScrollContainer,className:`${W.panelContainer} ${l.PREVENT_EVENT_CAPTURE}`,width:J+q,showScrollbar:!i,onContextMenu:this.onContextMenu,scrollingDisabled:i},!t&&o.createElement("div",{className:W.propertiesPanel,onMouseDown:this.onMouseDown},e===h.TopLevelMode.LAYOUT&&this.renderTabsHeader(),r===c.PropertiesPanelTab.DESIGN&&this.renderDesignPanels(),r===c.PropertiesPanelTab.PROTOTYPE&&this.renderPrototypePanels(),r===c.PropertiesPanelTab.CODE&&this.renderCodePanels())),o.createElement(H.ScrollContainer,{className:`${W.editStylePanelContainerClass} ${l.PREVENT_EVENT_CAPTURE}`,width:J+q,showScrollbar:!0,onContextMenu:this.onContextMenu,scrollingDisabled:!!this.props.dropdownShown},t&&o.createElement("div",{className:W.propertiesPanel,onMouseDown:this.onMouseDown},r===c.PropertiesPanelTab.DESIGN&&this.renderDesignPanels(),r===c.PropertiesPanelTab.CODE&&this.renderCodePanels()))))}}Z.displayName="PropertiesPanel",r.PropertiesPanel=Z,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(34,1   );class l extends s.PureComponent{render(){const e=this.props.delimiter||s.createElement("span",null,", "),t=this.props.oxfordDelimiter||s.createElement("span",null,","),n=this.props.finalDelimiter||s.createElement("span",null," and ");let l=[];const r=s.Children.count(this.props.children);return s.Children.forEach(this.props.children,(o,i)=>{0===i?l.push(o):i===r-1?(r>2&&this.props.includeOxfordDelimiter&&l.push(s.cloneElement(t,{key:i+"_oxford"})),l.push(s.cloneElement(n,{key:i+"_delim"})),l.push(o)):(l.push(s.cloneElement(e,{key:i+"_delim"})),l.push(o))}),s.createElement("span",{className:this.props.className||""},l)}}l.displayName="JoinNaturally",t.JoinNaturally=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,c,e){t.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M11 6c0-.552.448-1 1-1 .552 0 1 .448 1 1v7c0 .552-.448 1-1 1-.552 0-1-.448-1-1V6zm1 9.5c-.828 0-1.5.672-1.5 1.5 0 .828.672 1.5 1.5 1.5.828 0 1.5-.672 1.5-1.5 0-.828-.672-1.5-1.5-1.5z"/><path d="M12 24c6.627 0 12-5.373 12-12 0-6.627-5.373-12-12-12C5.373 0 0 5.373 0 12c0 6.627 5.373 12 12 12zm0-1c6.075 0 11-4.925 11-11 0-6.075-4.925-11-11-11C5.925 1 1 5.925 1 12c0 6.075 4.925 11 11 11z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(n,e,a){n.exports={warn:"banners--warn--32Jpq",ctaButton:"banners--ctaButton--2bNdD",content:"banners--content--34uVF",title:"banners--title--12FjK",bold:"banners--bold--1bY5F",message:"banners--message--30Zf9",ctaMessage:"banners--ctaMessage--3c5kQ",teamBanner:"banners--teamBanner--iTv6A",teamWarningBanner:"banners--teamWarningBanner--35USE banners--warn--32Jpq banners--teamBanner--iTv6A"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(34,1   ),n=a(232                        ),s=a(302          ),i=a(169                     ),o=a(166                         ),l=a(173                        ),c=a(1471                    ),d=a(172                     ),m=a(170          ),u=a(171                      ),p=a(1248                                         ),g=a(144                        ),f=a(1242                                             );let y=a(1243                              );const h=a(1244           );var v;!function(e){e[e.INFO=0]="INFO",e[e.WARN=1]="WARN"}(v=t.BannerSeverity||(t.BannerSeverity={})),t.getBannerContent=((e,t,a,c,p)=>{const g=c.teams[a];if(a&&!g)return null;const y=g&&g.subscription===i.Subscription.GRACE_PERIOD,C=g&&g.subscription===i.Subscription.PAST_DUE,E=g&&g.subscription===i.Subscription.NO_MONTHLY_SUB_EDITOR_COUNT_EXCEEDED,k=l.canMemberOrg(c.currentOrgId,c),_=l.canAdminOrg(c.currentOrgId,c),F=l.canAdminTeam(a,c),N=l.canEditTeam(a,c),b=d.isOrgDelinquent(c.currentOrgId,c),O=g&&!d.isTeamPro(g)&&!g.student_team&&d.isTeamLockedForUser(g.id,c),P=g&&g.student_team&&!m.isStudent(c.user),w=g&&!d.isTeamPro(g)&&!g.student_team&&"folder"===e&&t.is_invite_only,U=g&&!d.isTeamPro(g)&&!g.student_team&&"folder"===e&&t.is_view_only,A="file"===e&&t.parent_org_id&&o.isOrphanedOrgFolder(c.folders,t.folder_id)||"folder"===e&&t.org_id&&o.isOrphanedOrgFolder(c.folders,t.id),B=!A&&!g&&("file"===e&&d.isFileEditingLockedForUser(t,c)||"folder"===e&&d.isFolderEditingLockedForUser(t,c)),I=()=>p(n.fileBrowser.selectView({recentFiles:!0})),L=()=>p(n.payment.startProUpgradeFlow({teamId:g.id,selectedView:c.selectedView})),R=()=>{p(n.fileBrowser.selectView({adminTeamId:a}))},T=()=>s.redirect("/student/apply","_blank");if(b){const e=u.getContactableAdmins(c.orgUsersByOrgId.orgUsers[c.currentOrgId]).map(e=>r.createElement("span",{key:e.id,className:h.bold},e.user.handle," (",e.user.email,")"));return{severity:v.WARN,title:"Payment not received",message:_?r.createElement("span",null,"We havent recieved a payment from your organization for this billing period. Please reach out to ",r.createElement("b",{className:h.bold},"invoices@figma.com")," soon, or you may lose access to your organization. Thank you!"):r.createElement("span",null,"Please reach out to your Organization admin(s)",k&&r.createElement("span",null," ",r.createElement(f.JoinNaturally,{finalDelimiter:r.createElement("span",null," [or] "),includeOxfordDelimiter:!0},e))," ","to resolve this billing issue. Thank you!"),cta:null,onClickCta:null}}if(y)return{severity:v.WARN,title:"Payment failed",message:"Our last attempted charge was unsuccessful. Please update your payment source as soon as possible. File editing will be locked after 3 failed attempts.",cta:F?"Update payment":"Contact admin to update payment",onClickCta:F?R:null};if(C)return{severity:v.WARN,title:"Locked",message:`Our last 3 attempted charges were unsuccessful. Please update your payment source to continue editing files in ${g.name}`,cta:F?"Update payment":"Contact admin to update payment",onClickCta:F?R:null};if(E)return{severity:v.WARN,title:"Locked",message:`Our last 3 attempted charges were unsuccessful. Please update your payment source to continue editing files in ${g.name}`,cta:F?"Update payment":"Contact admin to update payment",onClickCta:null};if(O)return{severity:v.WARN,title:"Locked",message:`${g.name} is over the limits of a free Starter Team. Please upgrade to continue editing files in this team.`,learnMoreUrl:"/pricing",cta:N?`Upgrade ${g.name}`:`Contact ${g.name} to upgrade`,onClickCta:N?L:null};if(P)return{severity:v.INFO,title:"Students Only",message:`${g.name} is a Student Team. Please verify your student status to edit files in this team.`,learnMoreUrl:"/pricing-faq#is-figma-free-for-students",cta:"Verify Student Status",onClickCta:T};if(w||U){const e=w?"Invite":"View";return{severity:v.WARN,title:"Folder Locked",message:`${e} only projects are not available to Starter Teams. Upgrade ${g.name} to continue editing files in this project.`,learnMoreUrl:"/pricing",cta:N?`Upgrade ${g.name}`:`Contact ${g.name} to upgrade`,onClickCta:N?L:null}}return B&&"file"===e?{severity:v.WARN,title:"Locked",message:"Projects are no longer supported outside of teams. Please move this file to a team or your Drafts to continue editing.",learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:"Back to Files",onClickCta:I}:B&&"folder"===e?{severity:v.WARN,title:"Locked",message:"Projects are no longer supported outside of teams. Please move this project to a team, or move these files to your Drafts to continue editing.",learnMoreUrl:"/pricing-faq#what-changes-for-me",cta:null,onClickCta:null}:A&&"folder"===e?{severity:v.WARN,title:"Locked",message:"Orphaned projects cannot be edited or shared. Please move this project to a team, or move these files to your Drafts to continue editing.",cta:null,onClickCta:null}:A&&"file"===e?{severity:v.WARN,title:"Locked",message:"Orphaned projects cannot be edited or shared. Please move this file to a team or your Drafts to continue editing.",cta:"Back to Files",onClickCta:I}:null}),t.shouldShowLockedFileFooter=(e=>{const t=c.getEditingFile(e);return!!t&&(!!e.user&&(!!l.canEditFile(t.key,e,!0)&&d.isFileEditingLockedForUser(t,e)))});class C extends r.PureComponent{constructor(){super(...arguments),this.teamId=(()=>{return c.getEditingFile(this.props).team_id})}render(){const e=c.getEditingFile(this.props),a=this.teamId(),n=t.getBannerContent("file",e,a,this.props,this.props.dispatch);return n?r.createElement(p.FileFooterContainer,{className:n.severity===v.WARN?h.warn:""},r.createElement(_,Object.assign({},n))):r.createElement("div",null)}}C.displayName="LockedFileFooter",t.LockedFileFooter=C;class E extends r.PureComponent{constructor(){super(...arguments),this.teamId=(()=>{return this.props.folders[this.props.selectedView.folderId].team_id})}render(){const e=this.props.folders[this.props.selectedView.folderId],a=this.teamId(),n=t.getBannerContent("folder",e,a,this.props,this.props.dispatch);return n?r.createElement(p.FileBrowserFooterContainer,{className:n.severity===v.WARN?h.warn:""},r.createElement(_,Object.assign({},n))):r.createElement("div",null)}}E.displayName="LockedFolderFooter",t.LockedFolderFooter=E;class k extends r.PureComponent{render(){const e=this.props.teamId,a=t.getBannerContent("team",this.props.teams[e],e,this.props,this.props.dispatch);return a?r.createElement("div",{className:a.severity===v.WARN?h.teamWarningBanner:h.teamBanner},r.createElement(_,Object.assign({},a))):r.createElement("div",null)}}k.displayName="TeamUpgradeBanner",t.TeamUpgradeBanner=k;class _ extends r.PureComponent{render(){const{title:e,message:t,cta:a,onClickCta:n,severity:s,learnMoreUrl:i}=this.props;return r.createElement("div",{className:h.content},r.createElement("span",{className:h.title},s===v.WARN&&r.createElement(g.Svg,{svg:y}),e),r.createElement("div",{className:h.message},t,i&&r.createElement("span",null,"",r.createElement("a",{target:"_blank",rel:"noopener",href:i},"Learn more"))),n&&r.createElement(p.FooterButton,{className:h.ctaButton,onClick:n},a),!n&&r.createElement("div",{className:h.ctaMessage},a))}}_.displayName="BannerContentView",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,r){o.exports={container:"footer_banner--container--dbQys",banner:"footer_banner--banner--H-B_t",bannerTop:"footer_banner--bannerTop--2_8M9",bannerBottom:"footer_banner--bannerBottom--1he6t",fileBrowserContainer:"footer_banner--fileBrowserContainer--2R7uC footer_banner--container--dbQys",wordWrapper:"footer_banner--wordWrapper--3Cv4P",wordMark:"footer_banner--wordMark--26-R_",clickable:"footer_banner--clickable--2cCnD",icon:"footer_banner--icon--7ESPC footer_banner--clickable--2cCnD",smallLink:"footer_banner--smallLink--f6Vu1",oversizedButton:"footer_banner--oversizedButton--2neSQ footer_banner--clickable--2cCnD",pageLabel:"footer_banner--pageLabel--2H5NP",overlayModal:"footer_banner--overlayModal--1DXzj",overlayRow:"footer_banner--overlayRow--32MKE",overlayTitle:"footer_banner--overlayTitle--3frCu footer_banner--overlayRow--32MKE",overlayBody:"footer_banner--overlayBody--39vLW footer_banner--overlayRow--32MKE",overlayIconRow:"footer_banner--overlayIconRow--audrb",slideInFooter:"footer_banner--slideInFooter--1Foq-","slide-in":"footer_banner--slide-in--2G6S2"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,f,h){t.exports={id:null,src:'<svg width="20" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M10 15c0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5 0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5z" fill="#1abcfe"/><path d="M0 25c0-2.761 2.239-5 5-5h5v5c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5z" fill="#0acf83"/><path d="M10 0v10h5c2.761 0 5-2.239 5-5 0-2.761-2.239-5-5-5h-5z" fill="#ff7262"/><path d="M0 5c0 2.761 2.239 5 5 5h5V0H5C2.239 0 0 2.239 0 5z" fill="#f24e1e"/><path d="M0 15c0 2.761 2.239 5 5 5h5V10H5c-2.761 0-5 2.239-5 5z" fill="#a259ff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),o=s(232                        ),n=s(1471                    ),r=s(1417                       ),i=s(1245                                      ),l=s(331               ),c=s(204                                            ),p=s(144                        ),m=s(1246                 ),d=s(350                 ),h=s(300                      ),u=s(220                      ),g=s(1247                             );class C extends a.PureComponent{render(){return a.createElement("div",{className:`${m.container} ${this.props.className||""}`},this.props.children)}}C.displayName="FileFooterContainer",t.FileFooterContainer=C;class F extends a.PureComponent{render(){return a.createElement("div",{className:`${m.fileBrowserContainer} ${this.props.className||""}`},this.props.children)}}F.displayName="FileBrowserFooterContainer",t.FileBrowserFooterContainer=F;class T extends a.PureComponent{render(){const e=`${this.props.className||""} ${m.oversizedButton}`;return a.createElement(c.ButtonGreen,Object.assign({},this.props,{className:e}))}}T.displayName="FooterButton",t.FooterButton=T;class _ extends a.PureComponent{render(){return this.props.user?i.shouldShowLockedFileFooter(this.props)?a.createElement(i.LockedFileFooter,Object.assign({},this.props)):a.createElement("div",null):a.createElement(b,Object.assign({},this.props))}}_.displayName="FileFooter",t.FileFooter=_;var f;!function(e){e[e.TOP=0]="TOP",e[e.BOTTOM=1]="BOTTOM"}(f||(f={})),t.LOGGED_OUT_FILE_BANNER_PADDING=100;class E extends a.PureComponent{constructor(){super(...arguments),this.signInCtaText="Sign In"}bannerLocationStyle(){return this.props.location===f.BOTTOM?m.bannerBottom:m.bannerTop}onCtaClick(e,t,s){u.trackCtaClicked({location:f[this.props.location],text:t,type:s,category:[u.CtaCategories.FIGMA_FILE_SHARE],description:`Logged-out File ${e} CTA Clicked`}),this.props.showAuthModal(e)}render(){return a.createElement("div",{className:`${m.banner} ${this.bannerLocationStyle()} ${d.modal}`},a.createElement("div",{className:m.wordWrapper},a.createElement("a",{className:m.icon,href:"/",target:"_blank",rel:"noopener"},a.createElement(p.Svg,{svg:g,useOriginalSrcFills:!0})),a.createElement("div",null,this.props.primaryText)),a.createElement("div",{className:m.wordWrapper},a.createElement(c.Link,{onClick:this.onCtaClick.bind(this,h.AuthFormState.SIGN_IN,this.signInCtaText,"link"),className:m.smallLink},this.signInCtaText),a.createElement(c.ButtonGreen,{onClick:this.onCtaClick.bind(this,h.AuthFormState.SIGN_UP,this.props.signUpCtaText,"button"),className:m.clickable},this.props.signUpCtaText)))}}E.displayName="LoggedOutFileBanner";const b=(e=>{return class extends a.PureComponent{constructor(){super(...arguments),this.showAuthModal=(e=>{const t=n.getEditingFile(this.props).name,s="DUPLICATE"===this.props.selectedView.viewState.landingState?`Sign in or create an account to get a copy of "${t}"`:"";this.props.dispatch(l.authActions.init({origin:"logged_out_footer",formState:e})),this.props.dispatch(o.fileBrowser.showModal({type:r.AppModal.AUTH_MODAL,data:{headerText:s}}))}),this.primaryText=(()=>"DUPLICATE"===this.props.selectedView.viewState.landingState?"Welcome to Figma! Sign in or create an account to get your own copy of this file.":"Welcome to Figma! Sign in or create an account to collaborate on this file.")}render(){return a.createElement(e,Object.assign({primaryText:this.primaryText(),showAuthModal:this.showAuthModal},this.props))}}})((N="Sign Up",x=f.TOP,v=E,class extends a.PureComponent{render(){return a.createElement(v,Object.assign({},this.props,{signUpCtaText:N,location:x}))}}));var N,x,v;e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(i,o,t){i.exports={notification:"notification--notification--33dk4 text--_whiteText--2PkdM _overlayBase--_overlayBase--1sCqN",popup:"notification--popup---F7KY",icon:"notification--icon--3hZWC",iconError:"notification--iconError--1Q_wX notification--icon--3hZWC",message:"notification--message--E-CGV",actions:"notification--actions--29tX-",action:"notification--action--3rMAM"},i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(t,e,s){t.exports={id:"g92e1f699",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M16.353 4.357l-8.5 8.5-.353.354-.354-.354-4.5-4.5.707-.707L7.5 11.796l8.146-8.146.707.707z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=e(34,1   ),s=e(232                        ),a=e(1417                       ),n=e(371                       ),c=e(144                        ),p=e(1249                ),r=e(442                                      ),m=e(1250                            ),E=e(560                           ),l=e(546                                 );class h extends o.PureComponent{constructor(){super(...arguments),this.icon=(()=>{switch(this.props.notification.type){case n.ComponentNotificationType.PUBLISH_ERROR:return E;case n.ComponentNotificationType.PUBLISH_SUCCESS:return m;case n.ComponentNotificationType.UPDATES_AVAILABLE:case n.ComponentNotificationType.PUBLISHED_COMPONENT_DELETED:return r;case n.ComponentNotificationType.PUBLISHED_COMPONENT_UPDATED:return l}}),this.actionText=(()=>{switch(this.props.notification.type){case n.ComponentNotificationType.PUBLISH_ERROR:return"Retry...";case n.ComponentNotificationType.UPDATES_AVAILABLE:return"Review";case n.ComponentNotificationType.PUBLISHED_COMPONENT_DELETED:return"Remove...";case n.ComponentNotificationType.PUBLISHED_COMPONENT_UPDATED:return"Publish..."}}),this.actionCallback=(()=>{switch(this.props.notification.type){case n.ComponentNotificationType.UPDATES_AVAILABLE:return()=>{this.props.dispatch(s.fileBrowser.showModal({type:a.AppModal.LIBRARY_PREFERENCES_MODAL,data:{tab:n.LibraryPreferencesModalTab.UPDATES}}))};case n.ComponentNotificationType.PUBLISH_ERROR:case n.ComponentNotificationType.PUBLISHED_COMPONENT_DELETED:case n.ComponentNotificationType.PUBLISHED_COMPONENT_UPDATED:return()=>{this.props.dispatch(s.fileBrowser.showModal({type:a.AppModal.PUBLISH_COMPONENTS_MODAL}))}}}),this.accept=(t=>{t.stopPropagation();const i=this.actionCallback();i&&(i(),this.dismiss(t))}),this.dismiss=(t=>{t.stopPropagation(),this.props.dispatch(s.library.hideNotification())}),this.mouseEnter=(()=>{this.props.dispatch(s.library.pauseNotificationTimer())}),this.mouseLeave=(()=>{this.props.dispatch(s.library.resumeNotificationTimer())})}render(){const t=this.props.notification,i=t.type===n.ComponentNotificationType.PUBLISH_ERROR,e=this.icon(),s=this.actionText(),a=this.actionCallback();return o.createElement("div",{className:p.notification,onClick:this.accept,onMouseEnter:this.mouseEnter,onMouseLeave:this.mouseLeave},o.createElement(c.Svg,{className:i?p.iconError:p.icon,svg:e}),o.createElement("div",{className:p.message},t.message),s&&a&&o.createElement(N,{text:s,accept:this.accept,dismiss:this.dismiss}))}}h.displayName="ComponentNotificationView",i.ComponentNotificationView=h;class N extends o.PureComponent{render(){return o.createElement("div",{className:p.actions},o.createElement("div",{className:p.action,onClick:this.props.accept},this.props.text),o.createElement("div",{className:p.action,onClick:this.props.dismiss},"Dismiss"))}}N.displayName="ComponentNotificationActions",t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,n,t){o.exports={container:"open_desktop_app_from_now_on_modal--container--22I1_",text:"open_desktop_app_from_now_on_modal--text--3rgp7",buttonRow:"open_desktop_app_from_now_on_modal--buttonRow--2vyup"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(34,1   ),s=t(370              ),a=t(219          ),i=t(174          ),l=t(198         ),p=t(232                        ),r=t(214                                                    ),c=t(204                                            ),d=t(385                                        ),m=t(1252                                      ),_=t(607                                               ),u=s.pxToInt(d.openDesktopModal);function h(e){i.localStorageOrNull&&(i.localStorageOrNull[o.PREFERENCE_KEY]=e)}o.PREFERENCE_KEY="openInDesktopAppMenuModal";class k extends n.PureComponent{constructor(e){super(e),this.initialPosition=new l.Vector(window.innerWidth/2-u/2,window.innerHeight/2-60),this.onClose=(()=>{h("shown"),this.props.dispatch(p.fullscreen.hideOpenDesktopAppModal()),a.segment.track("desktop_links",{action:"menu_notification_dismissed"})}),this.onAlwaysClick=(()=>{h("shown"),this.props.dispatch(p.fullscreen.hideOpenDesktopAppModal()),a.segment.track("desktop_links",{action:"menu_notification_accepted"}),_.OpenDesktopAppModal.enableAutoOpen()})}static shouldShowOnce(){return void 0===(i.localStorageOrNull?i.localStorageOrNull[o.PREFERENCE_KEY]:void 0)&&!_.OpenDesktopAppModal.isAutoOpenEnabled()}render(){return n.createElement(r.DraggableModalBgDisabled,{initialPosition:this.initialPosition,title:"Open files in the Desktop App from now on?",headerSize:"small",dragHeaderOnly:!0,onClose:this.onClose},n.createElement("div",{className:m.container},n.createElement("div",{className:m.text},"You can always change this later in Preferences."),n.createElement("div",{className:m.buttonRow},n.createElement(c.ButtonSecondary,{onClick:this.onClose},"Dismiss"),n.createElement(c.ButtonPrimary,{onClick:this.onAlwaysClick},"Always open in Desktop App"))))}}k.displayName="OpenDesktopAppFromNowOnModal",o.OpenDesktopAppFromNowOnModal=k,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,t){n.exports={input:"nudge_amount_picker--input--3nyYf",rightInput:"nudge_amount_picker--rightInput--IKW4q nudge_amount_picker--input--3nyYf",label:"nudge_amount_picker--label--3uj9S",spacer:"nudge_amount_picker--spacer--2NPJs"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),r=a(232                        ),s=a(198         ),o=a(370              ),i=a(214                                                    ),l=a(391                                                                        ),m=a(341                              ),u=a(143              ),p=a(385                                        ),c=a(1254                       ),g=a(542                   ),d=a(478                                                                          ),_=a(542                   );t.NUDGE_AMOUNT_PICKER_ID="nudge-amount";const N=o.pxToInt(p.nudgeAmountPickerWidth);class h extends n.PureComponent{constructor(){super(...arguments),this.smallFormatter=new _.PixelFormatter({min:.1,smallNudgeAmount:g.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:g.DEFAULT_BIG_NUDGE_AMOUNT}),this.bigFormatter=new _.PixelFormatter({min:1,smallNudgeAmount:g.DEFAULT_SMALL_NUDGE_AMOUNT,bigNudgeAmount:g.DEFAULT_BIG_NUDGE_AMOUNT}),this.onClose=(()=>{this.props.dispatch(r.fullscreen.hidePicker())}),this.onSmallChange=(e=>{m.setSmallNudgeAmount(e)}),this.onBigChange=(e=>{m.setBigNudgeAmount(e)})}render(){const e=new s.Vector(window.innerWidth/2-N/2,window.innerHeight/3);return n.createElement(i.DraggableModal,{title:"Nudge Amount",headerSize:"small",initialPosition:e,onClose:this.onClose,dragHeaderOnly:!0,recordingKey:u.joinKeys(this.props,"modal")},n.createElement("div",{className:c.spacer}),n.createElement(l.Row,null,n.createElement("label",{className:c.label},"Small nudge"),n.createElement("label",{className:c.label},"Big nudge")),n.createElement(l.Row,null,n.createElement(d.NumberInput,{className:c.input,formatter:this.smallFormatter,property:this.props.smallNudgeAmount,onChange:this.onSmallChange,recordingKey:u.joinKeys(this.props,"smallNudgeInput")}),n.createElement(d.NumberInput,{className:c.rightInput,formatter:this.bigFormatter,property:this.props.bigNudgeAmount,onChange:this.onBigChange,recordingKey:u.joinKeys(this.props,"bigNudgeInput"),autoFocus:!0})),n.createElement("div",{className:c.spacer}))}}h.displayName="NudgeAmountPicker",t.NudgeAmountPicker=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={root:"banner--root--3WqQi",text:"banner--text--27Fwl"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),a=s(1256          ),o=s(176              );class n extends r.PureComponent{render(){return r.createElement("div",{className:a.root},r.createElement("span",{className:a.text},`Figma has stopped working properly because of a graphics hardware issue. Please restart ${o.desktopApp?"the desktop app":"your browser"}.`))}}n.displayName="GLContextLostBanner",t.GLContextLostBanner=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(34,1   ),r=t(219          ),o=t(204                                            ),a=t(1426                               ),i=t(1256          );class d extends n.PureComponent{constructor(){super(...arguments),this.onUpdateClicked=(()=>{r.segment.track("Upgrade Banner Clicked"),a.fullscreen.sendMessage("startUpgrade")}),this.bannerText=(()=>this.props.isUserConnected?"This page is out of date and no longer shows edits from other users. Reload to fix this.":"This page is out of date and no longer shows edits from other users. Trying to reconnect...")}render(){return n.createElement("div",{className:i.root},n.createElement("span",{className:i.text},this.bannerText()),this.props.isUserConnected&&n.createElement(o.ButtonPrimary,{onClick:this.onUpdateClicked},this.props.userCanEditFile?"Save and Reload":"Reload"))}}d.displayName="UpgradeBanner",s.UpgradeBanner=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(96         );t.INTERACTION_TEST_FAKE_FILE_KEY="INTERACTION_TEST_FAKE_FILE_KEY",t.interactionTestFakeFile={checkpoint_key:"",checkpoint_token:"",client_meta:"",created_at:"",creator:{},creator_id:"",deleted_at:null,trashed_at:null,trashed_user_id:null,trashed_user:null,description:"",edit_url:"",folder_id:"1",key:t.INTERACTION_TEST_FAKE_FILE_KEY,license:null,link_access:"edit",name:"Interaction Tests Running",team_id:null,thumbnail_url:"",touched_at:"",url:"",prototype_url:"",appData:{isRenaming:!1,fetchedRoles:!1}};let i=null;t.setViewerInstance=function(e){null!=i&&i.off("recordInteraction",l),(i=e).on("recordInteraction",l)},t.getGlobalViewer=function(){return i},t.inefficientlyWaitForDeviceImageToRender=function(){return new Promise(e=>{const t=setInterval(()=>{i&&!i.isWaitingForDeviceFrameToLoad()&&(clearInterval(t),e())},1/60)})};let r=[];function l(e){for(let t of r)t(e)}t.onViewerInteraction=function(e){o.pushIfAbsent(r,e)},t.offViewerInteraction=function(e){o.removeByValue(r,e)};let a=[];t.handlePrototypeViewLoaded=function(){for(let e of a)e();a=[]},t.nextPrototypeViewLoad=function(){return new Promise((e,t)=>{a.push(e)})};let c=null;t.fileForPrototypeView=function(){return c},t.setFileForPrototype=function(e){c=e};let u=null;t.setLastEditingFileKey=function(e){u=e},t.lastEditingFileKey=function(){return u},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=t(362                   );e.default=function(){return i.default('\n    <svg width="91" height="31" viewBox="0 0 91 31" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:figma="http://www.figma.com/figma/ns"><title>Group</title><desc>Created using Figma</desc><g id="Canvas" transform="translate(178 219)" figma:type="canvas"><g id="Group" style="mix-blend-mode:normal;isolation:isolate;" figma:type="frame"><g id="Group" style="mix-blend-mode:normal;isolation:isolate;" figma:type="frame"><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path0_fill" transform="translate(-178 -218.999)" fill="#666666" style="mix-blend-mode:normal;"/></g><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path1_fill" transform="translate(-170.876 -208.962)" fill="#666666" style="mix-blend-mode:normal;"/></g></g><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path2_fill" transform="translate(-137 -208.999)" fill="#666666" style="mix-blend-mode:normal;"/></g><g id="Group" style="mix-blend-mode:normal;isolation:isolate;" figma:type="frame"><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path3_fill" transform="translate(-116.999 -219)" fill="#FFFFFF" style="mix-blend-mode:normal;"/></g><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path4_fill" transform="translate(-115.4 -218.999)" fill="#EA4335" style="mix-blend-mode:normal;"/></g><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path5_fill" transform="translate(-116.991 -210.744)" fill="#FBBC05" style="mix-blend-mode:normal;"/></g><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path6_fill" transform="translate(-102.01 -206.817)" fill="#4285F4" style="mix-blend-mode:normal;"/></g><g id="Vector" style="mix-blend-mode:normal;isolation:isolate;" figma:type="vector"><use xlink:href="#path7_fill" transform="translate(-115.4 -201.084)" fill="#34A853" style="mix-blend-mode:normal;"/></g></g></g></g><defs><path id="path0_fill" d="M 29 1L 29 29L 1 29L 1 1L 29 1ZM 29 30L 30 30L 30 0L 0 0L 0 30L 29 30Z"/><path id="path1_fill" d="M 6.459 7.633L 2.604 7.633L 1.796 9.953L -2.02656e-09 9.953L 3.76 -5.91278e-08L 5.312 -5.91278e-08L 9.076 9.951L 7.273 9.951L 6.46 7.634L 6.459 7.633ZM 3.09 6.24L 5.975 6.24L 4.532 2.11L 3.09 6.24ZM 14.465 9.952C 14.392 9.812 14.328 9.582 14.275 9.262C 13.745 9.812 13.098 10.089 12.332 10.089C 11.589 10.089 10.982 9.877 10.514 9.453C 10.2887 9.25833 10.1088 9.01655 9.98717 8.74474C 9.86553 8.47294 9.80505 8.17774 9.81 7.88C 9.81 7.092 10.1 6.488 10.685 6.068C 11.273 5.645 12.111 5.433 13.2 5.433L 14.22 5.433L 14.22 4.947C 14.22 4.565 14.112 4.259 13.898 4.031C 13.684 3.799 13.358 3.683 12.921 3.683C 12.543 3.683 12.233 3.778 11.991 3.97C 11.8773 4.05173 11.7851 4.15967 11.7221 4.28467C 11.6591 4.40967 11.6271 4.54803 11.629 4.688L 9.969 4.688C 9.969 4.282 10.103 3.904 10.372 3.553C 10.642 3.197 11.006 2.919 11.466 2.719C 11.931 2.519 12.448 2.419 13.018 2.419C 13.883 2.419 14.573 2.637 15.088 3.074C 15.603 3.508 15.868 4.119 15.881 4.907L 15.881 8.243C 15.881 8.908 15.974 9.439 16.161 9.835L 16.161 9.951L 14.466 9.951L 14.465 9.952ZM 12.641 8.755C 12.969 8.755 13.276 8.675 13.563 8.515C 13.855 8.355 14.073 8.142 14.22 7.873L 14.22 6.479L 13.324 6.479C 12.709 6.479 12.246 6.586 11.937 6.799C 11.627 7.014 11.471 7.317 11.471 7.709C 11.471 8.029 11.576 8.283 11.785 8.475C 11.999 8.662 12.285 8.755 12.64 8.755L 12.641 8.755Z"/><path id="path2_fill" d="M 0 5L 0 6L 5 6L 5 11L 6 11L 6 6L 11 6L 11 5L 6 5L 6 0L 5 0L 5 5L 0 5Z"/><path id="path3_fill" d="M 10.0994 0.821121C 6.44644 2.07112 3.33344 4.80412 1.59944 8.26312C 0.996511 9.45663 0.557543 10.7261 0.29444 12.0371C -0.365589 15.3248 0.0912412 18.7387 1.59244 21.7371C 2.57395 23.6795 3.96287 25.3873 5.66444 26.7441C 7.27253 28.026 9.12791 28.9622 11.1144 29.4941C 13.6144 30.1641 16.2744 30.1471 18.7914 29.5741C 21.0644 29.0501 23.2174 27.9621 24.9354 26.3811C 26.7494 24.7111 28.0474 22.5191 28.7334 20.1571C 29.4834 17.5841 29.5794 14.8351 29.1114 12.1901L 15.0014 12.1901L 15.0014 18.0431L 23.1774 18.0431C 23.0143 18.9777 22.6646 19.8699 22.1492 20.6664C 21.6338 21.4629 20.9632 22.1474 20.1774 22.6791C 19.1874 23.3491 18.0494 23.7751 16.8724 23.9851C 15.6944 24.1851 14.4694 24.2101 13.2924 23.9771C 12.0914 23.7315 10.9542 23.2398 9.95244 22.5331C 8.35007 21.4009 7.14811 19.7897 6.51944 17.9311C 5.87828 16.0379 5.87828 13.9863 6.51944 12.0931C 6.97089 10.765 7.71486 9.55523 8.69644 8.55312C 9.91393 7.30103 11.4731 6.43503 13.1794 6.06312C 14.6385 5.75409 16.1517 5.81459 17.5814 6.23912C 18.7936 6.61086 19.9011 7.26278 20.8144 8.14212C 21.7344 7.22412 22.6544 6.30512 23.5724 5.38612C 24.0564 4.89412 24.5644 4.41812 25.0324 3.91012C 23.6374 2.62012 21.9924 1.58012 20.2024 0.920121C 16.9764 -0.276879 13.3494 -0.301879 10.0994 0.821121Z"/><path id="path4_fill" d="M 8.5 0.819913C 11.74 -0.300087 15.376 -0.275087 18.6 0.909913C 20.39 1.56991 22.027 2.60291 23.43 3.89991C 22.962 4.40991 22.454 4.88491 21.97 5.37691L 19.213 8.13391C 18.2977 7.25698 17.1908 6.60511 15.98 6.22991C 14.5516 5.80168 13.0381 5.74114 11.58 6.05391C 9.885 6.41691 8.313 7.30391 7.096 8.54591C 6.11276 9.54672 5.36854 10.7569 4.919 12.0859C 3.28 10.8099 1.644 9.54491 0 8.26991C 1.734 4.80491 4.846 2.06991 8.5 0.819913Z"/><path id="path5_fill" d="M 0.294955 3.774C 0.560955 2.467 0.996955 1.194 1.60096 0C 3.23795 1.274 4.87496 2.54 6.52096 3.814C 5.87583 5.70653 5.87583 7.75947 6.52096 9.652C 4.88096 10.926 3.24495 12.2 1.61095 13.466C 0.092955 10.506 -0.367045 7.03 0.293955 3.774L 0.294955 3.774Z"/><path id="path6_fill" d="M 0.008 0L 14.118 0C 14.586 2.637 14.482 5.386 13.74 7.966C 13.054 10.329 11.756 12.522 9.942 14.191C 8.352 12.959 6.765 11.725 5.177 10.491C 5.96275 9.95931 6.63334 9.27479 7.14877 8.47828C 7.66419 7.68178 8.01389 6.7896 8.177 5.855L 0 5.855C 0.008 3.904 0.008 1.95 0.008 0Z"/><path id="path7_fill" d="M 0 3.814C 1.637 2.548 3.274 1.274 4.91 0C 5.54172 1.85804 6.74383 3.46926 8.345 4.604C 9.345 5.306 10.49 5.806 11.685 6.047C 12.861 6.289 14.078 6.257 15.265 6.055C 16.441 5.845 17.578 5.418 18.57 4.749L 23.335 8.449C 21.617 10.039 19.465 11.119 17.191 11.642C 14.676 12.215 12.015 12.232 9.516 11.562C 7.52818 11.0335 5.67214 10.0969 4.066 8.812C 2.36702 7.45724 0.980448 5.75174 0.001 3.812L 0 3.814Z"/></defs></svg>\n  ')},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const r=t(34,1   ),s=t(337              ),i=t(232                        ),n=t(1430                                             ),p=t(474                               ),a=t(350                              ),l=t(773                    );t(774                      );const c=t(978                                                              ),d=t(346                                 ),h=t(980                                        ),m=t(775                     ),u=t(604                             ),_=t(981                      ),g=t(281                                  ),f=t(340                                 ),w=t(679                                                                 ),E=t(341                              ),M=t(141     ),y=t(984                                                   ),P=t(1426                               ),O=t(173                        ),N=t(684                                                         ),b=t(996                                                  ),S=t(1067                         ),v=t(1071                                                                        ),T=t(204                                            ),C=t(1079                                              ),k=t(1241                                                          ),R=t(1248                                         ),D=t(1251                                                          ),I=t(607                                                                       ),F=t(1253                                                                     ),B=t(685                            ),A=t(957                                                                ),L=t(1130                                                    ),K=t(1255                                                         ),Y=t(344                          ),V=(t(1257                             ),t(1258                     )),U=t(285                                        ),x=t(142                        ),G=t(1259                                   ),X=t(129                               ),H=t(336                           ),W=t(302          ),j=t(1260                    );class $ extends r.Component{constructor(){super(...arguments),this._windowID=0,this.fullscreenContainerRef=(e=>{P.fullscreen.reparentRootElement(e),e&&e.addEventListener("drop",this.handleDrop)}),this.handleDrop=(e=>{this.props.dispatch(n.tryHandlingDropEventAsComponentDrop({dataTransfer:e.dataTransfer,clientX:e.clientX,clientY:e.clientY}))}),this.toggleResolvedComments=(()=>{this.props.dispatch(i.comments.setShowResolvedComments({showResolved:!this.props.comments.showResolved}))}),this.pageContainingNode=(e=>U.pageIdContainingNodeId(this.props.mirror.sceneGraph,e)),this.openPrototype=(e=>{const o=this.props.mirror.appModel.currentPage,t=this.props.mirror.appModel.pagesList[0].nodeId===o,r=X.PrototypingHelpers.currentPagePrototypeStatus();if(r!==X.PrototypeStatus.VALID){let e;switch(this.props.dispatch(i.prototype.trackEvent({name:"Prototype Editor Play Button Blocked",params:{isFirstPage:t}})),r){case X.PrototypeStatus.NO_FRAMES:e="A prototype needs to have at least one frame.";break;case X.PrototypeStatus.NO_START_NODE:e="A prototype with connections needs a valid top level frame as the origin.";break;case X.PrototypeStatus.NO_VISIBLE_START_NODE:e="The start node of your prototype needs to be visible.";break;case X.PrototypeStatus.INVALID_CONNECTIONS:e="The connections in your prototype aren't valid.";break;default:e="This page isn't a valid prototype."}return void this.props.dispatch(i.flash.flash(e))}if(this.props.dispatch(i.prototype.trackEvent({name:"Prototype Editor Play Button Clicked",params:{isFirstPage:t}})),x.isRecording()||this.props.editingFileKey===G.INTERACTION_TEST_FAKE_FILE_KEY){const e=P.fullscreen.sendMessage("dumpFileForInteractionTests").buffer;if(null==e||0===e.length)throw new Error("Failed to serialize file for interaction test");return G.setFileForPrototype(e),G.setLastEditingFileKey(this.props.editingFileKey),void this.props.dispatch(i.fileBrowser.selectView({prototype:!0,viewState:{fileKey:G.INTERACTION_TEST_FAKE_FILE_KEY}}))}const s=this.props.fileByKey[this.props.editingFileKey],n=X.PrototypingHelpers.currentDeviceType(),p=_.defaultDesktopScalingMode(n);if(H.isMacDebugApp)return void this.props.dispatch(i.fileBrowser.selectView({prototype:!0,viewState:{fileKey:s.key,scalingMode:p,nodeId:this.props.mirror.appModel.currentPage}}));const a=_.urlQueryForPrototype(p,null,null),l=`${s.prototype_url}${a}`;let c=null;if(null!==(c=M.safari&&M.version>=12?W.unsafeWindowOpen(l,`proto-${s.key}-${o}-${this._windowID}`,"menubar=yes"):W.unsafeWindowOpen(l,`proto-${s.key}-${o}-${this._windowID}`))&&(c.focus(),M.chrome))try{c.location===c.href&&console.log(" ")}catch(d){this._windowID++,c=W.unsafeWindowOpen(l,`proto-${s.key}-${o}-${this._windowID}`)}}),this.hide=(()=>{this.props.dispatch(i.fileBrowser.hideModal())}),this.restoreComponent=(()=>{const e=this.props.modalShown.data.nodeId;P.fullscreen.restoreComponent(e),this.hide()}),this.renderContextMenu=(()=>{if(!this.props.dropdownShown)return null;let e=!this.props.mirror.appModel.isReadOnly;const o=this.props.dropdownShown.type;if(o===B.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU){const{clientX:o,clientY:t}=this.props.dropdownShown.data;return r.createElement(B.SelectionContextMenu,{sceneGraph:this.props.mirror.sceneGraph,sceneGraphSelection:this.props.mirror.sceneGraphSelection,appModel:this.props.mirror.appModel,clientX:o,clientY:t,dispatch:this.props.dispatch,userCanEditFile:e,isObjectsPanelMenu:!1})}if(o===B.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU){const{clientX:o,clientY:t}=this.props.dropdownShown.data;return r.createElement(B.SelectionContextMenu,{sceneGraph:this.props.mirror.sceneGraph,sceneGraphSelection:this.props.mirror.sceneGraphSelection,appModel:this.props.mirror.appModel,clientX:o,clientY:t,dispatch:this.props.dispatch,userCanEditFile:e,isSelectLayerMenu:!0,isObjectsPanelMenu:!1})}if(o===B.DROPDOWN_TYPE_OBJECTS_PANEL_CONTEXT_MENU){const{clientX:o,clientY:t}=this.props.dropdownShown.data;return r.createElement(B.SelectionContextMenu,{sceneGraph:this.props.mirror.sceneGraph,sceneGraphSelection:this.props.mirror.sceneGraphSelection,appModel:this.props.mirror.appModel,clientX:o,clientY:t,dispatch:this.props.dispatch,userCanEditFile:e,isObjectsPanelMenu:!0})}if(o===B.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU){const{clientX:o,clientY:t}=this.props.dropdownShown.data;return r.createElement(B.CanvasContextMenu,{appModel:this.props.mirror.appModel,clientX:o,clientY:t,dispatch:this.props.dispatch,userCanEditFile:e,isObjectsPanelMenu:!0})}if(o===B.DROPDOWN_TYPE_PAGE_CONTEXT_MENU){const{clientX:o,clientY:t,nodeId:s}=this.props.dropdownShown.data;return r.createElement(B.PageContextMenu,{nodeId:s,appModel:this.props.mirror.appModel,clientX:o,clientY:t,dispatch:this.props.dispatch,userCanEditFile:e,isObjectsPanelMenu:!0})}if(o===B.DROPDOWN_TYPE_SAVEPOINT_CONTEXT_MENU){const{clientX:o,clientY:t,versionId:s,checkpointKey:i,callback:n,editName:p,enableClear:a}=this.props.dropdownShown.data;return r.createElement(B.SavepointContextMenu,{versionId:s,checkpointKey:i,appModel:this.props.mirror.appModel,clientX:o,clientY:t,dispatch:this.props.dispatch,userCanEditFile:e,isObjectsPanelMenu:!1,editName:p,enableClear:a,callback:n})}if(o===A.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU){const{comment:e,confirmDelete:o,parentRect:t}=this.props.dropdownShown.data;return r.createElement(A.ThreadCommentOverflowMenu,{dispatch:this.props.dispatch,comment:e,confirmDelete:o,parentRect:t})}return null}),this.onSelectPage=(e=>{E.setCurrentPageFromNode(e.nodeId)}),this.renderPagePicker=(()=>{const e=this.props.mirror.appModel.pagesList;if(!e)return;const o=e.map(e=>({displayText:e.name,disabled:!1,isChecked:this.props.mirror.appModel.currentPage===e.nodeId,nodeId:e.nodeId}));return r.createElement(w.MultilevelDropdown,{dispatch:this.props.dispatch,items:o,showPoint:!0,parentRect:this.props.dropdownShown.data.targetRect,onSelectItem:this.onSelectPage,recordingKey:"pagesPicker"})})}renderReconnectingModal(){if(this.props.showingReconnectingModal)return r.createElement("div",{className:l.reconnectingModal},r.createElement("div",{className:l.reconnectingModalFlash},"Loading..."))}renderOpenDesktopAppModal(){if(this.props.showingProgressBar===Y.ProgressBarMode.OFF)switch(this.props.showingOpenDesktopAppModal){case Y.OpenDesktopAppModalMode.FOR_OPEN:return r.createElement(I.OpenDesktopAppModal,{dispatch:this.props.dispatch});case Y.OpenDesktopAppModalMode.FOR_MENU:return r.createElement(F.OpenDesktopAppFromNowOnModal,{dispatch:this.props.dispatch})}}renderModal(){const e=this.props.modalShown;if(e)switch(e.type){case $.FONT_INSTALLER_MODAL:return r.createElement(d.Modal,Object.assign({className:a.modal,tintedModalBackground:!0},this.props),r.createElement("div",{className:a.title},r.createElement("img",{src:j.default(),className:l.fontsIcon}),"BYOF (Bring your own fonts!)"),r.createElement("div",{className:a.modalContent},r.createElement("p",null,"Figma comes preloaded with Google Web Fonts. To use your local fonts as well, youll need our font installer. Once installed, youll always have access to your local fonts when working on this computer."),r.createElement("br",null),r.createElement("p",null,"You can always download the font installer later from the settings page.")),r.createElement("div",{className:a.buttonRow},r.createElement(T.ButtonSecondary,{className:a.cancelLink,onClick:this.hide},"Do this later in account settings"),r.createElement(T.ButtonPrimary,{onClick:s.openFontSettings,className:a.confirmButton},"Enable local fonts")));case $.ATTEMPTED_SKETCH_FILE_DROP_MODAL:return r.createElement(d.Modal,Object.assign({className:a.modal,tintedModalBackground:!0},this.props),r.createElement("div",{className:a.title},"Import from Sketch"),r.createElement("div",{className:a.modalContent},r.createElement("p",null,"To import your Sketch files, please drag them into your file space.")),r.createElement("div",{className:a.buttonRow},r.createElement(T.ButtonSecondary,{className:a.cancelLink,onClick:this.hide},"Do it later"),r.createElement(T.ButtonLink,{href:"/files",target:"_blank",className:a.confirmButton},"Go to file space")));case $.RESTORE_COMPONENT_MODAL:return r.createElement(d.Modal,Object.assign({className:a.modal,size:"small",tintedModalBackground:!0,disableClickOutsideToHide:!0},this.props),r.createElement("div",{className:a.title},"Restore Component"),r.createElement("div",{className:a.modalContent},r.createElement("p",null,"Restore the master component to continue making edits to it.")),r.createElement("div",{className:a.buttonRow},r.createElement(T.ButtonSecondary,{className:a.cancelLink,onClick:this.hide},"Cancel"),r.createElement(T.ButtonSecondary,{onClick:this.restoreComponent,className:a.confirmButton},"Restore")))}}render(){const e=this.props.mirror.appModel.multiplayerSessionState!==X.MultiplayerSessionState.UNJOINED;let o=!this.props.mirror.appModel.isReadOnly;const t=null!=this.props.user&&this.props.mirror.appModel.topLevelMode===u.TopLevelMode.PREVIEW,s=m.getNumUnreadComments(this.props.comments),i=P.isFramerFullscreenView(this.props.selectedView),n=g.isFullscreenMenuVisible(this.props.dropdownShown),a=g.isQuickCommandBarVisible(this.props.dropdownShown),d=this.props.showingUpgradeBanner?p.TOOLBAR_HEIGHT:0,_=this.props.mirror.appModel.showKeyboardShortcuts?l.pageWithKeyboardShortcuts:l.page;return r.createElement("div",null,!1,this.props.showingUpgradeBanner&&r.createElement(V.UpgradeBanner,{userCanEditFile:o,isUserConnected:e,dispatch:this.props.dispatch}),r.createElement("div",{className:_,style:{top:d},"data-forward-events-to-fullscreen":!0},r.createElement("div",{key:"fullscreen-container",ref:this.fullscreenContainerRef}),this.props.mirror.appModel.showUi&&this.props.showingProgressBar===Y.ProgressBarMode.OFF&&r.createElement(S.ToolbarView,Object.assign({appModel:this.props.mirror.appModel,userCanEditFile:o,numUnreadComments:s,componentUpdates:this.props.library.updates.components,isCurrentVersionActive:this.props.mirror.appModel.topLevelMode===u.TopLevelMode.HISTORY&&this.props.versionHistory.activeId===f.CURRENT_VERSION,openPrototype:this.openPrototype,recordingKey:"toolbarView"},this.props)),n&&r.createElement(N.FullscreenMainMenu,{key:"fullscreen-menu",appModel:this.props.mirror.appModel,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView}),this.props.dropdownShown&&this.props.dropdownShown.type===$.DROPDOWN_TYPE_PAGE_PICKER&&this.renderPagePicker(),a&&r.createElement(b.QuickCommandBar,{key:"quick-command-bar",appModel:this.props.mirror.appModel,sceneGraph:this.props.mirror.sceneGraph,componentsByTeamId:this.props.library.published.components,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,fileByKey:this.props.fileByKey,folders:this.props.folders}),this.props.showingProgressBar!==Y.ProgressBarMode.OFF&&r.createElement("div",{className:l.filebar}),this.props.showingProgressBar!==Y.ProgressBarMode.HIDE_UI&&r.createElement(C.LeftPanel,Object.assign({isDevHandoffActive:t,pageContainingNode:this.pageContainingNode},this.props)),this.props.showingProgressBar!==Y.ProgressBarMode.HIDE_UI&&this.props.mirror.appModel.showUi&&(this.props.mirror.appModel.topLevelMode===u.TopLevelMode.LAYOUT||t)&&this.props.mirror.appModel.currentTool!==u.Tool.COMMENTS&&r.createElement(k.PropertiesPanel,Object.assign({recordingKey:"propertiesPanel"},this.props)),this.props.mirror.appModel.showUi&&this.props.mirror.appModel.topLevelMode===u.TopLevelMode.HISTORY&&r.createElement(y.VersionHistoryView,Object.assign({},this.props,{recordingKey:"versionHistoryView"})),this.props.showingProgressBar!==Y.ProgressBarMode.HIDE_UI&&this.props.user&&this.props.mirror.appModel.currentTool===u.Tool.COMMENTS&&r.createElement(c.CommentsView,Object.assign({user:this.props.user,comments:this.props.comments,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:this.props.selectedView,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showResolvedComments:this.props.comments.showResolved,showRightHandBar:this.props.mirror.appModel.showUi,toggleResolvedComments:this.toggleResolvedComments,pageId:this.props.mirror.appModel.currentPage,pageContainingNode:this.pageContainingNode,recordingKey:"commentsView",pagesList:this.props.mirror.appModel.pagesList,editingFileKey:this.props.editingFileKey},O.getPermissionsState(this.props))),r.createElement(R.FileFooter,Object.assign({},this.props)),this.props.showingProgressBar!==Y.ProgressBarMode.OFF&&r.createElement(h.ProgressBar,{progressBarMode:this.props.showingProgressBar,left:0}),this.renderReconnectingModal(),this.renderOpenDesktopAppModal(),this.renderModal(),this.renderContextMenu(),i&&r.createElement("div",{className:l.framerPageCover}),this.props.library.notification&&r.createElement(D.ComponentNotificationView,{notification:this.props.library.notification,dispatch:this.props.dispatch}),this.props.pickerShown&&this.props.pickerShown.id===L.EXPORT_PICKER_ID&&r.createElement(L.ExportPickerModal,{exports:this.props.exportableItems,fileKey:this.props.editingFileKey,dispatch:this.props.dispatch,zeplinIntegration:this.props.mirror.appModel.zeplinIntegration,avocodeIntegration:this.props.mirror.appModel.avocodeIntegration,dropdownShown:this.props.dropdownShown}),this.props.pickerShown&&this.props.pickerShown.id===K.NUDGE_AMOUNT_PICKER_ID&&r.createElement(K.NudgeAmountPicker,{smallNudgeAmount:this.props.mirror.appModel.smallNudgeAmount,bigNudgeAmount:this.props.mirror.appModel.bigNudgeAmount,dispatch:this.props.dispatch,recordingKey:"nudgeAmountPicker"})),this.props.mirror.appModel.showKeyboardShortcuts&&r.createElement(v.KeyboardShortcutPanel,{usedKeyboardShortcuts:this.props.usedKeyboardShortcuts,appModelStrings:this.props.mirror.appModel.strings,appModelKeyboardShortcuts:this.props.mirror.appModel.keyboardShortcuts}))}}$.displayName="FullscreenPageView",$.FONT_INSTALLER_MODAL="fullscreen-font-installer-modal",$.ATTEMPTED_SKETCH_FILE_DROP_MODAL="fullscreen-attempted-sketch-file-drop-modal",$.RESTORE_COMPONENT_MODAL="fullscreen-restore-component-modal",$.DROPDOWN_TYPE_PAGE_PICKER="DROPDOWN_TYPE_PAGE_PICKER",o.FullscreenPageView=$,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){e.exports={singleRowHeight:"type_panel--singleRowHeight--5Ki0S",doubleRowHeight:"type_panel--doubleRowHeight--3FGRs",input:"type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",border:"type_panel--border--gkRIW",borderFocusWithin:"type_panel--borderFocusWithin--7waG-",iconInsideBorderFocusWithin:"type_panel--iconInsideBorderFocusWithin--r7CJM",rowSelectedSecondary:"type_panel--rowSelectedSecondary--aU86X type_panel--rowSelected--3hRGL",selectHiddenInput:"type_panel--selectHiddenInput--3fbi6",iconButton:"type_panel--iconButton--Ho6QZ",borderFocus:"type_panel--borderFocus--1odIK",multiValueInput:"type_panel--multiValueInput--2ES1O type_panel--borderFocusWithin--7waG-",base:"type_panel--base--3ocTm",label:"type_panel--label--39JMi type_panel--base--3ocTm",labelInactive:"type_panel--labelInactive--22xs7 type_panel--label--39JMi type_panel--base--3ocTm",textInput:"type_panel--textInput--1dU-B type_panel--base--3ocTm type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",textAreaInput:"type_panel--textAreaInput--OMOtc type_panel--base--3ocTm type_panel--input--3B3VB type_panel--singleRowHeight--5Ki0S",noLeftBorder:"type_panel--noLeftBorder--1GL-e",squareRightBorder:"type_panel--squareRightBorder--VlbL9",_iconButton:"type_panel--_iconButton--1atxX",iconButtonEnabled:"type_panel--iconButtonEnabled--37s8J type_panel--_iconButton--1atxX",iconButtonDisabled:"type_panel--iconButtonDisabled--1D6xO type_panel--_iconButton--1atxX",iconButtonSelected:"type_panel--iconButtonSelected--3vZnq type_panel--_iconButton--1atxX",chitCenter:"type_panel--chitCenter--2kEl9",outlineButton:"type_panel--outlineButton--2h4mB",modalPanel:"type_panel--modalPanel--2bSRQ",panel:"type_panel--panel--20rz-",_row:"type_panel--_row--1F4Ev",singleRow:"type_panel--singleRow--2exCr type_panel--singleRowHeight--5Ki0S type_panel--_row--1F4Ev",doubleRow:"type_panel--doubleRow--3akHu type_panel--doubleRowHeight--3FGRs type_panel--_row--1F4Ev",labelRow:"type_panel--labelRow--2TBi1 type_panel--singleRow--2exCr type_panel--singleRowHeight--5Ki0S type_panel--_row--1F4Ev",rowSelected:"type_panel--rowSelected--3hRGL",panelTitle:"type_panel--panelTitle--2cw53",panelTitleWithTip:"type_panel--panelTitleWithTip--3Z0p0 type_panel--panelTitle--2cw53",panelTitleWithTipText:"type_panel--panelTitleWithTipText--1ESrV",panelTitleWithTipIcon:"type_panel--panelTitleWithTipIcon--19rWi",panelTitleFaded:"type_panel--panelTitleFaded--fXnjG type_panel--panelTitle--2cw53",flushLeft:"type_panel--flushLeft--1p_Ew",name:"type_panel--name--TU-Gi",missingFontIcon:"type_panel--missingFontIcon--2KR7C",visible:"type_panel--visible--27ciK",styleDropdownClassName:"type_panel--styleDropdownClassName--1nu04",style:"type_panel--style--1gYfX",size:"type_panel--size--2fsRA",sizeDropdown:"type_panel--sizeDropdown--31lgB",smallInputContainer:"type_panel--smallInputContainer--1bY0z raw_components--borderFocusWithin--3IG2Z",smallInput:"type_panel--smallInput--3YlX3 raw_components--flushLeft--2dWma",icon:"type_panel--icon--2w5oZ raw_components--iconInsideBorderFocusWithin--Ry1th",twoCol:"type_panel--twoCol--Fj7rw",link:"type_panel--link--24c8D blue_link--blueLink--22X56",fontRow:"type_panel--fontRow--StsD3",textAlignHorizontalControl:"type_panel--textAlignHorizontalControl--1u_s4",textAlignVerticalControl:"type_panel--textAlignVerticalControl--2ExDp",spacer:"type_panel--spacer--20Iia",lineHeightIconHoverIndicatorContainer:"type_panel--lineHeightIconHoverIndicatorContainer--2NXHY",lineHeightIconHoverIndicator:"type_panel--lineHeightIconHoverIndicator--z8qET",missingFontIconText:"type_panel--missingFontIconText--2SXja"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,h,l){t.exports={id:null,src:'<svg width="14" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M14 1H0V0h14v1zm0 13H0v-1h14v1z"/><path d="M3.548 11l2.8-8h1.304l2.8 8h-.954l-.7-2H5.202l-.7 2h-.954zM7 3.862L8.448 8H5.552L7 3.862z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,v){t.exports={id:"gf94d8c79",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M14 1H0V0h14v1zm-7 .793l2.354 2.353-.708.708L7.5 3.707v4.586l1.146-1.147.708.708L7 10.207 4.646 7.854l.708-.708L6.5 8.293V3.707L5.354 4.854l-.708-.708L7 1.793zM14 11v1H0v-1h14zm0 4v1H0v-1h14z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g8d2b9030",src:'<svg width="14" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M13 1H0V0h13v1zm-6.5.793l.354.353 2 2-.708.708L7 3.707v4.586l1.146-1.147.708.708-2 2-.354.353-.354-.353-2-2 .708-.708L6 8.293V3.707L4.854 4.854l-.708-.708 2-2 .354-.353zM13 11v1H0v-1h13zm0 4v1H0v-1h13z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,v,e){t.exports={id:"g69a2c98d",src:'<svg width="22" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M4.354.646l-.708.708L5.293 3H0v1h5.293L3.646 5.646l.708.708L7.207 3.5 4.354.646zM18 3H9v1h9V3zm0 4H4v1h14V7zm0 4H4v1h14v-1zm0 4H4v1h14v-1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,l){t.exports={id:null,src:'<svg width="16" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M0 12V0h1v12H0zm15 0V0h1v12h-1z"/><path d="M4.548 10l2.8-8h1.304l2.8 8h-.954l-.7-2H6.202l-.7 2h-.954zM8 2.862L9.448 7H6.552L8 2.862z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g318b8606",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M15 1H1v1h14V1zM8.354 3.646L8 3.293l-.354.353-3 3 .708.708L7.5 5.207V13h1V5.207l2.146 2.147.708-.708-3-3z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g5643ca91",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M15 1H1v1h14V1zM7.854 3.646L7.5 3.293l-.354.353-3 3 .708.708L7 5.207V13h1V5.207l2.146 2.147.708-.708-3-3z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g9ed08c5a",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 6.207l.354-.353 2-2-.708-.708L8.5 4.293V0h-1v4.293L6.354 3.146l-.708.708 2 2L8 6.207zm0 3.586l.354.353 2 2-.708.708L8.5 11.707V16h-1v-4.293l-1.146 1.147-.708-.708 2-2L8 9.793zM1 8.5h14v-1H1v1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gac0b2a8a",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.5 5.707l.354-.353 2-2-.708-.708L8 3.793V.5H7v3.293L5.854 2.646l-.708.708 2 2 .354.353zm0 3.586l.354.353 2 2-.708.708L8 11.207V14.5H7v-3.293l-1.146 1.147-.708-.708 2-2 .354-.353zM1 8h13V7H1v1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g22c590b0",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8.354 12.354L8 12.707l-.354-.353-3-3 .708-.708L7.5 10.793V3h1v7.793l2.146-2.147.708.708-3 3zM15 14v1H1v-1h14z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g0564f689",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7.854 12.354l-.354.353-.354-.353-3-3 .708-.708L7 10.793V3h1v7.793l2.146-2.147.708.708-3 3zM15 14v1H1v-1h14z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,l,c){t.exports={id:"gc73c5519",src:'<svg width="14" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M11.063 6.7H10c0-1.526.269-2.021 1.15-2.49.493-.263.905-.624.905-1.202 0-.692-.414-1.133-1.203-1.133-.79 0-1.216.305-1.263 1.133H8.497C8.547 1.602 9.349.89 10.852.89c1.502 0 2.274.847 2.274 2.117 0 .855-.517 1.55-1.218 1.992-.73.46-.845.56-.845 1.7zm.224 1.558c0 .434-.355.781-.781.781-.43 0-.781-.347-.781-.781 0-.426.351-.777.781-.777.426 0 .781.351.781.777zM.027 9l3.111-8h1.031l3.112 8H6.26l-.787-2.025h-3.64L1.046 9H.026zm3.627-6.705l1.45 3.73h-2.9l1.45-3.73z" fill-rule="evenodd" fill-opacity=".8"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),n=s(38,1       ),o=s(232                        ),r=s(337              ),a=s(143              ),l=s(1426                               ),p=s(341                              ),h=s(282                             ),c=s(746                        ),g=s(495          ),u=s(542                   ),d=s(745                       ),m=s(386                        ),f=s(712                            ),S=s(144                        ),y=s(497                                  ),_=s(498                                                              ),v=s(391                                                                        ),E=s(389                                                                  ),F=s(748                                                                              ),x=s(477                                                        ),w=s(772                                                                      ),C=s(443                                                                  ),b=s(464                                                                                                ),H=s(1261                                        ),R=s(1262              ),P=s(393                                   ),N=s(0                    ),I=s(388                                                    ),A=s(604                             ),L=s(1112                                                      ),M=s(1113                                                        ),V=s(1263                                                             ),K=s(1264                                                                   ),T=s(1265                                                                     ),z=s(1266                                                                  ),k=s(1267                                                          ),O=s(763                                                                  ),D=s(764                                                                     ),j=s(765                                                                   ),W=s(1268                                                                ),U=s(1269                                                                  ),G=s(1270                                                                    ),X=s(1271                                                                      ),B=s(1272                                                                   ),$=s(1273                                                                     ),q=s(1274                                                          );let Y=!1;class J extends i.PureComponent{constructor(){super(...arguments),this.versionsForStyles={},this.stopPropagation=(e=>e.stopPropagation()),this.alignmentRowRef=(e=>{e&&(this.alignmentRow=n.findDOMNode(e))}),this.paragraphRowRef=(e=>{e&&(this.paragraphRow=n.findDOMNode(e))}),this.settingsId="type-settings",this.isSettingsShown=(()=>this.props.pickerShown&&this.props.pickerShown.id===this.settingsId),this.toggleSettings=(e=>{if(this.isSettingsShown())this.props.dispatch(o.fullscreen.hidePicker());else{const t=m.pickerPositionLeftOf(e);this.props.dispatch(o.fullscreen.showPicker({id:this.settingsId,initialX:t.x,initialY:t.y}))}}),this.toggleSettingsFromAlignmentRow=(()=>this.toggleSettings(this.alignmentRow)),this.toggleSettingsFromParagraphRow=(()=>this.toggleSettings(this.paragraphRow)),this.onFontFamilyChange=(e=>{this.filterFontChangeWithMigration({fontFamily:e})}),this.onFontStyleChange=(e=>{this.filterFontChangeWithMigration({fontStyle:e})}),this.onChangeParagraphSpacing=((e,t)=>{l.fullscreen.updateSelectionProperties({paragraphSpacing:e},t)}),this.onChangeParagraphIndent=((e,t)=>{l.fullscreen.updateSelectionProperties({paragraphIndent:e},t)}),this.renderCustomControls=(e=>{const t=h.getValue(this.props.missingFont,!1);return i.createElement("div",null,i.createElement(v.Row,null,i.createElement(ee,{id:"font-family-combo-box",fontFamily:this.props.fontFamily,onChange:this.onFontFamilyChange,fonts:this.props.fonts,versionsForStyles:this.versionsForStyles,showGoogleFonts:this.props.showGoogleFonts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prefs:this.props.prefs,recordingKey:a.joinKeys(this.props,"fontFamily")})),i.createElement(v.Row,null,i.createElement(ie,{id:"font-style-select",fontFamily:this.props.fontFamily,fontStyle:this.props.fontStyle,onChange:this.onFontStyleChange,fonts:this.props.fonts,versionsForStyles:this.versionsForStyles,showGoogleFonts:this.props.showGoogleFonts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prefs:this.props.prefs,recordingKey:a.joinKeys(this.props,"fontStyle")}),i.createElement(re,{fontSize:this.props.fontSize,lineHeightInContext:ce(this.props),dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,disabled:t,recordingKey:a.joinKeys(this.props,"fontSize")})),i.createElement(v.Row,{className:R.twoCol},i.createElement(me,{textUserLayoutVersion:this.props.textUserLayoutVersion,intrinsicLineHeight:this.props.intrinsicLineHeight,fontSize:this.props.fontSize,lineHeight:this.props.lineHeight,disabled:t,dispatch:this.props.dispatch,recordingKey:a.joinKeys(this.props,"lineHeight"),userCreatedAt:this.props.userCreatedAt,lineHeightIconHovered:this.props.lineHeightIconHovered}),i.createElement(fe,{letterSpacing:this.props.letterSpacing,disabled:t,recordingKey:a.joinKeys(this.props,"letterSpacing")})),i.createElement(v.Row,{className:R.twoCol,ref:this.paragraphRowRef},this.renderParagraphSpacing(t),this.renderParagraphIndent(t),e&&i.createElement(E.IconButton,{svg:L,fallbackSvg:M,onClick:this.toggleSettingsFromParagraphRow,onMouseDown:this.stopPropagation,recordingKey:a.joinKeys(this.props,"settings"),className:R.iconButton,selected:this.isSettingsShown()})))}),this.renderAlignmentControls=(e=>{const t=h.getValue(this.props.missingFont,!1);return i.createElement(v.Row,{className:R.twoCol,ref:this.alignmentRowRef},i.createElement(ve,{textAlignHorizontal:this.props.textAlignHorizontal,disabled:t,recordingKey:a.joinKeys(this.props,"textAlignHorizontal")}),i.createElement(xe,{textAlignVertical:this.props.textAlignVertical,disabled:t,recordingKey:a.joinKeys(this.props,"textAlignVertical")}),e&&i.createElement(E.IconButton,{svg:L,fallbackSvg:M,onClick:this.toggleSettingsFromAlignmentRow,onMouseDown:this.stopPropagation,recordingKey:a.joinKeys(this.props,"settings"),className:R.iconButton,selected:this.isSettingsShown()}))}),this.renderAdvancedTypePicker=(e=>{if(!this.isSettingsShown())return null;const t=!!h.getValue(this.props.missingFont,!1);return i.createElement(w.TypeSettings,{fontVariantDiscretionaryLigatures:this.props.fontVariantDiscretionaryLigatures,fontVariantHistoricalLigatures:this.props.fontVariantHistoricalLigatures,fontVariantNumericFigure:this.props.fontVariantNumericFigure,fontVariantNumericSpacing:this.props.fontVariantNumericSpacing,fontVariantNumericFraction:this.props.fontVariantNumericFraction,fontVariantCaps:this.props.fontVariantCaps,fontVariantPosition:this.props.fontVariantPosition,textCase:this.props.textCase,textDecoration:this.props.textDecoration,textAutoResize:this.props.textAutoResize,textAlignHorizontal:this.props.textAlignHorizontal,showGoogleFonts:this.props.showGoogleFonts,textUserLayoutVersion:this.props.textUserLayoutVersion,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,pickerShown:this.props.pickerShown,disabled:t,isStyleConsumer:e,selectedStyleProperties:this.props.selectedStyleProperties,recordingKey:a.joinKeys(this.props,"typeSettings")})})}updateVersionsForStyles(e){this.versionsForStyles=d.getVersionsForStyles(e.fonts)}UNSAFE_componentWillReceiveProps(e){e.fonts===this.props.fonts&&e.showGoogleFonts===this.props.showGoogleFonts||this.updateVersionsForStyles(e)}UNSAFE_componentWillMount(){this.updateVersionsForStyles(this.props)}filterFontChangeWithMigration(e){const t=ce(this.props);if(t&&h.notMixed(t.lineHeight)){const s=de(t,t.lineHeight);s!==t.lineHeight&&(e.lineHeight=s)}l.fullscreen.updateSelectionProperties(e)}renderParagraphSpacing(e){return i.createElement(y.ScrubbablePositivePixelInput,{"data-tooltip-text":"Paragraph Spacing",onValueChange:this.onChangeParagraphSpacing,value:this.props.paragraphSpacing,inputClassName:R.smallInput,className:R.smallInputContainer,dispatch:this.props.dispatch,disabled:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:a.joinKeys(this.props,"paragraphSpacing")},i.createElement(I.SvgWithFallback,{svg:K,fallbackSvg:T,className:R.icon}))}renderParagraphIndent(e){return i.createElement(y.ScrubbablePositivePixelInput,{"data-tooltip-text":"Paragraph Indentation",onValueChange:this.onChangeParagraphIndent,value:this.props.paragraphIndent,inputClassName:R.smallInput,className:R.smallInputContainer,dispatch:this.props.dispatch,disabled:e,smallNudgeAmount:this.props.smallNudgeAmount,bigNudgeAmount:this.props.bigNudgeAmount,recordingKey:a.joinKeys(this.props,"paragraphIndent")},i.createElement(S.Svg,{svg:z,className:R.icon}))}render(){const e=!(h.notMixed(this.props.fontFamily)&&h.notMixed(this.props.fontStyle)&&h.notMixed(this.props.lineHeight)&&h.notMixed(this.props.letterSpacing)&&h.notMixed(this.props.paragraphIndent)&&h.notMixed(this.props.paragraphSpacing)),t=C.extractStyleContainerProps(Object.assign({},this.props,{styleType:"TEXT",inheritStyleKeyField:"inheritTextStyleKey",hasMixedProperties:e})),s=this.props.inheritStyleKey===h.MIXED||!!C.getMasterStyle(t);if(C.hasSelectedStyle(this.props.selectedStyleProperties)){const e=C.getSelectedStyle(t),n=e&&e.file_key===this.props.fileKey;return i.createElement(v.Panel,{className:n?"":P.disabledView},i.createElement(v.Row,null,i.createElement(v.PanelTitle,null,"Properties")),this.renderCustomControls(!0),this.renderAdvancedTypePicker(s))}return i.createElement(v.Panel,null,i.createElement(b.CollapsibleStyleAndPropertyPanel,Object.assign({},t,{showListLayout:!0,addProperty:null,removeAllProperties:null,isEmpty:!1,recordingKey:this.props.recordingKey,stylesButtonDataTag:"text-styles",title:"Text"}),this.renderCustomControls(!1)),i.createElement("div",{className:R.spacer}),this.renderAlignmentControls(!0),this.renderAdvancedTypePicker(s),i.createElement("div",{className:R.spacer}))}}J.displayName="TypePanel",t.TypePanel=J;class Q extends _.ComboBox{}class Z extends x.Option{}class ee extends i.PureComponent{constructor(){super(...arguments),this.sortedFamilies=[],this.formatter={format:e=>e,parse:(e,t)=>{if(e in this.props.fonts&&Object.keys(this.props.fonts[e]).length>0)return e;throw new Error("Invalid family")},increment:(e,t,s)=>{const i=this.sortedFamilies.indexOf(e);return t?this.sortedFamilies[Math.min(i+1,this.sortedFamilies.length-1)]:this.sortedFamilies[Math.max(i-1,0)]},autocomplete:e=>{e=e.toLowerCase();for(let t of this.sortedFamilies)if(t&&t.toLowerCase().startsWith(e))return t;return null},isEqual:(e,t)=>e===t},this.onMouseDown=(()=>{r.supportsFontDaemon()&&null==this.props.prefs.completed_font_installer_modal&&(Y||(Y=!0,r.checkForFontDaemon().catch(()=>{this.props.dispatch(o.fileBrowser.showModal({type:H.FullscreenPageView.FONT_INSTALLER_MODAL}))})))})}updateSortedFamilies(e){this.sortedFamilies=[];for(const t in e.fonts){if(0===Object.keys(e.versionsForStyles[t]||{}).length)continue;const s=Object.keys(e.fonts[t]).some(s=>e.fonts[t][s].source===A.FontSource.GOOGLE);"Roboto"!==t&&s&&!e.showGoogleFonts||this.sortedFamilies.push(t)}this.sortedFamilies.sort((e,t)=>{const s=e.startsWith("."),i=t.startsWith(".");return s&&!i?1:!s&&i?-1:e.localeCompare(t)})}UNSAFE_componentWillMount(){this.updateSortedFamilies(this.props)}UNSAFE_componentWillReceiveProps(e){e.fonts===this.props.fonts&&e.versionsForStyles===this.props.versionsForStyles&&e.showGoogleFonts===this.props.showGoogleFonts&&h.getValue(e.fontFamily)===h.getValue(this.props.fontFamily)||this.updateSortedFamilies(e)}render(){const e=[],t=h.getValue(this.props.fontFamily);!t||t in this.props.versionsForStyles||(e.push(i.createElement(Z,{key:"current-font",value:t,disabled:!0,recordingKey:a.joinKeys(this.props,t)})),e.push(i.createElement(x.SelectDivider,{key:"current-font-divider"})));for(const n of this.sortedFamilies)e.push(i.createElement(Z,{key:`font-name-${n}`,value:n,recordingKey:a.joinKeys(this.props,n)},i.createElement("div",{className:R.fontRow},i.createElement("span",null,n))));const s=t&&(!this.props.fonts[t]||0===Object.keys(this.props.fonts[t]).length);return i.createElement(i.Fragment,null,i.createElement("div",{className:`${R.missingFontIcon} ${s?R.visible:""}`},i.createElement(S.Svg,{svg:q,className:R.missingFontIconText})),i.createElement(Q,{id:this.props.id,formatter:this.formatter,className:R.name,property:this.props.fontFamily,onChange:this.props.onChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onMouseDown:this.onMouseDown,recordingKey:this.props.recordingKey},e))}}ee.displayName="FontFamily",t.FontFamily=ee;class te extends x.Select{}class se extends x.Option{}class ie extends i.PureComponent{constructor(){super(...arguments),this.sortedRegularStyles=[],this.sortedItalicStyles=[],this.formatter={format:e=>e},this.renderOption=((e,t)=>i.createElement(se,{key:`font-style-${e}`,value:e,recordingKey:a.joinKeys(t,e)})),this.isStyleMissing=(()=>{if(this.props.fontStyle===h.MIXED||this.props.fontFamily===h.MIXED)return!1;const e=h.getValue(this.props.fontFamily);if(null==e)return!0;const t=this.props.versionsForStyles[e];return null==t||!(h.getValue(this.props.fontStyle)in t)})}updateSortedStyles(e){this.sortedRegularStyles=[],this.sortedItalicStyles=[];const t=h.getValue(e.fontFamily);if(t&&e.versionsForStyles.hasOwnProperty(t)){const s=e.versionsForStyles[t]||{};let i=Object.keys(s).sort((i,n)=>{const o=s[i],r=s[n],a=e.fonts[t][o].styles[i],l=e.fonts[t][r].styles[n];return a.stretch<l.stretch?-1:a.stretch>l.stretch?1:a.weight<l.weight?-1:a.weight>l.weight?1:i<n?-1:i>n?1:0});this.sortedRegularStyles=i.filter(i=>{const n=s[i];return!e.fonts[t][n].styles[i].italic}),this.sortedItalicStyles=i.filter(i=>{const n=s[i];return e.fonts[t][n].styles[i].italic})}}UNSAFE_componentWillMount(){this.updateSortedStyles(this.props)}UNSAFE_componentWillReceiveProps(e){e.fontFamily===this.props.fontFamily&&e.fonts===this.props.fonts&&e.versionsForStyles===this.props.versionsForStyles&&e.showGoogleFonts===this.props.showGoogleFonts||this.updateSortedStyles(e)}render(){let e=[];return e=e.concat(this.sortedRegularStyles.map(e=>this.renderOption(e,this.props))),this.sortedRegularStyles.length&&this.sortedItalicStyles.length&&e.push(i.createElement(x.SelectDivider,{key:"roman-italic-divider"})),e=e.concat(this.sortedItalicStyles.map(e=>this.renderOption(e,this.props))),i.createElement(i.Fragment,null,i.createElement("div",{className:`${R.missingFontIcon} ${this.isStyleMissing()?R.visible:""}`},i.createElement(S.Svg,{svg:q,className:R.missingFontIconText})),i.createElement(te,{id:this.props.id,formatter:this.formatter,className:R.style,dropdownClassName:R.styleDropdownClassName,property:this.props.fontStyle,onChange:this.props.onChange,dispatch:this.props.dispatch,disabled:null===h.getValue(this.props.fontFamily)||e.length<=1,dropdownShown:this.props.dropdownShown,recordingKey:a.joinKeys(this.props,"select")},e))}}ie.displayName="FontStyle",t.FontStyle=ie;class ne extends x.Option{}const oe=[9,10,11,12,13,14,18,24,36,48,64,72,96,144,288].map(e=>i.createElement(ne,{key:`font-size-${e}`,value:e},e));class re extends i.PureComponent{constructor(){super(...arguments),this.onChangeFontSize=((e,t)=>{const s={fontSize:e};if(this.props.lineHeightInContext&&h.notMixed(this.props.lineHeightInContext.lineHeight)){const e=de(this.props.lineHeightInContext,this.props.lineHeightInContext.lineHeight);e!==this.props.lineHeightInContext.lineHeight&&(s.lineHeight=e)}l.fullscreen.updateSelectionProperties(s,t)})}render(){return i.createElement(y.ScrubbablePositivePixelComboBox,{id:"font-size-combo-box",className:R.size,dropdownClassName:R.sizeDropdown,onValueChange:this.onChangeFontSize,value:this.props.fontSize,dropdownShown:this.props.dropdownShown,min:1,dispatch:this.props.dispatch,disabled:this.props.disabled,recordingKey:this.props.recordingKey},oe)}}var ae;re.displayName="FontSize",function(e){e[e.OLD=0]="OLD",e[e.FEB19=1]="FEB19"}(ae||(ae={}));class le{constructor(e,t,s,i){this.textUserLayoutVersion=e,this.intrinsicLineHeight=t,this.fontSize=s,this.lineHeight=i}withLineHeight(e){return new le(this.textUserLayoutVersion,this.intrinsicLineHeight,this.fontSize,e)}}function pe(e){const{intrinsicLineHeight:t,fontSize:s,lineHeight:i}=e;if(h.notMixed(i))switch(i.units){case"RAW":return i.value;case"PIXELS":if(!h.notMixed(s))return;return i.value/s;case"PERCENT":if(!h.notMixed(t))return;return i.value/100*t}}function he(e){const{textUserLayoutVersion:t,intrinsicLineHeight:s,fontSize:i,lineHeight:n}=e,o=(()=>t===h.MIXED||t===ae.OLD?e=>e:e=>Math.round(e))();if(h.notMixed(n))switch(n.units){case"RAW":if(!h.notMixed(i))return;return o(n.value*i);case"PIXELS":return n.value;case"PERCENT":if(!h.notMixed(s)||!h.notMixed(i))return;return o(n.value/100*s*i)}}const ce=g.memoizeLast(e=>{if(null==e.intrinsicLineHeight||null==e.fontSize||null==e.lineHeight)return;const t=null!=e.textUserLayoutVersion&&h.notMixed(e.textUserLayoutVersion)?function(e){switch(e){case 0:return ae.OLD;case 1:case 2:default:return ae.FEB19}}(e.textUserLayoutVersion):h.MIXED;return new le(t,e.intrinsicLineHeight,e.fontSize,e.lineHeight)});class ge{constructor(e){this.lineHeightInContext=e,this.initialLineHeightInContext=e,this.defaultValue={value:100,units:"PERCENT"}}parse(e,t){if(""===(e=e.trim().toLowerCase())&&void 0!==this.defaultValue)return this.defaultValue;if("%"===e){if(null==t||"PIXELS"===t.units||100===t.value&&"PERCENT"===t.units){const e=pe(this.lineHeightInContext);if(null==e)throw new Error("insufficient information to parse input");return{value:e,units:"RAW"}}return this.defaultValue}if("auto"===e||"auto%"===e)return this.defaultValue;if("px"===e||"px%"===e){const e=he(this.lineHeightInContext);if(null==e)throw new Error("single equivalent PIXELS value is undefined");return{value:e,units:"PIXELS"}}const s=u.PixelPercentageFormatter.parse(e);if(void 0===s)throw new Error("could not parse input");const[i,n]=s;switch(n){case"PIXELS":return{value:i,units:n};case void 0:return{value:i,units:"PIXELS"};case"RAW":case"PERCENT":return{value:i/100,units:"RAW"}}}defaultSelection(e){if(N.default().feature_flags.web_line_height){const t=/[0-9\.]+/.exec(e);if(null!=t)return{start:t.index,end:t.index+t[0].length}}return{start:0,end:e.length}}format(e){return null==e||e.value!=e.value||null==this.initialLineHeightInContext?"":function(e){const{lineHeight:t}=e;if(!h.notMixed(t))return"Mixed";if(ue(t))return"Auto";switch(t.units){case"PERCENT":const s=pe(e);return null==s?"Mixed":`${parseFloat((100*s).toFixed(1))}%`;case"PIXELS":return`${parseFloat(t.value.toFixed(1))}`;case"RAW":return`${parseFloat((100*t.value).toFixed(1))}%`}}(this.initialLineHeightInContext.withLineHeight(e))}nudgeAmountForUnit(e,t){switch(e){case"PIXELS":return t?10:1;case"RAW":return t?.1:.01;case"PERCENT":const{intrinsicLineHeight:s,fontSize:i}=this.lineHeightInContext;return h.notMixed(s)&&h.notMixed(i)?100*(t?10:1)/(s*i):t?10:1}}increment(e,t,s){const i=this.nudgeAmountForUnit(e.units,s);return{value:t?e.value-i:e.value+i,units:e.units}}clamp(e){let t=e.value;return{value:t=Math.max(t,0),units:e.units}}}function ue(e){return!(null==e||!h.notMixed(e))&&(!!N.default().feature_flags.web_line_height&&("PERCENT"===e.units&&Math.abs(e.value-100)<.1))}function de(e,t){if(null==t||!N.default().feature_flags.web_line_height||"PERCENT"!==t.units||ue(t))return t;const s=pe(e.withLineHeight(t));return null==s?t:{value:s,units:"RAW"}}class me extends i.Component{constructor(){super(...arguments),this.getLineHeightFormatter=g.memoizeLast(e=>{if(N.default().feature_flags.web_line_height)return new ge(e)}),this.getOnValueChange=g.memoizeLast(e=>(t,s)=>{s===p.ShouldCommit.YES&&null!=e&&(t=de(e,t)),l.fullscreen.updateSelectionProperties({lineHeight:t},s)}),this.getScrubMultipliers=g.memoizeLast(e=>{if(N.default().feature_flags.web_line_height)return{PERCENT:h.notMixed(e.intrinsicLineHeight)?e.intrinsicLineHeight:1,RAW:100}}),this.onMouseOver=(()=>{f.putPreferences(this.props.dispatch,{line_height_icon_hovered_new:!0})})}render(){const e=N.default().feature_flags.web_line_height&&c.lineHeightLaunch.isAfter(this.props.userCreatedAt),t=ce(this.props),s=t&&he(t),n=t&&ue(t.lineHeight),o=this.getLineHeightFormatter(t);return i.createElement(y.ScrubbableFigNumberInput,{"data-tooltip-text":e?"Line Height\n(in pixels or % of font size)":"Line Height",value:this.props.lineHeight,onValueChange:this.getOnValueChange(t),onMouseOver:this.onMouseOver,disabled:this.props.disabled,inputClassName:R.smallInput,className:R.smallInputContainer,recordingKey:this.props.recordingKey,min:0,formatter:o,shouldClearOnFocus:n,placeholder:n?null==s?"Mixed":parseFloat(s.toFixed(1)).toString():void 0,multipliers:t&&this.getScrubMultipliers(t)},i.createElement(S.Svg,{svg:V,className:R.icon}),!this.props.lineHeightIconHovered&&e&&i.createElement("div",{className:R.lineHeightIconHoverIndicatorContainer},i.createElement("div",{className:R.lineHeightIconHoverIndicator})))}}me.displayName="LineHeight";class fe extends i.PureComponent{constructor(){super(...arguments),this.onChangeLetterSpacing=((e,t)=>{l.fullscreen.updateSelectionProperties({letterSpacing:e},t)})}render(){return i.createElement(y.ScrubbableFigNumberInput,{"data-tooltip-text":"Letter Spacing",value:this.props.letterSpacing,onValueChange:this.onChangeLetterSpacing,disabled:this.props.disabled,inputClassName:R.smallInput,className:R.smallInputContainer,recordingKey:this.props.recordingKey},i.createElement(S.Svg,{svg:k,className:R.icon}))}}var Se;fe.displayName="LetterSpacing",function(e){e.LEFT="text-align-left",e.CENTER="text-align-center",e.RIGHT="text-align-right",e.JUSTIFIED="text-align-justified"}(Se=t.TextAlignHorizontalAction||(t.TextAlignHorizontalAction={}));class ye extends F.SegmentedControl{}t.TextAlignHorizontalControl=ye;class _e extends F.Segment{}t.TextAlignHorizontalSegment=_e;class ve extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{l.fullscreen.triggerAction(Se[e],{source:"panel"})})}render(){const e=[i.createElement(_e,{svg:O,value:"LEFT",tooltipAction:Se.LEFT,key:"text-align-horizontal-segment-left"}),i.createElement(_e,{svg:D,value:"CENTER",tooltipAction:Se.CENTER,key:"text-align-horizontal-segment-center"}),i.createElement(_e,{svg:j,value:"RIGHT",tooltipAction:Se.RIGHT,key:"text-align-horizontal-segment-right"})];return i.createElement(ye,{property:this.props.textAlignHorizontal,onChange:this.onChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:R.textAlignHorizontalControl},e)}}ve.displayName="TextAlignHorizontal";class Ee extends F.SegmentedControl{}class Fe extends F.Segment{}class xe extends i.PureComponent{constructor(){super(...arguments),this.onChange=(e=>l.fullscreen.updateSelectionProperties({textAlignVertical:e}))}render(){return i.createElement(Ee,{property:this.props.textAlignVertical,onChange:this.onChange,disabled:this.props.disabled,recordingKey:this.props.recordingKey,className:R.textAlignVerticalControl},i.createElement(Fe,{svg:W,fallbackSvg:U,value:"TOP",tooltip:"Align Top"}),i.createElement(Fe,{svg:G,fallbackSvg:X,value:"CENTER",tooltip:"Align Middle"}),i.createElement(Fe,{svg:B,fallbackSvg:$,value:"BOTTOM",tooltip:"Align Bottom"}))}}xe.displayName="TextAlignVertical",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,s,o){n.exports={container:"missing_fonts_modal--container--2DaF1",message:"missing_fonts_modal--message--YgBr5",fontRow:"missing_fonts_modal--fontRow--1zEr2",replacementsContainer:"missing_fonts_modal--replacementsContainer--z9Kni",headerLabel:"missing_fonts_modal--headerLabel--3VYf3",left:"missing_fonts_modal--left--efElp",right:"missing_fonts_modal--right--1nZUj",buttonRow:"missing_fonts_modal--buttonRow--1UfFc",leftButton:"missing_fonts_modal--leftButton--2EvAf",linkRow:"missing_fonts_modal--linkRow--QHMhR missing_fonts_modal--buttonRow--1UfFc",link:"missing_fonts_modal--link--jOr3X blue_link--blueLink--22X56",title:"missing_fonts_modal--title--1wSnP",missingFontIcon:"missing_fonts_modal--missingFontIcon--14M2U type_panel--missingFontIcon--2KR7C",missingFontIconText:"missing_fonts_modal--missingFontIconText--4M7wD type_panel--missingFontIconText--2SXja"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(34,1   ),o=t(232                        ),i=t(370              ),a=t(337              ),l=t(198         ),r=t(1426                               ),p=t(744                                   ),c=t(745                       ),m=t(391                                                                        ),h=t(1275                                                               ),d=t(214                                                    ),f=t(204                                            ),g=t(144                        ),y=t(385                                        ),F=t(173                        ),u=t(219          ),S=t(1276                       ),_=t(371                       ),v=t(95               ),b=t(1274                                                          ),w=i.pxToInt(y.missingFontsModal),E=i.pxToInt(y.rightNavWidth__REFRESH),N=i.pxToInt(y.toolbarHeight),C=12;function O(e){return`${e.family}\t${e.style}\t${e.version}`}class k extends n.PureComponent{constructor(e){super(e),this.versionsForStyles={},this.onClose=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.onFontFamilyChange=((e,s)=>{const t=Object.assign({},this.state.replacements),n=this.props.missingFonts[e];let o=null;for(let i of Object.keys(this.props.fonts[s])){console.log("version:",i),console.log("data:",this.props.fonts[s][i]);const e=this.props.fonts[s][i].styles,t=n.style;if(e.hasOwnProperty(t)&&this.versionsForStyles[s][t]===i){o={style:t,version:i};break}console.log()}if(!o){const e=Object.keys(this.versionsForStyles[s])[0];o={style:e,version:this.versionsForStyles[s][e]}}t[O(n)]={oldName:n,newName:Object.assign({},o,{family:s})},this.setState({replacements:t})}),this.onFontStyleChange=((e,s)=>{const t=Object.assign({},this.state.replacements),n=this.props.missingFonts[e],o=t[O(n)],i=o?o.newName.family:n.family,a=this.versionsForStyles[i][s];t[O(n)]={oldName:n,newName:{family:i,style:s,version:a}},this.setState({replacements:t})}),this.onApply=(()=>{const e=this.state.replacements;for(let s in e)r.fullscreen.sendMessage("replaceFontInSelection",{replacements:[{replace:e[s].oldName,with:e[s].newName}]}),r.fullscreen.commit();r.fullscreen.resetMissingFonts(),this.onClose()}),this.getOrgSharedFontsUrl=(()=>{let e=null;if(this.props.currentOrgId){if(!F.canAdminOrg(this.props.currentOrgId,this.props))return null;e=this.props.currentOrgId}else for(const s in this.props.orgById)F.canAdminOrg(s,this.props)&&(e=s);return e?`/files/${e}/recent?${v.encode({orgDashboardTab:"fonts"})}`:null}),this.getTeamSharedFontsUrl=(()=>{let e=null;if(this.props.editingFileKey){const s=this.props.fileByKey[this.props.editingFileKey];s.team_id&&this.props.teams[s.team_id].org_id&&(e=s.team_id)}if(e){if(!F.canAdminTeam(e,this.props))return null}else for(const t in this.props.teams)F.canAdminTeam(t,this.props)&&this.props.teams[t].org_id&&(e=t);const s={teamPreferencesModalTab:_.LibraryPreferencesModalTab.FONTS};return e?`/files/team/${e}?${v.encode(s)}`:null}),this.onOpenFontSettings=(()=>{a.openFontSettings(),this.onClose()}),this.onSharedFontsClick=(()=>{u.segmentTrackEvent("shared_fonts_upload_from_missing_fonts")}),this.title=n.createElement("div",{className:S.title},n.createElement("div",{className:S.missingFontIcon},n.createElement(g.Svg,{className:S.missingFontIconText,svg:b,useOriginalSrcFills:!0})),"Missing Fonts"),this.initialPosition=new l.Vector(window.innerWidth-E-w-C,N+C),this.state={replacements:Object.create(null)}}UNSAFE_componentWillMount(){this.updateVersionsForStyles(this.props)}UNSAFE_componentWillReceiveProps(e){e.fonts!==this.props.fonts&&this.updateVersionsForStyles(e)}updateVersionsForStyles(e){this.versionsForStyles=c.getVersionsForStyles(e.fonts)}render(){const e=this.getOrgSharedFontsUrl()||this.getTeamSharedFontsUrl(),s=a.supportsFontDaemon()&&!p.hasLocalFonts();return n.createElement(d.DraggableModal,{initialPosition:this.initialPosition,title:this.title,headerSize:"small",onClose:this.onClose},n.createElement("div",{className:S.container},n.createElement("div",{className:S.message},"The following typefaces are not installed on your machine. Please replace the missing typeface in order to edit text."),n.createElement("div",{className:S.fontRow},n.createElement(m.LabelInactive,{className:S.headerLabel},"Family"),n.createElement(m.LabelInactive,{className:S.headerLabel},"Style")),n.createElement("div",{className:S.replacementsContainer},this.props.missingFonts.map((e,s)=>{const t=this.state.replacements[O(e)],o=t?t.newName:e;return n.createElement("div",{className:S.fontRow,key:s},n.createElement("div",{className:S.left},n.createElement(h.FontFamily,{id:`missing-font-name-${s}`,onChange:this.onFontFamilyChange.bind(this,s),fonts:this.props.fonts,fontFamily:o.family,versionsForStyles:this.versionsForStyles,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showGoogleFonts:!0,prefs:this.props.prefs})),n.createElement("div",{className:S.right},n.createElement(h.FontStyle,{id:`missing-font-style-${s}`,onChange:this.onFontStyleChange.bind(this,s),fonts:this.props.fonts,fontFamily:o.family,fontStyle:o.style,versionsForStyles:this.versionsForStyles,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showGoogleFonts:!0,prefs:this.props.prefs})))})),n.createElement("div",{className:S.buttonRow},e&&n.createElement("a",{className:S.leftButton,href:e,onClick:this.onSharedFontsClick,target:"_blank",rel:"noopener"},n.createElement(f.ButtonSecondary,null,"Upload a Shared Font")),n.createElement(f.ButtonSecondary,{onClick:this.onClose},"Cancel"),n.createElement(f.ButtonPrimary,{disabled:0==Object.keys(this.state.replacements).length,onClick:this.onApply},"Apply")),s&&n.createElement("div",{className:S.linkRow},n.createElement("a",{className:S.link,onClick:this.onOpenFontSettings},"Install the Font Helper to use your local fonts"))))}}k.displayName="MissingFontsModal",s.MissingFontsModal=k,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),l=a(350          ),n=a(346                                 ),o=a(147                                        ),i=a(129                               ),r=a(204                                            ),d=a(219          ),c=a(1426                               );class p extends s.Component{render(){const e=this.props.upgradingState===i.MultiplayerSessionState.UPGRADING?"Saving your changes...":"Reloading the page...";return s.createElement(n.Modal,{size:"small",className:l.modal,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},s.createElement("div",{className:l.title},"Figma needs to reload"),s.createElement("div",{className:l.modalContent},e),s.createElement("div",{className:l.buttonRow},s.createElement(o.LoadingSpinner,null)))}}p.displayName="UpgradingModal",t.UpgradingModal=p;class m extends s.Component{constructor(){super(...arguments),this.noOp=(()=>{}),this.onUpdateClicked=(()=>{d.segment.track("Upgrade Modal Clicked"),c.fullscreen.sendMessage("startUpgrade")})}render(){const{multiplayerSessionState:e,isReadOnly:t}=this.props,a=e!==i.MultiplayerSessionState.UNJOINED,o=!t;return e===i.MultiplayerSessionState.UPGRADING||e===i.MultiplayerSessionState.WAITING_FOR_RELOAD?null:s.createElement(n.Modal,{size:"small",className:l.modal,disableClickOutsideToHide:!0,dispatch:this.noOp},s.createElement("div",{className:l.title},"Figma needs to reload"),s.createElement("div",{className:l.modalContent},"This page is out of date and can no longer connect to the server properly. Your data is still safe, but Figma needs to reload to continue.",!a&&s.createElement("span",null,s.createElement("br",null),"",s.createElement("br",null),"We can't reach our servers right now. Please make sure you are connected to the internet.")),a&&s.createElement("div",{className:l.buttonRow},s.createElement(r.ButtonPrimary,{onClick:this.onUpdateClicked},o?"Save and Reload":"Reload")))}}m.displayName="OutOfDateWall",t.OutOfDateWall=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(178              ),c=i(0                    ),o=c.initialOptions().stripe_api_public;let r=null;const s=()=>new Promise((e,t)=>{r?e(r):o?n.loadScript("https://js.stripe.com/v3/",!0).then(()=>{r=Stripe(o),e(r)}).catch(t):t("No Stripe api key")});t.createCard=(e=>new Promise((t,i)=>{s().then(i=>{const n=i.elements().create("card",e);t(n)}).catch(i)})),t.createToken=((e,t)=>new Promise((i,n)=>{s().then(c=>{c.createToken(e,t).then(e=>{i(e)}).catch(n)}).catch(n)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,n){o.exports={uiFontFamily:"Roboto, sans-serif",uiLabelFontFamily:"Roboto, sans-serif",uiLabelFont:"normal normal 400 11px/15px Roboto, sans-serif",uiLabelParagraphFont:"normal normal 400 11px/18px Roboto, sans-serif",uiLargeBodyFontFamily:"Roboto, sans-serif",uiLargeBodyFont:"normal normal 400 14px/20px Roboto, sans-serif",uiTitleFontFamily:"Roboto, sans-serif",uiTitleFont:"normal normal 400 14px/20px Roboto, sans-serif",uiSmallTitleFontFamily:"Roboto, sans-serif",uiSmallTitleFont:"normal normal 400 12px/18px Roboto, sans-serif",uiLargeTitleFontFamily:"Roboto, sans-serif",uiLargeTitleFont:"normal normal 500 22px/30px Roboto, sans-serif",uiHUDFontFamily:"Roboto, sans-serif",uiHUDFont:"normal normal 400 14px/20px Roboto, sans-serif",uiMonospaceFontFamily:"Roboto Mono, monospace",uiMonospaceFont:"normal normal 400 11px/18px Roboto Mono, monospace",uiFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiLabelFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiLabelFont__REFRESH:"normal 400 11px/16px 'Inter', Roboto, sans-serif",uiLabelParagraphFont__REFRESH:"normal 400 11px/16px 'Inter', Roboto, sans-serif",uiLabelLetterSpacing__REFRESH:"0.005em",uiLabelLetterSpacingNeg__REFRESH:"0.01em",uiLargeBodyFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiLargeBodyFont__REFRESH:"normal 400 14px/24px 'Inter', Roboto, sans-serif",uiLargeBodyLetterSpacing__REFRESH:"-0.006em",uiLargeBodyLetterSpacingNeg__REFRESH:"-0.001em",uiTitleFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiTitleFont__REFRESH:"normal 400 14px/24px 'Inter', Roboto, sans-serif",uiTitleLetterSpacing__REFRESH:"-0.006em",uiTitleLetterSpacingNeg__REFRESH:"-0.001em",uiSmallTitleFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiSmallTitleFont__REFRESH:"normal 400 12px/16px 'Inter', Roboto, sans-serif",uiSmallTitleLetterSpacing__REFRESH:0,uiSmallTitleLetterSpacingNeg__REFRESH:"0.005em",uiLargeTitleFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiLargeTitleFont__REFRESH:"normal 500 22px/32px 'Inter', Roboto, sans-serif",uiLargeTitleLetterSpacing__REFRESH:"-0.018em",uiHUDFontFamily__REFRESH:"'Inter', Roboto, sans-serif",uiHUDFont__REFRESH:"normal 400 14px/24px 'Inter', Roboto, sans-serif",uiHUDLetterSpacing__REFRESH:"-0.006em",uiHUDLetterSpacingNeg__REFRESH:"-0.001em",uiMonospaceFontFamily__REFRESH:"Roboto Mono, monospace",uiMonospaceFont__REFRESH:"normal 400 11px/16px Roboto Mono, monospace",keyboardShortcutLetterSpacing__REFRESH:"0.08em",keyboardShortcutFontFeatures:"'case' on, 'ss01' on, 'zero' on, 'cv08' on, 'tnum' on"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(a,n,i){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.iso3166=[["Afghanistan","AF"],["land Islands","AX"],["Albania","AL"],["Algeria","DZ"],["American Samoa","AS"],["Andorra","AD"],["Angola","AO"],["Anguilla","AI"],["Antarctica","AQ"],["Antigua and Barbuda","AG"],["Argentina","AR"],["Armenia","AM"],["Aruba","AW"],["Australia","AU"],["Austria","AT"],["Azerbaijan","AZ"],["Bahamas","BS"],["Bahrain","BH"],["Bangladesh","BD"],["Barbados","BB"],["Belarus","BY"],["Belgium","BE"],["Belize","BZ"],["Benin","BJ"],["Bermuda","BM"],["Bhutan","BT"],["Bolivia (Plurinational State of)","BO"],["Bonaire, Sint Eustatius and Saba","BQ"],["Bosnia and Herzegovina","BA"],["Botswana","BW"],["Bouvet Island","BV"],["Brazil","BR"],["British Indian Ocean Territory","IO"],["Brunei Darussalam","BN"],["Bulgaria","BG"],["Burkina Faso","BF"],["Burundi","BI"],["Cabo Verde","CV"],["Cambodia","KH"],["Cameroon","CM"],["Canada","CA"],["Cayman Islands","KY"],["Central African Republic","CF"],["Chad","TD"],["Chile","CL"],["China","CN"],["Christmas Island","CX"],["Cocos (Keeling) Islands","CC"],["Colombia","CO"],["Comoros","KM"],["Congo","CG"],["Congo (Democratic Republic of the)","CD"],["Cook Islands","CK"],["Costa Rica","CR"],["Cte d'Ivoire","CI"],["Croatia","HR"],["Cuba","CU"],["Curaao","CW"],["Cyprus","CY"],["Czechia","CZ"],["Denmark","DK"],["Djibouti","DJ"],["Dominica","DM"],["Dominican Republic","DO"],["Ecuador","EC"],["Egypt","EG"],["El Salvador","SV"],["Equatorial Guinea","GQ"],["Eritrea","ER"],["Estonia","EE"],["Eswatini","SZ"],["Ethiopia","ET"],["Falkland Islands (Malvinas)","FK"],["Faroe Islands","FO"],["Fiji","FJ"],["Finland","FI"],["France","FR"],["French Guiana","GF"],["French Polynesia","PF"],["French Southern Territories","TF"],["Gabon","GA"],["Gambia","GM"],["Georgia","GE"],["Germany","DE"],["Ghana","GH"],["Gibraltar","GI"],["Greece","GR"],["Greenland","GL"],["Grenada","GD"],["Guadeloupe","GP"],["Guam","GU"],["Guatemala","GT"],["Guernsey","GG"],["Guinea","GN"],["Guinea-Bissau","GW"],["Guyana","GY"],["Haiti","HT"],["Heard Island and McDonald Islands","HM"],["Holy See","VA"],["Honduras","HN"],["Hong Kong","HK"],["Hungary","HU"],["Iceland","IS"],["India","IN"],["Indonesia","ID"],["Iran (Islamic Republic of)","IR"],["Iraq","IQ"],["Ireland","IE"],["Isle of Man","IM"],["Israel","IL"],["Italy","IT"],["Jamaica","JM"],["Japan","JP"],["Jersey","JE"],["Jordan","JO"],["Kazakhstan","KZ"],["Kenya","KE"],["Kiribati","KI"],["Korea (Democratic People's Republic of)","KP"],["Korea (Republic of)","KR"],["Kuwait","KW"],["Kyrgyzstan","KG"],["Lao People's Democratic Republic","LA"],["Latvia","LV"],["Lebanon","LB"],["Lesotho","LS"],["Liberia","LR"],["Libya","LY"],["Liechtenstein","LI"],["Lithuania","LT"],["Luxembourg","LU"],["Macao","MO"],["Macedonia (the former Yugoslav Republic of)","MK"],["Madagascar","MG"],["Malawi","MW"],["Malaysia","MY"],["Maldives","MV"],["Mali","ML"],["Malta","MT"],["Marshall Islands","MH"],["Martinique","MQ"],["Mauritania","MR"],["Mauritius","MU"],["Mayotte","YT"],["Mexico","MX"],["Micronesia (Federated States of)","FM"],["Moldova (Republic of)","MD"],["Monaco","MC"],["Mongolia","MN"],["Montenegro","ME"],["Montserrat","MS"],["Morocco","MA"],["Mozambique","MZ"],["Myanmar","MM"],["Namibia","NA"],["Nauru","NR"],["Nepal","NP"],["Netherlands","NL"],["New Caledonia","NC"],["New Zealand","NZ"],["Nicaragua","NI"],["Niger","NE"],["Nigeria","NG"],["Niue","NU"],["Norfolk Island","NF"],["Northern Mariana Islands","MP"],["Norway","NO"],["Oman","OM"],["Pakistan","PK"],["Palau","PW"],["Palestine, State of","PS"],["Panama","PA"],["Papua New Guinea","PG"],["Paraguay","PY"],["Peru","PE"],["Philippines","PH"],["Pitcairn","PN"],["Poland","PL"],["Portugal","PT"],["Puerto Rico","PR"],["Qatar","QA"],["Runion","RE"],["Romania","RO"],["Russian Federation","RU"],["Rwanda","RW"],["Saint Barthlemy","BL"],["Saint Helena, Ascension and Tristan da Cunha","SH"],["Saint Kitts and Nevis","KN"],["Saint Lucia","LC"],["Saint Martin (French part)","MF"],["Saint Pierre and Miquelon","PM"],["Saint Vincent and the Grenadines","VC"],["Samoa","WS"],["San Marino","SM"],["Sao Tome and Principe","ST"],["Saudi Arabia","SA"],["Senegal","SN"],["Serbia","RS"],["Seychelles","SC"],["Sierra Leone","SL"],["Singapore","SG"],["Sint Maarten (Dutch part)","SX"],["Slovakia","SK"],["Slovenia","SI"],["Solomon Islands","SB"],["Somalia","SO"],["South Africa","ZA"],["South Georgia and the South Sandwich Islands","GS"],["South Sudan","SS"],["Spain","ES"],["Sri Lanka","LK"],["Sudan","SD"],["Suriname","SR"],["Svalbard and Jan Mayen","SJ"],["Sweden","SE"],["Switzerland","CH"],["Syrian Arab Republic","SY"],["Taiwan","TW"],["Tajikistan","TJ"],["Tanzania, United Republic of","TZ"],["Thailand","TH"],["Timor-Leste","TL"],["Togo","TG"],["Tokelau","TK"],["Tonga","TO"],["Trinidad and Tobago","TT"],["Tunisia","TN"],["Turkey","TR"],["Turkmenistan","TM"],["Turks and Caicos Islands","TC"],["Tuvalu","TV"],["Uganda","UG"],["Ukraine","UA"],["United Arab Emirates","AE"],["United Kingdom of Great Britain and Northern Ireland","GB"],["United States of America","US"],["United States Minor Outlying Islands","UM"],["Uruguay","UY"],["Uzbekistan","UZ"],["Vanuatu","VU"],["Venezuela (Bolivarian Republic of)","VE"],["Viet Nam","VN"],["Virgin Islands (British)","VG"],["Virgin Islands (U.S.)","VI"],["Wallis and Futuna","WF"],["Western Sahara","EH"],["Yemen","YE"],["Zambia","ZM"],["Zimbabwe","ZW"]],n.iso3166_forbidden=["AX","CU","GG","GS","HM","IO","IR","KP","LB","LY","SD","SO","SY","TF","UM"],n.iso3166_2_US=[["Alabama","AL"],["Alaska","AK"],["Arizona","AZ"],["Arkansas","AR"],["California","CA"],["Colorado","CO"],["Connecticut","CT"],["Delaware","DE"],["Florida","FL"],["Georgia","GA"],["Hawaii","HI"],["Idaho","ID"],["Illinois","IL"],["Indiana","IN"],["Iowa","IA"],["Kansas","KS"],["Kentucky","KY"],["Louisiana","LA"],["Maine","ME"],["Maryland","MD"],["Massachusetts","MA"],["Michigan","MI"],["Minnesota","MN"],["Mississippi","MS"],["Missouri","MO"],["Montana","MT"],["Nebraska","NE"],["Nevada","NV"],["New Hampshire","NH"],["New Jersey","NJ"],["New Mexico","NM"],["New York","NY"],["North Carolina","NC"],["North Dakota","ND"],["Ohio","OH"],["Oklahoma","OK"],["Oregon","OR"],["Pennsylvania","PA"],["Rhode Island","RI"],["South Carolina","SC"],["South Dakota","SD"],["Tennessee","TN"],["Texas","TX"],["Utah","UT"],["Vermont","VT"],["Virginia","VA"],["Washington","WA"],["West Virginia","WV"],["Wisconsin","WI"],["Wyoming","WY"],["District of Columbia","DC"],["American Samoa","AS"],["Guam","GU"],["Northern Mariana Islands","MP"],["Puerto Rico","PR"],["United States Minor Outlying Islands","UM"],["Virgin Islands, U.S.","VI"]],a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(r,e,s){r.exports={stripeCard:"stripe--stripeCard--1n88g",hasToken:"stripe--hasToken--3dPx0",stripeCardToken:"stripe--stripeCardToken--3rxrU",description:"stripe--description--Q3TzK",stripeCardAndAddress:"stripe--stripeCardAndAddress--2c5jf",group:"stripe--group--3HWZs",groupCityRegion:"stripe--groupCityRegion--1h6C3",errorMessage:"stripe--errorMessage--2ybQK",smallGrayText:"stripe--smallGrayText--2O9Wh"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),n=s(780                                  ),r=s(1280                                     ),o=s(1281               ),i=s(1279                  ),d=s(201                                      ),l=s(1282          );class p extends a.PureComponent{constructor(e){super(e),this.card=null,this.cardReady=!1,this.countryOptions=null,this.stateOptions=null,this.getDefaultState=(()=>{let e={locale:"US",address_line1:"",address_line2:"",address_country:"US",address_city:"",address_region:"",address_postal_code:""};return this.props.address&&(e.locale="US"==this.props.address.country?"US":"other",e.address_line1=this.props.address.line1,e.address_line2=this.props.address.line2,e.address_country=this.props.address.country,e.address_city=this.props.address.city,e.address_region=this.props.address.region,e.address_postal_code=this.props.address.postal_code),e}),this.isReady=(()=>this.cardReady),this.getCard=(()=>this.card),this.getAddress=(()=>({line1:this.state.address_line1,line2:this.state.address_line2,country:this.state.address_country,city:this.state.address_city,region:this.state.address_region,postal_code:this.state.address_postal_code})),this.onChangeFormInput=(e=>{const t=e.target.name,s=e.target.value;if(!t)return e.preventDefault(),void console.error("HTMLInputElement is missing name attribute:",e.target);const a={};switch(a[t]=s,t){case"address_country":a.locale="US"===s?"US":"other"}this.setState(Object.assign({},this.state,a))}),this.onClickChangeCard=(e=>{e.preventDefault(),this.props.dispatchSetToken&&this.props.dispatchSetToken(null)}),this.state=this.getDefaultState()}componentDidMount(){const e={base:{color:n.figmaMediumGray,fontFamily:r.uiLabelFontFamily__REFRESH,fontSize:14,"::placeholder":{color:n.figmaLightGray}},invalid:{color:n.figmaRed}};i.createCard({style:e,hidePostalCode:!0}).then(e=>{this.card=e,e.mount(`#${this.props.cardId}`),e.on("ready",()=>{this.cardReady=!0})}).catch(e=>null)}componentWillUnmount(){this.card&&this.card.unmount()}render(){if(null===this.countryOptions){this.countryOptions=[];for(let e of o.iso3166)"US"!==e[1]&&-1===o.iso3166_forbidden.indexOf(e[1])&&this.countryOptions.push(a.createElement("option",{key:e[1],value:e[1]},e[0]))}if(null===this.stateOptions){this.stateOptions=[];for(let e of o.iso3166_2_US)"US"!==e[1]&&this.stateOptions.push(a.createElement("option",{key:e[1],value:e[1]},e[0]))}return a.createElement("div",{id:this.props.id,className:`${l.stripeCardAndAddress} ${this.props.className||""}`},a.createElement("div",{className:l.group},a.createElement("div",{id:this.props.cardId,className:`${l.stripeCard} ${this.props.cardClassName||""}`,style:{display:this.props.token?"none":"block"}}),this.props.token&&a.createElement("div",{className:`${l.stripeCardToken}`},a.createElement("span",{className:l.description},this.props.token.card.brand," ending in ",this.props.token.card.last4,"",a.createElement("span",{className:l.smallGrayText},"(",a.createElement("a",{onClick:this.onClickChangeCard},"change"),")")))),a.createElement("style",{dangerouslySetInnerHTML:{__html:"\n          .StripeElement--focus {\n            border: 1px solid #444;\n          }\n        "}}),a.createElement("div",{className:l.group},a.createElement(d.LazyInput,{name:"address_line1",value:this.state.address_line1,placeholder:"Address Line 1",autoComplete:"shipping address-line1",type:"text",maxLength:50,onChange:this.onChangeFormInput})),a.createElement("div",{className:l.group},a.createElement(d.LazyInput,{name:"address_line2",value:this.state.address_line2,placeholder:"Address Line 2 (optional)",autoComplete:"shipping address-line2",type:"text",maxLength:50,onChange:this.onChangeFormInput})),a.createElement("div",{className:l.group},a.createElement("select",{name:"address_country",value:this.state.address_country,autoComplete:"shipping country",onChange:this.onChangeFormInput},a.createElement("option",{value:"US"},"United States of America"),this.countryOptions)),"US"===this.state.locale&&a.createElement("div",null,a.createElement("div",{className:`${l.group} ${l.groupCityRegion}`},a.createElement(d.LazyInput,{name:"address_city",value:this.state.address_city,placeholder:"City",autoComplete:"shipping address-level2",type:"text",maxLength:50,onChange:this.onChangeFormInput}),a.createElement("select",{name:"address_region",value:this.state.address_region,autoComplete:"shipping address-level1",onChange:this.onChangeFormInput},a.createElement("option",null,"Choose state:"),this.stateOptions)),a.createElement("div",{className:l.group},a.createElement(d.LazyInput,{name:"address_postal_code",value:this.state.address_postal_code,placeholder:"Zip Code",autoComplete:"shipping postal-code",type:"text",maxLength:5,onChange:this.onChangeFormInput}))),"other"===this.state.locale&&a.createElement("div",null,a.createElement("div",{className:`${l.group} ${l.groupCityRegion}`},a.createElement(d.LazyInput,{name:"address_city",value:this.state.address_city,placeholder:"City / Town / Village",autoComplete:"shipping address-level2",type:"text",maxLength:50,onChange:this.onChangeFormInput}),a.createElement(d.LazyInput,{name:"address_region",value:this.state.address_region,placeholder:"Province / Region",autoComplete:"shipping address-level1",type:"text",maxLength:50,onChange:this.onChangeFormInput})),a.createElement("div",{className:l.group},a.createElement(d.LazyInput,{name:"address_postal_code",value:this.state.address_postal_code,placeholder:"Postal Code",autoComplete:"shipping postal-code",type:"text",maxLength:11,onChange:this.onChangeFormInput}))))}}p.displayName="StripeCardAndAddress",t.StripeCardAndAddress=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){e.exports={stepBreadcrumbSpacer:"step_breadcrumb--stepBreadcrumbSpacer--3lPz6",stepBreadcrumbs:"step_breadcrumb--stepBreadcrumbs--1I2LW",step:"step_breadcrumb--step--1HimL",stepNumber:"step_breadcrumb--stepNumber--BrxiD",stepSelected:"step_breadcrumb--stepSelected--1TwX6 step_breadcrumb--step--1HimL",stepTitle:"step_breadcrumb--stepTitle--2eBDY text--largeTitleText--BrV1c",stepInstructions:"step_breadcrumb--stepInstructions--2KaDQ text--largeBodyText--1919S"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),a=s(1284                   );class n extends r.PureComponent{render(){return r.createElement("div",{className:this.props.selected?a.stepSelected:a.step},r.createElement("span",{className:a.stepNumber},this.props.number),this.props.text)}}n.displayName="StepBreadcrumb",t.StepBreadcrumb=n;class p extends r.PureComponent{render(){return r.createElement("div",{className:a.stepBreadcrumbSpacer})}}p.displayName="StepBreadcrumbSpacer",t.StepBreadcrumbSpacer=p;class c extends r.PureComponent{render(){return r.createElement("div",{className:`${a.stepTitle} ${this.props.className||""}`},this.props.children)}}c.displayName="StepTitle",t.StepTitle=c;class d extends r.PureComponent{render(){return r.createElement("div",Object.assign({className:a.stepInstructions},this.props))}}d.displayName="StepInstructions",t.StepInstructions=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,p){t.exports={stepCard:"step_pay--stepCard--1izJG",stepConfirm:"step_pay--stepConfirm--Ihups",addAnnualPlan:"step_pay--addAnnualPlan--11M1I",paymentForm:"step_pay--paymentForm--HdGjh",paymentHeading:"step_pay--paymentHeading--28rvF",jumboText:"step_pay--jumboText--3T6wi",totalLabelText:"step_pay--totalLabelText--3ys-4",smallGrayText:"step_pay--smallGrayText--3V_ck",bigButton:"step_pay--bigButton--1rrCi",flex:"step_pay--flex--2tguP",row:"step_pay--row--2b3Px",rowFlex:"step_pay--rowFlex--2uwH- step_pay--row--2b3Px",rowBorder:"step_pay--rowBorder--wUWdH step_pay--row--2b3Px",rowFlexBorder:"step_pay--rowFlexBorder--2oItF step_pay--rowFlex--2uwH- step_pay--row--2b3Px step_pay--rowBorder--wUWdH step_pay--row--2b3Px",total:"step_pay--total--1dGkQ",totalText:"step_pay--totalText--7UCLl step_pay--jumboText--3T6wi",plusTaxText:"step_pay--plusTaxText--3guWP",numEditorsInput:"step_pay--numEditorsInput--oT5Dj",perMonth:"step_pay--perMonth--12ui0",subtotal:"step_pay--subtotal--3yhla",card:"step_pay--card--1enjl",error:"step_pay--error--2CnXc",upgradeRow:"step_pay--upgradeRow--DyXtE",studentIconRow:"step_pay--studentIconRow--1UEwz",changeLink:"step_pay--changeLink--3fd-G blue_link--blueLink--22X56",bigTerms:"step_pay--bigTerms--31VPY",terms:"step_pay--terms--218kC step_pay--smallGrayText--3V_ck",studentToggle:"step_pay--studentToggle--2W4Us",studentPlan:"step_pay--studentPlan--3DrdH",studentPlanTitle:"step_pay--studentPlanTitle--3zyo3",flowActionsSingle:"step_pay--flowActionsSingle--2mkcz",flowActionsBinary:"step_pay--flowActionsBinary--2cNs4",nextStep:"step_pay--nextStep--2sroe",prevStep:"step_pay--prevStep--1lKLq"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,e){t.exports={id:"g3e047877",src:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M9.806 3.04c.124-.053.264-.053.388 0l9.5 4c.185.077.306.259.306.46v8c0 .276-.224.5-.5.5-.276 0-.5-.224-.5-.5V8.253l-8.806 3.708c-.124.052-.264.052-.388 0l-9.5-4C.121 7.883 0 7.7 0 7.5c0-.201.12-.383.306-.46l9.5-4zm8.406 4.46L10 10.957 1.788 7.5 10 4.043 18.212 7.5zM4 14.5V9h1v5.5c0 .204.088.408.314.62.252.24.595.424 1.076.598.98.36 2.269.533 3.61.532 1.341.001 2.63-.173 3.61-.532.481-.174.824-.358 1.076-.599.226-.211.314-.415.314-.619V9h1v5.5c0 .546-.256.998-.631 1.35-.35.32-.866.606-1.417.807-1.082.39-2.543.592-3.952.593-1.409-.001-2.87-.202-3.952-.593-.55-.201-1.067-.486-1.417-.807C4.256 15.498 4 15.046 4 14.5z" fill-rule="evenodd" fill-opacity=".6"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),r=a(38,1       ),s=a(232                        ),o=a(172                     ),i=a(199      ),l=a(1279                  ),p=a(196                               ),m=a(252                       ),d=a(346                                 ),c=a(204                                            ),u=a(1283                                    ),h=a(144                        ),y=a(1285                                               ),E=a(1417                       ),g=a(1286            ),C=a(350                              ),f=a(220                     ),P=a(1287                       );class b extends n.PureComponent{constructor(){super(...arguments),this.stripeCardRef=(e=>{this.stripeCard=e}),this.onNumAnnualEditorsChange=(e=>{this.props.dispatch(s.payment.setNumEditors({annualQuantity:e,monthlyQuantity:0}))}),this.onClickPrev=((e,t)=>{t.preventDefault(),f.trackCtaClicked({teamId:this.props.teamId,location:"table",text:e,category:[f.CtaCategories.UPGRADE_FLOW],type:"button",description:"Back CTA Clicked"}),this.props.addAnnualPlan?this.props.cancel?this.props.cancel():this.props.dispatch(s.fileBrowser.selectView({adminTeamId:this.props.teamId})):this.props.confirmPay?this.props.dispatch(s.fileBrowser.selectView({upgradeTeamId:this.props.teamId,viewState:{paymentStep:m.PaymentStep.PAYMENT_AND_ADDRESS,previousView:this.props.selectedView.viewState.previousView}})):("variant"===p.pickTreatment("exp_review_editors_01")||this.props.dispatch(s.payment.setBillingPeriod({billingPeriod:m.BillingPeriod.UNSPECIFIED})),this.props.dispatch(s.fileBrowser.selectView({upgradeTeamId:this.props.teamId,viewState:{paymentStep:m.PaymentStep.CHOOSE_PLAN,previousView:this.props.selectedView.viewState.previousView}})))}),this.onSubmitPaymentAndAddress=(e=>{if(e.preventDefault(),!this.stripeCard||!this.stripeCard.isReady())return void console.warn("Stripe.Elements Card is not ready:",this.stripeCard.getCard());let t=this.props.teamId,a=this.stripeCard.getAddress(),n=this.props.payment.token;f.trackCtaClicked({teamId:t,location:"table",text:"next to review",category:[f.CtaCategories.UPGRADE_FLOW],type:"button",description:"Enter Payment Next CTA Clicked"}),this.props.dispatch(s.payment.setSubmitPending({submitPending:!0})),n?this.props.dispatch(s.payment.submitPaymentAndAddress({teamId:t,address:a,token:n})):l.createToken(this.stripeCard.getCard()).then(e=>{e.error?(this.props.dispatch(s.payment.setToken({token:null})),this.props.dispatch(s.payment.showError({error:e.error.message}))):e&&e.token?(this.props.dispatch(s.payment.setToken({token:e.token})),this.props.dispatch(s.payment.submitPaymentAndAddress({teamId:t,address:a,token:e.token}))):(this.props.dispatch(s.payment.setToken({token:null})),this.props.dispatch(s.payment.showError({error:"Sorry, we're unable to process your payment. Refresh and try again."})))}).catch(e=>{console.error(e),this.props.dispatch(s.payment.showError({error:"An error occurred while reading your card."}))})}),this.onSubmitConfirmAndPay=(e=>{e.preventDefault();const{teamId:t,addAnnualPlan:a}=this.props,{numAnnualEditors:n,numMonthlyEditors:r,promo:o,studentTeam:i}=this.props.payment;f.trackCtaClicked({teamId:t,location:"table",text:"accept terms and upgrade",category:[f.CtaCategories.UPGRADE_FLOW],type:"button",description:"Confirm and Pay Submit CTA Clicked"}),this.props.dispatch(s.payment.setSubmitPending({submitPending:!0})),i?this.props.dispatch(s.payment.makeStudentTeam({teamId:t})):a?this.props.dispatch(s.payment.submitConfirmAddAnnual({teamId:t,numAnnualEditors:n})):this.props.dispatch(s.payment.submitConfirmAndPay({teamId:t,numAnnualEditors:n,numMonthlyEditors:r,promo:o}))}),this.showAdminPage=(()=>{this.props.dispatch(s.fileBrowser.selectView({adminTeamId:this.props.teamId}))}),this.otherOptions=(()=>{f.trackCtaClicked({teamId:this.props.teamId,category:[f.CtaCategories.UPGRADE_FLOW],text:"other options",type:"link",location:"table",description:"Enter Payment Other Options CTA Clicked"}),this.props.dispatch(s.fileBrowser.showModal({type:E.AppModal.MORE_PAYMENT_OPTIONS_MODAL,data:{teamId:this.props.teamId}}))})}renderTitle(){const{studentTeam:e}=this.props.payment;return e?n.createElement(y.StepTitle,null,"Upgrade to a Student Team"):this.props.addAnnualPlan?n.createElement(y.StepTitle,null,"Add an Annual Plan"):this.props.confirmPay?n.createElement(y.StepTitle,null,"Summary"):n.createElement(y.StepTitle,null,"Enter Payment")}renderStepInstructions(){const{confirmPay:e,addAnnualPlan:t}=this.props,{billingPeriod:a,studentTeam:r}=this.props.payment;return r?n.createElement(y.StepInstructions,null,"All editors on a Student Team must be verified students.",n.createElement("br",null),"You can upgrade to a Professional Team at any time to enable non-student editors."):e?n.createElement(y.StepInstructions,null,"Please review and confirm that the information below is correct."):t?n.createElement(y.StepInstructions,null,"Payment for annual seats will be added to your next monthly renewal invoice.",n.createElement("br",null),"Editors not covered by your annual plan will be charged monthly at ",o.formatMoney(o.MONTHLY_EDITOR_COST,!0),"/mo."):a===m.BillingPeriod.ANNUAL?n.createElement(y.StepInstructions,null,"Editors added after your annual plan starts ",n.createElement("br",null)," will be charged monthly at ",o.formatMoney(o.MONTHLY_EDITOR_COST,!0),"/mo."):void 0}renderPlan(){const{billingPeriod:e,studentTeam:t,promo:a,taxes:r,numMonthlyEditors:s,numAnnualEditors:o}=this.props.payment,i=this.props.teams[this.props.teamId].editors;return t?n.createElement(w,null):e===m.BillingPeriod.ANNUAL?n.createElement(A,{totalEditors:i,numAnnualEditors:o||0,onNumAnnualEditorsChange:this.onNumAnnualEditorsChange,showAdminPage:this.showAdminPage,isTeamPro:!!this.props.addAnnualPlan,dispatch:this.props.dispatch,promo:this.props.addAnnualPlan?null:a,confirmPay:this.props.confirmPay,taxes:r,teamId:this.props.teamId}):e===m.BillingPeriod.MONTHLY?n.createElement(N,{totalEditors:i,numMonthlyEditors:s||0,showAdminPage:this.showAdminPage,dispatch:this.props.dispatch,promo:this.props.addAnnualPlan?null:a,confirmPay:this.props.confirmPay,taxes:r}):void 0}renderPaymentInputs(){let e;if(!this.props.confirmPay&&!this.props.addAnnualPlan&&!this.props.payment.studentTeam)return e=n.createElement(u.StripeCardAndAddress,{id:"team-upgrade-page-form",cardId:"team-upgrade-page-card",address:this.props.payment.address,token:this.props.payment.token,dispatchSetToken:this.props.dispatch.bind(this,s.payment.setToken),ref:this.stripeCardRef}),n.createElement("div",null,n.createElement("p",{className:g.paymentHeading},"Credit card or debit card ",n.createElement("span",{className:g.smallGrayText},"(",n.createElement("a",{onClick:this.otherOptions},"Other options"),")")),e,this.props.payment.error&&n.createElement("p",{className:g.error},this.props.payment.error))}renderSubscriptionTerms(){const{addAnnualPlan:e,confirmPay:t}=this.props,{studentTeam:a,billingPeriod:r}=this.props.payment,s=()=>f.trackCtaClicked({teamId:this.props.teamId,category:[f.CtaCategories.UPGRADE_FLOW],location:"table",type:"link",text:"cancelling is easy",description:"Confirm and Pay Cancellation Policy CTA Clicked"}),o=()=>f.trackCtaClicked({teamId:this.props.teamId,category:[f.CtaCategories.UPGRADE_FLOW],location:"table",type:"link",text:"terms of service",description:"Confirm and Pay Terms of Service CTA Clicked"});return a?n.createElement("div",{className:g.bigTerms},"By upgrading, you agree to our",n.createElement("a",{onClick:o,target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):e?n.createElement("div",{className:g.bigTerms},"Your subscription will automatically renew each year for the annual subscription and each month for any additional editors added to the team. ",n.createElement("a",{onClick:s,target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel"},"Cancelling is easy"),".",n.createElement("br",null),n.createElement("br",null),"By upgrading, you agree to our ",n.createElement("a",{onClick:o,target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):t?r===m.BillingPeriod.ANNUAL?n.createElement("div",{className:g.bigTerms},"Your subscription will automatically renew each year for the annual subscription and each month for any additional editors added to the team. ",n.createElement("a",{onClick:s,target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel"},"Cancelling is easy"),".",n.createElement("br",null),n.createElement("br",null),"By upgrading, you agree to our ",n.createElement("a",{onClick:o,target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):n.createElement("div",{className:g.bigTerms},"Your subscription will automatically renew each month and will include any additional editors added to the team. ",n.createElement("a",{onClick:s,target:"_blank",rel:"noopener",href:"/pricing-faq#how-do-i-cancel"},"Cancelling is easy"),".",n.createElement("br",null),n.createElement("br",null),"By upgrading, you agree to our ",n.createElement("a",{onClick:o,target:"_blank",rel:"noopener",href:"/summary-of-policy"},"Terms of Service"),"."):void 0}renderFlowActions(){const{addAnnualPlan:e}=this.props,{submitPending:t,studentTeam:a}=this.props.payment;if(a)return n.createElement("div",{className:`${g.flowActionsSingle} ${g.row}`},n.createElement(c.ButtonGreen,{type:"submit",disabled:t,className:`${g.bigButton}`},"Accept Terms and Upgrade"));if(e)return n.createElement("div",{className:`${g.flowActionsSingle} ${g.row}`},n.createElement(c.ButtonGreen,{type:"submit",disabled:t,className:`${g.bigButton}`},"Accept Terms and Upgrade"));let r="Back to Plans",s="Next to Review";return this.props.confirmPay?(r="Back to Payment",s="Accept Terms and Upgrade"):"variant"===p.pickTreatment("exp_review_editors_01")&&(r="Back"),n.createElement("div",{className:`${g.flowActionsBinary} ${g.row}`},n.createElement(c.ButtonGreen,{type:"submit",disabled:t,className:`${g.bigButton} ${g.nextStep}`},s),n.createElement(c.ButtonSecondary,{type:"button",disabled:t,className:`${g.bigButton} ${g.prevStep}`,onClick:this.onClickPrev.bind(this,r.toLowerCase())},r))}render(){const{confirmPay:e,addAnnualPlan:t}=this.props,{studentTeam:a}=this.props.payment;let r=null,s="";return r=this.onSubmitPaymentAndAddress,s=g.stepCard,e?(r=this.onSubmitConfirmAndPay,s=g.stepConfirm):t?(r=this.onSubmitConfirmAndPay,s=g.addAnnualPlan):a&&(r=this.onSubmitConfirmAndPay,s=g.stepConfirm),n.createElement("div",{className:s},this.renderTitle(),this.renderStepInstructions(),n.createElement("form",{onSubmit:r,className:g.paymentForm},this.renderPlan(),this.renderPaymentInputs(),this.renderSubscriptionTerms(),this.renderFlowActions()))}}b.displayName="StepPay",t.StepPay=b;class A extends n.Component{constructor(){super(...arguments),this.state={tempEditorsValue:null,editingValue:!1,error:null},this.inputRef=(e=>{e&&r.findDOMNode(e).select()}),this.onChange=(e=>{const t=e.target.value;this.setState({tempEditorsValue:t})}),this.confirmSeats=(e=>{this.props.onNumAnnualEditorsChange(e)}),this.onBlur=(()=>{const e=parseInt(this.state.tempEditorsValue);isNaN(e)||(e<this.props.totalEditors?(this.props.onNumAnnualEditorsChange(this.props.totalEditors),this.props.dispatch(s.flash.error(`You must buy at least ${this.props.totalEditors} seats for the current editors on your team.`))):e>o.MAX_ANNUAL_SUBSCRIPTIONS?this.props.dispatch(s.flash.error(n.createElement("div",null,"Please ",n.createElement("a",{href:"mailto:support@figma.com"},"contact support")," to purchase more than ",o.MAX_ANNUAL_SUBSCRIPTIONS," seats."))):e>100?this.props.dispatch(s.fileBrowser.showModal({type:E.AppModal.CONFIRM_SEATS_MODAL,data:{numAnnualEditors:e,onConfirm:this.confirmSeats.bind(this,e)}})):this.props.onNumAnnualEditorsChange(e)),this.setState({tempEditorsValue:null,editingValue:!1})}),this.editValue=(e=>{e.preventDefault(),this.setState({editingValue:!0}),f.trackCtaClicked({location:"table",text:"add more seats",category:[f.CtaCategories.UPGRADE_FLOW],type:"link",teamId:this.props.teamId,description:"Enter Payment Annual Add More Seats CTA Clicked"})}),this.onKeyDown=(e=>{const t=e.target;e.keyCode===i.Key.ENTER?(e.preventDefault(),t.blur()):e.keyCode===i.Key.ESCAPE&&this.setState({editingValue:!1})}),this.onClearPromo=(()=>{this.props.dispatch(s.payment.setPromo({promo:null}))}),this.renderPricing=(()=>{if(this.props.promo)return n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Promotional code ",this.props.promo.code," ",n.createElement("span",{className:g.smallGrayText},"(",n.createElement("a",{onClick:this.onClearPromo},"remove"),")"),n.createElement("br",null),"Nothing due during ",this.props.promo.promo_value," day trial period."),n.createElement(v,{amount:0}));if(this.props.confirmPay&&this.props.taxes)return n.createElement("div",null,n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Subscription"),n.createElement("div",null,o.formatMoney(this.props.taxes.sub_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Sales Tax"),n.createElement("div",null,o.formatMoney(this.props.taxes.tax_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Total")),n.createElement(v,{amount:this.props.taxes.total})));{const e=this.props.totalEditors-this.props.numAnnualEditors,t=!this.props.isTeamPro&&e>0,a=this.props.numAnnualEditors*o.ANNUAL_EDITOR_COST*12,r=e*o.MONTHLY_EDITOR_COST,s=a+(t?r:0);return n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Subscription")),n.createElement(v,{amount:s,plusTax:!this.props.confirmPay}))}})}render(){return n.createElement("div",null,n.createElement("div",{className:g.rowFlexBorder},n.createElement("div",null,n.createElement("div",{className:g.flex},this.state.editingValue&&n.createElement(c.TextInput,{ref:this.inputRef,className:g.numEditorsInput,value:null==this.state.tempEditorsValue?this.props.numAnnualEditors:this.state.tempEditorsValue,onChange:this.onChange,onBlur:this.onBlur,onKeyDown:this.onKeyDown}),!this.state.editingValue&&this.props.numAnnualEditors,n.createElement("span",null,"",1===this.props.numAnnualEditors?"editor":"editors"," on an annual plan")),!this.state.editingValue&&!this.props.confirmPay&&n.createElement("div",{className:g.smallGrayText},"Planning ahead? ",n.createElement("span",{className:g.changeLink,onClick:this.editValue},"Add more seats"))),n.createElement(T,{amount:o.ANNUAL_EDITOR_COST,period:"/ editor / month"})),this.renderPricing())}}A.displayName="AnnualPlan",t.AnnualPlan=A;class T extends n.Component{render(){return n.createElement("div",{className:g.subtotal},o.formatMoney(this.props.amount),n.createElement("div",{className:g.smallGrayText},this.props.period))}}T.displayName="SubTotal",t.SubTotal=T;class v extends n.Component{render(){return n.createElement("div",{className:g.total},n.createElement("p",{className:g.totalText},o.formatMoney(this.props.amount,!1,this.props.locale)),this.props.plusTax&&n.createElement("p",{className:g.plusTaxText},"+ sales tax"))}}v.displayName="Total",t.Total=v;class N extends n.Component{constructor(){super(...arguments),this.onClearPromo=(()=>{this.props.dispatch(s.payment.setPromo({promo:null}))}),this.renderPricing=(()=>{if(this.props.promo)return n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Promotional code ",this.props.promo.code," ",n.createElement("span",{className:g.smallGrayText},"(",n.createElement("a",{onClick:this.onClearPromo},"remove"),")"),n.createElement("br",null),"Nothing due during ",this.props.promo.promo_value," day trial period."),n.createElement(v,{amount:0}));if(this.props.confirmPay&&this.props.taxes)return n.createElement("div",null,n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Subscription"),n.createElement("div",null,o.formatMoney(this.props.taxes.sub_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",null,"Sales Tax"),n.createElement("div",null,o.formatMoney(this.props.taxes.tax_total))),n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Total")),n.createElement(v,{amount:this.props.taxes.total})));{const e=Math.max(this.props.totalEditors,this.props.numMonthlyEditors)*o.MONTHLY_EDITOR_COST;return n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.totalLabelText},n.createElement("span",null,"Subscription")),n.createElement(v,{amount:e,plusTax:!this.props.confirmPay}))}})}render(){const e=Math.max(this.props.totalEditors,this.props.numMonthlyEditors);return n.createElement("div",null,n.createElement("div",{className:g.rowFlexBorder},n.createElement("div",null,e," ",1===e?"editor":"editors"," on a monthly plan"),n.createElement(T,{amount:o.MONTHLY_EDITOR_COST,period:"/ editor / month"})),this.renderPricing())}}N.displayName="MonthlyPlan";class w extends n.Component{render(){return n.createElement("div",{className:g.studentPlan},n.createElement("div",{className:g.rowFlex},n.createElement("div",{className:g.studentPlanTitle},n.createElement(h.Svg,{svg:P})," Student Team with unlimited student editors"),n.createElement(v,{amount:0})))}}w.displayName="StudentPlan";class S extends n.Component{constructor(){super(...arguments),this.contactUs=(()=>{f.trackCtaClicked({teamId:this.props.teamId,location:"modal",category:[f.CtaCategories.UPGRADE_FLOW],type:"button",text:"contact us",description:"Enter Payment Other Options Modal Contact Us CTA Clicked"}),this.props.dispatch(s.fileBrowser.hideModal())}),this.hide=(()=>{f.trackCtaClicked({teamId:this.props.teamId,location:"modal",category:[f.CtaCategories.UPGRADE_FLOW],type:"button",text:"cancel",description:"Enter Payment Other Options Modal Cancel CTA Clicked"}),this.props.dispatch(s.fileBrowser.hideModal())})}render(){return n.createElement(d.Modal,Object.assign({title:"Need a different payment option?",size:"small"},this.props),"If you can't pay with a credit card or debit card, please ",n.createElement("a",{href:"mailto:support@figma.com"},"contact us")," for assistance.",n.createElement("br",null),"",n.createElement("br",null),"You can also chat with us directly by clicking the ? button in the bottom-right corner of the page.",n.createElement("div",{className:C.buttonRow},n.createElement(c.ButtonSecondary,{className:C.cancelLink,onClick:this.hide},"Cancel"),n.createElement(c.ButtonLink,{href:"mailto:support@figma.com",className:C.confirmButton,onClick:this.contactUs},"Contact Us")))}}S.displayName="MorePaymentOptionsModal",t.MorePaymentOptionsModal=S;class k extends n.Component{render(){const e=this.props.modalShown.data.numAnnualEditors;return n.createElement(d.ConfirmationModal,Object.assign({confirmationTitle:`${e}? That's a lot of seats!`,onConfirm:this.props.modalShown.data.onConfirm,confirmText:`Yes, I really want ${e} seats.`},this.props),"We're happy that you want to buy ",e," seats, but just want to check that you didn't make a typo.")}}k.displayName="ConfirmSeatsModal",t.ConfirmSeatsModal=k,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,s){e.exports={userDetailsModal:"user_details_modal--userDetailsModal--2X-AD",scrollContainer:"user_details_modal--scrollContainer--3eiqC",userDetailsContent:"user_details_modal--userDetailsContent--dapxA",avatar:"user_details_modal--avatar--1H9IU",loadingRoles:"user_details_modal--loadingRoles--3U98l",downgradeButton:"user_details_modal--downgradeButton--PhB0r",roles:"user_details_modal--roles--3zPE_",allAccess:"user_details_modal--allAccess--2CU6W",roleLink:"user_details_modal--roleLink--1JZdb ellipsis--ellipsis--1RWY6",roleLinkDisabled:"user_details_modal--roleLinkDisabled--1Fm1B",confirmModal:"user_details_modal--confirmModal--1Z6EN",confirmActions:"user_details_modal--confirmActions--25c4l"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(232                        ),r=a(346                                 ),l=a(349                            ),i=a(204                                            ),n=a(376                                                  ),c=a(147                                        ),d=a(173                        ),m=a(1417                       ),p=a(370              ),h=a(1289                      ),_=a(385                                        ),u=a(220                      ),f=p.pxToInt(_.userDetailsModalWidth);class g extends s.PureComponent{constructor(){super(...arguments),this.onRemove=(()=>{u.trackCtaClicked({teamId:this.props.teamAdmin.userDetails.editor.team_id,text:"downgrade to viewer",category:[u.CtaCategories.UPGRADE_FLOW],type:"button",location:"modal",description:"See Edit Permissions Modal Downgrade to Viewer CTA Clicked"}),this.props.dispatch(o.fileBrowser.showModal({type:m.AppModal.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR,data:{editor:this.props.teamAdmin.userDetails.editor}}))})}render(){const{editor:e,loading:t,roles:a}=this.props.teamAdmin.userDetails,o=a.team_roles||[],m=a.folder_roles||[],p=m.filter(e=>d.canViewFolder(e.resource_id_or_key,this.props)),_=m.length-p.length,u=a.file_roles||[],g=u.filter(e=>d.canViewFile(e.resource_id_or_key,this.props)),v=u.length-g.length,E=o.length>0;return s.createElement(r.Modal,Object.assign({className:h.userDetailsModal},this.props),s.createElement(n.ScrollContainer,{className:h.scrollContainer,showScrollbar:!0,width:f},s.createElement("div",{className:h.userDetailsContent},s.createElement(l.Avatar,{entity:e,size:100,className:h.avatar}),s.createElement("div",null,e.name,s.createElement("br",null),s.createElement("a",{href:`mailto:${e.email}`},e.email)),s.createElement(i.ButtonSecondary,{onClick:this.onRemove,className:h.downgradeButton,disabled:e.id===this.props.user.id},"Downgrade to Viewer"),t&&s.createElement(c.LoadingSpinner,{className:h.loadingRoles}),!t&&s.createElement("div",{className:h.roles},s.createElement("div",null,"Files with edit access",E&&s.createElement("div",{className:h.allAccess},"All team files"),!E&&0===u.length&&s.createElement("div",{className:h.allAccess},"None"),!E&&g.map((e,t)=>{const a=`/file/${e.resource_id_or_key}`;return s.createElement("a",{target:"_blank",rel:"noopener",className:h.roleLink,href:a,key:t},e.name||"Untitled")}),!E&&v>0&&s.createElement("div",{"data-tooltip-text":"Files in team invite only folders you do not have access to.",className:h.roleLinkDisabled},v," ",g.length>0?"other":""," file",v>1?"s ":"")),s.createElement("div",null,"Projects with edit access",E&&s.createElement("div",{className:h.allAccess},"All team projects"),!E&&0===m.length&&s.createElement("div",{className:h.allAccess},"None"),!E&&p.map((e,t)=>{const a=`/files/project/${e.resource_id_or_key}`;return s.createElement("a",{target:"_blank",rel:"noopener",className:h.roleLink,href:a,key:t},e.name)}),!E&&_>0&&s.createElement("div",{"data-tooltip-text":"Team invite only folders you do not have access to.",className:h.roleLinkDisabled},_," ",p.length>0?"other":""," folder",_>1?"s ":""))))))}}g.displayName="UserDetailsModal",t.UserDetailsModal=g;class v extends s.PureComponent{constructor(){super(...arguments),this.onRemove=(()=>{const{editor:e}=this.props.modalShown.data;u.trackCtaClicked({teamId:e.team_id,location:"modal",category:[u.CtaCategories.UPGRADE_FLOW],text:"downgrade",type:"button",description:"Confirm Remove Editor CTA Clicked"}),this.props.dispatch(o.teamAdmin.demoteUserRoles({editor:e})),this.props.dispatch(o.fileBrowser.hideModal())})}render(){const{editor:e}=this.props.modalShown.data;return s.createElement(r.ConfirmationModal,Object.assign({confirmText:`Downgrade ${e.name}`,onConfirm:this.onRemove,size:"small"},this.props),s.createElement("div",{className:h.confirmModal},s.createElement("p",null,"Are you sure you want to downgrade ",e.name,"? This will convert all of their edit permissions to view-only.")))}}v.displayName="ConfirmRemoveEditorModal",t.ConfirmRemoveEditorModal=v,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={paymentForm:"change_payment_modal--paymentForm--13cGS"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(34,1   ),a=t(232                        ),i=t(346                                 ),n=t(1283                                    ),d=t(1279                  ),o=t(1291                        );class p extends s.PureComponent{constructor(){super(...arguments),this.stripeCardRef=(e=>{this.stripeCard=e}),this.hide=(()=>this.props.dispatch(a.fileBrowser.hideModal())),this.onSubmitCardAndAddress=(e=>{e&&e.preventDefault();const r=this.props.modalShown.data.teamId;if(this.stripeCard){const e=this.stripeCard.getAddress();d.createToken(this.stripeCard.getCard()).then(t=>{t.error?this.props.dispatch(a.flash.error(t.error.message)):t&&t.token?this.props.dispatch(a.payment.submitChangePaymentAndAddress({teamId:r,address:e,token:t.token})):this.props.dispatch(a.flash.error("Sorry, we're unable to change your payment source. Refresh and try again."))}).catch(()=>{this.props.dispatch(a.flash.error("An error occurred while reading your card."))})}})}render(){return s.createElement(i.ConfirmationModal,Object.assign({confirmationTitle:"Enter credit card or debit card",confirmText:"Use this card",onConfirm:this.onSubmitCardAndAddress,onCancel:this.hide,dontClose:!0},this.props),s.createElement("form",{onSubmit:this.onSubmitCardAndAddress,className:o.paymentForm},s.createElement(n.StripeCardAndAddress,{id:"change-payment-modal-form",cardId:"change-payment-modal-card",ref:this.stripeCardRef})))}}p.displayName="ChangePaymentModal",r.ChangePaymentModal=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,l){n.exports={link:"change_annual_plan_modal--link--2GbYe blue_link--blueLink--22X56"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(34,1   ),s=n(232                        ),i=n(80,1    ),o=n(172                     ),l=n(346                                 ),r=n(1417                       ),p=n(204                                            ),m=n(1293                            );class u extends a.PureComponent{constructor(e){super(e),this.team=(()=>this.props.teams[this.props.selectedView.adminTeamId]),this.annualSub=(()=>{try{return this.props.teamAdmin.billingDetails.billingSummary.annual_subscription||{}}catch(e){return{}}}),this.confirmSeats=(e=>{this.props.dispatch(s.payment.putAnnualQuantity({teamId:this.team().id,annualQuantity:e}))}),this.onSubmit=(()=>{const e=parseInt(this.state.tempEditors);isNaN(e)||e<1?this.props.dispatch(s.flash.error("Please enter a valid number of seats to renew.")):e>o.MAX_ANNUAL_SUBSCRIPTIONS?this.props.dispatch(s.flash.error(a.createElement("div",null,"Please ",a.createElement("a",{href:"mailto:support@figma.com"},"contact support")," to purchase more than $",o.MAX_ANNUAL_SUBSCRIPTIONS," seats."))):e>100?this.props.dispatch(s.fileBrowser.showModal({type:r.AppModal.CONFIRM_SEATS_MODAL,data:{numAnnualEditors:e,onConfirm:this.confirmSeats.bind(this,e)}})):this.props.dispatch(s.payment.putAnnualQuantity({teamId:this.team().id,annualQuantity:e}))}),this.onChange=(e=>{this.setState({tempEditors:e.target.value})}),this.cancelPlan=(()=>{this.props.dispatch(s.fileBrowser.showModal({type:r.AppModal.TEAM_ADMIN_CANCEL_ANNUAL_PLAN}))}),this.hide=(()=>{this.props.dispatch(s.fileBrowser.hideModal())});const t=this.annualSub();this.state={tempEditors:`${t.quantity}`}}render(){const e=!!this.annualSub().trial_end&&i(this.annualSub().trial_end).isAfter(new Date),t=i(this.annualSub().current_period_end).format("MMM D, YYYY");return a.createElement(l.ConfirmationModal,Object.assign({confirmationTitle:`Your annual plan will ${e?"start":"auto-renew"} on ${t}.`,confirmText:"Update Annual Plan",onConfirm:this.onSubmit,onCancel:this.hide,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending},this.props),a.createElement("br",null),"You can change the number of editors on your annual plan 30 days before each renewal.",a.createElement("br",null),a.createElement("br",null),"Any editors not covered by your annual plan will be charged monthly at ",o.formatMoney(o.MONTHLY_EDITOR_COST,!0),"/mo.",a.createElement("br",null),a.createElement("br",null),"Number of editors on annual plan:  ",a.createElement(p.TextInput,{type:"number",step:1,min:1,max:o.MAX_ANNUAL_SUBSCRIPTIONS,value:this.state.tempEditors,onChange:this.onChange}),a.createElement("br",null),a.createElement("br",null),a.createElement("a",{className:m.link,onClick:this.cancelPlan},e?"Remove":"Don't renew"," my annual plan"))}}u.displayName="ChangeAnnualPlanModal",t.ChangeAnnualPlanModal=u;class c extends a.PureComponent{constructor(){super(...arguments),this.team=(()=>this.props.teams[this.props.selectedView.adminTeamId]),this.onSubmit=(()=>{const e=this.team().id;this.props.dispatch(s.payment.putAnnualQuantity({teamId:e,annualQuantity:0}))}),this.onCancel=(()=>{this.props.dispatch(s.fileBrowser.showModal({type:r.AppModal.TEAM_ADMIN_CHANGE_ANNUAL_PLAN}))})}render(){const e=this.team();return a.createElement(l.ConfirmationModal,Object.assign({confirmationTitle:"Cancel your annual plan?",confirmText:"Cancel annual plan",cancelText:"Nevermind",onConfirm:this.onSubmit,onCancel:this.onCancel,dontClose:!0,disableConfirm:this.props.payment.submitPutAnnualQuantityPending},this.props),a.createElement("br",null),"The ",1===e.editors?"1 editor":`${e.editors} editors`," on your team will be charged monthly at ",o.formatMoney(o.MONTHLY_EDITOR_COST,!0),"/mo.",a.createElement("br",null),a.createElement("br",null),"You can always add an annual plan later, if you change your mind.")}}c.displayName="ConfirmCancelAnnualPlanModal",t.ConfirmCancelAnnualPlanModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.COOKIE="figma.pc",o.deletePromoCodeCookie=function(){const e=`${o.COOKIE}=; domain=${window.location.hostname}; path=/; max-age=0; expires=Thu, 01 Jan 1970 00:00:00 UTC;`;document.cookie=e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=a(232                        ),i=a(97      ),n=a(172                     ),d=a(173                        ),p=a(252                       ),m=a(1295                   ),o=a(220                      ),r=a(1417                );e.contactSupportFlash=((t,e)=>{let a="An unknown error occurred. Please contact support for assistance.";t&&t.data&&t.data.message&&(a=t.data.message),e(s.flash.error(a))}),e.paymentsMiddleware=(t=>a=>(function(l){if(l.type!==s.fileBrowser.SELECT_VIEW||!l.payload.upgradeTeamId&&!l.payload.addAnnualPlanTeamId){if(s.payment.startProUpgradeFlow.matches(l)){const{teamId:e,selectedView:i}=l.payload,n=t.getState().teams[e];return t.dispatch(s.fileBrowser.selectView({upgradeTeamId:e,viewState:{paymentStep:n.editors>1?p.PaymentStep.REVIEW_EDITORS:p.PaymentStep.CHOOSE_PLAN,previousView:i}})),a(l)}if(s.payment.submitPaymentAndAddress.matches(l)){a(l);const{teamId:e,address:n,token:d}=l.payload,m=t.getState(),r=m.selectedView.viewState,c={source_token:d.used?null:d.id,address:n,annual_quantity:m.payment.numAnnualEditors,monthly_quantity:m.payment.numMonthlyEditors};t.dispatch(s.payment.showError({error:null})),i.default.post(`/api/subscriptions-2018-11-08/team/${e}/token`,c).then(({data:a})=>{const{address:i,estimate:n}=a.meta;t.dispatch(s.payment.setSubmitPending({submitPending:!1})),t.dispatch(s.payment.setAddress({address:i})),t.dispatch(s.payment.setTaxes({taxes:n})),t.dispatch(s.fileBrowser.selectView({upgradeTeamId:e,viewState:{paymentStep:p.PaymentStep.CONFIRM_PAY,previousView:r.previousView}})),o.trackEventForTeam("Payment Information Submitted",e,m,{subscription_amount:n.sub_total,taxes_amount:n.tax_total,total_amount:n.total})}).catch(a=>{t.dispatch(s.payment.setSubmitPending({submitPending:!1})),t.dispatch(s.payment.showError({error:a.data.message})),t.dispatch(s.fileBrowser.selectView({upgradeTeamId:e,viewState:{paymentStep:p.PaymentStep.PAYMENT_AND_ADDRESS,previousView:r.previousView}}))})}else if(s.payment.submitConfirmAndPay.matches(l)){const{teamId:a,numAnnualEditors:n,numMonthlyEditors:d,promo:m}=l.payload,o={annual_quantity:n||0,monthly_quantity:d||0,promo_code:m?m.code:null},r=t.getState(),c=r.selectedView.viewState,u=r.payment.upgradingNewTeam;i.default.post(`/api/subscriptions-2018-11-08/team/${a}`,o).then(({data:e})=>{const i=e.meta&&e.meta.team;t.dispatch(s.payment.setSubmitPending({submitPending:!1})),i&&t.dispatch(s.team.put({team:i,userInitiated:!1})),u?t.dispatch(s.fileBrowser.selectView({teamId:a})):t.dispatch(s.fileBrowser.selectView({adminTeamId:a})),t.dispatch(s.flash.flash("Successfully upgraded to a Professional Team!")),m&&t.dispatch(s.payment.setPromo({promo:null}))}).catch(i=>{if(t.dispatch(s.payment.setSubmitPending({submitPending:!1})),i.data&&i.data.message){const e=()=>{t.dispatch(s.fileBrowser.selectView({upgradeTeamId:a,viewState:{paymentStep:p.PaymentStep.PAYMENT_AND_ADDRESS,previousView:c.previousView}}))};return"PROMO_CODE"===i.data.reason?(t.dispatch(s.payment.setPromo({promo:null})),e(),void t.dispatch(s.payment.showError({error:i.data.message}))):"CARD_ERROR"===i.data.reason?(t.dispatch(s.payment.setToken({token:null})),e(),void t.dispatch(s.payment.showError({error:i.data.message}))):void t.dispatch(s.flash.error(i.data.message))}e.contactSupportFlash(i,t.dispatch)})}else if(s.payment.submitConfirmAddAnnual.matches(l)){const{teamId:a,numAnnualEditors:n}=l.payload,d={annual_quantity:n||0};i.default.put(`/api/subscriptions-2018-11-08/team/${a}`,d).then(({data:e})=>{const i=e.meta&&e.meta.team;i&&t.dispatch(s.team.put({team:i,userInitiated:!1})),t.dispatch(s.fileBrowser.selectView({adminTeamId:a})),t.dispatch(s.flash.flash("Successfully added an annual plan.")),t.dispatch(s.payment.setSubmitPending({submitPending:!1}))}).catch(a=>{t.dispatch(s.payment.setSubmitPending({submitPending:!1})),a.data&&a.data.message?t.dispatch(s.flash.error(a.data.message)):e.contactSupportFlash(a,t.dispatch)})}else{if(s.payment.putAnnualQuantity.matches(l)){const n=l.payload.teamId,d={annual_quantity:l.payload.annualQuantity};return i.default.put(`/api/subscriptions-2018-11-08/team/${n}`,d).then(({data:e})=>{t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(s.fileBrowser.hideModal()),t.dispatch(s.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))}).catch(a=>{e.contactSupportFlash(a,t.dispatch),t.dispatch(s.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))}),a(l)}if(s.payment.makeStudentTeam.matches(l))return i.default.put(`/api/teams/${l.payload.teamId}/student_team`,{student_team:!0}).then(()=>{t.getState().payment.upgradingNewTeam?t.dispatch(s.fileBrowser.selectView({teamId:l.payload.teamId})):t.dispatch(s.fileBrowser.selectView({adminTeamId:l.payload.teamId})),t.dispatch(s.flash.flash("Successfully upgraded to a Student Team!")),t.dispatch(s.payment.setSubmitPending({submitPending:!1}))}).catch(a=>{e.contactSupportFlash(a,t.dispatch),t.dispatch(s.payment.setSubmitPending({submitPending:!1}))}),a(l);if(s.payment.submitChangePaymentAndAddress.matches(l)){const{teamId:n,token:d,address:p}=l.payload,m={source_token:d.id,address:p};return i.default.put(`/api/subscriptions-2018-11-08/team/${n}/token`,m).then(({data:e})=>{const a=e.meta&&e.meta.team;a&&(t.dispatch(s.teamAdmin.initBillingDetails({teamId:a.id})),t.dispatch(s.fileBrowser.hideModal()),t.dispatch(s.payment.setSubmitPutAnnualQuantityPending({submitPending:!1}))),t.dispatch(s.flash.flash("Successfully updated your payment source."))}).catch(a=>e.contactSupportFlash(a,t.dispatch)),a(l)}if(s.payment.downgrade.matches(l)){const n=l.payload.teamId;return t.getState().teams[n].student_team?i.default.put(`/api/teams/${n}/student_team`,{student_team:!1}).then(()=>{t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(s.flash.flash("Successfully downgraded to a Starter Team."))}).catch(a=>e.contactSupportFlash(a,t.dispatch)):i.default.del(`/api/subscriptions-2018-11-08/team/${n}`).then(({data:e})=>{const a=e.meta&&e.meta.team;a&&t.dispatch(s.team.put({team:a,userInitiated:!1})),t.dispatch(s.teamAdmin.initBillingDetails({teamId:n})),t.dispatch(s.flash.flash("This team will be downgraded at the end of the current subscription period.",8e3))}).catch(a=>e.contactSupportFlash(a,t.dispatch)),a(l)}if(s.payment.setPromo.matches(l))l.payload.promo||m.deletePromoCodeCookie();else if(l.type===s.fileBrowser.SHOW_MODAL&&l.payload.type===r.AppModal.MORE_PAYMENT_OPTIONS_MODAL)return o.trackModalView({modal:r.AppModal.MORE_PAYMENT_OPTIONS_MODAL,teamId:l.payload.data.teamId}),a(l)}return a(l)}{const e=l.payload.upgradeTeamId||l.payload.addAnnualPlanTeamId,i=t.getState(),m=i.teams[e];if(d.canAdminTeam(e,i)||d.canEditTeam(e,i)&&!n.isTeamPro(m)){null!=i.selectedView&&null!=i.selectedView.upgradeTeamId&&i.selectedView.upgradeTeamId===e||(t.dispatch(s.payment.init({numAnnualEditors:m.editors})),m.editors>1&&t.dispatch(s.teamAdmin.fetchEditors({teamId:m.id}))),a(l);const n=t.getState().selectedView;if(n&&n.upgradeTeamId){const e=n.viewState;o.trackPageView({teamId:n.upgradeTeamId,page:`payment step - ${e.paymentStep}`,billingPeriod:p.BillingPeriod[t.getState().payment.billingPeriod],editors:m.editors,projects:m.projects})}return}t.dispatch(s.fileBrowser.selectView({teamId:e}))}})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(232                        ),s=i(1296                                      ),c=i(101                               ),n=i(97      ),o=c.asyncActionCreator("PAYMENT_CHANGE_INVOICE_RECEIVER",(e,t)=>{const{teamId:i,userId:c}=t;n.default.put(`/api/subscriptions/team/${i}/invoice_receivers`,{user_id:c}).then(()=>{e.dispatch(a.teamAdmin.initBillingDetails({teamId:i})),e.dispatch(a.flash.flash("Successfully changed billing owner."))}).catch(t=>s.contactSupportFlash(t,e.dispatch))},!1);t.changeInvoiceReceiver=o,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){e.exports={select:"change_invoice_receiver_modal--select--3CWRS"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const n=t(34,1   ),a=t(1297                                     ),s=t(346                                 ),o=t(1298                                 );class c extends n.PureComponent{constructor(e){super(e),this.onSubmit=(()=>{this.props.dispatch(a.changeInvoiceReceiver({teamId:this.props.teamId,userId:this.state.newInvoiceReceiverId}))}),this.onInviteLevelChange=(e=>{this.setState({newInvoiceReceiverId:e.currentTarget.value})}),this.state={newInvoiceReceiverId:this.props.admins[0].id}}render(){return n.createElement(s.ConfirmationModal,Object.assign({confirmationTitle:"Change the Invoice Recipient",confirmText:"Change Recipient",onConfirm:this.onSubmit},this.props),n.createElement("p",null,this.props.invoiceReceiver.handle," receives all invoice emails and reminders. Please select a team admin from the dropdown below to change the invoice email recipient."),n.createElement("select",{className:o.select,onChange:this.onInviteLevelChange,value:this.state.newInvoiceReceiverId},this.props.admins.map(e=>n.createElement("option",{value:`${e.id}`,key:`${e.id}`},e.name))))}}c.displayName="ChangeInvoiceReceiverModal",i.ChangeInvoiceReceiverModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(34,1   ),n=a(232                        ),r=a(172                     ),s=a(346                                 );class i extends o.PureComponent{constructor(){super(...arguments),this.teamId=(()=>this.props.modalShown.data.teamId),this.onSubmit=(()=>{this.props.dispatch(n.payment.downgrade({teamId:this.teamId()}))})}render(){const e=this.props.teams[this.teamId()];return o.createElement(s.ConfirmationModal,Object.assign({confirmText:"Downgrade",onConfirm:this.onSubmit,fixedTop:!0,cancelText:"Cancel downgrade"},this.props),"Are you sure you want to downgrade ",e.name," to a ",o.createElement("span",{style:{whiteSpace:"nowrap"}},"Starter Team"),"? ",e.name," will be limited to ",r.MAX_FREE_EDITORS," editors and ",r.MAX_FREE_FOLDERS," projects.",o.createElement("br",null),"",o.createElement("br",null),"You will no longer have access to the team component library, and version history will be limited to ",r.FREE_VERSION_HISTORY_MAX_DAYS," days.")}}i.displayName="ConfirmDowngradeModal",t.ConfirmDowngradeModal=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={modalBody:"downgrade_survey_modal--modalBody--dKT6u",option:"downgrade_survey_modal--option--1RW2b",optionButton:"downgrade_survey_modal--optionButton--1Q07L",optionText:"downgrade_survey_modal--optionText--3lvZ7",optionExplanation:"downgrade_survey_modal--optionExplanation--2e3eS",extra:"downgrade_survey_modal--extra--3C_x3"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(34,1   ),a=o(232                        ),s=o(346                                 ),i=o(204                                            ),r=o(1143                                ),l=o(96         ),c=o(219          ),p=o(1301                                                                            ),m=o(350                              );class h extends n.PureComponent{constructor(e){super(e),this.onSubmit=(()=>{c.segment&&c.segment.track("Team Downgrade Survey",{teamId:this.props.selectedView.adminTeamId,reason:this.state.options[this.state.checkedOption].userText,explanation:this.state.explanation}),this.props.onSubmit()}),this.onCancel=(()=>{this.props.dispatch(a.fileBrowser.hideModal())}),this.onOptionClick=(e=>{e!==this.state.checkedOption&&this.setState({disableContinue:!1,checkedOption:e,explanation:""})}),this.onChangeExplanation=(e=>{this.setState({explanation:e.target.value})}),this.onHelpClick=(()=>{c.segment&&c.segment.track("Team Downgrade Help Center Click",{})}),this.onSupportClick=(()=>{c.segment&&c.segment.track("Team Downgrade Support Click",{})});let t=[{userText:"Too expensive",moreInfoText:null},{userText:"We only wanted to trial the product",moreInfoText:null},{userText:"Our project is over",moreInfoText:null},{userText:"We found a better solution for our needs",moreInfoText:"What did you switch to? What could we be doing better?"},{userText:"We are having technical issues with Figma",moreInfoText:"Tell us more?",extra:n.createElement("div",{className:p.extra},"You can also",n.createElement(i.Link,{href:"https://help.figma.com",target:"_blank",onClick:this.onHelpClick},"try looking in our help center"),"or",n.createElement(i.Link,{href:"/contact",target:"_blank",onClick:this.onSupportClick},"get in contact with support"))},{userText:"We are consolidating and joining another team",moreInfoText:null}];(t=l.shuffle(t)).push({userText:"Other",moreInfoText:"Tell us more?"}),this.state={disableContinue:!0,checkedOption:null,options:t,explanation:""}}render(){const e=[];for(let t=0;t<this.state.options.length;t++){const o=this.state.options[t];e.push(n.createElement(u,{key:t,idx:t,userText:o.userText,moreInfoText:o.moreInfoText,checked:t===this.state.checkedOption,onClick:this.onOptionClick,explanation:this.state.explanation,onChange:this.onChangeExplanation,extra:o.extra}))}return n.createElement(s.Modal,Object.assign({title:"Before you go, please let us know why you are leaving?",fixedTop:!0},this.props),n.createElement("div",{className:p.modalBody},e,n.createElement("div",{className:m.buttonRow},n.createElement(i.ButtonSecondary,{className:m.cancelLink,type:"button",onClick:this.onCancel},this.props.cancelText),n.createElement(i.ButtonPrimary,{type:"button",disabled:this.state.disableContinue,className:m.confirmButton,onClick:this.onSubmit,autoFocus:!1},"Continue"))))}}h.displayName="DowngradeSurveyModalComponent",t.DowngradeSurveyModalComponent=h;class u extends n.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{this.props.onClick(this.props.idx)})}render(){return n.createElement("div",{className:p.option,onClick:this.onClick},n.createElement("input",{type:"radio",name:"explanation",checked:this.props.checked,className:p.optionButton}),n.createElement("div",{className:p.optionText},this.props.userText),this.props.checked&&this.props.moreInfoText&&n.createElement("div",null,n.createElement(r.ExpandingTextarea,{className:p.optionExplanation,placeholder:this.props.moreInfoText,value:this.props.explanation,onChange:this.props.onChange,selectOnMount:!0}),this.props.extra))}}u.displayName="DowngradeOption",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),a=o(232                        ),n=o(1302                                ),i=o(1417                       );class p extends s.PureComponent{constructor(){super(...arguments),this.onSubmit=(()=>{if("admin"===this.props.context)this.props.dispatch(a.fileBrowser.showModal({type:i.AppModal.TEAM_ADMIN_CONFIRM_DOWNGRADE,data:{teamId:this.props.selectedView.adminTeamId}}));else if("leave-team"===this.props.context){const e=this.props.teams[this.props.selectedView.teamId];this.props.dispatch(a.team.del({team:e,userInitiated:!0})),this.props.dispatch(a.fileBrowser.hideModal())}})}render(){const e="admin"===this.props.context?"Cancel Downgrade":"Cancel, do not leave team";return s.createElement(n.DowngradeSurveyModalComponent,Object.assign({onSubmit:this.onSubmit,cancelText:e},this.props))}}p.displayName="DowngradeSurveyModal",t.DowngradeSurveyModal=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FolderLevel={EDIT:"edit",VIEW:"view",DISABLE:"disabled"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,e){o.exports={iconContainer:"checked_option--iconContainer--3kT1T",emptyIcon:"checked_option--emptyIcon--31k63"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(34,1   ),o=t(408                                  ),c=t(144                        ),r=t(1305                  ),p=t(992                                    );class a extends n.PureComponent{render(){return n.createElement(o.dropdown.Option6,{disabled:this.props.disabled,onClick:this.props.onClick,className:this.props.className||""},this.props.isChecked?n.createElement("div",{className:r.iconContainer},n.createElement(c.Svg,{svg:p})):n.createElement("div",{className:r.emptyIcon}),this.props.children)}}a.displayName="CheckedOption",s.CheckedOption=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,n){e.exports={projectName:"new_folder_modal--projectName--2MPSu",row:"new_folder_modal--row--2qQRC",inviteSelect:"new_folder_modal--inviteSelect--kSLFs",access:"new_folder_modal--access--1vfWk",avatar:"new_folder_modal--avatar--2MQGN",icon:"new_folder_modal--icon--iYU1L",lockIcon:"new_folder_modal--lockIcon--30PBG new_folder_modal--icon--iYU1L",buttons:"new_folder_modal--buttons--Z9CT0",contextMenu:"new_folder_modal--contextMenu--1xq7Z"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"g4efdd55f",src:'<svg width="6" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M1.06 1.475L.708 1.12 0 1.828l.354.354.707-.707zM2.829 3.95l-.353.353.353.354.354-.354-.354-.353zm2.475-1.768l.354-.354-.707-.707-.354.354.707.707zm-4.95 0l2.122 2.121.707-.707-2.121-2.121-.707.707zm2.829 2.121l2.121-2.121-.707-.707-2.121 2.121.707.707z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g9f3f3f7d",src:'<svg width="13" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M10 4.5V7H3V4.5C3 2.567 4.566 1 6.5 1c1.031 0 1.959.446 2.6 1.156.56.62.9 1.443.9 2.344zM2 7V4.5C2 2.015 4.016 0 6.5 0 8.984 0 11 2.015 11 4.5V7h2v10H0V7h2zM1 8v8h11V8H1z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),o=s(38,1       ),r=s(199      ),i=s(279         ),l=s(172                     ),n=s(232                        ),c=s(1304                      ),d=s(408                                  ),p=s(204                                            ),h=s(144                        ),m=s(349                            ),v=s(1306                                           ),w=s(211                                              ),E=s(1417                       ),L=s(1307                    ),f=s(220                        ),C=s(1308                        ),g=s(1309                       );class N extends a.PureComponent{constructor(e){super(e),this.NEW_FOLDER_DROPDOWN="new-folder-dropdown",this.ref=(e=>{e&&!this.textarea&&(this.textarea=o.findDOMNode(e),this.textarea.select())}),this.createFolder=(()=>{let e=!1,t=!1;switch(this.state.folderLevel){case c.FolderLevel.EDIT:e=!1,t=!1;break;case c.FolderLevel.VIEW:e=!1,t=!0;break;case c.FolderLevel.DISABLE:e=!0,t=!1}f.trackCtaClicked({text:"create project",category:[f.CtaCategories.CREATE_PROJECT],description:"Create New Project Modal cta_clicked",location:"modal",type:"button"});const s=!this.props.modalShown.prevModal;this.props.dispatch(n.fileBrowser.popModalStack()),this.props.dispatch(n.fileBrowser.stopCreateNewFolder(s,this.state.name.trim(),this.props.creatingNewFolder.teamId,e,t))}),this.onKeyDown=(e=>{e.keyCode===r.Key.ENTER&&(e.preventDefault(),this.createFolder())}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.NEW_FOLDER_DROPDOWN),this.togglePermissionDropdown=(()=>{this.isDropdownShown()?this.props.dispatch(n.fileBrowser.hideDropdown()):this.props.dispatch(n.fileBrowser.showDropdown({type:this.NEW_FOLDER_DROPDOWN}))}),this.onClose=(()=>{f.trackCtaClicked({category:[f.CtaCategories.CREATE_PROJECT],type:"button",location:"modal",text:"cancel",description:"Create New Project Modal Cancel cta_clicked"}),this.props.dispatch(n.fileBrowser.popModalStack()),this.props.dispatch(n.fileBrowser.stopCreateNewFolder())}),this.onNameChange=(e=>{const t=e.target;this.setState({folderLevel:this.state.folderLevel,name:t.value})}),this.setEdit=(()=>{this.setState({folderLevel:c.FolderLevel.EDIT,name:this.state.name})}),this.setPaidLevel=(e=>{l.canAccessProFeature(this.props.teams[this.props.creatingNewFolder.teamId])?this.setState({folderLevel:e,name:this.state.name}):(this.setState({folderLevel:c.FolderLevel.EDIT,name:this.state.name}),e===c.FolderLevel.VIEW?this.props.dispatch(n.fileBrowser.showModal({type:E.AppModal.UPSELL_VIEW_ONLY_MODAL,data:{teamId:this.props.creatingNewFolder.teamId}})):this.props.dispatch(n.fileBrowser.showModal({type:E.AppModal.UPSELL_INVITE_ONLY_MODAL,data:{teamId:this.props.creatingNewFolder.teamId}})))}),this.setViewOnly=(()=>{this.setPaidLevel(c.FolderLevel.VIEW)}),this.setInviteOnly=(()=>{this.setPaidLevel(c.FolderLevel.DISABLE)}),this.renderCurrentAccess=(()=>{switch(this.state.folderLevel){case c.FolderLevel.EDIT:case c.FolderLevel.VIEW:const e=this.state.folderLevel===c.FolderLevel.EDIT?"edit":"view",t=this.props.teams[this.props.creatingNewFolder.teamId];return a.createElement("div",{className:L.access},a.createElement(m.Avatar,{size:24,className:L.avatar,entity:t}),"Everyone at ",i.truncateText(t.name,13)||"this team"," can ",e,a.createElement(h.Svg,{className:L.icon,svg:C}));case c.FolderLevel.DISABLE:return a.createElement("div",{className:L.access},a.createElement(h.Svg,{className:L.lockIcon,svg:g}),"Invite Only",a.createElement(h.Svg,{className:L.icon,svg:C}))}}),this.state={folderLevel:c.FolderLevel.EDIT,name:""}}componentDidMount(){const e=this.props.teams[this.props.creatingNewFolder.teamId];f.trackModalView({modal:"create_new_project",teamId:e.id,editors:e.editors,projects:e.projects})}render(){const e=this.props.teams[this.props.creatingNewFolder.teamId].name||"this team";return a.createElement(w.HeaderModal,{title:"Create New Project",onClose:this.onClose,maxWidth:468},a.createElement("div",{className:L.row},a.createElement(p.TextInput,{ref:this.ref,onChange:this.onNameChange,onKeyDown:this.onKeyDown,className:L.projectName,placeholder:"Project name"})),a.createElement("div",{className:L.row},a.createElement("div",{className:L.inviteSelect,onClick:this.togglePermissionDropdown},this.renderCurrentAccess(),this.isDropdownShown()&&a.createElement(d.dropdown.Dropdown,{className:L.contextMenu},a.createElement(v.CheckedOption,{onClick:this.setEdit,isChecked:this.state.folderLevel===c.FolderLevel.EDIT},"Everyone at ",i.truncateText(e,22)," can edit"),a.createElement(v.CheckedOption,{onClick:this.setViewOnly,isChecked:this.state.folderLevel===c.FolderLevel.VIEW},"Everyone at ",i.truncateText(e,22)," can view"),a.createElement(v.CheckedOption,{onClick:this.setInviteOnly,isChecked:this.state.folderLevel===c.FolderLevel.DISABLE},"Invite-only  let me choose who has access"))),a.createElement("div",{className:L.buttons},a.createElement(p.ButtonSecondary,{onClick:this.onClose},"Cancel"),a.createElement(p.ButtonPrimary,{disabled:!this.state.name.trim(),onClick:this.createFolder},"Create Project"))))}}N.displayName="NewFolderModal",t.NewFolderModal=N,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),a=o(232                        ),n=o(346                                 ),i=o(204                                            ),r=o(350          );class l extends s.Component{constructor(){super(...arguments),this.hideModal=(()=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){return s.createElement(n.Modal,Object.assign({className:r.modal},this.props),s.createElement("div",{className:r.title},"What's going on?"),s.createElement("div",{className:r.modalContent},"Eventually, users will be able to give Figma access to their fonts with a single click. But until Chrome and Firefox implement that capability, were stuck using a work-around. Weve designed a solution with your security in mind, and weve made it easy to set up."),s.createElement("div",{className:r.modalContent},"When you run the installer, you will be installing a process which monitors your computers fonts folder and keeps the tool up-to-date with your fonts."),s.createElement("div",{className:r.modalContent},"Your web browser communicates with the process, which only responds to requests from our domain. One thing to keep in mind is that the process will run in the background until you tell it to stop. The program is extremely lightweight, so it won't eat up resources on your computer."),s.createElement("div",{className:r.modalContent},"If you ever change your mind, you can easily uninstall the process."),s.createElement("div",{className:r.buttonRow},s.createElement(i.ButtonPrimary,{onClick:this.hideModal,className:r.confirmButton},"Got it")))}}l.displayName="FontModal",t.FontModal=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(232                        ),i=a(346                                 ),r=a(204                                            ),n=a(350          );class l extends s.Component{constructor(){super(...arguments),this.changeEmail=(e=>{e.preventDefault(),this.props.dispatch(o.user.changeEmail({formId:l.id}))}),this.forgotPassword=(()=>{this.props.dispatch(o.user.forgotPassword())})}render(){return s.createElement(i.Modal,{size:"small",title:"Change Email",className:n.modal,dispatch:this.props.dispatch},s.createElement("form",{id:l.id,onSubmit:this.changeEmail},s.createElement("p",null,'We will send a validation message to your new email address. Please click the "Confirm Email" button inside to complete the change.'),s.createElement(r.TextInput,{name:"email",type:"text",className:n.textInput,autoFocus:!0,placeholder:"New email"}),s.createElement(r.TextInput,{name:"password",type:"password",className:n.textInput,placeholder:"Confirm Figma password"}),s.createElement("div",{className:n.buttonRow},s.createElement(r.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),s.createElement(r.ButtonPrimary,{type:"submit",className:n.confirmButton},"Submit"))))}}l.displayName="ChangeEmailModal",l.id="user-change-email",t.ChangeEmailModal=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=r(34,1   ),o=r(232                        ),a=r(204                                            ),n=r(350          );class i extends t.PureComponent{constructor(){super(...arguments),this.forgotPassword=(()=>{this.props.dispatch(o.user.forgotPassword())}),this.verifyPassword=(e=>{e.preventDefault(),e.target.elements.password.select(),this.props.dispatch(o.user.verifyPassword({passwordForm:i.formId}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(o.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()})}render(){return t.createElement("form",{id:i.formId,onSubmit:this.verifyPassword},t.createElement("div",null,"For security purposes, please re-enter your password below."),t.createElement("input",{name:"password",type:"password",className:n.textInput,ref:this.inputRef,placeholder:"Current password"}),t.createElement("div",{className:n.error},this.props.twoFactorAuth.currentError||""),t.createElement("div",{className:n.buttonRow},t.createElement(a.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),t.createElement(a.ButtonSecondary,{onClick:this.cancel},"Cancel"),t.createElement(a.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:n.confirmButton},"Continue")))}}i.displayName="RequirePasswordModal",i.formId="verify-password-form",s.RequirePasswordModal=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),a=s(232                        ),i=s(346                                 ),n=s(204                                            ),r=s(1313                                    ),l=s(350          );class c extends o.PureComponent{constructor(){super(...arguments),this.deleteAccount=(e=>{e.preventDefault(),this.props.dispatch(a.user.deleteUserAccount({token:this.props.user.password_token}))}),this.resendVerification=(()=>{this.props.dispatch(a.user.sendValidationEmail())}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(a.fileBrowser.hideModal())})}render(){return null===this.props.user.google_sso_only_at&&this.props.user.email&&!this.props.user.email_validated_at?o.createElement(i.ConfirmationModal,Object.assign({confirmationTitle:"A verified email is required",content:"You must verify your email address before you can attempt this operation.",onConfirm:this.resendVerification,confirmText:"Resend verification email",tintedModalBackground:!0},this.props)):this.props.user.delete_user_loading?o.createElement(i.Modal,Object.assign({size:400,title:"Delete account",className:l.modal,disableClickOutsideToHide:!0},this.props),o.createElement("p",null,"Account deletion is in progress and may take a few moments. You will be redirected once deletion is complete.")):o.createElement(i.Modal,Object.assign({size:400,title:"Delete account",className:l.modal},this.props),(()=>null!==this.props.user.google_sso_only_at||this.props.user.password_token?o.createElement("form",{onSubmit:this.deleteAccount},o.createElement("p",null,o.createElement("span",{className:l.important},"Are you sure you want to delete your Figma account?")," Deleting your account will delete all your associated data such as your files, components and images, including content you have shared with others. You cannot undo this operation."),o.createElement("div",{className:l.buttonRow},o.createElement(n.ButtonSecondary,{className:l.confirmButton,onClick:this.cancel},"Cancel"),o.createElement(n.ButtonNegative,{type:"submit",className:l.confirmButton},"Delete Account"))):o.createElement(r.RequirePasswordModal,Object.assign({},this.props)))())}}c.displayName="DeleteUserAccountModal",t.DeleteUserAccountModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),o=t(232                        ),r=t(346                                 ),p=t(204                                            ),n=t(350          );class d extends a.Component{constructor(){super(...arguments),this.changePassword=(e=>{e.preventDefault();let s=e.target.elements;this.props.dispatch(o.user.changePassword({passwordOld:s.passwordOld.value,passwordNew:s.passwordNew.value,passwordRetype:s.passwordRetype.value}))}),this.forgotPassword=(()=>{this.props.dispatch(o.user.forgotPassword())}),this.inputRef=(e=>{e&&e.focus()})}render(){return a.createElement(r.Modal,Object.assign({size:"small",title:"Change password",className:n.modal},this.props),a.createElement("form",{onSubmit:this.changePassword},a.createElement("input",{name:"passwordOld",type:"password",className:n.textInput,ref:this.inputRef,placeholder:"Current password"}),a.createElement("input",{name:"passwordNew",type:"password",className:n.textInput,placeholder:"New password"}),a.createElement("input",{name:"passwordRetype",type:"password",className:n.textInput,placeholder:"Confirm password"}),a.createElement("div",{className:n.buttonRow},a.createElement(p.Link,{onClick:this.forgotPassword,className:n.left},"Forgot password?"),a.createElement(p.ButtonPrimary,{type:"submit",className:n.confirmButton},"Submit"))))}}d.displayName="ChangePasswordModal",s.ChangePasswordModal=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const o=t(346                                 ),n=t(34,1   ),s=t(232                        );class a extends n.PureComponent{constructor(){super(...arguments),this.invalidate=(()=>{this.props.dispatch(s.user.invalidateSessions())})}render(){return n.createElement(o.ConfirmationModal,Object.assign({confirmationTitle:"Sign out other devices",content:"Signing out all other devices will require you to sign back in on those devices.",onConfirm:this.invalidate,confirmText:"Sign out other devices",tintedModalBackground:!0},this.props))}}a.displayName="InvalidateSessionsModal",i.InvalidateSessionsModal=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={MODE_NUMBER:1,MODE_ALPHA_NUM:2,MODE_8BIT_BYTE:4,MODE_KANJI:8},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){var o=n(1317);function a(t){this.mode=o.MODE_8BIT_BYTE,this.data=t}a.prototype={getLength:function(t){return this.data.length},write:function(t){for(var e=0;e<this.data.length;e++)t.put(this.data.charCodeAt(e),8)}},t.exports=a,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,e){t.exports={L:1,M:0,Q:3,H:2},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,e,t){var n=t(1319);function o(r,e){this.totalCount=r,this.dataCount=e}o.RS_BLOCK_TABLE=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],o.getRSBlocks=function(r,e){var t=o.getRsBlockTable(r,e);if(null==t)throw new Error("bad rs block @ typeNumber:"+r+"/errorCorrectLevel:"+e);for(var n=t.length/3,a=new Array,u=0;u<n;u++)for(var c=t[3*u+0],s=t[3*u+1],l=t[3*u+2],B=0;B<c;B++)a.push(new o(s,l));return a},o.getRsBlockTable=function(r,e){switch(e){case n.L:return o.RS_BLOCK_TABLE[4*(r-1)+0];case n.M:return o.RS_BLOCK_TABLE[4*(r-1)+1];case n.Q:return o.RS_BLOCK_TABLE[4*(r-1)+2];case n.H:return o.RS_BLOCK_TABLE[4*(r-1)+3];default:return}},r.exports=o,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,n,e){function i(){this.buffer=new Array,this.length=0}i.prototype={get:function(t){var n=Math.floor(t/8);return 1==(this.buffer[n]>>>7-t%8&1)},put:function(t,n){for(var e=0;e<n;e++)this.putBit(1==(t>>>n-e-1&1))},getLengthInBits:function(){return this.length},putBit:function(t){var n=Math.floor(this.length/8);this.buffer.length<=n&&this.buffer.push(0),t&&(this.buffer[n]|=128>>>this.length%8),this.length++}},t.exports=i,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,E,o){for(var n={glog:function(r){if(r<1)throw new Error("glog("+r+")");return n.LOG_TABLE[r]},gexp:function(r){for(;r<0;)r+=255;for(;r>=256;)r-=255;return n.EXP_TABLE[r]},EXP_TABLE:new Array(256),LOG_TABLE:new Array(256)},L=0;L<8;L++)n.EXP_TABLE[L]=1<<L;for(L=8;L<256;L++)n.EXP_TABLE[L]=n.EXP_TABLE[L-4]^n.EXP_TABLE[L-5]^n.EXP_TABLE[L-6]^n.EXP_TABLE[L-8];for(L=0;L<255;L++)n.LOG_TABLE[n.EXP_TABLE[L]]=L;r.exports=n,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,n){var g=n(1322);function r(t,e){if(null==t.length)throw new Error(t.length+"/"+e);for(var n=0;n<t.length&&0==t[n];)n++;this.num=new Array(t.length-n+e);for(var g=0;g<t.length-n;g++)this.num[g]=t[g+n]}r.prototype={get:function(t){return this.num[t]},getLength:function(){return this.num.length},multiply:function(t){for(var e=new Array(this.getLength()+t.getLength()-1),n=0;n<this.getLength();n++)for(var h=0;h<t.getLength();h++)e[n+h]^=g.gexp(g.glog(this.get(n))+g.glog(t.get(h)));return new r(e,0)},mod:function(t){if(this.getLength()-t.getLength()<0)return this;for(var e=g.glog(this.get(0))-g.glog(t.get(0)),n=new Array(this.getLength()),h=0;h<this.getLength();h++)n[h]=this.get(h);for(h=0;h<t.getLength();h++)n[h]^=g.gexp(g.glog(t.get(h))+e);return new r(n,0).mod(t)}},t.exports=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(r,e,t){var a=t(1317),i=t(1323),n=t(1322),o=0,s=1,u=2,D=3,f=4,c=5,g=6,E=7,M={PATTERN_POSITION_TABLE:[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],G15:1335,G18:7973,G15_MASK:21522,getBCHTypeInfo:function(r){for(var e=r<<10;M.getBCHDigit(e)-M.getBCHDigit(M.G15)>=0;)e^=M.G15<<M.getBCHDigit(e)-M.getBCHDigit(M.G15);return(r<<10|e)^M.G15_MASK},getBCHTypeNumber:function(r){for(var e=r<<12;M.getBCHDigit(e)-M.getBCHDigit(M.G18)>=0;)e^=M.G18<<M.getBCHDigit(e)-M.getBCHDigit(M.G18);return r<<12|e},getBCHDigit:function(r){for(var e=0;0!=r;)e++,r>>>=1;return e},getPatternPosition:function(r){return M.PATTERN_POSITION_TABLE[r-1]},getMask:function(r,e,t){switch(r){case o:return(e+t)%2==0;case s:return e%2==0;case u:return t%3==0;case D:return(e+t)%3==0;case f:return(Math.floor(e/2)+Math.floor(t/3))%2==0;case c:return e*t%2+e*t%3==0;case g:return(e*t%2+e*t%3)%2==0;case E:return(e*t%3+(e+t)%2)%2==0;default:throw new Error("bad maskPattern:"+r)}},getErrorCorrectPolynomial:function(r){for(var e=new i([1],0),t=0;t<r;t++)e=e.multiply(new i([1,n.gexp(t)],0));return e},getLengthInBits:function(r,e){if(1<=e&&e<10)switch(r){case a.MODE_NUMBER:return 10;case a.MODE_ALPHA_NUM:return 9;case a.MODE_8BIT_BYTE:case a.MODE_KANJI:return 8;default:throw new Error("mode:"+r)}else if(e<27)switch(r){case a.MODE_NUMBER:return 12;case a.MODE_ALPHA_NUM:return 11;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 10;default:throw new Error("mode:"+r)}else{if(!(e<41))throw new Error("type:"+e);switch(r){case a.MODE_NUMBER:return 14;case a.MODE_ALPHA_NUM:return 13;case a.MODE_8BIT_BYTE:return 16;case a.MODE_KANJI:return 12;default:throw new Error("mode:"+r)}}},getLostPoint:function(r){for(var e=r.getModuleCount(),t=0,a=0;a<e;a++)for(var i=0;i<e;i++){for(var n=0,o=r.isDark(a,i),s=-1;s<=1;s++)if(!(a+s<0||e<=a+s))for(var u=-1;u<=1;u++)i+u<0||e<=i+u||0==s&&0==u||o==r.isDark(a+s,i+u)&&n++;n>5&&(t+=3+n-5)}for(a=0;a<e-1;a++)for(i=0;i<e-1;i++){var D=0;r.isDark(a,i)&&D++,r.isDark(a+1,i)&&D++,r.isDark(a,i+1)&&D++,r.isDark(a+1,i+1)&&D++,0!=D&&4!=D||(t+=3)}for(a=0;a<e;a++)for(i=0;i<e-6;i++)r.isDark(a,i)&&!r.isDark(a,i+1)&&r.isDark(a,i+2)&&r.isDark(a,i+3)&&r.isDark(a,i+4)&&!r.isDark(a,i+5)&&r.isDark(a,i+6)&&(t+=40);for(i=0;i<e;i++)for(a=0;a<e-6;a++)r.isDark(a,i)&&!r.isDark(a+1,i)&&r.isDark(a+2,i)&&r.isDark(a+3,i)&&r.isDark(a+4,i)&&!r.isDark(a+5,i)&&r.isDark(a+6,i)&&(t+=40);var f=0;for(i=0;i<e;i++)for(a=0;a<e;a++)r.isDark(a,i)&&f++;return t+=10*(Math.abs(100*f/e/e-50)/5)}};r.exports=M,r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,o){var r=o(1318),n=o(1320),i=o(1321),s=o(1324),u=o(1323);function a(t,e){this.typeNumber=t,this.errorCorrectLevel=e,this.modules=null,this.moduleCount=0,this.dataCache=null,this.dataList=[]}var h=a.prototype;h.addData=function(t){var e=new r(t);this.dataList.push(e),this.dataCache=null},h.isDark=function(t,e){if(t<0||this.moduleCount<=t||e<0||this.moduleCount<=e)throw new Error(t+","+e);return this.modules[t][e]},h.getModuleCount=function(){return this.moduleCount},h.make=function(){if(this.typeNumber<1){var t=1;for(t=1;t<40;t++){for(var e=n.getRSBlocks(t,this.errorCorrectLevel),o=new i,r=0,u=0;u<e.length;u++)r+=e[u].dataCount;for(u=0;u<this.dataList.length;u++){var a=this.dataList[u];o.put(a.mode,4),o.put(a.getLength(),s.getLengthInBits(a.mode,t)),a.write(o)}if(o.getLengthInBits()<=8*r)break}this.typeNumber=t}this.makeImpl(!1,this.getBestMaskPattern())},h.makeImpl=function(t,e){this.moduleCount=4*this.typeNumber+17,this.modules=new Array(this.moduleCount);for(var o=0;o<this.moduleCount;o++){this.modules[o]=new Array(this.moduleCount);for(var r=0;r<this.moduleCount;r++)this.modules[o][r]=null}this.setupPositionProbePattern(0,0),this.setupPositionProbePattern(this.moduleCount-7,0),this.setupPositionProbePattern(0,this.moduleCount-7),this.setupPositionAdjustPattern(),this.setupTimingPattern(),this.setupTypeInfo(t,e),this.typeNumber>=7&&this.setupTypeNumber(t),null==this.dataCache&&(this.dataCache=a.createData(this.typeNumber,this.errorCorrectLevel,this.dataList)),this.mapData(this.dataCache,e)},h.setupPositionProbePattern=function(t,e){for(var o=-1;o<=7;o++)if(!(t+o<=-1||this.moduleCount<=t+o))for(var r=-1;r<=7;r++)e+r<=-1||this.moduleCount<=e+r||(this.modules[t+o][e+r]=0<=o&&o<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=r&&r<=4)},h.getBestMaskPattern=function(){for(var t=0,e=0,o=0;o<8;o++){this.makeImpl(!0,o);var r=s.getLostPoint(this);(0==o||t>r)&&(t=r,e=o)}return e},h.createMovieClip=function(t,e,o){var r=t.createEmptyMovieClip(e,o);this.make();for(var n=0;n<this.modules.length;n++)for(var i=1*n,s=0;s<this.modules[n].length;s++){var u=1*s;this.modules[n][s]&&(r.beginFill(0,100),r.moveTo(u,i),r.lineTo(u+1,i),r.lineTo(u+1,i+1),r.lineTo(u,i+1),r.endFill())}return r},h.setupTimingPattern=function(){for(var t=8;t<this.moduleCount-8;t++)null==this.modules[t][6]&&(this.modules[t][6]=t%2==0);for(var e=8;e<this.moduleCount-8;e++)null==this.modules[6][e]&&(this.modules[6][e]=e%2==0)},h.setupPositionAdjustPattern=function(){for(var t=s.getPatternPosition(this.typeNumber),e=0;e<t.length;e++)for(var o=0;o<t.length;o++){var r=t[e],n=t[o];if(null==this.modules[r][n])for(var i=-2;i<=2;i++)for(var u=-2;u<=2;u++)this.modules[r+i][n+u]=-2==i||2==i||-2==u||2==u||0==i&&0==u}},h.setupTypeNumber=function(t){for(var e=s.getBCHTypeNumber(this.typeNumber),o=0;o<18;o++){var r=!t&&1==(e>>o&1);this.modules[Math.floor(o/3)][o%3+this.moduleCount-8-3]=r}for(o=0;o<18;o++){r=!t&&1==(e>>o&1);this.modules[o%3+this.moduleCount-8-3][Math.floor(o/3)]=r}},h.setupTypeInfo=function(t,e){for(var o=this.errorCorrectLevel<<3|e,r=s.getBCHTypeInfo(o),n=0;n<15;n++){var i=!t&&1==(r>>n&1);n<6?this.modules[n][8]=i:n<8?this.modules[n+1][8]=i:this.modules[this.moduleCount-15+n][8]=i}for(n=0;n<15;n++){i=!t&&1==(r>>n&1);n<8?this.modules[8][this.moduleCount-n-1]=i:n<9?this.modules[8][15-n-1+1]=i:this.modules[8][15-n-1]=i}this.modules[this.moduleCount-8][8]=!t},h.mapData=function(t,e){for(var o=-1,r=this.moduleCount-1,n=7,i=0,u=this.moduleCount-1;u>0;u-=2)for(6==u&&u--;;){for(var a=0;a<2;a++)if(null==this.modules[r][u-a]){var h=!1;i<t.length&&(h=1==(t[i]>>>n&1)),s.getMask(e,r,u-a)&&(h=!h),this.modules[r][u-a]=h,-1==--n&&(i++,n=7)}if((r+=o)<0||this.moduleCount<=r){r-=o,o=-o;break}}},a.PAD0=236,a.PAD1=17,a.createData=function(t,e,o){for(var r=n.getRSBlocks(t,e),u=new i,h=0;h<o.length;h++){var l=o[h];u.put(l.mode,4),u.put(l.getLength(),s.getLengthInBits(l.mode,t)),l.write(u)}var m=0;for(h=0;h<r.length;h++)m+=r[h].dataCount;if(u.getLengthInBits()>8*m)throw new Error("code length overflow. ("+u.getLengthInBits()+">"+8*m+")");for(u.getLengthInBits()+4<=8*m&&u.put(0,4);u.getLengthInBits()%8!=0;)u.putBit(!1);for(;!(u.getLengthInBits()>=8*m||(u.put(a.PAD0,8),u.getLengthInBits()>=8*m));)u.put(a.PAD1,8);return a.createBytes(u,r)},a.createBytes=function(t,e){for(var o=0,r=0,n=0,i=new Array(e.length),a=new Array(e.length),h=0;h<e.length;h++){var l=e[h].dataCount,m=e[h].totalCount-l;r=Math.max(r,l),n=Math.max(n,m),i[h]=new Array(l);for(var d=0;d<i[h].length;d++)i[h][d]=255&t.buffer[d+o];o+=l;var f=s.getErrorCorrectPolynomial(m),g=new u(i[h],f.getLength()-1).mod(f);a[h]=new Array(f.getLength()-1);for(d=0;d<a[h].length;d++){var p=d+g.getLength()-a[h].length;a[h][d]=p>=0?g.get(p):0}}var v=0;for(d=0;d<e.length;d++)v+=e[d].totalCount;var C=new Array(v),c=0;for(d=0;d<r;d++)for(h=0;h<e.length;h++)d<i[h].length&&(C[c++]=i[h][d]);for(d=0;d<n;d++)for(h=0;h<e.length;h++)d<a[h].length&&(C[c++]=a[h][d]);return C},t.exports=a,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";function n(e){return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e}).apply(this,arguments)}function i(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{},n=Object.keys(r);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(r).filter(function(e){return Object.getOwnPropertyDescriptor(r,e).enumerable}))),n.forEach(function(t){d(e,t,r[t])})}return e}function a(e,t){if(null==e)return{};var r,n,o=function(e,t){if(null==e)return{};var r,n,o={},i=Object.keys(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||(o[r]=e[r]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(n=0;n<i.length;n++)r=i[n],t.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(e,r)&&(o[r]=e[r])}return o}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function u(e,t,r){return t&&c(e.prototype,t),r&&c(e,r),e}function f(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?v(e):t}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function v(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}var g=r(34,1),y=r(60,1),b=r(1325),C=r(1319);function m(e){for(var t="",r=0;r<e.length;r++){var n=e.charCodeAt(r);n<128?t+=String.fromCharCode(n):n<2048?(t+=String.fromCharCode(192|n>>6),t+=String.fromCharCode(128|63&n)):n<55296||n>=57344?(t+=String.fromCharCode(224|n>>12),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n)):(r++,n=65536+((1023&n)<<10|1023&e.charCodeAt(r)),t+=String.fromCharCode(240|n>>18),t+=String.fromCharCode(128|n>>12&63),t+=String.fromCharCode(128|n>>6&63),t+=String.fromCharCode(128|63&n))}return t}var O={size:128,level:"L",bgColor:"#FFFFFF",fgColor:"#000000",includeMargin:!1},w={value:y.string.isRequired,size:y.number,level:y.oneOf(["L","M","Q","H"]),bgColor:y.string,fgColor:y.string,includeMargin:y.bool};function P(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[];return e.forEach(function(e,n){var o=null;e.forEach(function(i,a){if(!i&&null!==o)return r.push("M".concat(o+t," ").concat(n+t,"h").concat(a-o,"v1H").concat(o+t,"z")),void(o=null);if(a!==e.length-1)i&&null===o&&(o=a);else{if(!i)return;null===o?r.push("M".concat(a+t,",").concat(n+t," h1v1H").concat(a+t,"z")):r.push("M".concat(o+t,",").concat(n+t," h").concat(a+1-o,"v1H").concat(o+t,"z"))}})}),r.join("")}var S=function(){try{(new Path2D).addPath(new Path2D)}catch(e){return!1}return!0}(),j=function(e){function t(){var e,r;l(this,t);for(var n=arguments.length,o=new Array(n),i=0;i<n;i++)o[i]=arguments[i];return d(v(v(r=f(this,(e=s(t)).call.apply(e,[this].concat(o))))),"_canvas",void 0),r}return p(t,g.PureComponent),u(t,[{key:"componentDidMount",value:function(){this.update()}},{key:"componentDidUpdate",value:function(){this.update()}},{key:"update",value:function(){var e=this.props,t=e.value,r=e.size,n=e.level,o=e.bgColor,i=e.fgColor,a=e.includeMargin,l=new b(-1,C[n]);if(l.addData(m(t)),l.make(),null!=this._canvas){var c=this._canvas,u=c.getContext("2d");if(!u)return;var f=l.modules;if(null===f)return;var s=a?4:0,p=f.length+2*s,h=window.devicePixelRatio||1;c.height=c.width=r*h;var v=r/p*h;u.scale(v,v),u.fillStyle=o,u.fillRect(0,0,p,p),u.fillStyle=i,S?u.fill(new Path2D(P(f,s))):f.forEach(function(e,t){e.forEach(function(e,r){e&&u.fillRect(r+s,t+s,1,1)})})}}},{key:"render",value:function(){var e=this,t=this.props,r=(t.value,t.size),n=(t.level,t.bgColor,t.fgColor,t.style),l=(t.includeMargin,a(t,["value","size","level","bgColor","fgColor","style","includeMargin"])),c=i({height:r,width:r},n);return g.createElement("canvas",o({style:c,height:r,width:r,ref:function(t){return e._canvas=t}},l))}}]),t}();d(j,"defaultProps",O),d(j,"propTypes",w);var E=function(e){function t(){return l(this,t),f(this,s(t).apply(this,arguments))}return p(t,g.PureComponent),u(t,[{key:"render",value:function(){var e=this.props,t=e.value,r=e.size,n=e.level,i=e.bgColor,l=e.fgColor,c=e.includeMargin,u=a(e,["value","size","level","bgColor","fgColor","includeMargin"]),f=new b(-1,C[n]);f.addData(m(t)),f.make();var s=f.modules;if(null===s)return null;var p=c?4:0,h=P(s,p),v=s.length+2*p;return g.createElement("svg",o({shapeRendering:"crispEdges",height:r,width:r,viewBox:"0 0 ".concat(v," ").concat(v)},u),g.createElement("path",{fill:i,d:"M0,0 h".concat(v,"v").concat(v,"H0z")}),g.createElement("path",{fill:l,d:h}))}}]),t}();d(E,"defaultProps",O),d(E,"propTypes",w);var M=function(e){var t=e.renderAs,r=a(e,["renderAs"]),n="svg"===t?E:j;return g.createElement(n,r)};M.defaultProps=i({renderAs:"canvas"},O),e.exports=M,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={blueLink:"blue_link--blueLink--22X56"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=o(34,1   ),s=o(1326          ),r=o(232                        ),i=o(1417                       ),n=o(346                                 ),l=o(204                                            ),c=o(1313                                    ),p=o(346                                 ),m=o(1327                                ),u=o(202                                                ),d=o(350          ),h=o(237                                 );class f extends a.PureComponent{constructor(){super(...arguments),this.verifyOTP=(e=>{e.preventDefault();let t=e.target.elements;t.otp.select(),this.props.dispatch(r.user.verifyOTP({otp:t.otp.value}))}),this.title=(()=>this.props.user.password_token?this.props.user.two_factor_secret_loaded?this.props.user.two_factor_app_enabled?"Two factor autentication enabled!":"Scan bar code":"Download mobile app":"Set up two-factor authentication"),this.resendVerification=(()=>{this.props.dispatch(r.user.sendValidationEmail())}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(r.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()}),this.recoveryCodes=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:i.AppModal.TWO_FACTOR_RECOVERY_MODAL}))}),this.getCode=(()=>{this.props.dispatch(r.user.setupTwoFactor({token:this.props.user.password_token}))}),this.setupSMS=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:i.AppModal.SETUP_PHONE_MODAL}))}),this.toggleQR=(()=>{this.setState({qrCode:!this.state.qrCode})})}UNSAFE_componentWillMount(){this.setState({qrCode:!0})}render(){return this.props.user.email_validated_at?a.createElement(n.Modal,Object.assign({size:400,title:this.title(),className:d.modal},this.props),(()=>this.props.user.password_token?this.props.user.two_factor_secret_loaded?this.props.user.two_factor_app_enabled?a.createElement("div",null,"Hooray! Your account is now secure. You can continue on to view your recovery codes and set up a recovery phone.",a.createElement("div",{className:d.buttonRow},a.createElement(l.Link,{onClick:this.cancel,className:u.btn},"Close"),a.createElement(l.ButtonPrimary,{type:"submit",className:d.confirmButton,onClick:this.recoveryCodes},"Continue to recovery codes"))):a.createElement("form",{autoComplete:"off",onSubmit:this.verifyOTP},(()=>this.state.qrCode?a.createElement("div",null,a.createElement("div",null,"Scan the bar code into your app."),a.createElement("div",{className:d.tfaQrCode},a.createElement(s,{value:h.getSecret().provisioning_uri,bgColor:"#f0f0f0",size:200})),a.createElement("div",null,a.createElement(l.Link,{onClick:this.toggleQR},"Click here to manually type the code instead."))):a.createElement("div",null,a.createElement("div",null,"Type the text code into your app."),a.createElement("div",{className:d.code},h.getSecret().secret.match(/.{4}/g).join(" ")),a.createElement("div",null,a.createElement(l.Link,{onClick:this.toggleQR},"Click here to scan a bar code instead."))))(),a.createElement("div",{style:{marginTop:"20px"}},"Enter the 6-digit authentication code generated by your app:"),a.createElement("input",{name:"otp",type:"text",className:d.textInput,ref:this.inputRef,placeholder:"Authentication code"}),a.createElement("div",{className:d.error},this.props.twoFactorAuth.currentError||""),a.createElement("div",{className:d.buttonRow},a.createElement(l.Link,{onClick:this.cancel,className:u.btn},"Cancel"),a.createElement(l.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:d.confirmButton},"Verify"))):a.createElement("div",null,"You will need a mobile app to complete this process, such as one the following:",a.createElement("ul",{className:d.list},a.createElement("li",null,a.createElement("a",{className:m.blueLink,target:"_blank",rel:"noopener",href:"https://support.google.com/accounts/answer/1066447"},"Google Authenticator")),a.createElement("li",null,a.createElement("a",{className:m.blueLink,target:"_blank",rel:"noopener",href:"https://duo.com/product/trusted-users/two-factor-authentication/duo-mobile"},"Duo Mobile")),a.createElement("li",null,a.createElement("a",{className:m.blueLink,target:"_blank",rel:"noopener",href:"https://authy.com/features/"},"Authy")),a.createElement("li",null,a.createElement("a",{className:m.blueLink,target:"_blank",rel:"noopener",href:"https://www.microsoft.com/en-us/store/p/2fa/9wzdncrcw1jr"},"2FA (Windows phone)"))),a.createElement("div",{className:d.buttonRow},a.createElement(l.Link,{onClick:this.setupSMS,className:d.left},"Send me an SMS instead"),a.createElement(l.Link,{onClick:this.cancel,className:u.btn},"Cancel"),a.createElement(l.ButtonPrimary,{onClick:this.getCode,type:"submit",disabled:this.props.twoFactorAuth.loading,className:d.confirmButton},"Continue"))):a.createElement(c.RequirePasswordModal,Object.assign({},this.props)))()):a.createElement(p.ConfirmationModal,Object.assign({confirmationTitle:"A verified email is required",content:"You must verify your email address before enabling two-factor authentication",onConfirm:this.resendVerification,confirmText:"Resend verification email",tintedModalBackground:!0},this.props))}}f.displayName="SetupTwoFactorModal",t.SetupTwoFactorModal=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(232                        ),r=o(1417                       ),a=o(346                                 ),i=o(204                                            ),c=o(1313                                    ),l=o(346                                 ),p=o(202                                                ),h=o(350          );class m extends s.PureComponent{constructor(){super(...arguments),this.addPhone=(e=>{e.preventDefault();let t=e.target.elements,o=this.props.user.temp_phone;o?this.setState({resent:!0}):(t.phone.select(),o=t.phone.value),this.props.dispatch(n.user.changePhone({phone:o}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(n.fileBrowser.hideModal())}),this.inputRef=(e=>{e&&e.focus()}),this.recoveryCodes=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:r.AppModal.TWO_FACTOR_RECOVERY_MODAL}))}),this.deletePhone=(()=>{this.setState({confirm:!1,resent:!1}),this.props.dispatch(n.user.deletePhone()),this.props.dispatch(n.fileBrowser.hideModal())}),this.onCancel=(()=>{this.setState({confirm:!1})}),this.confirmDelete=(e=>{e.preventDefault(),this.setState({confirm:!0})}),this.confirmPhone=(e=>{e.preventDefault();let t=e.target.elements;t.code.select(),this.props.dispatch(n.user.confirmPhone({code:t.code.value}))}),this.title=(()=>this.props.user.phone_number&&this.props.user.password_token?"SMS two-factor authentication is enabled":"SMS two-factor authentication")}UNSAFE_componentWillMount(){this.setState({confirm:!1,resent:!1})}renderPhone(){return this.props.user.phone_number?s.createElement("div",null,"Your phone number is set to ",this.props.user.phone_number,". Authentication codes will be texted to this number for logging in.",s.createElement("div",{className:h.buttonRow},s.createElement(i.Link,{className:h.left,onClick:this.confirmDelete},"Unregister SMS number"),s.createElement(i.Link,{onClick:this.cancel,className:p.btn},"Close"),s.createElement(i.ButtonPrimary,{className:h.confirmButton,onClick:this.recoveryCodes},"Recovery codes"))):this.props.user.phone_token?s.createElement("div",null,"SMS sent to ",this.props.user.temp_phone,". Please allow up to a minute for the SMS to arrive, then enter the authentication code below.",s.createElement("form",{onSubmit:this.confirmPhone},s.createElement("input",{type:"text",name:"code",ref:this.inputRef,className:h.textInput,placeholder:"Authentication code"}),s.createElement("div",{className:h.error},this.props.twoFactorAuth.currentError||""),s.createElement("div",{className:h.buttonRow},this.state.resent?s.createElement("div",{className:h.left},"Code resent"):s.createElement(i.Link,{className:h.left,onClick:this.addPhone},"Resend code"),s.createElement(i.Link,{onClick:this.cancel,className:p.btn},"Cancel"),s.createElement(i.ButtonPrimary,{type:"submit",className:h.confirmButton},"Verify")))):s.createElement("div",null,"Enter a phone number where we can send an authentication code via SMS.",s.createElement("form",{onSubmit:this.addPhone},s.createElement("input",{type:"text",name:"phone",ref:this.inputRef,className:h.textInput,placeholder:"Phone number, e.g. +1 555 4443333"}),s.createElement("div",{className:h.error},this.props.twoFactorAuth.currentError||""),s.createElement("div",{className:h.buttonRow},s.createElement(i.Link,{onClick:this.cancel,className:p.btn},"Close"),s.createElement(i.ButtonPrimary,{type:"submit",disabled:this.props.twoFactorAuth.loading,className:h.confirmButton},"Verify"))))}render(){return this.state.confirm?s.createElement(l.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:this.props.user.two_factor_app_enabled?"You're about to remove your phone number, but app-based two-factor will still be on.":"This will disable two-factor authentication entirely.",onConfirm:this.deletePhone,onCancel:this.onCancel,confirmText:"Ok",dontClose:!0,tintedModalBackground:!0},this.props)):s.createElement(a.Modal,Object.assign({size:400,title:this.title(),className:h.modal},this.props),(()=>this.props.user.password_token?this.renderPhone():s.createElement(c.RequirePasswordModal,Object.assign({},this.props)))())}}m.displayName="PhoneSetupModal",t.PhoneSetupModal=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(346                                 ),a=o(1313                                    ),r=o(34,1   ),i=o(346                                 ),n=o(232                        ),l=o(350          );class p extends r.PureComponent{constructor(){super(...arguments),this.disable=(()=>{this.props.dispatch(n.user.disableTwoFactor({token:this.props.user.password_token}))})}render(){return this.props.user.password_token?r.createElement(t.ConfirmationModal,Object.assign({confirmationTitle:"Are you sure?",content:this.props.user.phone_number?"You're about to turn off app-based two-factor, but SMS-based two-factor will still be on.":"This will disable two-factor authentication entirely.",onConfirm:this.disable,confirmText:"Ok",tintedModalBackground:!0},this.props)):r.createElement(i.Modal,Object.assign({size:"small",title:"Disable Two-factor Auth",className:l.modal},this.props),r.createElement(a.RequirePasswordModal,Object.assign({},this.props)))}}p.displayName="DisableTwoFactorModal",s.DisableTwoFactorModal=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(232                        ),a=t(1417                       ),n=t(346                                 ),c=t(204                                            ),i=t(1313                                    ),p=t(350          );class l extends o.PureComponent{constructor(){super(...arguments),this.regenerateCodes=(()=>{this.props.dispatch(r.user.resetBackupCodes())}),this.setupPhone=(()=>{this.props.dispatch(r.fileBrowser.showModal({type:a.AppModal.SETUP_PHONE_MODAL}))}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(r.fileBrowser.hideModal())})}UNSAFE_componentWillMount(){this.props.user.password_token&&this.props.dispatch(r.user.getBackupCodes({token:this.props.user.password_token}))}render(){return o.createElement(n.Modal,Object.assign({size:400,title:"Two-factor recovery codes",className:p.modal},this.props),(()=>{if(this.props.user.password_token){if(this.props.user.backup_codes){let e=this.props.user.backup_codes.map(e=>o.createElement("div",{key:e,className:p.code},e));return o.createElement("div",null,"In case you lose your phone, use these codes when prompted for 'Authentication Code' to log in. Once you use a code, it will no longer work.",o.createElement("div",{className:p.codes},e),o.createElement("div",{className:p.buttonRow},o.createElement(c.Link,{className:p.left,onClick:this.regenerateCodes},"Regenerate Codes"),o.createElement(c.ButtonSecondary,{className:p.confirmButton,onClick:this.cancel},"Close"),o.createElement(c.ButtonPrimary,{className:p.confirmButton,onClick:this.setupPhone},"SMS settings")))}return o.createElement("div",null,"Please wait...")}return o.createElement(i.RequirePasswordModal,Object.assign({},this.props))})())}}l.displayName="TwoFactorRecoveryModal",s.TwoFactorRecoveryModal=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(34,1   ),s=i(38,1       ),o=i(347                         ),r=i(232                        ),n=i(504                            ),h=i(346                                 ),l=i(204                                            ),d=i(350          );let c=200,m=24,p=20,g=20,v=c-g,f=-.5,u=1,S=c,w=c+m+p;var y;!function(t){t[t.IMAGE=0]="IMAGE",t[t.SLIDER=1]="SLIDER"}(y||(y={}));class x extends a.Component{constructor(){super(...arguments),this.sliderPosition=g+-f/(u-f)*(v-g),this.previewOffset={x:c/2,y:c/2},this.canvasStyle={background:`url('${n.default()}')`,width:S,height:w,display:"block",margin:"20px auto 10px auto",cursor:"move"},this.startUpload=(()=>{this.props.dispatch(r.fileBrowser.popModalStack()),this.props.dispatch(r.avatar.editorUpload({entity:this.props.avatarEditorState.entity,entityType:this.props.avatarEditorState.entityType,small:this.bytesFromDataURL(this.renderImageToDataURL(120)),large:this.bytesFromDataURL(this.renderImageToDataURL(500))}))}),this.hasAlpha=(t=>{return this.ctx.clearRect(0,0,c,c),this.ctx.drawImage(t,0,0,c,c),this.ctx.getImageData(0,0,1,1).data[3]<255}),this.mountCanvas=(t=>{if(t){this.canvas=t,this.ctx=t.getContext("2d");let e=window.devicePixelRatio||1;t.width=e*S,t.height=e*w,this.ctx.scale(e,e),this.loadFile()}}),this.onCanvasDown=(t=>{let e=t.nativeEvent;if(0!==e.button)return;t.preventDefault(),document.addEventListener("mousemove",this.onCanvasMove),document.addEventListener("mouseup",this.onCanvasUp);let i=this.canvas.getBoundingClientRect();this.dragState={target:e.pageY-i.top<c?y.IMAGE:y.SLIDER,dragStart:{x:e.pageX,y:e.pageY}},this.dragState.target===y.SLIDER&&(this.updateSliderPosition(e.pageX-i.left),this.renderCanvasContent())}),this.onCanvasMove=(t=>{if(t.preventDefault(),null!=this.dragState){let e=this.dragState.dragStart;switch(this.dragState.target){case y.IMAGE:this.previewOffset.x+=t.pageX-e.x,this.previewOffset.y+=t.pageY-e.y;break;case y.SLIDER:{let i=this.computeImageScaleFactor();this.updateSliderPosition(this.sliderPosition+t.pageX-e.x);let a=this.computeImageScaleFactor();this.previewOffset.x+=(c/2-this.previewOffset.x)*(1-a/i),this.previewOffset.y+=(c/2-this.previewOffset.y)*(1-a/i);break}}this.renderCanvasContent(),this.dragState.dragStart={x:t.pageX,y:t.pageY}}}),this.onCanvasUp=(t=>{t.preventDefault(),document.removeEventListener("mousemove",this.onCanvasMove),document.removeEventListener("mouseup",this.onCanvasMove),this.dragState=null}),this.buttonRef=(t=>{t&&s.findDOMNode(t).focus()})}loadFile(){if(!this.props.avatarEditorState.file)throw new Error("file is missing from props");this.image=new Image,this.image.onerror=(()=>{this.props.dispatch(r.flash.error("An error occurred while loading your image."))}),this.image.onload=(()=>{URL.revokeObjectURL(e);const t=this.hasAlpha(this.image)?Math.max(this.image.width,this.image.height)*Math.SQRT2:Math.min(this.image.width,this.image.height);this.previewScale=c/t,this.renderCanvasContent()});let t=this.props.avatarEditorState.file,e=URL.createObjectURL(t);this.image.src=e}updateSliderPosition(t){this.sliderPosition=t,this.sliderPosition=Math.max(g,Math.min(this.sliderPosition,v))}computeImageScaleFactor(){let t=v-g,e=(this.sliderPosition-g)/t;return e=e*(u-f)+f,this.previewScale*Math.pow(100,e)}computeImagePosition(t){let e=t/c,i=this.computeImageScaleFactor()*e,a=this.image.width*i,s=this.image.height*i;return{x:this.previewOffset.x*e-a/2,y:this.previewOffset.y*e-s/2,width:a,height:s}}renderCanvasContent(){let t=this.ctx;t.clearRect(0,0,S,w);let e=this.computeImagePosition(c);t.drawImage(this.image,e.x,e.y,e.width,e.height),t.save(),t.fillStyle=o.FIGMA_LIGHTEST_GRAY,t.beginPath(),t.moveTo(0,0),t.lineTo(c,0),t.lineTo(c,c),t.lineTo(0,c),t.lineTo(0,0),t.moveTo(0,c/2),t.arc(c/2,c/2,c/2,0,2*Math.PI,!0),t.fill(),t.restore(),t.fillStyle=o.FIGMA_LIGHTEST_GRAY,t.fillRect(0,c,c,m+p);let i=c+m,a=i+p/2;t.strokeStyle=o.FIGMA_GRAY,t.beginPath(),t.moveTo(g,a),t.lineTo(v,a),t.closePath(),t.lineWidth=1,t.stroke();let s=i+2,r=i+p-2;t.fillStyle="#333",t.strokeStyle="#777",t.beginPath(),t.moveTo(this.sliderPosition-4,s),t.lineTo(this.sliderPosition+4,s),t.lineTo(this.sliderPosition+4,r-4),t.lineTo(this.sliderPosition,r),t.lineTo(this.sliderPosition-4,r-4),t.closePath(),t.fill(),t.stroke(),t.fillStyle=o.FIGMA_DARK_GRAY,t.font="20px Arial",t.textBaseline="top";let n=t.measureText("+");t.fillText("-",0,i-2),t.fillText("+",c-n.width,i-2)}renderImageToDataURL(t){let e=document.createElement("canvas"),i=e.getContext("2d");e.width=e.height=t;let a=this.computeImagePosition(t);return i.drawImage(this.image,a.x,a.y,a.width,a.height),e.toDataURL()}bytesFromDataURL(t){let e=atob(t.slice(t.indexOf(",")+1)),i=[];for(let a=0;a<e.length;a++)i.push(e[a].charCodeAt(0));return new Uint8Array(i)}render(){return a.createElement(h.Modal,Object.assign({size:296,className:d.modal},this.props),a.createElement("div",{className:d.modalContent,style:{textAlign:"center"}},a.createElement("div",{style:{width:"100%"}},a.createElement("canvas",{ref:this.mountCanvas,style:this.canvasStyle,onMouseDown:this.onCanvasDown})),a.createElement(l.ButtonPrimary,{onClick:this.startUpload,className:d.confirmButton,ref:this.buttonRef,style:{marginTop:24}},"Save photo")))}}x.displayName="AvatarEditorModal",e.AvatarEditorModal=x,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=a(34,1   ),o=a(350          ),s=a(232                        ),i=a(302          ),n=a(346                                 ),r=a(204                                            );class c extends l.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(s.fileBrowser.hideModal())})}render(){return l.createElement(n.Modal,{size:"medium",className:o.modal,dispatch:this.props.dispatch},l.createElement("div",{className:o.title},this.props.name," Integration Enabled"),l.createElement("div",{className:o.welcome},l.createElement("div",null,l.createElement("img",{src:this.props.logo,alt:`${this.props.name} logo`})),l.createElement("div",null,"The ",this.props.name," integration allows you to export selected frames to ",this.props.name,". To begin, select some frames, then select the Export option from the File menu, then navigate to the ",this.props.name," tab.","Zeplin"===this.props.name&&l.createElement("div",null,l.createElement("br",null),l.createElement("br",null),"Important: ",l.createElement("span",{className:o.important},"the integration will only work if you have the Zeplin app installed on this machine.")))),l.createElement("div",{className:o.buttonRow},l.createElement(r.ButtonPrimary,{onClick:this.closeModal},"Got it")))}}c.displayName="IntegrationWelcomeModal",t.ZeplinWelcomeModal=(e=>l.createElement(c,{name:"Zeplin",logo:"https://static.figma.com/uploads/684356a5d74511a659f32717ddeeb19ce2fe8bbb",dispatch:e.dispatch})),t.AvocodeWelcomeModal=(e=>l.createElement(c,{name:"Avocode",logo:"https://static.figma.com/uploads/722f98cf7d9bf21a8f97691db6164d2f2adf3c96",dispatch:e.dispatch}));class m extends l.PureComponent{constructor(){super(...arguments),this.exportToDribbble=(()=>{this.props.dispatch(s.fullscreen.trackEvent({name:"Exported to Dribbble"})),i.unsafeRedirect("https://www.dribbble.com/shots/new?figma_file_id="+this.props.fileKey+"&figma_node_id="+this.props.nodeId,"_blank")}),this.closeModal=(()=>{this.props.dispatch(s.fileBrowser.hideModal())}),this.nodeSelected=this.props.fileKey&&this.props.nodeId}render(){return l.createElement(n.Modal,{size:"medium",className:o.modal,dispatch:this.props.dispatch},l.createElement("div",{className:o.title},this.nodeSelected&&l.createElement("div",null,"Frame is selected"),!this.nodeSelected&&l.createElement("div",null,"No single frame selected")),l.createElement("div",{className:o.welcome},l.createElement("div",null,l.createElement("img",{src:"https://static.figma.com/uploads/8b27b0920253020e66ed03b0949b263fb37abd2e",alt:"Dribbble logo"})),l.createElement("div",null,!this.nodeSelected&&l.createElement("span",{className:o.important}," To post a shot to Dribbble, select a single frame in the file and navigate back to this menu."),this.nodeSelected&&l.createElement("span",{className:o.important}," To share the current selection as a new shot on Dribbble, click the button below."),l.createElement("br",null),l.createElement("br",null),"The Dribbble integration allows you to export selected frames to Dribbble as a new shot.")),l.createElement("div",{className:o.buttonRow},this.nodeSelected&&l.createElement(r.ButtonPrimary,{onClick:this.exportToDribbble},"Export Selection"),!this.nodeSelected&&l.createElement(r.ButtonPrimary,{onClick:this.closeModal},"Got it")))}}m.displayName="DribbbleExportModal",t.DribbbleExportModal=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),a=o(350          ),r=o(232                        ),n=o(346                                 ),i=o(204                                            );class l extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())})}render(){const e=this.props.folder.is_view_only;return s.createElement(n.Modal,{size:"small",className:a.modal,dispatch:this.props.dispatch},s.createElement("div",{className:a.title},"Unable to move project"),s.createElement("div",null,"Projects set as ",e?"view only":"invite only"," cannot be moved between teams. To complete this operation, enable team ",e?"edit ":"","access for ",s.createElement("span",{className:a.important},this.props.folder.name)," and retry."),s.createElement("div",{className:a.buttonRow},s.createElement(i.ButtonPrimary,{onClick:this.closeModal},"Cancel")))}}l.displayName="BlockMovingPrivateProjectModal",t.BlockMovingPrivateProjectModal=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={inputRow:"style_modal--inputRow--dYdct",chitContainer:"style_modal--chitContainer--2Kfc0",errorMessage:"style_modal--errorMessage--27aVK"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(34,1   ),r=s(38,1       ),i=s(232                        ),a=s(129                               ),n=s(219          ),o=s(143              ),p=s(346                                 ),c=s(435                                                                 ),m=s(204                                            ),h=s(391                                                                        ),y=s(1427                      ),u=s(1335               ),d=s(350           );class f extends o.Component{constructor(e){switch(super(e),this.styleTitle="",this.previewUrl="",this.previewStyleThumbnail={type:"INVALID"},this.onCancel=(e=>{e.preventDefault(),this.props.dispatch(i.fileBrowser.hideModal())}),this.onSubmit=o.otherEvent(this,"submit",e=>{e.preventDefault(),this.state.error&&this.setState({error:!1});const t=!!this.props.mirror.selectionProperties[this.props.inheritStyleKeyField];let s=e.target.elements;a.Fullscreen.createStyleFromSelection(this.props.inheritStyleKeyField,s.styleName.value)?(this.props.dispatch(i.fileBrowser.hideModal()),n.segment.track("Style Created",{fromStyle:t,styleType:this.props.type})):this.setState({error:!0})},{record:e=>({styleName:e.target.elements.styleName.value}),playback:e=>({preventDefault(){},target:{elements:{styleName:{value:e.styleName}}}})}),this.inputRef=(e=>{const t=r.findDOMNode(e);e&&t.select()}),this.state={error:!1},this.props.type){case"FILL":this.styleTitle="color";break;case"TEXT":this.styleTitle="text";break;case"EFFECT":this.styleTitle="effect";break;case"EXPORT":this.styleTitle="export";break;case"GRID":this.styleTitle="grid"}this.previewStyleThumbnail=y.getSerializableThumbnailForStyle(e.nodeId,e.type,this.props.inheritStyleKeyField),"INVALID"===this.previewStyleThumbnail.type&&(this.previewUrl=y.getThumbnailUrlForStyleConsumer(e.nodeId,e.inheritStyleKeyField))}render(){const e=this.styleTitle?`Create new ${this.styleTitle} style`:"Create new style",t={thumbnail_url:this.previewUrl,style_type:this.props.type,meta:{style_thumbnail:this.previewStyleThumbnail}};return l.createElement(p.Modal,Object.assign({title:e,size:"small",className:d.modal},this.props),l.createElement("form",{onSubmit:this.onSubmit},l.createElement("div",{className:u.inputRow},l.createElement("div",{className:u.chitContainer},l.createElement(c.StyleIcon,{style:t})),l.createElement(h.TextInput,{name:"styleName",ref:this.inputRef,placeholder:"Untitled"})),this.state.error&&l.createElement("div",{className:u.errorMessage},"An error occurred while creating the style."),l.createElement("div",{className:d.buttonRow},l.createElement(m.ButtonSecondary,{type:"button",className:d.cancelLink,onClick:this.onCancel},"Cancel"),l.createElement(m.ButtonPrimary,{type:"submit",className:d.confirmButton},"Create style"))))}}f.displayName="CreateStyleModal",t.CreateStyleModal=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,i){o.exports={modal:"savepoint_modal--modal--1Slt-",inputDescription:"savepoint_modal--inputDescription--18qIa",title:"savepoint_modal--title--3CKhA",inputLabel:"savepoint_modal--inputLabel--20-sL",buttonRow:"savepoint_modal--buttonRow--1uc6O",goHistoryLink:"savepoint_modal--goHistoryLink--3CoAt",goHistoryLinkDisabled:"savepoint_modal--goHistoryLinkDisabled--3bChd savepoint_modal--goHistoryLink--3CoAt",cancelLink:"savepoint_modal--cancelLink--1hwgc",confirmButton:"savepoint_modal--confirmButton--riNiU"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),o=i(38,1       ),n=i(232                        ),a=i(143              ),r=i(204                                            ),p=i(340                                 ),l=i(199      ),d=i(346                                 ),c=i(317                                                ),h=i(212                                  ),m=i(1337                                                  ),u=i(219          );t.parseSavepointDescription=function(e){const t=e.trim(),i=t.match(/[^\r?\n]\r?\n/);if(i){const e=i.index+1;return[t.slice(0,e).trim(),t.slice(e).trim()]}return[t.trim(),""]},t.formatLabelAndDescription=function(e,t){if(e.length<t+1)return e;let i=e.indexOf("\n",t);if(i<0&&(i=e.indexOf("\r",t)),i>-1&&i<t)return e;let s=e.indexOf(" ",t);return s>0&&i>0?i=Math.min(s,i):s>0&&(i=s),i<t?e:e.slice(0,i)+"\n"+e.slice(i+1)};class b extends a.Component{constructor(e){super(e),this.onConfirmSavepointModal=((e,t)=>{if(this.props.editingSavepointID&&this.props.file){const i=this.props.file;this.props.dispatch(n.file.updateSavepoint(i,this.props.editingSavepointID,e,t)),this.hideModal(),u.segment&&u.segment.track("History Version Edited Information",{savepointId:this.props.editingSavepointID})}else if(this.props.dispatch&&e&&e.length>0&&this.props.file){const i=this.props.file,s=i.checkpoint_key||p.CURRENT_VERSION;this.props.dispatch(n.file.createSavepoint(i,s,e,t||"")),this.hideModal(),u.segment&&(this.props.isHistoryMode?u.segment.track("History Version Created from History Mode",{savepointId:this.props.editingSavepointID}):u.segment.track("History Version Created from Keyboard Shortcut",{savepointId:this.props.editingSavepointID}))}this.clearSavedInputs()}),this.onKeyDownMulti=(e=>{switch(e.keyCode){case l.Key.ENTER:(e.ctrlKey||e.metaKey||e.altKey)&&(e.preventDefault(),this.hideModal(),this.onConfirmSavepointModal(this.state.label,this.state.description))}}),this.onSubmit=a.submitEvent(this,"submit",e=>{e.preventDefault(),this.onConfirmSavepointModal(this.state.label,this.state.description)}),this.onCancel=(()=>{this.clearSavedInputs(),this.hideModal()}),this.saveHistoryInputs=(()=>{b.keepSavepointModalInput=!0,b.savedLabelInput=this.state.label,b.savedDescriptionInput=this.state.description}),this.clearSavedInputs=(()=>{b.keepSavepointModalInput=!1,b.savedLabelInput="",b.savedDescriptionInput=""}),this.focusRef=(e=>{e&&o.findDOMNode(e).focus()}),this.onLabelChange=(e=>{const t=e.target.value;this.setState({label:t})}),this.onLabelBlur=(e=>{this.onLabelChange(e)}),this.onDescriptionChange=(e=>{const t=e.target.value;this.setState({description:t})}),this.onDescriptionBlur=(e=>{this.onDescriptionChange(e)}),this.goHistoryMode=(()=>{this.props.isHistoryMode||(this.props.dispatch(n.fullscreen.enterVersionHistoryMode()),this.saveHistoryInputs(),this.hideModal())}),this.state={label:"",description:"",disableConfirm:!0}}setLabelAndDescriptionFromProps(e){this.state.label.length<1&&this.state.description.length<1&&(b.keepSavepointModalInput?this.setState({label:b.savedLabelInput,description:b.savedDescriptionInput}):this.setState({label:this.props.label,description:this.props.description}))}componentDidMount(){this.setLabelAndDescriptionFromProps(this.props)}UNSAFE_componentWillReceiveProps(e){this.setLabelAndDescriptionFromProps(e)}hideModal(){this.props.dispatch(n.fileBrowser.hideModal())}render(){let e=this.state.disableConfirm;this.state.label&&this.state.label.length>0&&(e=!1);let t=(this.props.editingSavepointID,"Save"),i=this.props.editingSavepointID?"Edit Version Information":"Add to Version History";const o=this.props.isHistoryMode?m.goHistoryLinkDisabled:m.goHistoryLink;return s.createElement(d.Modal,Object.assign({size:"small"},this.props,{className:m.modal}),s.createElement("div",{className:m.title},i),s.createElement(h.TabLoop,{startTabIndex:1,endTabIndex:4},s.createElement("form",{onSubmit:this.onSubmit},s.createElement(c.TextInput,{className:m.inputLabel,type:"input",name:"label",value:this.state.label,placeholder:"Title",onChange:this.onLabelChange,onBlur:this.onLabelBlur,onKeyDown:this.onKeyDownMulti,tabIndex:1,autoFocus:!0,recordingKey:a.joinKeys(this.props,"title")}),s.createElement(c.TextInput,{className:m.inputDescription,type:"textarea",name:"description",value:this.state.description,placeholder:"Describe what changed",onChange:this.onDescriptionChange,onBlur:this.onDescriptionBlur,onKeyDown:this.onKeyDownMulti,tabIndex:2,recordingKey:a.joinKeys(this.props,"description")}),s.createElement("div",{className:m.buttonRow},s.createElement("div",{className:o,onClick:this.goHistoryMode},"Show Full Version History"),s.createElement(r.ButtonSecondary,{type:"button",className:m.cancelLink,onClick:this.onCancel,tabIndex:4},"Cancel"),s.createElement(r.ButtonPrimary,{type:"submit",className:m.confirmButton,disabled:e,tabIndex:3},t)))))}}b.displayName="SavepointModal",b.keepSavepointModalInput=!1,b.savedLabelInput="",b.savedDescriptionInput="",t.SavepointModal=b,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={horizontalNavigator:"horizontal_navigator--horizontalNavigator--30kiq",contents:"horizontal_navigator--contents--1EVRi",chevron:"horizontal_navigator--chevron--OVVRF",chevronLeft:"horizontal_navigator--chevronLeft--YNEPB horizontal_navigator--chevron--OVVRF",disabled:"horizontal_navigator--disabled--3HwOM",chevronRight:"horizontal_navigator--chevronRight--2TZAh horizontal_navigator--chevron--OVVRF"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),n=s(144                        ),o=s(1339                        ),r=s(1136                                           );class i extends a.PureComponent{render(){return a.createElement("div",{className:o.horizontalNavigator},a.createElement("span",{className:`${o.chevronLeft} ${this.props.onLeftClick?"":o.disabled}`,onClick:this.props.onLeftClick},a.createElement(n.Svg,{svg:r})),a.createElement("span",{className:o.contents},this.props.children),a.createElement("span",{className:`${o.chevronRight} ${this.props.onRightClick?"":o.disabled}`,onClick:this.props.onRightClick},a.createElement(n.Svg,{svg:r})))}}i.displayName="HorizontalNavigator",t.HorizontalNavigator=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,i,e){l.exports={row:"billing_table--row--81gqj",lastRow:"billing_table--lastRow--3tkus billing_table--row--81gqj",billingPeriod:"billing_table--billingPeriod--qDgVE",billingPeriodTitle:"billing_table--billingPeriodTitle--BMQ3a",memberCount:"billing_table--memberCount--3MiGs",paidSeats:"billing_table--paidSeats--HCNnw",newSeats:"billing_table--newSeats--29A4f",charges:"billing_table--charges--1LOmI",dueDate:"billing_table--dueDate--gxsOo",billingStatusPaid:"billing_table--billingStatusPaid--3uCh_",billingStatusDue:"billing_table--billingStatusDue--2-qH0",billingStatusOverdue:"billing_table--billingStatusOverdue--XKqkQ",billingStatusUpcoming:"billing_table--billingStatusUpcoming--1Ym6Y",link:"billing_table--link--1HJDr blue_link--blueLink--22X56",footer:"billing_table--footer--1JTNp",infoIcon:"billing_table--infoIcon--2IwRY",hidden:"billing_table--hidden--23LlX",billingDates:"billing_table--billingDates--Sj-uA"},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,s,e){t.exports={id:"g59edd951",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M9 18c4.97 0 9-4.03 9-9 0-4.97-4.03-9-9-9-4.97 0-9 4.03-9 9 0 4.97 4.03 9 9 9zm0-1c-4.418 0-8-3.582-8-8 0-4.418 3.582-8 8-8 4.418 0 8 3.582 8 8 0 4.418-3.582 8-8 8zM8 8h2v6H8V8zm0-3c0-.552.448-1 1-1 .552 0 1 .448 1 1 0 .552-.448 1-1 1-.552 0-1-.448-1-1z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),l=a(232                        ),i=a(172                     ),s=a(167                        ),r=a(1340                                                                    ),o=a(558                           ),c=a(615        ),u=a(144                        ),d=a(1341                 ),m=a(80,1    ),h=a(1342                       );class g extends n.Component{constructor(e){super(e),this.onMembersClick=(()=>{this.props.dispatch(l.orgs.selectAdminView({view:"members"})),this.props.dispatch(l.orgRoster.setFilters({accountTypeFilter:s.OrgUserAccountType.FULL,permissionFilter:null}))}),this.onLeftClick=(()=>{this.state.yearIndex>=this.props.orgBillingHistory.length-1||this.setState(Object.assign({},this.state,{yearIndex:this.state.yearIndex+1}))}),this.onRightClick=(()=>{this.state.yearIndex<=0||this.setState(Object.assign({},this.state,{yearIndex:this.state.yearIndex-1}))}),this.state={hoverRow:null,yearIndex:0}}onMouseEnter(e){this.setState(Object.assign({},this.state,{hoverRow:e}))}onMouseLeave(e){this.setState(Object.assign({},this.state,{hoverRow:null}))}tooltipText(e){const t=i.formatMoney(e.amount_due,null,null,e.currency),a=i.formatMoney(e.plan_amount/4,null,null,e.currency);return`${t} = ${e.quantity_added} new licenses * ${5-e.quarter} remaining quarters * ${a} per license per quarter`}render(){if(!this.props.orgBillingHistory)return null;if(0===this.props.orgBillingHistory.length)return null;const e=this.props.orgBillingHistory[this.state.yearIndex],t=new Date(e.start_at).getFullYear(),a=new Date(e.end_at).getFullYear();return n.createElement("div",null,n.createElement(r.HorizontalNavigator,{onLeftClick:this.state.yearIndex<this.props.orgBillingHistory.length-1?this.onLeftClick:void 0,onRightClick:this.state.yearIndex>0?this.onRightClick:void 0},t,"  ",a," Summary"),n.createElement(o.TableRow,{className:d.row,header:!0},n.createElement(o.HeaderCell,{className:d.billingPeriod},"Description"),n.createElement(o.HeaderCell,{className:d.memberCount},"Full Members"),n.createElement(o.HeaderCell,{className:d.paidSeats},"Licenses"),n.createElement(o.HeaderCell,{className:d.newSeats},"New Licenses"),n.createElement(o.HeaderCell,{className:d.charges},"Charges"),n.createElement(o.HeaderCell,{className:d.dueDate},"Status")),e.billing_invoices.map((t,a)=>{let l,s,r,g="";switch(t.status){case"upcoming":l=d.billingStatusUpcoming,s="Will be finalized on",r=t.due_at;break;case"paid":l=d.billingStatusPaid,s="Paid",r=t.paid_at,g="View invoice";break;case"open":if(new Date(t.past_due_at)<new Date)l=d.billingStatusOverdue,s="Overdue";else{l=d.billingStatusDue;const e=new Date(t.past_due_at).getTime()-(new Date).getTime();s=`Due in ${Math.floor(e/1e3/60/60/24)} days`}r=t.past_due_at,g="Pay invoice";break;default:c.assertNever(t.status)}return n.createElement(o.TableRow,{className:a===e.billing_invoices.length-1&&0===this.state.yearIndex?d.lastRow:d.row,key:a,onMouseEnter:()=>this.onMouseEnter(a),onMouseLeave:()=>this.onMouseLeave(a)},n.createElement("div",{className:d.billingPeriod},n.createElement("div",{className:d.billingPeriodTitle},t.quarter>1?"Quarterly True-up":"Annual Subscription"),n.createElement("div",{className:d.billingDates},m(t.due_at).format("MMM DD, YYYY"),"  ",m(e.end_at).format("MMM DD, YYYY"))),n.createElement("div",{className:d.memberCount},n.createElement("div",null,t.quantity_full_members),n.createElement("a",{className:"upcoming"===t.status?d.link:d.hidden,onClick:this.onMembersClick},"Show members")),n.createElement("div",{className:d.paidSeats},n.createElement("div",null,t.quantity_paid),n.createElement("div",{className:d.hidden},"X")),n.createElement("div",{className:d.newSeats},n.createElement("div",null,t.quantity_added>0?`+${t.quantity_added}`:""),n.createElement("div",{className:d.hidden},"X")),n.createElement("div",{className:d.charges},n.createElement("div",null,i.formatMoney(t.amount_due,null,null,t.currency),this.state.hoverRow===a&&t.amount_due>0&&n.createElement(u.Svg,{className:d.infoIcon,"data-tooltip-text":this.tooltipText(t),"data-tooltip-timeout-delay":50,svg:h})),t.invoice_url&&t.amount_due>0?n.createElement("a",{className:d.link,href:t.invoice_url,rel:"noopener",target:"_blank"},g):n.createElement("div",{className:d.hidden},"X")),n.createElement("div",{className:d.dueDate},n.createElement("div",{className:l},0===t.amount_due?"":s),n.createElement("div",{className:0===t.amount_due?d.hidden:""},m(r).format("MMM DD, YYYY"))))}),n.createElement("div",{className:d.footer},n.createElement("div",null,"Each quarter, you will be charged for new licenses added on top of your ",n.createElement("strong",null,"Annual Subscription")," during the ",n.createElement("strong",null,"Quarterly True-up"),"."),n.createElement("div",null,"The charge for a new license will happen only once - at the end of the quarter - and will be prorated for the remainder of the annual billing period.")))}}g.displayName="BillingTable",t.BillingTable=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RoleRequestStatus={PENDING:"pending",APPROVED:"approved",DENIED:"denied",WITHDRAWN:"withdrawn"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(97      ),r=a(232                        ),o=a(101                               ),c=a(1344                                 );t.getPendingTeamRoleRequests=o.asyncActionCreator("ORG_FETCH_PENDING_TEAM_ROLE_REQUESTS",(e,t)=>{const a=e.getState().currentOrgId;s.default.get(`/api/team_role_requests?org_id=${a}`).then(t=>{e.dispatch(r.teamRoleRequests.updateTeamRoleRequests({teamRoleRequests:t.data.meta}))}).catch(t=>{e.dispatch(r.flash.flash(t.message||"An error occurred while trying to fetch pending requests to join teams."))})},!1),t.requestToJoinTeam=o.asyncActionCreator("ORG_REQUEST_TO_JOIN_TEAM",(e,t)=>{const a={team_id:t.teamId,level:t.level,message:t.message};s.default.post("/api/team_role_requests",a).then(t=>{const a=t.data.meta;a.status===c.RoleRequestStatus.APPROVED?e.dispatch(r.team.onJoin({teamId:a.team_id})):e.dispatch(r.flash.flash("You've requested to join this team."))}).catch(t=>{e.dispatch(r.flash.error(t.message||"An error occurred."))})}),t.withdrawTeamRoleRequest=o.asyncActionCreator("ORG_WITHDRAW_TEAM_JOIN_REQUEST",(e,t)=>{s.default.del(`/api/team_role_requests/${t.requestId}`).then(t=>{e.dispatch(r.flash.flash("Request withdrawn"))}).catch(t=>{e.dispatch(r.flash.error(t.message||"An error occurred."))})}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0}),o.SignInMethod={ANY:"any",GOOGLE:"google",SAML:"saml"},o.getDomainsBySignInRestriction=function(n){let e={};return n.forEach(n=>{n.google_sso_only_at?(e[o.SignInMethod.GOOGLE]||(e[o.SignInMethod.GOOGLE]=[]),e[o.SignInMethod.GOOGLE].push(n.domain)):n.saml_sso_only_at?(e[o.SignInMethod.SAML]||(e[o.SignInMethod.SAML]=[]),e[o.SignInMethod.SAML].push(n.domain)):(e[o.SignInMethod.ANY]||(e[o.SignInMethod.ANY]=[]),e[o.SignInMethod.ANY].push(n.domain))}),e},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(o,c,t){o.exports={label:"checkbox_confirm_modal--label--2xraL",buttonBox:"checkbox_confirm_modal--buttonBox--16qtQ",checkboxConfirmButtonBox:"checkbox_confirm_modal--checkboxConfirmButtonBox--3B4yf",checkboxText:"checkbox_confirm_modal--checkboxText--2i2i9"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(346                                 ),c=o(204                                            ),r=o(1347                          );class i extends s.PureComponent{render(){return s.createElement(n.Modal,Object.assign({},this.props),this.props.children,s.createElement(a,{onConfirm:this.props.onConfirm,onCancel:this.props.onHide,confirmButtonText:this.props.buttonText,hideCancelButton:this.props.hideCancelButton,makeButtonAppearNegative:this.props.makeButtonAppearNegative},s.createElement("div",{className:r.checkboxText},this.props.checkboxText)))}}i.displayName="CheckboxConfirmModal",t.CheckboxConfirmModal=i;class a extends s.PureComponent{constructor(e){super(e),this.onCheck=(()=>{this.setState({checked:!this.state.checked})}),this.state={checked:!1}}render(){return s.createElement("div",{className:this.props.className},s.createElement(c.Label,{className:r.label},s.createElement(c.Checkbox,{checked:this.state.checked,onClick:this.onCheck}),this.props.children),s.createElement("div",{className:r.buttonBox},!this.props.hideCancelButton&&s.createElement(c.ButtonSecondary,{onClick:this.props.onCancel},this.props.cancelButtonText||"Cancel"),this.props.makeButtonAppearNegative?s.createElement(c.ButtonNegative,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||"Confirm"):s.createElement(c.ButtonPrimary,{disabled:!this.state.checked,onClick:this.props.onConfirm},this.props.confirmButtonText||"Confirm")))}}a.displayName="CheckboxConfirmButtons",t.CheckboxConfirmButtons=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,r){o.exports={modalContainer:"confirm_org_user_actions--modalContainer--NKOvG",bold:"confirm_org_user_actions--bold--3sTa8",spacing:"confirm_org_user_actions--spacing--2bw_4",warning:"confirm_org_user_actions--warning--dTsbM confirm_org_user_actions--spacing--2bw_4 confirm_org_user_actions--bold--3sTa8",link:"confirm_org_user_actions--link--19vqW"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(232                        ),i=t(171                      ),a=t(167                        ),n=t(1348                                                                 ),l=t(346                                 ),c=t(204                                            ),p=t(1349                            );class d extends o.PureComponent{constructor(){super(...arguments),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(r.fileBrowser.hideModal())}),this.deleteOrgUsers=(()=>{this.props.dispatch(r.orgUser.batchDel({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds}})),this.onHide()}),this.getModalCopy=(()=>{const e=this.props.orgUserIds.length;if(1!==e)return{title:"Remove Members",warning:`Removing ${e} members will cause them to lose access to all teams, projects, and files in the ${this.props.org.name} organization. You cannot undo this action.`,info:"The Drafts folders associated with these member accounts will be reassigned to you. You can find them in Shared Projects and may reassign them from there."};return{title:"Remove Member",warning:`Removing ${i.getOrgUserForId(this.props.orgUsers,this.props.orgUserIds[0]).user.handle} will cause them to lose access to all teams, projects, and files in the ${this.props.org.name} organization. You cannot undo this action.`,info:"The Drafts folders associated with this member account will be reassigned to you. You can find them in Shared Projects and may reassign them from there."}})}render(){const e=this.getModalCopy();return o.createElement(n.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.deleteOrgUsers,onHide:this.onHide,disableClickOutsideToHide:!0,buttonText:e.title,title:e.title,size:"small",checkboxText:"I understand that this action isn't reversible",makeButtonAppearNegative:!0},o.createElement("div",{className:p.modalContainer},o.createElement("p",{className:p.bold},e.warning),o.createElement("p",{className:p.spacing},e.info)))}}d.displayName="ConfirmDeleteModal",s.ConfirmDeleteModal=d;class m extends o.PureComponent{constructor(){super(...arguments),this.onHide=(()=>{this.props.onHide?this.props.onHide():this.props.dispatch(r.fileBrowser.hideModal())}),this.updateAccountType=(()=>{this.props.dispatch(r.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:this.props.orgUserIds,account_type:this.props.accountType}})),this.onHide()})}render(){const e=this.props.orgUserIds.length,s=1===e?`${i.getOrgUserForId(this.props.orgUsers,this.props.orgUserIds[0]).user.handle}'s`:`${e} members'`;return o.createElement(l.ConfirmationModal,{confirmationTitle:"Confirm Account Type Changes",confirmText:"Confirm",onConfirm:this.updateAccountType,onCancel:this.props.onHide,dontClose:!0,onHide:this.props.onHide,disableClickOutsideToHide:!0,dispatch:this.props.dispatch},this.props.accountType===a.OrgUserAccountType.RESTRICTED&&o.createElement("div",null,o.createElement("p",null,"Changing ",s," Account type to ",o.createElement("span",{className:p.bold},"Restricted")," will limit their ability to edit or create files outside of Drafts."),o.createElement("p",{className:p.warning},1===e?"This member":"These members"," will also be prohibited from sharing files in Drafts with collaborators, and any files they previously shared will no longer be accessible to collaborators.")),this.props.accountType===a.OrgUserAccountType.FULL&&o.createElement("div",null,o.createElement("p",null,"Changing ",s," Account type to ",o.createElement("span",{className:p.bold},"Full")," will grant them the ability to edit or create files outside of their Drafts."),o.createElement("p",{className:p.spacing},"This change may affect your bill."," ",o.createElement(c.Link,{className:p.link,target:"_blank",href:"https://help.figma.com/article/251-member-management#account"},"Learn more"))))}}m.displayName="ConfirmDeleteModal",s.ConfirmAccountChangeModal=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,m,l){e.exports={scrollContainer:"members_table--scrollContainer--32EBH",rows:"members_table--rows--3qFT1",row:"members_table--row--1Vyr4",unselectedCheckbox:"members_table--unselectedCheckbox--S-ABM members_table--checkboxColumn--3n4_4",tableRow:"members_table--tableRow--2EkCL members_table--row--1Vyr4",tableRowNonAdmin:"members_table--tableRowNonAdmin--3EwGV members_table--row--1Vyr4",provisionalRow:"members_table--provisionalRow--12pAx members_table--row--1Vyr4",accountTypeColumn:"members_table--accountTypeColumn--2Mx2u members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",column:"members_table--column--1kUb- table--column--CuH34",checkboxColumn:"members_table--checkboxColumn--3n4_4",avatarColumn:"members_table--avatarColumn--D7V2p members_table--column--1kUb- table--column--CuH34",emailColumn:"members_table--emailColumn--A9u7p members_table--column--1kUb- table--column--CuH34",selectableColumn:"members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",dropdownColumn:"members_table--dropdownColumn--nmag9 members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",dropdownColumnDisabled:"members_table--dropdownColumnDisabled--gh683 members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",permissionColumn:"members_table--permissionColumn--2xdwe members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",permissionColumnHeader:"members_table--permissionColumnHeader--39rxw members_table--permissionColumn--2xdwe members_table--selectableColumn--3R9iy members_table--column--1kUb- table--column--CuH34",accountTypeColumnHeader:"members_table--accountTypeColumnHeader--1SFrP members_table--column--1kUb- table--column--CuH34",endColumn:"members_table--endColumn--34JLM",activityColumn:"members_table--activityColumn--2ZZ-d members_table--endColumn--34JLM",link:"members_table--link--1QrAc",banner:"members_table--banner--2N26R",bannerSelectedColumn:"members_table--bannerSelectedColumn--3ySjG",dropdown:"members_table--dropdown--3hJeF",removeOption:"members_table--removeOption--cgpGh ellipsis--ellipsis--1RWY6",pointingDropdown:"members_table--pointingDropdown--GZOeW",filterContainer:"members_table--filterContainer--2h7KM",indicator:"members_table--indicator--2GdCw",inactiveIndicator:"members_table--inactiveIndicator--1KCcB members_table--indicator--2GdCw",searchInputWrapper:"members_table--searchInputWrapper--2jQko",searchInput:"members_table--searchInput---UP4U",avatarName:"members_table--avatarName--2H45u ellipsis--ellipsis--1RWY6",avatar:"members_table--avatar--36xie",chevron:"members_table--chevron--3b3oa",emptyState:"members_table--emptyState--1znk3",batchAccountTypeColumn:"members_table--batchAccountTypeColumn--iv50O"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(34,1   ),o=t(38,1       ),i=t(232                        ),n=t(283         ),p=t(204                                            ),a=t(408                                  ),c=t(376                                                  ),h=t(701                              ),d=t(144                        ),l=t(173                        ),m=t(270                          ),g=t(167                        ),u=t(1306                                           ),E=t(674                                                             ),O=t(558                           ),C=t(349                            ),y=t(1350                                                                     ),w=t(95               ),T=t(1351                 ),R=t(1308                        ),D="mixed";var S,U;!function(e){e[e.DELETE=0]="DELETE",e[e.ACCOUNT=1]="ACCOUNT"}(S||(S={}));class A extends r.PureComponent{constructor(e){super(e),this.BATCH_PERMISSION_DROPDOWN="BATCH_MEMBER_PERMISSION_DROPDOWN",this.BATCH_ACCOUNT_TYPE_DROPDOWN="BATCH_ACCOUNT_TYPE_DROPDOWN",this.ROLE_FILTER_DROPDOWN="ROLE_FILTER_DROPDOWN",this.ACCOUNT_TYPE_FILTER_DROPDOWN="ACCOUNT_TYPE_FILTER_DROPDOWN",this.isDropdownShown=(e=>this.props.dropdownShown&&this.props.dropdownShown.type===e),this.onToggleMemberSelect=(e=>{this.props.orgRoster.selectedUserIds[e]?this.props.dispatch(i.orgRoster.unselectUserIds({ids:[e]})):this.props.dispatch(i.orgRoster.selectUserIds({ids:[e]}))}),this.toggleCheckAllUserIds=(()=>{const e=[];for(const s of this.props.orgRoster.orgRosterIds)s.user_id&&e.push(s.user_id);Object.keys(this.props.orgRoster.selectedUserIds).length<e.length?this.props.dispatch(i.orgRoster.selectUserIds({ids:e})):this.props.dispatch(i.orgRoster.unselectUserIds({ids:e}))}),this.getAccountFilterText=(e=>e?l.getOrgAccountTypeString(e):"Show All"),this.updateAccountFilter=(e=>{this.props.onFilter({accountTypeFilter:e,permissionFilter:this.props.orgRoster.filters.permissionFilter})}),this.confirmDelete=(e=>{this.setState({modal:{type:S.DELETE,orgUserIds:e}})}),this.confirmAccountChange=((e,s)=>{this.setState({modal:{type:S.ACCOUNT,orgUserIds:e,accountType:s}})}),this.onDeleteClick=(()=>{this.confirmDelete(this.getOrgUserIds())}),this.onFullClick=(()=>{this.confirmAccountChange(this.getOrgUserIds(),g.OrgUserAccountType.FULL)}),this.onRestrictedClick=(()=>{this.confirmAccountChange(this.getOrgUserIds(),g.OrgUserAccountType.RESTRICTED)}),this.hideModal=(()=>{this.setState({modal:null})}),this.getPermissionFilterText=(e=>{switch(e){case m.OrgPermissionExtendedFilters.IDP:return"Provisional";case null:return"Show All";default:return l.orgPermissionName(e)}}),this.getPermissionFilterOptions=(()=>n.isEmpty(this.props.idpUserById.idpUsers)?f:v),this.updatePermissionFilter=(e=>{this.props.onFilter({accountTypeFilter:this.props.orgRoster.filters.accountTypeFilter,permissionFilter:e})}),this.onSearch=(e=>{this.props.onSearch(e)}),this.getPermissionValue=(e=>e.permission),this.getAccountTypeValue=(e=>e.account_type),this.getOrgUserIds=(()=>Object.keys(this.props.orgRoster.selectedUserIds).map(e=>this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][e].id)),this.onMemberClick=(()=>this.props.onbatchOrgUserPut(this.getOrgUserIds(),null,g.OrgPermissionType.MEMBER)),this.onAdminClick=(()=>this.props.onbatchOrgUserPut(this.getOrgUserIds(),null,g.OrgPermissionType.ADMIN)),this.renderBatchPermissionDropdown=(()=>{const e=this.getPropertySet(this.getPermissionValue),s=e.size>1?D:Array.from(e)[0];return r.createElement(a.dropdown.Dropdown,{className:T.dropdown,style:this.props.dropdownShown.data.position},e.size>1&&r.createElement(u.CheckedOption,{isChecked:!0,onClick:null},"Mixed"),1===e.size&&e.has(g.OrgPermissionType.GUEST)&&r.createElement(u.CheckedOption,{isChecked:!0,onClick:null},"Guest"),!e.has(g.OrgPermissionType.GUEST)&&r.createElement(u.CheckedOption,{isChecked:g.OrgPermissionType.MEMBER===s,onClick:this.onMemberClick},"Member"),!e.has(g.OrgPermissionType.GUEST)&&r.createElement(u.CheckedOption,{isChecked:g.OrgPermissionType.ADMIN===s,onClick:this.onAdminClick},"Admin"),!this.props.orgRoster.selectedUserIds[this.props.permissionsState.user.id]&&r.createElement(u.CheckedOption,{isChecked:!1,onClick:this.onDeleteClick},"Remove from ",this.props.org.name))}),this.renderBatchAccountTypeDropdown=(()=>{const e=this.getPropertySet(this.getAccountTypeValue),s=Array.from(e)[0],t=[];return e.size>1&&t.push(r.createElement(u.CheckedOption,{key:"mixed",isChecked:!0,onClick:null},"Mixed")),1===e.size&&e.has(g.OrgUserAccountType.STARTER)&&t.push(r.createElement(u.CheckedOption,{key:"starter",isChecked:!0,onClick:null},"Starter")),t.push(r.createElement(u.CheckedOption,{key:"full",isChecked:1===e.size&&s===g.OrgUserAccountType.FULL,onClick:this.onFullClick},"Full")),t.push(r.createElement(u.CheckedOption,{key:"restricted",isChecked:1===e.size&&s===g.OrgUserAccountType.RESTRICTED,onClick:this.onRestrictedClick},"Restricted")),r.createElement(a.dropdown.Dropdown,{className:T.dropdown,style:this.props.dropdownShown.data.position},t)}),this.renderBody=(()=>{const e=this.props.orgRoster.orgRosterIds,s=this.props.orgRoster.filters,t=l.canAdminOrg(this.props.org.id,this.props.permissionsState);return this.props.permissionsState.orgUsersByOrgId.isFetching||this.props.idpUserById.isFetching?r.createElement(O.LoadingRow,null):0===e.length&&this.props.orgRoster.searchQuery?r.createElement("div",{className:T.emptyState},"No results for '",this.props.orgRoster.searchQuery,"'"):0===e.length&&(s.accountTypeFilter||s.permissionFilter)?r.createElement("div",{className:T.emptyState},"No results found."):e.map(e=>{if(e.user_id){const s=this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][e.user_id];return r.createElement(N,{dropdownShown:this.props.dropdownShown,canAdminOrg:t,key:s.id,orgUser:s,isMe:this.props.permissionsState.user.id===s.user_id,org:this.props.org,isOrgGuest:s.permission===g.OrgPermissionType.GUEST,onDelete:this.confirmDelete,onChangeMemberPermission:this.props.onChangeMemberPermission,onChangeAccountType:this.confirmAccountChange,onToggleMemberSelect:this.onToggleMemberSelect,isSelected:!!this.props.orgRoster.selectedUserIds[s.user_id],areDropdownsdisabled:!n.isEmpty(this.props.orgRoster.selectedUserIds),dispatch:this.props.dispatch})}{const s=this.props.idpUserById.idpUsers[e.id];return r.createElement(P,{key:s.email,idpUser:s,canAdminOrg:t})}})}),this.state={}}getSelectedUsersProperty(e,s){const t=new Set;let r=0;for(const o in this.props.orgRoster.selectedUserIds)if(t.add(e(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][o])),r++,t.size>1)return"Mixed";if(r===Object.keys(this.props.orgRoster.selectedUserIds).length)return s(Array.from(t)[0])}getPropertySet(e){const s=new Set;for(const t in this.props.orgRoster.selectedUserIds)s.add(e(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id][t]));return s}render(){const e=this.props.org,s=l.canAdminOrg(e.id,this.props.permissionsState),t=Object.keys(this.props.orgRoster.selectedUserIds).length,o=this.props.orgRoster.sort;return r.createElement(c.ScrollContainer,{className:T.scrollContainer,showScrollbar:!0},r.createElement("div",{className:T.searchInputWrapper},r.createElement(F,{query:this.props.orgRoster.searchQuery,onChange:this.onSearch})),r.createElement(O.TableRow,{className:s?T.row:T.tableRowNonAdmin,header:!0},s&&r.createElement(p.Checkbox,{className:T.checkboxColumn,checked:t>0,onChange:this.toggleCheckAllUserIds}),r.createElement(O.HeaderCell,{className:T.avatarColumn},r.createElement(O.SortableField,{isDescending:o.isDescending,sortBy:this.props.onSort,field:m.OrgRosterSortType.NAME,hasChevron:o.type===m.OrgRosterSortType.NAME},"NAME")),r.createElement(O.HeaderCell,{className:T.emailColumn},r.createElement(O.SortableField,{isDescending:o.isDescending,sortBy:this.props.onSort,field:m.OrgRosterSortType.EMAIL,hasChevron:o.type===m.OrgRosterSortType.EMAIL},"EMAIL")),r.createElement(O.HeaderCell,{className:T.permissionColumnHeader},r.createElement(b,{dropdownShown:this.props.dropdownShown,checkedValue:this.props.orgRoster.filters.permissionFilter,dropdownId:this.ROLE_FILTER_DROPDOWN,values:this.getPermissionFilterOptions(),getDisplayText:this.getPermissionFilterText,dispatch:this.props.dispatch,name:"ROLE",updateFilter:this.updatePermissionFilter})),s&&r.createElement(O.HeaderCell,{className:T.accountTypeColumnHeader},r.createElement(M,{dropdownShown:this.props.dropdownShown,checkedValue:this.props.orgRoster.filters.accountTypeFilter,dropdownId:this.ACCOUNT_TYPE_FILTER_DROPDOWN,values:I,getDisplayText:this.getAccountFilterText,dispatch:this.props.dispatch,name:"ACCOUNT",updateFilter:this.updateAccountFilter}))),this.renderBody(),t>0&&s&&r.createElement("div",{className:T.banner},r.createElement("p",{className:T.bannerSelectedColumn},t," ",t>1?"users":"user"," selected"),r.createElement(_,{className:T.permissionColumn,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.BATCH_PERMISSION_DROPDOWN),hasPermission:!1,type:this.BATCH_PERMISSION_DROPDOWN},this.getSelectedUsersProperty(this.getPermissionValue,l.orgPermissionName),this.isDropdownShown(this.BATCH_PERMISSION_DROPDOWN)&&this.renderBatchPermissionDropdown()),r.createElement(_,{className:T.permissionColumn,dispatch:this.props.dispatch,showingDropdown:this.isDropdownShown(this.BATCH_ACCOUNT_TYPE_DROPDOWN),hasPermission:!1,type:this.BATCH_ACCOUNT_TYPE_DROPDOWN},this.getSelectedUsersProperty(this.getAccountTypeValue,l.getOrgAccountTypeString),this.isDropdownShown(this.BATCH_ACCOUNT_TYPE_DROPDOWN)&&this.renderBatchAccountTypeDropdown())),this.state.modal&&this.state.modal.type===S.DELETE&&r.createElement(y.ConfirmDeleteModal,{org:this.props.org,orgUsers:this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],orgUserIds:this.state.modal.orgUserIds,onHide:this.hideModal,dispatch:this.props.dispatch}),this.state.modal&&this.state.modal.type===S.ACCOUNT&&r.createElement(y.ConfirmAccountChangeModal,{org:this.props.org,orgUsers:this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.org.id],orgUserIds:this.state.modal.orgUserIds,onHide:this.hideModal,accountType:this.state.modal.accountType,dispatch:this.props.dispatch}))}}A.displayName="MembersTable",s.MembersTable=A;class N extends r.PureComponent{constructor(e){super(e),this.isDropdownShown=(e=>this.props.dropdownShown&&this.props.dropdownShown.type===e),this.isPermissionDropdownShown=(()=>this.isDropdownShown(this.MEMBER_PERMISSION_DROPDOWN)),this.isAccountTypeDropdownShown=(()=>this.isDropdownShown(this.ACCOUNT_TYPE_DROPDOWN)),this.confirmRemoval=(()=>{this.props.onDelete([this.props.orgUser.id])}),this.onMemberClick=(()=>this.props.onChangeMemberPermission({permission:g.OrgPermissionType.MEMBER,org_id:this.props.orgUser.org_id,id:this.props.orgUser.id})),this.onAdminClick=(()=>this.props.onChangeMemberPermission({permission:g.OrgPermissionType.ADMIN,org_id:this.props.orgUser.org_id,id:this.props.orgUser.id})),this.onFullClick=(()=>{this.props.orgUser.account_type!==g.OrgUserAccountType.FULL&&this.props.onChangeAccountType([this.props.orgUser.id],g.OrgUserAccountType.FULL)}),this.onRestrictedClick=(()=>{this.props.orgUser.account_type!==g.OrgUserAccountType.RESTRICTED&&this.props.onChangeAccountType([this.props.orgUser.id],g.OrgUserAccountType.RESTRICTED)}),this.toggleMemberSelect=(()=>{this.props.onToggleMemberSelect(this.props.orgUser.user_id)}),this.renderAccountTypeDropdown=(()=>{const e=this.props.orgUser,s=e.account_type===g.OrgUserAccountType.STARTER;return r.createElement(a.dropdown.Dropdown,{className:T.dropdown,style:this.props.dropdownShown.data.position},s&&r.createElement(u.CheckedOption,{isChecked:!0,onClick:null},"Starter"),r.createElement(u.CheckedOption,{isChecked:e.account_type===g.OrgUserAccountType.FULL,onClick:this.onFullClick},"Full"),r.createElement(u.CheckedOption,{isChecked:e.account_type===g.OrgUserAccountType.RESTRICTED,onClick:this.onRestrictedClick},"Restricted"))}),this.renderPermissionDropdown=(()=>r.createElement(a.dropdown.Dropdown,{className:T.dropdown,style:this.props.dropdownShown.data.position},this.props.isOrgGuest&&r.createElement(u.CheckedOption,{isChecked:!0,onClick:null},"Guest"),!this.props.isOrgGuest&&r.createElement(u.CheckedOption,{isChecked:g.OrgPermissionType.MEMBER===this.props.orgUser.permission,onClick:this.onMemberClick},"Member"),!this.props.isOrgGuest&&r.createElement(u.CheckedOption,{isChecked:g.OrgPermissionType.ADMIN===this.props.orgUser.permission,onClick:this.onAdminClick},"Admin"),r.createElement(a.dropdown.Separator,null),r.createElement(a.dropdown.Option,{onClick:this.confirmRemoval,className:T.removeOption},"Remove from ",this.props.org.name))),this.MEMBER_PERMISSION_DROPDOWN=`MEMBER_PERMISSION_DROPDOWN-${this.props.orgUser.user.email}`,this.ACCOUNT_TYPE_DROPDOWN=`ACCOUNT_TYPE_DROPDOWN-${this.props.orgUser.user.email}`}render(){const e=this.props.isMe,s=`${this.props.orgUser.user.handle} ${e?" (You)":""}`,t={initialEmail:this.props.orgUser.user.email},o=`/files/${this.props.org.id}/activity-logs?${w.encode(t)}`;return r.createElement(O.TableRow,{className:this.props.canAdminOrg?T.tableRow:T.tableRowNonAdmin},this.props.canAdminOrg&&r.createElement(p.Checkbox,{className:this.props.isSelected?T.checkboxColumn:T.unselectedCheckbox,checked:this.props.isSelected,onChange:this.toggleMemberSelect}),r.createElement("div",{className:T.avatarColumn},r.createElement(C.Avatar,{className:T.avatar,entity:this.props.orgUser.user,size:24}),r.createElement("div",{className:T.avatarName},s)),r.createElement("div",{className:T.emailColumn},this.props.orgUser.user.email),r.createElement(_,{className:T.permissionColumn,hasPermission:!(this.props.canAdminOrg&&!e&&this.props.orgUser.id),dispatch:this.props.dispatch,isDisabled:this.props.areDropdownsdisabled,type:this.MEMBER_PERMISSION_DROPDOWN,showingDropdown:this.isDropdownShown(this.MEMBER_PERMISSION_DROPDOWN)},l.orgPermissionName(this.props.orgUser.permission),this.isPermissionDropdownShown()&&this.renderPermissionDropdown()),this.props.canAdminOrg&&r.createElement(_,{className:T.accountTypeColumn,dispatch:this.props.dispatch,isDisabled:this.props.areDropdownsdisabled,type:this.ACCOUNT_TYPE_DROPDOWN,showingDropdown:this.isDropdownShown(this.ACCOUNT_TYPE_DROPDOWN),hasPermission:!this.props.canAdminOrg},l.getOrgAccountTypeString(this.props.orgUser.account_type),this.isAccountTypeDropdownShown()&&this.renderAccountTypeDropdown()),this.props.canAdminOrg&&r.createElement("div",{className:T.activityColumn},r.createElement(p.Link,{className:T.link,target:"_blank",rel:"noopener",href:o},"View Activity")))}}N.displayName="MemberRow",s.OrgUserRow=N;class P extends r.PureComponent{render(){return r.createElement(O.TableRow,{className:this.props.canAdminOrg?T.provisionalRow:T.tableRowNonAdmin},r.createElement("div",{className:T.avatarColumn},r.createElement(C.Avatar,{className:T.avatar,entity:this.props.idpUser,size:24}),r.createElement("div",{className:T.avatarName},this.props.idpUser.name)),r.createElement("div",{className:T.emailColumn},this.props.idpUser.email),r.createElement("div",{className:T.permissionColumn},r.createElement("span",{"data-tooltip-text":"User has been provisioned with SCIM and must sign in to activate org membership."},"Provisional")),this.props.canAdminOrg&&r.createElement("div",{className:T.accountTypeColumn}))}}P.displayName="IdpUserRow",s.IdpUserRow=P;class _ extends r.PureComponent{constructor(){super(...arguments),this.toggleDropdown=(()=>{if(this.props.showingDropdown)this.props.dispatch(i.fileBrowser.hideDropdown());else{const e=o.findDOMNode(this).getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:this.props.type,data:{position:{top:e.top,bottom:"auto",left:e.left,right:"auto"}}}))}})}render(){return r.createElement("div",{className:`${this.props.isDisabled?T.dropdownColumnDisabled:T.dropdownColumn} ${this.props.className?this.props.className:""}`,onClick:this.props.hasPermission?null:this.toggleDropdown},this.props.children,!this.props.hasPermission&&!this.props.isDisabled&&r.createElement(d.Svg,{className:T.chevron,svg:R}))}}s.DropdownSelector=_,function(e){e[e.HEADER=0]="HEADER",e[e.SEPERATOR=1]="SEPERATOR",e[e.VALUE=2]="VALUE"}(U||(U={}));class k extends r.PureComponent{constructor(){super(...arguments),this.targetRef=(e=>{this.targetDiv=e}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownId),this.toggleDropdown=(()=>{if(this.isDropdownShown())this.props.dispatch(i.fileBrowser.hideDropdown());else{const e=this.targetDiv.getBoundingClientRect();this.props.dispatch(i.fileBrowser.showDropdown({type:this.props.dropdownId,data:{targetRect:e}}))}}),this.renderDropdown=(()=>{if(this.isDropdownShown())return r.createElement(E.PointingDropdown,{className:T.pointingDropdown,targetRect:this.props.dropdownShown.data.targetRect,minWidth:132},this.props.values.map((e,s)=>{switch(e.type){case U.SEPERATOR:return r.createElement(a.dropdown.Separator,{key:`SEPARATOR-${s}`});case U.HEADER:return r.createElement(u.CheckedOption,{key:`HEADER-${s}`,disabled:!0,onClick:()=>{},isChecked:!1},e.text);case U.VALUE:return r.createElement(u.CheckedOption,{key:s,isChecked:this.props.checkedValue===e.value,onClick:()=>this.props.updateFilter(e.value)},this.props.getDisplayText(e.value))}}))})}render(){return r.createElement("div",{className:T.filterContainer,ref:this.targetRef,onClick:this.toggleDropdown},r.createElement("span",null,this.props.name),r.createElement("span",{className:this.props.checkedValue?T.indicator:T.inactiveIndicator}),this.renderDropdown())}}k.displayName="MembersTableFilter",s.MembersTableFilter=k;const I=[{type:U.VALUE,value:null},{type:U.SEPERATOR},{type:U.HEADER,text:"Show Only"},{type:U.VALUE,value:g.OrgUserAccountType.FULL},{type:U.VALUE,value:g.OrgUserAccountType.RESTRICTED},{type:U.VALUE,value:g.OrgUserAccountType.STARTER}];class M extends k{}const f=[{type:U.VALUE,value:null},{type:U.SEPERATOR},{type:U.HEADER,text:"Show Only"},{type:U.VALUE,value:g.OrgPermissionType.ADMIN},{type:U.VALUE,value:g.OrgPermissionType.MEMBER},{type:U.VALUE,value:g.OrgPermissionType.GUEST}],v=[...f,{type:U.VALUE,value:m.OrgPermissionExtendedFilters.IDP}];class b extends k{}class F extends r.PureComponent{constructor(){super(...arguments),this.clearSearch=(()=>{this.props.onChange("")})}render(){return r.createElement(h.SearchBar,{className:T.searchInput,focusOnMount:!0,extraSpacing:!0,query:this.props.query,clearSearch:this.clearSearch,onChange:this.props.onChange})}}F.displayName="RosterSearch",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,t,e){a.exports={scrollContainer:"teams_table--scrollContainer--Dj_EC",column:"teams_table--column--2Vu1i table--column--CuH34",teamRequest:"teams_table--teamRequest--2Xoqj teams_table--column--2Vu1i table--column--CuH34 teams_table--column--2Vu1i table--column--CuH34",row:"teams_table--row--1kY_V",rowNonAdmin:"teams_table--rowNonAdmin---HxgQ teams_table--row--1kY_V",statsColumn:"teams_table--statsColumn--1neJC teams_table--column--2Vu1i table--column--CuH34",orgSettingsColumn:"teams_table--orgSettingsColumn--1qvEI teams_table--statsColumn--1neJC teams_table--column--2Vu1i table--column--CuH34",avatarColumn:"teams_table--avatarColumn--Xn2QS teams_table--column--2Vu1i table--column--CuH34",avatarName:"teams_table--avatarName--3ayHm ellipsis--ellipsis--1RWY6",avatar:"teams_table--avatar--3R8V0",link:"teams_table--link--130r5",newTeamIcon:"teams_table--newTeamIcon--3fkjg"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),n=t(173                        ),r=t(169                     ),o=t(1344                                 ),i=t(144                        ),l=t(147                                        ),m=t(558                           ),c=t(376                                                  ),p=t(96         ),d=t(349                            ),h=t(204                                            ),u=t(729                            ),g=t(1353               );class C extends a.PureComponent{render(){const e=n.canAdminOrg(this.props.currentOrgId,this.props.permissionsState),s=this.props.teamSortConfig,t=[...this.props.orgTeams.teams];return p.sortAlphabeticallyByProperty(t,s.property,s.isDescending),a.createElement(c.ScrollContainer,{className:g.scrollContainer,showScrollbar:!0},a.createElement(m.TableRow,{className:e?g.row:g.rowNonAdmin,header:!0},a.createElement(m.HeaderCell,{className:g.avatarColumn},a.createElement(m.SortableField,{isDescending:s.isDescending,sortBy:this.props.onSort,field:"name",hasChevron:!0},"TEAM")),a.createElement(m.HeaderCell,{className:g.statsColumn},"PROJECTS"),a.createElement(m.HeaderCell,{className:g.statsColumn},"MEMBERS"),a.createElement(m.HeaderCell,{className:g.orgSettingsColumn},"ORG ACCESS"),a.createElement(m.HeaderCell,null)),this.props.orgTeams.isFetching?a.createElement(m.LoadingRow,null):a.createElement("div",null,t.map(e=>a.createElement(E,Object.assign({key:e.id},this.props,{team:e}))),a.createElement(m.TableRow,{className:e?g.row:g.rowNonAdmin},a.createElement("div",{className:g.avatarColumn,onClick:this.props.onCreateTeam},a.createElement(i.Svg,{svg:u,className:g.newTeamIcon}),a.createElement(h.Link,{className:g.link},"Create New Team")))))}}C.displayName="DiscoverableTeamsTable",s.DiscoverableTeamsTable=C;class E extends a.PureComponent{constructor(){super(...arguments),this.onClickJoin=(()=>{this.props.onJoin(this.props.team.id)}),this.onClickLeave=(()=>{this.props.onLeave(this.props.team)}),this.onClickRequest=(()=>{this.props.onJoinRequest(this.props.team)}),this.onClickWithdraw=(()=>{this.props.onWithdrawRequestForTeam(this.props.team)}),this.onBypassRequest=(()=>{this.props.onBypassRequest(this.props.team)}),this.joinEl=(()=>{const e=this.props,s=this.props.team,t=this.props.teamRoleRequests[s.id],i=n.canAdminOrg(this.props.currentOrgId,this.props.permissionsState);return n.canViewTeam(s.id,e.permissionsState)?a.createElement(h.Link,{className:g.teamRequest,onClick:this.onClickLeave},"Leave Team"):s.id in e.joiningTeamIds?a.createElement("div",{className:g.teamRequest},a.createElement(l.LoadingSpinner,null)):t&&t.status===o.RoleRequestStatus.PENDING?a.createElement(h.Link,{className:g.teamRequest,onClick:this.onClickWithdraw},"Cancel Request"):s.org_access===r.OrgAccess.PRIVATE&&0===s.member_count&&i?a.createElement(h.Link,{className:g.teamRequest,onClick:this.onBypassRequest},"Join Team"):s.org_access===r.OrgAccess.PUBLIC?a.createElement(h.Link,{className:g.teamRequest,onClick:this.onClickJoin},"Join Team"):s.org_access===r.OrgAccess.PRIVATE?a.createElement(h.Link,{className:g.teamRequest,onClick:this.onClickRequest},"Request to Join"):void console.warn("Secret teams should not show in this list at all")})}render(){const e=this.props.team,s=`${e.projects} ${1===e.projects?"project":"projects"}`,t=`${e.member_count} ${1===e.member_count?"member":"members"}`,r=n.canAdminOrg(this.props.currentOrgId,this.props.permissionsState);return a.createElement(m.TableRow,{className:r?g.row:g.rowNonAdmin},a.createElement("div",{className:g.avatarColumn},a.createElement(d.Avatar,{className:g.avatar,entity:e,size:24}),a.createElement("div",{className:g.avatarName},e.name)),a.createElement("div",{className:g.statsColumn},s),a.createElement("div",{className:g.statsColumn},t),a.createElement("div",{className:g.orgSettingsColumn},n.orgAccessStrings[e.org_access]),this.joinEl())}}E.displayName="TeamRow",s.TeamRow=E,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,e,t){a.exports={wrapper:"editable_avatar--wrapper--1h2oR",overlay:"editable_avatar--overlay--2PcaR",loading:"editable_avatar--loading--1VexM",icon:"editable_avatar--icon--NDsCZ"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(l,z,t){l.exports={id:"gf807cdd7",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M11.8 1.69l.354-.354L11.8.983l-.354.353.354.354zm2.121 2.121l.354.354.353-.354-.353-.353-.354.353zm-9.553 9.554l.12.485.135-.033.098-.098-.353-.354zm-2.122-2.121l-.353-.354-.099.099-.033.134.485.12zm-.7 2.82l-.484-.12-.2.805.805-.2-.12-.485zm9.9-12.02l2.122 2.12.707-.706-2.121-2.122-.708.708zM4.721 13.012L2.6 10.89l-.707.707 2.121 2.122.707-.707zM2.6 11.597l7.794-7.794-.707-.707-7.794 7.794.707.707zm7.794-7.794l1.76-1.76-.708-.707-1.76 1.76.708.707zm3.174-.345l-1.76 1.76.707.707 1.76-1.76-.707-.707zm-1.76 1.76l-7.794 7.794.707.707 7.794-7.794-.707-.707zM9.687 3.803l2.12 2.122.708-.707-2.121-2.122-.707.707zm-7.926 7.32l-.7 2.821.971.24.7-2.82-.971-.24zm-.094 3.427l2.82-.7-.24-.97-2.82.7.24.97z" fill="#fff"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const a=i(34,1   ),s=i(232                        ),n=i(239                             ),p=i(144                        ),r=i(1417                       ),l=i(349                            ),o=i(147                                        ),c=i(1355                   ),h=i(1356                              );let d=120;class m extends a.Component{constructor(t){super(t),this.triggerFileInputClick=(()=>{this.fileInput.click()}),this.onImageSelected=(t=>{let e=this.fileInput.files[0];this.fileInput.value=null,this.props.dispatch(s.avatar.editorInit({entity:this.props.entity,entityType:this.props.entityType,file:e})),this.props.dispatch(s.fileBrowser.showModal({type:r.AppModal.AVATAR_EDITOR_MODAL}))}),this.fileInputRef=(t=>{t&&(this.fileInput=t)}),this.size=null==t.size?d:t.size}render(){const t={width:`${this.size}px`,minWidth:`${this.size}px`,height:`${this.size}px`,minHeight:`${this.size}px`},e=this.props.avatarEditorState&&this.props.avatarEditorState.status===n.AvatarEditorStatus.UPLOADING&&this.props.entity===this.props.avatarEditorState.entity;return a.createElement("div",{className:c.wrapper,onClick:this.triggerFileInputClick,style:t},a.createElement("input",{type:"file",accept:"image/*",ref:this.fileInputRef,onChange:this.onImageSelected,style:{display:"none"}}),e&&a.createElement("div",{className:c.loading},a.createElement(o.LoadingSpinner,null)),!e&&a.createElement(l.Avatar,{entity:this.props.entity,size:this.size}),a.createElement("div",{className:c.overlay},a.createElement(p.Svg,{className:c.icon,svg:h})))}}m.displayName="EditableAvatar",e.EditableAvatar=m,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,i,a){o.exports={radioGroup:"radio--radioGroup--2fRK0",radioOption:"radio--radioOption--1NPPl",icon:"radio--icon--3kaoX",iconChecked:"radio--iconChecked--1sG9i radio--icon--3kaoX",label:"radio--label--359sT",disabled:"radio--disabled--1ovap radio--label--359sT"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=o(34,1   ),n=o(199      ),i=o(1358         );class r extends t.Component{render(){return t.createElement("div",{className:`${i.radioGroup} ${this.props.className}`},t.Children.map(this.props.children,(e,s)=>e.type===a?t.cloneElement(e,{_isChecked:this.props.value===e.props.value,_onChange:this.props.onChange}):e))}}r.displayName="RadioGroup",s.RadioGroup=r;class a extends t.PureComponent{constructor(){super(...arguments),this.documentKeyDown=(e=>{e.keyCode!==n.Key.SPACE&&e.keyCode!==n.Key.ENTER||this.props._onChange(this.props.value)})}render(){return t.createElement("div",{className:`${i.radioOption} ${this.props.className}`,onClick:this.props.disabled?null:()=>this.props._onChange(this.props.value)},t.createElement("div",{className:this.props._isChecked?i.iconChecked:i.icon,tabIndex:this.props.disabled?-1:0,onFocus:()=>{document.addEventListener("keydown",this.documentKeyDown)},onBlur:()=>{document.removeEventListener("keydown",this.documentKeyDown)}}),t.createElement("div",{className:this.props.disabled?i.disabled:i.label},this.props.children))}}a.displayName="RadioOption",s.RadioOption=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){o.exports={fullWidthPage:"full_width_page--fullWidthPage--Fg4oT overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),a=s(1360                   );class l extends n.PureComponent{render(){return n.createElement("div",Object.assign({className:a.fullWidthPage},this.props))}}l.displayName="FullWidthPageContent",t.FullWidthPageContent=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(E,_,T){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),function(E){E[E.TEXT=0]="TEXT",E[E.FILE_COMMENT=1]="FILE_COMMENT",E[E.FILE_COMMENT_REPLY=2]="FILE_COMMENT_REPLY",E[E.INVITE_FILE=3]="INVITE_FILE",E[E.INVITE_FOLDER=4]="INVITE_FOLDER",E[E.INVITE_TEAM=5]="INVITE_TEAM",E[E.AT_MENTION_INVITE=7]="AT_MENTION_INVITE",E[E.AT_MENTION=8]="AT_MENTION",E[E.TEAM_ROLE_REQUEST_APPROVED=9]="TEAM_ROLE_REQUEST_APPROVED",E[E.TEAM_ROLE_REQUEST_DENIED=10]="TEAM_ROLE_REQUEST_DENIED",E[E.TEAM_ROLE_REQUEST_CREATED=11]="TEAM_ROLE_REQUEST_CREATED",E[E.ORG_ACCOUNT_TYPE_REQUEST_CREATED=12]="ORG_ACCOUNT_TYPE_REQUEST_CREATED",E[E.ORG_ACCOUNT_TYPE_REQUEST_APPROVED=13]="ORG_ACCOUNT_TYPE_REQUEST_APPROVED",E[E.ORG_ACCOUNT_TYPE_REQUEST_DENIED=14]="ORG_ACCOUNT_TYPE_REQUEST_DENIED"}(_.UserNotificationType||(_.UserNotificationType={})),_.PERSONAL_BELL_ID="0",E.exports instanceof Function&&(E.exports.default=E.exports)}),
(function(n,o,t){n.exports={option:"main_menu--option--1AIMj",selectedOption:"main_menu--selectedOption--34-16 main_menu--option--1AIMj",optionContainer:"main_menu--optionContainer--3PttF",optionName:"main_menu--optionName--av3_6",iconContainer:"main_menu--iconContainer--2oKZK"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(l,c,t){l.exports={id:"g8f7c8421",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M8.614.082l.862 2.647 2.482-1.261c.6.444 1.13.975 1.575 1.575L12.27 5.524l2.647.863c.054.363.082.735.082 1.113 0 .378-.028.75-.082 1.114l-2.647.862 1.261 2.481c-.444.6-.975 1.131-1.575 1.575l-2.48-1.26-.863 2.646C8.25 14.972 7.878 15 7.5 15c-.378 0-.75-.028-1.113-.082l-.863-2.647-2.481 1.261c-.6-.443-1.131-.975-1.575-1.574l1.261-2.482-2.647-.862C.028 8.25 0 7.878 0 7.5c0-.378.028-.75.082-1.113l2.647-.863-1.261-2.482c.444-.6.975-1.13 1.574-1.574l2.482 1.261.863-2.647C6.75.028 7.122 0 7.5 0c.378 0 .75.028 1.114.082zM10 7.5C10 8.88 8.88 10 7.5 10 6.12 10 5 8.88 5 7.5 5 6.12 6.12 5 7.5 5 8.88 5 10 6.12 10 7.5z" fill-rule="evenodd" fill="#aaa"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),i=s(140           ),o=s(232                        ),n=s(96         ),p=s(176              ),a=s(171                      ),c=s(173                        ),d=s(1362                                 ),l=s(1417                       ),g=s(349                            ),h=s(1306                                           ),m=s(674                                                             ),u=s(408                                  ),w=s(144                        ),O=s(1363             ),_=s(1364                                  );class S extends r.Component{constructor(){super(...arguments),this.onSwitcherClick=((e,t)=>{this.props.dispatch(o.orgs.switchActiveOrg({orgId:e})),this.props.dispatch(o.orgs.setCurrentOrgId({orgId:e})),this.props.dispatch(o.fileBrowser.hideDropdown())}),this.onAccountClick=(()=>{this.props.dispatch(o.fileBrowser.selectView({userId:this.props.permissionsState.user.id}))}),this.onSettingsClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"general"})),this.props.dispatch(o.fileBrowser.showModal({type:l.AppModal.ORG_DASHBOARD_MODAL}))}),this.renderOption=((e,t,s,i)=>{const o=s?null:this.onSwitcherClick.bind(this,t),n=s?O.selectedOption:O.option,p=c.canMemberOrg(t,this.props.permissionsState)&&s;return r.createElement("div",{key:t,className:O.optionContainer},r.createElement(h.CheckedOption,{key:t,isChecked:s,onClick:o,className:n},i?r.createElement(g.AvatarWithBell,{entity:e,size:24}):r.createElement(g.Avatar,{entity:e,size:24}),r.createElement("div",{className:O.optionName},e.name)),p&&r.createElement("div",{className:O.iconContainer,onClick:this.onSettingsClick},r.createElement(w.Svg,{svg:_})))}),this.renderOptions=(()=>{const e=[],t=this.props,s=t.permissionsState.orgById[t.currentOrgId];s&&e.push(this.renderOption(s,s.id,!0,!1));const r=a.getOrgUsersForUser(t.permissionsState.orgUsersByOrgId.orgUsers,t.permissionsState.user.id).reduce((e,s)=>{const r=s.org_id;return c.canGuestOrg(r,t.permissionsState)||console.error(`The org user's Organization is not in state. user: "${t.permissionsState.user.id}", orgId: "${r}"`),r!==t.currentOrgId&&e.push(t.permissionsState.orgById[r]),e},[]);return n.sortAlphabeticallyByProperty(r,"name"),r.forEach(t=>{e.push(this.renderOption(t,t.id,!1,!!this.props.bellStates[t.id]))}),t.hasPersonalSpace&&e.push(this.renderOption(t.permissionsState.user,null,!t.currentOrgId,this.props.bellStates[d.PERSONAL_BELL_ID]&&!!t.currentOrgId)),e})}render(){const e=a.getOrgUsersForUser(this.props.permissionsState.orgUsersByOrgId.orgUsers,this.props.permissionsState.user.id).length>0,t=p.desktopApp?null:i.mac?"mac":i.windows?"win":null;return r.createElement(m.PointingDropdown,{targetRect:this.props.dropdownShown.data.targetRect,minWidth:192,lean:"left"},e&&this.renderOptions(),e&&r.createElement(u.dropdown.Separator,null),r.createElement(u.dropdown.Option,{onClick:this.onAccountClick},"Account Settings"),t&&r.createElement(u.dropdown.Option,{href:`/download/desktop/${t}`,target:"_blank"},"Get Desktop App"),r.createElement(u.dropdown.Option,{href:"/logout"},"Sign Out"))}}S.displayName="MainMenu",t.MainMenu=S,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={cancel:"top_bar--cancel--2PPJ4",dot:"top_bar--dot--z6vl2",header:"top_bar--header---JfcG",title:"top_bar--title--2159R text--whiteTitleText--2yF_5 text--titleText--10C29 text--_whiteText--2PkdM",titleCenter:"top_bar--titleCenter--mjsoz",titleDesktop:"top_bar--titleDesktop--1qjrB top_bar--title--2159R text--whiteTitleText--2yF_5 text--titleText--10C29 text--_whiteText--2PkdM",titleText:"top_bar--titleText--1_nrP",headerChildren:"top_bar--headerChildren--2jBsO",container:"top_bar--container--1xQEs",chevronContainer:"top_bar--chevronContainer--bmaV2 top_bar--iconContainer--1-1we",chevronIcon:"top_bar--chevronIcon--3ojLg",containerDesktop:"top_bar--containerDesktop--3onDu top_bar--container--1xQEs",containerMobile:"top_bar--containerMobile--2Fu0C top_bar--container--1xQEs",containerHover:"top_bar--containerHover--25ezD top_bar--containerDesktop--3onDu top_bar--container--1xQEs",containerEnabled:"top_bar--containerEnabled--2SgXn top_bar--containerDesktop--3onDu top_bar--container--1xQEs",nameContainer:"top_bar--nameContainer--NLz64",avatar:"top_bar--avatar--1MSSY",iconContainer:"top_bar--iconContainer--1-1we",closeMobileNavContainer:"top_bar--closeMobileNavContainer--1uoQ2 top_bar--iconContainer--1-1we",icon:"top_bar--icon--1uJcz sidebar--icon--1Z2rN",closeMobileIcon:"top_bar--closeMobileIcon--1ozh8 top_bar--icon--1uJcz sidebar--icon--1Z2rN",mobileMenu:"top_bar--mobileMenu--_6emS"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(370              ),n=s(173                        ),r=s(232                        ),a=s(144                        ),p=s(349                            ),l=s(1051             ),h=s(1365                   ),c=s(1366           ),d=s(385                                        ),m=s(203                                   ),w=s(1007                                                 ),u=s(475                                                     ),v=s(683                          );class N extends o.Component{render(){return o.createElement("div",{className:c.cancel,onClick:this.props.onClick},this.props.children)}}t.CancelButton=N,t.CancelButtonTracked=m.asTrackedClickable(N);class g extends o.Component{constructor(){super(...arguments),this.onWindowSize=(()=>{const e=i.pxToInt(d.fileBrowserMobileWidth);this.props.mobileNavShown&&window.innerWidth>e&&this.props.dispatch(r.fileBrowser.hideMobileNav())})}componentDidMount(){window.addEventListener("resize",this.onWindowSize)}componentWillUnmount(){window.removeEventListener("resize",this.onWindowSize)}render(){let e=this.props.title,t=this.props.mobileNavShown?c.title:c.titleDesktop;return t=this.props.centerTitle?`${t} ${c.titleCenter}`:t,"string"==typeof e?e=o.createElement("div",{className:t},o.createElement("div",{className:c.titleText},e)):e&&(e=o.createElement("div",{className:t},e)),o.createElement("div",{className:c.header},!this.props.showingFileBrowserLoader&&e,this.props.menu,!this.props.menu&&o.createElement(f,Object.assign({},this.props)),!this.props.menu&&o.createElement(E,Object.assign({},this.props)),!this.props.showingFileBrowserLoader&&o.createElement("div",{className:c.headerChildren,style:{justifyContent:this.props.justifyChildren}},this.props.children))}}g.displayName="TopBar",g.MAIN_MENU_DROPDOWN="header-main-menu-dropdown",t.TopBar=g,g.defaultProps={justifyChildren:"center"};class E extends o.Component{constructor(){super(...arguments),this.chevronRef=(e=>{this.chevronEl=e}),this.nameRef=(e=>{this.nameEl=e}),this.isDropdownShown=(()=>!this.props.showingFileBrowserLoader&&(this.props.dropdownShown&&this.props.dropdownShown.type===g.MAIN_MENU_DROPDOWN)),this.toggleMenu=(()=>{this.props.showingFileBrowserLoader||(this.isDropdownShown()?this.isDropdownShown()&&this.props.dispatch(r.fileBrowser.hideDropdown()):this.props.dispatch(r.fileBrowser.showDropdown({type:g.MAIN_MENU_DROPDOWN,data:{targetRect:this.chevronEl.getBoundingClientRect()}})))}),this.closeMobileMenuClick=(e=>{e.stopPropagation(),this.props.dispatch(r.fileBrowser.hideMobileNav()),this.isDropdownShown()&&this.props.dispatch(r.fileBrowser.hideDropdown())}),this.cssToMakeNameFit=(()=>{if(!this.nameEl||0===this.nameEl.scrollWidth)return null;let e=this.props.mobileNavShown?i.pxToInt(d.orgSwitcherNameMobileWidth):i.pxToInt(d.orgSwitcherNameWidth);e-=1;let t=null;return[14,12,10,8].forEach(s=>{if(t)return;let o=this.nameEl.cloneNode(!0);this.nameEl.parentElement.appendChild(o),o.setAttribute("style",`font-size: ${s}px; white-space: nowrap; width: auto`),o.scrollWidth<=e&&(t=s,this.props.mobileNavShown&&(e=o.scrollWidth)),o.remove()}),t?`font-size: ${t}px; white-space: nowrap; max-width: ${e}px`:`overflow: hidden; text-overflow: ellipsis; white-space: nowrap; max-width: ${e}px`}),this.updateNameWidth=(()=>{const e=this.cssToMakeNameFit();this.nameEl&&e&&this.nameEl.setAttribute("style",e)}),this.getEntityFromProps=(e=>{let t=e.user;const s=e.currentOrgId;return s&&e.orgById[s]&&(t=e.orgById[s]),t})}componentDidMount(){this.updateNameWidth()}componentDidUpdate(e){const t=this.getEntityFromProps(this.props),s=this.getEntityFromProps(e);(t.name!==s.name||!e.mobileNavShown&&this.props.mobileNavShown||e.mobileNavShown&&!this.props.mobileNavShown)&&this.updateNameWidth()}render(){let e=this.props.mobileNavShown?c.containerMobile:this.isDropdownShown()?c.containerEnabled:c.containerHover;const t=this.getEntityFromProps(this.props);return o.createElement("div",{className:e,onClick:this.toggleMenu,id:"top-bar-org-switcher"},o.createElement("div",{className:c.icon},o.createElement(p.Avatar,{entity:t,size:24})),o.createElement("div",{className:c.nameContainer},o.createElement("div",{ref:this.nameRef},t.name),o.createElement("div",{ref:this.chevronRef,className:c.chevronContainer},o.createElement(a.Svg,{className:c.chevronIcon,svg:u}))),this.props.mobileNavShown&&o.createElement("div",{className:c.closeMobileNavContainer,onClick:this.closeMobileMenuClick},o.createElement(a.Svg,{className:c.closeMobileIcon,svg:v})),this.isDropdownShown()&&o.createElement(h.MainMenu,{currentOrgId:this.props.currentOrgId,hasPersonalSpace:this.props.hasPersonalSpace,dropdownShown:this.props.dropdownShown,permissionsState:n.getPermissionsState(this.props),dispatch:this.props.dispatch,bellStates:this.props.userNotifications.bellStates}))}}E.displayName="DefaultMenu",t.DefaultMenu=E;class f extends o.Component{constructor(){super(...arguments),this.showNav=(()=>{this.props.dispatch(r.fileBrowser.showMobileNav())})}render(){return this.props.mobileNavShown?null:o.createElement("div",{className:c.mobileMenu},o.createElement(l.TopBarAction,{selected:this.props.mobileNavShown,svg:w,onClick:this.showNav}))}}f.displayName="MobileMenu",t.MobileMenu=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(34,1   ),r=t(147                );n.WithLoading=class extends s.Component{render(){return this.props.isLoading?s.createElement("div",{className:this.props.className},s.createElement(r.LoadingSpinner,null)):this.props.children()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,e){o.exports={page:"configure_sso--page--3Ubsw",section:"configure_sso--section--3-UTi",back:"configure_sso--back--1ptxI",header:"configure_sso--header--3hpBx",sectionHeader:"configure_sso--sectionHeader--1dZK0",sectionInstruction:"configure_sso--sectionInstruction--37SqD",sectionInstructionMarginTop:"configure_sso--sectionInstructionMarginTop--1hjwd configure_sso--sectionInstruction--37SqD",important:"configure_sso--important--3YppM modal--important--1ZRxD",blueLink:"configure_sso--blueLink--nMSfW blue_link--blueLink--22X56",copyTenantId:"configure_sso--copyTenantId--2soOz configure_sso--blueLink--nMSfW blue_link--blueLink--22X56",configureButton:"configure_sso--configureButton--3RDAb",token:"configure_sso--token--uG4WN",table:"configure_sso--table--3dh78"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),i=n(232                        ),a=n(1346                       ),s=n(204                                            ),r=n(1359                                      ),l=n(1242                                             ),c=n(1417                       ),p=n(1361                                                          ),m=n(1367                                          ),d=n(1368                                    ),h=n(1348                                                                 ),g=n(279         ),u=n(664                                  ),S=n(178              ),f=n(1369                 );class C extends o.PureComponent{constructor(){super(...arguments),this.onClickBack=(()=>{this.props.dispatch(i.fileBrowser.selectView({recentFiles:!0})),this.props.dispatch(i.orgs.selectAdminView({view:"general"})),this.props.dispatch(i.fileBrowser.showModal({type:c.AppModal.ORG_DASHBOARD_MODAL}))})}render(){const e=o.createElement("div",{className:f.back,onClick:this.onClickBack},"Back");return o.createElement("div",null,o.createElement(m.TopBar,Object.assign({title:"Authentication and Provisioning",menu:e,centerTitle:!0},this.props)),o.createElement(p.FullWidthPageContent,null,o.createElement("div",{className:f.page},o.createElement("div",{className:f.section},o.createElement("h1",{className:f.header},"Configure Authentication, SAML SSO and SCIM Provisioning")),o.createElement(E,Object.assign({},this.props)),o.createElement(M,Object.assign({},this.props)),o.createElement(b,Object.assign({},this.props)))))}}C.displayName="ConfigureSSOPage",t.ConfigureSSOPage=C;class E extends o.PureComponent{constructor(){super(...arguments),this.confirmSignInMethod=(e=>{const t=a.getDomainsBySignInRestriction(this.props.orgDomains.domains),n=Object.keys(t)[0];e!==n&&(e===a.SignInMethod.ANY?this.changeSignInMethod(e):this.props.dispatch(i.fileBrowser.showModal({type:c.AppModal.REQUIRE_SSO_MODAL,data:{signInMethod:e,onConfirm:()=>{this.props.dispatch(i.fileBrowser.hideModal()),this.changeSignInMethod(e)},onCancel:()=>{this.props.dispatch(i.fileBrowser.hideModal())}}})))}),this.changeSignInMethod=(e=>{this.props.dispatch(i.orgDomains.putAll({params:{google_sso_only:e===a.SignInMethod.GOOGLE,saml_sso_only:e===a.SignInMethod.SAML},successMessage:"Updated Sign In Method",userInitiated:!0}))})}renderSignInMethod(){const e=a.getDomainsBySignInRestriction(this.props.orgDomains.domains);if(Object.keys(e).length<1)return o.createElement("p",null,E.NO_DOMAINS_MESSAGE);if(Object.keys(e).length>1)return o.createElement("p",null,E.COMPLEX_DOMAINS_MESSAGE);const t=Object.keys(e)[0];return o.createElement(r.RadioGroup,{value:t,onChange:this.confirmSignInMethod},o.createElement(r.RadioOption,{value:a.SignInMethod.ANY},"Members may sign in with any available method, including email and password (default)"),o.createElement(r.RadioOption,{value:a.SignInMethod.GOOGLE},"Members ",o.createElement("span",{className:f.important},"must")," sign in with a Google account"),o.createElement(r.RadioOption,{value:a.SignInMethod.SAML,disabled:!this.props.orgSamlConfig.config||!this.props.orgSamlConfig.config.id},"Members ",o.createElement("span",{className:f.important},"must")," sign in with SAML SSO (configure below)"))}render(){return o.createElement("div",{className:f.section},o.createElement("h2",{className:f.sectionHeader},"Authentication"),o.createElement(d.WithLoading,{isLoading:this.props.orgDomains.isFetching},()=>this.renderSignInMethod()))}}E.displayName="SignInMethodSection",E.NO_DOMAINS_MESSAGE="Your organization does not have any configured domains, which are required for SSO.",E.COMPLEX_DOMAINS_MESSAGE="Your organization's sign-in settings are too complex to represent here. Please contact customer support to make changes.",t.SignInMethodSection=E;class _ extends o.PureComponent{renderLogoutModal(e){return o.createElement(h.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Change Sign In",title:"Change Sign In",size:"small",checkboxText:o.createElement("div",null,"I understand that members ",o.createElement("span",{className:f.important},"must")," sign in with ",e," after confirming.")})}render(){return this.props.signInMethod===a.SignInMethod.GOOGLE?this.renderLogoutModal("Google"):this.props.signInMethod===a.SignInMethod.SAML?this.renderLogoutModal("SAML SSO"):void 0}}_.displayName="RequireSSOModal",t.RequireSSOModal=_;class M extends o.PureComponent{constructor(){super(...arguments),this.onClickConfigureSAML=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:c.AppModal.CONFIGURE_SAML_MODAL}))})}copyToClipboard(e,t){S.copyText(e).then(()=>{this.props.dispatch(i.visualBell.enqueue({type:t,message:"Copied!",timeout:5e3}))})}renderDomains(){const e=a.getDomainsBySignInRestriction(this.props.orgDomains.domains),t=[].concat.apply([],Object.keys(e).map(t=>e[t]));return o.createElement("p",{className:f.sectionInstruction},"SAML SSO users ",o.createElement("span",{className:f.important},"must")," have an email domain matching ",o.createElement(l.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:o.createElement("span",null," or ")},t.map(e=>o.createElement("span",{key:e,className:f.important},e))),". If you would like to add another domain, please ",o.createElement("a",{className:f.blueLink,href:"mailto:support@figma.com"},"contact support"),".")}renderSPSettings(){const e=document.queryCommandSupported("copy")&&this.props.orgSamlConfig.config.id&&o.createElement("a",{className:f.copyTenantId,onClick:()=>this.copyToClipboard(this.props.orgSamlConfig.config.id,"saml_tenant_id_copied_to_clipboard")},"Copy"),t=[{rowName:"Tenant ID",value:this.props.orgSamlConfig.config.id,action:e},{rowName:"SP Entity ID",value:this.props.orgSamlConfig.config.sp_entity_id},{rowName:"SP ACS URL",value:this.props.orgSamlConfig.config.sp_acs_target_url}];return o.createElement("table",{className:f.table},o.createElement("tbody",null,t.map(e=>o.createElement("tr",{key:`row-${e.rowName}`},o.createElement("th",null,e.rowName),o.createElement("td",null,e.value||"Not configured",e.action)))))}renderIdpSettings(){if(!this.props.orgSamlConfig.config||!this.props.orgSamlConfig.config.id)return o.createElement(s.ButtonPrimary,{className:f.configureButton,onClick:this.onClickConfigureSAML},"Configure SAML");const e=[{rowName:"IdP",value:g.default(this.props.orgSamlConfig.config.idp_name||"")},{rowName:"IdP Entity ID",value:this.props.orgSamlConfig.config.idp_entity_id},{rowName:"IdP SSO URL",value:this.props.orgSamlConfig.config.idp_sso_target_url}];return o.createElement("div",null,o.createElement("p",{className:f.sectionInstructionMarginTop},"Your configuration details are:"),o.createElement("table",{className:f.table},o.createElement("tbody",null,e.map(e=>o.createElement("tr",{key:`row-${e.rowName}`},o.createElement("th",null,e.rowName),o.createElement("td",null,e.value||"Not configured",e.action))))))}render(){return o.createElement("div",{className:f.section},o.createElement("h2",{className:f.sectionHeader},"SAML SSO"),o.createElement("p",{className:f.sectionInstruction}," SAML Single Sign-On allows you to manage your users with a third-party identity provider (IdP). For more information, view ",o.createElement("a",{className:f.blueLink,href:"https://help.figma.com/article/getting-started-with-saml-sso",target:"_blank"},"this help article"),". "),o.createElement(d.WithLoading,{isLoading:this.props.orgSamlConfig.isFetching||this.props.orgDomains.isFetching},()=>o.createElement("div",null,this.renderDomains(),this.renderSPSettings(),this.renderIdpSettings())))}}M.displayName="SamlConfigSection",t.SamlConfigSection=M;class k extends o.PureComponent{copyTokenToClipboard(e){S.copyText(e).then(()=>{this.props.dispatch(i.visualBell.enqueue({type:"scim_api_token_copied_to_clipboard",message:"Copied!",timeout:5e3}))})}render(){const e=o.createElement(h.CheckboxConfirmModal,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Close",title:"Your provisioning API Token",hideCancelButton:!0,checkboxText:o.createElement("div",null,"I understand that this is the ",o.createElement("span",{className:f.important},"only time I will see")," this token, and I have copied it to a safe place. ")},o.createElement("div",{className:f.token},o.createElement("span",null,this.props.provisioningApiToken),(e=>document.queryCommandSupported("copy")&&o.createElement(s.Link,{className:f.blueLink,onClick:this.copyTokenToClipboard.bind(this,e)},"Copy"))(this.props.provisioningApiToken))),t=o.createElement(h.CheckboxConfirmModal,{dispatch:this.props.dispatch,onConfirm:this.props.onConfirm,onHide:this.props.onCancel,buttonText:"Revoke Access",title:"Revoke Token Access",size:"small",checkboxText:o.createElement("div",null,"I understand that any API requests made using the API token ",o.createElement("span",{className:f.important},"will be denied"),". ")});return this.props.provisioningApiToken?e:t}}k.displayName="ProvisioningApiTokenModal",t.ProvisioningApiTokenModal=k;class b extends o.PureComponent{constructor(){super(...arguments),this.generateTokenMethod=(()=>{this.props.dispatch(i.orgSamlConfig.generateToken({orgSamlConfigId:this.props.orgSamlConfig.config.id}))}),this.revokeTokenMethod=(()=>{this.props.dispatch(i.orgSamlConfig.revokeToken({orgSamlConfigId:this.props.orgSamlConfig.config.id}))}),this.confirmRevokeTokenMethod=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:c.AppModal.PROVISIONING_API_TOKEN_MODAL,data:{onConfirm:()=>{this.props.dispatch(i.fileBrowser.hideModal()),this.revokeTokenMethod()},onCancel:()=>{this.props.dispatch(i.fileBrowser.hideModal())}}}))})}renderTable(){const e=o.createElement(s.Link,{onClick:this.generateTokenMethod,className:f.blueLink},"Generate API Token"),t=o.createElement(s.Link,{onClick:this.confirmRevokeTokenMethod,className:f.blueLink},"Revoke Token Access...");return o.createElement("table",{className:f.table},o.createElement("tbody",null,o.createElement("tr",null,o.createElement("th",null,"API Token"),this.props.orgSamlConfig.config.sp_scim_bearer_token_at?o.createElement("td",null,"Generated ",o.createElement(u.FromNow,{date:this.props.orgSamlConfig.config.sp_scim_bearer_token_at})):null,o.createElement("td",null,this.props.orgSamlConfig.config&&this.props.orgSamlConfig.config.id?this.props.orgSamlConfig.config.sp_scim_bearer_token_at?t:e:"SAML SSO must be configured"))))}render(){return o.createElement("div",{className:f.section},o.createElement("h2",{className:f.sectionHeader},"SCIM Provisioning"),o.createElement("p",{className:f.sectionInstruction}," SCIM allows you to automatically update, provision, and deprovision users. For more information, view ",o.createElement("a",{className:f.blueLink,href:"https://help.figma.com/article/provision-okta-saml-sso",target:"_blank"},"this help article"),". "),o.createElement(d.WithLoading,{isLoading:this.props.orgSamlConfig.isFetching},()=>this.renderTable()))}}b.displayName="ScimProvisioningSection",t.ScimProvisioningSection=b,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,a,r){o.exports={container:"org_dashboard_modal--container--2f1Tr",tabs:"org_dashboard_modal--tabs--2nR0N",generalContainer:"org_dashboard_modal--generalContainer--2O1rq",rightColumn:"org_dashboard_modal--rightColumn--2vdiW",rightColumnContent:"org_dashboard_modal--rightColumnContent--1uQkA",leftColumn:"org_dashboard_modal--leftColumn--3WSvR",header:"org_dashboard_modal--header--D40Y8",avatarContainer:"org_dashboard_modal--avatarContainer--3TGZD",membershipContainer:"org_dashboard_modal--membershipContainer--1i6W9",logsContainer:"org_dashboard_modal--logsContainer--1wkG2",configureSSOContainer:"org_dashboard_modal--configureSSOContainer--1pGbX",logsButton:"org_dashboard_modal--logsButton--1ekas",configureSSOButton:"org_dashboard_modal--configureSSOButton--Bpv75",description:"org_dashboard_modal--description--uNVwG",info:"org_dashboard_modal--info--1zkuW",bold:"org_dashboard_modal--bold--1wR8I",normal:"org_dashboard_modal--normal--1Ods9",spinner:"org_dashboard_modal--spinner--1-rfn",forumLink:"org_dashboard_modal--forumLink--1smf6",centered:"org_dashboard_modal--centered--1rkDQ",link:"org_dashboard_modal--link--hKXE9"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(1343                                                      ),r=t(615        ),a=t(34,1   ),o=t(232                        ),n=t(1345                                 ),p=t(370              ),l=t(1346                       ),c=t(693                            ),m=t(126                     ),h=t(1352                                                      ),d=t(1354                                                  ),g=t(147                                        ),u=t(211                                              ),b=t(385                                        ),S=t(349                            ),w=t(173                        ),v=t(1417                       ),E=t(713                                                                             ),y=t(562                                                                ),_=t(239                             ),f=t(1357                                    ),C=t(1370                                        ),T=t(204                                            ),O=t(1242                                             ),N=t(1371                       ),I=p.pxToInt(b.orgModal);class M extends c.Tab{}class k extends a.PureComponent{constructor(){super(...arguments),this.onClose=(()=>{this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.orgs.resetDashboard())}),this.onGeneralClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"general"}))}),this.onTeamsClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"teams"}))}),this.onMembersClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"members"}))}),this.onLibraryClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"library"}))}),this.onFontsClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"fonts"}))}),this.onBillingClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"billing"}))}),this.renderTabs=(()=>{const e=this.props.orgDashboard.selectedAdminView,s=[{text:"General",onClick:this.onGeneralClick,view:"general"},{text:"Teams",onClick:this.onTeamsClick,view:"teams"},{text:"Members",onClick:this.onMembersClick,view:"members"},{text:"Libraries",onClick:this.onLibraryClick,view:"library"}];return s.push({text:"Shared Fonts",onClick:this.onFontsClick,view:"fonts"}),w.canAdminOrg(this.props.currentOrgId,w.getPermissionsState(this.props))&&this.props.orgBillingHistory&&this.props.orgBillingHistory.length>0&&s.push({text:"Billing",onClick:this.onBillingClick,view:"billing"}),a.createElement("div",{className:N.tabs},s.map(s=>a.createElement(M,{key:s.view,onClick:s.onClick,tab:s.view,selectedTab:e},s.text)))}),this.renderView=(()=>{const e=w.getPermissionsState(this.props),s=this.props.orgById[this.props.currentOrgId];switch(this.props.orgDashboard.selectedAdminView){case"general":return a.createElement(R,{orgDomains:this.props.orgDomains,org:s,orgRoster:this.props.orgRoster,orgTeams:this.props.orgTeams,idpUserById:this.props.idpUserById,orgUsersByOrgId:this.props.orgUsersByOrgId,permissionsState:e,dispatch:this.props.dispatch,avatarEditorState:this.props.avatarEditorState});case"members":return a.createElement(B,{dispatch:this.props.dispatch,orgRoster:this.props.orgRoster,permissionsState:e,org:s,idpUserById:this.props.idpUserById,dropdownShown:this.props.dropdownShown});case"teams":return a.createElement(D,{org:s,teamRoleRequests:this.props.teamRoleRequests,joiningTeamIds:this.props.orgDashboard.joiningTeamIds,orgTeams:this.props.orgTeams,onClose:this.onClose,teamSortConfig:this.props.orgDashboard.teamSortConfig,permissionsState:e,dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch});case"library":return a.createElement(E.LibrarySubscriptions,Object.assign({showingDefaultSubscriptionsForUser:!1,showingDefaultSubscriptionsForTeamId:null,showingDefaultSubscriptionsForOrg:s,width:I,inOrgDashboardModal:!0},this.props));case"fonts":return a.createElement(y.SharedFonts,Object.assign({},this.props,{orgId:this.props.currentOrgId,width:I,resourceType:"org"}));case"billing":return a.createElement(i.BillingTable,Object.assign({},this.props));default:r.assertNever(this.props.orgDashboard.selectedAdminView)}})}render(){return a.createElement(u.HeaderModal,{headerSize:"large",disableClickOutsideToHide:!0,title:this.renderTabs(),onClose:this.onClose,maxWidth:I},a.createElement("div",{className:N.container},this.renderView()))}}k.displayName="OrgDashboardModal",s.OrgDashboardModal=k;class R extends a.PureComponent{constructor(){super(...arguments),this.onActivityLogClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.fileBrowser.selectView({activityLogs:!0}))}),this.onConfigureSSOClick=(()=>{this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.fileBrowser.selectView({configureSSO:!0}))})}renderMembershipSettings(){const e=l.getDomainsBySignInRestriction(this.props.orgDomains.domains),s=[].concat.apply([],Object.keys(e).map(s=>e[s]));return a.createElement("div",null,this.props.org.domain_capture&&s&&a.createElement("p",null,"Anyone with a verified ",a.createElement(O.JoinNaturally,{includeOxfordDelimiter:!0,finalDelimiter:a.createElement("span",null," or ")},s.map(e=>a.createElement("span",{key:e,className:N.bold},e)))," email is a Member. Everyone else is a Guest, and must be invited."))}renderSSOSettings(){const e=l.getDomainsBySignInRestriction(this.props.orgDomains.domains);if(Object.keys(e).length<1)return a.createElement("div",{className:N.description},C.SignInMethodSection.NO_DOMAINS_MESSAGE);if(Object.keys(e).length>1)return a.createElement("div",{className:N.description},C.SignInMethodSection.COMPLEX_DOMAINS_MESSAGE);const s=Object.keys(e)[0];return a.createElement("div",null,a.createElement("div",{className:N.description},"Members ",s===l.SignInMethod.ANY?"may":""," sign in with ",R.SIGN_IN_METHOD_DESCRIPTIONS[s],"."),w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&a.createElement(T.Link,{className:N.configureSSOButton,onClick:this.onConfigureSSOClick},"Update Sign in Settings"))}render(){const e=this.props.org,s=w.canAdminOrg(this.props.org.id,this.props.permissionsState);return a.createElement("div",{className:N.generalContainer},a.createElement("div",{className:N.leftColumn},a.createElement("div",{className:N.avatarContainer},s&&a.createElement(f.EditableAvatar,{entity:e,entityType:_.EntityType.ORG,avatarEditorState:this.props.avatarEditorState,dispatch:this.props.dispatch,size:120}),!s&&a.createElement(S.Avatar,{entity:e,size:120})),a.createElement("div",{className:N.info},a.createElement("h1",null,"Organization name"),a.createElement("p",{className:N.header},e.name)),a.createElement("div",{className:N.info},a.createElement("h1",null,"Total members"),this.props.orgUsersByOrgId.isFetching||this.props.idpUserById.isFetching?a.createElement(g.LoadingSpinner,{className:N.spinner}):a.createElement("p",{className:N.header},Object.keys(this.props.orgUsersByOrgId.orgUsers[e.id]).length)),a.createElement("div",{className:N.info},a.createElement("h1",null,"Total teams"),this.props.orgTeams.isFetching?a.createElement(g.LoadingSpinner,{className:N.spinner}):a.createElement("p",{className:N.header},this.props.orgTeams.teams.length))),a.createElement("div",{className:N.rightColumn},a.createElement("div",{className:N.rightColumnContent},a.createElement("div",{className:N.membershipContainer},a.createElement("h1",{className:N.header},"Membership"),this.props.orgDomains.isFetching?a.createElement(g.LoadingSpinner,{className:N.spinner}):this.renderMembershipSettings()),w.canAdminOrg(this.props.org.id,this.props.permissionsState)&&a.createElement("div",{className:N.logsContainer},a.createElement("h1",{className:N.header},"Activity Logs"),a.createElement("div",{className:N.description},"View a list of events related to the organization."),a.createElement(T.Link,{className:N.logsButton,onClick:this.onActivityLogClick},"View Activity Logs")),a.createElement("div",{className:N.configureSSOContainer},a.createElement("h1",{className:N.header},"Sign in and Provisioning"),this.props.orgDomains.isFetching?a.createElement(g.LoadingSpinner,{className:N.spinner}):this.renderSSOSettings()))))}}R.displayName="GeneralSection",R.SIGN_IN_METHOD_DESCRIPTIONS={google:"Google",saml:"SAML SSO",any:"any available method, including email and password"},s.GeneralSection=R;class D extends a.PureComponent{constructor(){super(...arguments),this.onSort=(e=>{const s=!1===this.props.teamSortConfig.isDescending;this.props.dispatch(o.orgs.sortTeamsBy({property:e,isDescending:s}))}),this.onCreateTeam=(()=>{this.props.onClose(),this.props.dispatch(o.fileBrowser.selectView({teamCreation:!0}))}),this.onJoin=(e=>{this.props.dispatch(o.orgTeam.join({teamId:e}))}),this.onLeave=(e=>{this.props.dispatch(o.fileBrowser.showModal({type:v.AppModal.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:e.id,hasTeamMembers:e.member_count>1,popStack:!0}}))}),this.onJoinRequest=(e=>{this.props.dispatch(o.fileBrowser.showModal({type:v.AppModal.REQUEST_ACCESS_MODAL,data:{team:e}}))}),this.onBypassRequest=(e=>{this.props.dispatch(n.requestToJoinTeam({teamId:e.id,level:m.PermissionLevel.EDITOR,message:""}))}),this.onWithdrawRequestForTeam=(e=>{const s=this.props.teamRoleRequests[e.id].id;this.props.dispatch(n.withdrawTeamRoleRequest({requestId:s}))})}render(){return this.props.orgTeams.isFetching||0!==this.props.orgTeams.teams.length?a.createElement(d.DiscoverableTeamsTable,{currentOrgId:this.props.org.id,joiningTeamIds:this.props.joiningTeamIds,teamRoleRequests:this.props.teamRoleRequests,orgTeams:this.props.orgTeams,onJoin:this.onJoin,onJoinRequest:this.onJoinRequest,onWithdrawRequestForTeam:this.onWithdrawRequestForTeam,onLeave:this.onLeave,onCreateTeam:this.onCreateTeam,teamSortConfig:this.props.teamSortConfig,onSort:this.onSort,onBypassRequest:this.onBypassRequest,permissionsState:this.props.permissionsState}):a.createElement("div",{className:N.centered},a.createElement("div",null,"This organization doesn't have any discoverable teams. ",a.createElement("br",null),a.createElement("a",{className:N.link,onClick:this.onCreateTeam},"Create New Team")))}}D.displayName="TeamsSection";class B extends a.PureComponent{constructor(){super(...arguments),this.onSort=(e=>{let{isDescending:s,type:t}=this.props.orgRoster.sort;t===e&&(s=!s),this.props.dispatch(o.orgRoster.setSortConfig({type:e,isDescending:s}))}),this.onFilter=(e=>{this.props.dispatch(o.orgRoster.setFilters(e))}),this.onSearch=(e=>{this.props.dispatch(o.orgRoster.setQuery({query:e}))}),this.onChangeMemberPermission=(e=>{this.props.dispatch(o.orgUser.put({orgUser:e,userInitiated:!0}))}),this.onbatchPutOrgUsers=((e,s,t)=>{this.props.dispatch(o.orgUser.batchPut({orgId:this.props.org.id,params:{org_user_ids:e,account_type:s,permission:t}}))})}render(){return a.createElement(h.MembersTable,{idpUserById:this.props.idpUserById,orgRoster:this.props.orgRoster,onSort:this.onSort,onFilter:this.onFilter,org:this.props.org,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,onChangeMemberPermission:this.onChangeMemberPermission,onbatchOrgUserPut:this.onbatchPutOrgUsers,onSearch:this.onSearch,permissionsState:this.props.permissionsState})}}B.displayName="MembersSection",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){e.exports={modal:"request_access_modal--modal--3k2Sj",title:"request_access_modal--title--32am0",inputRequestMessage:"request_access_modal--inputRequestMessage--2AVJQ",buttonRow:"request_access_modal--buttonRow--3_dBs",confirmButton:"request_access_modal--confirmButton--1_7Ov",cancelButton:"request_access_modal--cancelButton--OATKK",userName:"request_access_modal--userName--N8g6d",userRow:"request_access_modal--userRow--9TuXt",select:"request_access_modal--select--3W8_z"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),n=t(232                        ),o=t(1345                                 ),c=t(349                            ),i=t(317                                                ),r=t(212                                  ),l=t(204                                            ),m=t(346                                 ),p=t(126                     ),u=t(199      ),h=t(1373                        );class d extends a.PureComponent{constructor(e){super(e),this.close=(()=>{this.props.dispatch(n.fileBrowser.popModalStack())}),this.onKeyDown=(e=>{e.keyCode===u.Key.ENTER&&u.isExactModifierPressed(e,u.ModifierKey.SHIFT)&&(e.preventDefault(),e.stopPropagation(),this.submit())}),this.onSubmit=(e=>{e.preventDefault(),this.submit()}),this.submit=(()=>{this.props.dispatch(o.requestToJoinTeam({teamId:this.props.team.id,level:this.state.accessLevel,message:this.state.requestMessage})),this.close()}),this.onChangeAccessLevel=(e=>{this.setState({accessLevel:e})}),this.onChangeRequestMessage=(e=>{const s=e.currentTarget.value;this.setState({requestMessage:s})}),this.state={requestMessage:"",accessLevel:p.PermissionLevel.VIEWER}}render(){const e=this.state.accessLevel===p.PermissionLevel.EDITOR?"Request Edit Access":"Request View Access";return a.createElement(m.Modal,{size:"small",className:h.modal,dispatch:this.props.dispatch,popStack:!0,onKeyDown:this.onKeyDown},a.createElement("div",{className:h.title},"Request to join team: ",this.props.team.name),a.createElement(v,{user:this.props.user,accessLevel:this.state.accessLevel,onChangeAccessLevel:this.onChangeAccessLevel}),a.createElement(r.TabLoop,{startTabIndex:1,endTabIndex:3},a.createElement("form",{onSubmit:this.onSubmit},a.createElement(i.TextInput,{className:h.inputRequestMessage,type:"textarea",maxLength:500,name:"message",value:this.state.requestMessage,placeholder:"Optional: Describe why you'd like access.",onChange:this.onChangeRequestMessage,tabIndex:1}),a.createElement("div",{className:h.buttonRow},a.createElement(l.ButtonSecondary,{type:"button",className:h.cancelButton,onClick:this.close,tabIndex:3},"Cancel"),a.createElement(l.ButtonPrimary,{type:"submit",className:h.confirmButton,tabIndex:2},e)))))}}d.displayName="RequestAccessModal",s.RequestAccessModal=d;class v extends a.PureComponent{constructor(){super(...arguments),this.onChange=(e=>{const s=parseInt(e.currentTarget.value);this.props.onChangeAccessLevel(s)})}render(){const e=this.props.user;return a.createElement("div",{className:h.userRow},a.createElement(c.Avatar,{entity:e,size:24}),a.createElement("div",{className:h.userName},e.name," (You)"),a.createElement("select",{onChange:this.onChange,value:this.props.accessLevel,className:h.select},a.createElement("option",{value:`${p.PermissionLevel.VIEWER}`},"can view"),a.createElement("option",{value:`${p.PermissionLevel.EDITOR}`},"can edit")))}}v.displayName="RequestAccessPermissionRow",s.RequestAccessPermissionRow=v,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),i=s(232                        ),o=s(169                     ),r=s(173                        ),n=s(1417                       ),l=s(346                                 ),m=s(204                                            ),p=s(350          );class c extends a.PureComponent{constructor(){super(...arguments),this.leaveTeam=(()=>{this.props.dispatch(i.team.del({team:this.team(),userInitiated:!0}))}),this.promptForSurvey=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:n.AppModal.LEAVE_TEAM_DOWNGRADE_SURVEY,data:{teamId:this.team().id}}))}),this.hide=(()=>{this.props.dispatch(i.fileBrowser.popModalStack())}),this.isTeamEmpty=(()=>{for(let e in this.props.permissionsState.folders){const t=this.props.permissionsState.folders[e];if(t.team_id===this.team().id&&t.path)return!1}return!0})}team(){return this.props.permissionsState.teams[this.props.teamId]}render(){const e=this.team(),t=this.props.permissionsState.roles.byTeamId[e.id],s=Object.keys(t).map(e=>t[e]).filter(e=>!e.pending),i=s.length>1||this.props.hasTeamMembers;if(r.canOwnTeam(e.id,this.props.permissionsState)&&i)return a.createElement(l.Modal,{size:"small",title:"Hold up...",dispatch:this.props.dispatch,popStack:!0},"You are currently the owner of ",e.name,". Please assign a new owner from the members list before leaving this team.",a.createElement("div",{className:p.buttonRow},a.createElement(m.ButtonPrimary,{onClick:this.hide},"Ok")));if(e.org_id&&e.org_access===o.OrgAccess.SECRET&&!this.isTeamEmpty()&&!i)return a.createElement(l.Modal,{size:"small",dispatch:this.props.dispatch,popStack:!0},"To prevent data becoming inaccessible, you can't leave a secret team when you are the last member and there are enclosed projects.",a.createElement("br",null),a.createElement("br",null),"Please change the access level, or move or delete all projects and files if you wish to leave this team.",a.createElement("div",{className:p.buttonRow},a.createElement(m.ButtonPrimary,{onClick:this.hide},"Ok")));{const t=null==e.org_id&&1===s.length&&(null!=e.subscription||null!=e.student_team_at)?this.promptForSurvey:this.leaveTeam;return a.createElement(l.ConfirmationModal,Object.assign({confirmationTitle:"Leave team",destructive:!0,onConfirm:t,confirmText:"Leave team",tintedModalBackground:!0,popStack:!0},this.props),a.createElement("span",{className:p.important},'Are you sure you want to leave "',this.team().name,'"? '),"You will permanently lose all access to the projects and files in this team, and you cannot undo this action.")}}}c.displayName="TeamLeaveModal",t.TeamLeaveModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),n=a(232                        ),o=a(346                                 ),i=a(204                                            ),l=a(199      ),r=a(201                                      ),m=a(350          );class c extends s.PureComponent{constructor(e){super(e),this.deleteTeam=(e=>{e.preventDefault(),this.props.dispatch(n.team.del({team:this.props.team,userInitiated:!0,hardOrgTeamDelete:!0})),this.props.dispatch(n.fileBrowser.hideModal())}),this.cancel=(e=>{e.preventDefault(),this.props.dispatch(n.fileBrowser.hideModal())}),this.onChangeTeamName=(e=>{this.setState({confirmTeamNameInput:e.currentTarget.value})}),this.onKeyDown=(e=>{e.keyCode===l.Key.ENTER&&e.preventDefault()}),this.state={confirmTeamNameInput:""}}render(){return s.createElement(o.Modal,{size:"small",dispatch:this.props.dispatch,title:"Delete Team"},s.createElement("div",null,"This will permanently delete the team ",s.createElement("span",{className:m.important},this.props.team.name),". Deleting this team will delete all associated data such as projects, files, prototypes and shared components for everyone. ",s.createElement("span",{className:m.important},"You cannot undo this operation"),".",s.createElement("div",null,""),"To confirm, please enter the name of the team.",s.createElement("form",{onSubmit:this.deleteTeam},s.createElement("div",null,s.createElement(r.LazyInput,{className:m.textInput,type:"text",value:this.state.confirmTeamNameInput,onKeyDown:this.onKeyDown,onChange:this.onChangeTeamName,autoComplete:"off",autoCorrect:"off",autoCapitalize:"off",spellCheck:!1})),s.createElement("div",{className:m.buttonRow},s.createElement(i.ButtonSecondary,{onClick:this.cancel},"Cancel"),s.createElement(i.ButtonNegative,{type:"submit",className:m.confirmButton,disabled:this.props.team.name!==this.state.confirmTeamNameInput},"Delete team")))))}}c.displayName="TeamDeleteModal",t.TeamDeleteModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=t(34,1   ),o=t(232                        ),n=t(346                                 ),i=t(204                                            ),r=t(350          );class c extends a.Component{constructor(){super(...arguments),this.hideModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){const e=this.props.modalShown.data;return a.createElement(n.Modal,Object.assign({size:"small",title:"Unable to Leave Document",className:r.modal},this.props),a.createElement("div",null,e.message),a.createElement("div",{className:r.buttonRow},a.createElement(i.ButtonPrimary,{className:r.confirmButton,onClick:this.hideModal},"Ok")))}}c.displayName="LeaveUnsavedDocumentModal",s.LeaveUnsavedDocumentModal=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,s){n.exports={admin:"suspension_modal--admin--1qNJf",contactText:"suspension_modal--contactText--7PHIb",memberText:"suspension_modal--memberText--7wsOs",bold:"suspension_modal--bold--1NDf-",loadingContainer:"suspension_modal--loadingContainer--1w3Rb"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(34,1   ),a=t(171                      ),n=t(173                        ),i=t(349                            ),o=t(346                                 ),l=t(147                                        ),c=t(1378                    );class p extends r.PureComponent{constructor(){super(...arguments),this._render=(()=>{if(n.canAdminOrg(this.props.currentOrgId,this.props.permissionsState))return r.createElement("div",{className:c.contactText},r.createElement("p",null,"Please reach out to ",r.createElement("b",{className:c.bold},"invoices@figma.com")," to resolve the issue."),r.createElement("p",null,"Thank you!"));if(!n.canMemberOrg(this.props.currentOrgId,this.props.permissionsState))return r.createElement("div",{className:c.contactText},r.createElement("p",null,"Please reach out to your Organization admin(s) to resolve this billing issue."),r.createElement("p",null,"Thank you!"));const e=a.getContactableAdmins(this.props.permissionsState.orgUsersByOrgId.orgUsers[this.props.currentOrgId]);return r.createElement("div",null,r.createElement("div",{className:c.memberText},"Please reach out to your Organization admin(s) to resolve this billing issue. Thank you!"),this.props.permissionsState.orgUsersByOrgId.isFetching?r.createElement("div",{className:c.loadingContainer},r.createElement(l.LoadingSpinner,null)):r.createElement("div",{className:c.admin},e.map(e=>r.createElement(i.AvatarWithHandle,{key:e.id,size:24,entity:e.user,includeUserEmailAddress:!0}))))})}render(){return r.createElement(o.Modal,{disableClickOutsideToHide:!0,dispatch:this.props.dispatch,size:434,title:"You no longer have access to your Organization"},this._render())}}p.displayName="OrgSuspensionModal",s.OrgSuspensionModal=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,s,n){l.exports={contactAdmins:"upsell_modals--contactAdmins--2LQT1",slackUpsell:"upsell_modals--slackUpsell--b4W_k",link:"upsell_modals--link--3xbaC blue_link--blueLink--22X56"},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(232                        ),r=a(172                     ),i=a(173                        ),n=a(1417                       ),l=a(346                                 ),p=a(204                                            ),c=a(350                              ),d=a(1380                 ),m=a(722                   ),h=a(196                              ),u=a(302                      ),g=e=>{const t=e.modalShown.data;return e.teams[t.teamId]};class w extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{!this.team().subscription&&m.trackProPaywallCancelCta(this.props.tracking),this.props.dispatch(o.fileBrowser.hideModal())}),this.team=(()=>g(this.props)),this.upgrade=(()=>{m.trackProPaywallPrimaryCta("Upgrade",this.props.tracking),this.closeModal(),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.team().id,selectedView:this.props.selectedView}))}),this.updatePayment=(()=>{this.closeModal(),this.props.dispatch(o.fileBrowser.selectView({adminTeamId:this.team().id}))})}componentDidMount(){m.trackProPaywallView(this.props.tracking)}render(){const e=this.team(),t=!e.subscription,a=!t,o=i.canEditTeam(e.id,this.props),r=i.canAdminTeam(e.id,this.props),n=t?`Upgrade ${e.name}`:`Update payment for ${e.name}`;return s.createElement(l.Modal,{title:n,size:"small",dispatch:this.props.dispatch},this.props.message,t&&s.createElement("div",null,s.createElement("br",null),s.createElement("a",{className:d.link,href:"/pricing",target:"_blank",rel:"noopener",onClick:()=>m.trackProPaywallLearnMoreCta(this.props.tracking)},"Learn more about team plans"),!o&&s.createElement("div",{className:d.contactAdmins},"Contact ",e.name," to upgrade."),s.createElement("div",{className:c.buttonRow},s.createElement(p.ButtonSecondary,{onClick:this.closeModal},"Cancel"),o&&s.createElement(p.ButtonLink,{className:c.confirmButton,onClick:this.upgrade},"Upgrade"))),a&&s.createElement("div",null,!r&&s.createElement("div",{className:d.contactAdmins},"Contact an admin to update your payment source."),s.createElement("div",{className:c.buttonRow},s.createElement(p.ButtonSecondary,{onClick:this.closeModal},"Cancel"),r&&s.createElement(p.ButtonLink,{className:c.confirmButton,onClick:this.updatePayment},"Update payment"))))}}w.displayName="TeamUpsellModal";const y={MOVE_FILE:"Move File",PROJECT_LIMIT:"Project Limit",EDITOR_LIMIT:"Editor Limit",VIEW_ONLY_PROJECT:"View-Only Project",INVITE_ONLY_PROJECT:"Invite-Only Project",SLACK:"Slack"};class f extends s.Component{constructor(){super(...arguments),this.closeModal=(()=>{this.props.popToClose?this.props.dispatch(o.fileBrowser.popModalStack()):this.props.dispatch(o.fileBrowser.hideModal())}),this.team=(()=>g(this.props)),this.upgrade=(()=>{this.closeModal(),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.team().id,selectedView:this.props.selectedView}))}),this.updatePayment=(()=>{this.closeModal(),this.props.dispatch(o.fileBrowser.selectView({adminTeamId:this.team().id}))}),this.learnMore=(()=>{window.innerWidth<1e3?u.redirect("/pricing","_blank"):(this.closeModal(),this.props.dispatch(o.fileBrowser.showModal({type:n.AppModal.PRO_PITCH_MODAL,data:{teamId:this.team().id}})))})}render(){const e=this.team(),t=!e.subscription,a=!t,o=i.canEditTeam(e.id,this.props),r=i.canAdminTeam(e.id,this.props),n=t?`Upgrade ${e.name}`:`Update payment for ${e.name}`,{text:l,action:p}=(()=>t&&o?{text:"Upgrade",action:this.upgrade}:a&&r?{text:"Update Payment",action:this.updatePayment}:{})();return s.createElement(m.ProPaywallModal,{title:this.props.title||n,imgSrc:this.props.imgSrc,content:this.props.content,warningMessage:(()=>t&&!o?`Contact an admin of ${e.name} to upgrade.`:a&&!r?`Contact an admin of ${e.name} to update your payment source.`:void 0)(),primaryCtaAction:p,primaryCtaText:l,cancelCtaAction:this.closeModal,learnMoreCtaAction:this.learnMore,tracking:this.props.tracking})}}function M(e){return class extends s.Component{render(){return s.createElement(f,Object.assign({},this.props,e(this.props)))}}}class P extends s.PureComponent{render(){const e=g(this.props);let t;return t=e.subscription?`${e.name} is currently locked. Please update your payment source to unlock ${e.name} and move files into this team.`:`${e.name} has exceeded the limits of a free Starter team. Please upgrade to move files into this team.`,s.createElement(w,Object.assign({message:t,tracking:{teamId:e.id,description:y.MOVE_FILE}},this.props))}}P.displayName="MoveFileUpsellModal",t.MoveFileUpsellModal=P;class E extends s.PureComponent{render(){const e=g(this.props);let t;return t=e.subscription?`${e.name} is currently locked. Please update your payment source to unlock ${e.name} and create more projects.`:r.isTeamAtFolderLimit(e.id,this.props)?`${e.name} already has ${r.MAX_FREE_FOLDERS} projects, which is the maximum allowed to a Starter team. Please upgrade to create more projects.`:`${e.name} has exceeded the limits of a free Starter team. Please upgrade to continue editing files and creating projects.`,s.createElement(w,Object.assign({message:t,tracking:{teamId:e.id,description:y.PROJECT_LIMIT}},this.props))}}E.displayName="NewFolderUpsellModal",t.NewFolderUpsellModal=h.experiment("exp_upgrade_experience_02").defaultComponentClass(E).treatment("variant",M(e=>{const t=g(e);let a=[`${t.name} has exceeded the limits of a free Starter team. Please upgrade to continue editing files and creating projects.`];return t.subscription?a=[`${t.name} is currently locked. Please update your payment source to unlock ${t.name} and create more projects.`]:r.isTeamAtFolderLimit(t.id,e)&&(a=[`${t.name} already has ${r.MAX_FREE_FOLDERS} projects, which is the maximum allowed to a Starter team. Please upgrade to create more projects.`]),{title:`Upgrade ${t.name}`,imgSrc:"https://static.figma.com/uploads/c6b3dd3954da2fb76d24154672ea5399931d802f",content:a,tracking:{teamId:t.id,description:y.PROJECT_LIMIT}}})).build();class k extends s.PureComponent{render(){const{teamId:e,invitesSent:t}=this.props.modalShown.data,a=this.props.teams[e],o=null==a?"your team":a.name;let i=s.createElement("div",null,"A starter team can only have ",r.MAX_FREE_EDITORS," editors. Please upgrade ",o," to add more editors.",!!t&&t>0&&s.createElement("div",null,s.createElement("br",null),"Your ",1===t?"invite was":"invites were"," still sent. However, ",1===t?"it":"they"," will only grant view access unless you upgrade your team."));return s.createElement(w,Object.assign({message:i,tracking:{teamId:e,description:y.EDITOR_LIMIT}},this.props))}}k.displayName="AddEditorUpsellModal",t.AddEditorUpsellModal=h.experiment("exp_upgrade_experience_02").defaultComponentClass(k).treatment("variant",M(e=>{const{teamId:t,invitesSent:a}=e.modalShown.data,s=e.teams[t],o=null==s?"your team":s.name,i=[`A starter team can only have ${r.MAX_FREE_EDITORS} editors. Please upgrade ${o} to add more editors.`];return a&&a>0&&i.push(`Your ${1===a?"invite was":"invites were"} still sent. However, ${1===a?"it":"they"} will only grant view access unless you upgrade your team.`),{title:`Upgrade ${s.name}`,content:i,imgSrc:"https://static.figma.com/uploads/33ff0479048d366ae87248c79258f4b342fae54f",tracking:{teamId:t,description:y.EDITOR_LIMIT}}})).build();class C extends s.PureComponent{render(){let e=s.createElement("div",{className:d.slackUpsell},"Upgrade to a Professional Team to take advantage of Slack Notification Integration. Get notifications in Slack when someone comments on a file, with channels configurable at the project level. ",s.createElement("a",{className:d.link,href:"https://help.figma.com/article/22-figma-slack",target:"_blank",rel:"noopener"},"Learn more about our Slack integration."));return s.createElement(w,Object.assign({message:e,tracking:{teamId:null,description:y.SLACK}},this.props))}}C.displayName="SlackUpsellModal",t.SlackUpsellModal=C;class _ extends s.PureComponent{constructor(){super(...arguments),this.closeModal=(()=>{this.props.dispatch(o.fileBrowser.hideModal())})}render(){return s.createElement(l.Modal,{title:"Move to a Professional Team",size:"small",dispatch:this.props.dispatch},s.createElement("div",{className:d.slackUpsell},"Slack integration is a Professional Team feature. Move this project to a Professional Team to get Slack notifications for this project."),s.createElement("div",{className:c.buttonRow},s.createElement(p.ButtonPrimary,{onClick:this.closeModal},"Ok")))}}_.displayName="SlackUpsellMoveFolderModal",t.SlackUpsellMoveFolderModal=_,t.showSlackSettingsOrUpsell=function(e,t,a){r.shouldRestrictProFeature(e)?a(e?o.fileBrowser.showModal({type:n.AppModal.UPSELL_SLACK_MODAL,data:{teamId:e.id}}):o.fileBrowser.showModal({type:n.AppModal.UPSELL_MOVE_FOLDER_SLACK_MODAL})):a(o.fileBrowser.showModal({type:n.AppModal.FOLDER_SLACK_SETTINGS_MODAL,data:{folderId:t}}))};class I extends s.PureComponent{constructor(){super(...arguments),this.getTracking=(()=>{return{teamId:this.props.teams[this.props.modalShown.data.teamId].id,description:y.INVITE_ONLY_PROJECT}}),this.closeModal=(()=>{m.trackProPaywallCancelCta(this.getTracking()),this.props.dispatch(o.fileBrowser.popModalStack())}),this.upgrade=(()=>{const e=this.props.teams[this.props.modalShown.data.teamId];this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:e.id,selectedView:this.props.selectedView})),m.trackProPaywallPrimaryCta("Upgrade",this.getTracking())})}componentDidMount(){m.trackProPaywallView(this.getTracking())}render(){const e=this.props.teams[this.props.modalShown.data.teamId],t=i.canEditTeam(e.id,this.props);return s.createElement(l.Modal,{title:"Invite Only Projects",size:"small",dispatch:this.props.dispatch,popStack:!0},"Invite only projects are a Professional Team feature."," ",t&&`Upgrade ${e.name} to create an invite only project.`,!t&&"Contact a team admin to upgrade.",s.createElement("div",{className:c.buttonRow},s.createElement(p.ButtonSecondary,{onClick:this.closeModal},"Cancel"),t&&s.createElement(p.ButtonPrimary,{className:c.confirmButton,onClick:this.upgrade},"Upgrade ",e.name)))}}I.displayName="InviteOnlyUpsellModal",t.InviteOnlyUpsellModal=h.experiment("exp_upgrade_experience_02").defaultComponentClass(I).treatment("variant",M(e=>{const t=e.teams[e.modalShown.data.teamId];return{title:"Invite Only Project",content:["Invite only projects are a Professional Team feature.",`Upgrade ${t.name} to create an invite only project.`],imgSrc:"https://static.figma.com/uploads/25faa45aee9fb26e3d462b6bef156e345a3f93eb",popToClose:!0,tracking:{teamId:t.id,description:y.INVITE_ONLY_PROJECT}}})).build();class S extends s.PureComponent{constructor(){super(...arguments),this.getTracking=(()=>{return{teamId:this.props.teams[this.props.modalShown.data.teamId].id,description:y.VIEW_ONLY_PROJECT}}),this.closeModal=(()=>{m.trackProPaywallCancelCta(this.getTracking()),this.props.dispatch(o.fileBrowser.popModalStack())}),this.upgrade=(()=>{const e=this.props.teams[this.props.modalShown.data.teamId];this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:e.id,selectedView:this.props.selectedView})),m.trackProPaywallPrimaryCta("Upgrade",this.getTracking())})}componentDidMount(){m.trackProPaywallView(this.getTracking())}render(){const e=this.props.teams[this.props.modalShown.data.teamId],t=i.canEditTeam(e.id,this.props);return s.createElement(l.Modal,{title:"View Only Projects",size:"small",dispatch:this.props.dispatch,popStack:!0},"View only projects are a Professional Team feature."," ",t&&`Upgrade ${e.name} to create a view only project.`,!t&&"Contact a team admin to upgrade.",s.createElement("div",{className:c.buttonRow},s.createElement(p.ButtonSecondary,{onClick:this.closeModal},"Cancel"),t&&s.createElement(p.ButtonPrimary,{className:c.confirmButton,onClick:this.upgrade},"Upgrade ",e.name)))}}S.displayName="ViewOnlyUpsellModal",t.ViewOnlyUpsellModal=h.experiment("exp_upgrade_experience_02").defaultComponentClass(S).treatment("variant",M(e=>{return{content:["View only projects are a Professional Team feature.","Upgrade this team to create view only projects."],popToClose:!0,title:"View Only Projects",imgSrc:"https://static.figma.com/uploads/747b9907c0d3cea73763dd530ebbf68ba7e991a9",tracking:{teamId:e.teams[e.modalShown.data.teamId].id,description:y.VIEW_ONLY_PROJECT}}})).build(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(232                        ),a=n(173                        );function r(e=null,t){if(i.team.del.matches(t))return e&&e.teamId===t.payload.team.id?{recentFiles:!0}:e;if(i.interactionTest.startTestRun.matches(t))return{fullscreen:!0,viewState:{fileKey:t.payload.fakeFileKey}};if(i.orgs.selectAdminView.matches(t))return Object.assign({},e,{viewState:Object.assign({},e.viewState,{orgDashboardTab:null})});switch(t.type){case i.fileBrowser.SELECT_VIEW:return t.payload;case i.folder.DELETE:return e&&e.folderId===t.payload.folder.id?{recentFiles:!0}:e;default:return e}}t.nodeId=function(e){if(!e.fullscreen)return null;let t=e.viewState;return t&&t.nodeId?t.nodeId:null},t.editingFileKey=function(e){if(e.fullscreen){const t=e.viewState;return t&&t.fileKey?t.fileKey:null}if(e.prototype){const t=e.viewState;return t&&t.fileKey?t.fileKey:null}return null},t.selectedViewHasMissingResources=function(e,t){return!!((e=e||{}).folderId&&!(e.folderId in t.folders)||e.teamId&&!a.canViewTeam(e.teamId,t)||e.activityLogs&&!a.canAdminOrg(t.currentOrgId,t)||e.configureSSO&&!a.canAdminOrg(t.currentOrgId,t)||e.upgradeTeamId&&!(e.upgradeTeamId in t.teams)||e.addAnnualPlanTeamId&&!(e.addAnnualPlanTeamId in t.teams)||e.adminTeamId&&!(e.adminTeamId in t.teams)||e.adminInvoicesTeamId&&!(e.adminInvoicesTeamId in t.teams)||e.fileKey&&!(e.fileKey in t.fileByKey)||e.viewState&&e.viewState.fileKey&&!(e.viewState.fileKey in t.fileByKey)||e.userId&&e.userId!=t.user.id)},t.selectedView=r,t.default=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={container:"autocomplete_input--container--3VOsw",tokenUnit:"autocomplete_input--tokenUnit--2_Bx1",tokenPadding:"autocomplete_input--tokenPadding--1odgI",input:"autocomplete_input--input--GaHQC autocomplete_input--tokenUnit--2_Bx1 autocomplete_input--tokenPadding--1odgI",noTokens:"autocomplete_input--noTokens--3OAwj autocomplete_input--input--GaHQC autocomplete_input--tokenUnit--2_Bx1 autocomplete_input--tokenPadding--1odgI",token:"autocomplete_input--token--1NuH1 autocomplete_input--tokenUnit--2_Bx1 autocomplete_input--tokenPadding--1odgI",tokenSelected:"autocomplete_input--tokenSelected--cvEz2 autocomplete_input--token--1NuH1 autocomplete_input--tokenUnit--2_Bx1 autocomplete_input--tokenPadding--1odgI",x:"autocomplete_input--x--2YOuz",tokenError:"autocomplete_input--tokenError--1PZVt autocomplete_input--token--1NuH1 autocomplete_input--tokenUnit--2_Bx1 autocomplete_input--tokenPadding--1odgI",tokenErrorSelected:"autocomplete_input--tokenErrorSelected--3Ci5G autocomplete_input--tokenSelected--cvEz2 autocomplete_input--token--1NuH1 autocomplete_input--tokenUnit--2_Bx1 autocomplete_input--tokenPadding--1odgI"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),n=o(38,1       ),p=o(232                        ),i=o(233                            ),a=o(201                                      ),c=o(144                        ),l=o(1383                      ),u=o(210                              );class r extends s.Component{constructor(){super(...arguments),this.onMouseDown=(()=>{this.props.dispatch(p.autocomplete.selectTokenAt(this.props.index))}),this.onMouseDownX=(e=>{e.stopPropagation()}),this.onClickX=(e=>{this.props.dispatch(p.autocomplete.deleteTokenAt(this.props.index)),this.props.dispatch(p.autocomplete.selectTokenAt(null)),e.stopPropagation()})}render(){let e=this.props.token.state===i.AutocompleteTokenState.ERROR,t=this.props.autocomplete.selectedTokenIndex===this.props.index;return s.createElement("div",{className:e?t?l.tokenErrorSelected:l.tokenError:t?l.tokenSelected:l.token,onMouseDown:this.onMouseDown},this.props.token.user?this.props.token.user.handle:this.props.token.email,s.createElement(c.Svg,{className:l.x,svg:u,onMouseDown:this.onMouseDownX,onClick:this.onClickX}))}}r.displayName="Token";class h extends s.PureComponent{constructor(){super(...arguments),this.onDocumentKeyDown=(e=>{let t=this.props.autocomplete;switch(e.keyCode){case 8:null!==t.selectedTokenIndex?(e.preventDefault(),this.props.dispatch(p.autocomplete.deleteTokenAt(t.selectedTokenIndex))):t.tokens.length&&this.input===document.activeElement&&0===this.input.selectionStart&&0===this.input.selectionEnd&&(e.preventDefault(),this.input.blur(),this.props.dispatch(p.autocomplete.selectPrevToken()));break;case 46:null!==t.selectedTokenIndex&&(e.preventDefault(),this.props.dispatch(p.autocomplete.deleteTokenAt(t.selectedTokenIndex)));break;case 37:(this.input!==document.activeElement||0===this.input.selectionStart&&0===this.input.selectionEnd)&&(this.input.blur(),this.props.dispatch(p.autocomplete.selectPrevToken()));break;case 39:t.tokens.length&&t.selectedTokenIndex===t.tokens.length-1&&(this.input.focus(),e.preventDefault()),this.props.dispatch(p.autocomplete.selectNextToken());break;case 40:e.preventDefault(),this.props.dispatch(p.autocomplete.selectNextSearchResult());break;case 38:e.preventDefault(),this.props.dispatch(p.autocomplete.selectPrevSearchResult())}}),this.onKeyDown=(e=>{if(13!==e.keyCode||this.props.autocomplete.inputValue)switch(e.keyCode){case 9:case 13:case 188:if(e.preventDefault(),null!==this.props.autocomplete.selectedSearchResultIndex)this.props.dispatch(p.autocomplete.submitToken(this.props.autocomplete.searchResults[this.props.autocomplete.selectedSearchResultIndex].email));else{let e=this.props.autocomplete.inputValue.trim();e&&this.props.dispatch(p.autocomplete.submitToken(e))}break;case 27:this.props.autocomplete.inputValue&&(this.props.dispatch(p.autocomplete.inputChange("")),e.stopPropagation())}else this.props.onSubmit&&(e.preventDefault(),this.props.onSubmit())}),this.onInputChange=(e=>{this.props.dispatch(p.autocomplete.inputChange(e.currentTarget.value))}),this.onInputFocus=(()=>{this.props.onFocus&&this.props.onFocus(),this.props.dispatch(p.autocomplete.selectTokenAt(null))}),this.onInputBlur=(()=>{this.props.onBlur&&this.props.onBlur()}),this.inputRef=(e=>{e&&(this.input=n.findDOMNode(e))})}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),this.input.focus()}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown)}componentDidUpdate(e){null===this.props.autocomplete.selectedTokenIndex&&this.input.focus()}render(){let e=this.props.autocomplete.tokens||[];return s.createElement("div",{className:`${l.container} ${this.props.className}`},e.map((e,t)=>s.createElement(r,Object.assign({key:`token-${t}`,index:t,token:e},this.props))),s.createElement(a.LazyInput,{ref:this.inputRef,key:`autocomplete-input-${e.length}`,className:e.length?l.input:l.noTokens,placeholder:e.length?null:"Invite someone...",value:this.props.autocomplete.inputValue,onKeyDown:this.onKeyDown,onFocus:this.onInputFocus,onBlur:this.onInputBlur,onChange:this.onInputChange}))}}h.displayName="AutocompleteInput",t.AutocompleteInput=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={contactRow:"autocomplete_results--contactRow--3TArs",avatar:"autocomplete_results--avatar--3yfsQ",name:"autocomplete_results--name--3AiV5",email:"autocomplete_results--email--1fgNK",contactRowSelected:"autocomplete_results--contactRowSelected--2ZYjZ autocomplete_results--contactRow--3TArs"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),c=s(232                        ),a=s(1385                        );class n extends o.Component{constructor(){super(...arguments),this.onMouseEnter=(()=>{this.props.dispatch(c.autocomplete.selectSearchResultAt(this.props.index))}),this.onClick=(()=>{this.props.dispatch(c.autocomplete.submitToken(this.props.contact.email))})}render(){let e=this.props.autocomplete.selectedSearchResultIndex===this.props.index;return o.createElement("div",{className:e?a.contactRowSelected:a.contactRow,onMouseEnter:this.onMouseEnter,onClick:this.onClick},o.createElement("img",{className:a.avatar,src:this.props.contact.img_url}),o.createElement("div",null,o.createElement("div",{className:a.name},this.props.contact.handle),o.createElement("div",{className:a.email},this.props.contact.email)))}}n.displayName="ContactRow";class l extends o.Component{render(){if(this.props.autocomplete.searchResults&&this.props.autocomplete.searchResults.length&&null===this.props.autocomplete.selectedTokenIndex){let e=this.props.autocomplete.searchResults;return o.createElement("div",{className:this.props.className},e.map((e,t)=>o.createElement(n,Object.assign({key:`contact-${e.id}`,index:t,contact:e},this.props))))}return o.createElement("div",null)}}l.displayName="AutocompleteResults",t.AutocompleteResults=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,r){e.exports={roleRow:"role_row--roleRow--1GwJe",nameAndSelect:"role_row--nameAndSelect--24JRo",roleRowPending:"role_row--roleRowPending--1VCnq role_row--roleRow--1GwJe",contextMenu:"role_row--contextMenu--273O6",fixedContextMenu:"role_row--fixedContextMenu--3KVsZ",select:"role_row--select--2zfjP",selectLeft:"role_row--selectLeft--1H9SR",avatar:"role_row--avatar--2qs0x",avatarEmpty:"role_row--avatarEmpty--T14gt role_row--avatar--2qs0x",avatarPending:"role_row--avatarPending--fZxwM role_row--avatar--2qs0x",name:"role_row--name--1mRsZ",namePending:"role_row--namePending--35xrC role_row--name--1mRsZ",warningIcon:"role_row--warningIcon--uWR3G",sharingDisclaimer:"role_row--sharingDisclaimer--1zeYH",folderDisclaimer:"role_row--folderDisclaimer--DHLgg role_row--sharingDisclaimer--1zeYH",grey:"role_row--grey--3dk-z",linkAccessText:"role_row--linkAccessText--2U5T9",linkAccessIcon:"role_row--linkAccessIcon--3sqyJ role_row--avatar--2qs0x",linkAccessDisabledIcon:"role_row--linkAccessDisabledIcon--3CsU8 role_row--linkAccessIcon--3sqyJ role_row--avatar--2qs0x",rowDropdown:"role_row--rowDropdown--1Pfkq",selectWithBorder:"role_row--selectWithBorder--37YHo",enableButton:"role_row--enableButton--2-99s",enableAccessLink:"role_row--enableAccessLink--A3Hkn blue_link--blueLink--22X56"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=o(34,1   ),t=o(232                        ),i=o(163                       ),p=o(173                        ),l=o(1417                       ),n=o(408                                  ),a=o(404                              ),d=o(144                        );let h=o(560                           );const c=o(1387            ),m=o(126                     );class u extends r.Component{constructor(){super(...arguments),this.LEVEL_CHANGE_DROPDOWN="level-change-dropdown",this.levelsDivRef=(e=>{e&&(this.levelsDiv=e)}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.LEVEL_CHANGE_DROPDOWN&&this.props.dropdownShown.data.roleId===this.props.role.id),this.toggleDropdown=(()=>{if(this.isDropdownShown())this.props.dispatch(t.fileBrowser.hideDropdown());else{const e=this.levelsDiv.getBoundingClientRect();this.props.dispatch(t.fileBrowser.showDropdown({type:this.LEVEL_CHANGE_DROPDOWN,data:{roleId:this.props.role.id,position:{top:e.top,bottom:"auto",left:e.left,right:"auto"}}}))}}),this.resendInvite=(()=>{this.props.dispatch(t.role.resendInvite(this.props.role))}),this.onChangeLevel=(e=>{let s=s=>{this.props.role.resource_type===m.ResourceType.FILE?this.props.dispatch(t.role.setUserFilePermission(i.roleUserId(this.props.role),this.props.role.resource_id_or_key,e)):this.props.role.resource_type===m.ResourceType.FOLDER?this.props.dispatch(t.role.setUserFolderPermission(i.roleUserId(this.props.role),this.props.role.resource_id_or_key,e,s)):this.props.role.resource_type===m.ResourceType.TEAM&&this.props.dispatch(t.role.setUserTeamPermission(i.roleUserId(this.props.role),this.props.role.resource_id_or_key,e))};if(e===m.PermissionLevel.OWNER){let e=this.props.modalShown;this.props.dispatch(t.fileBrowser.showModal({type:l.AppModal.CONFIRM_TRANSFER_OWNERSHIP_MODAL,data:{resourceType:this.props.role.resource_type,resourceName:p.getResourceName(this.props.role,this.props),newOwnerName:this.props.role.user.handle,onConfirmTransfer:o=>{s(o),e&&this.props.dispatch(t.fileBrowser.showModal(e))},onCancel:()=>{e&&this.props.dispatch(t.fileBrowser.showModal(e))}}}))}else s()})}userName(){if(this.props.role.user_id===this.props.user.id)return`${this.props.user.name} (You)`;let e=this.props.role.user,s=this.props.contacts;return e.handle||(e.email in s?s[e.email].handle:e.email)}render(){let e=p.canEditRole(this.props.role,this.props),s=p.isOwnerOfResource(this.props.user.id,this.props.role,this.props),o=p.getReadOnlyOverrideMessage(this.props.role,this.props),t=void 0;return p.isOrgUserRestricted(this.props.role.org_user)&&(this.props.role.level!==m.PermissionLevel.VIEWER||o)&&(this.props.role.org_user.user_id===this.props.user.id?(o=void 0,t=a.TooltipView.PERMISSIONS_MODAL_RESTRICTED_USER_SELF):(o=void 0,t=a.TooltipView.PERMISSIONS_MODAL_RESTRICTED_USER_OTHER)),r.createElement("div",{className:c.roleRow},(()=>{let e=this.props.role.user,s=e.img_url||e.email in this.props.contacts&&this.props.contacts[e.email].img_url;return s?r.createElement("img",{key:`avatar-${this.props.role.id}`,src:s,className:this.props.role.pending?c.avatarPending:c.avatar}):r.createElement("div",{key:`avatar-${this.props.role.id}`,className:c.avatarEmpty})})(),r.createElement("div",{className:c.nameAndSelect},r.createElement("div",{key:`name-${this.props.role.id}`,className:this.props.role.pending?c.namePending:c.name},this.userName()),o&&r.createElement(d.Svg,{className:c.warningIcon,svg:h,"data-tooltip-timeout-delay":50,"data-tooltip-text":o}),t&&r.createElement(d.Svg,{className:c.warningIcon,svg:h,"data-tooltip-content-key":t,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}),(()=>{const o=[];let t,i=!1;if(this.props.role.user_id!==this.props.user.id||s){if(!e)return r.createElement("span",null,p.levelName(this.props.role.level));s&&!this.props.role.pending&&o.push(m.PermissionLevel.OWNER),p.canMakeAdmin(this.props.role.resource_type,this.props.role.resource_id_or_key,this.props)&&o.push(m.PermissionLevel.ADMIN),o.push(m.PermissionLevel.EDITOR),o.push(m.PermissionLevel.VIEWER),i=this.props.role.pending}else o.push(this.props.role.level);if(this.isDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position){const e=Math.max(0,o.indexOf(this.props.role.level));(t=Object.assign({},this.props.dropdownShown.data.position)).top+=-24*e}return r.createElement("div",{ref:this.levelsDivRef},r.createElement("div",{className:c.select,onClick:this.toggleDropdown},r.createElement("span",null,p.levelName(this.props.role.level))),this.isDropdownShown()&&r.createElement(n.dropdown.Dropdown,{className:c.fixedContextMenu,style:t},o.map(e=>r.createElement(n.dropdown.CheckableOption,{key:`${e}`,onClick:()=>this.onChangeLevel(e),checked:this.props.role.level===e},p.levelName(e))),r.createElement(n.dropdown.Separator,null),i&&r.createElement(n.dropdown.Option,{onClick:this.resendInvite},"resend"),r.createElement(n.dropdown.Option,{onClick:()=>this.onChangeLevel(m.PermissionLevel.NONE)},this.props.role.user_id!==this.props.user.id||s?"remove":"leave")))})()))}}u.displayName="RoleRow",s.RoleRow=u,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,l,c){t.exports={id:"g0856f166",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M8.21 15.035L5.647 17.6l.708.707 2.835-2.836c.852.313 1.766.483 2.711.483 2.9 0 5.5-1.6 6.9-4-.741-1.274-1.794-2.323-3.068-3.026l2.622-2.621-.707-.707-2.88 2.879c-.882-.34-1.845-.525-2.867-.525-1.785 0-3.392.565-4.695 1.529-.889.656-1.637 1.498-2.205 2.47.764 1.308 1.88 2.378 3.21 3.082zm.735-.733C7.82 13.776 6.87 12.957 6.2 11.954c1.201-1.8 3.301-3 5.701-3 .727 0 1.426.109 2.08.312l-1.003 1.004c-.311-.2-.682-.316-1.077-.316-1.1 0-2 .9-2 2 0 .395.118.764.317 1.076l-1.272 1.272zm1.03.384c.609.174 1.255.268 1.925.268 1.036 0 2.03-.244 2.928-.675 1.1-.528 2.057-1.336 2.772-2.325-.643-.964-1.543-1.756-2.61-2.284l-1.332 1.332c.155.284.242.608.242.952 0 1.1-.9 2-2 2-.343 0-.668-.088-.95-.243l-.975.975z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,s){t.exports={id:"gd8d9aece",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M9.744 7c-.618 1.748-2.285 3-4.244 3C3.015 10 1 7.985 1 5.5 1 3.015 3.015 1 5.5 1c1.96 0 3.626 1.252 4.244 3h1.049C10.14 1.692 8.018 0 5.5 0 2.462 0 0 2.462 0 5.5 0 8.538 2.462 11 5.5 11c2.518 0 4.64-1.691 5.293-4h-1.05zM15 10.5c0 2.485-2.015 4.5-4.5 4.5-1.96 0-3.626-1.252-4.244-3H5.207c.653 2.309 2.775 4 5.293 4 3.038 0 5.5-2.462 5.5-5.5C16 7.462 13.538 5 10.5 5 7.982 5 5.86 6.691 5.207 9h1.05C6.873 7.252 8.54 6 10.5 6c2.485 0 4.5 2.015 4.5 4.5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=i(34,1   ),n=i(232                        ),o=i(173                        ),r=i(172                     ),c=i(162                    ),a=i(166                         ),l=i(126                     ),p=i(1417                       ),d=i(349                            ),h=i(279         ),m=i(144                        ),_=i(408                                  ),k=i(1327                                ),E=i(1387            ),u=i(1304                      ),w=i(1309                       ),g=i(1389                              ),L=i(1390                            ),A=i(735                             );class f extends t.Component{constructor(){super(...arguments),this.FOLDER_ACCESS_CHANGE_DROPDOWN="FOLDER_ACCESS_CHANGE_DROPDOWN",this.folderAccessEl=null,this.folderAccessRef=(e=>{e&&(this.folderAccessEl=e)}),this.enablePublicLink=(()=>{const e=this.props.resource;let s=c.LinkAccess.VIEW;e.parent_org_id?s=c.LinkAccess.ORG_VIEW:e.team_id||(s=c.LinkAccess.EDIT),this.props.dispatch(n.file.put({key:e.key,link_access:s},!0))}),this.renderSharingDisclaimer=(()=>{if(this.props.resourceType===l.ResourceType.FILE){let e=this.props.resource,s=this.props.folders[e.folder_id];const i=s&&Object.keys(this.props.roles.byFolderId[s.id]||{}).length>1,n=this.props.teams[e.team_id];return n?t.createElement("span",null,"Everyone at ",h.truncateText(n.name,50)," can access this file."):i?t.createElement("span",null,"Members of '",h.truncateText(s.name,50),"' can access this file."):o.isFolderShared(e.folder_id,this.props)?e.team_id?t.createElement("span",null,"Members of this project or team can access this file."):t.createElement("span",null,"Members of this project can access this file."):t.createElement("span",null,"Public link access is disabled.")}if(this.props.resourceType===l.ResourceType.FOLDER){const e=this.props.resource,s=this.props.teams[e.team_id],i=o.canEditFolder(e.id,this.props);if(e.team_id&&e.is_invite_only)return t.createElement("span",{className:E.sharingDisclaimer},"Invite-only  Members of ",s.name?h.truncateText(s.name,10):"this team"," cannot access.");if(e.team_id&&!e.is_invite_only&&i)return t.createElement("span",null,"Members of ",s.name?h.truncateText(s.name,25):"this team");if(e.team_id&&!e.is_invite_only&&!i)return t.createElement("span",{className:E.sharingDisclaimer},"Everyone at ",s.name?h.truncateText(s.name,50):"this team"," can access this project.")}}),this.onEnableFolderTeamAccess=(()=>{this.onFolderAccessChange(u.FolderLevel.EDIT)}),this.onFolderAccessChange=(e=>{let s,i;switch(e){case u.FolderLevel.EDIT:s=!1,i=!1;break;case u.FolderLevel.VIEW:s=!1,i=!0;break;case u.FolderLevel.DISABLE:s=!0,i=!1}const t=this.props.resource;!s&&!i||r.canAccessProFeature(this.props.teams[t.team_id])?this.props.dispatch(n.folder.updateFolderAccess(this.props.resource.id,s,i)):i?this.props.dispatch(n.fileBrowser.showModal({type:p.AppModal.UPSELL_VIEW_ONLY_MODAL,data:{teamId:t.team_id}})):this.props.dispatch(n.fileBrowser.showModal({type:p.AppModal.UPSELL_INVITE_ONLY_MODAL,data:{teamId:t.team_id}}))}),this.handleFolderAccessChangeView=(()=>this.onFolderAccessChange(u.FolderLevel.VIEW)),this.handleFolderAccessChangeEdit=(()=>this.onFolderAccessChange(u.FolderLevel.EDIT)),this.handleFolderAccessChangeDisabled=(()=>this.onFolderAccessChange(u.FolderLevel.DISABLE)),this.isFolderAccessDropdownShown=(()=>this.props.resourceType===l.ResourceType.FOLDER&&this.props.dropdownShown&&this.props.dropdownShown.type===this.FOLDER_ACCESS_CHANGE_DROPDOWN&&this.props.dropdownShown.data.folderId===this.props.resource.id),this.toggleFolderAccessDropdown=(()=>{if(this.isFolderAccessDropdownShown())this.props.dispatch(n.fileBrowser.hideDropdown());else if(this.props.resourceType===l.ResourceType.FOLDER&&this.folderAccessEl){const e=this.props.resource,s=this.folderAccessEl.getBoundingClientRect();this.props.dispatch(n.fileBrowser.showDropdown({type:this.FOLDER_ACCESS_CHANGE_DROPDOWN,data:{folderId:this.props.resource.id,position:{top:s.top+-24*(e.is_view_only?1:0),bottom:"auto",left:s.left,right:"auto"}}}))}})}render(){if(this.props.resourceType===l.ResourceType.FILE){let e=this.props.resource;const s=e.link_access===c.LinkAccess.INHERIT,i=o.canEditFile(e.key,this.props,!0),n=s?g:L;return t.createElement("div",{className:E.roleRow},t.createElement(m.Svg,{className:s?E.linkAccessDisabledIcon:E.linkAccessIcon,svg:n}),t.createElement("div",{className:E.nameAndSelect},!s&&t.createElement(v,Object.assign({},this.props)),!s&&t.createElement(D,Object.assign({},this.props)),s&&t.createElement("div",{className:E.sharingDisclaimer},"Public link access is disabled."),s&&i&&t.createElement("a",{className:E.enableAccessLink,onClick:this.enablePublicLink},"Enable link access")))}if(this.props.resourceType===l.ResourceType.FOLDER){const e=this.props.resource,s=this.props.teams[e.team_id],i=s&&o.canEditTeam(s.id,this.props)&&o.canEditFolder(e.id,this.props),n=e.is_invite_only?t.createElement(m.Svg,{className:E.linkAccessDisabledIcon,svg:w}):t.createElement(d.Avatar,{size:24,className:E.avatar,entity:s});let r={};return this.isFolderAccessDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(r=Object.assign({},this.props.dropdownShown.data.position)),t.createElement("div",{className:E.roleRow},n,t.createElement("div",{className:E.nameAndSelect},t.createElement("div",{className:E.folderDisclaimer},this.renderSharingDisclaimer(),e.is_invite_only&&i&&t.createElement("a",{className:E.enableAccessLink,onClick:this.onEnableFolderTeamAccess},"Enable team access"),!e.is_invite_only&&i&&t.createElement("div",{ref:this.folderAccessRef,onClick:this.toggleFolderAccessDropdown,className:E.select},t.createElement("span",null,e.is_view_only?"can view":"can edit")),this.isFolderAccessDropdownShown()&&t.createElement(_.dropdown.Dropdown,{className:E.fixedContextMenu,style:Object.assign({position:"fixed"},r)},t.createElement(_.dropdown.CheckableOption,{checked:!e.is_view_only,onClick:this.handleFolderAccessChangeEdit},"can edit"),t.createElement(_.dropdown.CheckableOption,{checked:e.is_view_only,onClick:this.handleFolderAccessChangeView},"can view"),t.createElement(_.dropdown.Separator,null),t.createElement(_.dropdown.CheckableOption,{onClick:this.handleFolderAccessChangeDisabled,checked:!1},"remove team access")))))}}}f.displayName="LinkAccessRoleRow",s.LinkAccessRoleRow=f;class D extends t.PureComponent{constructor(){super(...arguments),this.LINK_LEVEL_DROPDOWN="link-level-dropdown",this.levelsDivRef=(e=>{e&&(this.levelsDiv=e)}),this.onLevelChange=(e=>{let s=this.props.resource;(s.link_access===c.LinkAccess.ORG_VIEW||s.link_access===c.LinkAccess.ORG_EDIT||s.parent_org_id&&this.props.orgById[s.parent_org_id].public_links_banned)&&(e===c.LinkAccess.VIEW&&(e=c.LinkAccess.ORG_VIEW),e===c.LinkAccess.EDIT&&(e=c.LinkAccess.ORG_EDIT));const i=this.props.orgUsersByOrgId.orgUsers[s.parent_org_id]&&this.props.orgUsersByOrgId.orgUsers[s.parent_org_id][this.props.user.id];if(s.link_access!==c.LinkAccess.EDIT&&s.link_access!==c.LinkAccess.ORG_EDIT||e===c.LinkAccess.EDIT||e===c.LinkAccess.ORG_EDIT&&i||o.hasImplicitOrExplicitRoleForFile(s.key,l.PermissionLevel.EDITOR,this.props))this.props.dispatch(n.file.put({key:s.key,link_access:e},!0));else{let i=this.props.modalShown;this.props.dispatch(n.fileBrowser.showModal({type:p.AppModal.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL,data:{onConfirm:()=>{this.props.dispatch(n.fileBrowser.showModal(i)),this.props.dispatch(n.file.put({key:s.key,link_access:e},!0))},onCancel:()=>{this.props.dispatch(n.fileBrowser.showModal(i))}}}))}}),this.toggleLinkLevelDropdown=(()=>{if(this.isLinkLevelDropdownShown())this.props.dispatch(n.fileBrowser.hideDropdown());else{const e=this.levelsDiv.getBoundingClientRect();this.props.dispatch(n.fileBrowser.showDropdown({type:this.LINK_LEVEL_DROPDOWN,data:{position:{top:e.top,bottom:"auto",left:e.left,right:"auto"}}}))}}),this.isLinkLevelDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.LINK_LEVEL_DROPDOWN),this.renderCurrentLevel=(()=>{let e="remove";switch(this.props.resource.link_access){case c.LinkAccess.EDIT:case c.LinkAccess.ORG_EDIT:e="can edit";break;case c.LinkAccess.VIEW:case c.LinkAccess.ORG_VIEW:e="can view"}return t.createElement("span",null,e)})}render(){let e=this.props.resource;const s=o.canEditFile(e.key,this.props,!0),i=e.link_access===c.LinkAccess.ORG_EDIT||e.link_access===c.LinkAccess.ORG_VIEW,n=null==e.team_id||i,r=e.link_access===c.LinkAccess.VIEW||e.link_access===c.LinkAccess.ORG_VIEW;if(!s)return this.renderCurrentLevel();let a;return this.isLinkLevelDropdownShown()&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position&&(a=Object.assign({},this.props.dropdownShown.data.position),n&&r&&(a.top+=-24)),t.createElement("div",{ref:this.levelsDivRef},t.createElement("div",{className:E.select,onClick:this.toggleLinkLevelDropdown},this.renderCurrentLevel()),this.isLinkLevelDropdownShown()&&t.createElement(_.dropdown.Dropdown,{className:E.fixedContextMenu,style:a},n&&t.createElement(_.dropdown.CheckableOption,{checked:!r,onClick:()=>{this.onLevelChange(c.LinkAccess.EDIT)}},"can edit"),t.createElement(_.dropdown.CheckableOption,{checked:r,onClick:()=>{this.onLevelChange(c.LinkAccess.VIEW)}},"can view"),t.createElement(_.dropdown.Separator,null),t.createElement(_.dropdown.Option,{onClick:()=>{this.onLevelChange(c.LinkAccess.INHERIT)}},"Remove link access")))}}D.displayName="FileLinkLevel",s.FileLinkLevel=D;class v extends t.PureComponent{constructor(){super(...arguments),this.LINK_AUDIENCE_DROPDOWN="link-audience-dropdown",this.onAudienceChange=(e=>{let s=this.props.resource,i=s.link_access,t=s.org_browsable;if("public"===e){if(s.parent_org_id&&this.props.orgById[s.parent_org_id].public_links_banned)return;s.link_access===c.LinkAccess.ORG_EDIT?i=s.team_id?c.LinkAccess.VIEW:c.LinkAccess.EDIT:s.link_access===c.LinkAccess.ORG_VIEW&&(i=c.LinkAccess.VIEW),t=!1}else"inherit"===e?(i=c.LinkAccess.INHERIT,t=!1):(s.link_access===c.LinkAccess.EDIT?i=c.LinkAccess.ORG_EDIT:s.link_access===c.LinkAccess.VIEW&&(i=c.LinkAccess.ORG_VIEW),t="org-browsable"===e);this.props.dispatch(n.file.put({key:s.key,link_access:i,org_browsable:!!t},!0))}),this.copyFileLink=(e=>{if(this.props.resourceType!==l.ResourceType.FILE)return;const s=this.props.resource;e.ctrlKey||e.metaKey||e.shiftKey||(e.preventDefault(),e.stopPropagation(),this.props.dispatch(n.file.copyLink(s,this.props.copyFileLinkUrl)))}),this.isLinkAudienceDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.LINK_AUDIENCE_DROPDOWN),this.toggleLinkAudienceDropdown=(()=>{this.isLinkAudienceDropdownShown()?this.props.dispatch(n.fileBrowser.hideDropdown()):this.props.dispatch(n.fileBrowser.showDropdown({type:this.LINK_AUDIENCE_DROPDOWN}))}),this.renderCurrentAudience=(()=>{const e=this.props.resource,s=t.createElement("a",{href:e.url,className:k.blueLink,onClick:this.copyFileLink},"the link");return e.link_access===c.LinkAccess.ORG_VIEW||e.link_access===c.LinkAccess.ORG_EDIT?e.org_browsable?t.createElement("div",{className:E.linkAccessText},"Anyone at ",this.getOrgName()):t.createElement("div",{className:E.linkAccessText},"Anyone at ",this.getOrgName()," with ",s):t.createElement("div",{className:E.linkAccessText},"Anyone with ",s)}),this.getOrgName=(()=>{const e=this.props.resource;return e.parent_org_id&&this.props.orgById[e.parent_org_id]?this.props.orgById[e.parent_org_id].name:null})}render(){const e=this.props.resource;if(!(o.canEditFile(e.key,this.props,!0)&&!!this.getOrgName()))return this.renderCurrentAudience();const s=e.link_access===c.LinkAccess.ORG_VIEW||e.link_access===c.LinkAccess.ORG_EDIT,i=s&&!e.org_browsable,n=s&&!!e.org_browsable,r=this.props.orgById[e.parent_org_id].public_links_banned;return t.createElement("div",null,t.createElement("div",{className:E.selectLeft,onClick:this.toggleLinkAudienceDropdown},this.renderCurrentAudience()),this.isLinkAudienceDropdownShown()&&t.createElement("div",{className:E.contextMenu},t.createElement(_.dropdown.Dropdown,null,r&&t.createElement(_.dropdown.CheckableOption,{checked:!s,disabled:!0},"Anyone with the link (disabled by admin)"),!r&&t.createElement(_.dropdown.CheckableOption,{disabled:!1,checked:!s,onClick:()=>{this.onAudienceChange("public")}},"Anyone with the link"),t.createElement(_.dropdown.CheckableOption,{checked:i,onClick:()=>{this.onAudienceChange("org")}},"Anyone at ",this.getOrgName()," with the link"),t.createElement(_.dropdown.CheckableOption,{checked:n,onClick:()=>{this.onAudienceChange("org-browsable")}},"Anyone at ",this.getOrgName()),t.createElement(_.dropdown.Separator,null),t.createElement(_.dropdown.Option,{onClick:()=>{this.onAudienceChange("inherit")}},"Remove link access"))))}}v.displayName="FileLinkAudience",s.FileLinkAudience=v;class y extends t.PureComponent{constructor(){super(...arguments),this.sharingDisclaimer=(()=>{if(this.props.resourceType===l.ResourceType.FILE){let e=this.props.resource,s=this.props.folders[e.folder_id];const i=s&&Object.keys(this.props.roles.byFolderId[s.id]||{}).length>1,t=this.props.teams[e.team_id];if(!(t&&s&&o.canViewTeam(t.id,this.props)))return i?`Members of '${h.truncateText(a.getFolderName(s),50)}' can access this file.`:e.team_id?"Members of this project or team can access this file.":"Members of this project can access this file.";{const e=h.truncateText(t.name,25);if(s.is_invite_only)return`Invite-only  Members of ${e} cannot view this file.`;if(!s.is_invite_only)return`Everyone at ${e} can access this file.`}}})}render(){const e=this.props.resource,s=this.props.folders[e.folder_id];if(!s)return null;const i=s.is_invite_only?w:A;return t.createElement("div",{className:E.roleRow},t.createElement(m.Svg,{className:E.linkAccessDisabledIcon,svg:i}),t.createElement("div",{className:E.sharingDisclaimer},this.sharingDisclaimer()))}}y.displayName="FilesFolderAccessRow",s.FilesFolderAccessRow=y,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),a=s(232                        ),o=s(346                                 ),i=s(204                                            ),c=s(350          );class n extends r.PureComponent{constructor(){super(...arguments),this.requestUpgrade=(e=>{this.props.dispatch(a.orgUser.requestAccountType({orgUserId:this.props.orgUser.id})),this.props.dispatch(a.fileBrowser.hideModal())}),this.cancel=(e=>{this.props.dispatch(a.fileBrowser.hideModal())})}render(){return r.createElement(o.Modal,{title:"Request Upgrade",size:"small",dispatch:this.props.dispatch},"Your account is ",r.createElement("span",{className:c.important},"Restricted"),". You will be able to share files from your ",r.createElement("span",{className:c.important},"Drafts")," when your account is upgraded by an admin.",r.createElement("div",{className:c.buttonRow},r.createElement(i.ButtonSecondary,{onClick:this.cancel},"Cancel"),r.createElement(i.ButtonLink,{className:c.confirmButton,onClick:this.requestUpgrade},"Request Upgrade")))}}n.displayName="ShareFromRestrictedDraftsModal",t.ShareFromRestrictedDraftsModal=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,i){e.exports={permissionsModal:"permissions_modal--permissionsModal--1fAbm unselectable--unselectable--3i8U7",headerTitle:"permissions_modal--headerTitle--MxLL6",contentContainer:"permissions_modal--contentContainer--Vmhg3",roleRows:"permissions_modal--roleRows--2EnhA overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",inputSection:"permissions_modal--inputSection--1zhcj",dividedInputSection:"permissions_modal--dividedInputSection--2HlSD permissions_modal--inputSection--1zhcj",prototypeDividedInputSection:"permissions_modal--prototypeDividedInputSection--EQj9r permissions_modal--dividedInputSection--2HlSD permissions_modal--inputSection--1zhcj",autocompleteInput:"permissions_modal--autocompleteInput--1a0FC",inviteForm:"permissions_modal--inviteForm--22129",inviteInputWrapper:"permissions_modal--inviteInputWrapper--2qRip",inviteInputWrapperFocused:"permissions_modal--inviteInputWrapperFocused--16dT- permissions_modal--inviteInputWrapper--2qRip",autocompleteWrapper:"permissions_modal--autocompleteWrapper--Xhj0t",autocompleteResults:"permissions_modal--autocompleteResults--pOQ87 overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",select:"permissions_modal--select--2zsUr autocomplete_input--tokenUnit--2_Bx1 role_row--select--2zfjP",inviteSpan:"permissions_modal--inviteSpan--2nmG9",inviteFromSlackFooter:"permissions_modal--inviteFromSlackFooter--3Siet",inviteFromSlackText:"permissions_modal--inviteFromSlackText--1FVe3",footerLinks:"permissions_modal--footerLinks--2g0C0",footerLink:"permissions_modal--footerLink--1tYyc blue_link--blueLink--22X56",linkToNode:"permissions_modal--linkToNode--nm7Rt",linkToNodeDisabled:"permissions_modal--linkToNodeDisabled--QIaG2 permissions_modal--linkToNode--nm7Rt",slackLink:"permissions_modal--slackLink--1o3Cd",fileTitle:"permissions_modal--fileTitle--ER67i",truncateText:"permissions_modal--truncateText--1n2CV ellipsis--ellipsis--1RWY6",resourceName:"permissions_modal--resourceName--1zaHA permissions_modal--truncateText--1n2CV ellipsis--ellipsis--1RWY6",fileLocation:"permissions_modal--fileLocation--2IxCp",contextMenu:"permissions_modal--contextMenu--3tMJ0",inviteLevelDropdown:"permissions_modal--inviteLevelDropdown--N-55a",icon:"permissions_modal--icon--2LC0F",copyIcon:"permissions_modal--copyIcon--2caJC",arrow:"permissions_modal--arrow--kFd-x pointing_dropdown--arrow--Lu8iU",embedCode:"permissions_modal--embedCode--1koGn",embedCodeButtons:"permissions_modal--embedCodeButtons--1sOgw",embedMessageContainer:"permissions_modal--embedMessageContainer--3-CBW",embedMessage:"permissions_modal--embedMessage--2q_sT",embedMessagePageName:"permissions_modal--embedMessagePageName--3ywFG"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={id:"g4e3be5bd",src:'<svg width="9" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M.6 1.307L1.307.6l3.147 3.146L7.6.6l.707.707-3.853 3.854L.6 1.307z" fill-rule="evenodd" fill-opacity=".7"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,l,t){c.exports={id:"gf5cb8644",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M11.555.878c-1.172-1.17-3.07-1.17-4.242 0l-.708.707c-.785.786-1.046 1.896-.777 2.898l.902-.901c.028-.47.223-.93.582-1.29l.708-.707c.78-.78 2.046-.781 2.828 0 .78.782.78 2.048 0 2.829l-.707.707c-.36.359-.82.554-1.29.582l-.902.902c1.004.268 2.114.008 2.899-.777l.707-.707c1.172-1.172 1.172-3.071 0-4.243zM.879 11.555c1.172 1.17 3.07 1.17 4.242 0l.707-.708c.785-.785 1.047-1.896.777-2.898l-.902.902c-.027.47-.223.93-.582 1.29l-.707.706c-.781.781-2.047.782-2.828 0-.781-.781-.781-2.047 0-2.828l.707-.707c.36-.359.82-.554 1.289-.582l.902-.902c-1.004-.268-2.113-.008-2.898.777l-.707.707c-1.172 1.171-1.172 3.071 0 4.243zm7.848-7.141l-.707-.707-4.243 4.242.707.708 4.243-4.243z" fill-rule="evenodd" fill="#30c2ff"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,e,l){t.exports={id:"g8d135e6a",src:'<svg width="14" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M4.952.65l-4.5 4.5-.352.354.352.353 4.5 4.5.71-.707-4.148-4.146 4.148-4.147-.71-.707zm4.21 0l4.5 4.5.352.354-.352.353-4.5 4.5-.71-.707L12.6 5.504 8.452 1.357l.71-.707z" fill-rule="evenodd" fill="#30c2ff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),i=t(232                        ),r=t(173                        ),a=t(981                      ),n=t(113                             ),p=t(234                              ),l=t(162                    ),c=t(166                         ),d=t(126                     ),m=t(1382                              ),h=t(1417                       ),u=t(1384                                                                ),y=t(1386                                                                    ),v=t(736                                        ),f=t(1388                                           ),E=t(1391                                                       ),w=t(346                                 ),b=t(1392                                                      ),g=t(351                                               ),_=t(408                                  ),T=t(204                                            ),C=t(144                        ),k=t(211                                              ),I=t(129                               ),N=t(1327                                ),R=t(1393                     ),L=t(350           ),S=t(287       ),M=t(220                     ),O=t(1394                               ),D=t(1395                              ),F=t(1396                             );class P extends o.Component{constructor(e){super(e),this.PERMISSIONS_DROPDOWN="permissions-dropdown",this.PERMISSIONS_INVITE_DROPDOWN="permissions-invite-dropdown",this.onInviteLevelChange=(e=>{this.setState({inviteLevel:e})}),this.onSubmit=(e=>{e&&e.preventDefault(),this.props.dispatch(i.role.sendInvites(p.toEmailList(this.props.autocomplete),this.props.resourceType,r.idOrKey(this.props.resource),this.state.inviteLevel)),this.props.resourceType===d.ResourceType.TEAM?(M.trackCtaClicked({category:[M.CtaCategories.TEAM_PAGE,M.CtaCategories.PAYWALL,M.CtaCategories.UPGRADE_FLOW],text:"invite",type:"button",location:"modal",teamId:this.props.resource.id,description:"Invite team members modal invite cta_clicked"}),this.props.dispatch(i.fileBrowser.hideModal())):this.props.dispatch(i.autocomplete.reset())}),this.onlinkToNodeChange=(e=>{this.setState({linkToNodeCheckbox:e.currentTarget.checked})}),this.cancelEmbedCode=(()=>{this.setState({embedCode:null})}),this.showEmbedCode=(()=>{const e=encodeURIComponent(this.copyFileLinkUrl()),s=`<iframe style="border: none;" width="800" height="450" src="${location.origin}/embed?embed_host=share&url=${e}" allowfullscreen></iframe>`;this.setState({embedCode:s})}),this.copyEmbedCode=(()=>{const e=this.state.embedCode,s=this.props.resource;this.props.dispatch(i.file.copyLink(s,e,n.CopyType.EMBED_CODE)),this.setState({embedCode:null})}),this.makePublic=(()=>{const e=this.props.resource;this.props.dispatch(i.file.put({key:e.key,link_access:l.LinkAccess.VIEW},!0))}),this.copyFileLink=(()=>{const e=this.props.resource,s=this.copyFileLinkUrl();this.props.dispatch(i.file.copyLink(e,s))}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_DROPDOWN),this.toggleDropdown=(()=>{if(this.isDropdownShown())this.props.dispatch(i.fileBrowser.hideDropdown());else{let e=this.props.resource;this.props.dispatch(i.fileBrowser.showDropdown({type:this.PERMISSIONS_DROPDOWN,data:{folderId:e.folder_id}}))}}),this.isInviteDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_INVITE_DROPDOWN),this.toggleInviteDropdown=(()=>{if(this.isInviteDropdownShown())this.props.dispatch(i.fileBrowser.hideDropdown());else{let e=this.props.resource;this.props.dispatch(i.fileBrowser.showDropdown({type:this.PERMISSIONS_INVITE_DROPDOWN,data:{folderId:e.folder_id}}))}}),this.renderFileMoveModal=(()=>{let e=this.props.resource;this.props.dispatch(i.fileBrowser.showModal({type:h.AppModal.FILE_MOVE_MODAL,data:{fileKey:e.key}}))}),this.renderTitle=(()=>{const e=this.props.resourceType===d.ResourceType.TEAM?"Invite team members":`Share '${this.props.resource.name}' with`;if(this.props.resourceType===d.ResourceType.TEAM)return"Invite team members";if(this.props.resourceType===d.ResourceType.FOLDER){const e=c.getFolderName(this.props.resource);return o.createElement("p",{className:R.headerTitle},"Share ",o.createElement("span",{className:R.resourceName},e))}const s=this.props.resource,t=this.props.folders[s.folder_id];if(!t)return e;const i=!r.canManageFile(s.key,this.props,!0),a=this.props.selectedView.folderId===t.id||!r.canViewFolder(t.id,this.props),n=a?null:`/files/project/${t.id}`,p=v.getTargetAttribute(this.props.selectedView);return o.createElement("div",{className:R.fileTitle},o.createElement("p",null,"Share ",o.createElement("span",{className:R.resourceName},this.props.resource.name)),o.createElement("div",{className:R.fileLocation,onClick:this.toggleDropdown},o.createElement("span",{className:R.truncateText},c.getFolderName(t)),o.createElement(C.Svg,{svg:O,className:R.icon})),this.props.dropdownShown&&this.props.dropdownShown.type===this.PERMISSIONS_DROPDOWN&&o.createElement("div",{className:R.contextMenu},o.createElement("div",{className:R.arrow}),o.createElement(_.dropdown.Dropdown,null,o.createElement(_.dropdown.Option,{disabled:i,onClick:this.renderFileMoveModal},"Move to Project..."),o.createElement(_.dropdown.Option,{disabled:a,href:n,target:p},"Show in Files"))))}),this.onFocus=(e=>{e.target.select()}),this.onInviteFocus=(()=>{this.setState({inviteInputFocused:!0})}),this.onInviteBlur=(()=>{this.setState({inviteInputFocused:!1})}),this.hideModal=(()=>{this.props.resourceType===d.ResourceType.TEAM&&M.trackCtaClicked({location:"modal",text:"cancel",category:[M.CtaCategories.UPGRADE_FLOW,M.CtaCategories.TEAM_PAGE,M.CtaCategories.PAYWALL],type:"button",description:"Invite team members modal cancel cta_clicked"}),this.props.dispatch(i.fileBrowser.hideModal())});const s=d.PermissionLevel.VIEWER,t=m.nodeId(this.props.selectedView);t&&t!==S.invalidGUIDStr?this.state={inviteLevel:s,linkToPrototype:this.props.selectedView.prototype,inviteInputFocused:!1,linkToNodeCheckbox:!0,selectedNodeId:t,selectedPage:I.SceneGraphHelpers.nodeIsPage(t)}:this.state={inviteLevel:s,linkToPrototype:this.props.selectedView.prototype,inviteInputFocused:!1}}componentDidMount(){this.props.resourceType===d.ResourceType.TEAM&&M.trackModalView({modal:"invite_team_members",teamId:this.props.resource.id})}getRoles(){let e={};if(this.props.resourceType===d.ResourceType.FILE){let s=this.props.resource;e=this.props.roles.byFileKey[s.key]||{}}if(this.props.resourceType===d.ResourceType.FOLDER){let s=this.props.resource;e=this.props.roles.byFolderId[s.id]||{}}return Object.keys(e).map(s=>e[s]).sort((e,s)=>new Date(e.created_at)<new Date(s.created_at)?-1:1)}copyFileLinkUrl(){if(this.props.resourceType!==d.ResourceType.FILE)return null;const e=this.props.resource;let s="";if(this.state.linkToNodeCheckbox&&this.state.selectedNodeId)s+=`?node-id=${encodeURIComponent(this.state.selectedNodeId)}`;else if(this.state.linkToPrototype){const e=this.props.selectedView.viewState;this.props.selectedView.prototype&&e&&(s+=`${a.urlQueryForPrototype(e.scalingMode,null,e.showHotspots)}`)}return`${this.state.linkToPrototype?e.prototype_url:e.url}${s}`}render(){let e=r.canEditResource(this.props.resourceType,r.idOrKey(this.props.resource),this.props),s=this.props.resourceType===d.ResourceType.FILE||this.props.resourceType===d.ResourceType.FOLDER&&this.props.resource.team_id;const t=this.state.linkToPrototype,i=this.state.inviteInputFocused&&null===this.props.autocomplete.selectedSearchResultIndex?R.inviteInputWrapperFocused:R.inviteInputWrapper;let a=R.dividedInputSection;if(this.props.resourceType===d.ResourceType.TEAM?a=R.inputSection:t&&(a=R.prototypeDividedInputSection),this.props.resourceType===d.ResourceType.FILE){const e=this.props.resource,s=this.props.orgDraftsOwners[e.folder_id];if(s&&r.isOrgUserRestricted(s))return s.user_id===this.props.user.id?o.createElement(b.ShareFromRestrictedDraftsModal,{orgUser:this.props.orgUsersByOrgId.orgUsers[this.props.currentOrgId][this.props.user.id],dispatch:this.props.dispatch}):o.createElement(g.ViewRestrictedFileModal,{share:!0,user:s.user,dispatch:this.props.dispatch})}if(this.state.embedCode){const e=this.props.resource;return e.link_access!==l.LinkAccess.VIEW&&e.link_access!==l.LinkAccess.EDIT?o.createElement(w.Modal,Object.assign({size:600,fixedTop:!0,title:"Enable public access",className:R.permissionsModal},this.props),o.createElement("div",null,"Currently, your file is not publicly viewable. Embeds of private documents will not show up correctly. Please make your document public to continue."),o.createElement("div",{className:R.embedCodeButtons},o.createElement("div",{className:N.blueLink,onClick:this.cancelEmbedCode},"Cancel"),o.createElement(T.ButtonPrimary,{onClick:this.makePublic},"Enable Public Access"))):o.createElement(w.Modal,Object.assign({size:600,fixedTop:!0,title:"Copy public embed code",className:R.permissionsModal},this.props),o.createElement("textarea",{readOnly:!0,onFocus:this.onFocus,className:R.embedCode,value:this.state.embedCode}),this.props.pageName&&o.createElement("div",{className:R.embedMessageContainer},o.createElement("span",{className:R.embedMessage},"Embed "),o.createElement("span",{className:R.embedMessagePageName},this.props.pageName),o.createElement("span",{className:R.embedMessage}," in your webpage")),o.createElement("div",{className:R.embedCodeButtons},o.createElement("div",{className:N.blueLink,onClick:this.cancelEmbedCode},"Cancel"),o.createElement(T.ButtonPrimary,{onClick:this.copyEmbedCode},"Copy")))}const n=!this.state.selectedNodeId||this.state.selectedPage;let c=!0;if(this.props.resourceType===d.ResourceType.FILE){const e=this.props.resource;if(e.parent_org_id){const s=this.props.orgById[e.parent_org_id];s&&!s.public_links_banned||(c=!1)}}return o.createElement(k.HeaderModal,{title:this.renderTitle(),isCloseHidden:this.props.resourceType===d.ResourceType.FILE,maxWidth:459,fixedTop:!0,onClose:this.hideModal},o.createElement("div",{className:R.contentContainer},this.props.resourceType!==d.ResourceType.TEAM&&o.createElement("div",{className:R.roleRows},this.props.resourceType===d.ResourceType.FILE&&o.createElement(E.FilesFolderAccessRow,Object.assign({},this.props)),s&&o.createElement(E.LinkAccessRoleRow,Object.assign({},this.props,{copyFileLinkUrl:this.copyFileLinkUrl()})),!t&&this.getRoles().map(e=>o.createElement(f.RoleRow,Object.assign({key:`role-row-${e.id}`,role:e},this.props)))),o.createElement("div",{className:a},!t&&o.createElement("form",{onSubmit:this.onSubmit,className:R.inviteForm},o.createElement("div",{className:R.autocompleteWrapper},o.createElement("div",{className:i},o.createElement(u.AutocompleteInput,Object.assign({className:R.autocompleteInput,onSubmit:p.isInputValid(this.props.autocomplete)?this.onSubmit:null,onBlur:this.onInviteBlur,onFocus:this.onInviteFocus},this.props)),(()=>{const s=[];r.canMakeAdmin(this.props.resourceType,r.idOrKey(this.props.resource),this.props)&&s.push(d.PermissionLevel.ADMIN),e&&s.push(d.PermissionLevel.EDITOR),s.push(d.PermissionLevel.VIEWER);let t=0;if(this.isInviteDropdownShown()){t=-24*Math.max(0,s.indexOf(this.state.inviteLevel))}return o.createElement("div",{id:"invite-level"},o.createElement("div",{className:R.select,onClick:this.toggleInviteDropdown},o.createElement("span",{className:R.inviteSpan},r.levelName(this.state.inviteLevel))),this.isInviteDropdownShown()&&o.createElement("div",{style:{position:"relative",top:t}},o.createElement(_.dropdown.Dropdown,{className:R.inviteLevelDropdown},s.map(e=>o.createElement(_.dropdown.CheckableOption,{key:e,checked:e===this.state.inviteLevel,onClick:()=>this.onInviteLevelChange(e)},r.levelName(e))))))})()),o.createElement(y.AutocompleteResults,Object.assign({className:R.autocompleteResults},this.props))),o.createElement(T.ButtonPrimary,{disabled:!p.isInputValid(this.props.autocomplete),type:"submit"},"Invite")),this.props.resourceType===d.ResourceType.FILE&&o.createElement("div",{className:R.footerLinks},o.createElement("div",{className:R.footerLink,onClick:this.copyFileLink},o.createElement(C.Svg,{className:R.copyIcon,svg:D})," Copy link"),c&&o.createElement("div",{className:R.footerLink,onClick:this.showEmbedCode},o.createElement(C.Svg,{className:R.copyIcon,svg:F})," Public embed"),o.createElement("div",{className:n?R.linkToNodeDisabled:R.linkToNode},o.createElement(T.Checkbox,{id:"link-to-node",checked:!n&&this.state.linkToNodeCheckbox,onChange:this.onlinkToNodeChange,disabled:n}),o.createElement(T.Label,{htmlFor:"link-to-node"},"Link to selected frame"))))))}}P.displayName="PermissionsModal",s.PermissionsModal=P;class A extends o.Component{constructor(){super(...arguments),this.onConfirm=(()=>{this.props.onConfirmTransfer(!0)})}render(){let e;return this.props.resourceType===d.ResourceType.FOLDER&&(e="This will also transfer ownership of all files in this project."),o.createElement(w.ConfirmationModal,Object.assign({destructive:!0,confirmationTitle:"Transfer ownership",size:400,confirmText:"Transfer ownership",onConfirm:this.onConfirm},this.props),o.createElement("div",{className:L.modalContent},o.createElement("span",{className:L.important},"Are you sure you want to make ",this.props.newOwnerName," the owner of ",this.props.resourceName,"? "),e,e&&o.createElement("div",null,o.createElement("br",null)),"You can't undo this action."))}}A.displayName="ConfirmTransferOwnershipModal",s.ConfirmTransferOwnershipModal=A;class x extends o.Component{constructor(){super(...arguments),this.onConfirm=(()=>{let e=this.props.roleToRemove.user.id===this.props.user.id;this.props.dispatch(i.role.del(this.props.roleToRemove,!0,e)),this.props.onConfirmRemove()})}render(){let e,s,t=this.props.roleToRemove,i=t.user;switch(t.resource_type){case d.ResourceType.FILE:{let o=this.props.fileByKey[t.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${o.name}?\n          You may not be able to access this file anymore.`,s="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access this file anymore.`,s="Remove");break}case d.ResourceType.FOLDER:{let o=this.props.folders[t.resource_id_or_key];i.id===this.props.user.id?(e=`Are you sure you want to leave ${o.name}?\n          You may not be able to access files in this project anymore.`,s="Leave"):(e=`Are you sure you want to remove ${i.handle}?\n          They may not be able to access files in this project anymore.`,s="Remove");break}}return o.createElement(w.ConfirmationModal,Object.assign({content:e,confirmText:s,onConfirm:this.onConfirm},this.props))}}x.displayName="ConfirmRemoveRoleModal",s.ConfirmRemoveRoleModal=x;class V extends o.Component{render(){return o.createElement(w.ConfirmationModal,Object.assign({size:400,confirmText:"Continue"},this.props),o.createElement("div",{className:L.modalContent},"Are you sure you want to change the public link access of this file? You'll no longer be able to edit this file or change this back."))}}V.displayName="ConfirmReduceLinkAccessAndLoseEditRights",s.ConfirmReduceLinkAccessAndLoseEditRights=V,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,a){e.exports={container:"rename_modal--container--34gt8",previewAndLinkContainer:"rename_modal--previewAndLinkContainer--U2H_l",previewContainer:"rename_modal--previewContainer--2Axma",sectionHeaderContainer:"rename_modal--sectionHeaderContainer--2FDsU",sectionHeader:"rename_modal--sectionHeader--2P9ZL",previewNameContainer:"rename_modal--previewNameContainer--YpfHE",previewName:"rename_modal--previewName--1p5oI",linkContainer:"rename_modal--linkContainer--xsDHA",link:"rename_modal--link--1uO56 blue_link--blueLink--22X56",_inputContainer:"rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceInputContainer:"rename_modal--sequenceInputContainer--2jwe4 rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceInputContainerDisabled:"rename_modal--sequenceInputContainerDisabled--2WRrE rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",sequenceLabel:"rename_modal--sequenceLabel--282zG",sequenceInput:"rename_modal--sequenceInput--17oq4",patternInputContainer:"rename_modal--patternInputContainer--2PM3m rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",patternInput:"rename_modal--patternInput--15ctM",patternButtonsContainer:"rename_modal--patternButtonsContainer--1_CBQ rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a",numberButton:"rename_modal--numberButton--2UmLP",numberArrow:"rename_modal--numberArrow--2A3pk",form:"rename_modal--form--MRT4N",formInputs:"rename_modal--formInputs--311WA",formButtonsContainer:"rename_modal--formButtonsContainer--39U2D rename_modal--_inputContainer--2GnxP raw_components--singleRowHeight--3PF2a"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={previewContainerWidth:"120px"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g5b98e135",src:'<svg width="7" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M.14 3.133L3.163.138c.186-.184.486-.184.672 0l3.025 2.995c.185.183.185.481 0 .665-.186.184-.487.184-.672 0L3.975 1.607V8h-.95V1.607L.81 3.798c-.185.184-.486.184-.672 0-.185-.184-.185-.482 0-.665z" fill-rule="evenodd" fill="#444"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g30b37ca8",src:'<svg width="7" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M6.86 4.867L3.837 7.862c-.186.184-.486.184-.672 0L.139 4.867c-.185-.183-.185-.481 0-.665.186-.184.487-.184.672 0l2.214 2.191V0h.95v6.393L6.19 4.202c.185-.184.486-.184.672 0 .185.184.185.482 0 .665z" fill-rule="evenodd" fill="#444"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(34,1   ),a=n(38,1       ),r=n(232                        ),i=n(1426                               ),c=n(341                              ),l=n(282                             ),o=n(199      ),h=n(370              ),u=n(144                        ),p=n(211                                              ),m=n(496                                         ),d=n(204                                            ),g=n(559                                                            ),I=n(1398                ),P=n(1399                                      ),S=n(1400                                 ),f=n(1401                                   ),b=h.pxToInt(P.previewContainerWidth);var E;!function(e){e[e.Match=0]="Match",e[e.NumberAscending=1]="NumberAscending",e[e.NumberDescending=2]="NumberDescending"}(E||(E={}));const N={[E.Match]:"$&",[E.NumberAscending]:"$nn",[E.NumberDescending]:"$NN"},R=/\$n+/,v=/\$N+/,C=1;function D(e,t){const n=`${e}`;return n.length>=t?n:new Array(t-n.length+1).join("0")+n}class w extends s.PureComponent{constructor(e){super(e),this.guidSet=null,this.sortedGUIDs=[],this.shouldRefocusReplaceInput=!1,this.lastReplacePatternInputSelectionStart=0,this.lastReplacePatternInputSelectionEnd=0,this.replacePatternInputEl=null,this.replacePatternInputRef=(e=>{this.replacePatternInputEl=a.findDOMNode(e)}),this.hideModal=(()=>{this.props.dispatch(r.fileBrowser.hideModal())}),this.onKeyDown=(e=>{e.stopPropagation(),e.keyCode===o.Key.ESCAPE&&this.hideModal()}),this.onSubmit=(e=>{e&&e.preventDefault();const t=this.generateLayerNames();let n=!1;for(const s in t)t[s]!==this.props.mirror.sceneGraph.get(s).name&&(c.setName(s,t[s]),n=!0);n&&i.fullscreen.commit(),this.hideModal()}),this.onMatchPatternChange=(e=>{this.setState({matchPattern:e.currentTarget.value})}),this.onMatchPatternFocus=(()=>{this.shouldRefocusReplaceInput=!1}),this.onReplacePatternChange=(e=>{this.shouldRefocusReplaceInput=!1;const t=e.currentTarget.value;this.setState({replacePattern:t,sequenceLabel:this.getSequenceLabel(t)})}),this.isUsingNumberPattern=(()=>R.test(this.state.replacePattern)||v.test(this.state.replacePattern)),this.getSequenceLabel=(e=>{return new RegExp(`^.*(?=.*${R.source})(?=.*${v.source}).*$`).test(e)?"Start sequence from":v.test(e)?"Stop descending at":R.test(e)?"Start ascending from":this.state.sequenceLabel}),this.onSequenceStartChange=(e=>{this.updateShouldRefocusReplaceInput(),this.setState({sequenceStart:l.getValue(e)})}),this.onPatternButtonClick=(e=>{const{replacePattern:t}=this.state,n=this.lastReplacePatternInputSelectionStart,s=this.lastReplacePatternInputSelectionEnd;this.lastReplacePatternInputSelectionStart+=N[e].length,this.lastReplacePatternInputSelectionEnd=this.lastReplacePatternInputSelectionStart;const a=`${t.slice(0,n)}${N[e]}${t.slice(Math.max(n,s),t.length)}`;this.setState({replacePattern:a,sequenceLabel:this.getSequenceLabel(a)})}),this.updateShouldRefocusReplaceInput=(()=>{this.shouldRefocusReplaceInput=document.activeElement===this.replacePatternInputEl}),this.setReplacePatternInputSelection=(()=>{this.replacePatternInputEl&&(this.lastReplacePatternInputSelectionStart=this.replacePatternInputEl.selectionStart,this.lastReplacePatternInputSelectionEnd=this.replacePatternInputEl.selectionEnd)}),this.generateLayerNames=(()=>{const e=Number.isInteger(this.state.sequenceStart)?this.state.sequenceStart:C,t=this.sortedGUIDs.map(e=>this.props.mirror.sceneGraph.get(e).name),n=this.sortedGUIDs.map((n,s)=>{const a=s+e,r=e+this.sortedGUIDs.length-(s+1);let i;try{i=new RegExp(this.state.matchPattern||".*")}catch(l){if(!(l instanceof SyntaxError))throw l;i=this.state.matchPattern}const c=this.state.replacePattern.replace(new RegExp(R.source,"g"),e=>D(a,e.length-1)).replace(new RegExp(v.source,"g"),e=>D(r,e.length-1));return t[s].replace(i,c)}).map((e,n)=>e||t[n]);return this.sortedGUIDs.reduce((e,t,s)=>Object.assign({},e,{[t]:n[s]}),{})}),this.getPreviewNames=(()=>{const e=this.generateLayerNames(),t=(this.sortedGUIDs.length<=5?this.sortedGUIDs:[...this.sortedGUIDs.slice(0,4),this.sortedGUIDs[this.sortedGUIDs.length-1]]).map(t=>s.createElement(g.CenterTruncatedText,{className:I.previewName,key:t,text:e[t],maxWidth:b}));return this.sortedGUIDs.length>5?[...t.slice(0,4),s.createElement("p",{className:I.previewName,key:"..."},"..."),t[t.length-1]]:t}),this.guidSet=new Set(e.guids),this.sortGUIDs(),this.state={matchPattern:"",replacePattern:"",sequenceStart:C,sequenceLabel:"Start ascending from"}}componentDidMount(){const{replacePattern:e}=this.state;this.replacePatternInputEl&&(this.replacePatternInputEl.focus(),this.replacePatternInputEl.setSelectionRange(e.length,e.length))}UNSAFE_componentWillReceiveProps(e){const t=new Set(e.guids);var n,s;n=this.guidSet,s=t,(n.size!==s.size||(n.forEach(e=>{if(!s.has(e))return!1}),0))&&(this.guidSet=t,this.sortGUIDs())}componentDidUpdate(){this.shouldRefocusReplaceInput&&(this.replacePatternInputEl.focus(),this.replacePatternInputEl.setSelectionRange(this.lastReplacePatternInputSelectionStart,this.lastReplacePatternInputSelectionEnd),this.shouldRefocusReplaceInput=!1)}sortGUIDs(){const e=this.props.mirror.sceneGraph.get(this.props.mirror.appModel.currentPage);if(e){const t=e.reversedChildren;for(this.sortedGUIDs=[];t.length;){const e=this.props.mirror.sceneGraph.get(t[0]);t.shift(),e&&(e.reversedChildren&&t.unshift(...e.reversedChildren),this.guidSet.has(e.guid)&&this.sortedGUIDs.push(e.guid))}}else this.sortedGUIDs=this.props.guids}render(){return s.createElement(p.HeaderModal,{title:`Rename ${this.sortedGUIDs.length} layers`,isCloseHidden:!1,maxWidth:492,fixedTop:!0,onClose:this.hideModal},s.createElement("div",{className:I.container},s.createElement("div",{className:I.previewAndLinkContainer},s.createElement("div",{className:I.previewContainer,onKeyDown:this.onKeyDown},s.createElement("div",{className:I.sectionHeader},"Preview"),s.createElement("div",{className:I.previewNameContainer},this.getPreviewNames()))),s.createElement("form",{className:I.form,onSubmit:this.onSubmit,onMouseDown:this.updateShouldRefocusReplaceInput},s.createElement("div",{className:I.formInputs},s.createElement("div",{className:I.patternInputContainer},s.createElement(d.TextInput,{className:I.patternInput,value:this.state.matchPattern,onFocus:this.onMatchPatternFocus,onChange:this.onMatchPatternChange,placeholder:"Match (optional)"})),s.createElement("div",{className:I.patternInputContainer},s.createElement(d.TextInput,{className:I.patternInput,value:this.state.replacePattern,onChange:this.onReplacePatternChange,onBlur:this.setReplacePatternInputSelection,placeholder:this.state.matchPattern?"Replace with":"Rename to",ref:this.replacePatternInputRef})),s.createElement("div",{className:I.patternButtonsContainer},s.createElement(d.ButtonSecondary,{type:"button",onClick:()=>{this.onPatternButtonClick(E.Match)}},this.state.matchPattern?"Current match":"Current name"),s.createElement(d.ButtonSecondary,{className:I.numberButton,type:"button",onClick:()=>{this.onPatternButtonClick(E.NumberAscending)}},"Number ",s.createElement(u.Svg,{className:I.numberArrow,svg:S})),s.createElement(d.ButtonSecondary,{className:I.numberButton,type:"button",onClick:()=>{this.onPatternButtonClick(E.NumberDescending)}},"Number ",s.createElement(u.Svg,{className:I.numberArrow,svg:f}))),s.createElement("div",{className:this.isUsingNumberPattern()?I.sequenceInputContainer:I.sequenceInputContainerDisabled},s.createElement("span",{className:I.sequenceLabel},this.state.sequenceLabel),s.createElement(m.ScrubbableIntInput,{className:I.sequenceInput,value:this.state.sequenceStart,onValueChange:this.onSequenceStartChange,disabled:!this.isUsingNumberPattern(),min:0}))),s.createElement("div",{className:I.formButtonsContainer},s.createElement(d.ButtonPrimary,{type:"submit"},"Rename"),s.createElement(d.ButtonSecondary,{type:"button",onClick:this.hideModal},"Cancel")))))}}w.displayName="RenameModal",t.RenameModal=w,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={modal:"license_agreement--modal--16g_-",scrollContainer:"license_agreement--scrollContainer--2gHHz",content:"license_agreement--content--281DO",footer:"license_agreement--footer--1Fau4"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";
// A license agreement modal to show on certain files.
Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),s=n(232                        ),r=n(1471                    ),i=n(346                                 ),a=n(376                                                  ),l=n(204                                            ),E=n(177                             ),c=n(302          ),p=n(1403                     ),A=560;t.needsLicenseAgreement=(e=>{return"apple"===(e.license||"").toLowerCase()});class I extends o.PureComponent{constructor(){super(...arguments),this.state={checked:!1},this.onChange=(e=>{this.setState({checked:e.target.checked})}),this.accept=(()=>{this.props.dispatch(s.fileBrowser.hideModal());const e=r.getEditingFile(this.props),t=this.props.selectedView.viewState;t&&"DUPLICATE"===t.landingState&&this.props.user&&c.redirect(`${e.url}/duplicate`)}),this.decline=(()=>{c.redirect("/")})}render(){const e=r.getEditingFile(this.props);return e&&"apple"===e.license.toLowerCase()?o.createElement(i.Modal,Object.assign({size:A,className:`${E.PREVENT_EVENT_CAPTURE} ${p.modal}`,disableClickOutsideToHide:!0},this.props),o.createElement(a.ScrollContainer,{width:A,className:p.scrollContainer,showScrollbar:!0},o.createElement("div",{className:p.content},o.createElement(u,null))),o.createElement("div",{className:p.footer},o.createElement(l.Checkbox,{id:"check-license-agreement",checked:this.state.checked,onChange:this.onChange}),o.createElement(l.Label,{htmlFor:"check-license-agreement"},"I have read, understood, and agree to the License Agreement."),o.createElement(l.ButtonSecondary,{onClick:this.decline},"Disagree and Cancel"),o.createElement(l.ButtonPrimary,{disabled:!this.state.checked,onClick:this.accept},"Agree and Open"))):o.createElement("div",null)}}I.displayName="LicenseAgreementModal",t.LicenseAgreementModal=I;class u extends o.PureComponent{render(){return o.createElement("div",null,o.createElement("p",null,"APPLE INC."),o.createElement("p",null,"LICENSE AGREEMENT FOR APPLE UI DESIGN RESOURCES"),o.createElement("p",null,"For iOS Application Uses Only"),o.createElement("p",null,"PLEASE READ THIS LICENSE AGREEMENT (LICENSE) CAREFULLY BEFORE USING THE APPLE UI DESIGN RESOURCES (DEFINED BELOW). BY USING THE APPLE UI DESIGN RESOURCES, YOU ARE AGREEING TO BE BOUND BY THE TERMS OF THIS LICENSE. IF YOU ARE ACCESSING THE APPLE UI DESIGN RESOURCES ELECTRONICALLY, SIGNIFY YOUR AGREEMENT TO BE BOUND BY THE TERMS OF THIS LICENSE BY CLICKING THE AGREE BUTTON. IF YOU DO NOT AGREE TO THE TERMS OF THIS LICENSE, DO NOT USE THE APPLE UI DESIGN RESOURCES AND CLICK DISAGREE. IMPORTANT NOTES:"),o.createElement("p",null,"THE APPLE UI DESIGN RESOURCES LICENSED HEREUNDER ARE TO BE USED SOLELY FOR CREATING MOCK-UPS OF USER INTERFACES DESIGNED FOR USE IN SOFTWARE PRODUCTS THAT RUN SOLELY ON APPLES iOS OPERATING SYSTEM."),o.createElement("p",null,"If you are entering into this License on behalf of your company or organization, you or your refers to such entity as well, and you represent that you have legal authority to bind your company or organization to the terms of this License."),o.createElement("p",null,"1. General."),o.createElement("p",null,"A. The Apple software, interfaces, content, templates, data, and other materials accompanying this License, whether on disk, print or electronic documentation, in read only memory, or any other media or in any other form (collectively the Apple UI Design Resources) are licensed, not sold, to you by Apple Inc. (Apple) for use only under the terms of this License. Apple and/or Apples licensors retain ownership of the Apple UI Design Resources and reserve all rights not expressly granted to you. The terms of this License will govern any software upgrades provided to you by Apple that replace and/or supplement the original Apple UI Design Resources, unless such upgrade is accompanied by a separate license in which case the terms of that license will govern."),o.createElement("p",null,"B. To the extent that the Apple San Francisco font is included with the Apple UI Design Resources, it is subject to a separate license agreement. If you want to install and use the Apple San Francisco font, you must first accept the separate license agreement that accompanies the font."),o.createElement("p",null,"C. Title and intellectual property rights in and to any content displayed by or accessed through the Apple UI Design Resources belongs to the respective content owner. Such content may be protected by copyright or other intellectual property laws and treaties, and may be subject to terms of use of the third party providing such content. This License does not grant you any rights to use such content nor does it guarantee that such content will continue to be available to you."),o.createElement("p",null,"2. Permitted License Uses and Restrictions."),o.createElement("p",null,"A. Limited License. Subject to the terms of this License, you are granted a limited, non-transferable, non-exclusive license to use the Apple UI Design Resources solely for creating mock-ups of user interfaces designed for use in software products that run solely on Apples iOS operating system (Mock-Ups). The foregoing right includes the right to show the Apple UI Design Resources in screen shots, images or other depictions of such Mock-Ups. You may use the Apple UI Design Resources only for the purposes described in this License and only if you are a registered Apple Developer, or as otherwise expressly permitted by Apple in writing."),o.createElement("p",null,"B. Other Use Restrictions. The grants set forth in this License do not permit you to, and you agree not to, install, use or run the Apple UI Design Resources for the purpose of creating mock-ups of user interfaces to be used in software products running on any non-Apple iOS operating system. You may not embed the Apple UI Design Resources in any software programs or other products. Except as expressly provided for herein, you may not use the Apple UI Design Resources to, create, develop, display or otherwise distribute any documentation, artwork, website content or any other work product. Except as otherwise expressly permitted by the terms of this License or as otherwise licensed by Apple, you may not make the Apple UI Design Resources available over a network where they could be run or used by multiple computers at the same time. You may not rent, lease, lend, trade, transfer, sell, sublicense or otherwise redistribute the Apple UI Design Resources in any unauthorized way, or enable others to do so."),o.createElement("p",null,"C. Template Content. The Apple UI Design Resources licensed hereunder contain content such as interfaces, graphics, artwork, images, and similar content (individually and collectively, the Template Content), for use in creating your Mock-Ups in accordance with this License. To the extent that you provide Mock-Ups you create using the Template Content to any other party, you agree to ensure that each such recipient is aware of the restrictions set forth in this License including, without limitation, the restriction on extraction of Template Content and the requirement that the Template Content be used only for Mock-Ups of user interfaces for software products that would run solely on Apples iOS operating system. The Template Content may not otherwise be used, extracted, copied, modified, distributed, or repackaged as content, clip art, stock animation, or similar assets, or in any other manner."),o.createElement("p",null,"D. No Reverse Engineering; Limitations. You may not, and you agree not to or to enable others to, copy (except as expressly permitted by this License), decompile, reverse engineer, disassemble, attempt to derive the source code of, decrypt, modify, create derivative works of the Apple UI Design Resources or any part thereof (except as and only to the extent any foregoing restriction is prohibited by applicable law)."),o.createElement("p",null,"E. Compliance with Laws. You agree to use the Apple UI Design Resources in compliance with all applicable laws, including local laws of the country or region in which you reside or in which you download or use the Apple UI Design Resources."),o.createElement("p",null,"3. No Transfer or Assignment."),o.createElement("p",null,"Except as otherwise set forth herein, you may not transfer the Apple UI Design Resources without Apples express prior written approval. All components of the Apple UI Design Resources are provided as part of a bundle and may not be separated from the bundle and distributed on a standalone basis. This License may not be assigned by you, nor may the rights granted hereunder be transferred by you, in whole or in part, through acquisition, merger or otherwise, without the prior written consent of a duly authorized representative of Apple. Any attempted assignment in contravention of this section shall be void."),o.createElement("p",null,"4. Termination."),o.createElement("p",null,"This License shall commence upon your installation or use of the Apple UI Design Resources. Your rights under this License will terminate automatically or cease to be effective without notice from Apple (a) if you fail to comply with any term(s) of this License, (b) if you are no longer a registered Apple Developer, or (c) if Apple releases a version of the Apple UI Design Resources which is incompatible with this version of the Apple UI Design Resources. Upon the termination of this License, you shall cease all use of the Apple UI Design Resources and destroy all copies, full or partial, of the Apple UI Design Resources. Section 2B, 2D, and 5 through 10 of this License shall survive any termination."),o.createElement("p",null,"5. Disclaimer of Warranties."),o.createElement("p",null,"A. YOU EXPRESSLY ACKNOWLEDGE AND AGREE THAT, TO THE EXTENT PERMITTED BY APPLICABLE LAW, USE OF THE APPLE UI DESIGN RESOURCES IS AT YOUR SOLE RISK AND THAT THE ENTIRE RISK AS TO SATISFACTORY QUALITY, PERFORMANCE, ACCURACY AND EFFORT IS WITH YOU."),o.createElement("p",null,"B. TO THE MAXIMUM EXTENT PERMITTED BY APPLICABLE LAW, THE APPLE UI DESIGN RESOURCES IS PROVIDED AS IS AND AS AVAILABLE, WITH ALL FAULTS AND WITHOUT WARRANTY OF ANY KIND, AND APPLE AND APPLES LICENSORS (COLLECTIVELY REFERRED TO AS APPLE FOR THE PURPOSES OF SECTIONS 5 AND 6) HEREBY DISCLAIM ALL WARRANTIES AND CONDITIONS WITH RESPECT TO THE APPLE UI DESIGN RESOURCES, EITHER EXPRESS, IMPLIED OR STATUTORY, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES AND/OR CONDITIONS OF MERCHANTABILITY, SATISFACTORY QUALITY, FITNESS FOR A PARTICULAR PURPOSE, ACCURACY, QUIET ENJOYMENT, AND NON-INFRINGEMENT OF THIRD PARTY RIGHTS."),o.createElement("p",null,"C. APPLE DOES NOT WARRANT AGAINST INTERFERENCE WITH YOUR ENJOYMENT OF THE APPLE UI DESIGN RESOURCES, THAT THE FUNCTIONS CONTAINED IN THE APPLE UI DESIGN RESOURCES WILL MEET YOUR REQUIREMENTS, THAT THE OPERATION OF THE APPLE UI DESIGN RESOURCES WILL BE UNINTERRUPTED OR ERROR-FREE, THAT THE APPLE UI DESIGN RESOURCES WILL BE COMPATIBLE OR WORK WITH ANY THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, OR THAT DEFECTS IN THE APPLE UI DESIGN RESOURCES WILL BE CORRECTED. INSTALLATION OF THIS APPLE UI DESIGN RESOURCES MAY AFFECT THE AVAILABILITY AND USABILITY OF THIRD PARTY SOFTWARE, APPLICATIONS OR THIRD PARTY SERVICES, AS WELL AS APPLE PRODUCTS AND SERVICES."),o.createElement("p",null,"D. YOU FURTHER ACKNOWLEDGE THAT THE APPLE UI DESIGN RESOURCES IS NOT INTENDED OR SUITABLE FOR USE IN SITUATIONS OR ENVIRONMENTS WHERE THE FAILURE OR TIME DELAYS OF, OR ERRORS OR INACCURACIES IN THE CONTENT, DATA OR INFORMATION PROVIDED BY, THE APPLE UI DESIGN RESOURCES COULD LEAD TO DEATH, PERSONAL INJURY, OR SEVERE PHYSICAL OR ENVIRONMENTAL DAMAGE, INCLUDING WITHOUT LIMITATION THE OPERATION OF NUCLEAR FACILITIES, AIRCRAFT NAVIGATION OR COMMUNICATION SYSTEMS, AIR TRAFFIC CONTROL, LIFE SUPPORT OR WEAPONS SYSTEMS."),o.createElement("p",null,"E. NO ORAL OR WRITTEN INFORMATION OR ADVICE GIVEN BY APPLE OR AN APPLE AUTHORIZED REPRESENTATIVE SHALL CREATE A WARRANTY. SHOULD THE APPLE UI DESIGN RESOURCES PROVE DEFECTIVE, YOU ASSUME THE ENTIRE COST OF ALL NECESSARY SERVICING, REPAIR OR CORRECTION."),o.createElement("p",null,"6. Limitation of Liability."),o.createElement("p",null,"TO THE EXTENT NOT PROHIBITED BY APPLICABLE LAW, IN NO EVENT SHALL APPLE BE LIABLE FOR PERSONAL INJURY, OR ANY INCIDENTAL, SPECIAL, INDIRECT OR CONSEQUENTIAL DAMAGES WHATSOEVER, INCLUDING, WITHOUT LIMITATION, DAMAGES FOR LOSS OF PROFITS, CORRUPTION OR LOSS OF DATA, FAILURE TO TRANSMIT OR RECEIVE ANY DATA OR INFORMATION, BUSINESS INTERRUPTION OR ANY OTHER COMMERCIAL DAMAGES OR LOSSES, ARISING OUT OF OR RELATED TO YOUR USE OR INABILITY TO USE THE APPLE UI DESIGN RESOURCES OR ANY THIRD PARTY SOFTWARE, APPLICATIONS, OR SERVICES IN CONJUNCTION WITH THE APPLE UI DESIGN RESOURCES, HOWEVER CAUSED, REGARDLESS OF THE THEORY OF LIABILITY (CONTRACT, TORT OR OTHERWISE) AND EVEN IF APPLE HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OR LIMITATION OF LIABILITY FOR PERSONAL INJURY, OR OF INCIDENTAL OR CONSEQUENTIAL DAMAGES, SO THIS LIMITATION MAY NOT APPLY TO YOU. In no event shall Apples total liability to you for all damages (other than as may be required by applicable law in cases involving personal injury) exceed the amount of fifty dollars ($50.00). The foregoing limitations will apply even if the above stated remedy fails of its essential purpose."),o.createElement("p",null,"7. Export Control."),o.createElement("p",null,"You may not use or otherwise export or re-export the Apple UI Design Resources except as authorized by United States law and the laws of the jurisdiction(s) in which the Apple UI Design Resources was obtained. In particular, but without limitation, the Apple UI Design Resources may not be exported or re-exported (a) into any U.S. embargoed countries or (b) to anyone on the U.S. Treasury Departments list of Specially Designated Nationals or the U.S. Department of Commerce Denied Persons List or Entity List or any other restricted party lists. By using the Apple UI Design Resources, you represent and warrant that you are not located in any such country or on any such list. You also agree that you will not use the Apple UI Design Resources for any purposes prohibited by United States law, including, without limitation, the development, design, manufacture or production of missiles, nuclear, chemical or biological weapons."),o.createElement("p",null,"8. Government End Users."),o.createElement("p",null,"The Apple UI Design Resources and related documentation are Commercial Items, as that term is defined at 48 C.F.R. 2.101, consisting of Commercial Computer Software and Commercial Computer Software Documentation, as such terms are used in 48 C.F.R. 12.212 or 48 C.F.R. 227.7202, as applicable. Consistent with 48 C.F.R. 12.212 or 48 C.F.R. 227.7202-1 through 227.7202-4, as applicable, the Commercial Computer Software and Commercial Computer Software Documentation are being licensed to U.S. Government end users (a) only as Commercial Items and (b) with only those rights as are granted to all other end users pursuant to the terms and conditions herein. Unpublished-rights reserved under the copyright laws of the United States."),o.createElement("p",null,"9. Controlling Law and Severability."),o.createElement("p",null,"This License will be governed by and construed in accordance with the laws of the State of California, excluding its conflict of law principles. This License shall not be governed by the United Nations Convention on Contracts for the International Sale of Goods, the application of which is expressly excluded. If for any reason a court of competent jurisdiction finds any provision, or portion thereof, to be unenforceable, the remainder of this License shall continue in full force and effect."),o.createElement("p",null,"10. Complete Agreement; Governing Language."),o.createElement("p",null,"This License constitutes the entire agreement between you and Apple relating to the use of the Apple UI Design Resources licensed hereunder and supersedes all prior or contemporaneous understandings regarding such subject matter. No amendment to or modification of this License will be binding unless in writing and signed by Apple. The parties hereto confirm that they have requested that this Agreement and all related documents be drafted in English. Les parties ont exig que le prsent contrat et tous les documents connexes soient rdigs en anglais."),o.createElement("p",null,"EA1441"),o.createElement("p",null,"12/02/2016"))}}u.displayName="AppleLicenseAgreement",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,e){n.exports={container:"configure_saml--container--3e-jr",section:"configure_saml--section--22spN",lastSection:"configure_saml--lastSection--1hEi5",h2:"configure_saml--h2--7iHV8",blueLink:"configure_saml--blueLink--Dr4Wu blue_link--blueLink--22X56",error:"configure_saml--error--fNjfo",idpMetadataUrlInput:"configure_saml--idpMetadataUrlInput--1cFs4",important:"configure_saml--important--FTIwk",idpMetadataUrl:"configure_saml--idpMetadataUrl--2YA_g",buttonBox:"configure_saml--buttonBox--1UQP2",checkboxConfirmButtonBox:"configure_saml--checkboxConfirmButtonBox--aAi63",spinnerContainer:"configure_saml--spinnerContainer--1g7V4"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(34,1   ),o=a(97      ),s=a(199      ),n=a(232                        ),r=a(204                                            ),l=a(1359                                      ),d=a(211                                              ),c=a(1348                                                                 ),m=a(1417                       ),p=a(1405                  ),h=a(147                                        ),u=a(0                    );class _ extends i.PureComponent{constructor(e){super(e),this.onIdpNameChange=(e=>{this.setState({idp_name:e})}),this.onIdpMetadataUrlChange=(e=>{this.setState({idp_metadata_url:e.currentTarget.value})}),this.onCancel=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.onConfirm=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:m.AppModal.CONFIGURE_SAML_CONFIRMATION_MODAL,data:{idp_name:this.state.idp_name,idp_metadata_url:this.state.idp_metadata_url}}))}),this.onKeyDown=(e=>{e.keyCode===s.Key.ENTER&&(e.preventDefault(),this.onConfirm())}),this.state={idp_name:e.idp_name||"okta",idp_metadata_url:e.idp_metadata_url||""}}render(){const e=u.default().feature_flags.onelogin_configure_sso?_.IDP_NAME_OPTIONS.concat(_.ONELOGIN_NAME_OPTION):_.IDP_NAME_OPTIONS,t=!this.state.idp_name||!this.state.idp_metadata_url,a=(e.find(e=>e.value===this.state.idp_name)||e[0]).placeholder;return i.createElement(d.HeaderModal,{title:"Configure SAML SSO",maxWidth:459,onClose:this.onCancel},i.createElement("div",{className:p.container},i.createElement("div",{className:p.section},"SAML Single Sign-On allows you to manage your users with a third-party identity provider (IdP). For more information on where to find this information, view",i.createElement("a",{className:p.blueLink,href:"https://help.figma.com/article/getting-started-with-saml-sso",target:"_blank",rel:"noopener"},"this help article"),"."),i.createElement("div",{className:p.section},i.createElement("div",{className:p.h2},"Identity Provider (IdP)"),i.createElement(l.RadioGroup,{value:this.state.idp_name,onChange:this.onIdpNameChange},e.map(e=>i.createElement(l.RadioOption,{key:e.value,value:e.value},e.text)))),i.createElement("div",{className:p.section},i.createElement("div",{className:p.h2},"IdP Metadata URL"),i.createElement(r.TextInput,{type:"url",className:p.idpMetadataUrlInput,placeholder:`Eg: ${a}`,onChange:this.onIdpMetadataUrlChange,value:this.state.idp_metadata_url,onKeyDown:this.onKeyDown})),this.props.error&&i.createElement("div",{className:p.section},i.createElement("div",{className:p.error},this.props.error)),i.createElement("div",{className:p.buttonBox},i.createElement(r.ButtonSecondary,{onClick:this.onCancel},"Cancel"),i.createElement(r.ButtonPrimary,{disabled:t,onClick:this.onConfirm},"Review"))))}}_.displayName="ConfigureSAMLModal",_.ONELOGIN_NAME_OPTION=[{value:"onelogin",text:"OneLogin",placeholder:"https://app.onelogin.com/saml/metadata/123-abc-456a-bcd4-789abc"}],_.IDP_NAME_OPTIONS=[{value:"okta",text:"Okta",placeholder:"https://example.okta.com/app/abc123/sso/saml/metadata"},{value:"azure",text:"Microsoft Azure Active Directory",placeholder:"https://login.microsoftonline.com/fedcba09-8765-4321-abcd-ef1234567890/federationmetadata/2007-06/federationmetadata.xml?appid=567890ab-cdef-1234-5678-90abcdef1234"}],t.ConfigureSAMLModal=_;t.ConfigureSAMLConfirmationModal=class extends i.PureComponent{constructor(e){super(e),this.onEdit=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:m.AppModal.CONFIGURE_SAML_MODAL,data:{idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url}}))}),this.onCancel=(()=>{this.props.dispatch(n.fileBrowser.hideModal())}),this.onConfirm=(()=>{this.setState({busy:!0}),o.default.post("/api/org_saml_config",{org_id:this.props.currentOrgId,idp_name:this.props.idp_name,metadata_url:this.props.idp_metadata_url}).then(e=>{this.setState({busy:!1}),this.props.dispatch(n.orgSamlConfig.set({orgSamlConfig:e.data.meta})),this.props.dispatch(n.fileBrowser.hideModal())}).catch(e=>{this.setState({busy:!1}),this.props.dispatch(n.fileBrowser.showModal({type:m.AppModal.CONFIGURE_SAML_MODAL,data:{idp_name:this.props.idp_name,idp_metadata_url:this.props.idp_metadata_url,error:e.data&&e.data.message||"An error occurred while configuring SAML SSO."}}))})}),this.state={busy:!1}}render(){const e=(u.default().feature_flags.onelogin_configure_sso?_.IDP_NAME_OPTIONS.concat(_.ONELOGIN_NAME_OPTION):_.IDP_NAME_OPTIONS).reduce((e,t)=>(e[t.value]=t.text,e),{});return i.createElement(d.HeaderModal,{title:"Configure SAML SSO",maxWidth:459,onClose:this.onCancel,disableClickOutsideToHide:this.state.busy,isCloseHidden:this.state.busy},i.createElement("div",{className:p.container},i.createElement("div",{className:p.section},"Please review the information you entered. This is the ",i.createElement("span",{className:p.important},"only time")," you will be able to make changes without contacting customer support."),i.createElement("div",{className:p.section},i.createElement("div",{className:p.h2},"Identity Provider (IdP)"),i.createElement("div",null,e[this.props.idp_name])),i.createElement("div",{className:p.lastSection},i.createElement("div",{className:p.h2},"IdP Metadata URL"),i.createElement("div",{className:p.idpMetadataUrl},this.props.idp_metadata_url)),this.state.busy&&i.createElement("div",{className:p.spinnerContainer},i.createElement(h.LoadingSpinner,null)),!this.state.busy&&i.createElement(c.CheckboxConfirmButtons,{onConfirm:this.onConfirm,onCancel:this.onEdit,confirmButtonText:"Configure SAML SSO",cancelButtonText:"Edit",className:p.checkboxConfirmButtonBox},i.createElement("div",null,"This information is correct, and I understand that I will ",i.createElement("span",{className:p.important},"not be able to make further changes")," without contacting customer support."))))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,e){o.exports={important:"leave_org_comfirm--important--wHIAw modal--important--1ZRxD",modalText:"leave_org_comfirm--modalText--Wb73f"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(34,1   ),r=t(232                        ),s=t(346                                 ),i=t(1407                                                );class n extends o.PureComponent{constructor(){super(...arguments),this.leaveOrg=(()=>{this.props.dispatch(r.orgUser.leaveOrg({orgId:this.props.orgId,orgName:this.props.orgName}))})}render(){return o.createElement(s.ConfirmationModal,{confirmationTitle:`Leave ${this.props.orgName} Organization`,confirmText:`Leave ${this.props.orgName}`,onConfirm:this.leaveOrg,destructive:!0,tintedModalBackground:!0,dispatch:this.props.dispatch},o.createElement("div",{className:i.modalText},"You are currently a ",o.createElement("span",{className:i.important},"Guest")," at ",o.createElement("span",{className:i.important},this.props.orgName)," Organization. If you leave the organization you will lose access to all content that has been shared with you. The operation cannot be undone."))}}n.displayName="OrgLeaveModal",a.OrgLeaveModal=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,t,e){l.exports={id:null,src:'<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M2 14C2 7.373 7.373 2 14 2c6.627 0 12 5.373 12 12 0 6.627-5.373 12-12 12-6.627 0-12-5.373-12-12z" fill="#6fcf97"/><path d="M11.674 18.592l-.227.046-2.702.54-1.124.225.225-1.124.54-2.702.046-.227.163-.164 8.106-8.105c.597-.597 1.565-.597 2.162 0l1.08 1.08c.597.597.597 1.565 0 2.162l-8.105 8.106-.164.163z" fill-rule="evenodd" fill="#fff"/><path d="M11.447 18.638l.227-.046.164-.163 6.299-6.3.54-.54 1.266-1.266c.597-.597.597-1.565 0-2.161l-1.08-1.081c-.597-.597-1.565-.597-2.162 0l-1.266 1.266-.54.54-6.3 6.3-.163.163-.046.227-.54 2.702-.225 1.124 1.124-.225 2.702-.54zm3.988-9.21l-6.3 6.299-.377 1.89-.163.812.812-.163 1.89-.378 6.3-6.299-2.162-2.161zm.54-.54l2.162 2.16 1.266-1.265c.298-.299.298-.783 0-1.081l-1.08-1.08c-.3-.3-.783-.3-1.082 0l-1.266 1.265z" fill-rule="evenodd"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(l,t,c){l.exports={id:null,src:'<svg width="28" height="28" xmlns="http://www.w3.org/2000/svg"><path d="M2 13.688c0-6.352 5.149-11.5 11.5-11.5 6.351 0 11.5 5.148 11.5 11.5 0 6.35-5.149 11.5-11.5 11.5-6.351 0-11.5-5.15-11.5-11.5z" fill="#2f80ed"/><path d="M9.327 15.117c.46 2.229 2.432 3.904 4.797 3.904.536 0 1.052-.086 1.535-.245l2.274 2.274 3.148-3.148-2.29-2.29c.15-.47.23-.97.23-1.488 0-2.28-1.556-4.195-3.664-4.741L7 7l2.327 8.117z" fill="#fff"/><path d="M17.933 19.79l-1.644-1.644-.388-.388-.52.172c-.418.14-.795.204-1.257.2-1.934 0-3.55-1.37-3.925-3.192l-.007-.034-.009-.032-1.885-6.576 6.814 1.943.01.003.011.003c1.725.447 2.998 2.015 2.998 3.879.003.447-.057.812-.188 1.217l-.165.517.384.383 1.66 1.66-1.889 1.89zm-8.606-4.673c.46 2.229 2.432 3.904 4.797 3.904.536 0 1.052-.086 1.535-.245l1.645 1.644.63.63.629-.63 1.889-1.889.63-.63-.63-.63-1.66-1.66c.149-.469.23-.969.23-1.487 0-2.28-1.557-4.195-3.665-4.741L8.009 7.288 7 7l.29 1.008 2.037 7.11zM8.205 7.576L7.89 7.26l-.63.63.316.314 6.233 6.234.315.315.63-.63-.316-.315-6.233-6.233zm7.254 6.548c0 .737-.598 1.335-1.335 1.335-.738 0-1.336-.598-1.336-1.335 0-.738.598-1.336 1.336-1.336.737 0 1.335.598 1.335 1.336z"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(l,t,f){l.exports={id:null,src:'<svg width="64" height="64" xmlns="http://www.w3.org/2000/svg"><path d="M59 32c0 14.912-12.088 27-27 27C17.088 59 5 46.912 5 32 5 17.088 17.088 5 32 5c14.912 0 27 12.088 27 27z" fill="#f2c94c"/><path d="M26.291 45.844l-5.338-26.688L44 33.088l-11.088 3.01-6.621 9.746z" fill="#010101"/><path d="M19.527 17.126l26.99 16.315-12.986 3.524-7.753 11.413-6.25-31.252zm2.852 4.06l4.425 22.123 5.489-8.08 9.19-2.494-19.104-11.548z" fill-rule="evenodd" fill="#fff"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(l,c,t){l.exports={id:null,src:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M27 16.5C27 22.299 22.299 27 16.5 27 10.701 27 6 22.299 6 16.5 6 10.701 10.701 6 16.5 6 22.299 6 27 10.701 27 16.5z" fill="#2c2c2c"/><path d="M16.486 14.092c-.032-.118-.127-.399-.371-.679-.32-.366-.891-.731-1.906-.731-2.034 0-2.482 1.469-2.482 1.469v5.999h.835c.777-.665 2.197-.633 3.026-.068.202.137.382.308.534.504.158.204.286.435.378.687.093-.252.221-.483.38-.686.152-.195.332-.365.533-.502.83-.562 2.249-.593 3.024.071H21.273v-6.005c0 0-.448-1.47-2.482-1.47-1.014 0-1.587.366-1.906.732-.244.28-.34.56-.371.679h-.028zm-.303.167h-.303l-.004.001v.003l.001.002v.004l.001.002-.004-.016c-.005-.02-.015-.053-.033-.096-.035-.087-.097-.207-.202-.328-.192-.221-.587-.516-1.43-.516-.845 0-1.305.298-1.555.548-.132.132-.216.263-.267.357l-.026.053v5.236c.5-.34 1.114-.483 1.69-.488.66-.005 1.354.17 1.894.537.082.057.162.117.238.181v-5.48zm.634 0v5.485c.077-.065.157-.126.24-.183.54-.366 1.235-.54 1.894-.534.575.006 1.188.148 1.688.488v-5.242l-.026-.053c-.05-.094-.135-.225-.267-.357-.25-.25-.71-.548-1.555-.548-.843 0-1.238.295-1.43.516-.105.12-.167.241-.202.328-.018.043-.028.077-.033.096l-.004.016v-.006l.001-.002v-.002l-.003-.002h-.303z" fill-rule="evenodd" fill="#fff"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(l,t,c){l.exports={id:null,src:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M16.5 6.5c-5.523 0-10 4.477-10 10 0 5.523 4.477 10 10 10 5.523 0 10-4.477 10-10 0-5.523-4.477-10-10-10zm-11 10c0-6.075 4.925-11 11-11 6.075 0 11 4.925 11 11 0 6.075-4.925 11-11 11-6.075 0-11-4.925-11-11z" fill-rule="evenodd" fill="#2c2c2c"/><path d="M25.09 16.5c0 4.745-3.845 8.59-8.59 8.59-4.745 0-8.59-3.845-8.59-8.59 0-4.745 3.845-8.59 8.59-8.59 4.745 0 8.59 3.845 8.59 8.59z" fill="#2c2c2c"/><path d="M17.861 17.62h-2.727l-.612 1.744h-.886l2.486-6.682h.751l2.49 6.682h-.88l-.622-1.744zm-2.468-.725h2.213l-1.108-3.126-1.105 3.126z" fill="#fff"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(t,l,c){t.exports={id:null,src:'<svg width="32" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M27 16.5C27 22.299 22.299 27 16.5 27 10.701 27 6 22.299 6 16.5 6 10.701 10.701 6 16.5 6 22.299 6 27 10.701 27 16.5z" fill="#2c2c2c"/><path d="M16.5 20c-2.676 0-5.024-1.398-6.345-3.5 1.322-2.102 3.669-3.5 6.345-3.5 2.676 0 5.023 1.398 6.345 3.5-1.322 2.102-3.669 3.5-6.345 3.5zm0-8c3.253 0 6.079 1.824 7.5 4.5-1.421 2.676-4.247 4.5-7.5 4.5-3.253 0-6.079-1.824-7.5-4.5 1.421-2.676 4.247-4.5 7.5-4.5zm0 7c1.38 0 2.5-1.12 2.5-2.5 0-1.38-1.12-2.5-2.5-2.5-1.38 0-2.5 1.12-2.5 2.5 0 1.38 1.12 2.5 2.5 2.5z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,t,r){o.exports={topBox:"pro_pitch_modal--topBox--1AVo7",container:"pro_pitch_modal--container--qZjJj",borderedBox:"pro_pitch_modal--borderedBox--1Mamr",leftBox:"pro_pitch_modal--leftBox--1TWnZ pro_pitch_modal--borderedBox--1Mamr",rightSide:"pro_pitch_modal--rightSide--FN710",rightSideSeparator:"pro_pitch_modal--rightSideSeparator--3itsH",rightBox:"pro_pitch_modal--rightBox--2-6l1 pro_pitch_modal--borderedBox--1Mamr",icon:"pro_pitch_modal--icon--37Wj2",boxTitle:"pro_pitch_modal--boxTitle--3Mf48",boxSubtitle:"pro_pitch_modal--boxSubtitle--1cJQB",boxDescription:"pro_pitch_modal--boxDescription--2yDAr",leftBoxDescription:"pro_pitch_modal--leftBoxDescription--3wz9c",boxCta:"pro_pitch_modal--boxCta--2EP0H",boxSpreader:"pro_pitch_modal--boxSpreader--29LPm",upgradeButton:"pro_pitch_modal--upgradeButton--2YQZT",leftBoxContent:"pro_pitch_modal--leftBoxContent--mo-ie"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(34,1   ),o=i(232                    ),r=i(144                                 ),s=i(204                                                     ),n=i(220                  ),c=i(1409                                       ),l=i(1410                                    ),p=i(1411                                   ),d=i(1412                                                 ),m=i(1413                                                  ),h=i(1414                                                    ),g=i(1415                   ),u=i(302                   ),_=i(211                          );class E extends a.Component{constructor(){super(...arguments),this.ctaClick=(()=>{u.redirect(this.props.href,"_blank"),n.trackCtaClicked({category:[n.CtaCategories.UPGRADE_EXPERIENCE],location:"modal",type:"button",teamId:this.props.teamId,text:this.props.buttonText,description:`Pro Pitch Modal ${this.props.buttonText} CTA Clicked`})})}render(){return a.createElement("div",{className:`${g.rightBox}`},a.createElement(r.Svg,{className:g.icon,svg:this.props.icon,useOriginalSrcFills:!0}),a.createElement("p",{className:g.boxTitle},this.props.title),a.createElement("p",{className:g.boxDescription},this.props.description),a.createElement("div",{className:g.boxSpreader}),a.createElement("div",{className:g.boxCta},a.createElement(s.ButtonSecondary,{onClick:this.ctaClick,target:"_blank",href:this.props.href,disabled:!this.props.href},this.props.buttonText)))}}class v extends a.Component{render(){return a.createElement("div",{className:g.leftBoxContent},a.createElement(r.Svg,{className:g.icon,svg:this.props.icon,useOriginalSrcFills:!0}),a.createElement("p",{className:g.boxDescription},this.props.content))}}t.ProPitchModal=class extends a.Component{constructor(){super(...arguments),this.upgrade=(()=>{n.trackCtaClicked({location:"modal",text:"upgrade",category:[n.CtaCategories.UPGRADE_EXPERIENCE],type:"button",teamId:this.props.teamId,description:"Pro Pitch Upgrade CTA Clicked"}),this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.payment.startProUpgradeFlow({teamId:this.props.teamId,selectedView:this.props.selectedView}))}),this.onCancel=(()=>{this.props.dispatch(o.fileBrowser.hideModal())}),this.hideIfWindowTooSmall=(()=>{window.innerWidth<1e3&&this.props.dispatch(o.fileBrowser.hideModal())})}componentDidMount(){window.addEventListener("resize",this.hideIfWindowTooSmall),n.trackModalView({modal:"pro-pitch",teamId:this.props.teamId})}componentWillUnmount(){window.removeEventListener("resize",this.hideIfWindowTooSmall)}render(){return window.innerWidth<1e3?a.createElement("div",null):a.createElement(_.HeaderModal,{title:"Upgrade Team",onClose:this.onCancel,maxWidth:868},a.createElement("div",{className:g.topBox},a.createElement("div",{className:`${g.container} ${g.leftBox}`},a.createElement(r.Svg,{className:g.icon,svg:p,useOriginalSrcFills:!0}),a.createElement("p",{className:g.boxTitle},"Professional"),a.createElement("p",{className:g.boxSubtitle},"Starting at $12/editor/month"),a.createElement(v,{icon:d,content:"Build out a full design system with unlimited shared components using Team Library"}),a.createElement(v,{icon:m,content:"Collaborate across your entire organization with unlimited editors"}),a.createElement(v,{icon:h,content:"Get unlimited version history, projects and advanced project permissions"}),a.createElement("div",{className:g.boxSpreader}),a.createElement("div",{className:g.boxCta},a.createElement(s.ButtonGreen,{onClick:this.upgrade},a.createElement("div",{className:g.upgradeButton},"Upgrade")))),a.createElement("div",{className:`${g.rightSide} ${g.container}`},a.createElement(E,{teamId:this.props.teamId,icon:c,title:"Starter",description:"Collaborate on up to three projects with no more than two editors",buttonText:"Current Plan"}),a.createElement("div",{className:g.rightSideSeparator}),a.createElement(E,{teamId:this.props.teamId,icon:l,title:"Organization",description:"Connect multiple files, projects, libraries and teams securely across an entire organization",buttonText:"Learn More",href:"/organization"}))))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(351                                               ),r=s(34,1   ),i=s(126                     ),o=s(352                      ),_=s(354                         ),n=s(356                                                            ),p=s(173                        ),l=s(358                                           ),E=s(359                                   ),d=s(360                                      ),O=s(361                                          ),m=s(364                                          ),c=s(365                                             ),M=s(366                                            ),A=s(367                                           ),L=s(368                                                 ),D=s(369                                                                ),I=s(713                                                                             ),h=s(371                       ),N=s(718                                                                   ),g=s(719                                                                           ),S=s(723                                               ),R=s(724                                                                   ),u=s(736                                        ),T=s(738                                                           ),f=s(740                                ),C=s(741                                   ),w=s(743                                                         ),P=s(1277                                                                             ),F=s(1278                                  ),v=s(1288                                                ),b=s(1290                                                        ),U=s(1292                                                          ),y=s(1294                                                              ),V=s(1299                                                                   ),j=s(1300                                                             ),G=s(1303                                                                        ),W=s(281                                  ),H=s(1310                                                              ),K=s(1311                        ),B=s(1312                                ),Y=s(1314                                       ),k=s(1315                                   ),x=s(1316                                       ),Q=s(1328                                    ),X=s(1329                               ),q=s(1330                                      ),Z=s(1331                                       ),J=s(1332                                 ),z=s(1333                                     ),$=s(1334                                                      ),ee=s(1336                                            ),ae=s(1338                                              ),se=s(1372                                                     ),te=s(1374                                                       ),re=s(604                             ),ie=s(1375                                      ),oe=s(1376                                     ),_e=s(1377                                          ),ne=s(670                                               ),pe=s(669                                                     ),le=s(667                                                     ),Ee=s(1379                                                  ),de=s(1381                                          ),Oe=s(1397                                           ),me=s(1402                               ),ce=s(1404                                                 ),Me=s(346                   ),Ae=s(172                     ),Le=s(1370                                        ),De=s(1406                                         ),Ie=s(1408                              ),he=s(1416                     ),Ne=s(712                                  );class ge extends r.Component{render(){if(Ae.isOrgSuspended(this.props.currentOrgId,this.props))return r.createElement(Ee.OrgSuspensionModal,{currentOrgId:this.props.currentOrgId,dispatch:this.props.dispatch,permissionsState:p.getPermissionsState(this.props)});if(this.props.user&&!(this.props.user.email_validated_at||o.inGracePeriod(this.props.user))&&!this.props.selectedView.userId)return r.createElement(n.EmailValidationModal,Object.assign({},this.props));let e=this.props.modalShown;if(e)switch(e.type){case ge.AUTH_MODAL:{const a=this.props.fileByKey&&this.props.fileByKey[this.props.editingFileKey],s=e.data&&e.data.headerText;return r.createElement(_.AuthModal,{file:a,headerText:s,auth:this.props.auth,dispatch:this.props.dispatch})}case ge.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING:let a=e.data.filesToDeleteByKey;return r.createElement(D.DeleteFilesUnpublishWarning,Object.assign({filesToDeleteByKey:a},this.props));case ge.FILE_DELETE_FOREVER_CONFIRM_MODAL:return r.createElement(l.DeleteForeverConfirmModal,Object.assign({},this.props));case ge.FILE_COPY_LINK_MODAL:return r.createElement(E.FileCopyLinkModal,Object.assign({modal:e},this.props));case ge.FOLDER_DELETE_CONFIRM_MODAL:return r.createElement(O.FolderDeleteConfirmModal,Object.assign({modal:e},this.props));case ge.FOLDER_SLACK_SETTINGS_MODAL:return r.createElement(m.FolderSlackSettingsModal,Object.assign({modal:e},this.props));case ge.TEAM_PERMISSIONS_MODAL:{let a=this.props.teams[e.data.teamId];return r.createElement(Oe.PermissionsModal,Object.assign({resource:a,resourceType:i.ResourceType.TEAM},this.props))}case ge.FOLDER_PERMISSIONS_MODAL:{let a=this.props.folders[e.data.folderId];return r.createElement(Oe.PermissionsModal,Object.assign({resource:a,resourceType:i.ResourceType.FOLDER},this.props))}case ge.FILE_PERMISSIONS_MODAL:{let a=this.props.fileByKey[e.data.fileKey],s=void 0;if(this.props.mirror&&this.props.mirror.appModel.pagesList&&this.props.mirror.appModel.pagesList.length>1){const e=this.props.mirror.sceneGraph.get(W.currentCanvasNodeId(this.props.mirror.appModel));e&&(s=e.name)}return r.createElement(Oe.PermissionsModal,Object.assign({resource:a,resourceType:i.ResourceType.FILE,pageName:s},this.props))}case ge.FILE_RESTORE_FROM_VERSION_MODAL:{const a=e.data.fig,s=e.data.versions;return r.createElement(T.FileRestoreFromVersionModal,{dispatch:this.props.dispatch,fig:a,versions:s})}case ge.CONFIRM_TRANSFER_OWNERSHIP_MODAL:return r.createElement(Oe.ConfirmTransferOwnershipModal,Object.assign({},e.data,this.props));case ge.CONFIRM_REMOVE_ROLE_MODAL:return r.createElement(Oe.ConfirmRemoveRoleModal,Object.assign({},e.data,this.props));case ge.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL:return r.createElement(Oe.ConfirmReduceLinkAccessAndLoseEditRights,Object.assign({},e.data,this.props));case ge.TEAM_FOLDER_MOVE_CONFIRM_MODAL:return r.createElement(c.TeamFolderMoveConfirmModal,Object.assign({modal:e},this.props));case ge.FILE_MOVE_CONFIRM_MODAL:return r.createElement(d.FileMoveConfirmModal,Object.assign({modal:e},this.props));case ge.CONFIRM_COMMENT_DELETION_MODAL:{let a=e.data.comment;return r.createElement(A.CommentDeleteConfirmModal,Object.assign({comment:a},this.props))}case ge.CONFIRM_COMMENT_MENTION_MODAL:{let{usersWithoutFileAccess:a,onCancel:s,onConfirm:t}=e.data;return r.createElement(M.CommentMentionConfirmModal,Object.assign({onConfirm:t,onCancel:s,usersWithoutFileAccess:a},this.props))}case ge.WEBGL_ERROR_MODAL:return r.createElement(f.WebGLErrorModal,Object.assign({},this.props));case ge.MEMORY_WARNING_MODAL:return r.createElement(C.MemoryWarningModal,Object.assign({warning:e.data},this.props));case ge.MULTIPLAYER_CONNECTION_ERROR_MODAL:return r.createElement(L.MultiplayerConnectionErrorModal,Object.assign({},this.props));case ge.PUBLISH_COMPONENTS_MODAL:return r.createElement(N.PublishingModal,Object.assign({},this.props));case ge.CONFIRM_UNPUBLISH_COMPONENTS:return r.createElement(g.ConfirmUnpublishModal,Object.assign({},this.props));case ge.PUBLISH_COMPONENTS_UPSELL_MODAL:return r.createElement(S.PublishUpsellModal,{localStyleLibrary:this.props.library.local.styles,editingFileKey:this.props.editingFileKey,modalShown:this.props.modalShown,permissionsState:p.getPermissionsState(this.props),dispatch:this.props.dispatch,selectedView:this.props.selectedView});case ge.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED:return r.createElement(R.NoSharedInstanceInMasterFile,Object.assign({},this.props));case ge.CHANGE_PASSWORD_MODAL:return r.createElement(k.ChangePasswordModal,Object.assign({},this.props));case ge.INVALIDATE_SESSIONS:return r.createElement(x.InvalidateSessionsModal,Object.assign({},this.props));case ge.SETUP_TWO_FACTOR_MODAL:return r.createElement(Q.SetupTwoFactorModal,Object.assign({},this.props));case ge.SETUP_PHONE_MODAL:return r.createElement(X.PhoneSetupModal,Object.assign({},this.props));case ge.DISABLE_TWO_FACTOR_MODAL:return r.createElement(q.DisableTwoFactorModal,Object.assign({},this.props));case ge.TWO_FACTOR_RECOVERY_MODAL:return r.createElement(Z.TwoFactorRecoveryModal,Object.assign({},this.props));case ge.CHANGE_EMAIL_MODAL:return r.createElement(B.ChangeEmailModal,{dispatch:this.props.dispatch});case ge.FONT_MODAL:return r.createElement(K.FontModal,Object.assign({},this.props));case ge.AVATAR_EDITOR_MODAL:return r.createElement(J.AvatarEditorModal,{avatarEditorState:this.props.avatarEditorState,dispatch:this.props.dispatch});case ge.DELETE_USER_ACCOUNT_MODAL:return r.createElement(Y.DeleteUserAccountModal,Object.assign({},this.props));case ge.FILE_MOVE_MODAL:return r.createElement(u.FileMoveModal,Object.assign({fileMove:this.props.fileMove,modalShown:this.props.modalShown,creatingNewFolder:this.props.creatingNewFolder,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch},p.getPermissionsState(this.props)));case ge.COPY_TEXT_MODAL:return r.createElement(w.CopyTextModal,{title:this.props.modalShown.data.title,text:this.props.modalShown.data.text,dispatch:this.props.dispatch});case ge.MISSING_FONTS_MODAL:return r.createElement(P.MissingFontsModal,Object.assign({fonts:this.props.fonts,missingFonts:this.props.modalShown.data.missingFonts,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,prefs:Ne.getPreferences(this.props),currentOrgId:this.props.currentOrgId},p.getPermissionsState(this.props),{editingFileKey:this.props.editingFileKey}));case ge.UPGRADING_MODAL:return r.createElement(F.UpgradingModal,{upgradingState:this.props.modalShown.data.upgradingState,dispatch:this.props.dispatch});case ge.PRO_PITCH_MODAL:return r.createElement(he.ProPitchModal,{dispatch:this.props.dispatch,teamId:e.data.teamId,selectedView:this.props.selectedView});case ge.MORE_PAYMENT_OPTIONS_MODAL:return r.createElement(v.MorePaymentOptionsModal,Object.assign({},this.props,{teamId:e.data.teamId}));case ge.CONFIRM_SEATS_MODAL:return r.createElement(v.ConfirmSeatsModal,Object.assign({},this.props));case ge.UPSELL_NEW_FOLDER_MODAL:return r.createElement(de.NewFolderUpsellModal,Object.assign({},this.props));case ge.UPSELL_MOVE_FILE_MODAL:return r.createElement(de.MoveFileUpsellModal,Object.assign({},this.props));case ge.UPSELL_ADD_EDITOR_MODAL:return r.createElement(de.AddEditorUpsellModal,Object.assign({},this.props));case ge.UPSELL_SLACK_MODAL:return r.createElement(de.SlackUpsellModal,Object.assign({},this.props));case ge.UPSELL_MOVE_FOLDER_SLACK_MODAL:return r.createElement(de.SlackUpsellMoveFolderModal,Object.assign({},this.props));case ge.TEAM_ADMIN_USER_DETAILS_MODAL:return r.createElement(b.UserDetailsModal,Object.assign({},this.props));case ge.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR:return r.createElement(b.ConfirmRemoveEditorModal,Object.assign({},this.props));case ge.TEAM_ADMIN_CHANGE_PAYMENT:return r.createElement(U.ChangePaymentModal,Object.assign({},this.props));case ge.TEAM_ADMIN_CHANGE_INVOICE_RECEIVER:return r.createElement(V.ChangeInvoiceReceiverModal,{teamId:this.props.selectedView.adminTeamId,invoiceReceiver:this.props.modalShown.data.invoiceReceiver,modalShown:this.props.modalShown,admins:this.props.modalShown.data.admins,dispatch:this.props.dispatch});case ge.TEAM_ADMIN_CONFIRM_DOWNGRADE:return r.createElement(j.ConfirmDowngradeModal,Object.assign({},this.props));case ge.TEAM_ADMIN_DOWNGRADE_SURVEY:return r.createElement(G.DowngradeSurveyModal,Object.assign({},this.props,{context:"admin"}));case ge.LEAVE_TEAM_DOWNGRADE_SURVEY:return r.createElement(G.DowngradeSurveyModal,Object.assign({},this.props,{context:"leave-team"}));case ge.TEAM_ADMIN_CHANGE_ANNUAL_PLAN:return r.createElement(y.ChangeAnnualPlanModal,Object.assign({},this.props));case ge.TEAM_ADMIN_CANCEL_ANNUAL_PLAN:return r.createElement(y.ConfirmCancelAnnualPlanModal,Object.assign({},this.props));case ge.LICENSE_AGREEMENT_MODAL:return r.createElement(ce.LicenseAgreementModal,Object.assign({},this.props));case ge.NEW_FOLDER_MODAL:return r.createElement(H.NewFolderModal,Object.assign({dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,creatingNewFolder:this.props.creatingNewFolder,modalShown:this.props.modalShown},p.getPermissionsState(this.props)));case ge.ZEPLIN_WELCOME_MODAL:return r.createElement(z.ZeplinWelcomeModal,Object.assign({},this.props));case ge.AVOCODE_WELCOME_MODAL:return r.createElement(z.AvocodeWelcomeModal,Object.assign({},this.props));case ge.DRIBBBLE_EXPORT_MODAL:return r.createElement(z.DribbbleExportModal,Object.assign({fileKey:e.data.fileKey,nodeId:e.data.nodeId},this.props));case ge.UPSELL_INVITE_ONLY_MODAL:return r.createElement(de.InviteOnlyUpsellModal,Object.assign({},this.props));case ge.UPSELL_VIEW_ONLY_MODAL:return r.createElement(de.ViewOnlyUpsellModal,Object.assign({},this.props));case ge.BLOCK_MOVING_PRIVATE_PROJECT:return r.createElement($.BlockMovingPrivateProjectModal,Object.assign({folder:this.props.modalShown.data.folder},this.props));case ge.CREATE_STYLE:return r.createElement(ee.CreateStyleModal,Object.assign({recordingKey:"createStyleModal",nodeId:this.props.modalShown.data.nodeId,type:this.props.modalShown.data.type,inheritStyleKeyField:this.props.modalShown.data.inheritStyleKeyField},this.props));case ge.SAVEPOINT_MODAL:{const a=this.props.fileByKey&&this.props.fileByKey[this.props.editingFileKey],s=e.data&&e.data.description||"",t=e.data&&e.data.label||"",i=e.data&&e.data.savepointID;return r.createElement(ae.SavepointModal,{recordingKey:"savepointModal",file:a,isHistoryMode:this.props.mirror.appModel.topLevelMode===re.TopLevelMode.HISTORY,editingSavepointID:i,label:t,description:s,dispatch:this.props.dispatch})}case ge.LIBRARY_PREFERENCES_MODAL:{const a=e.data&&e.data.tab;return r.createElement(I.LibraryPreferencesModal,Object.assign({},this.props,{tab:a,recordingKey:"libraryPreferencesModal"}))}case ge.SHARED_FONTS_MODAL:return r.createElement(I.LibraryPreferencesModal,Object.assign({},this.props,{tab:h.LibraryPreferencesModalTab.FONTS,recordingKey:"libraryPreferencesModal"}));case ge.REQUEST_ACCESS_MODAL:return r.createElement(te.RequestAccessModal,{dispatch:this.props.dispatch,team:this.props.modalShown.data.team,user:this.props.user});case ge.ORG_DASHBOARD_MODAL:return r.createElement(se.OrgDashboardModal,Object.assign({},this.props));case ge.TEAM_CONFIRM_LEAVE_MODAL:return r.createElement(ie.TeamLeaveModal,{teamId:this.props.modalShown.data.teamId,hasTeamMembers:!!this.props.modalShown.data.hasTeamMembers,permissionsState:p.getPermissionsState(this.props),dispatch:this.props.dispatch});case ge.TEAM_CONFIRM_DELETE_MODAL:{let a=this.props.teams[e.data.teamId];return r.createElement(oe.TeamDeleteModal,{team:a,dispatch:this.props.dispatch})}case ge.REQUIRE_SSO_MODAL:return r.createElement(Le.RequireSSOModal,Object.assign({dispatch:this.props.dispatch},e.data));case ge.PROVISIONING_API_TOKEN_MODAL:return r.createElement(Le.ProvisioningApiTokenModal,Object.assign({dispatch:this.props.dispatch},e.data));case ge.CONFIGURE_SAML_MODAL:return r.createElement(De.ConfigureSAMLModal,Object.assign({dispatch:this.props.dispatch},e.data));case ge.CONFIGURE_SAML_CONFIRMATION_MODAL:return r.createElement(De.ConfigureSAMLConfirmationModal,Object.assign({dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId},e.data));case ge.LEAVE_ORG_CONFIRMATION_MODAL:return r.createElement(Ie.OrgLeaveModal,Object.assign({dispatch:this.props.dispatch},e.data));case ge.LEAVE_UNSAVED_DOCUMENT_MODAL:return r.createElement(_e.LeaveUnsavedDocumentModal,Object.assign({modal:e},this.props));case ge.RENAME_MODAL:return r.createElement(me.RenameModal,{guids:e.data.guids.filter(e=>this.props.mirror.sceneGraph.get(e)),mirror:this.props.mirror,dispatch:this.props.dispatch});case ge.VIEW_RESTRICTED_FILE_MODAL:return r.createElement(t.ViewRestrictedFileModal,{user:e.data.user,dispatch:this.props.dispatch});case ge.CREATE_NEW_PLUGIN_MODAL:return r.createElement(ne.CreateNewDesktopPluginModal,Object.assign({},this.props));case ge.PLUGIN_DEV_INFO_MODAL:return r.createElement(ne.DesktopPluginDevInfoModal,Object.assign({},this.props,{pluginStorageKey:e.data.pluginStorageKey}));case ge.INTERNAL_PLUGIN_DEV_MODAL:return r.createElement(ne.InternalPluginDevModal,Object.assign({},this.props));case ge.SHOW_DEPRECATED_WEB_PLUGINS_MODAL:return r.createElement(pe.DeprecatedWebPluginModal,Object.assign({},this.props));case ge.SHARE_PLUGIN_MODAL:return r.createElement(le.SharePluginModal,Object.assign({},this.props,{pluginStorageKey:e.data.pluginStorageKey}));case ge.IMPORT_PLUGIN_MODAL:return r.createElement(le.ImportPluginModal,Object.assign({},this.props));case ge.CONFIRMATION_MODAL:return r.createElement(Me.ConfirmationModal,Object.assign({},e.data));default:return null}return null}}ge.displayName="AppModal",ge.AUTH_MODAL="auth-modal",ge.FILE_COPY_LINK_MODAL="file-copy-link-modal",ge.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING="file-delete-component-unpublish-warning",ge.FILE_DELETE_FOREVER_CONFIRM_MODAL="file-delete-confirm-modal",ge.FOLDER_DELETE_CONFIRM_MODAL="folder-delete-confirm-modal",ge.FOLDER_SLACK_SETTINGS_MODAL="folder-slack-settings-modal",ge.TEAM_PERMISSIONS_MODAL="team-permissions-modal",ge.FOLDER_PERMISSIONS_MODAL="folder-permissions-modal",ge.FILE_PERMISSIONS_MODAL="file-permissions-modal",ge.CONFIRM_TRANSFER_OWNERSHIP_MODAL="confirm-transfer-ownership-modal",ge.CONFIRM_REMOVE_ROLE_MODAL="confirm-remove-role-modal",ge.CONFIRM_REDUCE_LINK_ACCESS_AND_LOSE_EDIT_RIGHTS_MODAL="confirm-reduce-link-access-and-lose-edit-rights-modal",ge.TEAM_FOLDER_MOVE_CONFIRM_MODAL="team-folder-move-confirm-modal",ge.FILE_MOVE_CONFIRM_MODAL="file-move-confirm-modal",ge.CONFIRM_COMMENT_DELETION_MODAL="confirm-comment-deletion-modal",ge.CONFIRM_COMMENT_MENTION_MODAL="confirm-comment-mention-modal",ge.WEBGL_ERROR_MODAL="webgl-error-modal",ge.MEMORY_WARNING_MODAL="memory-warning-modal",ge.MULTIPLAYER_CONNECTION_ERROR_MODAL="multiplayer-connection-error-modal",ge.PUBLISH_COMPONENTS_MODAL="publish-components-modal",ge.CONFIRM_UNPUBLISH_COMPONENTS="confirm-unpublish-components",ge.PUBLISH_COMPONENTS_UPSELL_MODAL="publish-components-upsell",ge.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED="no-shared-instance-in-master-file-if-deleted",ge.FILE_MOVE_MODAL="file-move-modal",ge.COPY_TEXT_MODAL="COPY_TEXT_MODAL",ge.MISSING_FONTS_MODAL="MISSING_FONTS_MODAL",ge.UPGRADING_MODAL="upgrading-modal",ge.PRO_PITCH_MODAL="pro-pitch-modal",ge.MORE_PAYMENT_OPTIONS_MODAL="more-payment-options-modal",ge.CONFIRM_SEATS_MODAL="confirm-seats-modal",ge.TEAM_ADMIN_USER_DETAILS_MODAL="team-admin-user-details-modal",ge.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR="team-admin-confirm-remove-editor",ge.TEAM_ADMIN_CHANGE_PAYMENT="team-admin-change-payment",ge.TEAM_ADMIN_DOWNGRADE_SURVEY="team-admin-downgrade-survey",ge.TEAM_ADMIN_CONFIRM_DOWNGRADE="team-admin-confirm-downgrade",ge.TEAM_ADMIN_CHANGE_ANNUAL_PLAN="team-admin-change-annual-plan",ge.TEAM_ADMIN_CANCEL_ANNUAL_PLAN="team-admin-cancel-annual-plan",ge.TEAM_ADMIN_CHANGE_INVOICE_RECEIVER="team-admin-change-invoice-receiver",ge.LEAVE_TEAM_DOWNGRADE_SURVEY="leave-team-downgrade-survey",ge.TEAM_CONFIRM_LEAVE_MODAL="team-confirm-leave-modal",ge.TEAM_CONFIRM_DELETE_MODAL="team-confirm-delete-modal",ge.NEW_FOLDER_MODAL="new-project-modal",ge.SAVEPOINT_MODAL="savepoint-modal",ge.FILE_RESTORE_FROM_VERSION_MODAL="file-restore-from-version-modal",ge.LEAVE_UNSAVED_DOCUMENT_MODAL="leave-unsaved-document-modal",ge.RENAME_MODAL="rename-modal",ge.SHOW_DEPRECATED_WEB_PLUGINS_MODAL="show-deprecated-web-plugins-modal",ge.INTERNAL_PLUGIN_DEV_MODAL="internal-plugin-dev-modal",ge.CREATE_NEW_PLUGIN_MODAL="create-new-plugin-modal",ge.PLUGIN_DEV_INFO_MODAL="plugin-dev-info-modal",ge.SHARE_PLUGIN_MODAL="share-plugin-modal",ge.IMPORT_PLUGIN_MODAL="import-plugin-modal",ge.CONFIRMATION_MODAL="CONFIRMATION_MODAL",ge.ORG_DASHBOARD_MODAL="ORG_DASHBOARD_MODAL",ge.REQUEST_ACCESS_MODAL="REQUEST_ACCESS_MODAL",ge.VIEW_RESTRICTED_FILE_MODAL="VIEW_RESTRICTED_FILE_MODAL",ge.CHANGE_PASSWORD_MODAL="CHANGE_PASSWORD_MODAL",ge.INVALIDATE_SESSIONS="INVALIDATE_SESSIONS",ge.SETUP_TWO_FACTOR_MODAL="SETUP_TWO_FACTOR_MODAL",ge.SETUP_PHONE_MODAL="SETUP_PHONE_MODAL",ge.DISABLE_TWO_FACTOR_MODAL="DISABLE_TWO_FACTOR_MODAL",ge.TWO_FACTOR_RECOVERY_MODAL="TWO_FACTOR_RECOVERY_MODAL",ge.EMAIL_ACTIVITY_MODAL="EMAIL_ACTIVITY_MODAL",ge.FONT_MODAL="FONT_MODAL",ge.AVATAR_EDITOR_MODAL="AVATAR_EDITOR_MODAL",ge.CHANGE_EMAIL_MODAL="CHANGE_EMAIL_MODAL",ge.DELETE_USER_ACCOUNT_MODAL="DELETE_USER_ACCOUNT_MODAL",ge.REQUIRE_SSO_MODAL="REQUIRE_SSO_MODAL",ge.PROVISIONING_API_TOKEN_MODAL="PROVISIONING_API_TOKEN_MODAL",ge.CONFIGURE_SAML_MODAL="CONFIGURE_SAML_MODAL",ge.CONFIGURE_SAML_CONFIRMATION_MODAL="CONFIGURE_SAML_CONFIRMATION_MODAL",ge.LEAVE_ORG_CONFIRMATION_MODAL="LEAVE_ORG_CONFIRMATION_MODAL",ge.UPSELL_NEW_FOLDER_MODAL="UPSELL_NEW_FOLDER_MODAL",ge.UPSELL_MOVE_FILE_MODAL="UPSELL_MOVE_FILE_MODAL",ge.UPSELL_ADD_EDITOR_MODAL="UPSELL_ADD_EDITOR_MODAL",ge.UPSELL_SLACK_MODAL="UPSELL_SLACK_MODAL",ge.UPSELL_MOVE_FOLDER_SLACK_MODAL="UPSELL_MOVE_FOLDER_SLACK_MODAL",ge.UPSELL_INVITE_ONLY_MODAL="UPSELL_INVITE_ONLY_MODAL",ge.UPSELL_VIEW_ONLY_MODAL="UPSELL_VIEW_ONLY_MODAL",ge.LICENSE_AGREEMENT_MODAL="LICENSE_AGREEMENT_MODAL",ge.ZEPLIN_WELCOME_MODAL="ZEPIN_WELCOME_MODAL",ge.AVOCODE_WELCOME_MODAL="AVOCODE_WELCOME_MODAL",ge.DRIBBBLE_EXPORT_MODAL="DRIBBBLE_EXPORT_MODAL",ge.BLOCK_MOVING_PRIVATE_PROJECT="BLOCK_MOVING_PRIVATE_PROJECT",ge.CREATE_STYLE="CREATE_STYLE",ge.LIBRARY_PREFERENCES_MODAL="LIBRARY_PREFERENCES_MODAL",ge.SHARED_FONTS_MODAL="SHARED_FONTS_MODAL",a.AppModal=ge,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(141     ),r=o(97      ),s=o(176              ),i=o(219          );function a(){const e=[],t=["mac","windows","linux","ios","chromeos"],o=["chrome","firefox","safari","msedge","msie","ios","android"];for(const r of t)if(n[r]){e.push(`os:${r}`);break}if(s.desktopApp)e.push("browser:figma_desktop");else for(const r of o)if(n[r]){e.push(`browser:${r}`);break}return e}t.logNumericMetric=function(e,t){r.default.post(`/api/metrics/histogram/${e}`,{value:t,tags:a().join(",")})};let c=!0;function p(e,t){let o=-1/0;return()=>{let n=Date.now()/1e3;n-o>e&&(o=n,t())}}window.addEventListener("error",e=>{if(!c)return;c=!1;const{message:t,filename:o}=e,n=a(),s=/abort/i.test(t),i=/\/compiled_/.test(o);r.default.post("/api/metrics/unhandled_error",{tags:n.concat(`abort:${s}`,`fullscreen:${i}`).join(",")})}),t.reportContextLost=p(30,()=>{r.default.post("/api/metrics/context_lost",{tags:a().join(",")})}),t.reportContextRestored=p(30,()=>{r.default.post("/api/metrics/context_restored",{tags:a().join(",")})}),window.reportPerfTestingInfo=((e,t)=>{if(window.figmaPerfTesting&&window.postMessage({name:e,value:t},"*"),"AFTER_FIRST_RENDER"===e)try{let e=performance.timing.domComplete-performance.timing.domLoading;console.log(`time to first render: ${(performance.now()-e).toFixed(1)}ms`)}catch(o){}});let d=!0;window.reportOOM=(e=>{if(!d)return;d=!1;const t=e/1024/1024,o=t<=128?"0mb-to-128mb":t<=256?"128mb-to-256mb":t<=512?"256mb-to-512mb":t<=1024?"512mb-to-1gb":t<=2e3?"1gb-to-2gb":"2gb";r.default.post("/api/metrics/oom_error",{tags:a().concat(`memory:${o}`).join(",")}),i.segment.track("Out Of Memory",{totalMemoryInBytes:e})});let l=!0;window.reportDoubleFlush=(()=>{l&&(l=!1,r.default.post("/api/metrics/double_flush",{tags:a().join(",")}))}),t.reportDirtyAfterLoad=function(){r.default.post("/api/metrics/dirty_after_load",{tags:a().join(",")})},t.reportConsecutiveFlushes=function(){r.default.post("/api/metrics/consecutive_flushes",{tags:a().join(",")})},t.reportConsecutiveImageChangeSkips=function(){r.default.post("/api/metrics/consecutive_image_change_skips",{tags:a().join(",")})},t.reportImagePasteError=function(){r.default.post("/api/metrics/image_paste_error",{tags:a().join(",")})},t.reportUnsavedChangesBell=function(e){r.default.post("/api/metrics/unsaved_changes_bell",{file_key:e,tags:a().join(",")})},function(){const e=document.createElement("canvas");let t=null;try{t=e.getContext("webgl")}catch(c){}try{t=e.getContext("experimental-webgl")}catch(c){}const o=t&&t.getExtension("WEBGL_debug_renderer_info"),n=o&&(t.getParameter(o.UNMASKED_RENDERER_WEBGL)+"").toLowerCase(),s=n?/\bamd\b|\bati\b/.test(n)?"amd":/\bnvidia\b/.test(n)?"nvidia":/\bintel\b/.test(n)?"intel":"unknown":"unknown",i=n?/direct3d9/.test(n)?"d3d9":/direct3d11/.test(n)?"d3d11":/opengl/.test(n)?"opengl":"unknown":"unknown";r.default.post("/api/metrics/page_load",{tags:a().concat(`gpu_vendor:${s}`,`gpu_api:${i}`).join(",")})}(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,n){e.exports={cppTestsMessage:"bindings--cppTestsMessage--30TcW",fadeInFromNone:"bindings--fadeInFromNone--NHRa4"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,l){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const o=l(1426                               ),t=l(0                    );var s="fullscreen_websocket_api",c=0,r=null,u=!1;function i(e){const n="https:"==location.protocol?"wss":"ws",l=t.default().tracking_session_id;return`${n}://${location.host}/api/multiplayer/${e}?role=editor&tracking_session_id=${l}&version=27`}n.multiplayerURLForFileKey=i;let a=null,f=null,p=null;function d(e){a!==e&&(m(),a=e,(f=new WebSocket(e)).binaryType="arraybuffer",p=[],f.onmessage=(e=>{p.push(new Uint8Array(e.data))}),f.onclose=(()=>{m()}),f.onerror=(()=>{m()}))}function m(){if(a=null,p=null,null!==f){f.onopen=null,f.onmessage=null,f.onclose=null,f.onerror=null;try{f.close()}catch(e){}f=null}}function b(e){if(y(),e!==a||f.readyState!==WebSocket.CONNECTING&&f.readyState!==WebSocket.OPEN)null!==a&&console.warn(`Preconnect URL ${a} doesn't match URL ${e}, skipping preconnect optimization`),m(),(r=new WebSocket(e)).binaryType="arraybuffer",r.onopen=(()=>{o.fullscreen.sendMessage(s+":connect")});else{console.log(`Applied the preconnect optimization for URL ${e}`);let n=p;r=f,f=null,a=null,p=null,o.fullscreen.sendMessage(s+":connect");for(let e of n)o.fullscreen.sendMessage(s+":receive",{},e)}r.onmessage=(e=>{o.fullscreen.sendMessage(s+":receive",{},new Uint8Array(e.data))}),r.onclose=(()=>{y()}),r.onerror=(()=>{y()})}function y(){if(null!==r){r.onopen=null,r.onmessage=null,r.onclose=null,r.onerror=null;try{r.close()}catch(e){}r=null,o.fullscreen.sendMessage(s+":disconnect")}}function g(e){try{r.send(e.buffer)}catch(n){}_()}function _(){var e=null!==r?r.bufferedAmount:0;e!==c&&(c=e,o.fullscreen.sendMessage(s+":bufferedAmount",{bufferedAmount:e}))}n.preconnect=d,n.initialize=function(){u||(u=!0,o.fullscreen.fromFullscreen.on(s+":connect",b),o.fullscreen.fromFullscreen.on(s+":disconnect",y),o.fullscreen.fromFullscreen.on(s+":send",g),function e(){_(),requestAnimationFrame(e)}())},n.preconnectIfFileURL=function(){const e=/^\/file\/([0-9a-zA-Z]{22,128})\//.exec(location.pathname);null!==e&&d(i(e[1]))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(1426                               );let a="fullscreen_xhr_api",r=!1;function o(e){let n=new XMLHttpRequest;n.onloadend=(()=>{let t={promiseID:e.promiseID,status:n.status,contentType:n.getResponseHeader("Content-Type")};s.fullscreen.sendMessage(a+":receive",t,n.response?new Uint8Array(n.response):null)}),n.open(e.method,e.url),n.responseType="arraybuffer";for(let t in e.headers)n.setRequestHeader(t,e.headers[t]);if(e.formData){let t=new FormData;for(let n of e.formData)null!=n.data?t.append(n.name,n.data):t.append(n.name,new Blob([e.buffer.subarray(n.dataStart,n.dataEnd)],{type:n.mimeType}));n.send(t)}else n.send(e.buffer)}n.initialize=function(){r||(r=!0,s.fullscreen.fromFullscreen.on(a+":send",o))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createUrlCache=function(){function e(e){try{var t=e.transaction("urlCache")}catch(r){return void console.error(r)}t.objectStore("urlCache").openCursor().onsuccess=function(e){var t=e.target.result;t&&(t.key&&t.value&&(n[t.key]=t.value.presence),t.continue())}}var t=null,n={},r="url-cache-update";setTimeout(function(){var n;try{n=window.indexedDB&&indexedDB.open("urlCache",1)}catch(c){return void console.error(c)}n&&(n.onsuccess=function(){e(t=n.result),window.ipc&&window.ipc.register(r,e)},n.onupgradeneeded=function(e){e.target.result.createObjectStore("urlCache",{keyPath:"hash"})})}),window.urlCache={get:function(e){return n[e]||""},set:function(e,c){n[e]=c,null!==t&&(t.transaction(["urlCache"],"readwrite").objectStore("urlCache").put({hash:e,presence:c}).onsuccess=function(){window.ipc&&window.ipc.sendToOtherTabs(r,e)})}}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,p,r){e.exports={perfHUD:"perf_hud--perfHUD--jnVX6",perfHUDRow:"perf_hud--perfHUDRow--3j9eP",perfHUDChildBlock:"perf_hud--perfHUDChildBlock--WATpJ",sparklineCanvas:"perf_hud--sparklineCanvas--3k-EO"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(34,1   ),s=a(38,1       ),l=a(182            ),r=a(1423            ),n=a(385                                        ),o=a(129                               ),h=[{label:"Time between frames (ms)",id:"inter-frame-time",max:100,barWidth:1},{label:"Frame handler (ms)",id:"frame",max:100,barWidth:1,children:[{label:"Scene render (ms)",id:"scene-render",max:100,barWidth:1,children:[{label:"Render tree creation (ms)",id:"render-tree-generation",max:100,barWidth:1}]},{label:"React + redux (ms)",id:"react-render",max:100,barWidth:1},{label:"Symbol updater (ms)",id:"symbol-updater",max:100,barWidth:1},{label:"Style updater (ms)",id:"style-updater",max:100,barWidth:1}]},{label:"C++ event handling (ms)",id:"fullscreen-handle-event",max:100,barWidth:1},{label:"malloc call count (#)",id:"cpp-malloc-call-count",autoResize:!0,max:100,barWidth:1},{label:"malloc size totals (KB)",id:"cpp-malloc-size-totals",autoResize:!0,max:1,barWidth:1},{label:"Total used memory (MB)",id:"total-memory",max:10,autoResize:!0,barWidth:1},{label:"Used c++ heap memory (MB)",id:"cpp-heap-memory",max:10,autoResize:!0,barWidth:1}],m=10;class d extends i.PureComponent{constructor(e){super(e),this.ctx=null,this.buffer=[],this.lastRenderedHitCount=0,this.updateFromTimer=(e=>{let t=e.hitCount-this.lastRenderedHitCount,a=0;for(let i=Math.max(0,e.elapsedTimes.length-t);i<e.elapsedTimes.length;i++)a+=e.elapsedTimes[i];this.append(a),this.lastRenderedHitCount=e.hitCount}),this.canvasRef=(e=>{e instanceof HTMLCanvasElement?(this.ctx=e.getContext("2d"),this.ctx.imageSmoothingEnabled=!1):this.ctx=null}),this.yAxisMaxValue=e.max,this.bufferCapacity=Math.ceil(e.width/e.barWidth)}append(e){if(!this.ctx)return;const t=this.ctx.canvas,a=this.ctx;for(this.buffer.push(e);this.buffer.length>=this.bufferCapacity;)this.buffer.shift();let i=1/0,s=-1/0;for(let m of this.buffer)i=Math.min(i,m),s=Math.max(s,m);const l=t.width,r=t.height,n=this.props.barWidth,o=r-m;if(a.font="9px monospace",a.fillStyle=this.props.bg,a.textBaseline="top",a.fillRect(0,0,l,m),a.fillStyle=this.props.fg,a.fillText(`${i.toFixed(1)} - ${s.toFixed(1)}`,0,0),a.fillStyle=this.props.bg,this.props.autoResize)if(e>this.yAxisMaxValue){const i=Math.pow(2,Math.ceil(Math.log2(e/this.yAxisMaxValue)));this.yAxisMaxValue*=i,a.fillRect(0,r-o,l,(i-1)*o/i),a.drawImage(t,0,r-o,l,o,0,r-o/i,l,o/i)}else if(this.yAxisMaxValue>2*Math.max(this.props.max,s)){const e=Math.pow(2,Math.ceil(Math.log2(this.yAxisMaxValue/Math.max(this.props.max,s))));this.yAxisMaxValue/=e,a.drawImage(t,0,r-o/e,l,o/e,0,r-o,l,o)}a.drawImage(t,n,r-o,l-n,o,0,r-o,l-n,o);const h=Math.floor(o*Math.min(1,e/this.yAxisMaxValue));a.fillRect(l-n,r-o,n,o),a.fillStyle=this.props.fg,a.fillRect(l-n,r-h,n,h)}render(){return i.createElement("canvas",{className:r.sparklineCanvas,ref:this.canvasRef,width:this.props.width,height:this.props.height})}}function p(e){return e/1048576}d.displayName="Sparkline";class c extends i.PureComponent{constructor(){super(...arguments),this.sparklines=new Map,this.lastFrameTime=null,this.updateTimers=(()=>{if(null==this.lastFrameTime)this.lastFrameTime=performance.now();else{const e=performance.now(),t=this.sparklines.get("inter-frame-time");t&&(t.append(e-this.lastFrameTime),this.lastFrameTime=e)}const e=this.sparklines.get("total-memory");e&&e.append(p(o.PerfInfo.getTotalUsedProcessMemory()));const t=this.sparklines.get("cpp-heap-memory");t&&t.append(p(o.PerfInfo.getTotalUsedHeapMemory()));const a=this.sparklines.get("cpp-malloc-call-count");a&&a.append(o.PerfInfo.getAllocCallCount());const i=this.sparklines.get("cpp-malloc-size-totals");i&&i.append(function(e){return e/1024}(o.PerfInfo.getAllocTotal())),o.PerfInfo.resetAllocCountsAndTotal();const s=l.appTimer.report(),r=[],n=e=>{r.push(e.name);const t=this.sparklines.get(r.join(","));t&&t.updateFromTimer(e);for(let a of e.children)n(a);r.pop()};for(let l of s)n(l);requestAnimationFrame(this.updateTimers)}),this.sparklineRef=(e=>t=>{t&&this.sparklines.set(e.join(","),t)}),this.frameRequest=null,this.renderHUDNode=((e,t=[])=>{const a=t.concat([e.id]),s=150-10*t.length;return i.createElement("div",{key:e.id},i.createElement("div",{className:r.perfHUDRow},i.createElement("div",null,i.createElement("div",null,e.label),i.createElement(d,{ref:this.sparklineRef(a),fg:"black",bg:"white",barWidth:e.barWidth,max:e.max,height:30,autoResize:e.autoResize,width:s}))),e.children&&i.createElement("div",{className:r.perfHUDChildBlock},e.children.map(e=>this.renderHUDNode(e,a))))})}componentDidMount(){this.frameRequest=requestAnimationFrame(this.updateTimers)}componentWillUnmount(){cancelAnimationFrame(this.frameRequest)}render(){const e=parseInt(n.rightNavWidth,10)+5,t=parseInt(n.toolbarHeight,10)+5;return i.createElement("div",{className:r.perfHUD,style:{right:e,top:t}},h.map(e=>this.renderHUDNode(e)))}}c.displayName="PerfHUD";let u=null;t.togglePerfHUD=function(){u?(s.unmountComponentAtNode(u),document.body.removeChild(u),u=null):(u=document.createElement("div"),document.body.appendChild(u),s.render(i.createElement(c,null),u))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var s=this&&this.__awaiter||function(e,t,n,s){return new(n||(n=Promise))(function(a,o){function i(e){try{u(s.next(e))}catch(t){o(t)}}function r(e){try{u(s.throw(e))}catch(t){o(t)}}function u(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(i,r)}u((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=n(97      ),o=n(1418        ),i=n(1426        );t.ImagePasteManager=class{constructor(e=1e3){this.pendingPasteRequests={},this.retryDelayMagnitude=e}allowDownloadForPastedImages(e,t,n){return s(this,void 0,void 0,function*(){if(0===n.length||e===t)return Promise.resolve();const s=()=>a.default.put(`/api/files/${t}`,{image_sha1s:n,image_origin_file_key:e}).then(()=>{for(const e of n)delete this.pendingPasteRequests[e]}).catch(e=>(e.status>=400&&e.status<500&&o.reportImagePasteError(),{retryPromise:new Promise(e=>setTimeout(()=>e(s()),this.getRandomDelayMs()))})),i=s();for(const e of n)this.pendingPasteRequests[e]=i;return i})}actuallyDownloadImage(e){const t=i.fullscreen.editingFileKey();return null==t?new Promise((e,t)=>t("Can't load images outside of a file")):a.default.get(`/file/${t}/image/${e}`,null,{responseType:"arraybuffer"}).then(e=>e.data).catch(t=>{throw console.warn(`Couldn't download image with hash ${e}`),403===t.status||404===t.status?"IMAGE_MISSING":t})}getRandomDelayMs(){return(5+5*Math.random())*this.retryDelayMagnitude}downloadImage(e){return s(this,void 0,void 0,function*(){const t=this.pendingPasteRequests[e]||Promise.resolve();return yield Promise.race([t,new Promise((e,t)=>setTimeout(t,6e4))]),this.actuallyDownloadImage(e)})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))(function(o,n){function a(e){try{l(i.next(e))}catch(t){n(t)}}function r(e){try{l(i.throw(e))}catch(t){n(t)}}function l(e){e.done?o(e.value):new s(function(t){t(e.value)}).then(a,r)}l((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const o=s(232                        ),n=s(1430                                             ),a=s(143              ),r=s(291       ),l=s(331               ),d=s(333          ),p=s(219          ),h=s(302          ),c=s(334                ),u=s(337              ),f=s(140           ),m=s(338                                   ),g=s(341                              ),_=s(342                                        ),w=s(341                              ),y=s(336                           ),b=s(185                              ),v=s(129                               ),F=s(97      ),S=s(1471                    ),M=s(343                               ),E=s(344                          ),T=s(281                                  ),C=s(1417                       ),R=s(1261                                        ),A=s(208                                           ),k=s(744                                   ),I=s(685                                                     ),D=s(129        ),P=s(129        ),L=s(183           ),O=s(219          ),N=s(220                      ),x=s(371                       ),B=s(1418                   ),U=s(1130                                                    ),K=s(1128                                      ),W=s(1255                                                         ),V=s(607                                                                       ),H=s(1253                                                                                              ),Y=s(1419            ),z=s(1420                                               ),q=s(1421                                         ),$=s(341                              ),X=s(500                                     ),G=s(1422                                ),j=s(173                        ),Z=s(176              ),Q=s(605                     ),J=s(182            ),ee=s(0                    ),te=s(1424                                          ),se=s(1259                                   ),ie=s(778                              ),oe=s(604                             ),ne=s(179               ),ae=s(1427                      ),re=s(410                                   ),le=s(1425                                          ),de=s(184              ),pe=s(166                         ),he=s(663                                                 );G.createUrlCache(),t.fullscreen=null,t.isFramerFullscreenView=(e=>e&&e.viewState&&"framer"===e.viewState.integrationId),t.initializeFullscreenBindings=((e,s)=>(null==window.App&&(t.fullscreen=new ue(e,s),window.App=t.fullscreen,window.FigmaApp=t.fullscreen,window.Comments=ie,window.FullscreenPerfMetrics={setDebug:de.setDebug},window.webAppWantsEventAtPoint=((e,t)=>_.webAppWantsEventAtPoint(s,e,t)),window.loadAllDocumentsForTesting=(()=>d.loadAllDocumentsForTesting(s)),window.addEventListener("focus",()=>{t.fullscreen.isReady()&&P.Fullscreen.onWindowFocus()})),t.fullscreen)),t.initializeFullscreenBindingsForTests=(e=>{t.fullscreen=new ue(null,e)});let ce=void 0;class ue{constructor(e,s){this.events=new c.EventEmitter("fullscreen"),this._fullscreenOpenTimingStart=0,this._isDesktopAppRunning=!1,this._readyStartTime=0,this._fullscreenIsReady=!1,this.isReady=(()=>this._fullscreenIsReady),this._readyPromiseResolve=null,this._readyPromise=new Promise((e,t)=>{this.isReady()?e():this._readyPromiseResolve=e}),this._osxMessageListener=null,this.imagePasteManager=new le.ImagePasteManager,this.onFrame=(()=>{this.isReady()&&this.sendMessage("window:tick")}),this.loadAndStartFullscreenIfNecessary=ne.mergeAndRetry(()=>i(this,void 0,void 0,function*(){this._readyStartTime=window.performance&&performance.now(),ue.startFetchingFontList(),ue.startFetchingInterfaceFont(),Q.canOpenUrlInDesktopApp(location.href).then(e=>{this._isDesktopAppRunning=e,e&&V.OpenDesktopAppModal.shouldShowOnce()&&this._store.dispatch(o.fullscreen.showOpenDesktopAppModal(E.OpenDesktopAppModalMode.FOR_OPEN))}),y.isMacDebugApp?(yield this._webContextReadyPromise,this.sendMessage("debugMacAppIsStartingFullscreen"),document.body.parentElement.style.backgroundColor="transparent"):yield b.initializeFullscreen(),yield this.onReady()})),this.handleSketchImportEvent=(e=>{if(this.hasUnsavedChanges())return!1;if(1!==e.dataTransfer.files.length)return!1;return!!e.dataTransfer.files.item(0).name.toLowerCase().endsWith(".sketch")&&(this.backToFiles(),this._store.dispatch(o.fileImport.drop(e)),!0)}),this.updateSelectionProperties=((e,t=w.ShouldCommit.YES,s=D.Overwrite.ALWAYS)=>{w.updateSelectionProperties(e,t,s)}),this.nullCurrentSelectedProperty={currentSelectedProperty:{type:D.SelectedPropertyType.NONE,indices:[]}},this.updateAppModel=(e=>{g.updateAppModel(e)}),this.onReady=(()=>this._readyPromise),this.openTimingStart=(()=>this._fullscreenOpenTimingStart),this.setOpenTimingStart=(e=>{this._fullscreenOpenTimingStart=e}),this.editingFileKey=(()=>this._state.editingFileKey),this.currentOrgId=(()=>this._state.currentOrgId||null),this.currentTeamId=(()=>{const{selectedView:e,folders:t}=this._state;return e.teamId?e.teamId:e.folderId&&t[e.folderId]?t[e.folderId].team_id:null}),this.hasOpenFile=(()=>null!=this._state.editingFileKey),this.sendMessage=((e,t={},s=null)=>{if(this._webContext)return this._webContext.handleMessageFromWeb(e,t,s);console.error(`Trying to send a message to WebContext before it is initialized: ${e}`)}),this._dispatch=(e=>{if(!this._store)throw new Error("Trying to dispatch before we've been initialized");this._store.dispatch(e)}),this.triggerAction=((e,t)=>{if(null!=t&&"object"!=typeof t)throw new Error(`Invalid payload for action ${e}`);P.Fullscreen.triggerAction(e,t)}),this.commit=(()=>{this.triggerAction("commit")}),this.getViewportInfo=(()=>t.fullscreen.sendMessage("getViewportInfo").args.value),this._webContextReadyPromiseResolve=null,this._webContextReadyPromise=new Promise((e,t)=>{this._webContextReadyPromiseResolve=e}),this.registerWebContext=(e=>{this._webContext=e,this._webContextReadyPromiseResolve()}),this.session={user:null},this.jsWantsKeyboardEvent=(e=>A.keyboardDispatcher.shouldInterceptKeyboardEvent(e)),this.jsWantsClipboardEvent=((e,t)=>A.keyboardDispatcher.shouldInterceptClipboardEvent(e,t)),this.setCustomFocusElement=(e=>{A.keyboardDispatcher.setCustomFocusElement(e)}),this.fromFullscreen=new c.EventEmitter("fromFullscreen"),this.getCurrentFileName=(()=>{let e=this._state,t=e.editingFileKey,s=e.fileByKey,i=t&&s&&s[t];return i&&i.name||"Untitled"}),this.onShowImageScaledDownWarningInfoClick=(()=>{h.unsafeRedirect("https://help.figma.com/troubleshooting/problems-with-images-in-files","_blank"),this._dispatch(o.visualBell.dequeue({}))}),this.lastAutosaveReactionIndex=-1,this._exportingToZeplin=!1,this.hasUnsavedChanges=(()=>!(!this._state.saveStatus||!this._state.saveStatus.hasUnsavedChanges)),this.dispatchIfSaved=(e=>{if(!this.hasUnsavedChanges())return void this._dispatch(e);let t="The current document has unsaved changes. Figma will continue trying to save in the background. Please try again later.";!1===navigator.onLine&&(t="The current document has unsaved changes. Please connect to the internet so these changes can be saved, then try this again."),this._dispatch(o.fileBrowser.showModal({type:C.AppModal.LEAVE_UNSAVED_DOCUMENT_MODAL,data:{message:t}}))}),this.recordImages=((e,t,s)=>{this.imagePasteManager.allowDownloadForPastedImages(e,t,s)}),this.downloadImage=(e=>this.imagePasteManager.downloadImage(e)),this.panToNode=(e=>{this.sendMessage("panToNode",{nodeId:e})}),this.restoreComponent=(e=>{this.sendMessage("restoreComponent",{nodeId:e})}),this.forwardKeyboardEvent=(e=>{_.forwardKeyboardEvent(e)}),this.handleUpgradeRefresh=(()=>{h.locationReload("Multiplayer got handleUpgradeRefresh")}),this.updateSaveStatus=(e=>{let t=e.labelHTML,s=e.tabCloseText,i=e.hasUnsavedChanges,n=new E.SaveStatus(t,s,i);this.hasUnsavedChanges()&&(this._store.getState().versionHistory.docHasChanged||this._dispatch(o.versionHistory.setDocHasChangedSinceLastSavepoint({status:!0}))),this._state.saveStatus&&n.equals(this._state.saveStatus)||this._dispatch(o.fullscreen.setSaveStatus(n))}),this.toggleSearchMenu=(e=>{if(T.isFullscreenMenuVisible(this._state.dropdownShown))this._dispatch(o.fileBrowser.hideDropdown());else{const t=this._state.mirror.appModel.showUi?42:0,s={top:0,right:t,bottom:t,left:0,width:t,height:t};this._dispatch(o.fileBrowser.showDropdown({type:T.fullscreenMenuDropdownKey,data:{targetRect:s,togglePreferences:e},hasOwnEscKeyHandler:!0}))}}),this.getLatestPublishedVersionHashForComponent=((e,t)=>{const s=this._state.fileByKey[e],i=this._state.library.published.components;if(!s)return null;const o=i[s.team_id];return o&&o[s.key]&&o[s.key][t]&&!o[s.key][t].unpublished_at?o[s.key][t].content_hash:null}),this.hasCrashed=!1,this.setCommentsViewportInfo=(e=>{this._dispatch(o.comments.setViewportInfo({viewportInfo:e.value}))}),this.testsDiv=null,this._store=s,this.session.user=e,this.bindListeners(),this._osxMessageListener=new y.OSXWebContextListener(this.fromFullscreen),this.fromFullscreen.on("console:initialize",()=>this._osxMessageListener.initialize()),L.registerFrameCallback(this.onFrame)}static startFetchingInterfaceFont(){const e=document.fonts;if(null==ue.interfaceFontPromise&&e&&window.FontFace){const t=new window.FontFace("Roboto","url(https://static.figma.com/webfont/1/Roboto-Regular.woff2) format('woff2'), url(https://static.figma.com/webfont/1/Roboto-Regular.woff) format('woff')");e.add(t),t.load();const s=t.loaded,i=new window.FontFace("Inter","url(https://static.figma.com/webfont/1/Inter-Regular.woff2) format('woff2'), url(https://static.figma.com/webfont/1/Inter-Regular.woff) format('woff')");e.add(i),i.load();const o=i.loaded;ue.interfaceFontPromise=Promise.all([s,o])}}static startFetchingFontList(){null==ue.fontListPromise&&(ue.fontListPromise=k.fetchFontList())}getDesktopAppMenuItemName(){return this._isDesktopAppRunning?"open-in-desktop-app":"get-desktop-app"}handleDesktopAppMenuItem(e){if("open-in-desktop-app"===e){const e=new Promise(e=>{window.addEventListener("blur",function t(){window.removeEventListener("blur",t),e()})}),t=new Promise(e=>{setTimeout(e,3e3)});Q.openUrlInDesktopApp(location.href).then(s=>{s?(H.OpenDesktopAppFromNowOnModal.shouldShowOnce()&&Promise.race([e,t]).then(()=>{V.OpenDesktopAppModal.disableAutoOpenIfUnset(),this._store.dispatch(o.fullscreen.showOpenDesktopAppModal(E.OpenDesktopAppModalMode.FOR_MENU))}),O.segment.track("desktop_links",{action:"opened_in_app",source:"menu"})):O.segment.track("desktop_links",{action:"open_in_app_rejected",source:"menu"})}).catch(()=>{O.segment.track("desktop_links",{action:"open_in_app_failed",source:"menu"})})}else"get-desktop-app"===e&&(f.mac?this.navigateToURL("/download/desktop/mac",P.NavigateTarget.NEW_TAB):f.windows&&this.navigateToURL("/download/desktop/win",P.NavigateTarget.NEW_TAB))}reparentRootElement(e){this.containerElement=e;const t=document.getElementById("fullscreen-root");if(!t)return;if(!this.containerElement)return t.style.visibility="hidden",void document.body.appendChild(t);let s=null;document.activeElement instanceof HTMLElement&&t.contains(document.activeElement)&&(s=document.activeElement),t.style.visibility="visible",this.containerElement.appendChild(t),s&&s.focus()}isRootElementVisible(){const e=document.getElementById("fullscreen-root");return this.containerElement&&e&&e.parentElement===this.containerElement}deselectProperty(){this.updateAppModel(this.nullCurrentSelectedProperty)}get _state(){if(!this._store)throw new Error("Calling _state without a valid store");return this._store.getState()}isInDrafts(){const e=S.getEditingFile(this._state);return e&&e.folder_id&&pe.isADraftsFolder(this._state.folders,e.folder_id)}prepareForInteractionTests(){this._dispatch(o.file.put(se.interactionTestFakeFile,!1)),document.body.parentElement.style.backgroundColor="transparent",this._dispatch(o.interactionTest.startTestRun({fakeFileKey:se.INTERACTION_TEST_FAKE_FILE_KEY}))}setReadOnlyForInteractionTests(){this.sendMessage("setReadOnlyForInteractionTests")}openExportPicker(){O.segment.track("Export Picker Opened",{from:"toolbar-or-keyboard"}),this._dispatch(o.fullscreen.showPicker({id:U.EXPORT_PICKER_ID}))}openShortcuts(){t.fullscreen.isReady()&&t.fullscreen.triggerAction("toggle-keyboard-shortcuts")}openPreferencesModal(){this._dispatch(o.fileBrowser.showModal({type:C.AppModal.LIBRARY_PREFERENCES_MODAL}))}dispatch(e){this._dispatch(e)}showNudgeAmountPicker(){this._dispatch(o.fullscreen.showPicker({id:W.NUDGE_AMOUNT_PICKER_ID}))}toggleInteractionRecorderVisibility(){a.isRunningInteractionTests()?this._dispatch(o.flash.error("The interaction recorder is not supported on /test/interactions")):a.recordingOrPlaybackIsEnabled()&&(this._store.getState().interactionTests.dialogShown?this._dispatch(o.interactionTest.hideRecorder()):this._dispatch(o.interactionTest.showRecorder()))}togglePerfHUDVisibility(){ee.initialOptions().feature_flags.perf_hud&&te.togglePerfHUD()}showImageScaledDownWarning(){this._dispatch(o.visualBell.enqueue({type:"image_resized",message:"Image Resized",button:{text:"Learn more",action:this.onShowImageScaledDownWarningInfoClick}}))}showDetachedStyleWarning(){this._dispatch(o.visualBell.enqueue({type:"style_detached",message:"Style detached from some text layers"}))}usedKeyboardShortcut(e){this._dispatch(o.keyboardShortcut.usedKeyboardShortcut({key:e}))}tryReportError(e){p.raiseErrorToSegment(e)}getClipboardData(e){return Z.desktopApp.getClipboardData([e]).then(({data:t,format:s})=>{if(s!==e)throw new Error(`Asked for clipboard data with MIME type ${e}, got data with MIME type ${s} instead.`);return new Uint8Array(t)})}sendToClipboard(e,t){Z.desktopApp.setClipboardData(e,t)}getDesktopAppVersion(){return Z.desktopApp?Z.desktopApp.getVersion():null}trackFromFullscreen(e,t){t=t||{};let s=this._state,i=s.editingFileKey,o=s.fileByKey,n=i&&o&&o[i];t.file_key=i||null,t.file_team_id=n&&n.team_id||null,t.file_owner_user_id=n&&n.creator_id||null,O.trackFullscreenEvent(e,t)}enqueueBellNotification(e,t){this._dispatch(o.visualBell.enqueue({type:e,message:t}))}showAutosaveVisualBell(){if(null!=this._state.user&&j.canEditFile(this._state.editingFileKey,this._state)){const e=["","","","","","","","",""];let t=Math.round(Math.random()*(e.length-1));t===this.lastAutosaveReactionIndex&&(t=(t+1)%e.length),this.lastAutosaveReactionIndex=t;let s=e[t]+"  Figma auto-saves your work";navigator.onLine?this.hasUnsavedChanges()&&(s="The document has unsaved changes. Figma will continue to try auto-saving your work."):s="You are offline. Figma will resume auto-saving when you reconnect to the internet.",this._dispatch(o.visualBell.enqueue({type:"save",message:s,timeout:4e3}))}}showVisualBell(e,t,s,i){this._dispatch(o.visualBell.enqueue({type:e,message:t,timeout:s,error:i}))}showZeplinDialog(){this._dispatch(o.fileBrowser.showModal({type:C.AppModal.ZEPLIN_WELCOME_MODAL}))}showAvocodeDialog(){this._dispatch(o.fileBrowser.showModal({type:C.AppModal.AVOCODE_WELCOME_MODAL}))}showDribbbleDialog(e,t){this._dispatch(o.fileBrowser.showModal({type:C.AppModal.DRIBBBLE_EXPORT_MODAL,data:{fileKey:e,nodeId:t}}))}checkpointResponse(e,t){K.checkpointCallback(e,t)}_selectedFrameIds(){const e=this._store.getState();if(null==e.mirror||null==e.mirror.sceneGraphSelection||null==e.editingFileKey)return null;const t=[];for(const s in e.mirror.sceneGraphSelection){const i=e.mirror.sceneGraph.get(s);i&&M.isNodeFrameOrSymbol(i)&&t.push(s)}return t}exportSelectionToZeplin(){if(this._exportingToZeplin)return;const e=this._store.getState(),t=this._selectedFrameIds();if(null!=t){if(0===t.length)return void this._dispatch(o.visualBell.enqueue({type:"zeplin export error",message:"No frames selected"}));this._exportingToZeplin=!0,K.externalExport(this._store.dispatch,U.ExportTab.zeplin,e.editingFileKey,()=>{this._exportingToZeplin=!1},t)}}startRenamingNodes(e){this._dispatch(o.fullscreen.setLeftPanelTab({tab:v.LeftPanelTab.LAYERS})),this._dispatch(o.fileBrowser.showModal({type:C.AppModal.RENAME_MODAL,data:{guids:e}}))}insertComponentOrShowError(e,t,s,i){this._dispatch(n.insertComponentOrShowError({fileKey:e,nodeId:t,canvasX:s,canvasY:i}))}fetchComponentBuffersForDetachInstance(e,t){return ae.fetchComponentSceneGraphsForDetachInstance(e,t)}bindListeners(){this.fromFullscreen.on("updateSavedStatus",this.updateSaveStatus),this.fromFullscreen.on("toggleSearchMenu",this.toggleSearchMenu.bind(this,!1)),this.fromFullscreen.on("togglePreferences",this.toggleSearchMenu.bind(this,!0)),this.fromFullscreen.on("handleUpgradeRefresh",this.handleUpgradeRefresh),this.fromFullscreen.on("setCommentsViewportInfo",this.setCommentsViewportInfo),this.fromFullscreen.on("watchedNodeBoundsChange",ie.watchedNodeBoundsChange)}startPerfTimer(e){J.appTimer.start(e)}stopPerfTimer(e){J.appTimer.stop(e)}startPerfProfile(e){console.profile(e)}stopPerfProfile(){console.profileEnd()}logNumericMetric(e,t){B.logNumericMetric(e,t)}setBackgroundFlushInterval(e){m.setBackgroundFlushInterval(e)}startMonitorInterval(){m.startMonitorInterval()}reportContextLost(){B.reportContextLost()}reportContextRestored(){B.reportContextRestored()}reportDirtyAfterLoad(){B.reportDirtyAfterLoad()}backToFiles(){this._dispatch(o.fullscreen.attemptClose())}reconnectingStarted(){this._dispatch(o.fullscreen.reconnectingStarted())}reconnectingSucceeded(){this._dispatch(o.fullscreen.reconnectingSucceeded())}documentIsLoaded(){this._dispatch(o.fullscreen.documentLoaded()),window.figmaPerfTesting&&window.postMessage({name:"DOCUMENT_IS_LOADED",value:performance.now()/1e3},"*"),he.exposeGlobalDebugAPI()}fetchFontFile(e,t,s){return k.fetchFontFile(e,t,s)}openFontSettings(){return u.openFontSettings()}resetMissingFonts(){this.sendMessage("resetMissingFonts")}fullscreenIsReady(){if(!this._fullscreenIsReady){var e=(window.performance&&performance.now())-this._readyStartTime;console.log(`[fullscreenIsReady] ${e.toFixed(1)}ms`),window.postMessage({name:"FULLSCREEN_IS_READY",value:performance.now()/1e3},"*"),B.logNumericMetric("performance.fullscreen.load_time",e/1e3),window.figmaPerfTesting&&(window.FigmaAppTimer=J.appTimer,window.FigmaPerfInfo=v.PerfInfo),de.init()}z.initialize(),q.initialize(),$.initialize(this._store),X.initialize(),this.reparentRootElement(this.containerElement);const t=e=>{this.sendMessage("updateFontList",e),e&&this._store.dispatch(o.fullscreen.updateFontList(e))};ue.fontListPromise.then(t,e=>t(null)).then(()=>{this._fullscreenIsReady=!0,this._readyPromiseResolve&&this._readyPromiseResolve()}),null!=ue.interfaceFontPromise&&ue.interfaceFontPromise.then(()=>{v.Fullscreen.interfaceFontLoaded()},e=>{console.error("Error loading interface font",e)}),this.sendMessage("showingProgressBar",{value:this._state.showingProgressBar})}handleMultiplayerSignal(e){if("force-refresh"===e)h.locationReload("Multiplayer got force-refresh signal");else if("too-many-connections"===e){let e,t;this.hasUnsavedChanges()?(t="Changes can not be saved",e='Too many people have this file open right now so your changes cannot be saved at the moment (a maximum of 50 people can open a file at a time). To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.'):(this._dispatch(o.fullscreen.attemptClose()),t="Participant limit reached",e="Too many people have that file open right now. A maximum of 50 people can open a file at a time. We're working on improving this - sorry for the inconvenience."),this._dispatch(o.fileBrowser.showModal({type:C.AppModal.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:e,title:t}}))}else if("invalid-permissions"===e){let e,t;this.hasUnsavedChanges()?(t="Changes can not be saved",e='Someone revoked your access to this file so your changes cannot be saved at the moment. To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.'):(this._dispatch(o.fullscreen.attemptClose()),t="Access revoked",e="Someone revoked access to the file you had open. Ask the owner for access to open it again."),this._dispatch(o.fileBrowser.showModal({type:C.AppModal.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:e,title:t}}))}else if("client-too-old"===e)if(this.hasUnsavedChanges()){let e="Changes can not be saved",t='The app is too far out of date with the server. You can reload Figma to continue editing, although that means you will lose unsaved work. To save your changes, you can either copy and paste the content to a new file or choose "Save As .fig..." from the "File" menu.';this._dispatch(o.fileBrowser.showModal({type:C.AppModal.MULTIPLAYER_CONNECTION_ERROR_MODAL,data:{message:t,title:e}}))}else this._dispatch(o.flash.flash("Updating the app...")),setTimeout(()=>{let e=location.href;e+=/\?/.test(e)?"&":"?",e+="flash="+encodeURIComponent("Figma was automatically updated to the latest version"),location.assign(e)},50);else"schema-validation-failure"===e&&this.showFatalFlash("This file can't be opened because of a schema validation failure")}showFatalFlash(e){let t;Z.desktopApp?t=864e5:this._dispatch(o.fileBrowser.selectView({recentFiles:!0})),this._dispatch(o.flash.error(e,t))}handleSignedOutEditAttempt(){this._dispatch(l.authActions.init({origin:"signed_out_edit"})),this._dispatch(o.fileBrowser.showModal({type:C.AppModal.AUTH_MODAL}))}openSettings(){const e=this._store.getState();e.user&&this._dispatch(o.fileBrowser.selectView({userId:e.user.id}))}openNewSketchFile(){this.hasUnsavedChanges()||this._store.dispatch(o.fileImport.openSketchFileInput())}openNewFile(){const e=this._store.getState(),t=!y.isMacDebugApp,s=o.fullscreen.new_({folder_id:null,org_id:e.orgDashboard&&e.currentOrgId,openInNewTab:t});t?this._dispatch(s):this.dispatchIfSaved(s)}reportFileLoadTime(e){O.segment.track("Fullscreen File Load Time",{randomID:b.getRandomID(),load_time_in_seconds:e}),console.log(`total load time: ${e.toFixed(2)}s`)}retrieveMetadataAndSelectBrokenFixedScrollingNodes(){const e=this._state.editingFileKey;e&&function(e){return i(this,void 0,void 0,function*(){if(ce&&e===ce.fileKey)return ce;const t=`https://s3-us-west-2.amazonaws.com/figma-fixed-scrolling/${ee.initialOptions().cluster_name}/${e}`,s=yield fetch(t);if(200===s.status){const t=yield s.json();if(!t.fileKey||!t.fixedScrolling)throw new Error(`Broken-fixed-scrolling metadata for file ${e} is missing 'fileKey' or 'fixedScrolling'.`);return ce=t,t}if(404===s.status||403===s.status){const t={fileKey:e,fixedScrolling:[]};return ce=t,t}throw new Error(`Broken-fixed-scrolling metadata request error: ${s.status}, ${s.statusText}`)})}(e).then(t=>{if(!t||!t.fixedScrolling||0===t.fixedScrolling.length)return this._dispatch(o.visualBell.enqueue({type:"no_broken_fixed_scrolling_metadata",message:"We finished scanning your document, and everything looks fine.",timeout:5e3})),void N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:0,missingMetadata:!0,error:!1});const s=v.Fullscreen.selectBrokenFixedScrollingNodesOnCurrentPage(t);if(0===s)return this._dispatch(o.visualBell.enqueue({type:"no_broken_fixed_scrolling_nodes_found",message:"We finished scanning this page, and everything looks fine.",timeout:5e3})),void N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:s,missingMetadata:!1,error:!1});this._dispatch(o.visualBell.enqueue({type:"selected_broken_fixed_scrolling_nodes",message:`We found ${s} layers on this page that look like their scroll setting is incorrect. Select the "fix position when scrolling" checkbox to repair them.`,timeout:1e4})),N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:s,missingMetadata:!1,error:!1})}).catch(t=>{this._dispatch(o.visualBell.enqueue({type:"error_finding_broken_fixed_scrolling_nodes",message:"We ran into an error. Please contact support@figma.com",timeout:5e3})),N.trackEventForFile("Selected Broken Fixed Scrolling Nodes",e,this._state,{numNodes:0,errorMessage:t,error:!0}),console.error(t)})}updateMultiplayerState(e){this._dispatch(o.fullscreen.updateMultiplayerState(e))}mobileAppPush(e,t){F.default.post(`/api/mobile_app_push/${encodeURIComponent(e)}?frame_id=${encodeURIComponent(t)}`)}toggleQuickCommand(){T.isQuickCommandBarVisible(this._state.dropdownShown)?this._dispatch(o.fileBrowser.hideDropdown()):this._dispatch(o.fileBrowser.showDropdown({type:T.quickCommandBarDropdownKey,data:{},hasOwnEscKeyHandler:!0}))}attemptedSketchFileDrop(){this._dispatch(o.fileBrowser.showModal({type:R.FullscreenPageView.ATTEMPTED_SKETCH_FILE_DROP_MODAL}))}showDeletedComponentNotification(){this._dispatch(o.library.showNotification({notification:{type:x.ComponentNotificationType.PUBLISHED_COMPONENT_DELETED,message:"A deleted component is still published in the Team Library"}}))}showCanvasContextMenu(e,t){this._dispatch(o.fileBrowser.showDropdown({type:I.DROPDOWN_TYPE_CANVAS_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showSelectionContextMenu(e,t){this._dispatch(o.fileBrowser.showDropdown({type:I.DROPDOWN_TYPE_SELECTION_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}showSelectLayerContextMenu(e,t){this._dispatch(o.fileBrowser.showDropdown({type:I.DROPDOWN_TYPE_SELECT_LAYER_CONTEXT_MENU,data:{clientX:e,clientY:t}}))}chooseSymbol(){this.showLeftPanelTab(v.LeftPanelTab.TEAM_LIBRARY)}showLeftPanelTab(e){e===v.LeftPanelTab.TEAM_LIBRARY?this._dispatch(o.fileBrowser.showModal({type:C.AppModal.LIBRARY_PREFERENCES_MODAL})):this._dispatch(o.fullscreen.setLeftPanelTab({tab:e}))}showMemoryWarningModal(e){this.hasCrashed?e=P.MemoryWarningType.CRASH:e===P.MemoryWarningType.CRASH&&(this.hasCrashed=!0),this._dispatch(o.fileBrowser.showModal({type:C.AppModal.MEMORY_WARNING_MODAL,data:e}))}showMissingFontPopover(e){this._dispatch(o.fileBrowser.showModal({type:C.AppModal.MISSING_FONTS_MODAL,data:{missingFonts:e}}))}watchBoundsForNodes(e){this.sendMessage("watchBoundsForNodes",{nodeIDs:e})}showRestoreComponentDialog(e){j.canEditFile(this._state.editingFileKey,this._state)&&this._dispatch(o.fileBrowser.showModal({type:R.FullscreenPageView.RESTORE_COMPONENT_MODAL,data:{nodeId:e}}))}updateSelectedStyleProperties(e,t){const s=r.schema.decodeMessage(e),i=Object.assign({},s.nodeChanges[0]),n=i;i.fontName&&(n.fontFamily=i.fontName.family,n.fontStyle=i.fontName.style),i.sharedStyleMasterData&&i.sharedStyleMasterData.styleKey?n.styleKey=i.sharedStyleMasterData.styleKey:i.sharedStyleReference&&i.sharedStyleReference.styleKey&&(n.styleKey=i.sharedStyleReference.styleKey),n.intrinsicLineHeight=t,this._dispatch(o.fullscreen.updateSelectedStyleProperties({selectedStyleProperties:n}))}updateSelectedStyleThumbnail(e){const t=URL.createObjectURL(new Blob([e]));this._dispatch(o.fullscreen.updateSelectedStyleThumbnailURL({selectedStyleThumbnailURL:t}))}updateStyleThumbnail(e,t){const s=this._state.library.local.styles[e],i=!re.cssThumbnailDefinitelySupported(s.style_type);if(s&&i){const i=ae.cacheThumbDataAndGetUrl(t),n=s.meta&&s.meta.style_thumbnail;this._dispatch(o.library.updateThumbnail({nodeId:e,thumbnailUrl:i,styleThumbnail:n,type:x.LibraryItemType.STYLE}))}}showSavepointModal(){this._dispatch(o.fileBrowser.showModal({type:C.AppModal.SAVEPOINT_MODAL}))}showBrowserAlert(e){alert(e)}toggleHistoryMode(){this._state.mirror.appModel.topLevelMode===oe.TopLevelMode.HISTORY?t.fullscreen.triggerAction("enter-layout-mode"):this._dispatch(o.fullscreen.enterVersionHistoryMode())}navigateToURL(e,t){const s=new URL(e,location.href);location.origin===s.origin&&(t===P.NavigateTarget.CURRENT_TAB?location.href=e:h.redirect(e,"_blank"))}openHelp(){h.unsafeRedirect("https://help.figma.com","_blank")}openCommunity(){h.unsafeRedirect("https://spectrum.chat/figma","_blank")}openTutorials(){h.unsafeRedirect("https://www.youtube.com/figmadesign","_blank")}snapshotHashChanged(e){e.length<1&&(this._store.getState().versionHistory.docHasChanged||this._dispatch(o.versionHistory.setDocHasChangedSinceLastSavepoint({status:!0})))}reportConsecutiveFlushes(){B.reportConsecutiveFlushes()}reportConsecutiveImageChangeSkips(){B.reportConsecutiveImageChangeSkips()}reportContextRestore(){this.events.trigger("context-restore",void 0)}startingCppUnitTests(){this.testsDiv=document.createElement("div"),this.testsDiv.className=Y.cppTestsMessage,this.testsDiv.innerHTML="Running C++ unit tests...",document.body.appendChild(this.testsDiv)}finishedCppUnitTests(){this.testsDiv.parentNode.removeChild(this.testsDiv)}reportCompressionFailure(e,t,s,i){O.segment.track("Compression Failure",{originalSize:e,compressedSize:t,finalSize:s,isWasm:i})}}ue.fontListPromise=null,ue.interfaceFontPromise=null,t.FullscreenBindings=ue,location.pathname.startsWith("/file/")&&(ue.startFetchingFontList(),z.preconnectIfFileURL()),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){return new(n||(n=Promise))(function(a,o){function s(e){try{i(r.next(e))}catch(t){o(t)}}function l(e){try{i(r.throw(e))}catch(t){o(t)}}function i(e){e.done?a(e.value):new n(function(t){t(e.value)}).then(s,l)}i((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=n(97      ),o=n(1426                               ),s=n(172                     ),l=n(371                       ),i=n(219          ),c=n(291       ),u=n(410                                   ),h=n(96         );t.getThumbnail=(e=>o.fullscreen.sendMessage("generateThumbnailForNode",{guid:e,width:768,height:768,maxScale:2}).buffer);const m=Object.create(null);t.getThumbnailUrlForComponent=(e=>{const n=t.getThumbnail(e);return t.cacheThumbDataAndGetUrl(n)}),t.FAILED_THUMBNAIL="FAILED_THUMBNAIL",t.LOADING_THUMBNAIL="LOADING_THUMBNAIL",t.isValidThumbnailUrl=(e=>!!e&&(e!==t.FAILED_THUMBNAIL&&e!==t.LOADING_THUMBNAIL&&!(e.startsWith("blob:")&&!m[e]))),t.getThumbnailUrlForStyle=((e,n)=>{const{args:r,buffer:a}=o.fullscreen.sendMessage("generateThumbnailFromStyleMaster",{nodeId:e,type:n,width:18,height:18,maxScale:2});if(r&&r.status===t.LOADING_THUMBNAIL)return t.LOADING_THUMBNAIL;const s=t.cacheThumbDataAndGetUrl(a);return s||(console.error(`failed to generate thumbnail for node ${e}`),t.FAILED_THUMBNAIL)}),t.getThumbnailUrlForStyleConsumer=((e,n)=>{const r=o.fullscreen.sendMessage("generateThumbnailFromStyleConsumer",{nodeId:e,inheritStyleKeyField:n,width:18,height:18,maxScale:2}).buffer,a=t.cacheThumbDataAndGetUrl(r);return a||(console.error(`failed to generate thumbnail for node ${e}`),t.FAILED_THUMBNAIL)}),t.getSerializableThumbnailForStyle=((e,t,n)=>{if(!u.cssThumbnailMaybeSupported(t))return{type:"INVALID"};const r=o.fullscreen.sendMessage("generateSerializableThumbnailForStyle",{nodeId:e,type:t,field:n}).buffer,a=r.length>0?c.schema.decodeMessage(r):null,s=a&&a.nodeChanges&&a.nodeChanges[0]||null;return s?u.extractStyleThumbnailFromNodeChange(s,t):(console.error(`failed to generate serializable thumbnail for node ${e}`),{type:"INVALID"})}),t.cacheThumbDataAndGetUrl=(e=>{if(e.length>0){const t=URL.createObjectURL(new Blob([e]));return m[t]=e,t}return null}),t.getBufferForThumbnailUrl=(e=>{const t=m[e];if(!t)throw new Error(`No buffer in cache for thumbnail url ${e}`);return t}),t.revokeThumbnailUrl=(e=>{m[e]&&(URL.revokeObjectURL(e),delete m[e])});let d=null;function f(e){return Object.keys(e).map(t=>e[t]).filter(e=>!e.unpublished_at)}(()=>{const e=document.createElement("canvas");e.width=1,e.height=1,e.toBlob&&e.toBlob(e=>{const n=new FileReader;n.onload=(()=>{const e=n.result;d=t.cacheThumbDataAndGetUrl(new Uint8Array(e))}),n.readAsArrayBuffer(e)},"image/png")})(),t.getEmptyThumbnailUrl=(()=>d),t.generatePublishableBufferForStyleOrSymbol=(e=>o.fullscreen.sendMessage("generatePublishableBufferForStyleOrSymbol",{guid:e}).buffer),t.generateComponentKeyForNode=(e=>{const t=o.fullscreen.sendMessage("generateComponentKeyForNode",{guid:e});if(t&&t.args&&t.args.componentKey)return t.args.componentKey;throw new Error(`Could not generate component key for node id ${e}`)}),t.storeComponentKeyInFullscreen=((e,t)=>{o.fullscreen.sendMessage("storeComponentKey",{guid:e,componentKey:t})}),t.componentsForFile=f,t.sortedLibraryItemsForFile=function(e){const t=f(e);return h.sortAlphabeticallyByProperty(t,"name"),t},t.hasPendingUpdatesToPublish=(e=>{const t=s.canAccessProFeature(e.teams[e.fileByKey[e.editingFileKey].team_id]);let n=f(e.library.local.styles||{});t&&(n=n.concat(f(e.library.local.components||{})));let r=0,a=0;for(let o of n)o.status!==l.LibraryStatus.CURRENT&&o.status!==l.LibraryStatus.NOT_STAGED&&r++,o.status!==l.LibraryStatus.CURRENT&&o.status!==l.LibraryStatus.CHANGED&&o.status!==l.LibraryStatus.DELETED&&o.status!==l.LibraryStatus.CAN_UPGRADE||a++;return a>0&&r>0}),t.getNameParts=(e=>e.split("/").filter(e=>!!e).map(e=>e.trim())),t.getNamePrefix=(e=>{const n=t.getNameParts(e);return n.pop(),n.join("/")}),t.getLastPartOfName=(e=>{const n=t.getNameParts(e);return n.length?n[n.length-1]:""}),t.getComponentLogData=(e=>r(this,void 0,void 0,function*(){let t=[];const n=(yield a.default.post("/api/component_log_data",{components:e})).data.meta.components;if(n.length<e.length)for(const r of e){n.find(e=>e.component_key===r.component_key&&e.content_hash===r.content_hash)||console.error(`Component log data for component ${r.component_key} version ${r.content_hash} is missing`)}for(const e of n)e.canvas_url&&0!==e.canvas_url.length?t.push(e):console.error(`Canvas URL missing from component ${e.component_key} version ${e.content_hash}.`);return t}));const g=e=>{let t="Detaching failed with error";e.data?t=`Http request failure (${e.data.status}): ${e.data.message}`:e.message&&(t=e.message),o.fullscreen.showVisualBell("detach_instance",t,1e4,!0)};t.fetchComponentSceneGraphsForDetachInstance=((e,n)=>r(this,void 0,void 0,function*(){let r;try{r=yield t.getComponentLogData(n)}catch(s){return g(s),Promise.resolve(!1)}let a=0;try{const n=(new Date).getTime();let l=0;for(const s of r){const n=yield t.componentSceneGraphCache.get({canvas_url:s.canvas_url});a+=n.byteLength;const r={guid:s.node_id,versionHash:s.content_hash,fileKey:s.file_key,editingFileKey:e,componentKey:s.component_key,isUnflattened:!0},i=o.fullscreen.sendMessage("upsertSharedSymbol",r,n);i&&i.args&&i.args.localGUID||(console.error(`Couldn't upsert shared symbol container in scene for componentKey ${s.component_key} version ${s.content_hash}.`),l+=1)}return i.segment.track("publishing_buffer_fetch_for_detach",{latency:(new Date).getTime()-n,num_versions_fetched:r.length,total_bytes:a,failed_to_upsert_in_scene:l}),Promise.resolve(!0)}catch(s){return g(s),Promise.resolve(!1)}}));t.componentSceneGraphCache=new class{constructor(){this.get=(e=>{if(e.canvas_url in this.cache)return Promise.resolve(this.cache[e.canvas_url]);if(e.canvas_url in this.requestsInFlight)return this.requestsInFlight[e.canvas_url];{const t=a.default.get(e.canvas_url,null,{responseType:"arraybuffer"}).then(({data:t})=>(delete this.requestsInFlight[e.canvas_url],this.cache[e.canvas_url]=t,t));return this.requestsInFlight[e.canvas_url]=t,t.catch(t=>{throw delete this.requestsInFlight[e.canvas_url],t}),t}}),this.clearCache=(()=>{this.cache=Object.create(null),this.requestsInFlight=Object.create(null)}),this.clearCache()}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(232                        ),c=t(165                                 );function n(e,a){return e.name<a.name?-1:1}a.getConnectSlackUrl=function(e){return`/slack/${e.id}/connect`},a.getFirstTeamAlphabetically=function(e,a){const t=Object.keys(a.byTeamId).map(a=>e[a]);return t.length?(t.sort(n),t[0]):null};const r=c.createReducerWithPrecheck((e,a)=>s.team.fetchedRoles.matches(a)?Object.assign({},e,{appData:Object.assign({},e.appData,{fetchedRoles:!0})}):s.team.initMembers.matches(a)&&a.payload.teamId===e.id?Object.assign({},e,{appData:Object.assign({},e.appData,{members:a.payload.members})}):e,{shouldIgnoreAction:e=>!s.team.fetchedRoles.matches(e)&&!s.team.initMembers.matches(e)});function i(e,a){if(!e)return{};if(s.fileBrowser.hydrate.matches(a)){let e={};for(let t of a.payload.teams||[])e[t.id]=t;return e}if(s.team.post.matches(a))return Object.assign({},e,{[a.payload.team.id]:a.payload.team});if(s.team.del.matches(a)){let t=Object.assign({},e);return delete t[a.payload.team.id],t}if(s.team.rename.matches(a)){let t=Object.assign({},e[a.payload.team.id],{name:a.payload.name});return Object.assign({},e,{[a.payload.team.id]:t})}if(s.team.changeOrgAccess.matches(a)){let t=Object.assign({},e[a.payload.team.id],{org_access:a.payload.orgAccess});return Object.assign({},e,{[t.id]:t})}if(s.team.put.matches(a)){const t=e[a.payload.team.id];return Object.assign({},e,{[a.payload.team.id]:Object.assign({},t,a.payload.team)})}return a.type,c.reduceObject(e,a,r)}a.teams=i,a.default=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(232                        ),r=a(1432                                       ),l=a(1430                                             ),n=a(553                                                     ),s=a(97      ),o=a(283         ),c=a(129                               ),y=a(1428                      ),p=a(1471                    ),u=a(281                                  ),d=a(522                            ),b=a(371                       ),m=a(126                     ),h=a(374                            ),f=a(1417                       ),_=a(173                        ),g=a(129                               ),S=a(1427                      ),T=a(410                            );let L=!1;function E(e,t){if(!e||!t)return!0;for(const a in e){if(!(a in t))return!0;const i=e[a],r=t[a];for(const e in i)if(i[e]!==r[e])return!0;for(const e in r)if(!(e in i))return!0}for(const a in t)if(!(a in e))return!0;return!1}t.resetPublishChangesNotification=(()=>L=!1);const I=(e,t,{data:a})=>{const r=e.getState(),n=r.fileByKey,s=a.meta,o=Object.create(null);s.forEach(e=>{e.meta&&(e.meta=T.parseLibraryMeta(e.meta));const t=e.file_key,a=n[t];if(!a)return;const i=a.team_id||b.NO_TEAM_ID;o[i]=o[i]||Object.create(null),o[i][t]=o[i][t]||Object.create(null),o[i][t][e.node_id]=e}),e.dispatch(i.library.initialize({publishedItemsByTeamId:o,type:t})),r.selectedView&&r.selectedView.fullscreen&&e.dispatch(l.updateLibraryFromPublishedAndLocalData())};t.getLibrary=(e=>{if(!e.getState().user)return;const t=e.getState().currentOrgId,a={org_id:t},i={retryCount:5};s.default.get("/api/components",a,i).then(I.bind(null,e,b.LibraryItemType.COMPONENT));const r=s.default.get("/api/styles",a,i).then(I.bind(null,e,b.LibraryItemType.STYLE)),l=s.default.get("/api/library_team_subscription_overrides",a,i).then(({data:t})=>{e.dispatch(n.initializeTeamSubscriptions({fileSubscriptionsByTeamId:t.meta}))}),o=s.default.get("/api/library_user_subscriptions",null,i).then(({data:t})=>{e.dispatch(n.initializeUserSubscriptions({subscriptions:t.meta}))});let c;const y=[r,l,c=t?s.default.get(`/api/library_org_subscriptions/${t}`,null,i).then(({data:t})=>{e.dispatch(n.initializeOrgSubscriptions({subscriptions:t.meta}))}):Promise.resolve(null),o];Promise.all(y).then(()=>{e.dispatch(n.prefetchSubscribedStyles())}).catch(()=>{})});let D=!1;t.default=(e=>a=>(function(n){if(i.fileBrowser.hydrate.matches(n))return a(n),void e.dispatch(i.library.getLibraryState({}));if(i.library.updateComponentsForResource.matches(n)){let t,r;const o=n.payload.resourceIdOrKey;switch(n.payload.resourceType){case m.ResourceType.FILE:r="files";break;case m.ResourceType.FOLDER:r="folders";break;case m.ResourceType.TEAM:r="teams",t=o}return s.default.get(`/api/${r}/${o}/components`).then(({data:a})=>{const r=e.getState(),n=a.meta,s=Object.create(null);n.forEach(e=>{const t=e.file_key;s[t]=s[t]||Object.create(null),s[t][e.node_id]=e}),t?e.dispatch(i.library.updateComponentsForTeam({componentsByFileKey:s,teamId:t})):Object.keys(s).forEach(t=>{e.dispatch(i.library.put({itemsById:s[t],file:r.fileByKey[t],type:b.LibraryItemType.COMPONENT}))}),r.selectedView&&r.selectedView.fullscreen&&e.dispatch(l.updateLibraryFromPublishedAndLocalData())}),a(n)}if(n.type===i.fileBrowser.SELECT_VIEW){const r=e.getState();if(r.selectedView&&r.selectedView.fullscreen&&!n.payload.fullscreen)e.dispatch(i.library.clearLocal()),e.dispatch(i.library.setLibraryView({teamId:null,scrollTop:0,modalPosition:null,size:null})),r.library.notification&&e.dispatch(i.library.hideNotification()),r.library.librarySearchQuery&&e.dispatch(i.library.setLibraryQuery({query:""})),r.modalShown&&e.dispatch(i.fileBrowser.hideModal()),S.componentSceneGraphCache.clearCache(),l.resetFirstUpdatesComputed(),t.resetPublishChangesNotification();else if((!r.selectedView||!r.selectedView.fullscreen)&&n.payload.fullscreen){if(a(n),!r.library.currentLibraryView.teamId){const t=p.getEditingFile(e.getState());if(t&&t.team_id&&t.team_id in r.teams)e.dispatch(i.library.setLibraryView({teamId:t.team_id}));else{const t=y.getFirstTeamAlphabetically(r.teams,r.roles),a=t?t.id:null;e.dispatch(i.library.setLibraryView({teamId:a}))}}return}return a(n)}if(i.library.getLibraryState.matches(n))return t.getLibrary(e),a(n);if(i.library.setLibraryView.matches(n))return e.dispatch(i.library.setLibraryQuery({query:""})),a(n);if(i.fullscreen.setLeftPanelTab.matches(n)){const t=e.getState();if(n.payload.tab===c.LeftPanelTab.TEAM_LIBRARY&&t.leftPanel.activeTab===c.LeftPanelTab.TEAM_LIBRARY&&t.library.currentLibraryView.fileKey){const a=t.fileByKey[t.library.currentLibraryView.fileKey],r=t.teams[a.team_id];e.dispatch(i.library.setLibraryView({teamId:r.id,fileKey:null}))}return a(n)}if(i.fullscreen.updateMirror.matches(n)&&n.payload.appModel)return n.payload.appModel.subscribedComponents||n.payload.appModel.subscribedStyles?(a(n),void l.computeUpdates(e)):a(n);if(i.team.del.matches(n)){a(n);const t=e.getState();if(t.library.currentLibraryView.teamId===n.payload.team.id){const a=y.getFirstTeamAlphabetically(t.teams,t.roles),r=a?a.id:null;e.dispatch(i.library.setLibraryView({teamId:r}))}}else{if(i.library.generateComponentThumbnails.matches(n)){const t=e.getState();if(t.leftPanel.activeTab===c.LeftPanelTab.PUBLISH||t.modalShown&&t.modalShown.type===f.AppModal.PUBLISH_COMPONENTS_MODAL){const a=t.library.local.components,r=1/60,l=(new Date).getTime();for(let t of h.localComponentsAsSortedList(a)){const s=t.node_id,o=a[s];if((o.status!==b.LibraryStatus.DELETED||!o.deletedFromSceneGraph&&n.payload.includeDeleted)&&(o.status!==b.LibraryStatus.NOT_STAGED&&o.status!==b.LibraryStatus.CURRENT||n.payload.includeNotChanged)&&(!a[s].thumbnail_url||a[s].thumbnailDirty)){const t=S.getThumbnailUrlForComponent(s);if(!t)continue;e.dispatch(i.library.updateThumbnail({nodeId:s,thumbnailUrl:t,type:b.LibraryItemType.COMPONENT})),((new Date).getTime()-l)/1e3<r&&!D&&(requestAnimationFrame(()=>{D=!1,e.dispatch(i.library.generateComponentThumbnails({includeDeleted:n.payload.includeDeleted,includeNotChanged:n.payload.includeNotChanged}))}),D=!0);break}}}return a(n)}if(i.library.generateStyleThumbnails.matches(n)){const t=e.getState().library.local.styles,r=n.payload.styleType;for(let a in t){const l=t[a];if(l.style_type!==r)continue;const n=!T.cssThumbnailDefinitelySupported(r)&&(l.thumbnailDirty||!l.thumbnail_url||l.thumbnail_url===S.LOADING_THUMBNAIL),s=T.cssThumbnailMaybeSupported(r)&&(l.thumbnailDirty||T.hasInvalidCssThumbnail(l));if(n||s){e.dispatch(i.library.generateLocalStyleThumbnail({style:l})),requestAnimationFrame(()=>{e.dispatch(i.library.generateStyleThumbnails({styleType:r}))});break}}return a(n)}if(i.library.generateLocalStyleThumbnail.matches(n)){const t=n.payload.style,r=t.style_type,l=!T.cssThumbnailDefinitelySupported(r)&&(t.thumbnailDirty||!t.thumbnail_url||t.thumbnail_url===S.LOADING_THUMBNAIL),s=T.cssThumbnailMaybeSupported(r)&&(t.thumbnailDirty||T.hasInvalidCssThumbnail(t));if(l||s){let a=t.thumbnail_url,r=t.meta?t.meta.style_thumbnail:null;l&&(a=S.getThumbnailUrlForStyle(t.node_id,t.style_type)),s&&(r=S.getSerializableThumbnailForStyle(t.node_id,t.style_type)),e.dispatch(i.library.updateThumbnail({nodeId:t.node_id,thumbnailUrl:a,styleThumbnail:r,type:b.LibraryItemType.STYLE}))}return a(n)}if(i.library.updateThumbnail.matches(n)){const{nodeId:t,thumbnailUrl:r,styleThumbnail:l}=n.payload,s=n.payload.type===b.LibraryItemType.COMPONENT?e.getState().library.local.components:e.getState().library.local.styles;if(!(t in s))return a(n);const o=s[t].thumbnail_url;return o&&r&&S.revokeThumbnailUrl(o),e.dispatch(i.library.replaceLocalItems({local:Object.assign({},s,{[t]:Object.assign({},s[t],{thumbnail_url:r,thumbnailDirty:!1,meta:Object.assign({},s[t].meta,{style_thumbnail:l})})}),type:n.payload.type})),a(n)}if(r.publishRequestFinished.matches(n))return t.resetPublishChangesNotification(),a(n);if(i.library.put.matches(n)){const t=e.getState().library.updates.components,r=e.getState().library.published.styles,s={},o=n.payload.file,c=o.team_id||b.NO_TEAM_ID;for(let e in n.payload.itemsById)r[c]&&r[c][o.key]&&r[c][o.key][e]||n.payload.type!==b.LibraryItemType.STYLE||(s[n.payload.itemsById[e].key]=!0);if(Object.keys(s).length>0)for(let a in r){const t=r[a];for(let r in t){const l=t[r],y=[];for(let e in l)a===c&&r===o.key&&n.payload.itemsById[e]||s[l[e].key]&&y.push(e);y.length>0&&e.dispatch(i.library.del({nodeIds:y,file:e.getState().fileByKey[r],type:b.LibraryItemType.STYLE}))}}if(a(n),p.getEditingFile(e.getState())){e.dispatch(l.updateLibraryFromPublishedAndLocalData());const a=e.getState(),r=a.library.updates.components;if(h.getNumLibraryItems(t)<h.getNumLibraryItems(r)){const t=p.getEditingFile(a);t&&_.canEditFile(t.key,a)&&e.dispatch(i.library.showNotification({notification:{type:b.ComponentNotificationType.UPDATES_AVAILABLE,message:"Component updates available"}}))}}}else{if(!i.library.del.matches(n)){if(i.library.clearLocal.matches(n)){const t=e.getState(),i=e=>{for(const t in e)e[t].thumbnail_url&&S.revokeThumbnailUrl(e[t].thumbnail_url)};return i(t.library.local.components),i(t.library.local.styles),a(n)}if(i.library.setSparseDragState.matches(n)){const t=!!e.getState().library.dragState.draggingComponent;a(n);const i=!!e.getState().library.dragState.draggingComponent;return void(t!==i&&g.Fullscreen.setIsDraggingInstanceFromSidebar(i))}return a(n)}{a(n);const t=e.getState();if(p.getEditingFile(t)){e.dispatch(l.updateLibraryFromPublishedAndLocalData());const a=t.library.published,r=n.payload.file;r.team_id&&o.isEmpty(a.components[r.team_id])&&e.dispatch(i.library.setLibraryView({teamId:null,fileKey:null})),a.styles[r.team_id]&&!a.styles[r.team_id][r.key]&&e.getState().colorPicker.selectedSwatchSetId===r.key&&e.dispatch(i.colorPicker.selectSwatchSet({swatchId:d.DOCUMENT_SWATCH_SET_ID}))}}}}})),t.computeLocal=function(e){const a=e.getState(),r=a.mirror&&null!=a.mirror.appModel&&null!=a.mirror.appModel.publishableComponents&&null!=a.mirror.sceneGraph,l=p.getEditingFile(a);if(!r||!l)return;let n=0;const s=(e,t,a,i)=>{const r=Object.create(null);t.forEach(t=>{const s=t.nodeId,o=i[s];r[s]=e(o,a[s],t,l.key),r[s].status===b.LibraryStatus.CHANGED&&(n+=1)});for(const l in i)if(!(l in r)){const e=i[l].thumbnail_url;e&&S.revokeThumbnailUrl(e)}for(const n in a)n in r||(r[n]=e(i[n],a[n],null,l.key));return r},o=s(t.generateLocalComponent,a.mirror.appModel.publishableComponents,h.publishedLibraryItemsForFile(a.library.published.components,l),a.library.local.components),c=s(t.generateLocalStyle,a.mirror.appModel.styles,h.publishedLibraryItemsForFile(a.library.published.styles,l),a.library.local.styles);if(E(a.library.local.components,o)&&e.dispatch(i.library.replaceLocalItems({local:o,type:b.LibraryItemType.COMPONENT})),E(a.library.local.styles,c)&&e.dispatch(i.library.replaceLocalItems({local:c,type:b.LibraryItemType.STYLE})),n>0)!L&&_.canEditFile(l.key,a)&&(e.dispatch(i.library.showNotification({notification:{type:b.ComponentNotificationType.PUBLISHED_COMPONENT_UPDATED,message:"Publish your changes to your team library."}})),L=!0);else{const t=e.getState().library.notification;t&&t.type===b.ComponentNotificationType.PUBLISHED_COMPONENT_UPDATED&&e.dispatch(i.library.hideNotification())}};const C=(e,t,a,i)=>{if(!t&&!a)return console.error("Generating a local library item that is neither in the library nor in the scene graph. Why."),null;if(t&&!a)return Object.assign({},t,{status:b.LibraryStatus.DELETED,deletedFromSceneGraph:!0});const r=t&&null==t.unpublished_at,l=!(!a||null==a.isPublishable)&&a.isPublishable,n={node_id:a?a.nodeId:t.node_id,name:a?a.name:t.name,description:a?a.description:t.description,file_key:i,isPublishable:l,deletedFromSceneGraph:!1,thumbnail_url:e&&e.thumbnail_url||t&&t.thumbnail_url||void 0,thumbnailDirty:e?e.thumbnailDirty:void 0,meta:e?e.meta:void 0};return t&&t.thumbnail_url===n.thumbnail_url&&(n.thumbnailDirty=!0),e&&a&&e.content_hash!==a.versionHash&&(n.thumbnailDirty=!0),r&&!l?n.status=b.LibraryStatus.DELETED:(n.content_hash=a.versionHash,!r&&l?n.status=b.LibraryStatus.NEW:r||l?r&&l&&(!t.is_unflattened&&a.isUnflattened&&g.SceneGraphHelpers.symbolContainsInstance(t.node_id)?t.content_hash===n.content_hash?n.status=b.LibraryStatus.CAN_UPGRADE:n.status=b.LibraryStatus.CHANGED:t&&t.content_hash===n.content_hash&&u.componentContainersEqual(t.containing_frame,a.containingFrame)&&u.stringsAreEqualOrBothFalsey(t.name,a.name)&&u.stringsAreEqualOrBothFalsey(t.description,n.description)&&u.stringsAreEqualOrBothFalsey(t.sort_position,a.sortPosition)?n.status=b.LibraryStatus.CURRENT:n.status=b.LibraryStatus.CHANGED):n.status=b.LibraryStatus.NOT_STAGED),n};t.generateLocalComponent=((e,t,a,i)=>{const r=C(e,t,a,i);return r.is_unflattened=!!a&&a.isUnflattened,r.containing_frame=a?a.containingFrame:t?t.containing_frame:null,r.component_key=t?t.component_key:null,r}),t.generateLocalStyle=((e,t,a,i)=>{const r=C(e,t,a,i);return a?(r.key=a.styleKey,r.style_type=a.styleType,r.is_soft_deleted=a.isSoftDeleted,r.sort_position=a.sortPosition):t&&(r.style_type=t.style_type,r.is_soft_deleted=t.is_soft_deleted,r.sort_position=t.sort_position),r}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(232                        ),s=n(1471                    ),i=n(198         ),r=n(220                      ),a=n(173                        ),c=n(1427                      ),l=n(1426                               ),p=n(563                                ),d=n(374                            ),y=n(371                       ),f=n(101                               ),h=n(1417                       ),m=n(129                               ),g=n(97      ),u=n(219          ),S=n(1429                             );let _=!1;function b(e,t){if(!e||!t)return!0;function n(e,t){for(const n in e){const o=e[n],s=t[n];if(!s)return!1;for(const e in o){const t=o[e],n=s[e];if(!n)return!1;for(const e in t)if(!n[e])return!1}}return!0}return!n(e,t)||!n(t,e)}function A(e){const n=e.getState(),i=s.getEditingFile(n);if(!i||!a.canEditFile(i.key,n))return;const r=(e=[],t)=>{const n=Object.create(null);for(let s of e){const e=l.fullscreen.sendMessage("getKeyAndVersionOfSharedMaster",{nodeId:s}).args;e&&e.key&&(n[e.key]=n[e.key]||new Set,n[e.key].add(e.versionHash))}const o=Object.create(null);for(let s in t)for(let e in t[s])for(let i in t[s][e]){const r=t[s][e][i],a=r.component_key||r.key;if(a in n){const t=n[a];if(0===t.size)continue;let c=!1;if(1===t.size){const e=Array.from(t)[0];c=r.content_hash.toLowerCase()!==e.toLowerCase()}else c=!0;c&&(o[s]=o[s]||Object.create(null),o[s][e]=o[s][e]||Object.create(null),o[s][e][i]=r)}}return o},c=r(n.mirror.appModel.subscribedComponents,n.library.published.components),p=r(n.mirror.appModel.subscribedStyles,n.library.published.styles);if(b(n.library.updates.components,c)&&e.dispatch(o.library.replaceUpdates({itemsByTeamId:c,type:y.LibraryItemType.COMPONENT})),b(n.library.updates.styles,p)&&e.dispatch(o.library.replaceUpdates({itemsByTeamId:p,type:y.LibraryItemType.STYLE})),Object.keys(c).length+Object.keys(p).length>0)_||(_=!0,e.dispatch(o.library.showNotification({notification:{type:y.ComponentNotificationType.UPDATES_AVAILABLE,message:"Component updates available"}})));else{const n=e.getState().library.notification;n&&n.type===y.ComponentNotificationType.UPDATES_AVAILABLE&&e.dispatch(o.library.hideNotification()),t.resetFirstUpdatesComputed()}}t.resetFirstUpdatesComputed=(()=>_=!1),t.computeUpdates=A,t.swapToSharedComponent=f.asyncActionCreator("SWAP_TO_SHARED_COMPONENT",(e,t)=>{const{component:n,instanceGUIDs:i}=t,a=s.getEditingFile(e.getState());c.componentSceneGraphCache.get(n).then(t=>{const s=l.fullscreen.sendMessage("upsertSharedSymbol",{guid:n.node_id,versionHash:n.content_hash,fileKey:n.file_key,editingFileKey:a.key,componentKey:n.component_key,isUnflattened:n.is_unflattened},t);s&&s.args&&s.args.localGUID?l.fullscreen.sendMessage("replaceSymbolBackingInstances",{symbolGUID:s.args.localGUID,instanceGUIDs:i}):e.dispatch(o.flash.error("An error occurred while adding an instance of this component."))}),r.trackEventForFile("Instance Swapped To Shared Component",a.key,e.getState(),{componentFileKey:n.file_key,componentId:n.id})});const E=f.asyncActionCreator("TRY_HANDLING_DROP_EVENTS_AS_COMPONENT_DROP",(e,t)=>{const n=t.dataTransfer.getData("text/html");if(n){const s=n.indexOf("\x3c!--(figcomponent)")+"\x3c!--(figcomponent)".length,r=n.indexOf("(/figcomponent)--\x3e");if(s>=0&&r>=0&&s<r){const a=n.substring(s,r).trim();try{const n=JSON.parse(a);if("object"==typeof n){const o=n.fileKey,s=n.nodeId;if(o&&s){const n=l.fullscreen.getViewportInfo(),r=new i.Vector(n.x,n.y),a=new i.Vector(t.clientX,t.clientY).subtract(r),c=p.viewportPositionToCanvas(n,a);console.log(">>>>>> INSERTING COMPONENT VIA DROP HANDLER 1 <<<<<<<"),e.dispatch(C({fileKey:o,nodeId:s,canvasX:c.x,canvasY:c.y}))}}}catch(o){}}}});t.tryHandlingDropEventAsComponentDrop=E;const C=f.asyncActionCreator("INSERT_COMPONENT_OR_SHOW_ERROR",(e,t)=>{const{fileKey:n,nodeId:r,canvasX:a,canvasY:c}=t,l=e.getState(),p=s.getEditingFile(l);let y;if(p&&p.key===n)y=l.library.local.components[r];else{const e=l.fileByKey[n];if(e){y=d.publishedLibraryItemsForFile(l.library.published.components,e)[r]}}y?e.dispatch(k({component:y,canvasPosition:new i.Vector(a,c),percentageOffset:new i.Vector(.5,.5),insertAsChildOfCanvas:!1})):e.dispatch(o.visualBell.enqueue({type:"insert_component_error",message:"This component is not available in your team library",timeout:5e3,error:!0}))});t.insertComponentOrShowError=C;const k=f.asyncActionCreator("INSERT_SHARED_COMPONENT",(e,t)=>{const{component:n,canvasPosition:i,percentageOffset:a,insertAsChildOfCanvas:p}=t,d=s.getEditingFile(e.getState()),y=e.getState();let f;if(d.key===n.file_key){const t=y.library.local.components[n.node_id];if(f="Component Local Symbol Inserted",!t||!y.mirror.sceneGraph.get(t.node_id))return void e.dispatch(o.fileBrowser.showModal({type:h.AppModal.NO_SHARED_INSTANCE_IN_MASTER_FILE_IF_DELETED}));try{l.fullscreen.sendMessage("insertInstance",{guid:t.node_id,x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y,insertAsChildOfCanvas:p}),l.fullscreen.triggerAction("commit"),l.fullscreen.triggerAction("set-tool-default")}catch(m){e.dispatch(o.flash.error("An error occurred while adding an instance of this component.")),u.raiseErrorToSegment(m)}}else f="Component Shared Symbol Inserted",c.componentSceneGraphCache.get(n).then(t=>{const s=l.fullscreen.sendMessage("upsertSharedSymbol",{guid:n.node_id,versionHash:n.content_hash,fileKey:n.file_key,editingFileKey:d.key,componentKey:n.component_key,isUnflattened:n.is_unflattened},t);s&&s.args&&s.args.localGUID?(l.fullscreen.sendMessage("insertInstance",{guid:s.args.localGUID,x:i.x,y:i.y,percentOffsetX:a.x,percentOffsetY:a.y,insertAsChildOfCanvas:p}),l.fullscreen.triggerAction("commit"),l.fullscreen.triggerAction("set-tool-default")):e.dispatch(o.flash.error("An error occurred while adding an instance of this component."))}).catch(t=>{e.dispatch(o.flash.error("An error occurred while adding an instance of this component.")),u.raiseErrorToSegment(t)});r.trackEventForFile(f,d.key,e.getState(),{componentFileKey:n.file_key,componentId:n.id,ComponentCanvasPositionX:i.x,ComponentCanvasPositionY:i.y})});t.insertSharedComponent=k;const T=f.asyncActionCreator("UPDATE_SHARED_COMPONENTS",(e,t)=>{const{components:n}=t;Promise.all(n.map(e=>c.componentSceneGraphCache.get(e))).then(t=>{const o=e.getState().editingFileKey;for(let e=0;e<n.length;e++){const s=n[e],i=t[e];l.fullscreen.sendMessage("updateSharedSymbol",{guid:s.node_id,versionHash:s.content_hash,fileKey:s.file_key,editingFileKey:o,componentKey:s.component_key,isUnflattened:s.is_unflattened},i)}l.fullscreen.triggerAction("commit");const s=n.map(e=>e.id);r.trackEventForFile("Components Updated",o,e.getState(),{components:s})}).catch(t=>{e.dispatch(o.flash.error("An error occurred while updating the instances of this component.")),u.raiseErrorToSegment(t)})});t.updateSharedComponents=T;const O=f.asyncActionCreator("APPLY_STYLE",(e,t)=>{const n=e.getState(),{style:i,inheritStyleKeyField:r}=t,a=s.getEditingFile(n);if(!a)return;const p=i.file_key!==a.key,d="GRID"===i.style_type&&!n.mirror.appModel.showFrameGrids;p?c.componentSceneGraphCache.get(i).then(e=>{l.fullscreen.sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:i.key,fileKey:i.file_key,editingFileKey:a.key,versionHash:i.content_hash},e),l.fullscreen.triggerAction("commit"),d&&l.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),m.Fullscreen.applyStyleToSelection(r,i.key,i.content_hash,!0)}).catch(t=>{e.dispatch(o.flash.error("An error occurred while applying the style to the selection.")),u.raiseErrorToSegment(t)}):(d&&l.fullscreen.updateAppModel({showFrameGridsForced:!0,showFrameGrids:!0}),m.Fullscreen.applyStyleToSelection(r,i.key,i.content_hash,!0)),u.segmentTrackEvent("Style Applied",{styleType:i.style_type,isShared:p})});t.applyStyle=O;const I=f.asyncActionCreator("UPDATE_SHARED_STYLES",(e,t)=>{const{styles:n}=t;Promise.all(n.map(e=>c.componentSceneGraphCache.get(e))).then(t=>{const o=e.getState().editingFileKey;for(let e=0;e<n.length;e++){const s=n[e],i=t[e];l.fullscreen.sendMessage("updateSharedStyle",{styleKey:s.key,fileKey:s.file_key,editingFileKey:o,versionHash:s.content_hash},i)}l.fullscreen.triggerAction("commit"),A(e);const s=n.map(e=>e.id);r.trackEventForFile("Styles Updated",o,e.getState(),{styles:s})}).catch(t=>{e.dispatch(o.flash.error("An error occurred while updating this style.")),u.raiseErrorToSegment(t)})});function F(e){const t=e.getState().library.published.styles,n=s.getEditingFile(e.getState());if(!n||!m.Fullscreen||!l.fullscreen.isReady())return;const o={};for(let s in t)for(let e in t[s])for(let n in t[s][e]){const i=t[s][e][n];o[i.key]=i.file_key}const i=e.getState().library.local.styles,r={},a=[];for(let s in i){const e=i[s];r[e.key]=!0,o[e.key]&&o[e.key]!==e.file_key&&a.push(s)}const c=[];let p=t[n.team_id]&&t[n.team_id][n.key]||{};for(let s in p){r[t[n.team_id][n.key][s].key]||c.push(s)}(a.length>0||c.length>0)&&(m.Fullscreen.changeSharedStyleStatus({localToShared:a,sharedToLocal:c}),l.fullscreen.sendMessage("commit"))}t.updateSharedStyles=I,t.computeMovedStyles=F;const v=f.asyncActionCreator("UPDATE_LIBRARY_FROM_PUBLISHED_AND_LOCAL_DATA",e=>{A(e),S.computeLocal(e),F(e)});t.updateLibraryFromPublishedAndLocalData=v;const N=f.asyncActionCreator("MOVE_SHARED_STYLES",(e,t)=>{let n=t.styles;const i=y.LibraryItemType.STYLE,r=e.getState().editingFileKey;n=n.filter(e=>e.file_key&&e.file_key!==r);Promise.all(n.map(e=>c.componentSceneGraphCache.get(e))).then(t=>{const a={},c=[];for(let e=0;e<n.length;e++){const o=n[e],s=t[e],{localGUID:i}=l.fullscreen.sendMessage("getOrCreateSubscribedStyleNodeId",{styleKey:o.key,versionHash:o.content_hash},s).args;a[o.key]={localGUID:i,fileKey:o.file_key,nodeId:o.node_id},c.push({node_id:i,style_key:o.key,sort_position:""})}m.Fullscreen.getNextStylePositions(c.map(e=>e.node_id)).forEach((e,t)=>c[t].sort_position=e),g.default.put("/api/styles/move",{file_key:r,styles:c}).then(({data:t})=>{((t,n)=>{if(!t||0===Object.keys(t).length)return;const a={},c={},p={};for(let e in t){const o=t[e],s=o.key,i=n[s]&&n[s].fileKey;if(i&&i!==r){const r=n[s].nodeId;a[i]?a[i].push(r):a[i]=[r],c[e]=t[e],p[e]=o.sort_position}}m.Fullscreen.changeSharedStyleStatus({sharedToLocal:p}),l.fullscreen.sendMessage("commit");for(let s in a){const t=a[s],n=e.getState().fileByKey[s];e.dispatch(o.library.del({nodeIds:t,file:n,type:i}))}e.dispatch(o.library.put({itemsById:c,file:s.getEditingFile(e.getState()),type:i}))})(t.meta||Object.create(null),a),e.dispatch(o.library.showNotification({notification:{type:y.ComponentNotificationType.PUBLISH_SUCCESS,message:"Styles successfully moved"}}))}).catch(()=>{e.dispatch(o.library.showNotification({notification:{type:y.ComponentNotificationType.PUBLISH_ERROR,message:"Styles cannot be moved"}}))})})});t.moveSharedStyles=N,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(232                        ),a=i(166                         ),l=i(220                      ),o=i(172                     ),r=i(173                        ),d=i(357                  ),c=i(97      ),n=i(301           ),p=i(95               ),f=i(179               ),y=i(100                     ),u=i(79,1            ),h=i(113                             ),m=i(178              ),g=i(1417                       ),_=i(339             ),E=i(302          );var F=!1;t.createSavepoint=((e,t,i,a="",l)=>{let o=l.getState().fileByKey[e];if(null!=o)return c.default.post(`/api/multiplayer/${e}/create_savepoint?checkpoint_key=${encodeURIComponent(t)}`).then(({data:e})=>{l.dispatch(s.versionHistory.append({history:{versions:[e.meta]},direction:_.PREV_PAGE})),l.dispatch(s.versionHistory.setDocHasChangedSinceLastSavepoint({status:!1})),l.dispatch(s.file.updateSavepoint(o,e.meta.id,i,a))})}),t.dispatchSetActiveUsers=((e,t,i=!1)=>{const a=t.getState();for(let l in e){if(i&&a.activeFileUsers&&l in a.activeFileUsers)continue;const o=e[l],r=[];if(o)for(let e in o){let t=JSON.parse(o[e]);r.push(t)}t.dispatch(s.file.setActiveUsers({fileKey:l,users:r}))}});const v=n.debounce((e,i)=>{let s=i.getState();s.activeFileUsers&&(e=e.filter(e=>!(e in s.activeFileUsers))),e.length&&c.default.post("/api/active_file_users",{keys:e}).then(e=>{const s=e.data.meta.active_file_users;t.dispatchSetActiveUsers(s,i,!0)}).catch(e=>{})},1e3);t.default=(e=>i=>(function(n){const _=()=>{e.dispatch(s.file.restoreTrashedFiles(n.payload.fileKeys,!0)),e.dispatch(s.visualBell.dequeue({}))};if(s.file.getActiveUsers.matches(n))return v(n.payload.fileKeys,e),i(n);if(s.file.tryDeleteFiles.matches(n)){for(let t in n.payload.filesByKey){const a=n.payload.filesByKey[t];if(!a.team_id)continue;const l=e.getState().library.published.components[a.team_id],o=l&&l[a.key];if(o)for(let t in o)if(null==o[t].unpublished_at)return e.dispatch(s.fileBrowser.showModal({type:g.AppModal.FILE_DELETE_COMPONENT_UNPUBLISH_WARNING,data:{filesToDeleteByKey:n.payload.filesByKey}})),i(n)}return e.dispatch(s.file.deleteFiles(n.payload.filesByKey,!0)),e.dispatch(s.file.resetFileSelection()),i(n)}if(s.orgs.switchActiveOrg.matches(n))F=!1,e.dispatch(s.fileBrowser.setDeletedFiles([]));else if(s.team.del.matches(n))return F=!1,e.dispatch(s.fileBrowser.setDeletedFiles([])),i(n);switch(n.type){case s.file.COPY_SELECTED_FILES_TO_DRAFTS:case s.file.COPY_SELECTED_FILES:{let t=e.getState();const o=a.getUserDefaultFolder(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers).id;let d=Object.keys(e.getState().fileSelect.selectedFileKeys).map(e=>{let i=t.fileByKey[e];return{key:e,folderId:!n.payload.toDrafts&&r.canEditFolder(i.folder_id,t)?i.folder_id:o}});return f.parallel(d.map(({key:t,folderId:i})=>{const a=c.default.post(`/api/multiplayer/${t}/copy?${p.encode({folder_id:i})}`);return a.catch(({data:t})=>{t&&t.message?e.dispatch(s.flash.error(t.message)):e.dispatch(s.flash.error("An error occurred while duplicating this file."))}),a})).then(i=>{if(!i.some(e=>"reject"===e.type)){let a=d.filter(e=>e.folderId===o).length;if(a>0&&t.selectedView.folderId!==o){const t=(1===d.length?"File":a===d.length?a+" files":"Some files")+" duplicated to your Drafts",i={text:"Show",action:()=>{e.dispatch(s.fileBrowser.selectView({folderId:o})),e.dispatch(s.visualBell.dequeue({}))}};e.dispatch(s.visualBell.enqueue({type:"file_duplicated",message:t,button:i}))}const r=i.map(e=>e.resolve.data.meta);l.trackEventForFileCopy(d,r,e.getState())}}),i(n)}case s.file.DELETE_FILES:case s.file.DELETE_FILES_FOREVER:{let t=n.type===s.file.DELETE_FILES;if(n.payload.userInitiated){let a=y.getOptimisticTransactionID(),o=Object.keys(n.payload.fileKeys);c.default.del("/api/files_batch",{files:o.map(e=>({key:e})),trashed:t}).then(l=>{if(207===l.status){i({type:null,optimist:{type:u.REVERT,id:a}});try{let t=JSON.parse(l.response),i={};Object.keys(t.meta.success).forEach(e=>{i[e]=!0});let a=d.getDeleteFilesPayload(i,e.getState(),!1);e.dispatch(s.file.deleteFiles(a,!1)),e.dispatch(s.flash.error(t.message))}catch(r){e.dispatch(s.flash.error("An error occurred while deleting these files."))}}else{const l=1===o.length?"File deleted":`${o.length} files deleted`;t?e.dispatch(s.visualBell.enqueue({type:"file_deleted",message:l,button:{text:"Undo",action:_}})):e.dispatch(s.visualBell.enqueue({type:"file_deleted",message:`${l} forever`})),i({type:null,optimist:{type:u.COMMIT,id:a}})}}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(s.flash.error(t.message))}catch(l){e.dispatch(s.flash.error("An error occurred while deleting these files."))}i({type:null,optimist:{type:u.REVERT,id:a}})}),(n=Object.assign({},n)).optimist={type:u.BEGIN,id:a};const r=t?"File Trashed":"File Deleted";return l.trackBatchEventForFiles(r,o,e.getState()),i(n)}return i(n)}case s.file.RESTORE_TRASHED_FILES:if(n.payload.userInitiated){let t=e.getState(),o=y.getOptimisticTransactionID(),r=Object.keys(n.payload.fileKeys);c.default.post("/api/files_batch/restore",{files:r.map(e=>({key:e}))}).then(l=>{if(207===l.status){i({type:null,optimist:{type:u.REVERT,id:o}});try{let t=JSON.parse(l.response),i={};Object.keys(t.meta.success).forEach(e=>{i[e]=!0});let a=d.getRestoreFilesPayload(i,e.getState(),!1);e.dispatch(s.file.restoreTrashedFiles(a,!1)),e.dispatch(s.flash.error(t.message))}catch(c){e.dispatch(s.flash.error("An error occurred while restoring these files."))}}else{let l,d=1===r.length?"File restored":`${r.length} files restored`,c=null,n=!0;for(let e of r)if(null===c)c=t.fileByKey[e].folder_id;else if(c!==t.fileByKey[e].folder_id){n=!1;break}if(n){const i=e.getState().selectedView;if(!i||i.folderId!==c){const i=a.getUserDefaultFolder(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers).id;l={text:`Show in ${c===i?"Drafts":"project"}`,action:()=>{e.dispatch(s.fileBrowser.selectView({folderId:c})),e.dispatch(s.visualBell.dequeue({}))}}}}e.dispatch(s.visualBell.enqueue({type:"file_restored",message:d,button:l})),i({type:null,optimist:{type:u.COMMIT,id:o}})}}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(s.flash.error(t.message))}catch(a){e.dispatch(s.flash.error("An error occurred while restoring these files."))}i({type:null,optimist:{type:u.REVERT,id:o}})}),(n=Object.assign({},n)).optimist={type:u.BEGIN,id:o};const p=Object.keys(n.payload.fileKeys);return l.trackBatchEventForFiles("File Restored",p,e.getState()),i(n)}return i(n);case s.file.UPDATE_SAVEPOINT:{const t=c.default.put(`/api/versions/${n.payload.file.key}/${n.payload.savepointID}`,{label:n.payload.label,description:n.payload.description});return y.optimisticRequest({requestPromise:t,fallbackError:"An error occurred while updating this version.",store:e,next:i,action:n}),i(n)}case s.file.DUPLICATE:case s.file.DUPLICATE_CHECKPOINT:{let t=e.getState(),o=!!t.editingFileKey,d={},f=t.fileByKey[n.payload.file.key],u=r.canEditFolder(f.folder_id,t);const h=a.getUserDefaultFolder(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers).id;d.folder_id=u?f.folder_id:h,n.type===s.file.DUPLICATE_CHECKPOINT&&(d.checkpoint_key=n.payload.checkpointKey);let m=c.default.post(`/api/multiplayer/${f.key}/copy?${p.encode(d)}`).then(({data:t})=>{if(!t.error&&t.meta&&o){const i=t.meta;l.trackEventForFile("File Duplicated",f.key,e.getState(),{duplicatedFileKey:i.key,duplicatedContainingFolderId:i.folder_id,duplicatedFileTeamId:i.team_id}),e.dispatch(s.visualBell.enqueue({type:"file_duplicated",message:`File duplicated${u?"":" to your Drafts"}`,button:{text:"Open",action:t=>{e.dispatch(s.visualBell.dequeue({})),t.shiftKey||t.ctrlKey||t.metaKey?E.redirect(i.url,"_blank"):e.dispatch(s.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:i.key}}))}}}))}});return y.optimisticRequest({requestPromise:m,fallbackError:"An error occurred while copying this file.",store:e,next:i,action:n})}case s.file.TRY_MOVE:if(i(n),n.payload.files.length>0){const t=e.getState(),i=n.payload.folder;if(!r.canEditFolder(i.id,t))return void e.dispatch(s.flash.error(`You don't have permission to move files into '${i.name}.'`));let a=null,l=!1,d=null;for(let o of n.payload.files){const i=t.folders[o.folder_id];if(!r.canManageFile(o.key,t,!0))return void e.dispatch(s.flash.error(`You don't have permission to remove files from ${i?i.name:"this project"}.`));a?a.id!==i.id&&(l=!0):a=i}if(i.team_id&&(!a||a.team_id!==i.team_id)&&o.isFolderEditingLockedForUser(i,t))return void e.dispatch(s.fileBrowser.showModal({type:g.AppModal.UPSELL_MOVE_FILE_MODAL,data:{teamId:i.team_id}}));if(a)if(a.team_id){let e=t.teams[a.team_id];l?d=`Are you sure you want to move these files? Members of ${e?e.name:"this team"} may lose access to some of them.`:a.team_id!==i.team_id&&(d=1===n.payload.files.length?`Are you sure you want to move this file? Members of ${e?e.name:"this team"} may lose access to it.`:`Are you sure you want to move these files? Members of ${e?e.name:"this team"} may lose access to them.`)}else r.isFolderShared(a.id,t)&&(d=l?`Are you sure you want to move these files? Members of '${a.name}' may lose access to some of them.`:1===n.payload.files.length?`Are you sure you want to move this file? Members of '${a.name}' may lose access to it.`:`Are you sure you want to move these files? Members of '${a.name}' may lose access to them.`);else d=l?"Are you sure you want to move these files? Members of the previous projects may lose access to them.":1===n.payload.files.length?"Are you sure you want to move this file? Members of the previous project may lose access to it.":"Are you sure you want to move these files? Members of the previous project may lose access to them.";d&&!n.payload.fromFileModal?e.dispatch(s.fileBrowser.showModal({type:g.AppModal.FILE_MOVE_CONFIRM_MODAL,data:{message:d,onConfirm:()=>{e.dispatch(s.file.move(n.payload.files,n.payload.folder))}}})):e.dispatch(s.file.move(n.payload.files,n.payload.folder,n.payload.fromFileModal))}return;case s.file.MOVE:const v=n.payload.files;if(v.length>0){const t=v.map(e=>e.key);l.trackBatchEventForFiles("File Moved",t,e.getState());const o=c.default.put("/api/files_batch",{files:v.map(e=>({key:e.key,folder_id:n.payload.folderId}))});return o.then(({data:t})=>{const i=t&&t.meta&&t.meta.success||{};for(let a in i)e.dispatch(s.file.put(i[a],!1));if(n.payload.fromFileModal){const t=e.getState(),i=t.folders[n.payload.folderId];e.dispatch(s.visualBell.enqueue({type:"file-moved",message:`Moved '${n.payload.files[0].name}' to ${a.getFolderName(i)}`}));const l=t.modalShown;if(l&&l.type===g.AppModal.FILE_MOVE_MODAL){const t=l.data;e.dispatch(s.fileBrowser.hideModal()),t.isPublishing&&t.afterFileMove&&t.afterFileMove()}}}),y.optimisticRequest({requestPromise:o,fallbackError:"An error occurred while processing this file.",store:e,next:i,action:n})}return i(n);case s.file.GET:return c.default.get(`/api/files/${n.payload.fileKey}`).then(t=>{let i=JSON.parse(t.response);e.dispatch(s.file.put(i.meta))}),i(n);case s.file.PUT:return n.payload.userInitiated?(n.payload.file.created_at&&console.error("It looks like you are PUT-ting to the API with the entire file object; please only pass the key and changed attributes"),y.optimisticRequest({requestPromise:c.default.put(`/api/files/${n.payload.file.key}`,n.payload.file),fallbackError:"An error occurred while processing this file.",store:e,next:i,action:n})):i(n);case s.file.STOP_RENAMING:if(n.payload.name){const t={key:n.payload.file.key,name:n.payload.name,folder_id:n.payload.file.folder_id,link_access:n.payload.file.link_access};e.dispatch(s.file.put(t,!0)),l.trackEventForFile("File Renamed",t.key,e.getState(),{fileName:t.name})}return i(n);case s.file.CREATE_SAVEPOINT:{const s=t.createSavepoint(n.payload.file.key,n.payload.checkpointKey,n.payload.label,n.payload.description,e);return y.optimisticRequest({requestPromise:s,fallbackError:"You must be online to save this version.",store:e,next:i,action:n}),i(n)}case s.file.RESTORE:{let t=c.default.post(`/api/multiplayer/${n.payload.file.key}/restore?checkpoint_key=${encodeURIComponent(n.payload.checkpointKey)}`).then(()=>{E.locationReload("File restored",{key:n.payload.file.key})});return y.optimisticRequest({requestPromise:t,fallbackError:"An error occurred while restoring this version.",store:e,next:i,action:n}),i(n)}case s.file.MARK_VIEWED:return c.default.post(`/api/files/${n.payload.file.key}/view`).catch(()=>{}),i(n);case s.file.COPY_LINK:{const t=n.payload.url,a=n.payload.copyType;return m.copyText(t).then(()=>{l.trackEventForFile(a===h.CopyType.EMBED_CODE?"Embed Code Copied":"File Share Link Copied",n.payload.file.key,e.getState()),e.dispatch(s.visualBell.enqueue({type:"link_copied_to_clipboard",message:a===h.CopyType.EMBED_CODE?"Embed code copied to clipboard":"Link copied to clipboard"}))}).catch(()=>{e.dispatch(s.fileBrowser.showModal({type:g.AppModal.FILE_COPY_LINK_MODAL,data:{link:t}}))}),i(n)}case s.file.RECENT_FILES_DELETE:if(n.payload.userInitiated){const t=n.payload.files.map(e=>e.key);let s=c.default.del("/api/files_batch/view",{file_keys:t}),a=n.payload.files.length>1?"these files":"this file";return l.trackBatchEventForFiles("File RecentFiles Removed",t,e.getState()),y.optimisticRequest({requestPromise:s,fallbackError:`An error occurred while removing ${a} from Recently Viewed.`,store:e,next:i,action:n})}return i(n);case s.fileBrowser.SELECT_VIEW:if(n.payload.deletedFiles){if(F)return i(n);F=!0;let t={org_id:e.getState().currentOrgId};c.default.get("/api/trashed_files",t).then(t=>{let i=JSON.parse(t.response);e.dispatch(s.fileBrowser.setDeletedFiles(i.meta))})}else if(n.payload.fullscreen){const t=r.getPermissionsState(e.getState()),i=t.fileByKey[n.payload.viewState.fileKey];if(!r.canViewFile(i.key,t)){const a=t.orgDraftsOwners[i.folder_id];return a&&r.isOrgUserRestricted(a)?e.dispatch(s.fileBrowser.showModal({type:g.AppModal.VIEW_RESTRICTED_FILE_MODAL,data:{user:a.user}})):e.dispatch(s.flash.error("You don't have permission to open this file.")),null}}return i(n);default:return i(n)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(232                        ),i=s(1430                                             ),r=s(97      ),l=s(86                  ),n=s(101                               ),o=s(287       ),p=s(1471                    ),c=s(371                       ),u=s(286                                              ),b=s(1417                       ),y=s(1427                      ),h=s(1426                               ),m=s(341                              ),d=s(374                            ),g=s(129                               ),_=s(172                     ),S=s(1431                       ),f=s(410                                   ),T=s(219          ),E=s(139                                    ),L=l.actionCreator("PUBLISH_PROGRESS");t.publishProgress=L;const N=l.actionCreator("PUBLISH_REQUEST_FINISHED");t.publishRequestFinished=N;const O=n.asyncActionCreator("PUBLISH_SELECTED",e=>{const t=e.getState();let s=!1;const i=Object.create(null);for(const a of t.mirror.appModel.publishableComponents){const e=t.mirror.sceneGraph.get(a.nodeId);e&&u.isSelected(t.mirror.sceneGraph,t.mirror.sceneGraphSelection,e.guid)&&(i[e.guid]=!0,s=!0)}const r=t.mirror.selectedStyleProperties?o.toString(t.mirror.selectedStyleProperties.guid):null;r&&(s=!0);const l=Object.assign({},t.library.local.components);for(const a of t.mirror.appModel.publishableComponents){const e=t.mirror.sceneGraph.get(a.nodeId);if(e){const t=e.guid;let r=!s||!!i[t];m.setIsSymbolPublishable(a.nodeId,r),l[t].status=r?c.LibraryStatus.NEW:c.LibraryStatus.NOT_STAGED}}const n=Object.assign({},t.library.local.styles);for(const a of t.mirror.appModel.styles){const e=a.nodeId;let t=!s||e===r;m.setIsPublishable(e,t),t&&(n[e].status=t?c.LibraryStatus.NEW:c.LibraryStatus.NOT_STAGED)}e.dispatch(a.library.replaceLocalItems({local:l,type:c.LibraryItemType.COMPONENT})),e.dispatch(a.library.replaceLocalItems({local:n,type:c.LibraryItemType.STYLE})),e.dispatch(I({}))});t.publishSelected=O;const P=n.asyncActionCreator("UNPUBLISH_ALL",e=>{const t=e.getState(),s=e=>{e=Object.assign({},e);for(const t in e)d.isPublished(e[t].status)?e[t].status=c.LibraryStatus.DELETED:e[t].status===c.LibraryStatus.NEW&&(e[t].status=c.LibraryStatus.NOT_STAGED);return e},i=s(t.library.local.components),r=s(t.library.local.styles);e.dispatch(a.library.replaceLocalItems({local:i,type:c.LibraryItemType.COMPONENT})),e.dispatch(a.library.replaceLocalItems({local:r,type:c.LibraryItemType.STYLE})),e.dispatch(I({}))});t.unpublishAll=P;const I=n.asyncActionCreator("PUBLISH_CHANGES",(e,t={})=>{let s=e.getState();if(s.library.publishProgress.state!==c.PublishProgressState.NONE)return;const l=()=>{e.dispatch(a.visualBell.dequeue({type:"library-publish"})),e.dispatch(a.fileBrowser.showModal({type:b.AppModal.PUBLISH_COMPONENTS_MODAL}))},n=p.getEditingFile(s);(function(e){const t=e.getState(),s=p.getEditingFile(t),a=t.teams[s.team_id],i=_.canAccessProFeature(a)?t.library.local.components:{},r=t.library.local.styles;let l={client_version:g.Fullscreen.getMultiplayerClientVersion(),file_key:t.editingFileKey,unpublish_components:[],publish_components:[],unpublish_styles:[],publish_styles:[],parts:[]},n=new FormData,o=[];const u=(e,t,s=!1)=>{const a=e.node_id;let i=e.thumbnail_url;if((s||e.thumbnailDirty||!y.isValidThumbnailUrl(e.thumbnail_url))&&(i=t===c.LibraryItemType.COMPONENT?y.getThumbnailUrlForComponent(a):f.isColorStyleTransparent(e)?y.getEmptyThumbnailUrl():y.getThumbnailUrlForStyle(a,e.style_type),!y.isValidThumbnailUrl(i)))throw new C;const r=y.generatePublishableBufferForStyleOrSymbol(a),n=y.getBufferForThumbnailUrl(i),p=new Blob([r],{type:"application/x-figma"}),u=new Blob([n],{type:"image/png"}),b=`canvas:${a}`,h=`thumbnail:${a}`;o.push({id:b,data:p}),o.push({id:h,data:u}),l.parts.push({name:b,mime:"application/x-figma",length:r.length},{name:h,mime:"image/png"})};let b=0;return new Promise((t,s)=>{const a=Object.keys(i).reverse(),p=Object.keys(r).reverse(),m=a.length+p.length,d=m<40,g=d?1/0:1/60,_=()=>a.length>0||p.length>0;function S(){const T=(new Date).getTime();for(;((new Date).getTime()-T)/1e3<g&&_();)if(a.length>0){const e=a.pop(),t=i[e],s=t.status;if(s===c.LibraryStatus.CURRENT||s===c.LibraryStatus.NOT_STAGED)continue;if(s===c.LibraryStatus.DELETED){l.unpublish_components.push(t.component_key);continue}let r=y.generateComponentKeyForNode(e),n=t.content_hash;s===c.LibraryStatus.CAN_UPGRADE&&(n=h.fullscreen.sendMessage("dirtySharedSymbolVersion",{nodeId:e}).args.newVersion);try{u(t,c.LibraryItemType.COMPONENT)}catch(E){if(!(E instanceof C))throw E;b++;continue}l.publish_components.push({node_id:e,name:t.name,component_key:r,content_hash:n,containing_frame:JSON.stringify(t.containing_frame)||null,description:t.description,is_unflattened:t.is_unflattened})}else if(p.length>0){const e=p.pop(),t=r[e],s=t.status;if(s===c.LibraryStatus.CURRENT||s===c.LibraryStatus.NOT_STAGED)continue;if(s===c.LibraryStatus.DELETED){l.unpublish_styles.push(t.key);continue}const a=t.meta||{},i=f.cssThumbnailMaybeSupported(t.style_type)&&(t.thumbnailDirty||f.hasInvalidCssThumbnail(t));if(i){const s=y.getSerializableThumbnailForStyle(e,t.style_type);"INVALID"!=s.type&&(a.style_thumbnail=s)}let n=f.cssThumbnailDefinitelySupported(t.style_type);try{u(t,c.LibraryItemType.STYLE,n)}catch(E){if(!(E instanceof C))throw E;b++;continue}l.publish_styles.push({node_id:e,style_type:t.style_type,name:t.name,key:t.key,content_hash:t.content_hash,description:t.description,sort_position:t.sort_position,meta:JSON.stringify(a)})}d||e.getState().library.publishProgress.state!==c.PublishProgressState.NONE?(d||e.dispatch(L({state:c.PublishProgressState.ASSEMBLING_COMPONENTS,progress:1-(a.length+p.length)/m})),_()?requestAnimationFrame(S):(n.append("manifest",JSON.stringify(l)),o.forEach(e=>{n.append(e.id,e.data)}),t({formData:n,skippedDueToError:b}))):s()}d?S():(e.dispatch(L({state:c.PublishProgressState.ASSEMBLING_COMPONENTS,progress:0})),requestAnimationFrame(S))})})(e).then(({formData:s,skippedDueToError:o})=>{e.dispatch(L({state:c.PublishProgressState.UPLOADING,progress:0})),e.dispatch(a.visualBell.enqueue({type:"library-publish",message:"Publishing library",icon:E.VisualBellIcon.SPINNER,timeout:1/0})),S.createSavepoint(n.key,n.checkpoint_key,"Components Published",t.savepointDescription,e).then(()=>r.default.post("/api/upnode/library_checkpoints",s,{headers:{"X-Csrf-Bypass":"yes"},raw:!0})).then(({data:t})=>{const s=JSON.parse(t);let i=Object.create(null),r=Object.create(null);s.meta&&(s.meta.components&&(i=s.meta.components),s.meta.styles&&(r=s.meta.styles));const p=(t,s)=>{const i=[],r=Object.create(null);for(let e in t){const s=t[e];s.unpublished_at?i.push(s.node_id):r[s.node_id]=s}e.dispatch(a.library.put({itemsById:r,file:n,type:s})),e.dispatch(a.library.del({nodeIds:i,file:n,type:s}))};p(i,c.LibraryItemType.COMPONENT),p(r,c.LibraryItemType.STYLE),e.dispatch(N()),o>0?e.dispatch(a.visualBell.enqueue({type:"library-publish",timeout:1/0,icon:E.VisualBellIcon.EXCLAMATION,error:!0,message:1===o?"Unable to publish 1 change to the Team Library":`Unable to publish ${o} changes to the Team Library`,button:{text:"Retry",action:l}})):e.dispatch(a.visualBell.enqueue({type:"library-publish",message:"Successfully published library updates",icon:E.VisualBellIcon.CHECK,timeout:5e3}))}).catch(t=>{e.dispatch(a.visualBell.enqueue({type:"library-publish",timeout:1/0,icon:E.VisualBellIcon.EXCLAMATION,error:!0,message:"Publishing failed",button:{text:"Retry",action:l}})),e.dispatch(i.updateLibraryFromPublishedAndLocalData()),e.dispatch(N()),0!==t.status&&T.raiseErrorToSegment(t)})}).catch(()=>{})});t.publishChanges=I;class C extends Error{constructor(e){super(e),Object.setPrototypeOf(this,C.prototype)}}e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(232                        ),s=r(57,1   ),i=r(1432                                       ),l=r(553                                                     ),n=r(283         ),o=r(410                  ),c=r(371                       );function y(e){return(t={filteredByTeamId:{},minScorePerFile:{}},r)=>a.library.setPublishedSearchResults.matches(r)&&r.payload.type===e?r.payload.results:t}function u(e){return(t={query:"",results:[],moreResults:[],showMoreResults:!1},r)=>{if(a.library.setLocalQuery.matches(r)&&r.payload.type===e){const e=r.payload.query;return{query:e,results:e.length?t.results:[],moreResults:e.length?t.moreResults:[],showMoreResults:!!e.length&&t.showMoreResults}}return a.library.setLocalSearchResults.matches(r)&&r.payload.type===e?Object.assign({},t,{results:r.payload.results,moreResults:r.payload.moreResults,showMoreResults:0===r.payload.results.length}):a.library.setLocalSearchShowMoreResults.matches(r)&&r.payload.type===e?Object.assign({},t,{showMoreResults:r.payload.showMoreResults}):t}}function p(e){return(t=Object.create(null),r)=>{if(a.library.initialize.matches(r)&&r.payload.type===e)return r.payload.publishedItemsByTeamId;if(a.fileBrowser.hydrate.matches(r))return Object.create(null);if(a.library.put.matches(r)&&r.payload.type===e){const e=r.payload.file,a=e.team_id||c.NO_TEAM_ID;let s=Object.assign({},t);s[a]=Object.assign({},s[a]),s[a][e.key]=Object.assign({},s[a][e.key]);for(let t in r.payload.itemsById){const i=r.payload.itemsById[t];i.meta&&(i.meta=o.parseLibraryMeta(i.meta)),s[a][e.key][t]=i}return s}if(a.library.updateComponentsForTeam.matches(r))return Object.assign({},t,{[r.payload.teamId]:r.payload.componentsByFileKey});if(a.library.del.matches(r)&&r.payload.type===e){const e=r.payload.file,a=e.team_id||c.NO_TEAM_ID;let s=Object.assign({},t);return s[a]=Object.assign({},s[a]),s[a][e.key]=Object.assign({},s[a][e.key]),r.payload.nodeIds.forEach(t=>{delete s[a][e.key][t]}),n.isEmpty(s[a][e.key])&&delete s[a][e.key],s}if(a.library.deleteComponentsForFile.matches(r)){const e=r.payload.fileKey;for(let r in t)if(e in t[r]){let a=Object.assign({},t);return a[r]=Object.assign({},a[r]),delete a[r][e],a}return t}if(r.type===a.file.DELETE_FILES){let e;for(let a in r.payload.fileKeys){const s=r.payload.fileKeys[a].team_id||c.NO_TEAM_ID;s in t&&a in t[s]&&(e||(e=Object.assign({},t)),e[s]=Object.assign({},e[s]),delete e[s][a])}return e||t}if(a.team.del.matches(r)){if(r.payload.team.id in t){let e=Object.assign({},t);return delete e[r.payload.team.id],e}return t}return t}}function b(e){return(t=Object.create(null),r)=>a.library.replaceUpdates.matches(r)&&r.payload.type===e?r.payload.itemsByTeamId:t}function d(e){return(t=Object.create(null),r)=>a.library.clearLocal.matches(r)?Object.create(null):a.library.replaceLocalItems.matches(r)&&r.payload.type===e?r.payload.local:t}const m=s.combineReducers({byTeam:(e=Object.create(null),t)=>{if(l.initializeTeamSubscriptions.matches(t))return t.payload.fileSubscriptionsByTeamId;if(l.postTeamSubscription.matches(t)){const r=Object.assign({},e),{file_key:a,team_id:s,is_subscribed:i}=t.payload.libraryTeamSubscription;return r[s]=Object.assign({},e[s])||Object.create(null),r[s][a]=i,r}return e},byFile:(e=Object.create(null),t)=>{if(l.initializeFileSubscriptionsForFile.matches(t)){const r=Object.assign({},e);return r[t.payload.fileKey]=t.payload.fileSubscriptionsByFileKey,r}if(l.postFileSubscription.matches(t)){const{file_key:r,library_file_key:a,is_subscribed:s}=t.payload.libraryFileSubscription,i=Object.assign({},e);return i[r]=Object.assign({},e[r]),i[r][a]=s,i}return e},forCurrentUser:(e=Object.create(null),t)=>{if(l.initializeUserSubscriptions.matches(t))return t.payload.subscriptions;if(l.postUserSubscription.matches(t)){const{file_key:r,is_subscribed:a}=t.payload.libraryUserSubscription;return Object.assign({},e,{[r]:a})}return e},forCurrentOrg:(e=Object.create(null),t)=>{if(a.orgs.switchActiveOrg.matches(t))return Object.create(null);if(l.initializeOrgSubscriptions.matches(t))return t.payload.subscriptions;if(l.postOrgSubscription.matches(t)){const{file_key:r}=t.payload.libraryOrgSubscription;return Object.assign({},e,{[r]:!0})}if(l.deleteOrgSubscription.matches(t)){const{file_key:r}=t.payload.libraryOrgSubscription;if(r in e){const t=Object.assign({},e);return delete t[r],t}return e}return e}}),f=s.combineReducers({components:p(c.LibraryItemType.COMPONENT),styles:p(c.LibraryItemType.STYLE)}),h=s.combineReducers({components:b(c.LibraryItemType.COMPONENT),styles:b(c.LibraryItemType.STYLE)}),O=s.combineReducers({components:d(c.LibraryItemType.COMPONENT),styles:d(c.LibraryItemType.STYLE)}),g=s.combineReducers({components:y(c.LibraryItemType.COMPONENT),styles:y(c.LibraryItemType.STYLE)}),S=s.combineReducers({components:u(c.LibraryItemType.COMPONENT),styles:u(c.LibraryItemType.STYLE)});t.library=s.combineReducers({published:f,updates:h,local:O,subscriptions:m,currentLibraryView:function(e={},t){return a.library.setLibraryView.matches(t)?Object.assign({},e,t.payload):a.role.DELETE!==t.type||t.payload.role.resource_id_or_key!==e.teamId&&t.payload.role.resource_id_or_key!==e.fileKey?e:Object.assign({},e,{teamId:null,fileKey:null})},librarySearchQuery:function(e="",t){return a.library.setLibraryQuery.matches(t)?t.payload.query:a.fileBrowser.HIDE_MODAL===t.type?"":e},publishedSearchResults:g,localSearch:S,selectedNodeId:function(e=null,t){return a.library.setSelectedNodeId.matches(t)?t.payload.nodeId:e},notification:function(e=null,t){return a.library.showNotification.matches(t)?t.payload.notification:a.library.hideNotification.matches(t)?null:e},dragState:function(e,t){return null==e||a.library.setLibraryView.matches(t)?{draggingComponent:null,dragPosition:null,dragOffset:null,componentMousePercentageOffset:null}:a.library.setSparseDragState.matches(t)?Object.assign({},e,t.payload):e},publishProgress:function(e={state:c.PublishProgressState.NONE,progress:0},t){return i.publishChanges.matches(t)?{state:c.PublishProgressState.ASSEMBLING_COMPONENTS,progress:0}:i.publishRequestFinished.matches(t)?{state:c.PublishProgressState.NONE,progress:0}:i.publishProgress.matches(t)?t.payload:e},isRenamingSelectedStyle:function(e=!1,t){return a.library.setIsRenamingSelectedStyle.matches(t)?t.payload.isRenaming:e},expandedStylePanels:function(e={},t){if(a.fullscreen.open.matches(t))return{};if(a.library.expandStylePanel.matches(t)){const r=t.payload.styleType;return r in e?e:Object.assign({},e,{[r]:!0})}if(a.library.collapseStylePanel.matches(t)){const r=t.payload.styleType;if(r in e){const t=Object.assign({},e);return delete t[r],t}return e}return e}}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=t(0                    ),n=t(299                      );e.auth=function(a=null,e){if(n.auth.init.matches(e)){let a=s.default();return{formState:e.payload.formState,email:a.email||"",name:a.name||"",jobTitle:"",accessCode:a.access_code||null,emailToken:a.email_token||null,passwordLength:0,redirectUrl:a.redirect_url||null,loading:!1,error:a.error||null,success:null,domainSuggestion:null,origin:e.payload.origin,appAuthId:a.app_auth_id||null,appAuthAppType:a.app_auth_app_type||null,appAuthGSecret:a.app_auth_g_secret||null}}if(n.auth.changeEmail.matches(e))return Object.assign({},a,{email:e.payload.value});if(n.auth.changeName.matches(e))return Object.assign({},a,{name:e.payload.value});if(n.auth.toggleSMS.matches(e))return Object.assign({},a,{smsOkay:e.payload});if(n.auth.requireTwoFactor.matches(e))return Object.assign({},a,{loading:!1,twoFactorRequired:e.payload.required,hint:e.payload.hint,error:null,success:null});if(n.auth.changeJob.matches(e))return Object.assign({},a,{jobTitle:e.payload.value});if(n.auth.changePasswordLength.matches(e))return Object.assign({},a,{passwordLength:e.payload.value});if(n.auth.setDomainSuggestion.matches(e))return Object.assign({},a,{domainSuggestion:e.payload.domain});if(n.auth.useDomainSuggestion.matches(e)){const e=`${a.email.split("@")[0]}@${a.domainSuggestion}`;return Object.assign({},a,{email:e,domainSuggestion:null})}return n.auth.showForm.matches(e)?e.payload.formState!==a.formState?Object.assign({},a,{formState:e.payload.formState,loading:!1,error:e.payload.errorMessage||null,success:null,invalidInput:null}):a:n.auth.showError.matches(e)?Object.assign({},a,{loading:!1,error:e.payload.message,errorType:e.payload.errorType,invalidInput:e.payload.invalidInput,success:null}):n.auth.clearError.matches(e)?Object.assign({},a,{error:null,errorType:null,invalidInput:null,success:null}):n.auth.showSuccess.matches(e)?Object.assign({},a,{error:null,errorType:null,invalidInput:null,loading:!1,success:e.payload.message}):n.auth.signIn.matches(e)||n.auth.signUp.matches(e)||n.auth.sendValidationEmail.matches(e)||n.auth.resetPassword.matches(e)||n.auth.sendPasswordReset.matches(e)||n.auth.sendEmailSamlStart.matches(e)?Object.assign({},a,{loading:!0,error:null,success:null}):a},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,c){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=c(232                        ),a={stylesExpanded:!1,viewMode:c(522                            ).ViewMode.GRID,selectedStyleFileId:"",selectedSwatchSetId:""};t.colorPicker=function(e,t){return e?s.colorPicker.reset.matches(t)?Object.assign({},a,{selectedStyleFileId:t.payload.defaultStyleFileId}):s.colorPicker.setStylesExpanded.matches(t)?Object.assign({},e,{stylesExpanded:t.payload.expanded}):s.colorPicker.setViewMode.matches(t)?Object.assign({},e,{viewMode:t.payload.viewMode}):s.colorPicker.selectStyleFile.matches(t)?Object.assign({},e,{selectedStyleFileId:t.payload.styleFileId}):s.colorPicker.resetSwatchSet.matches(t)?Object.assign({},e,{selectedSwatchSetId:t.payload.defaultSwatchId}):s.colorPicker.selectSwatchSet.matches(t)?Object.assign({},e,{selectedSwatchSetId:t.payload.swatchId}):e:a},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,R,e){"use strict";Object.defineProperty(R,"__esModule",{value:!0}),function(t){t[t.NOTHING_RECORDED=0]="NOTHING_RECORDED",t[t.RECORDING=1]="RECORDING",t[t.RECORDING_FINISHED=2]="RECORDING_FINISHED",t[t.EXPORTING=3]="EXPORTING"}(R.RecordingStatus||(R.RecordingStatus={})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(57,1   ),s=n(232                        ),r=n(1436                                );const i={filterOutMouseMoveEvents:!0,includeOnlyFirstAndLastDragEvents:!0,isScreenshotTest:!1};const c=o.combineReducers({dialogShown:function(t=!1,e){return!!s.interactionTest.showRecorder.matches(e)||!s.interactionTest.hideRecorder.matches(e)&&t},status:function(t=r.RecordingStatus.NOTHING_RECORDED,e){return s.interactionTest.startRecording.matches(e)?r.RecordingStatus.RECORDING:s.interactionTest.stopRecording.matches(e)?r.RecordingStatus.RECORDING_FINISHED:s.interactionTest.exportRecording.matches(e)?r.RecordingStatus.EXPORTING:s.interactionTest.doneExporting.matches(e)?r.RecordingStatus.RECORDING_FINISHED:t},recordedEvents:function(t=[],e){return s.interactionTest.startRecording.matches(e)?[]:s.interactionTest.recordEvent.matches(e)?[...t,e.payload]:t},exportSettings:function(t=i,e){return s.interactionTest.updateExportSettings.matches(e)?e.payload:t}});e.default=c,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(232                        ),s=o(174          );e.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY="usedKeyboardShortcuts";let a={};if(s.localStorageOrNull){const t=s.localStorageOrNull.getItem(e.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY);try{a=JSON.parse(t)||{}}catch(c){}}e.usedKeyboardShortcuts=function(t,e){if(null==t)return a;if(r.keyboardShortcut.usedKeyboardShortcut.matches(e)){const o=e.payload.key;return o in t?Object.assign({},t,{[o]:t[o]+1}):Object.assign({},t,{[o]:1})}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=r(232                        ),l=r(0                    ),t=r(297              ),a=r(298                                ),o=r(1433                        ),i=r(340                                 ),c=r(1434                       ),u=r(745      ),p=r(523                             ),d=r(386       ),f=r(1435            ),g=r(343              ),h=r(1437                 ),m=r(1438                       ),y=r(1426                               ),_=r(129                               ),I=r(344                          );function b(e=!1,s){return s.type!==n.fileBrowser.INIT&&(!!n.fullscreen.beginRenaming.matches(s)||!n.fullscreen.stopRenaming.matches(s)&&e)}function w(e=null,s){return s.type===n.fileBrowser.INIT?l.default().editing_file?l.default().editing_file.key:null:n.interactionTest.startTestRun.matches(s)?s.payload.fakeFileKey:n.fullscreen.open.matches(s)?s.payload.file?s.payload.file.key:null:n.fullscreen.close.matches(s)?null:e}function M(e=I.ProgressBarMode.OFF,s){let r=e;if(s.type===n.fileBrowser.INIT){r=l.default().editing_file?I.ProgressBarMode.HIDE_UI:I.ProgressBarMode.OFF}else n.fullscreen.new_.matches(s)?r=s.payload.openInNewTab?I.ProgressBarMode.OFF:I.ProgressBarMode.HIDE_UI:n.fullscreen.open.matches(s)?r=I.ProgressBarMode.HIDE_UI:n.fullscreen.documentLoaded.matches(s)?r=I.ProgressBarMode.OFF:n.fullscreen.setProgressBarMode.matches(s)&&(r=s.payload.mode);return r!==e&&y.fullscreen.isReady()&&y.fullscreen.sendMessage("showingProgressBar",{value:r}),r}function B(e=!1,s){return n.fullscreen.new_.matches(s)?!!s.payload.openInNewTab&&e:!(s.type===n.fileBrowser.INIT||n.fullscreen.open.matches(s)||n.fullscreen.reconnectingSucceeded.matches(s)||n.fullscreen.documentLoaded.matches(s))&&(!!n.fullscreen.reconnectingStarted.matches(s)||e)}function S(e=I.OpenDesktopAppModalMode.NONE,s){return n.fullscreen.showOpenDesktopAppModal.matches(s)?s.payload:n.fullscreen.hideOpenDesktopAppModal.matches(s)?I.OpenDesktopAppModalMode.NONE:e}function k(e=null,s){return s.type===n.fileBrowser.INIT?null:n.fullscreen.setSaveStatus.matches(s)?s.payload:e}function O(e=null,s){return s.type===n.fileBrowser.INIT?{sessionID:-1,observingSessionID:-1,allUsers:[]}:n.fullscreen.updateMultiplayerState.matches(s)?s.payload:n.fullscreen.stopObservingOtherUser.matches(s)?Object.assign({},e,{observingSessionID:-1}):e}function P(e=!1,s){return!!n.fullscreen.showUpgradeBanner.matches(s)||!n.fullscreen.hideUpgradeBanner.matches(s)&&e}function F(e,s){return null==e?{activeTab:_.LeftPanelTab.LAYERS}:n.fullscreen.setLeftPanelTab.matches(s)?Object.assign({},e,{activeTab:s.payload.tab}):e}s.isRenaming=b,s.editingFileKey=w,s.showingProgressBar=M,s.showingReconnectingModal=B,s.showingOpenDesktopAppModal=S,s.saveStatus=k,s.fullscreenReducerMap=function(){return{auth:c.auth,editingFileKey:w,showingProgressBar:M,showingReconnectingModal:B,showingOpenDesktopAppModal:S,saveStatus:k,isRenaming:b,pickerShown:d.pickerShown,versionHistory:i.versionHistory,fileFollowers:a.fileFollowers,multiplayer:O,fonts:u.fonts,library:o.library,mirror:t.mirror,styleFiles:p.styleFiles,styleSets:p.styleSets,selectedSharedColorIndices:p.selectedSharedColorIndices,colorPicker:f.colorPicker,exportableItems:g.exportableItems,showingUpgradeBanner:P,interactionTests:h.default,leftPanel:F,usedKeyboardShortcuts:m.usedKeyboardShortcuts}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(232                        );function l(e=null,t){switch(t.type){case a.fileBrowser.SHOW_MODAL:return e?Object.assign({prevModal:e},t.payload):t.payload;case a.fileBrowser.POP_MODAL_STACK:return e&&e.prevModal||null;case a.fileBrowser.HIDE_MODAL:return null;case a.fileBrowser.HIDE_SPECIFIC_MODAL:return e&&t.payload.type===e.type?null:e;default:return e}}t.modalShown=l,t.default=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=l(232                        );function n(e=[],t){return a.visualBell.enqueue.matches(t)?t.payload.type&&e.length>0&&e[e.length-1].type==t.payload.type?e.slice(0,e.length-1).concat([t.payload]):e.concat([t.payload]):a.visualBell.dequeue.matches(t)?t.payload.type&&e.length>0?e.filter(e=>e.type!==t.payload.type):e.slice(1):a.visualBell.clearAll.matches(t)?[]:e}t.visualBell=n,t.default=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(57,1   ),r=n(232                        );function a(e={},t){switch(t.type){case r.fileBrowser.INIT:return{};case r.realtime.BATCH_SUBSCRIBE:{const n=t.payload.tokens;let s=null;for(const t of n)e[t.channel]||(s||(s=Object.assign({},e)),s[t.channel]=!0);return s||e}case r.realtime.RESET:return{};case r.realtime.UNSUBSCRIBE:{let n=t.payload.channel,s=Object.assign({},e);return delete s[n],s}default:return e}}t.subscriptions=a,t.realtime=s.combineReducers({subscriptions:a}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=e(232                        ),s=e(396                       ),a={target:null,state:s.TooltipState.NONE,position:s.TooltipPosition.BELOW};o.tooltip=function(t=a,o){if(i.tooltip.update.matches(o))return Object.assign({},t,o.payload.tooltip);switch(o.type){case i.fileBrowser.INIT:return a;default:return t}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=n(232                        );t.activeId=function(e=null,t){return c.comments.reset.matches(t)?null:c.comments.setActive.matches(t)?t.payload.threadId:c.comments.del.matches(t)&&t.payload.comment.id===e?null:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(232                        );t.commentsById=function(e={},t){if(s.comments.reset.matches(t))return{};if(s.comments.put.matches(t)||s.comments.post.matches(t)){let n=t.payload.comment;return Object.assign({},e,{[n.id]:Object.assign({},e[n.id],n)})}if(s.comments.del.matches(t)){let n=Object.assign({},e),s=t.payload.comment;return delete n[s.id],s.parent_id||Object.keys(e).forEach(t=>{e[t].parent_id===s.id&&delete n[t]}),n}return e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=n(232                        );t.commentIdsByThread=function(e={},t){if(i.comments.reset.matches(t))return{};if(i.comments.put.matches(t)||i.comments.post.matches(t)){let n=t.payload.comment,i=n.parent_id||n.id;if(i in e){for(let t of e[i])if(t===n.id)return e;return Object.assign({},e,{[i]:e[i].concat([n.id])})}return Object.assign({},e,{[i]:[n.id]})}if(i.comments.del.matches(t)){let n=t.payload.comment;if(n.parent_id){let t=n.parent_id,i=e[t];if(i){let s=i.indexOf(n.id);if(s>=0)return Object.assign({},e,{[t]:i.slice(0,s).concat(i.slice(s+1))})}}else if(n.id in e){let t=Object.assign({},e);return delete t[n.id],t}return e}return e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(232                        ),a=s(165                                 ),n=s(105                        );function c(){return{rootId:null,replyMessageMeta:[],state:n.CommentState.READY,positionOrNull:null}}const m=a.createReducerWithPrecheck(function(e,t){return e.rootId&&t.payload&&t.payload.threadId!==e.rootId?e:o.comments.setThreadPosition.matches(t)?Object.assign({},e,{positionOrNull:t.payload.position}):o.comments.setReplyMessage.matches(t)?Object.assign({},e,{replyMessageMeta:t.payload.messageMeta}):o.comments.submitReply.matches(t)?Object.assign({},e,{state:n.CommentState.BUSY}):o.comments.resetThread.matches(t)?t.payload.resetStatusOnly?Object.assign({},e,{state:n.CommentState.READY}):Object.assign({},c(),{rootId:e.rootId,positionOrNull:e.positionOrNull}):e},{shouldIgnoreAction:e=>!o.comments.setThreadPosition.matches(e)&&(!o.comments.setReplyMessage.matches(e)&&(!o.comments.submitReply.matches(e)&&!o.comments.resetThread.matches(e)))});t.threads=function(e={},t){if(o.comments.reset.matches(t))return{};if(o.comments.put.matches(t)||o.comments.post.matches(t)){let s=t.payload.comment;if(!s.parent_id&&!e[s.id]){let t=Object.assign({},c(),{rootId:s.id});return Object.assign({},e,{[s.id]:t})}return e}if(o.comments.del.matches(t)){if(t.payload.comment.id in e){let s=Object.assign({},e);return delete s[t.payload.comment.id],s}return e}return a.reduceObject(e,t,m)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=s(232                        ),a=s(105                        ),n={messageMeta:[],state:a.CommentState.READY,anchorPosition:null,threadPosition:null};e.newComment=function(t=n,e){return o.comments.reset.matches(e)?n:o.comments.setNewCommentMessage.matches(e)?Object.assign({},t,{messageMeta:e.payload.messageMeta}):o.comments.setThreadPosition.matches(e)?e.payload.threadId===a.NEW_COMMENT_ID?Object.assign({},t,{threadPosition:e.payload.position}):t:o.comments.setNewAnchorPosition.matches(e)?Object.assign({},t,{anchorPosition:e.payload.position}):o.comments.submitNewComment.matches(e)?Object.assign({},t,{state:a.CommentState.BUSY}):o.comments.resetNewComment.matches(e)?e.payload.resetStatusOnly?Object.assign({},t,{state:a.CommentState.READY}):n:t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(232                        );t.unreadIds=function(e={},t){if(a.comments.reset.matches(t))return{};if(a.comments.fetchedUnread.matches(t))return t.payload.unreadIds;if(a.comments.postUnread.matches(t))return t.payload.commentId in e?e:Object.assign({},e,{[t.payload.commentId]:!0});if(a.comments.deleteUnread.matches(t)){if(!(t.payload.commentId in e))return e;let n=Object.assign({},e);return delete n[t.payload.commentId],n}if(a.comments.del.matches(t)){if(!(t.payload.comment.id in e))return e;let n=Object.assign({},e);return delete n[t.payload.comment.id],n}return e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(232                        );t.editingComment=function(e=null,t){return n.comments.reset.matches(t)||n.comments.stopEditing.matches(t)?null:n.comments.beginEditing.matches(t)?{id:t.payload.comment.id,messageMeta:t.payload.comment.message_meta}:n.comments.setEditingMessage.matches(t)?Object.assign({},e,{messageMeta:t.payload.messageMeta}):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,a,o){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=o(198         ),e=o(232                        );a.drag=function(t=null,a){if(e.comments.reset.matches(a)||e.comments.stopDrag.matches(a))return null;if(e.comments.startDrag.matches(a))return{anchorId:a.payload.anchorId,threadId:a.payload.threadId,startPosition:a.payload.startPosition,lastPosition:a.payload.startPosition,mouseOffset:a.payload.mouseOffset||new s.Vector(0,0),maxDist:0};if(e.comments.updateDrag.matches(a)){if(!t||!t.startPosition)return null;let o=s.Vector.distance(t.startPosition,a.payload.lastPosition);return Object.assign({},t,{lastPosition:a.payload.lastPosition,maxDist:Math.max(t.maxDist,o)})}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(232                        );e.viewportInfo=function(t=null,e){return n.comments.reset.matches(e)?null:n.comments.setViewportInfo.matches(e)?e.payload.viewportInfo:t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(232                        );t.showResolved=function(e=!1,t){return!s.comments.reset.matches(t)&&(s.comments.setShowResolvedComments.matches(t)?t.payload.showResolved:e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(232                        );t.emojiPicker=function(e=null,t){return o.comments.reset.matches(t)||o.comments.setActive.matches(t)?null:o.comments.setEmojiPicker.matches(t)?t.payload.visible?{visible:!0,positionOffset:t.payload.positionOffset}:null:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(232                        );t.typeahead=function(e=null,t){return null==e||n.comments.reset.matches(t)||n.comments.setActive.matches(t)?{}:n.comments.setTypeahead.matches(t)?null==t.payload?{}:Object.assign({},e,t.payload):n.comments.setTypeaheadPositionOffset.matches(t)?Object.assign({},e,{positionOffset:t.payload.positionOffset}):n.comments.clearTypeahead.matches(t)?Object.assign({},e,{index:null,emojis:[],mentions:[],startPos:0,endPos:0,isTyping:!1}):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=n(232                        );e.anchorPositionById=function(t=Object.create(null),e){return o.comments.reset.matches(e)?Object.create(null):o.comments.setAnchorPositionById.matches(e)?e.payload:t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(232                        );t.initialThreadAlreadyOpened=function(e=!1,t){return a.comments.setInitialThreadAlreadyOpened.matches(t)?t.payload.openInitialThread:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(57,1   ),d=n(232                        ),i=n(1444         ),a=n(1445              ),m=n(1446                     ),s=n(1447       ),r=n(1448           ),c=n(1449          ),h=n(1450               ),l=n(1451    ),_=n(1452             ),p=n(1453             ),u=n(1454            ),y=n(1455         ),v=n(1456                     ),I=n(1457                          );function f(e=null,t){return d.comments.reset.matches(t)?null:d.comments.setValidCommentsRect.matches(t)?t.payload.validCommentsRect:e}t.validCommentsRect=f,t.comments=o.combineReducers({activeId:i.activeId,commentsById:a.commentsById,commentIdsByThread:m.commentIdsByThread,threads:s.threads,newComment:r.newComment,unreadIds:c.unreadIds,editingComment:h.editingComment,drag:l.drag,viewportInfo:_.viewportInfo,showResolved:p.showResolved,emojiPicker:u.emojiPicker,typeahead:y.typeahead,initialThreadAlreadyOpened:I.initialThreadAlreadyOpened,validCommentsRect:f,anchorPositionById:v.anchorPositionById}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(232                        );n.defaultAppWindow={inFullScreenMode:!!document.fullscreenElement},n.appWindow=function(e=n.defaultAppWindow,t){return i.appWindow.didEnterFullScreen.matches(t)?Object.assign({},e,{inFullScreenMode:!0}):i.appWindow.didExitFullScreen.matches(t)?Object.assign({},e,{inFullScreenMode:!1}):e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(232                        );e.orgById=function(t=Object.create(null),e){if(r.fileBrowser.hydrate.matches(e)){const t=Object.create(null);for(let o of e.payload.orgs||[])o&&(t[o.id]=o);return t}if(r.orgs.put.matches(e)){const o=e.payload.org;return Object.assign({},t,{[o.id]:o})}return t},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(232                        ),o=r(332                       );t.currentOrgId=function(e=null,t){return t.type===s.fileBrowser.INIT||s.fileBrowser.hydrate.matches(t)?o.getLastSelectedOrgId():s.orgs.setCurrentOrgId.matches(t)?t.payload.orgId:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(232                        );t.hasPersonalSpace=function(e=!0,t){return o.fileBrowser.hydrate.matches(t)?!t.payload.disable_personal:e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e[e.Folder=0]="Folder",e[e.Team=1]="Team",e[e.None=2]="None"}(t.DragDataType||(t.DragDataType={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=e(232                        ),o={type:e(1463                            ).DragDataType.None,data:null};function r(a=o,t){return n.dragAndDrop.startDrag.matches(t)?Object.assign({},a,t.payload):n.dragAndDrop.stopDrag.matches(t)?o:a}t.dragState=r,t.default=r,a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(s,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(232                        ),t=o(130       );e.initialState={uploadsRemaining:{},uploadsLaunched:0,unsuccessfulUploads:[],successfulUploads:[],collisions:[],warnings:[],fontsToDelete:{},unsuccessfulDeletes:[],successfulDeletes:[],fontsByResourceId:{}},e.sharedFonts=function(s=e.initialState,o){if(n.sharedFonts.uploadFonts.matches(o)){const e=Object.assign({},s);e.uploadsRemaining=Object.assign({},e.uploadsRemaining);for(const s in o.payload.fonts)e.uploadsLaunched++,e.uploadsRemaining[s]={file:o.payload.fonts[s],progress:0};return e}if(n.sharedFonts.uploadFontProgress.matches(o)){const e=Object.assign({},s);return e.uploadsRemaining=Object.assign({},e.uploadsRemaining),e.uploadsRemaining[o.payload.uploadId]=Object.assign({},e.uploadsRemaining[o.payload.uploadId],{progress:o.payload.progress}),e}if(n.sharedFonts.uploadFontSuccess.matches(o)){const e=Object.assign({},s);if(0===e.uploadsLaunched)return e;e.successfulUploads=[...e.successfulUploads,o.payload.filename];const{uploadId:n}=o.payload;return n&&(e.uploadsRemaining=Object.assign({},e.uploadsRemaining),delete e.uploadsRemaining[n]),e}if(n.sharedFonts.uploadFontFailure.matches(o)){const e=Object.assign({},s);return 0===e.uploadsLaunched?e:(o.payload.collision&&null!=o.payload.uploadId?(e.collisions=[...e.collisions,Object.assign({},o.payload.collision,{file:e.uploadsRemaining[o.payload.uploadId].file})],e.uploadsLaunched--):e.unsuccessfulUploads=[...e.unsuccessfulUploads,{filename:o.payload.filename,message:o.payload.message}],o.payload.uploadId&&(e.uploadsRemaining=Object.assign({},e.uploadsRemaining),delete e.uploadsRemaining[o.payload.uploadId]),e)}if(n.sharedFonts.uploadFontWarning.matches(o)){const e=Object.assign({},s);return e.warnings.push(o.payload),e}if(n.sharedFonts.toggleFontsToDelete.matches(o)){const e=Object.assign({},s);return e.fontsToDelete=Object.assign({},e.fontsToDelete),o.payload.fonts.forEach(s=>{const n=()=>{delete e.fontsToDelete[s.id]},t=()=>{e.fontsToDelete[s.id]=s};null!=o.payload.checked?o.payload.checked?t():n():e.fontsToDelete[s.id]?n():t()}),e}if(n.sharedFonts.deleteFonts.matches(o))return Object.assign({},s,{successfulDeletes:[],unsuccessfulDeletes:[]});if(n.sharedFonts.deleteFontComplete.matches(o)){const e=Object.assign({},s);return e.unsuccessfulDeletes=[...e.unsuccessfulDeletes],e.successfulDeletes=[...e.successfulDeletes],e.fontsByResourceId=Object.assign({},e.fontsByResourceId),e.fontsToDelete=Object.assign({},e.fontsToDelete),Object.keys(e.fontsToDelete).forEach(s=>{o.payload.errors[s]?e.unsuccessfulDeletes.push(s):(delete e.fontsToDelete[s],e.successfulDeletes.push(s))}),e}if(n.sharedFonts.clearFontsToDelete.matches(o))return Object.assign({},s,{fontsToDelete:{},unsuccessfulDeletes:[],successfulDeletes:[]});if(n.sharedFonts.dismissFontCollision.matches(o)){const e=Object.assign({},s);return e.collisions=e.collisions.slice(1),e}if(n.sharedFonts.dismissFontWarning.matches(o)){const e=Object.assign({},s);return e.warnings=e.warnings.slice(1),e}if(n.sharedFonts.clearFontUploadResults.matches(o))return Object.assign({},s,{uploadsRemaining:{},uploadsLaunched:0,unsuccessfulUploads:[],successfulUploads:[],collisions:[],warnings:[]});if(n.sharedFonts.updateSharedFontList.matches(o)){const e=Object.assign({},s);return e.fontsByResourceId={},o.payload.list.forEach(s=>{const o=t.uniqueResourceIDForFont(s);e.fontsByResourceId[o]||(e.fontsByResourceId[o]={}),e.fontsByResourceId[o][s.family]||(e.fontsByResourceId[o][s.family]={}),e.fontsByResourceId[o][s.family][s.style]=s}),e}if(n.sharedFonts.put.matches(o)){const e=Object.assign({},s),n=t.uniqueResourceIDForFont(o.payload.font),{family:a,style:l}=o.payload.font;return e.fontsByResourceId=Object.assign({},e.fontsByResourceId),e.fontsByResourceId[n]=Object.assign({},e.fontsByResourceId[n]),e.fontsByResourceId[n][a]=Object.assign({},e.fontsByResourceId[n][a]),e.fontsByResourceId[n][a][l]=o.payload.font,e}if(n.sharedFonts.del.matches(o)){const e=Object.assign({},s);e.fontsByResourceId=Object.assign({},e.fontsByResourceId);const n=t.uniqueResourceIDForFont(o.payload.font),{family:a,style:l}=o.payload.font;return e.fontsByResourceId[n]=Object.assign({},e.fontsByResourceId[n]),e.fontsByResourceId[n][a]=Object.assign({},e.fontsByResourceId[n][a]),delete e.fontsByResourceId[n][a][l],0===Object.keys(e.fontsByResourceId[n][a]).length&&delete e.fontsByResourceId[n][a],0===Object.keys(e.fontsByResourceId[n]).length&&delete e.fontsByResourceId[n],e}return s},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,r,o){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=o(232                        ),t=o(165                                 );r.orgUserReducer=t.createReducerWithPrecheck(function(e=null,r){return e&&r.payload&&r.payload.orgUser&&e.id===r.payload.orgUser.id&&s.orgUser.put.matches(r)?Object.assign({},e,{permission:r.payload.orgUser.permission||e.permission,account_type:r.payload.orgUser.account_type||e.account_type}):e},{shouldIgnoreAction:e=>!s.orgUser.put.matches(e)}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=t(232                        ),s=t(1466                         ),a=t(165                                 );r.orgDraftsOwners=function(e=Object.create(null),r){if(o.fileBrowser.hydrate.matches(r)&&r.payload.org_drafts_owners){const e=Object.create(null);return r.payload.org_drafts_owners.forEach(r=>{e[r.drafts_folder_id]=r}),e}return a.reduceObject(e,r,s.orgUserReducer)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(232                        );t.responsiveContent=function(e={},t){switch(t.type){case o.responsiveContent.HIDE:return{};case o.responsiveContent.SHOW:return{onboardingContent:Object.assign({},t.payload)};default:return e}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const o=s(57,1   ),t=s(232                        ),a=s(165                                 ),n=s(1466                         );function c(e=!1,r){return!t.orgUser.set.matches(r)&&(!!t.orgUser.getAll.matches(r)||e)}function i(e={},r){if(t.fileBrowser.hydrate.matches(r)){const e={},s=(r.payload.org_users||[]).concat(r.payload.org_drafts_owners||[]);for(let r of s)e[r.org_id]||(e[r.org_id]={}),e[r.org_id][r.user_id]=r;return e}const s=r.payload&&(r.payload.orgUser&&r.payload.orgUser.org_id||r.payload.orgId);if(!s)return e;const o=function(e={},r){if(t.orgUser.batchPut.matches(r)){const s=Object.assign({},e),o=new Set(r.payload.params.org_user_ids);for(let t in e){const a=e[t];o.has(a.id)&&(s[t]=Object.assign({},a,{permission:r.payload.params.permission||a.permission,account_type:r.payload.params.account_type||a.account_type}))}return s}if(t.orgUser.set.matches(r)){const s=Object.assign({},e);for(let e of r.payload.orgUsers||[])s[e.user_id]=e;return s}if(t.orgUser.batchDel.matches(r)){const s=Object.assign({},e),o=new Set(r.payload.params.org_user_ids);for(const r in e){const t=e[r];o.has(t.id)&&delete s[r]}return s}return a.reduceObject(e,r,n.orgUserReducer)}(e[s],r);if(o!==e[s]){const r=Object.assign({},e);return r[s]=o,r}return e}r.isFetching=c,r.orgUsers=i,r.orgUsersByOrgId=o.combineReducers({orgUsers:i,isFetching:c}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(232                 );a.userFlags=function(e={},a){if(s.fileBrowser.hydrate.matches(a)){const t=Object.assign({},e);return a.payload.user_flags&&a.payload.user_flags.forEach(e=>{t[e.name]={createdAt:new Date(e.created_at)}}),t}if(s.userFlags.put.matches(a))return Object.assign({},e,{[a.payload.name]:{createdAt:new Date}});if(s.userFlags.post.matches(a)){const t=Object.assign({},e),s=new Date;for(let e in a.payload.flags)a.payload.flags[e]?t[e]={createdAt:s}:delete t[e];return t}if(s.userFlags.receiveUpdate.matches(a))return Object.assign({},e,{[a.payload.name]:{createdAt:new Date(a.payload.created_at)}});if(s.userFlags.receiveDelete.matches(a)){if(e[a.payload.name]){const t=Object.assign({},e);return delete t[a.payload.name],t}return e}return e},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,s){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=s(57,1   ),t=s(79,1            ),o=s(172                     ),d=s(234                              ),i=s(235                          ),l=s(236                          ),p=s(237                                 ),c=s(275                              ),n=s(244                       ),u=s(276                               ),f=s(93                  ),g=s(277                           ),m=s(166                         ),_=s(278                           ),w=s(1439                           ),h=s(1440                      ),y=s(1441                                    ),v=s(1442                         ),F=s(163                       ),B=s(1382                              ),I=s(1428                      ),O=s(1443                        ),R=s(352                      ),S=s(1458                                  ),b=s(1459                           ),M=s(1460                     ),V=s(1461                               ),K=s(1462                                   ),x=s(1464                              ),U=s(1465                             ),C=s(1467                                 ),j=s(1468                                   ),q=s(1469                                    ),A=s(261                                    ),P=s(1470          );function W(e){return e.selectedView.folderId?e.folders[e.selectedView.folderId]:null}function D(e){return e.currentOrgId?e.orgById[e.currentOrgId]:null}r.fullscreenHasUnsavedChanges=function(e){return!!(e.selectedView&&e.selectedView.fullscreen&&e.saveStatus&&e.saveStatus.hasUnsavedChanges)},r.getEditingFile=function(e){return e.fileByKey[B.editingFileKey(e.selectedView)]},r.getSelectedFolder=W,r.getSelectedOrg=D,r.getNewFileInfo=function(e,r,s=!1){let a=null;const t=W(e);s||!t||o.isFolderEditingLockedForUser(t,e)||(a=t.id);let d=null;const i=D(e);return i&&(d=i.id),{folder_id:a,org_id:d,openInNewTab:r}},r.stateWithoutMirror=(e=>{const r=Object.assign({},e);return delete r.mirror,r}),r.commonReducerMap={autocomplete:d.autocomplete,contacts:i.contacts,dropdownShown:l.dropdownShown,flashes:f.flashReducer,modalShown:h.modalShown,visualBell:y.visualBell,teams:I.teams,user:R.user,userFlags:P.userFlags,fileMove:g.fileMove,fileByKey:n.fileByKey,deletedFilesByKey:u.deletedFilesByKey,folders:m.folders,realtime:v.realtime,selectedView:B.selectedView,roles:F.roles,twoFactorAuth:p.twoFactorAuth,tooltip:O.tooltip,comments:S.comments,appWindow:b.appWindow,orgById:M.orgById,orgDraftsOwners:C.orgDraftsOwners,teamRoleRequests:A.teamRoleRequests,currentOrgId:V.currentOrgId,hasPersonalSpace:K.hasPersonalSpace,dragState:x.dragState,sharedFonts:U.sharedFonts,orgUsersByOrgId:q.orgUsersByOrgId,responsiveContent:j.responsiveContent},r.combineAppReducers=function(){return t.default(a.combineReducers(Object.assign({},r.commonReducerMap,c.fileBrowserReducerMap(),w.fullscreenReducerMap(),_.prototypeReducerMap)))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.thunk=(t=>e=>(function(n){return e("function"==typeof n?n(t,n.payload):n)})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){
/*!
 * Fuse.js v3.2.0 - Lightweight fuzzy-search (http://fusejs.io)
 * 
 * Copyright (c) 2012-2017 Kirollos Risk (http://kiro.me)
 * All Rights Reserved. Apache Software License 2.0
 * 
 * http://www.apache.org/licenses/LICENSE-2.0
 */
var n,o;n=this,o=function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}return r.m=e,r.c=t,r.i=function(e){return e},r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{configurable:!1,enumerable:!0,get:n})},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=8)}([function(e,t,r){"use strict";e.exports=function(e){return"[object Array]"===Object.prototype.toString.call(e)}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(5),i=r(7),a=r(4),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,i=r.distance,s=void 0===i?100:i,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.isCaseSensitive,v=void 0!==f&&f,d=r.tokenSeparator,p=void 0===d?/ +/g:d,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k},this.pattern=this.options.isCaseSensitive?t:t.toLowerCase(),this.pattern.length<=u&&(this.patternAlphabet=a(this.pattern))}return n(e,[{key:"search",value:function(e){if(this.options.isCaseSensitive||(e=e.toLowerCase()),this.pattern===e)return{isMatch:!0,score:0,matchedIndices:[[0,e.length-1]]};var t=this.options,r=t.maxPatternLength,n=t.tokenSeparator;if(this.pattern.length>r)return o(e,this.pattern,n);var a=this.options,s=a.location,c=a.distance,h=a.threshold,l=a.findAllMatches,u=a.minMatchCharLength;return i(e,this.pattern,this.patternAlphabet,{location:s,distance:c,threshold:h,findAllMatches:l,minMatchCharLength:u})}}]),e}();e.exports=s},function(e,t,r){"use strict";var n=r(0);e.exports=function(e,t){return function e(t,r,o){if(r){var i=r.indexOf("."),a=r,s=null;-1!==i&&(a=r.slice(0,i),s=r.slice(i+1));var c=t[a];if(null!=c)if(s||"string"!=typeof c&&"number"!=typeof c)if(n(c))for(var h=0,l=c.length;h<l;h+=1)e(c[h],s,o);else s&&e(c,s,o);else o.push(c.toString())}else o.push(t);return o}(e,t,[])}},function(e,t,r){"use strict";e.exports=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=[],n=-1,o=-1,i=0,a=e.length;i<a;i+=1){var s=e[i];s&&-1===n?n=i:s||-1===n||((o=i-1)-n+1>=t&&r.push([n,o]),n=-1)}return e[i-1]&&i-n>=t&&r.push([n,i-1]),r}},function(e,t,r){"use strict";e.exports=function(e){for(var t={},r=e.length,n=0;n<r;n+=1)t[e.charAt(n)]=0;for(var o=0;o<r;o+=1)t[e.charAt(o)]|=1<<r-o-1;return t}},function(e,t,r){"use strict";var n=/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g;e.exports=function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:/ +/g,o=new RegExp(t.replace(n,"\\$&").replace(r,"|")),i=e.match(o),a=!!i,s=[];if(a)for(var c=0,h=i.length;c<h;c+=1){var l=i[c];s.push([e.indexOf(l),l.length-1])}return{score:a?.5:1,isMatch:a,matchedIndices:s}}},function(e,t,r){"use strict";e.exports=function(e,t){var r=t.errors,n=void 0===r?0:r,o=t.currentLocation,i=void 0===o?0:o,a=t.expectedLocation,s=void 0===a?0:a,c=t.distance,h=void 0===c?100:c,l=n/e.length,u=Math.abs(s-i);return h?l+u/h:u?1:l}},function(e,t,r){"use strict";var n=r(6),o=r(3);e.exports=function(e,t,r,i){for(var a=i.location,s=void 0===a?0:a,c=i.distance,h=void 0===c?100:c,l=i.threshold,u=void 0===l?.6:l,f=i.findAllMatches,v=void 0!==f&&f,d=i.minMatchCharLength,p=void 0===d?1:d,g=s,y=e.length,m=u,k=e.indexOf(t,g),x=t.length,S=[],M=0;M<y;M+=1)S[M]=0;if(-1!==k){var b=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});if(m=Math.min(b,m),-1!==(k=e.lastIndexOf(t,g+x))){var _=n(t,{errors:0,currentLocation:k,expectedLocation:g,distance:h});m=Math.min(_,m)}}k=-1;for(var L=[],w=1,C=x+y,A=1<<x-1,I=0;I<x;I+=1){for(var O=0,F=C;O<F;){n(t,{errors:I,currentLocation:g+F,expectedLocation:g,distance:h})<=m?O=F:C=F,F=Math.floor((C-O)/2+O)}C=F;var P=Math.max(1,g-F+1),j=v?y:Math.min(g+F,y)+x,z=Array(j+2);z[j+1]=(1<<I)-1;for(var T=j;T>=P;T-=1){var E=T-1,K=r[e.charAt(E)];if(K&&(S[E]=1),z[T]=(z[T+1]<<1|1)&K,0!==I&&(z[T]|=(L[T+1]|L[T])<<1|1|L[T+1]),z[T]&A&&(w=n(t,{errors:I,currentLocation:E,expectedLocation:g,distance:h}))<=m){if(m=w,(k=E)<=g)break;P=Math.max(1,2*g-k)}}if(n(t,{errors:I+1,currentLocation:g,expectedLocation:g,distance:h})>m)break;L=z}return{isMatch:k>=0,score:0===w?.001:w,matchedIndices:o(S,p)}}},function(e,t,r){"use strict";var n=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}();var o=r(1),i=r(2),a=r(0),s=function(){function e(t,r){var n=r.location,o=void 0===n?0:n,a=r.distance,s=void 0===a?100:a,c=r.threshold,h=void 0===c?.6:c,l=r.maxPatternLength,u=void 0===l?32:l,f=r.caseSensitive,v=void 0!==f&&f,d=r.tokenSeparator,p=void 0===d?/ +/g:d,g=r.findAllMatches,y=void 0!==g&&g,m=r.minMatchCharLength,k=void 0===m?1:m,x=r.id,S=void 0===x?null:x,M=r.keys,b=void 0===M?[]:M,_=r.shouldSort,L=void 0===_||_,w=r.getFn,C=void 0===w?i:w,A=r.sortFn,I=void 0===A?function(e,t){return e.score-t.score}:A,O=r.tokenize,F=void 0!==O&&O,P=r.matchAllTokens,j=void 0!==P&&P,z=r.includeMatches,T=void 0!==z&&z,E=r.includeScore,K=void 0!==E&&E,$=r.verbose,J=void 0!==$&&$;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.options={location:o,distance:s,threshold:h,maxPatternLength:u,isCaseSensitive:v,tokenSeparator:p,findAllMatches:y,minMatchCharLength:k,id:S,keys:b,includeMatches:T,includeScore:K,shouldSort:L,getFn:C,sortFn:I,verbose:J,tokenize:F,matchAllTokens:j},this.setCollection(t)}return n(e,[{key:"setCollection",value:function(e){return this.list=e,e}},{key:"search",value:function(e){this._log('---------\nSearch pattern: "'+e+'"');var t=this._prepareSearchers(e),r=t.tokenSearchers,n=t.fullSearcher,o=this._search(r,n),i=o.weights,a=o.results;return this._computeScore(i,a),this.options.shouldSort&&this._sort(a),this._format(a)}},{key:"_prepareSearchers",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=[];if(this.options.tokenize)for(var r=e.split(this.options.tokenSeparator),n=0,i=r.length;n<i;n+=1)t.push(new o(r[n],this.options));return{tokenSearchers:t,fullSearcher:new o(e,this.options)}}},{key:"_search",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments[1],r=this.list,n={},o=[];if("string"==typeof r[0]){for(var i=0,a=r.length;i<a;i+=1)this._analyze({key:"",value:r[i],record:i,index:i},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t});return{weights:null,results:o}}for(var s={},c=0,h=r.length;c<h;c+=1)for(var l=r[c],u=0,f=this.options.keys.length;u<f;u+=1){var v=this.options.keys[u];if("string"!=typeof v){if(s[v.name]={weight:1-v.weight||1},v.weight<=0||v.weight>1)throw new Error("Key weight has to be > 0 and <= 1");v=v.name}else s[v]={weight:1};this._analyze({key:v,value:this.options.getFn(l,v),record:l,index:c},{resultMap:n,results:o,tokenSearchers:e,fullSearcher:t})}return{weights:s,results:o}}},{key:"_analyze",value:function(e,t){var r=e.key,n=e.arrayIndex,o=void 0===n?-1:n,i=e.value,s=e.record,c=e.index,h=t.tokenSearchers,l=void 0===h?[]:h,u=t.fullSearcher,f=void 0===u?[]:u,v=t.resultMap,d=void 0===v?{}:v,p=t.results,g=void 0===p?[]:p;if(null!=i){var y=!1,m=-1,k=0;if("string"==typeof i){this._log("\nKey: "+(""===r?"-":r));var x=f.search(i);if(this._log('Full text: "'+i+'", score: '+x.score),this.options.tokenize){for(var S=i.split(this.options.tokenSeparator),M=[],b=0;b<l.length;b+=1){var _=l[b];this._log('\nPattern: "'+_.pattern+'"');for(var L=!1,w=0;w<S.length;w+=1){var C=S[w],A=_.search(C),I={};A.isMatch?(I[C]=A.score,y=!0,L=!0,M.push(A.score)):(I[C]=1,this.options.matchAllTokens||M.push(1)),this._log('Token: "'+C+'", score: '+I[C])}L&&(k+=1)}m=M[0];for(var O=M.length,F=1;F<O;F+=1)m+=M[F];m/=O,this._log("Token score average:",m)}var P=x.score;m>-1&&(P=(P+m)/2),this._log("Score average:",P);var j=!this.options.tokenize||!this.options.matchAllTokens||k>=l.length;if(this._log("\nCheck Matches: "+j),(y||x.isMatch)&&j){var z=d[c];z?z.output.push({key:r,arrayIndex:o,value:i,score:P,matchedIndices:x.matchedIndices}):(d[c]={item:s,output:[{key:r,arrayIndex:o,value:i,score:P,matchedIndices:x.matchedIndices}]},g.push(d[c]))}}else if(a(i))for(var T=0,E=i.length;T<E;T+=1)this._analyze({key:r,arrayIndex:T,value:i[T],record:s,index:c},{resultMap:d,results:g,tokenSearchers:l,fullSearcher:f})}}},{key:"_computeScore",value:function(e,t){this._log("\n\nComputing score:\n");for(var r=0,n=t.length;r<n;r+=1){for(var o=t[r].output,i=o.length,a=0,s=1,c=0;c<i;c+=1){var h=e?e[o[c].key].weight:1,l=(1===h?o[c].score:o[c].score||.001)*h;1!==h?s=Math.min(s,l):(o[c].nScore=l,a+=l)}t[r].score=1===s?a/i:s,this._log(t[r])}}},{key:"_sort",value:function(e){this._log("\n\nSorting...."),e.sort(this.options.sortFn)}},{key:"_format",value:function(e){var t=[];this._log("\n\nOutput:\n\n",JSON.stringify(e));var r=[];this.options.includeMatches&&r.push(function(e,t){var r=e.output;t.matches=[];for(var n=0,o=r.length;n<o;n+=1){var i=r[n];if(0!==i.matchedIndices.length){var a={indices:i.matchedIndices,value:i.value};i.key&&(a.key=i.key),i.hasOwnProperty("arrayIndex")&&i.arrayIndex>-1&&(a.arrayIndex=i.arrayIndex),t.matches.push(a)}}}),this.options.includeScore&&r.push(function(e,t){t.score=e.score});for(var n=0,o=e.length;n<o;n+=1){var i=e[n];if(this.options.id&&(i.item=this.options.getFn(i.item,this.options.id)[0]),r.length){for(var a={item:i.item},s=0,c=r.length;s<c;s+=1)r[s](i,a);t.push(a)}else t.push(i.item)}return t}},{key:"_log",value:function(){var e;this.options.verbose&&(e=console).log.apply(e,arguments)}}]),e}();e.exports=s}])},"object"==typeof t&&"object"==typeof e?e.exports=o():"function"==typeof define&&define.amd?define("Fuse",[],o):"object"==typeof t?t.Fuse=o():n.Fuse=o(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(s,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const i=t(1473     ),r=t(0                    );e.SearchLibrary=class{constructor(s,e={}){this.options=Object.assign({},e,{includeScore:!1}),this.sourceList=s,this.fuse=new i(s,this.options)}set(s){this.fuse=new i(s,this.options),this.sourceList=s}list(){return[...this.sourceList]}search(s){return this.fuse.search(s.trim())}};e.ScoredSearchLibrary=class{constructor(s,e={}){this.promiseResolvesByMessageId={},this.lastMessageId=0,this.search=(s=>r.initialOptions().feature_flags.library_search_worker?new Promise((e,t)=>{const i=this.lastMessageId++;this.promiseResolvesByMessageId[i]=e;const r={type:"SEARCH",pattern:s.trim(),messageId:i};this.searchWorker.postMessage(r)}):new Promise((e,t)=>{e(this.fuse.search(s.trim()))})),this.options=Object.assign({},e,{includeScore:!0}),this.sourceList=s,r.initialOptions().feature_flags.library_search_worker?(this.searchWorker=new Worker(Fig.librarySearchWorkerURL),this.searchWorker.onmessage=(s=>{if("SEARCH_RESULTS"===s.data.type){const e=s.data.messageId,t=this.promiseResolvesByMessageId[e];if(t)return t(s.data.results),void delete this.promiseResolvesByMessageId[e]}})):this.fuse=new i(s,this.options)}set(s){if(r.initialOptions().feature_flags.library_search_worker){const e={type:"INIT",list:s,options:this.options};this.searchWorker.postMessage(e)}else this.fuse=new i(s,this.options);this.sourceList=s}list(){return[...this.sourceList]}},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(232                        ),l=a(107                                 ),s=a(158        ),c=a(233                            ),p=a(163                       ),r=a(1417                       ),i=a(1474                          ),u=a(126                     );let d=new i.SearchLibrary([],{keys:["handle","email"],threshold:0,tokenize:!0});t.default=(e=>t=>(function(a){if(l.addList.matches(a)){t(a);let o=e.getState().contacts,l=Object.keys(o).map(e=>o[e]);d.set(l)}else switch(a.type){case o.fileBrowser.SHOW_MODAL:switch(a.payload.type){case r.AppModal.FILE_PERMISSIONS_MODAL:e.dispatch(o.autocomplete.reset(!0)),e.dispatch(o.autocomplete.excludeRolesFor(u.ResourceType.FILE,a.payload.data.fileKey));break;case r.AppModal.FOLDER_PERMISSIONS_MODAL:e.dispatch(o.autocomplete.reset(!0)),e.dispatch(o.autocomplete.excludeRolesFor(u.ResourceType.FOLDER,a.payload.data.folderId));break;case r.AppModal.TEAM_PERMISSIONS_MODAL:e.dispatch(o.autocomplete.reset(!0)),e.dispatch(o.autocomplete.excludeRolesFor(u.ResourceType.TEAM,a.payload.data.teamId))}return t(a);case o.autocomplete.INPUT_CHANGE:if(t(a),/[,\n]/.test(a.payload.value))e.dispatch(o.autocomplete.submitToken(a.payload.value));else{let t=e.getState(),l={};for(let e in t.contacts)l[t.contacts[e].id]=e;let s={},c=t.autocomplete.excludeRolesFor;if(c){let e=p.getRolesByResource(t.roles,c.resourceType)[c.resourceIdOrKey];for(let t in e){let a=e[t];s[a.user.email]=!0,s[l[a.user.id]]=!0}}for(let e of t.autocomplete.tokens)s[e.email]=!0;let r=d.search(a.payload.value).filter(e=>!(e.email in s));e.dispatch(o.autocomplete.setSearchResults(r))}return;case o.autocomplete.SUBMIT_TOKEN:{let l=e.getState().contacts,r=s.parseEmails(a.payload.email);const i=e.getState(),u=i.autocomplete.excludeRolesFor;let d={};if(u){let e={};for(let a in i.contacts)e[i.contacts[a].id]=a;let t=p.getRolesByResource(i.roles,u.resourceType)[u.resourceIdOrKey];for(let a in t){let o=t[a];d[o.user.email]=!0,d[e[o.user.id]]=!0}}for(let t of r){let a={email:t,state:!s.isEmail(t)||t in d?c.AutocompleteTokenState.ERROR:c.AutocompleteTokenState.OK,user:l[t]};e.dispatch(o.autocomplete.addToken(a))}return e.dispatch(o.autocomplete.inputChange("")),t(a)}default:return t(a)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=i(232                        ),r=i(1471                    ),l=i(522                            );let n=!1;t.colorPickerMiddleware=(e=>t=>(function(i){if(c.fullscreen.open.matches(i))return n=!1,e.dispatch(c.styleFile.initSelectedStyleFile()),t(i);if(c.styleFile.initSelectedStyleFile.matches(i)){if(n)return t(i);const a=e.getState();return r.getEditingFile(a)?(e.dispatch(c.colorPicker.resetSwatchSet({defaultSwatchId:l.DOCUMENT_SWATCH_SET_ID})),n=!0,t(i)):t(i)}return t(i)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const a=e(232                        ),o=e(159                          );i.activityLogs=(t=>i=>(function(e){switch(e.type){case a.fileBrowser.SELECT_VIEW:if(e.payload.activityLogs){const{today:i,thirtyDaysAgo:n}=o.getThirtyDayEndPoints();t.dispatch(a.orgTeam.get({includeMemberCount:!1,includeProjectCount:!1})),t.dispatch(a.activityLogs.get({newQuery:!0,date:{start:n,end:i},actorEmail:e.payload.viewState&&e.payload.viewState.initialEmail||""}))}return i(e)}return i(e)})),i.default=i.activityLogs,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});let o=n(0                  ).default().smart_token,a=!1,r=[],s=[],l=0;const i=6e4,c=3e5;function u(e){const t=e.split(":");return{channel:t[0],timestamp:parseInt(t[1]),generation:parseInt(t[2]),signature:t[3]}}function d(e){let t=null,n=null,o=null,r={},l=2e3,i=!0,c=!0;const d=()=>{null!=o&&clearInterval(o),null!=n&&n.close(),o=null,n=null,c=!0},p=()=>{d(),i&&(console.log(`reconnecting to realtime in ${l}ms`),setTimeout(f,l+4e3*Math.random()-1500),l<3e4&&(l*=2))},m=e=>{n&&n.readyState===n.OPEN&&n.send(`tok:${e.channel}:${e.timestamp}:${e.generation}:${e.signature}`)},f=()=>{d();let e="";e="https:"===window.location.protocol?`wss://${window.location.host}`:`ws://${window.location.host}`,e+="/api/realtime_v2",e+=`?release_git_tag=${window.INITIAL_OPTIONS&&window.INITIAL_OPTIONS.release_git_tag||""}`,(n=new WebSocket(e)).onopen=(e=>{l=2e3,o=setInterval(()=>{n.send("ping")},3e4+5e3*Math.random()-2500),a&&s.forEach(e=>{setTimeout(e,0)}),a=!0;for(const t in r)m(r[t])}),n.onmessage=(e=>{if("pong"===e.data)return;const n=e.data.substr(0,4);if("tok:"===n){const t=u(e.data.substr(4));return void(r[t.channel]=t)}let o={};if("ouc:"===n){const t=e.data.substr(4).split(":");2!==t.length&&console.warn("Got ouc: command with wrong number of params");for(let e=0;e<2;e++)"null"===t[e]&&(t[e]=null);o={type:"verify_user_state",org_user_count:t[0]&&parseInt(t[0]),org_user_updated:t[1]&&new Date(parseInt(t[1])).toISOString()}}else if("sub:"===n||"uns:"===n){const t=e.data.split(":"),n=t[t.length-1];if("ok"===n)return;if(delete r[t[1]],"expired"!==n)return void console.warn(e.data);if(!c)return;c=!1,o={type:"token_expired"}}else{try{o=JSON.parse(e.data)}catch(a){return void console.warn(`unexpected non-JSON realtime message: ${e.data}`)}null!=o.err&&(console.warn("encountered error message from realtime",o.err),p())}t&&t(o)}),n.onclose=(e=>{n=null,p()})};return f(),{disconnect:()=>{i=!1,d(),r={}},setCallback:e=>{t=e},subscribe:e=>{const t=r[e.channel];r[e.channel]=e,t||m(e)},unsubscribe:e=>{delete r[e],(e=>{delete r[e],n&&n.readyState===n.OPEN&&n.send(`uns:${e}`)})(e)}}}var p;t.parseRealtimeToken=u,t.realtimeClient=d(o),t.resetRealtimeConnection=function(){t.realtimeClient.disconnect(),t.realtimeClient=d(o)},t.addReconnectCallback=function(e){r.push(e)},p=function(){l>0||r.forEach(e=>{l+=1,setTimeout(()=>{try{e()}finally{l-=1}},i+Math.random()*(c-i))})},s.push(p),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(232                        ),s=o(97      ),i=o(100                     ),m=o(1426                               ),c=o(220                      ),a=o(1382                              ),d=o(105                        ),r=o(198         ),l=o(775                     ),p=o(563                                ),h=o(341                              ),f=o(778                              );function u(e,o,i=!0){s.default.get(`/api/file/${e}/comments`).then(({data:s})=>{let m=o.getState();if(a.editingFileKey(m.selectedView)===e){for(let e of s.meta)o.dispatch(n.comments.post({comment:e,userInitiated:!1}));i&&t.openInitialThread(o)}}),s.default.get(`/api/file/${e}/unread_comments`).then(({data:t})=>{if(a.editingFileKey(o.getState().selectedView)!==e)return;const s=t.meta||{};for(let e in s)s[e]||delete s[e];o.dispatch(n.comments.fetchedUnread({unreadIds:s}))})}o(1478          ).addReconnectCallback(function(){const e=window.store,t=e&&e.getState(),o=t&&t.selectedView&&a.editingFileKey(t.selectedView);o&&u(o,e,!1)}),t.openInitialThread=(e=>{const t=e.getState();let o=t.selectedView.viewState;if(!t.selectedView.fullscreen||!o)return;let s=o.commentThreadId;s&&t.comments.threads[s]&&m.fullscreen.isReady()&&t.comments.viewportInfo&&(t.comments.initialThreadAlreadyOpened||(t.comments.anchorPositionById[s]||e.dispatch(n.comments.refreshAnchorPositions()),e.dispatch(n.comments.showThread({threadId:s})),e.dispatch(n.comments.setInitialThreadAlreadyOpened({openInitialThread:!0}))))});t.default=(e=>o=>(function(I){const y=t=>{let o=t.data&&t.data.message||"An error occurred";e.dispatch(n.flash.error(o))};if(I.type===n.fileBrowser.INIT)f.initialize(e);else{if(I.type===n.fileBrowser.SELECT_VIEW){const t=e.getState(),s=t.selectedView&&a.editingFileKey(t.selectedView);o(I);const i=e.getState();if(!i.user)return;const m=a.editingFileKey(i.selectedView);return void(m&&m!==s&&(e.dispatch(n.comments.reset()),u(m,e)))}if(n.comments.setActive.matches(I)){let t=e.getState();const s=I.payload.threadId;if(s&&s!==t.comments.activeId&&e.dispatch(n.comments.setThreadPosition({threadId:s,position:null})),e.dispatch(n.comments.readThread({threadId:t.comments.activeId})),e.dispatch(n.comments.readThread({threadId:s})),t.selectedView.fullscreen){const e=t.comments.commentsById[s];if(s===d.NEW_COMMENT_ID){const e=p.viewportPositionToCanvas(t.comments.viewportInfo,t.comments.newComment.anchorPosition);h.setActiveCommentNodeForPosition(e)}else if(e&&e.client_meta&&e.client_meta.node_id){const t=e.client_meta.node_id;h.setActiveCommentNode(t)}else h.setActiveCommentNode(h.invalidGUID)}return o(I)}if(n.comments.setNewAnchorPosition.matches(I)){const t=e.getState(),o=t.comments.newComment.anchorPosition;if(t.selectedView.fullscreen&&o){const e=p.viewportPositionToCanvas(t.comments.viewportInfo,o);h.setActiveCommentNodeForPosition(e)}}else{if(n.comments.readThread.matches(I)){const t=e.getState(),n=I.payload.threadId;let m=t.comments.commentsById[n];if(m){let c=(t.comments.commentIdsByThread[n]||[]).filter(e=>e in t.comments.unreadIds);if(c.length)return i.optimisticRequest({requestPromise:s.default.del(`/api/file/${m.key}/unread_comments`,{comment_ids:c}),fallbackError:"An error occurred while marking a comment as read.",store:e,next:o,action:I})}return o(I)}if(n.fullscreen.documentLoaded.matches(I))return o(I),void t.openInitialThread(e);if(n.comments.setViewportInfo.matches(I)||n.fullscreen.updateMirror.matches(I)){const s=e.getState(),i=s.comments.viewportInfo;o(I);const m=e.getState(),c=m.comments.viewportInfo;if(null==i&&null!=c&&t.openInitialThread(e),!s.comments.drag&&s.comments.activeId&&s.comments.activeId===m.comments.activeId&&i&&c&&JSON.stringify(i)!==JSON.stringify(c)){let t;t=s.comments.activeId===d.NEW_COMMENT_ID?p.viewportPositionToCanvas(i,s.comments.newComment.anchorPosition):s.comments.anchorPositionById[s.comments.activeId];const o=p.canvasPositionToViewport(i,t),a=p.canvasPositionToViewport(c,t),h=r.Vector.subtract(a,o),f=l.getActiveThreadPositionPlusDelta(m.comments,h);e.dispatch(n.comments.setThreadPosition({threadId:s.comments.activeId,position:f})),s.comments.activeId===d.NEW_COMMENT_ID&&e.dispatch(n.comments.setNewAnchorPosition({position:a}))}return}if(n.comments.updateDrag.matches(I)){const t=e.getState(),s=t.comments.drag;if(s){const o=r.Vector.subtract(I.payload.lastPosition,s.lastPosition);let i;if(t.comments.activeId&&(i=l.getActiveThreadPositionPlusDelta(t.comments,o)),s.anchorId)if(s.anchorId===d.NEW_COMMENT_ID){const s=r.Vector.add(t.comments.newComment.anchorPosition,o);l.canPlaceCommentAtViewportPosition(s,t.comments)&&(e.dispatch(n.comments.setNewAnchorPosition({position:s})),e.dispatch(n.comments.setThreadPosition({threadId:d.NEW_COMMENT_ID,position:i})))}else l.dragWasClick(s)||e.dispatch(n.comments.setActiveIfValid({threadId:null}));else t.comments.activeId&&e.dispatch(n.comments.setThreadPosition({threadId:t.comments.activeId,position:i})),s.threadId||(t.selectedView.fullscreen&&m.fullscreen.sendMessage("adjustCanvasSpaceCenter",{deltaX:o.x,deltaY:o.y}),t.comments.activeId===d.NEW_COMMENT_ID&&e.dispatch(n.comments.setNewAnchorPosition({position:r.Vector.add(t.comments.newComment.anchorPosition,o)})))}return o(I)}if(n.comments.stopDrag.matches(I)){const t=e.getState(),s=t.comments.drag;if(!s)return o(I);if(l.dragWasClick(t.comments.drag)&&!s.threadId)t.comments.activeId?e.dispatch(n.comments.setActive({threadId:null})):s.anchorId?e.dispatch(n.comments.setActiveIfValid({threadId:s.anchorId})):l.canPlaceCommentAtViewportPosition(s.lastPosition,t.comments)&&(e.dispatch(n.comments.setNewAnchorPosition({position:s.lastPosition})),e.dispatch(n.comments.setActive({threadId:d.NEW_COMMENT_ID})));else if(s.anchorId&&s.anchorId!==d.NEW_COMMENT_ID&&l.canPlaceCommentAtViewportPosition(s.lastPosition,t.comments)){let o=t.comments.commentsById[s.anchorId];const{canvasPosition:i,nodeId:m,nodeOffset:c}=I.payload,a={x:i.x,y:i.y,node_id:m,node_offset:c};e.dispatch(n.comments.put({comment:Object.assign({},o,{client_meta:a}),userInitiated:!0}))}return o(I)}if(n.comments.submitNewComment.matches(I)){const t=e.getState(),i=a.editingFileKey(t.selectedView);if(!i)return;const m=t.comments.newComment,{canvasPosition:d,nodeId:r,nodeOffset:l,inFrame:p}=I.payload,h={x:d.x,y:d.y,node_id:r,node_offset:l,in_frame:p};let f=m.messageMeta;return s.default.post(`/api/file/${i}/comments`,{file_key:i,message_meta:f,client_meta:h,prototype_mode:t.selectedView.prototype}).then(({data:o})=>{if(a.editingFileKey(e.getState().selectedView)!==i)return;let s=o.meta;e.dispatch(n.comments.post({comment:s,userInitiated:!1}));const m=t.selectedView.fullscreen?"fullscreen":"prototype";c.trackEventForFile("Comment Submitted",i,t,{commentId:s.id,locationX:d&&d.x,locationY:d&&d.y,nodeId:r,nodeOffsetX:l&&l.x,nodeOffsetY:l&&l.y,selectedView:m})}).catch(t=>{y(t),e.dispatch(n.comments.resetNewComment({resetStatusOnly:!0}))}),o(I)}if(n.comments.submitReply.matches(I)){const t=e.getState(),i=a.editingFileKey(t.selectedView);if(!i)return;let m=t.comments.threads[I.payload.threadId].replyMessageMeta;return s.default.post(`/api/file/${i}/comments/${I.payload.threadId}`,{file_key:i,message_meta:m,prototype_mode:t.selectedView.prototype}).then(({data:o})=>{if(a.editingFileKey(e.getState().selectedView)!==i)return;let s=o.meta;e.dispatch(n.comments.post({comment:s,userInitiated:!1}));const m=t.selectedView.fullscreen?"fullscreen":"prototype";c.trackEventForFile("Comment Submitted",i,t,{commentId:s.id,parentCommentId:s.id,selectedView:m})}).catch(t=>{y(t),e.dispatch(n.comments.resetThread({threadId:I.payload.threadId,resetStatusOnly:!0}))}),o(I)}if(n.comments.stopEditing.matches(I)){const t=e.getState();if(I.payload.submit&&t.comments.editingComment){let o=t.comments.commentsById[t.comments.editingComment.id],s=t.comments.editingComment.messageMeta;e.dispatch(n.comments.put({comment:{key:o.key,id:o.id,parent_id:o.parent_id,message_meta:s},userInitiated:!0}))}return o(I)}if(n.comments.post.matches(I)){if(!I.payload.userInitiated){const t=e.getState();let s=I.payload.comment;if(t.user&&s.user_id===t.user.id)if(s.parent_id){let o=t.comments.threads[s.parent_id];o&&o.state===d.CommentState.BUSY&&e.dispatch(n.comments.resetThread({threadId:o.rootId,resetStatusOnly:!1}))}else{let i=t.comments.newComment;if(i&&i.state===d.CommentState.BUSY)return o(I),e.dispatch(n.comments.refreshAnchorPositions()),e.dispatch(n.comments.setActiveIfValid({threadId:s.id})),void e.dispatch(n.comments.resetNewComment({resetStatusOnly:!1}))}}return o(I),void e.dispatch(n.comments.refreshAnchorPositions())}if(n.comments.put.matches(I)){if(I.payload.userInitiated&&I.payload.comment.id){if("true"===I.payload.comment.resolved_at){const t=e.getState();t.comments.activeId!==I.payload.comment.id||t.comments.showResolved||e.dispatch(n.comments.setActiveIfValid({threadId:null}))}const t=i.optimisticRequest({requestPromise:s.default.put(`/api/file/${I.payload.comment.key}/comments/${I.payload.comment.id}`,I.payload.comment),fallbackError:"An error occurred while processing editing this comment.",store:e,next:o,action:I});return e.dispatch(n.comments.refreshAnchorPositions()),t}return o(I)}if(n.comments.del.matches(I))return I.payload.userInitiated?i.optimisticRequest({requestPromise:s.default.del(`/api/file/${I.payload.comment.key}/comments/${I.payload.comment.id}`),fallbackError:"An error occurred while deleting this comment.",store:e,next:o,action:I}):o(I);if(n.comments.refreshAnchorPositions.matches(I)){const t=e.getState();if(t.selectedView.fullscreen&&!m.fullscreen.isReady())return m.fullscreen.onReady().then(()=>{e.dispatch(n.comments.refreshAnchorPositions())}),o(I);const s=Object.keys(t.comments.threads),i=f.getCommentAnchorPositionById(s,t.comments.commentsById);e.dispatch(n.comments.setAnchorPositionById(i));const c=Object.create(null);for(let e in t.comments.commentsById){const o=t.comments.commentsById[e];o.client_meta.node_id&&(c[o.client_meta.node_id]=!0)}f.watchBoundsForNodes(Object.keys(c))}else if(n.comments.showThread.matches(I)){const t=e.getState(),{threadId:o}=I.payload;l.panToComment(t.comments.commentsById[o],t.comments),setTimeout(()=>{e.dispatch(n.comments.setActiveIfValid({threadId:o}))},200)}}}return o(I)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(100                     ),i=a(97      ),s=a(232                        ),o=a(220                      ),d=a(173                        ),l=a(126                     ),m=a(239                             ),c=a(252                       ),n=a(332                       ),p=a(219          ),h=a(196                        );var u={};function f(e,t){const a=e.getState();if(d.canViewTeam(t.id,a))if(t.id in u){const r=a.roles.byTeamId[t.id],i=Object.keys(r).map(e=>r[e].user);e.dispatch(s.team.initMembers({teamId:t.id,members:i}))}else u[t.id]=!0,i.default.get(`/api/roles/${l.ResourceType.TEAM}/${t.id}`).then(({data:a})=>{let r=a.meta,i=r.map(e=>e.user);for(let t of r)e.dispatch(s.role.post(t,!1));e.dispatch(s.team.initMembers({teamId:t.id,members:i}))})}t.fetchTeamMembers=f,t.apiTeam=(e=>t=>(function(a){if(s.team.del.matches(a)){const d=e.getState(),l=a.payload.team,m=l.id,c=Object.keys(d.folders).filter(e=>d.folders[e].team_id===m),n=Object.keys(d.fileByKey).filter(e=>d.fileByKey[e].team_id===m);if(a.payload.userInitiated&&l.org_id&&a.payload.hardOrgTeamDelete)return o.trackEventForTeam("Org Team Deleted",m,e.getState()),r.optimisticRequest({requestPromise:i.default.del(`/api/teams/${m}`).then(()=>{e.dispatch(s.flash.flash(`You have deleted the ${a.payload.team.name} team`)),e.dispatch(s.team.resourceDelete({folderIds:c,fileKeys:n}))}).then(()=>{e.dispatch(s.realtime.unsubscribe(`/team-${a.payload.team.id}`))}),fallbackError:"An error occurred while deleting this team.",store:e,next:t,action:a});if(a.payload.userInitiated){const l=d.roles.byTeamId[a.payload.team.id],m=l[e.getState().user.id],p=Object.keys(l).length>1;return o.trackEventForRole("Role Deleted",m,e.getState()),p||o.trackEventForTeam("Team Deleted",m.resource_id_or_key,e.getState(),{lastUserId:m.user_id}),r.optimisticRequest({requestPromise:i.default.del(`/api/roles/${m.id}`).then(()=>{e.dispatch(s.flash.flash(`You have left the ${a.payload.team.name} team`)),e.dispatch(s.team.resourceDelete({folderIds:c,fileKeys:n}))}).then(()=>{e.dispatch(s.realtime.unsubscribe(`/team-${a.payload.team.id}`))}),fallbackError:"An error occurred while leaving this team.",store:e,next:t,action:a})}return e.dispatch(s.team.resourceDelete({folderIds:c,fileKeys:n})),t(a)}if(s.team.submitNewTeam.matches(a)){const r=e.getState().currentOrgId,d={team_name:a.payload.teamName};let l;return r&&(d.org_id=r,d.org_access=a.payload.orgAccess),i.default.post("/api/teams/create",d).then(({data:t})=>(l=t.meta,e.dispatch(s.team.post({team:l})),o.trackEventForTeam("Team Created",l.id,e.getState()),i.default.get(`/api/roles/team/${l.id}`))).then(({data:t})=>{let a=t.meta;for(let r of a)e.dispatch(s.role.post(r,!1));e.getState().currentOrgId?(e.dispatch(s.team.setLoading({loading:!1})),e.dispatch(s.fileBrowser.selectView({teamId:l.id})),e.dispatch(s.flash.flash("You have created a new team."))):"variant"===h.pickTreatment("exp_add_collaborators_01")?(e.dispatch(s.team.setLoading({loading:!1})),e.dispatch(s.fileBrowser.selectView({addCollaborators:!0,viewState:{teamId:l.id}}))):(e.dispatch(s.team.setLoading({loading:!1})),e.dispatch(s.fileBrowser.selectView({upgradeTeamId:l.id,viewState:{paymentStep:c.PaymentStep.UPGRADE_NEW_TEAM,previousView:{teamId:l.id}}})))}).catch(t=>{console.log("ERR",t);let a="An error occurred while creating this team.";try{a=JSON.parse(t.response).message}catch(r){}e.dispatch(s.flash.error(a)),e.dispatch(s.team.setLoading({loading:!1}))}),t(a)}if(s.team.rename.matches(a)){const s=a.payload.team.id;return o.trackEventForTeam("Team Renamed",s,e.getState()),r.optimisticRequest({requestPromise:i.default.put(`/api/teams/${s}`,{name:a.payload.name}),fallbackError:"An error occurred while renaming this team.",store:e,next:t,action:a})}if(s.team.changeOrgAccess.matches(a)){const s=a.payload.team.id;return o.trackEventForTeam("Team Org Access Changed",s,e.getState()),r.optimisticRequest({requestPromise:i.default.put(`/api/teams/${s}`,{org_access:a.payload.orgAccess}),fallbackError:"An error occurred while changing the org access of this team.",store:e,next:t,action:a})}if(s.avatar.editorUploaded.matches(a)){if(a.payload.entityType!==m.EntityType.TEAM)return t(a);const r=a.payload.entity.id;return i.default.put(`/api/teams/${r}`,{img_url:a.payload.smallUrl,img_url_500_500:a.payload.largeUrl}).then(function(t){let a=JSON.parse(t.response).meta;e.dispatch(s.team.put({team:a,userInitiated:!1})),e.dispatch(s.avatar.editorReset())},t=>{e.dispatch(s.flash.error("An error occurred while setting the team icon.")),console.error("An error occurred while setting the team icon.",t),e.dispatch(s.avatar.editorReset())}),t(a)}switch(s.team.onJoin.matches(a)?(p.segmentTrackEvent("file-browser-hydrate",{location:"team.onJoin"}),n.getUserStateRequest().then(t=>{const r=a.payload.teamId;e.dispatch(s.fileBrowser.hydrate(t.data.meta)),e.dispatch(s.fileBrowser.selectViewByTeamId(r)),e.dispatch(s.flash.flash(`You are now a member of '${e.getState().teams[r].name}'`))})):s.fileBrowser.hydrate.matches(a)&&(u={}),a.type){case s.fileBrowser.SELECT_VIEW:if(a.payload.teamId){let t=e.getState().teams[a.payload.teamId];t.appData&&t.appData.members||f(e,t)}return t(a);default:return t(a)}})),t.default=t.apiTeam,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(232                        ),i=s(782         ),n=s(1474                          ),c=s(107                                 ),o=s(1480                           );let r=new n.SearchLibrary([],{keys:[{name:"handle",weight:.9},{name:"email",weight:.1}],threshold:.2,tokenize:!0,shouldSort:!0});t.getFilteredContacts=(e=>{const t=e.getState();if(!t.editingFileKey)return[];if(t.currentOrgId){let e=[];return Object.keys(t.contacts).forEach(s=>{e.push(t.contacts[s])}),e.push(t.user),e}const s=Object.create(null),a=Object.assign({},t.contacts),i=t.fileByKey[t.editingFileKey].team_id,n=t.roles.byTeamId[i],c=t.roles.byFileKey[t.editingFileKey];return Object.keys(a).forEach(e=>{const t=a[e];(!i||i&&n&&n[a[e].id]||c[t.id])&&(s[t.id]=t)}),Object.keys(c||{}).forEach(e=>{if(!c[e].pending){const t=c[e].user;s[t.id]||(s[t.id]=t)}}),s[t.user.id]=t.user,Object.keys(s).map(e=>s[e])}),t.commentsTypeahead=(e=>s=>(function(n){if(!c.addList.matches(n)){if(a.team.initMembers.matches(n))r.set(t.getFilteredContacts(e));else if(a.comments.setTypeaheadMentionSearch.matches(n))if(""===n.payload.search){const t=(e,t)=>e.handle<t.handle?-1:1,s=r.list().sort(t);e.dispatch(a.comments.setTypeahead({mentions:s.slice(0,5),index:0}))}else{const t=r.search(n.payload.search);e.dispatch(a.comments.setTypeahead({mentions:t.slice(0,5),index:0}))}else if(a.comments.setTypeaheadEmojiSearch.matches(n)){let t=i.emojiIndex.search(n.payload.search);t=t.slice(0,10),e.dispatch(a.comments.setTypeahead({emojis:t,index:0}))}return s(n)}{s(n);let a=e.getState();if(!a.editingFileKey)return;const i=a.editingFileKey,c=a.fileByKey[i].team_id;c&&a.roles.byTeamId[c]?o.fetchTeamMembers(e,a.teams[c]):r.set(t.getFilteredContacts(e))}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";var s=this&&this.__awaiter||function(e,t,r,s){return new(r||(r=Promise))(function(i,a){function o(e){try{l(s.next(e))}catch(t){a(t)}}function c(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){e.done?i(e.value):new r(function(t){t(e.value)}).then(o,c)}l((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=r(232                        ),a=r(301           ),o=r(1474                          ),c=r(172                     ),l=r(1471                    ),n=r(371                       ),h=r(374                            ),y=[{name:"name",weight:.6},{name:"containing_frame.name",weight:.1},{name:"containing_frame.pageName",weight:.1},{name:"description",weight:.05}],u=y.concat([{name:"file.name",weight:.1},{name:"folder.name",weight:.1}]);class d{constructor(){this.dirtySources=new Set,this.dirtyResults=new Set,this.queryDidChange=((e,t)=>{for(const r of t)this.dirtyResults.add(r);this.debouncedComputeResults(e)}),this.debouncedComputeResults=a.debounce(e=>{const t=e.getState();this.dirtyResults.size>0&&(this.dirtySources.size>0&&(this.initSources(t,this.dirtySources),this.dirtySources.clear()),this.computeResults(e,this.dirtyResults),this.dirtyResults.clear())},200),this.queryIsPresentForTypes=(e=>[]),this.initSources=((e,t)=>{}),this.computeResults=((e,t)=>{})}sourcesDidChange(e,t){for(const s of t)this.dirtySources.add(s);const r=this.queryIsPresentForTypes(e.getState());r.length&&this.queryDidChange(e,r)}}t.localLibrarySearch=new class extends d{constructor(){super(...arguments),this.localComponentSearch=new o.ScoredSearchLibrary([],{keys:y,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localStyleSearch=new o.ScoredSearchLibrary([],{keys:y,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localComponentSearchMore=new o.ScoredSearchLibrary([],{keys:y,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.localStyleSearchMore=new o.ScoredSearchLibrary([],{keys:y,threshold:.3,matchAllTokens:!0,tokenize:!0,shouldSort:!0}),this.initSources=((e,t)=>{const r=l.getEditingFile(e),s=(t,s,i,a,o)=>{const c=[],l=new Set,n=e=>{for(const t of e)t.id&&l.has(t.id)||(l.add(t.id),c.push(Object.assign({},t)))},y=h.localLibraryItemsExcludingDeleted(i),u=h.getSubscribedLibraryItems(e.library,a,r);n(y),n(u),n(o),t.set(c);const d=h.flattenLibraryItems(a).filter(e=>!l.has(e.id));s.set(d)};t.has(n.LibraryItemType.COMPONENT)&&s(this.localComponentSearch,this.localComponentSearchMore,e.library.local.components,e.library.published.components,h.getOtherUsedComponents(e.mirror.sceneGraph,e.mirror.appModel.subscribedComponents,e.library,e.fileByKey)),t.has(n.LibraryItemType.STYLE)&&s(this.localStyleSearch,this.localStyleSearchMore,e.library.local.styles,e.library.published.styles,[])}),this.computeResults=((e,t)=>{const r=e.getState(),a=(t,r,a,o)=>s(this,void 0,void 0,function*(){if(a){const s=t.search(a),c=r.search(a),l=yield s,n=yield c,h=l.map(e=>e.item),y=n.map(e=>e.item);e.dispatch(i.library.setLocalSearchResults({results:h,moreResults:y,type:o}))}});t.has(n.LibraryItemType.COMPONENT)&&a(this.localComponentSearch,this.localComponentSearchMore,r.library.localSearch.components.query,n.LibraryItemType.COMPONENT),t.has(n.LibraryItemType.STYLE)&&a(this.localStyleSearch,this.localStyleSearchMore,r.library.localSearch.styles.query,n.LibraryItemType.STYLE)}),this.queryIsPresentForTypes=(e=>{const t=[];return e.library.localSearch.components.query&&t.push(n.LibraryItemType.COMPONENT),e.library.localSearch.styles.query&&t.push(n.LibraryItemType.STYLE),t})}},t.publishedLibrarySearch=new class extends d{constructor(){super(...arguments),this.componentSearch=new o.ScoredSearchLibrary([],{keys:u,threshold:.3,matchAllTokens:!0,tokenize:!0}),this.componentSearchWithPage=new o.ScoredSearchLibrary([],{keys:u,threshold:.1,tokenize:!1}),this.styleSearch=new o.ScoredSearchLibrary([],{keys:u,threshold:.3,matchAllTokens:!0,tokenize:!0}),this.initSources=((e,t)=>{const r=(t,r)=>{t.set(r.map(t=>{const r=e.fileByKey[t.file_key],s=r?e.folders[r.folder_id]:null;return Object.assign({},t,{file:r,folder:s})}))};if(t.has(n.LibraryItemType.COMPONENT)){const t=Object.assign({},e.library.published.components);for(let r in t){const s=e.teams[r];c.shouldRestrictProFeature(s)&&delete t[r]}let s=h.flattenLibraryItems(t);r(this.componentSearch,s),r(this.componentSearchWithPage,s)}t.has(n.LibraryItemType.STYLE)&&r(this.styleSearch,h.flattenLibraryItems(e.library.published.styles))}),this.computeResults=((e,t)=>{const r=e.getState(),a=r.library.librarySearchQuery,o=(t,o)=>s(this,void 0,void 0,function*(){const s=yield t.search(a),c=Object.create(null),l=Object.create(null);for(let e of s){const t=Object.assign({},e.item,{score:e.score}),s=r.fileByKey[t.file_key];if(!s)continue;if(s.team_id&&!r.teams[s.team_id])continue;let i=s.team_id||n.NO_TEAM_ID;c[i]=c[i]||Object.create(null),c[i][s.key]=c[i][s.key]||Object.create(null),c[i][s.key][t.node_id]=t,null==l[s.key]?l[s.key]=t.score:l[s.key]=Math.min(l[s.key],t.score)}e.dispatch(i.library.setPublishedSearchResults({results:{filteredByTeamId:c,minScorePerFile:l},type:o}))});t.has(n.LibraryItemType.COMPONENT)&&o(-1!==a.toLowerCase().indexOf("page")?this.componentSearchWithPage:this.componentSearch,n.LibraryItemType.COMPONENT),t.has(n.LibraryItemType.STYLE)&&o(this.styleSearch,n.LibraryItemType.STYLE)}),this.queryIsPresentForTypes=(e=>e.library.librarySearchQuery?[n.LibraryItemType.COMPONENT,n.LibraryItemType.STYLE]:[])}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,r){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const i=r(232                        ),t=r(553                                                     ),l=r(1471                    ),s=r(371                       ),c=r(1482                          );a.librarySearchMiddleware=(e=>a=>(function(r){return i.library.initialize.matches(r)||i.library.put.matches(r)||i.library.del.matches(r)?(a(r),l.getEditingFile(e.getState())&&c.localLibrarySearch.sourcesDidChange(e,[r.payload.type]),void c.publishedLibrarySearch.sourcesDidChange(e,[r.payload.type])):i.library.deleteComponentsForFile.matches(r)||r.type===i.file.PUT||r.type===i.folder.PUT?(a(r),void(l.getEditingFile(e.getState())&&(c.publishedLibrarySearch.sourcesDidChange(e,[s.LibraryItemType.COMPONENT,s.LibraryItemType.STYLE]),c.localLibrarySearch.sourcesDidChange(e,[s.LibraryItemType.COMPONENT,s.LibraryItemType.STYLE])))):i.library.clearLocal.matches(r)||t.initializeFileSubscriptionsForFile.matches(r)||t.initializeTeamSubscriptions.matches(r)||t.postFileSubscription.matches(r)||t.postTeamSubscription.matches(r)?(a(r),void(l.getEditingFile(e.getState())&&c.localLibrarySearch.sourcesDidChange(e,[s.LibraryItemType.COMPONENT,s.LibraryItemType.STYLE]))):i.library.replaceLocalItems.matches(r)?(a(r),void(l.getEditingFile(e.getState())&&c.localLibrarySearch.sourcesDidChange(e,[r.payload.type]))):i.fullscreen.updateMirror.matches(r)&&r.payload.appModel?(a(r),void(r.payload.appModel.subscribedComponents&&c.localLibrarySearch.sourcesDidChange(e,[s.LibraryItemType.COMPONENT]))):i.library.setLibraryQuery.matches(r)?(a(r),void c.publishedLibrarySearch.queryDidChange(e,[s.LibraryItemType.COMPONENT,s.LibraryItemType.STYLE])):i.library.setLocalQuery.matches(r)?(a(r),void c.localLibrarySearch.queryDidChange(e,[r.payload.type])):a(r)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(97      ),o=i(232                        ),r=i(553                                                     ),l=i(1417                       );let s={};t.default=(e=>t=>(function(i){if(i.type===o.fileBrowser.SELECT_VIEW){const a=e.getState(),r=(a.selectedView||{}).viewState||{},s=(i.payload||{}).viewState||{};return r.fileKey&&r.fileKey===s.fileKey||!a.modalShown||a.modalShown.type!==l.AppModal.LIBRARY_PREFERENCES_MODAL&&a.modalShown.type!==l.AppModal.SHARED_FONTS_MODAL||e.dispatch(o.fileBrowser.hideModal()),t(i)}if(o.fullscreen.open.matches(i)){t(i);const o=i.payload.file;if(!o)return;const l=o.key;if(s[l])return;if(!e.getState().user)return;return s[l]=!0,void a.default.get(`/api/library_file_subscriptions/${l}`).then(({data:t})=>{e.dispatch(r.initializeFileSubscriptionsForFile({fileKey:l,fileSubscriptionsByFileKey:t.meta})),e.dispatch(r.prefetchSubscribedStyles())})}return t(i)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(i,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e(232                        ),a=e(371                       );let n=null,r=null,c=null;t.componentNotificationsMiddleware=(i=>t=>(function(e){if(o.library.showNotification.matches(e))return clearTimeout(r),n=null,r=null,c=null,e.payload.notification.type===a.ComponentNotificationType.PUBLISH_SUCCESS&&(c=6e3,i.dispatch(o.library.resumeNotificationTimer())),t(e);if(o.library.hideNotification.matches(e))return t(e);if(o.library.pauseNotificationTimer.matches(e)){if(r&&n){clearTimeout(r);const i=(new Date).getTime()-n;c-=i}return t(e)}return o.library.resumeNotificationTimer.matches(e)?(c&&(n=(new Date).getTime(),r=setTimeout(()=>{i.dispatch(o.library.hideNotification())},c)),t(e)):t(e)})),i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(a,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=e(232                        ),s=e(1417                       ),p=e(107                                 );t.default=(a=>t=>(function(e){switch(e.type){case o.fileBrowser.SHOW_MODAL:switch(e.payload.type){case s.AppModal.FILE_PERMISSIONS_MODAL:case s.AppModal.FOLDER_PERMISSIONS_MODAL:case s.AppModal.TEAM_PERMISSIONS_MODAL:a.dispatch(p.loadContacts())}return t(e);default:return t(e)}})),a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(263                       ),r=i(93                  ),n=i(100                     ),a=i(97      );function o(e){let t="/api/user/email_lists";return e.token&&(t+=`?t=${encodeURIComponent(e.token)}`),t}t.emailSettingsMiddleware=(e=>t=>(function(i){switch(i.type){case s.emailSettings.GET:{const n=e.getState().emailSettings;return n.listsFetched||a.default.get(o(n)).then(({data:t})=>{const i=t.meta.lists;e.dispatch(s.emailSettings.put(i))}).catch(()=>{e.dispatch(r.flashActions.error("An error occurred while fetching your email preferences."))}),t(i)}case s.emailSettings.PUT:if(i.payload.userInitiated){const s=e.getState().emailSettings;return n.optimisticRequest({requestPromise:a.default.put(o(s),i.payload.emailLists),fallbackError:"An error occurred while changing your email preferences.",store:e,next:t,action:i})}return t(i);default:return t(i)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){t.exports={row:"email_settings_view--row--3rDGL"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),l=i(264                            ),a=i(263                        ),n=i(204                                            ),c=i(1488                       );t.EmailSettingsView=(e=>s.createElement("div",null,s.createElement(r,Object.assign({emailListKey:l.EmailListKey.ACTIVITY,label:"Activity from other users"},e))));const r=e=>{const t=e.emailSettings.lists,i=e.emailListKey,c=()=>i===l.EmailListKey.ACTIVITY?!!t[l.ActivityLevel.EVERY_FOLLOWER]:t[i];return s.createElement(m,null,s.createElement(n.Checkbox,{id:i,checked:c(),onChange:()=>{e.dispatch(a.emailSettings.put({[i]:(()=>i===l.EmailListKey.ACTIVITY?c()?"never":"every":!t[i])()},!0))}}),s.createElement(n.Label,{htmlFor:i},e.label))},m=e=>s.createElement("div",{className:c.row},e.children);e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var n=t(1487                                  );i.emailSettingsMiddleware=n.emailSettingsMiddleware;var a=t(1489                                                );i.EmailSettingsView=a.EmailSettingsView;var s=t(263                                );i.emailSettingsActions=s.emailSettings,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(232                        ),i=a(79,1            ),r=a(100                     ),d=a(97      ),l=a(220                      ),s=a(172                     ),n=a(173                        ),p=a(164                              ),c=a(1417                       );var f={};t.default=(e=>t=>(function(a){switch(a.type){case o.fileBrowser.SELECT_VIEW:if(e.getState().creatingNewFolder&&(e.dispatch(o.fileBrowser.hideModal()),e.dispatch(o.fileBrowser.stopCreateNewFolder())),a.payload.folderId){let t=e.getState().folders[a.payload.folderId];t.appData&&t.appData.subscribers||function(e,t){t.id in f||(f[t.id]=!0,d.default.get(`/api/folders/${t.id}/subscribers`).then(({data:a})=>{let i=a.meta;e.dispatch(o.folder.initSubscribers(t,i))}))}(e,t)}return t(a);case o.folder.PUT:if(a.payload.userInitiated){const o=a.payload.folderId,i=a.payload.folder.is_subscribed,s=i?"Folder Subscriber Added":"Folder Subscriber Deleted";return l.trackEventForFolder(s,o,e.getState()),r.optimisticRequest({requestPromise:d.default.put(`/api/folders/${o}`,{is_subscribed:i}),fallbackError:"An error occurred while updating this project.",store:e,next:t,action:a})}{t(a);let i=e.getState();return void(n.canViewFolder(a.payload.folderId,i)||e.dispatch(o.folder.del({id:a.payload.folderId})))}case o.folder.RENAME:const{folderId:m,folderName:h}=a.payload;return l.trackEventForFolder("Folder Renamed",m,e.getState(),{folderName:h}),r.optimisticRequest({requestPromise:d.default.put("/api/folders/rename",{folder_id:a.payload.folderId,name:a.payload.folderName}),fallbackError:"An error occurred while renaming this project.",store:e,next:t,action:a});case o.folder.TURN_OFF_SLACK_NOTIFICATIONS:{let i=a.payload.folder,l=i.settings&&i.settings.webhooks&&Object.keys(i.settings.webhooks)[0];return l?r.optimisticRequest({requestPromise:d.default.put(`/api/folders/${i.id}`,{remove_slack_webhook_key:l}).then(()=>{e.dispatch(o.flash.flash("Slack notifications have been turned off for this project."))}),fallbackError:"An error occurred while turning off slack notifications.",store:e,next:t,action:a}):t(a)}case o.folder.UPDATE_FOLDER_ACCESS:return r.optimisticRequest({requestPromise:d.default.put(`/api/folders/${a.payload.folderId}`,{is_invite_only:a.payload.isInviteOnly,is_view_only:a.payload.isViewOnly}),fallbackError:"An error while updating the folder's access.",store:e,next:t,action:a});case o.folder.TRY_MOVE:{t(a);let i=e.getState(),r=a.payload.folder,d=a.payload.teamId;if(r.team_id){if(!n.canEditTeam(r.team_id,i)){let t=i.teams[r.team_id];return void e.dispatch(o.flash.error(`You don't have permission to remove projects from ${t?t.name:"this team"}.`))}}else if(!n.canEditFolder(r.id,i))return void e.dispatch(o.flash.error("You don't have permission to move this project"));if(r.is_invite_only||r.is_view_only)return void e.dispatch(o.fileBrowser.showModal({type:c.AppModal.BLOCK_MOVING_PRIVATE_PROJECT,data:{folder:r}}));if(d&&!n.canEditTeam(d,i)){let t=i.teams[d];return void e.dispatch(o.flash.error(`You don't have permission to move projects into ${t?t.name:"this team"}.`))}if(d&&(s.isTeamLockedForUser(d,i)||s.isTeamAtFolderLimit(d,i))){const t={teamId:d};return void e.dispatch(o.fileBrowser.showModal({type:c.AppModal.UPSELL_NEW_FOLDER_MODAL,data:t}))}if(r.team_id){let t=i.teams[d];e.dispatch(o.fileBrowser.showModal({type:c.AppModal.TEAM_FOLDER_MOVE_CONFIRM_MODAL,data:{folder:r,destinationTeam:t,onConfirm:()=>{e.dispatch(o.folder.move(r,d))}}}))}else e.dispatch(o.folder.move(r,d));return}case o.folder.MOVE:return l.trackEventForFolder("Folder Moved",a.payload.folder.id,e.getState(),{destTeamId:a.payload.teamId}),r.optimisticRequest({requestPromise:d.default.put("/api/folders/move",{folder_id:a.payload.folder.id,team_id:a.payload.teamId}),fallbackError:"An error occurred while moving this project.",store:e,next:t,action:a});case o.folder.DELETE:{let s=e.getState();const c=s.folders[a.payload.folder.id],f=s.fileKeysByFolderId[a.payload.folder.id];if(!(c||f&&0!==f.length))return t(a);let m=s.selectedView.folderId===a.payload.folder.id;const h=s.fileKeysByFolderId[a.payload.folder.id],u={},y={},_=(new Date).getTime(),w=c&&c.is_invite_only;h.forEach(e=>{const t=s.roles.byFileKey[e]&&s.roles.byFileKey[e][s.user.id];w&&!t?y[e]=!0:u[e]=Object.assign({},s.fileByKey[e],{folder_id:null,trashed_at:_})});const E=o.file.deleteFiles(u,!1),F=o.file.deleteFilesForever(y,!1),I=r.getOptimisticTransactionID(),g=r.getOptimisticTransactionID();if(a.payload.userInitiated&&(E.optimist={type:i.BEGIN,id:I},F.optimist={type:i.BEGIN,id:g}),e.dispatch(E),e.dispatch(F),a.payload.userInitiated){l.trackEventForFolder("Folder Deleted",a.payload.folder.id,s);let n=d.default.del(`/api/folders/${a.payload.folder.id}`);n.then(()=>{e.dispatch({type:null,optimist:{type:i.COMMIT,id:I}}),e.dispatch({type:null,optimist:{type:i.COMMIT,id:g}})}).catch(()=>{e.dispatch({type:null,optimist:{type:i.REVERT,id:I}}),e.dispatch({type:null,optimist:{type:i.REVERT,id:g}}),m&&setTimeout(()=>{e.dispatch(o.fileBrowser.selectView({folderId:a.payload.folder.id}))},0)}),r.optimisticRequest({requestPromise:n,fallbackError:"An error occurred while deleting this project.",store:e,next:t,action:a})}else t(a);if(m){const t=c&&p.getFolderTeamId(c);c&&p.isTeamFolder(c)&&n.canViewTeam(t,s)?e.dispatch(o.fileBrowser.selectView({teamId:t})):e.dispatch(o.fileBrowser.selectView({recentFiles:!0}))}return}case o.fileBrowser.OPEN_NEW_FOLDER_MODAL:{const i=e.getState(),r=a.payload.where,d=a.payload.teamId;if(!i.creatingNewFolder||i.creatingNewFolder.where!==r||i.creatingNewFolder.teamId!=d)if(n.canEditTeam(d,i))if(s.isTeamAtFolderLimit(d,i)||s.isTeamLockedForUser(d,i)){const t={teamId:d};e.dispatch(o.fileBrowser.showModal({type:c.AppModal.UPSELL_NEW_FOLDER_MODAL,data:t}))}else e.dispatch(o.fileBrowser.beginCreateNewFolder(r,d)),e.dispatch(o.fileBrowser.showModal({type:c.AppModal.NEW_FOLDER_MODAL}));else{const t=i.teams[d];e.dispatch(o.flash.flash(`You don't have permission to create projects in ${t?t.name:"this team"}.`))}return t(a)}case o.fileBrowser.STOP_CREATE_NEW_FOLDER:if(a.payload.name){let i=null;if(a.payload.name.match(/[\/\\:?*"|]/)&&(i='The following characters are not allowed:  / : ? * " |'),i){e.dispatch(o.flash.error(i));let r=e.getState().creatingNewFolder;return t(a),e.dispatch(o.fileBrowser.openNewFolderModal(r.where,r.teamId)),null}let l={id:`temp-${+new Date}`,name:a.payload.name,path:a.payload.name,parent_path:"",team_id:a.payload.teamId,is_subscribed:!1,updated_at:`${new Date}`,is_invite_only:!1,is_view_only:!1,settings:{webhooks:{}},appData:{temp:!0}};e.dispatch(o.folder.post(l));let s=d.default.post("/api/folders",{team_id:a.payload.teamId,path:a.payload.name,is_invite_only:a.payload.isInviteOnly,is_view_only:a.payload.isViewOnly}).then(({data:t})=>{e.dispatch(o.folder.del(l));let i=t.meta;for(let r of i)if(r.name===a.payload.name){e.dispatch(o.folder.post(r)),a.payload.shouldRedirect&&e.dispatch(o.fileBrowser.selectView({folderId:r.id}));break}return i}).then(t=>{let a=e.getState();a.modalShown&&"file-move-modal"===a.modalShown.type&&a.fileByKey[a.modalShown.data.fileKey]&&1===t.length&&e.dispatch(o.fileMove.focusFolderId({folderId:t[0].id}))});return r.optimisticRequest({requestPromise:s,fallbackError:"An error occurred while creating this project.",store:e,next:t,action:a})}return t(a);default:return t(a)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=a(97      ),o=a(232                        ),i=a(239                             );e.apiOrg=(t=>e=>(function(a){if(o.avatar.editorUploaded.matches(a)){if(a.payload.entityType!==i.EntityType.ORG)return e(a);const n=a.payload.entity.id;return r.default.put(`/api/orgs/${n}`,{img_url:a.payload.smallUrl,img_url_500_500:a.payload.largeUrl}).then(function(e){let a=JSON.parse(e.response).meta;t.dispatch(o.orgs.put({org:a})),t.dispatch(o.avatar.editorReset())},e=>{t.dispatch(o.flash.error("An error occurred: "+e.data.message)),console.error("An error occurred while setting the organization icon.",e),t.dispatch(o.avatar.editorReset())}),e(a)}return e(a)})),e.default=e.apiOrg,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(100                     ),o=r(97      ),s=r(232                        ),i=r(220                      ),n=r(1417                       ),d=r(237                                 ),c=r(304               ),p=r(305                       ),u=r(1490                                  ),l=r(239                             ),h=r(712                                  );t.default=(e=>t=>(function(r){function f(t,r){try{let o=JSON.parse(t);"bad_token"===o.reason?(e.dispatch(s.user.eraseSecrets()),e.dispatch(s.twoFactorAuth.error("It's been too long since you typed your password, please re-enter."))):e.dispatch(s.twoFactorAuth.error(o.message))}catch(a){e.dispatch(s.twoFactorAuth.error(r))}}if(r.type===s.fileBrowser.SELECT_VIEW)return r.payload.userId&&e.dispatch(u.emailSettingsActions.get()),t(r);if(s.user.put.matches(r))return r.payload.userInitiated?a.optimisticRequest({requestPromise:o.default.put("/api/user",r.payload.user),fallbackError:"An error occurred while updating your information",store:e,next:t,action:r}):t(r);if(s.user.putPreferences.matches(r)){let s=o.default.put("/api/user/preferences",r.payload.preferences).then(()=>{const t=h.getPreferences(e.getState());i.trackEventForUser("User Preferences Updated",e.getState(),{editorOnboarded:t.editor_onboarded,fileBrowserOnboarded:t.file_browser_onboarded,sharedComponentLibraryOnboarded:t.shared_component_library_onboarded,sharedComponentPublishOnboarded:t.shared_component_publish_onboarded,orgsOnboarded:t.orgs_onboarded,stylesOnboarded:t.styles_onboarded,overlaysOnboarded:t.overlays_onboarded,pdfOnboarded:t.pdf_onboarded,lineHeightUpdateOnboarded:t.line_height_update_onboarded,lineHeightIconHovered:t.line_height_icon_hovered,lineHeightIconHoveredNew:t.line_height_icon_hovered_new,useNumbersForOpacity:t.use_numbers_for_opacity,dismissedCreateConnectionHint:t.dismissed_create_connection_hint,dismissedDeleteConnectionHint:t.dismissed_delete_connection_hint,dismissedPlayButtonHint:t.dismissed_play_button_hint})});return a.optimisticRequest({requestPromise:s,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(s.userFlags.put.matches(r)){const s=o.default.post(`/api/user/flag/${r.payload.name}`);return a.optimisticRequest({requestPromise:s,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(s.userFlags.post.matches(r)){const s=o.default.post("/api/user/flags",r.payload);return a.optimisticRequest({requestPromise:s,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(s.userFlags.resetOnboarding.matches(r)){const s=o.default.post("/api/user/reset_onboarding");return a.optimisticRequest({requestPromise:s,fallbackError:"An unknown error occurred",store:e,next:t,action:r})}if(s.user.changePassword.matches(r))return r.payload.passwordNew!==r.payload.passwordRetype?e.dispatch(s.flash.error("Please retype your new password. They don't match.")):o.default.post("/api/password/change",{password_old:r.payload.passwordOld,password_new:r.payload.passwordNew}).then(()=>{e.dispatch(s.fileBrowser.hideModal()),e.dispatch(s.flash.flash("Password changed!"))}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(s.flash.error(t.message))}catch(r){e.dispatch(s.flash.error(r))}}),t(r);if(s.user.changeEmail.matches(r)){const i=document.getElementById(r.payload.formId),d=c.getFormData(i),u=p.authHelpers.validateSignInForm(d);if(u.message)return e.dispatch(s.flash.error(u.message));const l=o.default.put("/api/user",d);return l.then(({data:t})=>{const r=e.getState();r.modalShown&&r.modalShown.type===n.AppModal.CHANGE_EMAIL_MODAL&&e.dispatch(s.fileBrowser.hideModal()),e.dispatch(s.flash.flash(`We sent a verification email to ${d.email}. Please check it to verify your new email.`))}),a.optimisticRequest({requestPromise:l,fallbackError:"An error occurred while updating your information",store:e,next:t,action:r})}if(s.fileBrowser.HIDE_MODAL===r.type)return e.dispatch(s.user.eraseSecrets()),t(r);if(s.user.verifyPassword.matches(r)){const a=document.getElementById(r.payload.passwordForm);let i="";for(let e=0;e<a.elements.length;e++){const t=a.elements.item(e);if("password"===t.name){i=t.value;break}}return o.default.post("/api/session/verify_password",{password:i}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1}));let r=e.getState();if(r.modalShown)switch(r.modalShown.type){case n.AppModal.TWO_FACTOR_RECOVERY_MODAL:e.dispatch(s.user.getBackupCodes({token:t.meta.password_token}))}}).catch(({response:e})=>{f(e,"An error occurred while verifying your password.")}),t(r)}if(s.user.invalidateSessions.matches(r))return o.default.post("/api/session/invalidate").then(()=>{e.dispatch(s.flash.flash("All other devices have been logged out."))}).catch(({response:e})=>{f(e,"An error occurred while trying to logout other devices.")}),t(r);if(s.user.changePhone.matches(r)){let t=e.getState().user.password_token;o.default.post("/api/user/phone_number",{password_verify_token:t,phone_number:r.payload.phone}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{f(e,"An error occurred while verifying your phone number")})}else if(s.user.deletePhone.matches(r)){let t=e.getState().user.password_token;o.default.del("/api/user/phone_number",{password_verify_token:t}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:t})=>{e.dispatch(s.fileBrowser.showModal({type:n.AppModal.SETUP_PHONE_MODAL})),f(t,"An error occurred while deleting your phone number")})}else if(s.user.confirmPhone.matches(r)){let t=e.getState().user;o.default.post("/api/user/phone_number/confirm",{phone_token:t.phone_token,code:r.payload.code}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{f(e,"An error occurred while verifying your phone number")})}else{if(s.user.getBackupCodes.matches(r))return o.default.get("/api/user/backup_codes",{password_verify_token:r.payload.token}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{f(e,"An error occurred while trying to retrieve two-factor recovery codes.")}),t(r);if(s.user.resetBackupCodes.matches(r)){let a=e.getState().user.password_token;return o.default.post("/api/user/backup_codes",{password_verify_token:a}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1}))}).catch(({response:e})=>{f(e,"An error occurred while trying to reset two-factor recovery codes.")}),t(r)}if(s.user.disableTwoFactor.matches(r))return o.default.del("/api/user/totp",{password_verify_token:r.payload.token}).then(()=>{e.dispatch(s.fileBrowser.hideModal()),e.dispatch(s.user.toggleTwoFactor({enabled:!1}))}).catch(({response:t})=>{e.dispatch(s.fileBrowser.showModal({type:n.AppModal.DISABLE_TWO_FACTOR_MODAL})),f(t,"An error occurred while trying to disable two-factor auth.")}),t(r);if(s.user.setupTwoFactor.matches(r))return o.default.post("/api/user/totp",{password_verify_token:r.payload.token}).then(({data:t})=>{d.storeSecret(t.meta.two_factor_secret),e.dispatch(s.user.put({user:{id:t.meta.id,two_factor_secret_loaded:!!t.meta.two_factor_secret},userInitiated:!1}))}).catch(({response:e})=>{f(e,"An error occurred while trying to set up two-factor auth.")}),t(r);if(s.user.verifyOTP.matches(r)){let a=d.getSecret().token;return o.default.post("/api/user/totp/confirm",{totp_code:r.payload.otp,two_factor_token:a}).then(({data:t})=>{e.dispatch(s.user.put({user:t.meta,userInitiated:!1})),e.dispatch(s.user.toggleTwoFactor({enabled:!0}))}).catch(({response:e})=>{f(e,"An error occurred while trying to verify the authentication code, please try again.")}),t(r)}if(s.user.forgotPassword.matches(r)){let a=s.flash.flash("One moment...");return e.dispatch(a),o.default.post("/api/password/forgot",{username:e.getState().user.email}).then(()=>{e.dispatch(s.flash.remove(a.payload.id)),e.dispatch(s.flash.flash(`We sent an email to ${e.getState().user.email} with instructions to reset your password!`))}).catch(()=>{e.dispatch(s.flash.remove(a.payload.id)),e.dispatch(s.flash.error("An error occurred while resetting your password."))}),t(r)}if(s.user.sendValidationEmail.matches(r))return o.default.post("/api/validation/email/send").then(()=>{let t=`We sent a confirmation email to ${e.getState().user.email}!`;e.dispatch(s.flash.flash(t))}).catch(()=>{e.dispatch(s.flash.error("An error occurred while sending the confirmation email."))}),t(r);if(s.avatar.editorUploaded.matches(r))return r.payload.entityType!==l.EntityType.CURRENT_USER?t(r):(o.default.put("/api/user",{img_url:r.payload.smallUrl,img_url_500_500:r.payload.largeUrl}).then(function(t){let r=JSON.parse(t.response).meta;e.dispatch(s.user.put({user:r,userInitiated:!1})),e.dispatch(s.avatar.editorReset())},t=>{e.dispatch(s.flash.error("An error occurred while setting your profile photo.")),console.error("An error occurred while setting your profile photo.",t),e.dispatch(s.avatar.editorReset())}),t(r));if(s.user.deleteUserAccount.matches(r))return e.dispatch(s.user.deleteUserLoading({loading:!0})),o.default.del("/api/user",{password_verify_token:r.payload.token}).then(()=>{e.dispatch(s.fileBrowser.hideModal()),e.dispatch(s.flash.flash("Account deleted! Redirecting...")),setTimeout(()=>{document.location.href="/logout"},3e3)}).catch(({response:t})=>{e.dispatch(s.fileBrowser.hideModal()),e.dispatch(s.user.deleteUserLoading({loading:!1})),"User does not have verified email"===(t=JSON.parse(t)).message?e.dispatch(s.flash.error("You must verify your email first.")):"User is part of an organization"===t.message?e.dispatch(s.flash.error("You cannot delete your account because you are part of an organization. Please contact support.")):e.dispatch(s.flash.error("An error occurred while attempting to delete your account."))}),t(r)}return t(r)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(232                        ),a=t(1426                               ),o=t(712                                  );function n(e,r,t){const s=o.getPreferences(e.getState());r(t);const n=o.getPreferences(e.getState());!!n.use_numbers_for_opacity!=!!s.use_numbers_for_opacity&&a.fullscreen.onReady().then(()=>{a.fullscreen.triggerAction("toggle-use-numbers-for-opacity",{value:!!n.use_numbers_for_opacity})})}r.userPreferencesMiddleware=(e=>r=>(function(t){if(s.fullscreen.open.matches(t))return a.fullscreen.onReady().then(()=>{a.fullscreen.triggerAction("toggle-use-numbers-for-opacity",{value:!!o.getPreferences(e.getState()).use_numbers_for_opacity})}),r(t);if(s.fullscreen.updateMirror.matches(t)){if(t.payload.appModel&&null!=t.payload.appModel.useNumbersForOpacity&&a.fullscreen.isReady()){const r=e.getState();!!o.getPreferences(r).use_numbers_for_opacity!==t.payload.appModel.useNumbersForOpacity&&o.putPreferences(e.dispatch,{use_numbers_for_opacity:t.payload.appModel.useNumbersForOpacity})}return r(t)}return s.user.put.matches(t)?t.payload.userInitiated?r(t):void n(e,r,t):s.userFlags.receiveUpdate.matches(t)||s.userFlags.receiveDelete.matches(t)?void n(e,r,t):r(t)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(219          ),l=i(232                        ),a=i(1426                               ),r=i(129                               ),s=i(1417                       ),n=i(129                               ),p=i(1429          );function d(e,t){return void 0!==e.urlNodeId?null!=e.urlNodeId&&""!==e.urlNodeId?e.urlNodeId:null:null!=t.urlNodeId?t.urlNodeId:null}function u(e,t,i){let u=e.getState();if(void 0!==t.urlNodeId||void 0!==t.urlViewport){let o=u.selectedView,a=o&&o.viewState;const r=d(t,i.mirror.appModel);if(!a||r!==a.nodeId||t.urlViewport!==a.viewport){let i=Object.assign({},o);i.viewState=Object.assign({},o.viewState),r&&(i.viewState.nodeId=r),void 0!==t.urlViewport&&(i.viewState.viewport=t.urlViewport),e.dispatch(l.fileBrowser.selectView(i,!1))}}if(void 0!==t.currentPage&&e.dispatch(l.comments.setActive({threadId:null})),void 0!==t.multiplayerSessionState){!function(e,t,i){i===r.MultiplayerSessionState.SHOULD_UPGRADE?(o.segment.track("Upgrade Banner Shown"),e.dispatch(l.fullscreen.showUpgradeBanner())):i===r.MultiplayerSessionState.JOINED&&e.dispatch(l.fullscreen.hideUpgradeBanner());i===r.MultiplayerSessionState.WAITING_FOR_RELOAD||i===r.MultiplayerSessionState.UPGRADING?e.dispatch(l.fileBrowser.showModal({type:s.AppModal.UPGRADING_MODAL,data:{upgradingState:i}})):t!==r.MultiplayerSessionState.WAITING_FOR_RELOAD&&t!==r.MultiplayerSessionState.UPGRADING||e.dispatch(l.fileBrowser.hideSpecificModal({type:s.AppModal.UPGRADING_MODAL}))}(e,i.mirror.appModel.multiplayerSessionState,t.multiplayerSessionState)}void 0===t.publishableComponents&&void 0===t.styles||p.computeLocal(e),t.currentTool===n.Tool.COMMENTS?e.dispatch(l.comments.refreshAnchorPositions()):void 0!==t.currentTool&&(a.fullscreen.watchBoundsForNodes([]),e.dispatch(l.comments.setActive({threadId:null})))}t.getNodeIdForSelectedView=d,t.handleAppModelUpdate=u;t.default=(e=>t=>(function(i){if(l.fullscreen.updateMirror.matches(i)&&i.payload.appModel){const o=e.getState();let l=t(i);return u(e,i.payload.appModel,o),l}return t(i)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(1478          ),r=i(0                    ),a=i(219          ),o=i(232                        ),l=i(553                                                     ),d=i(97      ),c=i(1490                                  ),n=i(1382                              ),f=i(173                        ),p=i(126                     ),_=i(371                       ),u=i(1431                           ),m=i(332                       ),h=i(167                        ),b=i(130       ),y=i(1426                               );function g(e,t){let i=t.parent_org_id;return f.canGuestOrg(i,e.getState())||(i=null),!(t.email_lists||t.user||t.user_flag||t.user_notification||t.bell||t.org_user||t.active_file_users)&&function(e,t){return e.getState().currentOrgId!==t}(e,i)}function k(e,t){if("client_reload"===t.type)r.default().user_data&&t.target_user_id&&t.target_user_id===r.default().user_data.id?t.client_id&&a.segment&&a.segment.anonymousId&&t.client_id===a.segment.anonymousId||e.dispatch(o.fileBrowser.reloadWhenConvenient({now:!0})):t.target_version&&t.target_version!==r.default().release_manifest_hash&&e.dispatch(o.fileBrowser.reloadWhenConvenient({}));else if("token_expired"===t.type)m.getUserStateRequest().then(t=>{e.dispatch(o.fileBrowser.hydrate(t.data.meta))});else if("verify_user_state"===t.type){const i=e.getState();let s=null!=t.org_user_updated;const r=new Date(t.org_user_updated),l=t.org_user_count;let d=0;for(const e in i.orgUsersByOrgId.orgUsers){if(d++,!s)continue;const t=i.orgUsersByOrgId.orgUsers[e][i.user.id];if(new Date(t.updated_at)>=r){s=!1;break}}l&&l!=d&&(s=!0),s&&(console.warn("Local state out of date. Rehydrating"),a.segmentTrackEvent("file-browser-hydrate",{location:"orgUserOutOfDate"}),m.getUserStateRequest().then(t=>{e.dispatch(o.fileBrowser.hydrate(t.data.meta))}))}if(!g(e,t))if(t.role)switch(t.method){case"put":{const i=t.role,s=e.getState(),r=s.user&&s.user.id,l=!!r&&i.user_id===r,d=f.canViewResource(i.resource_type,i.resource_id_or_key,s);if(r&&!d&&l)a.segmentTrackEvent("file-browser-hydrate",{location:"role-put"}),m.getUserStateRequest().then(t=>{e.dispatch(o.fileBrowser.hydrate(t.data.meta))});else if(e.dispatch(o.role.put(i)),t.role_data){let i=e.getState();t.role_data.folder&&!i.folders[t.role_data.folder.id]&&e.dispatch(o.folder.post(t.role_data.folder)),t.role_data.file&&!i.fileByKey[t.role_data.file.key]&&e.dispatch(o.file.post(t.role_data.file))}break}case"post":{const i=t.role;e.dispatch(o.role.post(t.role));const s=e.getState().user;if(t.role_data&&s&&s.id===i.user_id){let i=e.getState();if(t.role_data.team&&!i.teams[t.role_data.team.id]&&(e.dispatch(o.team.post({team:t.role_data.team})),e.dispatch(o.library.getLibraryState({}))),t.role_data.folder&&!i.folders[t.role_data.folder.id]){const i=t.role_data.folder;i.org_id&&!i.team_id&&""!==i.path||e.dispatch(o.folder.post(t.role_data.folder))}t.role_data.file&&e.dispatch(o.file.post(t.role_data.file))}break}case"delete":e.dispatch(o.role.del(t.role,!1,t.is_leaving_resource))}else if(t.folder)switch(t.method){case"put":const i=t.folder,s=e.getState(),r=s.folders[i.id];if(r&&(e.dispatch(o.folder.put(i)),r.team_id!==i.team_id)){const t=s.fileKeysByFolderId[r.id]||[];for(let i of t)e.dispatch(o.library.deleteComponentsForFile({fileKey:i})),e.dispatch(o.file.deleteActiveUsers({fileKey:i}))}break;case"post":t.folder.id in e.getState().folders?e.dispatch(o.folder.put(t.folder)):e.dispatch(o.folder.post(t.folder));break;case"delete":e.dispatch(o.folder.del(t.folder))}else if(t.file){const i=t.file;switch(t.method){case"put":const s=e.getState().fileByKey[i.key];if(i.trashed_at){e.dispatch(o.file.deleteFiles({[i.key]:i}));break}if(e.dispatch(o.file.put(i)),s){if(s.team_id!==i.team_id)e.dispatch(o.library.deleteComponentsForFile({fileKey:i.key})),e.dispatch(o.file.deleteActiveUsers({fileKey:i.key}));else if(s.folder_id!==i.folder_id){e.dispatch(o.file.deleteActiveUsers({fileKey:i.key}));const t=e.getState();f.canViewFile(i.key,t)||e.dispatch(o.library.deleteComponentsForFile({fileKey:i.key}))}}else e.dispatch(o.library.updateComponentsForResource({resourceType:p.ResourceType.FOLDER,resourceIdOrKey:i.folder_id}));break;case"post":e.dispatch(o.file.post(t.file));break;case"delete":e.dispatch(o.file.deleteFilesForever({[t.file.key]:!0}))}}else if(t.org_user){const i=e.getState(),s=i.currentOrgId,r=t.org_user;if(r.user_id!==i.user.id)return void e.dispatch(o.orgUser.put({orgUser:r,userInitiated:!1}));if("delete"===t.method&&r.org_id===s||"put"===t.method&&r.org_id===s&&r.permission===h.OrgPermissionType.GUEST){let t=null;if(i.hasPersonalSpace)t=null;else{const e=Object.keys(i.orgById);for(let i of e)if(i!==s){t=i;break}}e.dispatch(o.orgs.switchActiveOrg({orgId:t}))}else e.dispatch(o.orgs.switchActiveOrg({orgId:s}))}else if(t.recent_file)switch(t.method){case"post":e.dispatch(o.file.recentFilePost(t.recent_file));break;case"put":e.dispatch(o.file.recentFilePut(t.recent_file));break;case"delete":e.dispatch(o.file.recentFilesDelete([t.recent_file]))}else if(t.user)switch(t.method){case"put":e.dispatch(o.user.put({user:t.user,userInitiated:!1}))}else if(t.team)switch(t.method){case"post":e.dispatch(o.team.post({team:t.team}));break;case"put":e.dispatch(o.team.put({team:t.team,userInitiated:!1}));break;case"delete":e.dispatch(o.team.del({team:t.team,userInitiated:!1}))}else if(t.user_flag)switch(t.method){case"post":e.dispatch(o.userFlags.receiveUpdate({name:t.user_flag.name,created_at:t.user_flag.created_at}));break;case"delete":e.dispatch(o.userFlags.receiveDelete({name:t.user_flag.name}))}else if(t.email_lists)switch(t.method){case"put":let i=Object.assign({announcements:!1,important:!1,every_follower:!1,daily_follower:!1,weekly_follower:!1},t.email_lists);e.dispatch(c.emailSettingsActions.put(i))}else if(t.folder_subscription)switch(t.method){case"post":e.dispatch(o.folder.postSubscriber(t.folder_subscription.folder_id,t.folder_subscription.user));break;case"delete":e.dispatch(o.folder.deleteSubscriber(t.folder_subscription.folder_id,t.folder_subscription.user_id))}else if(t.file_browser_preferences)e.dispatch(o.fileBrowserPreferences.put({prefs:t.file_browser_preferences,userInitiated:!1}));else if(t.file_browser_section_preferences)e.dispatch(o.fileBrowserSectionPreferences.put({prefs:t.file_browser_section_preferences,userInitiated:!1}));else if(t.style_file)switch(t.method){case"put":setTimeout(()=>{e.dispatch(o.styleFile.put({styleFile:t.style_file,userInitiated:!1}))},1e3)}else if(t.file_comment){if(e.getState().editingFileKey===t.file_comment.key)switch(t.method){case"post":e.dispatch(o.comments.post({comment:t.file_comment,userInitiated:!1}));break;case"put":t.file_comment.deleted_at?e.dispatch(o.comments.del({comment:t.file_comment,userInitiated:!1})):e.dispatch(o.comments.put({comment:t.file_comment,userInitiated:!1}));break;case"delete":e.dispatch(o.comments.del({comment:t.file_comment,userInitiated:!1}))}}else if(t.unread_file_comment){if(e.getState().editingFileKey){let i=t.unread_file_comment;switch(t.method){case"post":e.dispatch(o.comments.postUnread({fileKey:i.file_key,commentId:i.comment_id}));break;case"delete":e.dispatch(o.comments.deleteUnread({fileKey:i.file_key,commentId:i.comment_id}))}}}else if(t.file_follower){if(e.getState().editingFileKey===t.file_follower.key)switch(t.method){case"post":e.dispatch(o.fileFollower.post(t.file_follower,!1));break;case"delete":e.dispatch(o.fileFollower.del(t.file_follower,!1))}}else if(t.component||t.style){const i=t.component||t.style,s=t.component?_.LibraryItemType.COMPONENT:_.LibraryItemType.STYLE,r=e.getState();if(0===i.length)return;const a=r.fileByKey[i[0].file_key];if(a)switch(t.method){case"delete":e.dispatch(o.library.del({nodeIds:i.map(e=>e.node_id),file:a,type:s}));break;case"post":case"put":{const t={};for(const e of i)t[e.node_id]=e;e.dispatch(o.library.put({itemsById:t,file:a,type:s}));break}}}else if(t.library_user_subscription)switch(t.method){case"post":case"put":e.dispatch(l.postUserSubscription({libraryUserSubscription:t.library_user_subscription,userInitiated:!1}))}else if(t.library_file_subscription)switch(t.method){case"post":case"put":e.dispatch(l.postFileSubscription({libraryFileSubscription:t.library_file_subscription,userInitiated:!1}))}else if(t.library_team_subscription)switch(t.method){case"post":case"put":e.dispatch(l.postTeamSubscription({libraryTeamSubscription:t.library_team_subscription,userInitiated:!1}))}else if(t.library_org_subscription)switch(t.method){case"post":case"put":t.library_org_subscription.org_id===e.getState().currentOrgId&&e.dispatch(l.postOrgSubscription({libraryOrgSubscription:t.library_org_subscription,userInitiated:!1}));break;case"delete":t.library_org_subscription.org_id===e.getState().currentOrgId&&e.dispatch(l.deleteOrgSubscription({libraryOrgSubscription:t.library_org_subscription,userInitiated:!1}))}else if(t.active_file_users)switch(t.method){case"put":{const i=t.active_file_users;u.dispatchSetActiveUsers(i,e);break}}else if(t.bell)switch(t.method){case"put":if(void 0!==t.bell.notification_space_id){let i={isBellStateHigh:t.bell.bell,userInitiated:!1,notificationSpaceId:t.bell.notification_space_id};e.dispatch(o.userNotifications.setBell(i))}}else if(t.team_role_request)switch(t.method){case"post":case"put":case"delete":e.dispatch(o.teamRoleRequests.updateTeamRoleRequests({teamRoleRequests:[t.team_role_request]}))}else if(t.font_file)switch(t.method){case"post":case"put":y.fullscreen.sendMessage("addToFontList",{list:[b.sharedFontMetadataToFontInfo(t.font_file)],version:null,localizedToUnlocalized:[]}),e.dispatch(o.sharedFonts.put({font:b.sharedFontMetadataToFontInfo(t.font_file)}));break;case"delete":e.dispatch(o.sharedFonts.del({font:b.sharedFontMetadataToFontInfo(t.font_file)}))}}function w(e){let t=e.getState(),i=t.user,r=[],a=e=>{const t=s.parseRealtimeToken(e);r.push(t)},l=t.roles;for(const s of t.recentFiles)f.canViewFile(s.key,t)&&s.realtime_token&&a(s.realtime_token);const d=i&&i.id;for(let s in l.byFileKey)if(d in l.byFileKey[s]){let e=t.fileByKey[s];if(e&&e.team_id&&!f.canViewTeam(e.team_id,t)){const i=t.teams[e.team_id];i&&i.realtime_token&&a(i.realtime_token)}}for(let s in l.byFolderId){const e=l.byFolderId[s][d];e&&e.realtime_token&&a(e.realtime_token);const i=t.folders[s];if(i&&i.team_id&&!f.canViewTeam(i.team_id,t)){const e=t.teams[i.team_id];e&&e.realtime_token&&a(e.realtime_token)}}for(let s in l.byTeamId){const e=l.byTeamId[s][d];e&&e.realtime_token&&a(e.realtime_token)}const c=t.orgById[t.currentOrgId];c&&c.realtime_token&&a(c.realtime_token),e.dispatch(o.realtime.batchSubscribe(r))}t.shouldSuppressFayeMessage=g,t.handleFayeMessage=k,t.subscribeToChannel=((e,t)=>{e.dispatch(o.realtime.subscribe(t))});t.realtime=(e=>i=>(function(r){let a=i(r),l=t=>{k(e,t)};if(o.fileBrowser.hydrate.matches(r))return s.realtimeClient.setCallback(l),r.payload.user_realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(r.payload.user_realtime_token)),void w(e);switch(r.type){case o.fileBrowser.SELECT_VIEW:if(r.payload.fullscreen||r.payload.prototype){const i=n.editingFileKey(r.payload);e.getState().realtime.subscriptions[`/file-${i}`]||d.default.get(`/api/files/${i}/realtime_token`).then(i=>{const r=JSON.parse(i.response);r&&r.meta&&r.meta.realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(r.meta.realtime_token))})}return;case o.role.PUT:case o.role.POST:{const i=e.getState().user,a=r.payload.role;return void(null!=i&&a.user_id===i.id&&((e,i)=>{const r=e.getState(),a=i.realtime_token;if(null==a)return;const o=s.parseRealtimeToken(a);if(!r.realtime.subscriptions[o.channel])switch(i.resource_type){case p.ResourceType.FILE:{const s=r.fileByKey[i.resource_id_or_key];if(s&&s.folder_id){const e=s.folder_id;if(r.realtime.subscriptions[`/folder-${e}`])return}s&&s.team_id&&!f.canViewTeam(s.team_id,r)&&t.subscribeToChannel(e,o);break}case p.ResourceType.FOLDER:{t.subscribeToChannel(e,o);const a=r.folders[i.resource_id_or_key];if(a&&a.team_id&&!f.canViewTeam(a.team_id,r)){const i=r.teams[a.team_id];i&&i.realtime_token&&t.subscribeToChannel(e,s.parseRealtimeToken(i.realtime_token))}break}case p.ResourceType.TEAM:t.subscribeToChannel(e,o)}})(e,a))}case o.role.DELETE:{let t=e.getState().user,i=r.payload.role;if(t&&i.user_id===t.id){if(i.resource_type===p.ResourceType.FILE&&e.getState().editingFileKey===i.resource_id_or_key)break;const t=i.realtime_token;t&&e.dispatch(o.realtime.unsubscribe(s.parseRealtimeToken(t).channel)),w(e)}return}case o.realtime.BATCH_SUBSCRIBE:{const e=r.payload.tokens;for(const t of e)s.realtimeClient.subscribe(t);return}case o.realtime.UNSUBSCRIBE:{const e=r.payload.channel;return void s.realtimeClient.unsubscribe(e)}case o.realtime.RESET:s.resetRealtimeConnection()}return a})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){
/*
 Copyright (c) 2013 Gildas Lormeau. All rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are met:

 1. Redistributions of source code must retain the above copyright notice,
 this list of conditions and the following disclaimer.

 2. Redistributions in binary form must reproduce the above copyright
 notice, this list of conditions and the following disclaimer in
 the documentation and/or other materials provided with the distribution.

 3. The names of the authors may not be used to endorse or promote products
 derived from this software without specific prior written permission.

 THIS SOFTWARE IS PROVIDED ``AS IS'' AND ANY EXPRESSED OR IMPLIED WARRANTIES,
 INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND
 FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL JCRAFT,
 INC. OR ANY CONTRIBUTORS TO THIS SOFTWARE BE LIABLE FOR ANY DIRECT, INDIRECT,
 INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA,
 OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
 LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
 NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE,
 EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */
!function(e){"use strict";var t,r="File format is not recognized.",n="CRC failed.",i="File contains encrypted entry.",o="File is using Zip64 (4gb+ file size).",a="Error while reading zip file.",s="Error while writing zip file.",c="Error while writing file data.",f="Error while reading file data.",u="File already exists.",l=524288,p="text/plain";try{t=0===new Blob([new DataView(new ArrayBuffer(0))]).size}catch(P){}function w(){this.crc=-1}function h(){}function v(e,t){var r,n;return r=new ArrayBuffer(e),n=new Uint8Array(r),t&&n.set(t,0),{buffer:r,array:n,view:new DataView(r)}}function d(){}function g(e){var t,r=this;r.size=0,r.init=function(n,i){var o=new Blob([e],{type:p});(t=new m(o)).init(function(){r.size=t.size,n()},i)},r.readUint8Array=function(e,r,n,i){t.readUint8Array(e,r,n,i)}}function y(t){var r,n=this;n.size=0,n.init=function(e){for(var i=t.length;"="==t.charAt(i-1);)i--;r=t.indexOf(",")+1,n.size=Math.floor(.75*(i-r)),e()},n.readUint8Array=function(n,i,o){var a,s=v(i),c=4*Math.floor(n/3),f=4*Math.ceil((n+i)/3),u=e.atob(t.substring(c+r,f+r)),l=n-3*Math.floor(c/4);for(a=l;a<l+i;a++)s.array[a-l]=u.charCodeAt(a);o(s.array)}}function m(e){var t=this;t.size=0,t.init=function(r){t.size=e.size,r()},t.readUint8Array=function(t,r,n,i){var o=new FileReader;o.onload=function(e){n(new Uint8Array(e.target.result))},o.onerror=i;try{o.readAsArrayBuffer(function(e,t,r){if(t<0||r<0||t+r>e.size)throw new RangeError("offset:"+t+", length:"+r+", size:"+e.size);return e.slice?e.slice(t,t+r):e.webkitSlice?e.webkitSlice(t,t+r):e.mozSlice?e.mozSlice(t,t+r):e.msSlice?e.msSlice(t,t+r):void 0}(e,t,r))}catch(P){i(P)}}}function U(){}function z(e){var r;this.init=function(e){r=new Blob([],{type:p}),e()},this.writeUint8Array=function(e,n){r=new Blob([r,t?e:e.buffer],{type:p}),n()},this.getData=function(t,n){var i=new FileReader;i.onload=function(e){t(e.target.result)},i.onerror=n,i.readAsText(r,e)}}function b(t){var r="",n="";this.init=function(e){r+="data:"+(t||"")+";base64,",e()},this.writeUint8Array=function(t,i){var o,a=n.length,s=n;for(n="",o=0;o<3*Math.floor((a+t.length)/3)-a;o++)s+=String.fromCharCode(t[o]);for(;o<t.length;o++)n+=String.fromCharCode(t[o]);s.length>2?r+=e.btoa(s):n=s,i()},this.getData=function(t){t(r+e.btoa(n))}}function k(e){var r;this.init=function(t){r=new Blob([],{type:e}),t()},this.writeUint8Array=function(n,i){r=new Blob([r,t?n:n.buffer],{type:e}),i()},this.getData=function(e){e(r)}}function A(e,t,r,n,i,o,a,s,c,f){var u,p,w,h=0,v=t.sn;function d(){e.removeEventListener("message",g,!1),s(p,w)}function g(t){var r=t.data,i=r.data,s=r.error;if(s)return s.toString=function(){return"Error: "+this.message},void c(s);if(r.sn===v)switch("number"==typeof r.codecTime&&(e.codecTime+=r.codecTime),"number"==typeof r.crcTime&&(e.crcTime+=r.crcTime),r.type){case"append":i?(p+=i.length,n.writeUint8Array(i,function(){y()},f)):y();break;case"flush":w=r.crc,i?(p+=i.length,n.writeUint8Array(i,function(){d()},f)):d();break;case"progress":a&&a(u+r.loaded,o);break;case"importScripts":case"newTask":case"echo":break;default:console.warn("zip.js:launchWorkerProcess: unknown message: ",r)}}function y(){(u=h*l)<=o?r.readUint8Array(i+u,Math.min(l,o-u),function(r){a&&a(u,o);var n=0===u?t:{sn:v};n.type="append",n.data=r;try{e.postMessage(n,[r.buffer])}catch(i){e.postMessage(n)}h++},c):e.postMessage({sn:v,type:"flush"})}p=0,e.addEventListener("message",g,!1),y()}function S(e,t,r,n,i,o,a,s,c,f){var u,p=0,h=0,v="input"===o,d="output"===o,g=new w;!function o(){var w;if((u=p*l)<i)t.readUint8Array(n+u,Math.min(l,i-u),function(t){var n;try{n=e.append(t,function(e){a&&a(u+e,i)})}catch(P){return void c(P)}n?(h+=n.length,r.writeUint8Array(n,function(){p++,setTimeout(o,1)},f),d&&g.append(n)):(p++,setTimeout(o,1)),v&&g.append(t),a&&a(u,i)},c);else{try{w=e.flush()}catch(P){return void c(P)}w?(d&&g.append(w),h+=w.length,r.writeUint8Array(w,function(){s(h,g.get())},f)):s(h,g.get())}}()}function _(t,r,n,i,o,a,s,c,f,u,l){e.zip.useWebWorkers&&s?A(t,{sn:r,codecClass:"NOOP",crcType:"input"},n,i,o,a,f,c,u,l):S(new h,n,i,o,a,"input",f,c,u,l)}function D(e){var t,r,n="",i=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","_","_","_","","","","","","","","","+","+","","","+","+","-","-","+","-","+","","","+","+","-","-","","-","+","","","","","","","i","","","","+","+","_","_","","","_","","","","","","","","","","","","","","","","","","","_","","","","","","","","","","","","_"," "];for(t=0;t<e.length;t++)n+=(r=255&e.charCodeAt(t))>127?i[r-128]:String.fromCharCode(r);return n}function L(e){return decodeURIComponent(escape(e))}function M(e){var t,r="";for(t=0;t<e.length;t++)r+=String.fromCharCode(e[t]);return r}function W(e,t,r,n,a){e.version=t.view.getUint16(r,!0),e.bitFlag=t.view.getUint16(r+2,!0),e.compressionMethod=t.view.getUint16(r+4,!0),e.lastModDateRaw=t.view.getUint32(r+6,!0),e.lastModDate=function(e){var t=(4294901760&e)>>16,r=65535&e;try{return new Date(1980+((65024&t)>>9),((480&t)>>5)-1,31&t,(63488&r)>>11,(2016&r)>>5,2*(31&r),0)}catch(P){}}(e.lastModDateRaw),1!=(1&e.bitFlag)?((n||8!=(8&e.bitFlag))&&(e.crc32=t.view.getUint32(r+10,!0),e.compressedSize=t.view.getUint32(r+14,!0),e.uncompressedSize=t.view.getUint32(r+18,!0)),4294967295!==e.compressedSize&&4294967295!==e.uncompressedSize?(e.filenameLength=t.view.getUint16(r+22,!0),e.extraFieldLength=t.view.getUint16(r+24,!0)):a(o)):a(i)}function C(t,i,o){var s=0;function u(){}u.prototype.getData=function(i,a,u,l){var p=this;function w(e,t){l&&!function(e){var t=v(4);return t.view.setUint32(0,e),p.crc32==t.view.getUint32(0)}(t)?o(n):i.getData(function(e){a(e)})}function h(e){o(e||f)}function d(e){o(e||c)}t.readUint8Array(p.offset,30,function(n){var a,c=v(n.length,n);1347093252==c.view.getUint32(0)?(W(p,c,4,!1,o),a=p.offset+30+p.filenameLength+p.extraFieldLength,i.init(function(){0===p.compressionMethod?_(p._worker,s++,t,i,a,p.compressedSize,l,w,u,h,d):function(t,r,n,i,o,a,s,c,f,u,l){var p=s?"output":"none";e.zip.useWebWorkers?A(t,{sn:r,codecClass:"Inflater",crcType:p},n,i,o,a,f,c,u,l):S(new e.zip.Inflater,n,i,o,a,p,f,c,u,l)}(p._worker,s++,t,i,a,p.compressedSize,l,w,u,h,d)},d)):o(r)},h)};var l={getEntries:function(e){var n=this._worker;!function(e){var n=22;if(t.size<n)o(r);else{var i=n+65536;s(n,function(){s(Math.min(i,t.size),function(){o(r)})})}function s(r,i){t.readUint8Array(t.size-r,r,function(t){for(var r=t.length-n;r>=0;r--)if(80===t[r]&&75===t[r+1]&&5===t[r+2]&&6===t[r+3])return void e(new DataView(t.buffer,r,n));i()},function(){o(a)})}}(function(i){var s,c;s=i.getUint32(16,!0),c=i.getUint16(8,!0),s<0||s>=t.size?o(r):t.readUint8Array(s,t.size-s,function(t){var i,a,s,f,l=0,p=[],w=v(t.length,t);for(i=0;i<c;i++){if((a=new u)._worker=n,1347092738!=w.view.getUint32(l))return void o(r);W(a,w,l+6,!0,o),a.commentLength=w.view.getUint16(l+32,!0),a.directory=16==(16&w.view.getUint8(l+38)),a.offset=w.view.getUint32(l+42,!0),s=M(w.array.subarray(l+46,l+46+a.filenameLength)),a.filename=2048==(2048&a.bitFlag)?L(s):D(s),a.directory||"/"!=a.filename.charAt(a.filename.length-1)||(a.directory=!0),f=M(w.array.subarray(l+46+a.filenameLength+a.extraFieldLength,l+46+a.filenameLength+a.extraFieldLength+a.commentLength)),a.comment=2048==(2048&a.bitFlag)?L(f):D(f),p.push(a),l+=46+a.filenameLength+a.extraFieldLength+a.commentLength}e(p)},function(){o(a)})})},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null),e&&e()},_worker:null};e.zip.useWebWorkers?x("inflater",function(e){l._worker=e,i(l)},function(e){o(e)}):i(l)}function F(e){return unescape(encodeURIComponent(e))}function E(e){var t,r=[];for(t=0;t<e.length;t++)r.push(e.charCodeAt(t));return r}function T(t,r,n,i){var o={},a=[],c=0,l=0;function p(e){n(e||s)}function w(e){n(e||f)}var h={add:function(r,s,f,h,d){var g,y,m,U=this._worker;function z(e,r){var n=v(16);c+=e||0,n.view.setUint32(0,1347094280),void 0!==r&&(g.view.setUint32(10,r,!0),n.view.setUint32(4,r,!0)),s&&(n.view.setUint32(8,e,!0),g.view.setUint32(14,e,!0),n.view.setUint32(12,s.size,!0),g.view.setUint32(18,s.size,!0)),t.writeUint8Array(n.array,function(){c+=16,f()},p)}function b(){var f,b;(d=d||{},r=r.trim(),d.directory&&"/"!=r.charAt(r.length-1)&&(r+="/"),o.hasOwnProperty(r))?n(u):(y=E(F(r)),a.push(r),f=function(){s?i||0===d.level?_(U,l++,s,t,0,s.size,!0,z,h,w,p):function(t,r,n,i,o,a,s,c,f){e.zip.useWebWorkers?A(t,{sn:r,options:{level:o},codecClass:"Deflater",crcType:"input"},n,i,0,n.size,s,a,c,f):S(new e.zip.Deflater,n,i,0,n.size,"input",s,a,c,f)}(U,l++,s,t,d.level,z,h,w,p):z()},m=d.lastModDate||new Date,g=v(26),o[r]={headerArray:g.array,directory:d.directory,filename:y,offset:c,comment:E(F(d.comment||""))},g.view.setUint32(0,335546376),d.version&&g.view.setUint8(0,d.version),i||0===d.level||d.directory||g.view.setUint16(4,2048),g.view.setUint16(6,(m.getHours()<<6|m.getMinutes())<<5|m.getSeconds()/2,!0),g.view.setUint16(8,(m.getFullYear()-1980<<4|m.getMonth()+1)<<5|m.getDate(),!0),g.view.setUint16(22,y.length,!0),(b=v(30+y.length)).view.setUint32(0,1347093252),b.array.set(g.array,4),b.array.set(y,30),c+=b.array.length,t.writeUint8Array(b.array,f,p))}s?s.init(b,w):b()},close:function(e){this._worker&&(this._worker.terminate(),this._worker=null);var r,n,i,s=0,f=0;for(n=0;n<a.length;n++)s+=46+(i=o[a[n]]).filename.length+i.comment.length;for(r=v(s+22),n=0;n<a.length;n++)i=o[a[n]],r.view.setUint32(f,1347092738),r.view.setUint16(f+4,5120),r.array.set(i.headerArray,f+6),r.view.setUint16(f+32,i.comment.length,!0),i.directory&&r.view.setUint8(f+38,16),r.view.setUint32(f+42,i.offset,!0),r.array.set(i.filename,f+46),r.array.set(i.comment,f+46+i.filename.length),f+=46+i.filename.length+i.comment.length;r.view.setUint32(f,1347093766),r.view.setUint16(f+8,a.length,!0),r.view.setUint16(f+10,a.length,!0),r.view.setUint32(f+12,s,!0),r.view.setUint32(f+16,c,!0),t.writeUint8Array(r.array,function(){t.getData(e)},p)},_worker:null};e.zip.useWebWorkers?x("deflater",function(e){h._worker=e,r(h)},function(e){n(e)}):r(h)}w.prototype.append=function(e){for(var t=0|this.crc,r=this.table,n=0,i=0|e.length;n<i;n++)t=t>>>8^r[255&(t^e[n])];this.crc=t},w.prototype.get=function(){return~this.crc},w.prototype.table=function(){var e,t,r,n=[];for(e=0;e<256;e++){for(r=e,t=0;t<8;t++)1&r?r=r>>>1^3988292384:r>>>=1;n[e]=r}return n}(),h.prototype.append=function(e,t){return e},h.prototype.flush=function(){},g.prototype=new d,g.prototype.constructor=g,y.prototype=new d,y.prototype.constructor=y,m.prototype=new d,m.prototype.constructor=m,U.prototype.getData=function(e){e(this.data)},z.prototype=new U,z.prototype.constructor=z,b.prototype=new U,b.prototype.constructor=b,k.prototype=new U,k.prototype.constructor=k;var R={deflater:["z-worker.js","deflate.js"],inflater:["z-worker.js","inflate.js"]};function x(t,r,n){if(null===e.zip.workerScripts||null===e.zip.workerScriptsPath){var i,o,a;if(e.zip.workerScripts){if(i=e.zip.workerScripts[t],!Array.isArray(i))return void n(new Error("zip.workerScripts."+t+" is not an array!"));o=i,a=document.createElement("a"),i=o.map(function(e){return a.href=e,a.href})}else(i=R[t].slice(0))[0]=(e.zip.workerScriptsPath||"")+i[0];var s=new Worker(i[0]);s.codecTime=s.crcTime=0,s.postMessage({type:"importScripts",scripts:i.slice(1)}),s.addEventListener("message",function e(t){var i=t.data;if(i.error)return s.terminate(),void n(i.error);"importScripts"===i.type&&(s.removeEventListener("message",e),s.removeEventListener("error",c),r(s))}),s.addEventListener("error",c)}else n(new Error("Either zip.workerScripts or zip.workerScriptsPath may be set, not both."));function c(e){s.terminate(),n(e)}}function B(e){console.error(e)}e.zip={Reader:d,Writer:U,BlobReader:m,Data64URIReader:y,TextReader:g,BlobWriter:k,Data64URIWriter:b,TextWriter:z,createReader:function(e,t,r){r=r||B,e.init(function(){C(e,t,r)},r)},createWriter:function(e,t,r,n){r=r||B,n=!!n,e.init(function(){T(e,t,r,n)},r)},useWebWorkers:!0,workerScriptsPath:null,workerScripts:null}}(this),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,o){e.exports={dragTargetNormal:"file_import_view--dragTargetNormal--_qR9v",dragTargetDragging:"file_import_view--dragTargetDragging--MdzFb file_import_view--dragTargetNormal--_qR9v",fileRows:"file_import_view--fileRows--2xHuP overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",fileStatusIcon:"file_import_view--fileStatusIcon--35LoN",fileSpinnerIcon:"file_import_view--fileSpinnerIcon--A6ilk file_import_view--fileStatusIcon--35LoN",rotate:"file_import_view--rotate--31HSe",fileCheckIcon:"file_import_view--fileCheckIcon--13yb4 file_import_view--fileStatusIcon--35LoN",fileXIcon:"file_import_view--fileXIcon--AGLCK file_import_view--fileStatusIcon--35LoN",fileName:"file_import_view--fileName--3CDfj",fileWaitingName:"file_import_view--fileWaitingName--3idit file_import_view--fileName--3CDfj",fileResolvedName:"file_import_view--fileResolvedName--pYoiw file_import_view--fileName--3CDfj",fileImportRow:"file_import_view--fileImportRow--2EnV_",fileImportMessage:"file_import_view--fileImportMessage--1I9_K",footer:"file_import_view--footer--2QPcX",footerRed:"file_import_view--footerRed--2pCUe file_import_view--footer--2QPcX",footerGreen:"file_import_view--footerGreen--3RMzq file_import_view--footer--2QPcX",footerBlue:"file_import_view--footerBlue--1G7j1 file_import_view--footer--2QPcX",footerButton:"file_import_view--footerButton--3et84",footerButtonRed:"file_import_view--footerButtonRed--18g4F file_import_view--footerButton--3et84",footerButtonGreen:"file_import_view--footerButtonGreen--3MxpX file_import_view--footerButton--3et84",footerButtonBlue:"file_import_view--footerButtonBlue--1uYet file_import_view--footerButton--3et84"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:"g1016f2be",src:'<svg width="11" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M10.194 1.444L4.252 7.386.31 3.444l.884-.884 3.058 3.058L9.31.56l.884.884z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,e){t.exports={id:"g0126e402",src:'<svg width="10" height="10" xmlns="http://www.w3.org/2000/svg"><path d="M.854 9.854l4.5-4.5-.708-.708-4.5 4.5.708.708zm4.5-4.5l4.5-4.5-.708-.708-4.5 4.5.708.708zM.146.854l4.5 4.5.708-.708-4.5-4.5-.708.708zm4.5 4.5l4.5 4.5.708-.708-4.5-4.5-.708.708z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),o=s(232                        ),r=s(241                           ),a=s(144                        ),l=s(346                                 ),p=s(1498                    ),m=s(1499                        ),n=s(146                           ),c=s(1500                    );class f extends i.Component{constructor(){super(...arguments),this.onDone=(()=>{this.props.dispatch(o.fileBrowser.hideModal()),this.props.dispatch(o.fileImport.resetImports())}),this.onCancel=(()=>{this.props.dispatch(o.fileImport.cancelImport())})}renderImportModal(){if(this.props.modalShown&&this.props.modalShown.type===f.FILE_IMPORT_MODAL){let e=this.props.fileImport.files,t=Object.keys(e).map(e=>parseInt(e)).sort((e,t)=>e-t),s=Object.keys(this.props.fileImport.files).length,o=this.props.fileImport.queue.length,f=s-o,d=0,u="";if(0===o){for(let t in this.props.fileImport.files){let s=e[t];s.status!==r.FileImportStatus.SUCCESS&&s.status!==r.FileImportStatus.WARNING||d++}u=s>1?`${d}/${s} files imported successfully`:1===d?"File imported successfully":"File import failed"}else u=s>1?`Importing ${f+1}/${s} files...`:"Importing file...";let I=p.footerBlue,g=p.footerButtonBlue;return 0===o&&(0===d?(I=p.footerRed,g=p.footerButtonRed):(I=p.footerGreen,g=p.footerButtonGreen)),i.createElement(l.Modal,Object.assign({title:"Import Files",disableClickOutsideToHide:o>0,tintedModalBackground:!0},this.props),i.createElement("div",{className:p.fileRows},t.map(t=>{let s=e[t],o=p.fileSpinnerIcon,l=n;s.status!==r.FileImportStatus.SUCCESS&&s.status!==r.FileImportStatus.WARNING||(o=p.fileCheckIcon,l=m),s.status!==r.FileImportStatus.FAILURE&&s.status!==r.FileImportStatus.CANCELED||(o=p.fileXIcon,l=c);let f=p.fileWaitingName;return s.status===r.FileImportStatus.WAITING&&(f=p.fileResolvedName),i.createElement("div",{className:p.fileImportRow,key:`file-import-${t}`},i.createElement(a.Svg,{className:o,svg:l}),i.createElement("div",{className:f},e[t].name),(()=>{if(s.message)return i.createElement("div",{className:p.fileImportMessage},s.message)})())})),i.createElement("div",{className:I},i.createElement("div",null,u),(()=>0===o?i.createElement("div",{onClick:this.onDone,className:g},"Done"):i.createElement("div",{onClick:this.onCancel,className:g},"Cancel"))()))}}render(){const e=this.props.fileImport.isDraggingImport?p.dragTargetDragging:p.dragTargetNormal;return i.createElement("div",null,i.createElement("div",{className:e}),this.renderImportModal())}}f.displayName="FileImportView",f.FILE_IMPORT_MODAL="file-import-modal",t.FileImportView=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";var r=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))(function(n,o){function s(e){try{l(r.next(e))}catch(t){o(t)}}function a(e){try{l(r.throw(e))}catch(t){o(t)}}function l(e){e.done?n(e.value):new i(function(t){t(e.value)}).then(s,a)}l((r=r.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0}),i(1497               );const n=i(97      ),o=i(98        ),s=i(232                        ),a=i(241                           ),l=i(219          ),c=i(0                    ),p=i(744                                   ),d=i(178              ),f=i(1501                                           ),u=i(166                         ),m=i(604                             ),g={bytes:new Uint8Array([137,80,78,71,13,10,26,10,0,0,0,13,73,72,68,82,0,0,0,1,0,0,0,1,8,6,0,0,0,31,21,196,137,0,0,0,10,73,68,65,84,120,156,99,0,1,0,0,5,0,1,13,10,45,180,0,0,0,0,73,69,78,68,174,66,96,130]),clientMeta:{background_color:{r:0,g:0,b:0,a:0},thumbnail_size:{width:1,height:1}}};var h=!1;let I=[];zip.workerScriptsPath="/js/zip/";class y extends Error{constructor(e){super(e),this.message=e,this.imageUploadError=!1}}class w extends y{}class F extends y{}function _(e){const t=e.getState(),i=t.fileImport.queue.filter(e=>{const i=t.fileImport.files[e];return i.status===a.FileImportStatus.WAITING||i.status===a.FileImportStatus.BUSY});for(let r of i)e.dispatch(s.fileImport.updateItem(r,{status:a.FileImportStatus.CANCELED}))}function b(e){const t=e.getState();if(t.fileImport.isProcessingFile)return void(Fig.hasCanceled()&&e.dispatch(s.fileImport.doneProcessingFile()));let i=t.fileImport.queue[0];if(void 0===i)return;let d=t.fileImport.files[i];if(Fig.hasCanceled())return e.dispatch(s.fileImport.updateItem(i,{status:a.FileImportStatus.CANCELED})),e.dispatch(s.fileImport.doneProcessingFile()),void _(e);e.dispatch(s.fileImport.updateItem(i,{status:a.FileImportStatus.BUSY}));let f,h=Date.now(),y=d.name.replace(/\.[^\.]+$/,""),b=d.name.slice(y.length);if(t.selectedView.folderId){const e=t.folders[t.selectedView.folderId];f=e&&e.team_id}(function(e,t,i,a,l){return r(this,void 0,void 0,function*(){function d(e,t,i){if(Fig.hasCanceled())return Promise.reject("canceled");const r="Oops. This service is temporarily unavailable";return new Promise((n,o)=>{let s=new XMLHttpRequest;s.open("POST","/api/upnode/checkpoint?st=import"),s.onload=(()=>{try{let t=JSON.parse(s.responseText);t.error?o(t.message):n(t)}catch(e){o(r)}}),s.onerror=(()=>o(r)),s.send(function(e,t,i){let r=e.getState(),n=u.getUserDefaultFolder(r.folders,r.currentOrgId,r.roles,r.user,r.orgUsersByOrgId.orgUsers);r.selectedView.folderId&&(n=r.folders[r.selectedView.folderId]);const o=new FormData;return o.append("manifest",JSON.stringify({canvas_count:1,parts:[{name:"canvas",mime:"application/x-figma",length:t.length},{name:"thumbnail",mime:"image/png",length:i.bytes.length}],folder_id:n.id,client_meta:i.clientMeta})),o.append("canvas",new Blob([t],{type:"application/x-figma"})),o.append("thumbnail",new Blob([i.bytes],{type:"image/png"})),o}(e,t,i))})}if(".svg"===a.toLowerCase())throw new w("To import an SVG, drag it directly into an open Figma file.");const f=c.initialOptions().user_data,h=!(!f||!f.email)&&f.email.endsWith("@figma.com"),y=yield Fig.convertFile({bytes:i,featureFlags:l,fontLoader:function(){let e=p.fetchFontList([m.FontSource.LOCAL,m.FontSource.GOOGLE,m.FontSource.SHARED]);return{getFont:function(t){return r(this,void 0,void 0,function*(){const i=yield e;for(let e of i.list)if(e.postscript===t)return p.fetchFontFile(e.source,e.id,t);return new Promise((e,t)=>t(null))})}}}(),isUserFigmaEmployee:h}),_=y.file;if(!_)throw new F("Could not convert file.");if(Fig.hasCanceled())return{warnings:["Canceled"],file:null};const{fileKey:b}=yield function(t,i,o){return r(this,void 0,void 0,function*(){var r=null;try{const l=yield d(e,i,o||g);if(r=l.meta.file.key,Fig.hasCanceled())throw new Error("Import canceled.");return yield n.default.put(`/api/files/${r}`,{name:t}),e.dispatch(s.fileBrowser.selectView(Object.assign({},e.getState().selectedView,{fileKey:r}))),{fileKey:r}}catch(a){throw null!==r&&n.default.del("/api/files_batch",{files:[{key:r}]}),a}})}(t,_.bytes,_.thumbnail),E={fileKey:b,sketchMeta:_.sketchMeta},S=yield function(e,t){return r(this,void 0,void 0,function*(){const i=e.length;let r=0;try{for(let n=0;n<e.length;n+=5){const s=[];for(let a=n;a<n+5&&a<e.length;a++){const n=e[a];if(Fig.hasCanceled())throw new Error("Import canceled.");let l="application/octet-stream";if(Fig.isProbablyPNGFile(n.bytes))l="image/png";else{if(!Fig.isProbablyJPEGFile(n.bytes)){console.log("warning: ignoring image with unknown type ("+Array.prototype.slice.call(n.bytes,0,10).map(e=>(256|e).toString(16).slice(-2))+"...)");continue}l="image/jpeg"}console.log("uploading image "+o.toHex(n.sha1Bytes)+" of type "+l),Fig.callUpdateProgressCallback(20+(0===i?0:80*a/i)),s.push(new Promise((e,i)=>{const s=a=>{let c=new XMLHttpRequest,p=!1;c.onloadend=(()=>{let t=I.indexOf(c);if(t>-1&&I.slice(t,1),4===c.readyState&&200===c.status)e();else if(p)i(new Error("Import canceled."));else if(413===c.status)r++,e();else if(400!==c.status&&401!==c.status&&--a>0)return console.log("Image upload failed, retrying..."),void setTimeout(()=>{s(a)},1e3);let n=new F("Image import failed");n.imageUploadError=!0,i(n)}),c.onabort=(()=>{p=!0}),c.open("POST",`/api/upnode/image?purpose=canvas&sha1=${o.toHex(n.sha1Bytes)}&fileKey=${t.fileKey}`),c.setRequestHeader("Content-Type",l),I.push(c),c.send(n.bytes||null)};s(3)})),yield new Promise(e=>setTimeout(e,0))}yield Promise.all(s)}}catch(a){throw n.default.del("/api/files_batch",{files:[{key:t.fileKey}]}),a}const s=[];return r>0&&s.push(`${r} image(s) were too large (>64MB) and did not successfully import`),s})}(y.images,E);return{warnings:y.warnings.concat(S),file:E}})})(e,y,d.bytes,b,c.initialOptions().feature_flags).then(t=>{t.warnings.length?e.dispatch(s.fileImport.updateItem(i,{status:a.FileImportStatus.WARNING,message:t.warnings.join("\n")})):e.dispatch(s.fileImport.updateItem(i,{status:a.FileImportStatus.SUCCESS}));let r=(Date.now()-h)/1e3;if(console.log(`conversion took ${r} seconds`),e.dispatch(s.fileImport.doneProcessingFile()),l.segment){const e=t.file.fileKey;l.segment.track("File Imported",Object.assign({},t.file.sketchMeta,{extension:b,worked:!0,teamId:f,fileKey:e}))}}).catch(t=>{try{if(e.dispatch(s.fileImport.updateItem(i,{status:Fig.hasCanceled()?a.FileImportStatus.CANCELED:a.FileImportStatus.FAILURE,message:t&&t.message?t.message+"":"Internal error. Please try again later."})),l.segment){l.segment.track("File Imported",{extension:b,worked:!1,teamId:f}),t.imageUploadError&&l.segment.track("File Import Image Upload Error",{extension:b,teamId:f})}t instanceof w||(Fig.hasCanceled()?(e.dispatch(s.fileImport.doneProcessingFile()),_(e)):console.error("file import failure:",t&&t.stack||t&&t.message||t))}catch(r){setTimeout(()=>{throw r})}finally{e.dispatch(s.fileImport.doneProcessingFile())}})}function E(e,t=!0,i){const r=document.createElement("input");r.type="file",r.multiple=t,i&&(r.accept=i),r.style.display="none",r.onchange=(t=>{const i=e.getState().selectedView;if(!i.folderId&&!i.recentFiles){const t=e.getState();e.dispatch(s.fileBrowser.selectView({folderId:u.getUserDefaultFolder(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers).id}))}e.dispatch(s.fileImport.inputChange(t)),r.remove()}),document.body.appendChild(r),r.click()}t.default=(e=>t=>(function(i){if(i.type===s.fileBrowser.INIT)return d.loadScript(Fig.importShimURL).then(()=>{h=!0}),t(i);if(!h)return t(i);switch(i.type){case s.fileImport.OPEN_FILE_INPUT:return E(e),t(i);case s.fileImport.OPEN_SKETCH_FILE_INPUT:return E(e,!1,".sketch"),t(i);case s.fileImport.DROP:return function(e,t){I=[],Fig.extractFilesFromDropEvent(t,(t,i)=>e.dispatch(s.fileImport.addToQueue(t,i)))}(e,i.payload.e),t(i);case s.fileImport.INPUT_CHANGE:return function(e,t){let i=t.target,r=(t,i)=>{let r=new FileReader;Fig.resetCancel(),r.onload=(()=>e.dispatch(s.fileImport.addToQueue(t,new Uint8Array(r.result)))),r.readAsArrayBuffer(i)};for(let n=0;n<i.files.length;n++){let e=i.files[n];e.name.endsWith(".sketch.zip")?zip.createReader(new zip.BlobReader(e),t=>{t.getEntries(t=>{if(t.length){for(let i of t)if(i.filename.endsWith("Data"))return void i.getData(new zip.BlobWriter,t=>{var i=e.name.slice(0,-4);r(i,t)});r(e.name,e)}})},()=>{r(e.name,e)}):r(e.name,e)}}(e,i.payload.e),t(i);case s.fileImport.ADD_TO_QUEUE:return t(i),e.dispatch(s.fileBrowser.showModal({type:f.FileImportView.FILE_IMPORT_MODAL})),Fig.hasCanceled()||e.dispatch(s.fileImport.processNextInQueue()),i;case s.fileImport.PROCESS_NEXT_IN_QUEUE:return b(e),t(i);case s.fileImport.CANCEL_IMPORT:return I.forEach(e=>{e.onload=(()=>{}),e.abort()}),Fig.cancelConversion(),e.dispatch(s.fileImport.doneProcessingFile()),_(e),I=[],t(i);case s.fileImport.DONE_PROCESSING_FILE:return t(i),e.getState().fileImport.queue.length>0&&e.dispatch(s.fileImport.processNextInQueue()),i;default:return t(i)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CHOOSE_PLAN="choose_plan",e.CREATE_ORG_PROFILE="create_org_profile",e.REVIEW="review",e.VIEW_CONFIRMATION="view_confirmation"}(t.OrgSelfServeStep||(t.OrgSelfServeStep={})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(232                        ),i=a(1382                              ),n=a(981                      ),s=a(166                         ),l=a(252                       ),o=a(1426                               ),d=a(0                    ),c=a(95               ),u=a(1259                                   ),f=a(287       ),p=a(176              ),m=a(302          ),g=a(1503                             );function I(e,t){const a=(r=h(e,t),encodeURIComponent(r.replace(/ /g,"-")));var r;const i=e.getState();let l=i.currentOrgId?`/${i.currentOrgId}`:"";if(d.default().feature_flags.org_handle){let e=i.orgById[i.currentOrgId],t=e&&e.handle||i.currentOrgId;l=t?`/${t}`:""}if(t.folderId){const e=s.getUserDefaultFolder(i.folders,i.currentOrgId,i.roles,i.user,i.orgUsersByOrgId.orgUsers);let r=`/files${l}/project/${t.folderId}/${a}`;return e&&e.id===t.folderId&&(r=`/files${l}/drafts`),r}if(t.teamId){const e=t.viewState,r={};let i=`/files${l}/team/${t.teamId}/${a}`;return e&&e.teamPreferencesModalTab&&(r.teamPreferencesModalTab=e.teamPreferencesModalTab,i+=`?${c.encode(r)}`),i}if(t.userId)return`/files/user/${t.userId}/${a}`;if(t.recentFiles)return`/files${l}/recent`;if(t.deletedFiles)return`/files${l}/deleted`;if(t.sharedFiles)return`/files${l}/shared`;if(t.sharedProjects)return`/files${l}/shared-projects`;if(t.searchResults)return`/files${l}/search/${i.fileSearch.query?encodeURIComponent(i.fileSearch.query):""}`;if(t.teamCreation)return`/files${l}/create-team`;if(t.addCollaborators)return`/files${l}/add-collaborators/${t.viewState.teamId}`;if(t.activityLogs){const e=t.viewState,a={};let r=`/files${l}/activity-logs`;return e&&e.initialEmail&&(a.initialEmail=e.initialEmail,r+=`?${c.encode(a)}`),r}if(t.configureSSO)return`/files${l}/configure-sso`;if(t.upgradeTeamId){const e=t.viewState;return`/files/upgrade-team/${t.upgradeTeamId}/${e.paymentStep}`}if(t.orgSelfServe){return`/files/upgrade-to-organization/${t.viewState.selfServeStep}`}if(t.addAnnualPlanTeamId)return`/files/add-annual-plan/${t.addAnnualPlanTeamId}`;if(t.adminTeamId)return`/team/${t.adminTeamId}/admin`;if(t.adminInvoicesTeamId)return`/team/${t.adminInvoicesTeamId}/admin/invoices`;if(t.onboardingTeamId){let e=t.viewState;return`/files/team-onboarding/${t.onboardingTeamId}/${e.step}`}if(t.prototype){let e=null;const r=t.viewState;return r.fileKey===u.INTERACTION_TEST_FAKE_FILE_KEY?`/test/interactions${window.location.search}`:(r.fileKey&&(e=`/proto/${r.fileKey}`,a&&(e+=`/${a}`)),e+=n.urlQueryForPrototype(r.scalingMode,r.nodeId,r.showHotspots),e+=n.urlFragmentForPrototype(r.commentThreadId))}if(t.fullscreen){let e=null,r={};const i=t.viewState;return e=`/file/${i.fileKey}`,i.fileKey===u.INTERACTION_TEST_FAKE_FILE_KEY?`/test/interactions${window.location.search}`:(a&&(e+=`/${a}`),i.landingState&&"DUPLICATE"===i.landingState&&(e+="/duplicate"),i.nodeId&&f.isValid(f.fromString(i.nodeId))&&(r["node-id"]=i.nodeId),i.viewport&&(r.viewport=i.viewport),null!=c.parse(window.location.search).zeplin_scheme&&(r.zeplin_scheme=c.parse(window.location.search).zeplin_scheme),Object.keys(r).length>0&&(e+=`?${c.encode(r)}`),e)}}t.selectedViewToPath=I;const w=["create-team","deleted","drafts","project","recent","search","shared","shared-projects","team","activity-logs","configure-sso"];function S(e,t,a,r){let i=t.split("/");const n=new RegExp(`^/files/([a-zA-Z0-9-]+)/(?:${w.join("|")})(.*)$`);switch(i[1]){case"files":switch(t.match(n)&&i.splice(2,1),i[2]){case"drafts":{const t=e.getState();return{folderId:s.getUserDefaultFolder(t.folders,t.currentOrgId,t.roles,t.user,t.orgUsersByOrgId.orgUsers).id}}case"personal":case"shared-projects":return{sharedProjects:!0};case"project":return{folderId:i[3]};case"team":{const e={teamId:i[3]},t=a?c.parse(a):{};return t.teamPreferencesModalTab&&(e.viewState={teamPreferencesModalTab:t.teamPreferencesModalTab}),e}case"user":return{userId:i[3]};case"recent":const r={recentFiles:!0},o=a?c.parse(a):{};return o.orgDashboardTab&&(r.viewState={orgDashboardTab:o.orgDashboardTab}),r;case"activity-logs":const d={activityLogs:!0},u=a?c.parse(a):{};return u.initialEmail&&(d.viewState={initialEmail:u.initialEmail}),d;case"configure-sso":return{configureSSO:!0};case"create-team":return{teamCreation:!0};case"add-collaborators":return{addCollaborators:!0,viewState:{teamId:i[3]}};case"upgrade-team":{let t=i[3];const a=e.getState().teams[t];return{upgradeTeamId:t,viewState:{paymentStep:a&&1===a.editors?l.PaymentStep.CHOOSE_PLAN:l.PaymentStep.REVIEW_EDITORS,previousView:{adminTeamId:t}}}}case"add-annual-plan":return{addAnnualPlanTeamId:i[3]};case"team-onboarding":{let e={onboardingTeamId:i[3]},t={step:i[4]};return e.viewState=t,e}case"deleted":return{deletedFiles:!0};case"search":return i[3]?{searchResults:!0}:{recentFiles:!0}}break;case"team":{const e=i[2];if("admin"===i[3])return"invoices"===i[4]?{adminInvoicesTeamId:e}:{adminTeamId:e};break}case"file":{let e=a?c.parse(a):{};r=r?r.slice(1):"";const t={fullscreen:!0};let n={};if(n.fileKey=i[2],r&&(n.commentThreadId=r),"code"===e["properties-panel-tab"]&&(n.showInspectPanel=!0),e.integration_id&&(n.integrationId=e.integration_id,n.integrationParams={},e.scale&&(n.integrationParams.scale=+e.scale)),e["node-id"]&&(n.nodeId=e["node-id"]),e.viewport){const t=e.viewport.split(",");3!==t.length||isNaN(+t[0])||isNaN(+t[1])||isNaN(+t[2])||(n.viewport=e.viewport)}return("duplicate"===i[4]||e.duplicate)&&(n.landingState="DUPLICATE"),t.viewState=n,t}case"test":if("interactions"===i[2])return{fullscreen:!0,viewState:{fileKey:u.INTERACTION_TEST_FAKE_FILE_KEY}};break;case"proto":{const e=a?c.parse(a):{},t={},n={prototype:!0};r=r?r.slice(1):"",t.fileKey=i[2],e.scaling&&(t.scalingMode=e.scaling),e["show-debug-stats"]&&(t.showDebugStats=!0),t.showHotspots=!0,"0"===e["hotspot-hints"]&&(t.showHotspots=!1),"true"===e["mobile-optimizations"]?t.mobileOptimizations=!0:t.mobileOptimizations=!1,r&&(t.commentThreadId=r);let s=e["node-id"];return s&&!r&&(f.isValid(f.fromString(s))?t.nodeId=s:t.nodeId=null),n.viewState=t,n}}}function h(e,t){let a=e.getState();if(t.folderId)return s.getFolderName(a.folders[t.folderId]);if(t.teamId)return a.teams[t.teamId].name;if(t.userId)return a.user.name;if(t.recentFiles)return"Recent Files";if(t.deletedFiles)return"Deleted Files";if(t.sharedFiles)return"Shared with Me";if(t.searchResults)return"Search Results";if(t.activityLogs)return"Activity Logs";if(t.configureSSO)return"Configure SSO";if(t.teamCreation)return"Create New Team";if(t.addCollaborators)return"Add Collaborators";if(t.upgradeTeamId)return`Upgrade ${a.teams[t.upgradeTeamId].name}`;if(t.orgSelfServe)return t.viewState.selfServeStep===g.OrgSelfServeStep.CHOOSE_PLAN?"Upgrade to Organization":"Create Organization";if(t.addAnnualPlanTeamId)return"Add an Annual Plan";if(t.adminTeamId)return"Admin Dashboard";if(t.adminInvoicesTeamId)return"Team Invoices";if(t.onboardingTeamId)return"Invite Team Members";if(t.sharedProjects)return"Shared Projects";if(t.fullscreen||t.prototype){let e=t.viewState,r="Untitled";if(e.fileKey){let t=a.fileByKey[e.fileKey];t&&(r=`${t.name}`)}return r}}function y(e,t){const a=h(e,t);if(a){if(t.prototype){const t=function(e){const t=e.getState().prototype;for(const a of t.pages)if(a.nodeId===t.currentPageId)return a.name;return""}(e);document.title=t?` ${t} - ${a}`:` ${a}`}else document.title=`${a}  Figma`;if(p.desktopApp){if(t.fullscreen){if(!t.viewState.fileKey)return}p.desktopApp.setTitle(a)}}else document.title="Figma"}function T(e,t){return null==e||null==t?e!=t:e.recentFiles!==t.recentFiles||e.deletedFiles!==t.deletedFiles||e.folderId!==t.folderId||e.userId!==t.userId||e.teamId!==t.teamId||e.adminTeamId!==t.adminTeamId||e.adminInvoicesTeamId!==t.adminInvoicesTeamId||e.upgradeTeamId!==t.upgradeTeamId||e.upgradeTeamId&&(a=e.viewState,r=t.viewState,null==a||null==r?a!=r:a.paymentStep!==l.PaymentStep.CONFIRM_PAY&&a.paymentStep!==r.paymentStep)||e.fileKey!==t.fileKey||e.fullscreen!==t.fullscreen||e.fullscreen&&function(e,t){return null==e||null==t?e!=t:e.fileKey!==t.fileKey}(e.viewState,t.viewState)||e.onboardingTeamId!==t.onboardingTeamId||e.onboardingTeamId&&function(e,t){return null==e||null==t?e!=t:e.step!==t.step}(e.viewState,t.viewState)||e.prototype&&function(e,t){return null==e||null==t?e!=t:!!e.nodeId&&e.nodeId!==t.nodeId}(e.viewState,t.viewState);var a,r}t.pathToSelectedView=S,t.fileBrowserHistory=(e=>t=>(function(a){let n=e.getState().selectedView;t(a);let l=e.getState();if(r.fileBrowser.hydrate.matches(a)){let t=l.selectedView||d.default().selected_view||S(e,location.pathname,location.search,location.hash);if(i.selectedViewHasMissingResources(t,l)?t=null:t&&t.upgradeTeamId&&l.teams[t.upgradeTeamId]&&l.teams[t.upgradeTeamId].subscription&&(t.adminTeamId=t.upgradeTeamId,delete t.upgradeTeamId),t){if(t.searchResults){let t,a="";(t=window.location.pathname.match(/^\/files\/search\/(.*)$/))?a=decodeURIComponent(t[1]):(t=window.location.pathname.match(/^\/files\/([0-9]+)\/search\/(.*)$/))&&(a=decodeURIComponent(t[2])),e.dispatch(r.fileBrowser.setFileSearchQuery(a))}e.dispatch(r.fileBrowser.selectView(t))}else a.payload.recent_files&&a.payload.recent_files.length?e.dispatch(r.fileBrowser.selectView({recentFiles:!0})):e.dispatch(r.fileBrowser.selectView({folderId:s.getUserDefaultFolder(l.folders,l.currentOrgId,l.roles,l.user,l.orgUsersByOrgId.orgUsers).id}));return a}if(r.team.del.matches(a)){const t=e.getState().selectedView;let a=I(e,t);history&&window.location.pathname+window.location.search!==a&&(history.state&&T(n,t)?m.debouncedHistoryPushState(t,null,a):m.debouncedHistoryReplaceState(t,null,a),y(e,t))}switch(a.type){case r.fileBrowser.INIT:window.addEventListener("popstate",t=>{if(t.state){let a=e.getState().selectedView;if(a.fullscreen&&!o.fullscreen.isReady())return void m.locationReload("User navigated before fullscreen fully initialized");let i=!1;a&&(a.fullscreen&&!t.state.fullscreen?i=!0:a.fullscreen&&t.state.fullscreen&&a.viewState.fileKey!=t.state.viewState.fileKey&&(i=!0)),i?e.dispatch(r.fullscreen.handlePopState({oldSelectedView:a,newSelectedView:t.state})):(e.dispatch(r.fileBrowser.selectView(t.state,!0)),y(e,t.state))}});let t=c.parse(location.search).flash;t&&e.dispatch(r.flash.flash(t));break;case r.fileBrowser.SELECT_VIEW:if(!a.payload.fromPopstate){let t=I(e,a.payload);if(history&&window.location.pathname+window.location.search!==t){history.state&&T(n,a.payload)?m.debouncedHistoryPushState(a.payload,null,t):m.debouncedHistoryReplaceState(a.payload,null,t)}let r=e.getState().user&&e.getState().user.appData;r&&r.loggedOut&&!a.payload.fullscreen&&m.locationReload("User Logged out")}y(e,a.payload);break;case r.folder.PUT:{let t=e.getState().selectedView;t.folderId==a.payload.folderId&&y(e,t);break}case r.file.PUT:{let t=e.getState().selectedView;if(t.fullscreen){let r=t.viewState;if(a.payload.file.key==r.fileKey){y(e,t);let a=I(e,t);history&&m.debouncedHistoryReplaceState(t,null,a)}}break}case r.fileBrowser.SET_FILE_SEARCH_QUERY:{let t=e.getState().selectedView;t&&t.searchResults&&m.debouncedHistoryReplaceState(t,null,I(e,t));break}default:if(0!==v)break;v=setTimeout(function(){v=0,null===e.getState().selectedView&&e.dispatch(r.fileBrowser.selectView({recentFiles:!0}))},0)}return a}));let v=0;t.default=t.fileBrowserHistory,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=i(97      ),r=i(100                     ),o=i(232                        ),a=i(1382                              ),s=i(220                      );t.fileFollowerMiddleware=(e=>t=>(function(i){switch(i.type){case o.fileBrowser.SELECT_VIEW:{const r=e.getState(),s=r.selectedView&&a.editingFileKey(r.selectedView);t(i);const c=e.getState(),f=a.editingFileKey(c.selectedView);return void(c.user&&f&&f!==s&&(e.dispatch(o.fileFollower.reset()),((e,t)=>{l.default.get(`/api/file/${e}/file_followers`).then(({data:i})=>{let l=t.getState();if(a.editingFileKey(l.selectedView)===e)for(let e of i.meta)t.dispatch(o.fileFollower.post(e,!1))})})(f,e)))}case o.fileFollower.POST:if(i.payload.userInitiated){let a=i.payload.fileFollower;return s.trackEventForFile("File Follower Added",a.key,e.getState()),r.optimisticRequest({requestPromise:l.default.post(`/api/file/${a.key}/file_followers`).then(({data:t})=>{e.dispatch(o.fileFollower.post(t.meta,!1))}),fallbackError:"An error occurred while subscribing to this file",store:e,next:t,action:i})}return t(i);case o.fileFollower.DELETE:if(i.payload.userInitiated){let o=i.payload.fileFollower;return s.trackEventForFile("File Follower Deleted",o.key,e.getState()),r.optimisticRequest({requestPromise:l.default.del(`/api/file/${o.key}/file_followers`),fallbackError:"An error occurred while unsubscribing from this file",store:e,next:t,action:i})}return t(i);default:return t(i)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";var s=this&&this.__awaiter||function(e,t,o,s){return new(o||(o=Promise))(function(r,a){function i(e){try{l(s.next(e))}catch(t){a(t)}}function n(e){try{l(s.throw(e))}catch(t){a(t)}}function l(e){e.done?r(e.value):new o(function(t){t(e.value)}).then(i,n)}l((s=s.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=o(232                        ),a=o(370              ),i=o(301           ),n=o(1474                          ),l=o(172                     ),d=o(173                        ),c=o(277                           ),f=o(166                         ),u=o(1417                       ),p=o(736                                        ),h=o(732                                    ),m=o(725                         ),_=a.pxToInt(h.folderRowHeight),S=new n.ScoredSearchLibrary([],{keys:["folder.name","team.name"],threshold:.3,tokenize:!0}),F=(e,t,o)=>!!f.isADraftsFolder(t.folders,e.id)||!!d.canEditFolder(e.id,t)&&(!l.isFolderEditingLockedForUser(e,t)&&!(o&&!l.canAccessProFeature(t.teams[e.team_id]))),g=(e,t,o)=>!l.isTeamLockedForUser(e,t)&&!(o&&!l.canAccessProFeature(t.teams[e])),R=(e,t)=>{const o=[];let s;Object.keys(e.folders).forEach(r=>{s=e.folders[r],f.isADraftsFolder(e.folders,r)&&(s=Object.assign({},s,{name:"Drafts"})),F(s,e,t)&&o.push(s)}),S.set(o.map(t=>{const o=e.teams[t.team_id];return o?{folder:t,team:o}:{folder:t}}))},y=(e,t,o,a=!1)=>s(this,void 0,void 0,function*(){let s=e.getState();var i,n;if(t){let o=((e,t)=>{const o=t.getState();let s=Object.create(null);const a=Object.create(null);let i=0,n=0;const l=f.getUserDefaultFolder(o.folders,o.currentOrgId,o.roles,o.user,o.orgUsersByOrgId.orgUsers);for(let r of e){const e=r.item.folder,t=e.id===l.id?0:r.score,d=e.id===l.id?c.USER_DRAFTS:O(e.team_id,o);d in s||(s[d]=[],d!==c.USER_FOLDERS&&d!==c.USER_DRAFTS&&n++),s[d].push(e),null==a[d]?a[d]=t:a[d]=Math.min(a[d],t),i++}const d=i+n;return t.dispatch(r.fileMove.setIndexCount({indexCount:d})),[a,s]})(yield S.search(t),e);n=o[0],i=o[1]}else i=((e,t,o)=>{const s=Object.create(null);let a=0,i=0,n=t.getState();const l=f.getUserDefaultFolder(n.folders,n.currentOrgId,n.roles,n.user,n.orgUsersByOrgId.orgUsers);s[c.USER_DRAFTS]=[],s[c.USER_FOLDERS]=[];for(let r in n.roles.byTeamId)g(r,n,o)&&(i++,s[r]=[]);Object.keys(e).forEach(t=>{const r=Object.assign({},e[t]);if(F(r,n,o)&&p.isSubcribed(e,r)){const e=r.id===l.id?c.USER_DRAFTS:O(r.team_id,n);s[e].push(r),a++}});const d=a+i;return t.dispatch(r.fileMove.setIndexCount({indexCount:d})),t.dispatch(r.fileMove.resetFocusedIndex()),s})(s.folders,e,o);const l=Object.keys(i),d=0===l.length;!d&&t?l.sort((e=>(t,o)=>e[t]-e[o])(n)):d||l.sort((e=>(t,o)=>{const s=e[t],r=e[o];return s?r&&s.name.toLowerCase()<r.name.toLowerCase()?-1:1:-1})(s.teams));const[u,h,R]=((e,t,o)=>{const s=Object.create(null),r=Object.create(null),a=[];let i=0,n=0;return e.forEach(e=>{let o=48;if(e===c.USER_DRAFTS&&(o=12),n+=o,r[e]=i,e!==c.USER_FOLDERS&&e!==c.USER_DRAFTS){const t={type:m.FolderRowType.NEW_FOLDER_TEAM,id:e,positionTop:n};a.push(t),n+=_,i+=1}const l=t[e];i+=l.length,l.sort((e,t)=>""===e.path?-1:""===t.path?1:e.name.toLowerCase()<t.name.toLowerCase()?-1:1),l.forEach(e=>{const t={type:m.FolderRowType.FOLDER_ROW,id:e.id,positionTop:n};n+=_,a.push(t)}),s[e]=l,n+=13}),[s,r,a]})(l,i);e.dispatch(r.fileMove.setFolderRows({rows:R})),e.dispatch(r.fileMove.setIndexOffsets({indexOffsets:h})),e.dispatch(r.fileMove.setfoldersByTeamId({foldersByTeamId:u})),e.dispatch(r.fileMove.setTeamOrder({teamIds:l})),s.fileMove.isSearchResult!==a&&e.dispatch(r.fileMove.isSearchResult({isSearchResult:a}));const y=c.USER_DRAFTS in h&&R[0].type===m.FolderRowType.FOLDER_ROW;t&&y?e.dispatch(r.fileMove.setFocusedIndexAt({indexAt:0})):t&&!y&&e.dispatch(r.fileMove.setFocusedIndexAt({indexAt:1}))}),O=(e,t)=>{let o;return o=e&&d.canViewTeam(e,t)?e:c.USER_FOLDERS},E=i.debounce((e,t,o)=>{y(e,t,o,!!t)},200);t.default=(e=>t=>(function(o){if(r.fileMove.setFolderSearchQuery.matches(o))return E(e,o.payload.query),t(o);if(r.fileMove.focusFolderId.matches(o)){const s=e.getState().fileMove.folderRows;for(let t=0;t<s.length;t++)if(s[t].id===o.payload.folderId){e.dispatch(r.fileMove.setFocusedIndexAt({indexAt:t}));break}return t(o)}switch(o.type){case r.fileBrowser.SHOW_MODAL:if(t(o),o.payload&&o.payload.type===u.AppModal.FILE_MOVE_MODAL){const t=e.getState(),o=t.modalShown.data;R(t,o.isPublishing),((e,t)=>{y(e,"",t,!1)})(e,o.isPublishing)}return;case r.folder.PUT:case r.folder.POST:case r.folder.DELETE:{t(o);const s=e.getState();if(s.modalShown&&s.modalShown.type===u.AppModal.FILE_MOVE_MODAL){const t=s.modalShown.data;R(s,t.isPublishing);const o=s.fileMove.folderSearchQuery;y(e,s.fileMove.folderSearchQuery,t.isPublishing,!!o)}return}default:return t(o)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const l=s(232                        ),a=s(245                             );t.default=(e=>t=>(function(s){return s.type===l.fileBrowser.SELECT_VIEW&&(!e.getState().selectedView||e.getState().selectedView.folderId!==s.payload.folderId||e.getState().selectedView.recentFiles!==s.payload.recentFiles||e.getState().selectedView.searchResults!==s.payload.searchResults)&&a.numSelected(e.getState().fileSelect)&&e.dispatch(l.file.resetFileSelection()),t(s)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(232                        ),a=n(220                      );t.default=(e=>t=>(function(n){switch(n.type){case o.fileBrowser.DOWNLOAD_FONT_INSTALLER:case o.fileBrowser.DOWNLOAD_FONT_UNINSTALLER:{const r=n.type===o.fileBrowser.DOWNLOAD_FONT_INSTALLER?"Font Installer Downloaded":"Font Uninstaller Downloaded";let s=e.getState();return a.trackEventForUser(r,s),t(n)}default:return t(n)}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const n=o(232                        ),s=o(337              ),i=o(176              );e.default=(t=>e=>(function(o){return e(o),o.type===n.fileBrowser.SELECT_VIEW&&function t(e){(function(){if(i.desktopApp)return!1;const{user:t,selectedView:o}=e.getState();return t&&o.userId===t.id})()&&s.requestFontDaemonFontFiles().then(({data:o})=>{let s=0;for(let t in o.fontFiles)s+=o.fontFiles[t].length;e.getState().localFonts!==s&&e.dispatch(n.fileBrowser.setLocalFonts(s)),setTimeout(t.bind(void 0,e),2e3)}).catch(()=>{!1!==e.getState().localFonts&&e.dispatch(n.fileBrowser.setLocalFonts(!1)),setTimeout(t.bind(void 0,e),1e3)})}(t),o})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,l){"use strict";var a=this&&this.__awaiter||function(e,t,l,a){return new(l||(l=Promise))(function(i,s){function r(e){try{o(a.next(e))}catch(t){s(t)}}function n(e){try{o(a.throw(e))}catch(t){s(t)}}function o(e){e.done?i(e.value):new l(function(t){t(e.value)}).then(r,n)}o((a=a.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const i=l(97      ),s=l(302          ),r=l(95               ),n=l(141     ),o=l(232                        ),c=l(220                      ),d=l(176              ),p=l(343                               ),u=l(1471                    ),f=l(162                    ),g=l(166                         ),h=l(126                     ),m=l(1117                                                                           ),w=l(1176                                                                                               ),_=l(1404                                                 ),y=l(341                              ),b=l(129                               ),S=l(1420                                               ),F=l(500                                     ),v=l(1426                               ),P=l(129                               ),k=l(341                              ),E=l(0                    ),I=l(173                        ),O=l(184                                     ),R=l(739             ),L=l(1417                       ),C=l(1261                                        ),M=l(1130                                                    ),T=l(185                       ),A=l(130       ),B=l(663                                                 ),D=l(712                                  ),K=l(1248                                         );var V;!function(e){function t(){return new Promise(()=>{})}e.handleFullscreenMetadataResponse=function(e,l){return a(this,void 0,void 0,function*(){let a=l.getState(),i=JSON.parse(e.response);if(i.error)throw new Error(i.message);let r=i.meta;const n=E.default().feature_flags,c=r.feature_flags;if(r.script!==Fig.fullscreenScriptHash&&(console.log(`reloading because ${r.script} != ${Fig.fullscreenScriptHash}`),s.locationReload(`Fullscreen version mismatch: ${r.script} != ${Fig.fullscreenScriptHash}`),yield t()),c&&(n.reload_when_feature_flags_change||c.reload_when_feature_flags_change)){const e=function(e,t){for(const l of[t,e])for(const a in l)if(!!e[a]!=!!t[a])return`${a} changed to ${!!t[a]}`;return null}(n,c);null!==e&&(console.log(`reloading because of a feature flag change: ${e}`),s.locationReload(`Feature flag change: ${e}`),yield t())}yield v.fullscreen.loadAndStartFullscreenIfNecessary();let d,p=u.getEditingFile(a),f=!p||I.canEditFile(p.key,a),g=!1,h=null,m=null,w=void 0;if(a.selectedView){const e=a.selectedView.viewState;if(!e)throw new Error("Handling fullscreen metadata response not in a valid fullscreen state");null!=e.commentThreadId&&(g=!0),e.showInspectPanel?y.setPropertiesPanelTab(b.PropertiesPanelTab.CODE):f&&y.setPropertiesPanelTab(b.PropertiesPanelTab.DESIGN),h=e.integrationId,m=e.integrationParams,e.nodeId&&(w=e.nodeId),e.viewport&&(d=e.viewport)}{const e={list:r.shared_fonts.map(A.sharedFontMetadataToFontInfo),version:null,localizedToUnlocalized:[],sources:[b.FontSource.SHARED]};l.dispatch(o.fullscreen.updateFontList(e)),v.fullscreen.sendMessage("updateFontList",e),v.fullscreen.sendMessage("openFileWithServerMetadata",{metadata:r,canEditFile:f,startInCommentsMode:g,integrationId:h,integrationParams:m,selectedNodeId:w,urlViewport:d,additionalTopPadding:a.user?void 0:K.LOGGED_OUT_FILE_BANNER_PADDING,tracking_session_id:E.default().tracking_session_id})}})}}(V||(V={}));const x=new Map([["snapToPixelGrid",e=>({message:"Snap to pixel grid "+(e?"enabled":"disabled")})],["snapToGeometry",e=>({message:"Snap to geometry "+(e?"enabled":"disabled")})],["snapToObjects",e=>({message:"Snap to objects "+(e?"enabled":"disabled")})],["renderGrid",e=>({message:"Pixel grid "+(e?"enabled":"disabled")})],["hideMultiplayerCursors",e=>({message:"Multiplayer cursors "+(e?"hidden":"visible")})],["activeCanvasPixelPreview",(e,t)=>({message:"Pixel preview "+(e?"enabled ("+(t.activeCanvasRetinaMode?"2x":"1x")+")":"disabled")})],["showMasks",e=>({message:"Mask outlines "+(e?"shown":"hidden")})],["zeplinIntegration",e=>e?null:{message:"Zeplin Integration disabled"}],["avocodeIntegration",e=>e?null:{message:"Avocode Integration disabled"}],["showFrameGrids",(e,t,l)=>t.showFrameGridsForced?(v.fullscreen.updateAppModel({showFrameGridsForced:!1}),{message:"Layout grids enabled",button:{text:"Disable",action:e=>{e.stopPropagation(),l.dispatch(o.visualBell.dequeue({})),v.fullscreen.updateAppModel({showFrameGrids:!1})}}}):{message:"Layout grids "+(e?"enabled":"disabled")}],["showFrameGridsViewOnly",e=>({message:"Layout grids "+(e?"enabled":"disabled")})]]);let G=0;t.default=(e=>t=>(function(l){if(l.type===o.fileBrowser.INIT)return v.initializeFullscreenBindings(E.default().user_data,e),t(l);if(o.fullscreen.trackEvent.matches(l)){const t=e.getState(),a=l.payload.params||{},i=t.selectedView.viewState.fileKey;c.trackEventForFile(l.payload.name,i,t,a)}else{if(l.type===o.fileBrowser.SELECT_VIEW){let a=e.getState(),i=a.selectedView,s=l.payload,r=i&&i.fullscreen,n=s&&s.fullscreen,c=t(l);if(r&&!n)e.dispatch(o.fullscreen.close());else if(!r&&n){if(R.webGLSupport()!==R.WebGLTestResult.SUCCESS)return a.user&&!d.desktopApp&&e.dispatch(o.fileBrowser.selectView({recentFiles:!0})),void e.dispatch(o.fileBrowser.showModal({type:L.AppModal.WEBGL_ERROR_MODAL,data:R.webGLSupport()}));let t=s.viewState;e.dispatch(o.fullscreen.open({file:a.fileByKey[t.fileKey],selectedNodeId:t.nodeId}))}else if(r&&n){let t=i.viewState,l=s.viewState;if(t.fileKey&&!l.fileKey)throw new Error("selectView(...) was called with { fullscreen: true, viewState: { fileKey: undefined } } while a file was already open. We don't handle this case.");t.fileKey===l.fileKey||(e.dispatch(o.fullscreen.close()),e.dispatch(o.fullscreen.open({file:a.fileByKey[l.fileKey]})))}return c}if(o.fullscreen.new_.matches(l)){if(Date.now()-G<600)return;G=Date.now();let a=l.payload,n={};if(a.folder_id&&(n.folder_id=a.folder_id),a.org_id&&(n.org_id=a.org_id),a.openInNewTab&&!d.desktopApp){const e=r.encode(n);s.redirect(`/file/new${e?"?"+e:""}`,"_blank")}else i.default.post("/api/files",n).then(t=>{e.dispatch(o.file.put(t.data.meta)),e.dispatch(o.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:t.data.meta.key}})),c.trackEventForFile("File Created",t.data.meta.key,e.getState())}).catch(({response:t})=>{let l=(t=JSON.parse(t)).message?t.message:"An error occurred while creating a new document.";e.dispatch(o.flash.error(l))});return t(l)}if(o.fullscreen.open.matches(l)){if(R.webGLSupport()!==R.WebGLTestResult.SUCCESS)throw new Error("webGLSupport() call failed but we're opening fullscreen. Don't dispatch fullscreen.open() directly - use selectView instead.");let r=e.getState(),d=r.user,p=l.payload.file;if(n.mobile||n.tablet){if(!p)return;s.redirect(p.url)}return(()=>a(this,void 0,void 0,function*(){try{v.fullscreen.setOpenTimingStart(Date.now()),S.preconnect(S.multiplayerURLForFileKey(p.key)),v.FullscreenBindings.startFetchingFontList();const a=i.default.get(`/api/file_metadata/${p.key}`);let s;v.fullscreen.loadAndStartFullscreenIfNecessary();try{s=yield a}catch(t){throw new Error(`Calling "/api/file_metadata/:file_key" failed with status ${t&&t.status}`)}yield V.handleFullscreenMetadataResponse(s,e),c.trackEventForFile("File Opened",p.key,r,{randomID:T.getRandomID()}),p&&d&&setTimeout(()=>{p.key===e.getState().editingFileKey&&e.dispatch(o.file.markViewed(p))},4e3)}catch(l){v.fullscreen.showFatalFlash("An error occurred while opening the editor."),console.error("An error occurred while opening the editor:",l),setTimeout(()=>{throw l})}}))(),t(l),
// The license agreement modal takes precedence over the unsupported browser modal
p&&_.needsLicenseAgreement(p)&&e.dispatch(o.fileBrowser.showModal({type:L.AppModal.LICENSE_AGREEMENT_MODAL})),null}if(o.fileBrowser.handleUrlParamsForCurrentView.matches(l)){const a=e.getState();if(a.editingFileKey){const t=r.parse(l.payload.params||"")["node-id"];if(null!=t){const l=a.mirror.sceneGraph.get(t);if(null!=l){const i=void 0!==l.styleType,s="SYMBOL"===l.type,r=a.mirror.sceneGraph.get(l.parent);if(i){const e=a.library.local.styles[t];P.Fullscreen.selectStyle(e.key,e.content_hash)}else s&&r&&"CANVAS"===r.type&&!r.visible?I.canEditFile(a.editingFileKey,a)&&e.dispatch(o.fileBrowser.showModal({type:C.FullscreenPageView.RESTORE_COMPONENT_MODAL,data:{nodeId:t}})):(k.clearSelection(),k.addToSelection([t]),v.fullscreen.panToNode(t))}}const i=l.payload.hash;if(i){const t=i.substr(1);if(t in a.comments.commentsById){const l=Object.assign({},e.getState().selectedView);l.viewState=Object.assign({},l.viewState,{commentThreadId:t}),e.dispatch(o.fileBrowser.selectView(l)),l.fullscreen?v.fullscreen.triggerAction("set-tool-comments"):l.prototype&&e.dispatch(o.prototype.showComments()),e.dispatch(o.comments.showThread({threadId:t}))}}}return t(l)}if(o.fullscreen.close.matches(l))return e.dispatch(o.fullscreen.hidePicker()),v.fullscreen.isReady()&&(v.fullscreen.sendMessage("fullscreenWasClosed"),B.terminateCurrentPlugin("The editor was closed")),t(l);if(o.fullscreen.attemptClose.matches(l)){e.dispatch(o.fullscreen.requestThumbnailRender());let a=e.getState(),i=u.getEditingFile(a),s={recentFiles:!0};return i&&g.canAccessFolder(a.folders,i.folder_id)&&(s={folderId:i.folder_id}),v.fullscreen.dispatchIfSaved(o.fileBrowser.selectView(s)),O.onDocumentSwitch(),t(l)}if(o.fullscreen.handlePopState.matches(l)){let a=e.getState();return a.saveStatus&&a.saveStatus.hasUnsavedChanges?(v.fullscreen.sendMessage("tabCloseWasAttempted"),confirm(a.saveStatus.tabCloseText)?e.dispatch(o.fileBrowser.selectView(l.payload.newSelectedView,!0)):e.dispatch(o.fileBrowser.selectView(l.payload.oldSelectedView,!1))):e.dispatch(o.fileBrowser.selectView(l.payload.newSelectedView,!0)),t(l)}if(o.team.put.matches(l)||l.type===o.file.PUT||l.type===o.folder.PUT||l.type===o.role.PUT||l.type===o.role.POST||l.type===o.role.DELETE||o.orgUser.put.matches(l)){let a=e.getState();if(a.editingFileKey&&a.selectedView&&a.selectedView.fullscreen){let i=l.payload.file;if(a.user){let i=l.payload.role,r=I.canEditFile(a.editingFileKey,a),n=I.canViewFile(a.editingFileKey,a);t(l),a=e.getState();let c=I.canEditFile(a.editingFileKey,a),d=I.canViewFile(a.editingFileKey,a);return void(l.payload.isLeavingResource&&i.resource_type===h.ResourceType.FILE&&l.payload.userInitiated?e.dispatch(o.fileBrowser.selectView({recentFiles:!0})):r===c&&n==d||s.locationReload("Access changed",{key:a.editingFileKey}))}if(i&&i.link_access!==f.LinkAccess.VIEW&&i.link_access!==f.LinkAccess.EDIT)return void s.locationReload("Link access removed",{key:a.editingFileKey})}return t(l)}if(l.type===o.file.DELETE_FILES){let a=e.getState();return a.user?a.editingFileKey&&l.payload.fileKeys[a.editingFileKey]&&!d.desktopApp&&e.dispatch(o.fileBrowser.selectView({recentFiles:!0})):s.locationReload("File deleted",{key:a.editingFileKey}),t(l)}if(l.type===o.fileBrowser.SHOW_DROPDOWN)return e.dispatch(o.tooltip.hide()),t(l);if(o.fullscreen.enterVersionHistoryMode.matches(l))return v.fullscreen.triggerAction("enter-history-mode"),t(l);if(o.fullscreen.requestThumbnailRender.matches(l))return v.fullscreen.sendMessage("requestThumbnailRenderNowIfDirty"),t(l);if(o.fullscreen.updateMirror.matches(l)){l.payload.selection&&(e.getState().pickerShown&&e.dispatch(o.fullscreen.hidePicker()),F.paintCache.clearCache());const a=l.payload.appModel;if(a){const t=e.getState(),l=t.mirror&&t.mirror.appModel||null;if(l&&void 0!==l.hasGlContext)for(const i in a){const t=x.get(i);if(t){const s=a[i],r=l[i];if(void 0!==r&&s!==r){const i=t(s,Object.assign({},l,a),e);i&&e.dispatch(o.visualBell.enqueue(Object.assign({type:"settings_changed"},i)));break}}}}return t(l)}if(o.fullscreen.computeExport.matches(l)){const a=e.getState(),i=p.computeExportItems(a);return e.dispatch(o.exportableItems.setItems({items:i.items,frames:i.frames})),t(l)}if(o.fullscreen.showPicker.matches(l)||o.fullscreen.hidePicker.matches(l)){o.fullscreen.showPicker.matches(l)&&l.payload.id===M.EXPORT_PICKER_ID&&e.dispatch(o.fullscreen.computeExport());const a=e.getState().pickerShown,i=t(l),s=e.getState().pickerShown,r=a&&a.id,n=s&&s.id,c=r!==m.BackgroundPanel.COLOR_PICKER_ID&&n===m.BackgroundPanel.COLOR_PICKER_ID,d=r===m.BackgroundPanel.COLOR_PICKER_ID&&n!==m.BackgroundPanel.COLOR_PICKER_ID,p=r!==w.PrototypeBackgroundPanel.COLOR_PICKER_ID&&n===w.PrototypeBackgroundPanel.COLOR_PICKER_ID,u=r===w.PrototypeBackgroundPanel.COLOR_PICKER_ID&&n!==w.PrototypeBackgroundPanel.COLOR_PICKER_ID;return c?v.fullscreen.updateAppModel({backgroundPickerOpen:!0}):d?v.fullscreen.updateAppModel({backgroundPickerOpen:!1}):p?v.fullscreen.updateAppModel({prototypeBackgroundPickerOpen:!0}):u&&v.fullscreen.updateAppModel({prototypeBackgroundPickerOpen:!1}),i}if(l.type===o.fileBrowser.SHOW_MODAL&&l.payload.type===C.FullscreenPageView.FONT_INSTALLER_MODAL)D.putPreferences(e.dispatch,{completed_font_installer_modal:!0});else if(o.fullscreen.updateMultiplayerState.matches(l))void 0!==l.payload.allUsers&&O.setMultiplayerUserCount(l.payload.allUsers.length);else if(o.fullscreen.open.matches(l))O.onDocumentSwitch();else if(o.fullscreen.documentLoaded.matches(l)){const t=e.getState();O.onDocumentLoad(t.editingFileKey)}}return t(l)})),t.handleFullscreenMetadataResponse=V.handleFullscreenMetadataResponse,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=o(232                        ),i=o(302          ),a=o(303      ),n=o(1471                    ),s=o(143              ),l=!i.isInIframe();t.default=(e=>t=>(function(o){if(t(o),s.isRunningInteractionTests())return null;if(o.type==r.fileBrowser.INIT){let t=new a.IPC;e.getState().user&&t.sendToOtherTabs("logged-in",e.getState().user.id);let o=()=>{t.unregister("logged-out",o);let a=e.getState();n.fullscreenHasUnsavedChanges(a)?e.dispatch(r.user.logOut()):a.user&&l&&i.locationReload("iframe automagic reload on logOut")};t.register("logged-out",o);let s=t=>{e.getState().user&&t===e.getState().user.id||l&&i.locationReload("iframe automatic reload on logIn")};t.register("logged-in",s),window.ipc=t}return null})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,o){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const r=o(232                        ),s=o(174          ),a=o(1438                                 );e.keyboardShortcutMiddleware=(t=>e=>(function(o){if(!r.keyboardShortcut.usedKeyboardShortcut.matches(o))return e(o);{const r=t.getState().usedKeyboardShortcuts;e(o);const c=t.getState().usedKeyboardShortcuts;r!==c&&c&&s.localStorageOrNull&&s.localStorageOrNull.setItem(a.USED_KEYBOARD_SHORTCUTS_LOCAL_STORAGE_KEY,JSON.stringify(c))}})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(232                        ),i=t(341                              ),a=t(285                                        );r.objectsPanelMiddleware=(e=>r=>(function(t){if(s.objectsPanel.setLocked.matches(t)){const s=e.getState(),c=s.mirror.sceneGraph,{guid:o,locked:n,recursive:l}=t.payload;return l?a.traverse(s.mirror.sceneGraph,c.get(o),e=>{i.setLocked(e.guid,n)}):i.setLocked(o,n),r(t)}if(s.objectsPanel.setVisible.matches(t)){const s=e.getState(),c=s.mirror.sceneGraph,{guid:o,visible:n,recursive:l}=t.payload;return l?a.traverse(s.mirror.sceneGraph,c.get(o),e=>{i.setVisible(e.guid,n)}):i.setVisible(o,n),r(t)}return r(t)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(232                        ),i=o(220                      ),a=o(302          ),r=o(173                        ),p=o(1504                                       ),c=o(162                    ),d=o(1382                              ),l=o(1417                       );let n,y,m=!1;t.prototypeMiddleware=(e=>t=>(function(o){const w=e.getState();switch(o.type){case s.fileBrowser.SHOW_MODAL:return o.payload.type===l.AppModal.FILE_PERMISSIONS_MODAL&&w.selectedView.prototype&&e.dispatch(s.prototype.trackEvent({name:"Prototype Share Opened"})),t(o);case s.fileBrowser.SELECT_VIEW:{const i=w.selectedView&&!w.selectedView.prototype||!w.selectedView;if(o.payload&&o.payload.prototype&&i&&w.user){const t=w.fileByKey[o.payload.viewState.fileKey];setTimeout(()=>{const o=e.getState().selectedView;o&&o.prototype&&t.key===d.editingFileKey(o)&&e.dispatch(s.file.markViewed(t))},4e3)}t(o);const a=e.getState();if(!a.selectedView||!w.selectedView)return;if(!a.selectedView.prototype)return;const r=a.selectedView.viewState,p=w.selectedView.prototype?w.selectedView.viewState:null;if(a.prototype.currentIndex===w.prototype.currentIndex&&r&&p&&p.nodeId!==r.nodeId&&o.payload.fromPopstate){const t=a.prototype.frameIds.indexOf(r.nodeId);if(t>=0)e.dispatch(s.prototype.setCurrentIndex({currentIndex:t}));else{const t="That frame is no longer available as a part of this prototype.";e.dispatch(s.flash.error(t))}}return void(r.commentThreadId&&(e.dispatch(s.prototype.showComments()),setTimeout(()=>{e.dispatch(s.comments.setActiveIfValid({threadId:r.commentThreadId}))},250)))}}if(s.fileBrowser.handleUrlParamsForCurrentView.matches(o)){if(w.selectedView&&w.selectedView.prototype){const t=w.selectedView.viewState,i=p.pathToSelectedView(e,`/proto/${t.fileKey}`,o.payload.params,o.payload.hash);i&&i.viewState.nodeId!==t.nodeId&&(i.viewState.reloadFrames=!0,e.dispatch(s.fileBrowser.selectView(i)))}}else if(s.prototype.setScalingMode.matches(o)){if(o.payload.userInitiated){const t={scalingMode:o.payload.scalingMode};e.dispatch(s.prototype.trackEvent({name:"Prototype Scale Changed",params:t}))}if(w.selectedView&&w.selectedView.prototype&&null!=w.selectedView.viewState){const t=Object.assign({},w.selectedView,{viewState:Object.assign({},w.selectedView.viewState,{scalingMode:o.payload.scalingMode})});e.dispatch(s.fileBrowser.selectView(t))}}else if(s.prototype.setShowHotspots.matches(o)){if(w.selectedView&&w.selectedView.prototype&&null!=w.selectedView.viewState){const t=Object.assign({},w.selectedView,{viewState:Object.assign({},w.selectedView.viewState,{showHotspots:o.payload.showHotspots})});e.dispatch(s.fileBrowser.selectView(t))}}else if(s.prototype.showComments.matches(o))e.dispatch(s.prototype.trackEvent({name:"Prototype Comments Viewed"}));else if(s.prototype.trackEvent.matches(o)){const e=o.payload.params||{},t=d.editingFileKey(w.selectedView);i.trackEventForFile(o.payload.name,t,w,e)}else if(s.prototype.setCurrentTlfBounds.matches(o))e.dispatch(s.comments.setValidCommentsRect({validCommentsRect:o.payload.currentTlfBounds}));else if(s.prototype.setCurrentIndex.matches(o))e.dispatch(s.prototype.disableHotspotsTemp()),e.dispatch(s.prototype.setHoverCursor({showHoverCursor:!1})),e.getState().comments.activeId&&e.dispatch(s.comments.setActive({threadId:null}));else{if(s.team.put.matches(o)||o.type===s.file.PUT||o.type===s.role.PUT||o.type===s.role.POST||o.type===s.role.DELETE||s.orgUser.put.matches(o)){if(w.selectedView&&w.selectedView.prototype){if(w.user){t(o);const s=e.getState(),i=d.editingFileKey(s.selectedView);return void(i&&!r.canViewFile(i,s)&&a.redirect("/"))}let s=o.payload.file;if(s&&s.link_access!==c.LinkAccess.VIEW&&s.link_access!==c.LinkAccess.EDIT)return void a.locationReload("link access revoked, user is logged out and viewing prototype")}return t(o)}if(s.prototype.setTriggerHotspots.matches(o)){if(o.payload.triggerHotspots){if(m)return;if(!o.payload.deferred)return e.dispatch(s.prototype.trackEvent({name:"Prototype Hotspots Revealed"})),clearTimeout(n),clearTimeout(y),e.dispatch(s.prototype.setTriggerHotspots({triggerHotspots:!1})),n=setTimeout(()=>{e.dispatch(s.prototype.setTriggerHotspots({triggerHotspots:!0,deferred:!0}))},20),void(y=setTimeout(()=>{e.dispatch(s.prototype.setTriggerHotspots({triggerHotspots:!1}))},1e3))}}else s.prototype.disableHotspotsTemp.matches(o)&&(clearTimeout(n),clearTimeout(y),e.dispatch(s.prototype.setTriggerHotspots({triggerHotspots:!1})),m=!0,setTimeout(()=>{m=!1},10))}return t(o)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,n){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const t=n(232                        ),a=n(302          );let l=!1;o.reloadMiddleware=(e=>o=>(function(n){if(t.fileBrowser.reloadWhenConvenient.matches(n)){const t=n.payload&&n.payload.now?2e3:120*Math.random()*1e3;return setTimeout(()=>{e.getState().selectedView.fullscreen?l=!0:a.locationReload("Reloading when convenient")},t),o(n)}return n.type!==t.fileBrowser.SELECT_VIEW||n.payload.fullscreen?o(n):(l&&a.locationReload("Reloading after leaving fullscreen"),o(n))})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=a(34,1   ),r=a(347                         ),l=a(97      ),s=a(79,1            ),i=a(100                     ),d=a(232                        ),p=a(126                     ),c=a(1471                    ),n=a(173                        ),_=a(220                      ),y=a(1417                       ),u=a(196                        ),m=a(252                ),f=a(219                );function h(e,t,a,o,r,l){if(a in t&&o in t[a]){let s=t[a][o];if(r===p.PermissionLevel.NONE){let t=e.getState().user,a=t&&s.user_id===t.id;if(s.resource_type!==p.ResourceType.FILE&&s.resource_type!==p.ResourceType.FOLDER||s.pending)s.resource_type!==p.ResourceType.TEAM||s.pending||o!==t.id?e.dispatch(d.role.del(s,!0,a)):e.dispatch(d.fileBrowser.showModal({type:y.AppModal.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:s.resource_id_or_key}}));else{let t=e.getState().modalShown;e.dispatch(d.fileBrowser.showModal({type:y.AppModal.CONFIRM_REMOVE_ROLE_MODAL,data:{roleToRemove:s,onConfirmRemove:()=>{!t||a&&s.resource_type===p.ResourceType.FILE||e.dispatch(d.fileBrowser.showModal(t))},onCancel:()=>{t&&e.dispatch(d.fileBrowser.showModal(t))}}}))}}else s=Object.assign({},s,{level:r}),e.dispatch(d.role.put(s,!0,l))}}function E(e,t){e.appData&&e.appData.fetchedRoles||(t.dispatch(d.file.fetchedRoles(e)),l.default.get(`/api/roles/${p.ResourceType.FILE}/${e.key}`).then(e=>{let a=e.data.meta;for(let o of a)t.dispatch(d.role.post(o))}))}function I(e,t){e.appData&&e.appData.fetchedRoles||(t.dispatch(d.folder.fetchedRoles(e)),l.default.get(`/api/roles/${p.ResourceType.FOLDER}/${e.id}`).then(e=>{let a=e.data.meta;for(let o of a)t.dispatch(d.role.post(o))}))}function S(e,t){e.appData&&e.appData.fetchedRoles||(t.dispatch(d.team.fetchedRoles({team:e})),l.default.get(`/api/roles/${p.ResourceType.TEAM}/${e.id}`).then(e=>{let a=e.data.meta;for(let o of a)t.dispatch(d.role.post(o))}))}t.default=(e=>t=>(function(a){switch(a.type){case d.fileBrowser.SELECT_VIEW:{t(a);let o=e.getState(),r=c.getEditingFile(o);if(o.user&&r)E(r,e);else if(o.selectedView.adminTeamId){const t=o.selectedView.adminTeamId;S(o.teams[t],e)}return}case d.fileBrowser.SHOW_MODAL:{const o=e.getState();if(a.payload.type===y.AppModal.FILE_PERMISSIONS_MODAL){const t=o.fileByKey[a.payload.data.fileKey];if(E(t,e),t.folder_id&&o.folders[t.folder_id]&&I(o.folders[t.folder_id],e),t.team_id&&t.team_id in o.roles.byTeamId){const a=o.teams[t.team_id];a&&S(a,e)}}else if(a.payload.type===y.AppModal.FOLDER_PERMISSIONS_MODAL){const t=o.folders[a.payload.data.folderId];if(t&&I(t,e),t&&t.team_id&&t.team_id in o.roles.byTeamId){const a=o.teams[t.team_id];a&&S(a,e)}}return t(a)}case d.role.DELETE:{let o=()=>{let t=e.getState(),o=a.payload.role;switch(o.resource_type){case p.ResourceType.FILE:if(!n.canViewFile(o.resource_id_or_key,t)){t.modalShown&&t.modalShown.type===y.AppModal.FILE_PERMISSIONS_MODAL&&t.modalShown.data.fileKey===o.resource_id_or_key&&e.dispatch(d.fileBrowser.hideModal());let a=t.fileByKey[o.resource_id_or_key];a&&e.dispatch(d.file.deleteFilesForever({[a.key]:!0},!1)),e.dispatch(d.library.deleteComponentsForFile({fileKey:o.resource_id_or_key}))}break;case p.ResourceType.FOLDER:if(!n.canViewFolder(o.resource_id_or_key,t)){t.modalShown&&t.modalShown.type===y.AppModal.FOLDER_PERMISSIONS_MODAL&&t.modalShown.data.folderId===o.resource_id_or_key&&e.dispatch(d.fileBrowser.hideModal()),e.dispatch(d.folder.del({id:o.resource_id_or_key}));const a=t.fileKeysByFolderId[o.resource_id_or_key]||[];for(let t of a)e.dispatch(d.library.deleteComponentsForFile({fileKey:t}))}break;case p.ResourceType.TEAM:if(!n.canViewTeam(o.resource_id_or_key,t)){let a=t.teams[o.resource_id_or_key];a&&e.dispatch(d.team.del({userInitiated:!1,team:a}))}}};if(a.payload.userInitiated){const r=a.payload.role;return _.trackEventForRole("Role Deleted",r,e.getState()),i.optimisticRequest({requestPromise:l.default.del(`/api/roles/${r.id}`).then(o),fallbackError:"An error occurred while removing this user.",store:e,next:t,action:a})}return t(a),void o()}case d.role.POST:return t(a);case d.role.PUT:if(a.payload.userInitiated){const o=a.payload.role;let r=Object.assign({},a.payload.role);a.payload.cascade&&(r.cascade=!0),_.trackEventForRole("Role Permissions Changed",o,e.getState(),{level:o.level});let p=i.getOptimisticTransactionID();return l.default.put(`/api/roles/${o.id}`,r).then(()=>{e.dispatch({type:null,optimist:{type:s.COMMIT,id:p}})}).catch(t=>{if(t.data)if("NEEDS_UPGRADE"===t.data.reason){const t=n.getResourceTeamId(o,e.getState());e.dispatch(d.fileBrowser.showModal({type:y.AppModal.UPSELL_ADD_EDITOR_MODAL,data:{teamId:t}}))}else t.data.message&&e.dispatch(d.flash.error(t.data.message));else e.dispatch(d.flash.error("An error occurred while changing this user's permissions."));e.dispatch({type:null,optimist:{type:s.REVERT,id:p}})}),(a=Object.assign({},a)).optimist={type:s.BEGIN,id:p},t(a)}return t(a);case d.role.SEND_INVITES:{let s=e.getState().contacts,i=a.payload.emails,c=a.payload.resourceType,h=a.payload.resourceIdOrKey,E=a.payload.level,I={};for(let t of i){let a=s[t],o={id:`temp-role-${t}`,created_at:(new Date).getTime(),user_id:a?a.id:null,user:a||{email:t,id:null,img_url:null,handle:null},resource_type:c,resource_id_or_key:h,level:E,pending:!0,updated_at:`${new Date}`};I[t]=o,e.dispatch(d.role.post(o))}return l.default.post("/api/invites",{emails:i,resource_type:c,resource_id_or_key:h,level:E}).then(({data:t})=>{let o=e.getState();for(let a of t.meta.invites){const t=a.user&&a.user.email;_.trackEventForRole("Role Invite Sent",a,o,{level:a.level,roleUserEmail:t}),e.dispatch(d.role.post(a))}if(a.payload.selectViewByTeamResourceId&&(a.payload.resourceType===p.ResourceType.TEAM?"variant"===u.pickTreatment("exp_add_collaborators_01")?(e.dispatch(d.team.setLoading({loading:!1})),e.dispatch(d.fileBrowser.selectView({upgradeTeamId:h,viewState:{paymentStep:m.PaymentStep.UPGRADE_NEW_TEAM,previousView:{teamId:h}}}))):e.dispatch(d.fileBrowser.selectViewByTeamId(h)):console.error(`Received non-team resource type '${a.payload.resourceType}' when \`selectViewByTeamResourceId\` was true`)),t.meta.over_editor_limit&&!a.payload.hidePaywall){const a=n.getResourceTeamId(t.meta.invites[0],e.getState());e.dispatch(d.fileBrowser.showModal({type:y.AppModal.UPSELL_ADD_EDITOR_MODAL,data:{teamId:a,invitesSent:t.meta.invites.length}}))}}).catch(({response:t})=>{let a=`An error occurred while sending ${1===i.length?"this invite":"these invites"}.`;try{a=(t=JSON.parse(t)).message}catch(l){}"VERIFY_EMAIL"===t.message&&(f.segmentTrackEvent("Error Inviting - Email Not Verified"),a=o.createElement("div",null,"Please verify your email to send invites. ",o.createElement("a",{onClick:()=>{e.dispatch(d.user.sendValidationEmail())},style:{color:r.FIGMA_WHITE,textDecoration:"underline",cursor:"pointer"}},"Resend confirmation email"),".")),e.dispatch(d.flash.error(a));for(let o of i)e.dispatch(d.role.del(I[o]))}),t(a)}case d.role.RESEND_INVITE:return l.default.post("/api/invites/resend",{email:a.payload.role.user.email,resource_type:a.payload.role.resource_type,resource_id_or_key:a.payload.role.resource_id_or_key}).then(()=>{e.dispatch(d.flash.flash("Invite email sent again!"))}).catch(({response:t})=>{try{t=JSON.parse(t),e.dispatch(d.flash.error(t.message))}catch(a){e.dispatch(d.flash.error("An unexpected error occurred."))}}),t(a);case d.role.SET_USER_FILE_PERMISSION:{let o=e.getState().roles;return h(e,o.byFileKey,a.payload.fileKey,a.payload.userId,a.payload.level),t(a)}case d.role.SET_USER_FOLDER_PERMISSION:{let o=e.getState().roles;return h(e,o.byFolderId,a.payload.folderId,a.payload.userId,a.payload.level,a.payload.cascade),t(a)}case d.role.SET_USER_TEAM_PERMISSION:{let o=e.getState().roles;return h(e,o.byTeamId,a.payload.teamId,a.payload.userId,a.payload.level),t(a)}}return t(a)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,s){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const t=s(232                        ),n=s(1418            );let u=null;a.saveStatusMiddleware=(e=>a=>(function(s){if(t.fullscreen.setSaveStatus.matches(s)){let i=e.getState();return i.editingFileKey&&(i.saveStatus&&!i.saveStatus.hasUnsavedChanges&&s.payload.hasUnsavedChanges?u=setTimeout(()=>{e.dispatch(t.visualBell.enqueue({type:"unsaved_changes",message:"The document has unsaved changes. Figma will continue to try auto-saving your work.",button:{text:"Dismiss",action:()=>e.dispatch(t.visualBell.dequeue({type:"unsaved_changes"}))},timeout:6e4})),n.reportUnsavedChangesBell(i.editingFileKey),u=null},6e4):i.saveStatus&&i.saveStatus.hasUnsavedChanges&&!s.payload.hasUnsavedChanges&&(e.dispatch(t.visualBell.dequeue({type:"unsaved_changes"})),clearTimeout(u),navigator.onLine&&null===u&&e.dispatch(t.visualBell.enqueue({message:"Changes saved",timeout:2e3})))),a(s)}return t.fullscreen.close.matches(s)?(e.dispatch(t.visualBell.dequeue({type:"unsaved_changes"})),clearTimeout(u),a(s)):a(s)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";var i=this&&this.__awaiter||function(e,t,r,i){return new(r||(r=Promise))(function(a,s){function l(e){try{c(i.next(e))}catch(t){s(t)}}function n(e){try{c(i.throw(e))}catch(t){s(t)}}function c(e){e.done?a(e.value):new r(function(t){t(e.value)}).then(l,n)}c((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const a=r(301           ),s=r(219          ),l=r(97      ),n=r(357                  ),c=r(232                        ),u=r(0                    ),o=r(1474                          );let f,h=Date.now();function d(e){let t=e.getState(),r=[];for(let i in t.fileByKey)n.isTrashed(i,e.getState())||r.push(t.fileByKey[i]);return r}const _=a.debounce((e,t,r)=>i(this,void 0,void 0,function*(){let i=Date.now(),a=e.getState();if(!t)return e.dispatch(c.fileBrowser.setFileSearchResults([])),void(h=i);try{let u={query:t};a.currentOrgId&&(u.org_id=a.currentOrgId);let o=yield l.default.get("/api/search/files",u);if(r&&i>h){let t=[];for(let e of o.data.meta)e.key in a.fileByKey&&t.push(a.fileByKey[e.key]);e.dispatch(c.fileBrowser.setFileSearchResults(t)),h=i}}catch(n){s.segmentTrackEvent("ServerSideSearch-Error: An uncaught error returned during search retrieval",{query:t}),r&&i>h&&e.dispatch(c.fileBrowser.setFileSearchResults([]))}}),100,!1);let y=!1,S=!1;function E(e,t){let r=u.initialOptions().feature_flags,i=r&&r.server_side_search_dark_launch,a=r&&r.server_side_search_live_launch;(i||a)&&_(e,t,a),a||e.dispatch(c.fileBrowser.setFileSearchResults(function(e){return e.length>32&&(e=e.replace(/[|\\{}()[\]^$+*?.]/,"\\$&")),f.search(e)}(t)))}t.search=(e=>t=>(function(r){if(c.fileBrowser.hydrate.matches(r))return t(r),f=new o.SearchLibrary(d(e),{keys:["name"],threshold:.3}),r;switch(r.type){case c.file.POST:case c.file.PUT:case c.file.RECENT_FILE_POST:case c.file.RECENT_FILE_PUT:case c.file.DELETE_FILES:case c.file.RESTORE_TRASHED_FILES:return t(r),f.set(d(e)),r;case c.fileBrowser.SET_FILE_SEARCH_QUERY:return t(r),E(e,r.payload.query),r;case c.fileBrowser.SEARCH_RESULT_CLICKED:return s.segment.track("Search Result Clicked",{index:r.payload.index}),S=!0,t(r);case c.fileBrowser.SELECT_VIEW:if(t(r),!e.getState().selectedView.searchResults&&y&&(s.segment.track("Search Mode Closed",{anyResultsClicked:S}),y=!1,S=!1),e.getState().selectedView.searchResults){let t=e.getState().fileSearch.query;t&&E(e,t),y||(y=!0,S=!1)}return;default:return t(r)}})),t.default=t.search,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=i(97      ),l=i(79,1            ),s=i(100                     ),n=i(232                        ),d=i(521                                   ),p=i(1426                               );let r=!1,c=1;const o=Object.create(null),y=e=>{o[e]=o[e]||Object.create(null);const t=(()=>c++)();return o[e][t]=!0,t},u=(e,t)=>{e in o&&t in o[e]&&delete o[e][t]},f=e=>Object.keys(o[e]||{}).length>0;t.styleFilesMiddleware=(e=>t=>(function(i){if(i.type===n.fileBrowser.SELECT_VIEW){if(i.payload.fullscreen){if(r)return t(i);if(!e.getState().user)return t(i);const a={};e.getState().currentOrgId&&(a.org_id=e.getState().currentOrgId),r=!0}return t(i)}if(n.styleFile.put.matches(i)){const a=i.payload.styleFile;let l=e.getState(),s=l.styleFiles[a.id];return(!s||Date.parse(s.updated_at)<Date.parse(a.updated_at))&&(t(i),i.payload.userInitiated&&!f(a.id))?void e.dispatch(n.styleFile.putStyleSet({userInitiated:!1,id:a.id,checkpointId:a.checkpoint_id,styleSet:l.styleSets[a.id]})):void e.dispatch(n.styleFile.getStyleSet({id:a.id}))}if(n.styleFile.getStyleSet.matches(i)){if(f(i.payload.id))return t(i);const l=e.getState(),s=l.styleFiles[i.payload.id];let r=l.styleSets[s.id];return r&&r.checkpointId===s.checkpoint_id?t(i):(a.default.get(s.canvas_url,null,{responseType:"arraybuffer"}).then(({data:t})=>{p.fullscreen.onReady().then(()=>{d.decodeStyleFile(t,t=>{t&&e.dispatch(n.styleFile.putStyleSet({userInitiated:!1,id:s.id,checkpointId:s.checkpoint_id,styleSet:t}))})})}),t(i))}if(n.styleFile.putStyleSet.matches(i)){if(i.payload.userInitiated){const p=s.getOptimisticTransactionID();(i=Object.assign({},i)).optimist={type:l.BEGIN,id:p};const r=i.payload.styleSet,c=d.encodeStyleFile(r),o={canvas_count:1,client_meta:null,style_file_id:i.payload.id,parts:[{name:"canvas",mime:"application/x-figma",length:c.length},{name:"thumbnail",mime:"image/png",length:0}]};let f=new FormData;f.append("manifest",JSON.stringify(o)),f.append("canvas",new Blob([c],{type:"application/x-figma"})),f.append("thumbnail",new Blob([new Uint8Array(0)],{type:"image/png"}));const g=y(i.payload.id);return a.default.post("/api/upnode/checkpoint",f,{headers:{"X-Csrf-Bypass":"yes"},raw:!0}).then(({data:a})=>{u(i.payload.id,g);const s=JSON.parse(a).meta.style_file;e.dispatch(n.styleFile.put({styleFile:s,userInitiated:!0})),t({type:null,optimist:{type:l.COMMIT,id:p}})}).catch(()=>{u(i.payload.id,g),e.dispatch(n.styleFile.getStyleSet({id:i.payload.id})),e.dispatch(n.flash.error("An error occurred while trying to save these colors.")),t({type:null,optimist:{type:l.REVERT,id:p}})}),t(i)}return t(i)}return t(i)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(97      ),d=a(79,1            ),r=a(232                        ),s=a(301           ),m=a(219          ),n=a(1474                          ),o=a(173                        ),l=a(100                     ),c=a(172                     ),p=a(1417                       ),h=a(220               ),u=a(371                       ),f=new n.SearchLibrary([],{keys:["name","email"],threshold:.3,tokenize:!0,shouldSort:!0}),A={[u.LibraryPreferencesModalTab.FONTS]:p.AppModal.SHARED_FONTS_MODAL,[u.LibraryPreferencesModalTab.LIBRARIES]:p.AppModal.LIBRARY_PREFERENCES_MODAL};t.fetchSummary=(e=>i.default.get(`/api/subscriptions/team/${e}/summary`).then(({data:e})=>e.meta)),t.fetchEditors=(e=>i.default.get(`/api/teams/${e}/editors`).then(({data:t})=>{const a=t.meta.editors;for(let i of a)i.team_id=e;return a})),t.fetchRoles=((e,t)=>i.default.get(`/api/teams/${e}/users/${t}/editor_roles`).then(({data:e})=>{return e.meta}));t.fetchCharges=((e,t)=>{let a=`/api/subscriptions/team/${e}/charges`;return t&&(a+=`/${t}`),i.default.get(a).then(({data:e})=>{return e.meta})}),t.demoteUserRoles=((e,t)=>i.default.post(`/api/teams/${e}/users/${t}/revoke_editor`));const y=s.debounce((e,t)=>{e.dispatch(r.teamAdmin.setSearchResults({searchResults:f.search(t)}))},200);t.teamAdminMiddleware=(e=>a=>(function(i){if(i.type===r.fileBrowser.SELECT_VIEW&&i.payload.adminTeamId){const t=i.payload.adminTeamId,d=e.getState();return o.canAdminTeam(t,d)?(e.dispatch(r.teamAdmin.initBillingDetails({teamId:t})),a(i)):void e.dispatch(r.fileBrowser.selectView({teamId:t}))}if(i.type===r.fileBrowser.SELECT_VIEW&&i.payload.adminInvoicesTeamId){const t=i.payload.adminInvoicesTeamId,d=e.getState();return o.canAdminTeam(t,d)?(e.dispatch(r.teamAdmin.initCharges({teamId:t})),a(i)):void e.dispatch(r.fileBrowser.selectView({teamId:t}))}if(i.type===r.fileBrowser.SELECT_VIEW&&i.payload.teamId&&i.payload.viewState&&i.payload.viewState.teamPreferencesModalTab){a(i);const t=i.payload.viewState;e.dispatch(r.fileBrowser.showModal({type:A[t.teamPreferencesModalTab]}))}else{if(r.team.put.matches(i)){const t=i.payload.team.id,d=e.getState().teams[t];a(i);const s=e.getState(),m=e.getState().teams[t];return!i.payload.userInitiated&&m.subscription&&d&&null==d.subscription&&(s.selectedView.upgradeTeamId===m.id?(e.dispatch(r.fileBrowser.selectView({adminTeamId:m.id})),e.dispatch(r.teamAdmin.fetchSummary({teamId:m.id}))):s.selectedView.adminTeamId===m.id&&e.dispatch(r.teamAdmin.fetchSummary({teamId:m.id}))),void(!i.payload.userInitiated&&null==m.subscription&&d&&d.subscription&&(s.selectedView.adminTeamId===m.id?e.dispatch(r.teamAdmin.setBillingSummary({summary:null})):s.selectedView.addAnnualPlanTeamId===m.id&&(e.dispatch(r.fileBrowser.selectView({adminTeamId:m.id})),e.dispatch(r.teamAdmin.setBillingSummary({summary:null})))))}if(r.teamAdmin.initBillingDetails.matches(i)){e.dispatch(r.teamAdmin.fetchEditors({teamId:i.payload.teamId}));const t=e.getState().teams[i.payload.teamId];return c.isTeamPro(t)&&e.dispatch(r.teamAdmin.fetchSummary({teamId:i.payload.teamId})),a(i)}if(r.teamAdmin.fetchEditors.matches(i))return t.fetchEditors(i.payload.teamId).then(t=>{e.dispatch(r.teamAdmin.setEditors({editors:t}))}).catch(()=>{e.dispatch(r.flash.error("An error occurred while retrieving your team editors."))}),a(i);if(r.teamAdmin.fetchSummary.matches(i))return t.fetchSummary(i.payload.teamId).then(t=>{e.dispatch(r.teamAdmin.setBillingSummary({summary:t}))}).catch(()=>{e.dispatch(r.flash.error("An error occurred while retrieving your billing summary."))}),a(i);if(r.teamAdmin.initCharges.matches(i))return a(i),void e.dispatch(r.teamAdmin.fetchMoreCharges({teamId:i.payload.teamId}));if(r.teamAdmin.fetchMoreCharges.matches(i)){if(e.getState().teamAdmin.recentCharges.loading)return;const d=e.getState().teamAdmin.recentCharges.charges,s=d&&d.length?d[d.length-1].id:null;return t.fetchCharges(i.payload.teamId,s).then(t=>{t.length&&e.dispatch(r.teamAdmin.appendCharges({charges:t})),t.length<25&&e.dispatch(r.teamAdmin.noMoreChargesToFetch())}).catch(()=>{e.dispatch(r.flash.error("An error occurred while retrieving your invoices."))}),a(i)}if(r.teamAdmin.setEditors.matches(i))return f.set(i.payload.editors),e.dispatch(r.teamAdmin.getAdmins()),a(i);if(!r.teamAdmin.getAdmins.matches(i)&&!r.teamAdmin.setBillingSummary.matches(i)&&i.type!==r.role.POST){if(r.teamAdmin.setQuery.matches(i))return y(e,i.payload.query),a(i);if(i.type===r.fileBrowser.SHOW_MODAL&&i.payload.type===p.AppModal.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR){const{editor:e}=i.payload.data;return h.trackModalView({modal:p.AppModal.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR,teamId:e.team_id,editorId:e.id}),a(i)}if(i.type===r.fileBrowser.SHOW_MODAL&&i.payload.type===p.AppModal.TEAM_ADMIN_USER_DETAILS_MODAL){const{editor:t}=i.payload.data;return e.dispatch(r.teamAdmin.initUserDetails({editor:t})),a(i)}if(r.teamAdmin.initUserDetails.matches(i)){const{editor:d}=i.payload;return h.trackModalView({modal:p.AppModal.TEAM_ADMIN_USER_DETAILS_MODAL,teamId:d.team_id,editorId:d.id}),t.fetchRoles(d.team_id,d.id).then(t=>{e.dispatch(r.teamAdmin.setUserRoles({roles:t}))}),a(i)}if(r.teamAdmin.demoteUserRoles.matches(i)){const{editor:s}=i.payload;m.segment&&m.segment.track("Team Editor Demoted",{teamId:s.team_id,editorId:s.id});let n=l.getOptimisticTransactionID();return t.demoteUserRoles(s.team_id,s.id).then(()=>{e.dispatch({type:null,optimist:{type:d.COMMIT,id:n}})}).catch(()=>{e.dispatch(r.flash.error("An error occurred while downgrading this user's permissions.")),e.dispatch({type:null,optimist:{type:d.REVERT,id:n}}),e.dispatch(r.teamAdmin.getAdmins())}),(i=Object.assign({},i)).optimist={type:d.BEGIN,id:n},a(i),void e.dispatch(r.teamAdmin.getAdmins())}return a(i)}{const t=e.getState().selectedView.adminTeamId;if(!t)return a(i);a(i);const d=e.getState(),s=d.teamAdmin.billingDetails;if(!s.loadingSummary&&!s.loadingEditors){if(i.type===r.role.POST&&o.getResourceTeamId(i.payload.role,d)!==t)return;const a={};o.getTeamAdmins(t,d).forEach(e=>{a[e.id]=!0});const m=s.editors.filter(e=>a[e.id]||!1);e.dispatch(r.teamAdmin.setAdmins({admins:m}))}}}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=i(80,1    ),r=i(232                        ),s=i(1382                              ),o=i(604                             ),l=i(340                                 ),a=i(1426                               ),d=i(520                                    ),c=i(339             );function p(e,t=c.NEXT_PAGE){const i=e.getState(),n=s.editingFileKey(i.selectedView);if(!n)return;if(i.versionHistory.loading)return;e.dispatch(r.versionHistory.toggleLoading({loading:!0}));c.paginate(`/api/versions/${n}`,30,i.versionHistory,t).then(i=>{if(n!==s.editingFileKey(e.getState().selectedView))return;const o=i;e.dispatch(r.versionHistory.append({history:o,direction:t}))})}let u=null;t.default=(e=>t=>(function(i){if(i.type===r.fileBrowser.SELECT_VIEW){const n=e.getState(),o=n.selectedView&&s.editingFileKey(n.selectedView),l=t(i),a=e.getState();return(a.selectedView&&s.editingFileKey(a.selectedView))!==o&&e.dispatch(r.versionHistory.reset()),l}if(r.fullscreen.enterVersionHistoryMode.matches(i)){const s=e.getState();let o=n(s.versionHistory.lastFetched);return n(new Date).diff(o,"minutes")>30&&(e.dispatch(r.versionHistory.reset()),p(e,c.PREV_PAGE)),t(i)}if(r.versionHistory.loadMore.matches(i))return p(e),t(i);if(!r.versionHistory.setActive.matches(i))return t(i);{if(i.payload.id===l.CURRENT_VERSION)return a.fullscreen.sendMessage("loadFigFileForPreview",{}),t(i);t(i);const n=e.getState();let r=l.getActiveVersion(n.versionHistory);if(!r)return;let s=function(e,t){let i=null,n=new XMLHttpRequest;return n.open("GET",e),n.onload=(()=>{i=new Uint8Array(n.response)}),n.onloadend=(()=>{t(i)}),n.responseType="arraybuffer",n.send(),n}(r.canvas_url,t=>{s===u&&(u=null,e.getState().mirror.appModel.topLevelMode===o.TopLevelMode.HISTORY&&d.migrateOldFigFile(t).then(e=>{a.fullscreen.sendMessage("loadFigFileForPreview",null,e)}))});u=s}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=e(232                        ),a=e(396                       );o.default=(t=>o=>(function(e){if(i.tooltip.showAfterDelay.matches(e)){let l=setTimeout(()=>{t.dispatch(i.tooltip.showImmediately({target:e.payload.target,targetRect:e.payload.targetRect,position:e.payload.position,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}))},e.payload.timeoutDelay);return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.PENDING,position:e.payload.position,target:e.payload.target,targetRect:e.payload.targetRect,timeoutID:l,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}})),o(e)}if(i.tooltip.showImmediately.matches(e))return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.SHOWING,position:e.payload.position,target:e.payload.target,targetRect:e.payload.targetRect,timeoutID:null,maxWidth:e.payload.maxWidth,interactive:e.payload.interactive}})),o(e);if(i.tooltip.hide.matches(e))return t.dispatch(i.tooltip.update({tooltip:{state:a.TooltipState.NONE,position:a.TooltipPosition.BELOW,target:null,targetRect:null,timeoutID:null,interactive:!1}})),o(e);if(i.tooltip.hideAfterDelay.matches(e)){let a=t.getState();if(null===a.tooltip.timeoutID){let o=setTimeout(()=>{t.dispatch(i.tooltip.hide())},e.payload.timeoutDelay);t.dispatch(i.tooltip.update({tooltip:Object.assign({},a.tooltip,{timeoutID:o})}))}return o(e)}if(i.tooltip.cancelHideAfterDelay.matches(e)){let a=t.getState();return t.dispatch(i.tooltip.update({tooltip:Object.assign({},a.tooltip,{timeoutID:null})})),o(e)}if(i.tooltip.update.matches(e)){let i=t.getState();return null!==i.tooltip.timeoutID&&i.tooltip.timeoutID!=e.payload.tooltip.timeoutID&&clearTimeout(i.tooltip.timeoutID),o(e)}return o(e)})),t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(232                        ),o=s(176              ),p=s(1504                                       );t.default=(e=>t=>(function(s){if(!o.desktopApp)return t(s);if(s.type===i.fileBrowser.SELECT_VIEW){const i=e.getState(),r=s.payload;if(r&&r.fullscreen||o.desktopApp.isFileBrowserTab()&&r.prototype){const{fileKey:t,commentThreadId:s}=r.viewState;if(o.desktopApp.isFileBrowserTab()||i.selectedView&&i.selectedView.prototype||i.editingFileKey&&i.editingFileKey!==t){let t=p.selectedViewToPath(e,r);return r.fullscreen&&s&&(t+=`#${s}`),void(window.location.href=t)}}if(!o.desktopApp.isFileBrowserTab()){if(!r||!r.fullscreen&&!r.prototype){const t=p.selectedViewToPath(e,r);return void(t&&(window.location.href=t))}if(r.fullscreen){const{fileKey:e}=r.viewState;e&&o.desktopApp.setFileKey(e)}else r.prototype&&o.desktopApp.setLoading(!1)}return t(s)}if(!i.fullscreen.attemptClose.matches(s)){if(i.fullscreen.setSaveStatus.matches(s)){if(!o.desktopApp.isFileBrowserTab()){const e=!s.payload.hasUnsavedChanges;o.desktopApp.setSaved(e)}return t(s)}if(i.fullscreen.documentLoaded.matches(s))return o.desktopApp.isFileBrowserTab()||o.desktopApp.setLoading(!1),t(s);if(s.type===i.file.DELETE_FILES){let t=e.getState();t.editingFileKey&&s.payload.fileKeys[t.editingFileKey]&&o.desktopApp.close(!0)}return t(s)}o.desktopApp.showFileBrowser()})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(97      ),r=i(232                        ),a=i(1362                                 ),s=i(301           ),n=i(100                     ),c=i(220                      ),l=i(126                     ),d=(e,t,i)=>{const o=t.locals.team_id;e.dispatch(r.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:r.fileBrowser.selectViewByTeamId(o).payload,actionsIfNotHydrating:[r.library.updateComponentsForResource({resourceType:l.ResourceType.TEAM,resourceIdOrKey:o})]}))},f=(e,t,i,o,a)=>{let s;s=a?{prototype:!0,viewState:{fileKey:t,commentThreadId:o,nodeId:a}}:{fullscreen:!0,viewState:{commentThreadId:o,fileKey:t}},e.dispatch(r.orgs.selectViewAndLoadItsResources({orgId:i,selectedView:s}))};t.goToComment=((e,t,i)=>{const r=t.locals,a=r.comment_parent_id||r.comment_id;let s=null,n=!1;if(r.prototype){const i=e.getState(),c=i.comments&&i.comments.commentsById[a];c?s=c.client_meta&&c.client_meta.node_id:(n=!0,o.default.get(`/api/file/${r.file_key}/comments/${a}`).then(({data:i})=>{s=i.meta&&i.meta.client_meta&&i.meta.client_meta.node_id,f(e,r.file_key,t.parent_org_id,a,s)}).catch(i=>{f(e,r.file_key,t.parent_org_id,a,null)}))}n||f(e,r.file_key,t.parent_org_id,a,s)});const u={[a.UserNotificationType.AT_MENTION]:t.goToComment,[a.UserNotificationType.AT_MENTION_INVITE]:t.goToComment,[a.UserNotificationType.FILE_COMMENT]:t.goToComment,[a.UserNotificationType.FILE_COMMENT_REPLY]:t.goToComment,[a.UserNotificationType.INVITE_FILE]:(e,t,i)=>{const o=t.locals.file_key;e.dispatch(r.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:{fullscreen:!0,viewState:{fileKey:o}},actionsIfNotHydrating:[r.library.updateComponentsForResource({resourceType:l.ResourceType.FILE,resourceIdOrKey:o})]}))},[a.UserNotificationType.INVITE_FOLDER]:(e,t,i)=>{const o=t.locals.folder_id;e.dispatch(r.orgs.selectViewAndLoadItsResources({orgId:t.parent_org_id,selectedView:r.fileBrowser.selectViewByFolderId(o).payload,actionsIfNotHydrating:[r.library.updateComponentsForResource({resourceType:l.ResourceType.FOLDER,resourceIdOrKey:o})]}))},[a.UserNotificationType.INVITE_TEAM]:d,[a.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_APPROVED]:()=>{},[a.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_CREATED]:()=>{},[a.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_DENIED]:()=>{},[a.UserNotificationType.TEAM_ROLE_REQUEST_CREATED]:d,[a.UserNotificationType.TEAM_ROLE_REQUEST_APPROVED]:d,[a.UserNotificationType.TEAM_ROLE_REQUEST_DENIED]:(e,t,i)=>{const o=t.locals.parent_org_id;e.dispatch(r.orgs.selectViewAndLoadItsResources({orgId:o,selectedView:r.fileBrowser.selectView({recentFiles:!0}).payload}))}};function p(e){return u[e]}t.goToView=p;const _=s.debounce(e=>{const t=e.getState();let i,s=t.currentOrgId,n=s||a.PERSONAL_BELL_ID;if(i=t.userNotifications.bellStates[n]){let t={isBellStateHigh:!1,userInitiated:!0,notificationSpaceId:n};e.dispatch(r.userNotifications.setBell(t))}let c={current_org_id:s};o.default.get("/api/user_notifications",c).then(({data:t})=>{const i=t.meta;e.dispatch(r.userNotifications.insertNotifications({notifications:i}))}).catch(()=>{e.dispatch(r.flash.flash("An error occurred while fetching your notifications")),e.dispatch(r.fileBrowser.hideDropdown()),e.dispatch(r.userNotifications.reset())})},800,!0);t.userNotificationsMiddleware=(e=>t=>(function(i){if(r.userNotifications.get.matches(i))c.trackEventForUser("Notification Dropdown Opened",e.getState()),_(e);else{if(r.userNotifications.resolve.matches(i)){const r=e.getState().userNotifications.feed.byId[i.payload.notificationId];return c.trackEventForUserNotification("Notification Resolved",r.id,e.getState()),n.optimisticRequest({requestPromise:o.default.put("/api/user_notifications",{id:r.id,resolved_at:"true"}).then(t=>{p(r.view)(e,r,{fromResolve:!0})}),fallbackError:"An error occurred while removing this notification.",store:e,next:t,action:i})}if(r.userNotifications.selectView.matches(i)){const o=e.getState().userNotifications.feed.byId[i.payload.notificationId];return p(o.view)(e,o,{fromResolve:!1}),c.trackEventForUserNotification("Notification Clicked",o.id,e.getState()),t(i)}if(r.userNotifications.reject.matches(i)){if(i.payload.userInitiated){const r=i.payload.notificationId;return c.trackEventForUserNotification("Notification Rejected",r,e.getState()),n.optimisticRequest({requestPromise:o.default.put("/api/user_notifications",{id:r,rejected_at:"true"}),fallbackError:"An error occurred while removing this notification.",store:e,next:t,action:i})}}else{if(r.userNotifications.markAllAsRead.matches(i)){let r=e.getState(),a=r.currentOrgId;c.trackEventForUser("All Notifications Read",r);let s={current_org_id:a};return n.optimisticRequest({requestPromise:o.default.post("/api/user_notifications/mark_read",s),fallbackError:"An error occurred while marking all the notifications as read.",store:e,next:t,action:i})}if(r.userNotifications.setBell.matches(i)&&i.payload.userInitiated){let r="0"==i.payload.notificationSpaceId?null:i.payload.notificationSpaceId,a={bell:i.payload.isBellStateHigh,current_org_id:r};return n.optimisticRequest({requestPromise:o.default.put("/api/user_notifications_bell",a),fallbackError:"An error occurred while marking all the notifications as read.",store:e,next:t,action:i})}}}return t(i)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const i=t(232                        ),l=t(302          );n.appWindowMiddleware=(e=>{if(!l.capabilities.fullscreen)return e=>(function(n){return e(n)});const n=[];function t(){for(const e of n)e();n.splice(0,n.length)}function c(e,t){const i=t.payload&&t.payload.element?t.payload.element:document.documentElement;i?(n.push(()=>e(t)),l.capabilities.requestFullscreenFunc.call(i)):e(t)}function a(t,c){l.capabilities.getFullscreenElement()?(n.push(()=>t(c)),l.capabilities.exitFullscreenFunc()):(e.dispatch(i.appWindow.didExitFullScreen()),t(c))}return document.addEventListener(l.capabilities.fullscreenChangeEventName,function(n){const c=e.getState();l.capabilities.getFullscreenElement()&&!c.appWindow.inFullScreenMode?e.dispatch(i.appWindow.didEnterFullScreen()):c.appWindow.inFullScreenMode&&e.dispatch(i.appWindow.didExitFullScreen()),t()}),document.addEventListener(l.capabilities.fullscreenErrorEventName,function(n){console.warn("failed to enter fullscreen:",n),e.getState().appWindow.inFullScreenMode&&e.dispatch(i.appWindow.didExitFullScreen()),t()}),n=>(function(t){const l=e.getState();if(!i.appWindow.toggleFullScreen.matches(t)){if(i.appWindow.enterFullScreen.matches(t)){if(l.appWindow.inFullScreenMode)return void c(n,t)}else if(i.appWindow.exitFullScreen.matches(t)&&!l.appWindow.inFullScreenMode)return void a(n,t);return n(t)}l.appWindow.inFullScreenMode?a(n,t):c(n,t)})}),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(232                        ),s=t(1345                                 ),i=t(744                                   ),o=t(173                        ),d=t(332                       ),n=t(167                        ),g=t(168                    ),c=t(1382                              ),l=t(562                                                                ),p=t(615        ),h=t(219          ),m=t(97      ),f=t(1417                       );r.orgsMiddleware=(e=>r=>(function(t){if(a.orgs.switchActiveOrg.matches(t)){e.dispatch(a.fileBrowser.setFileBrowserLoading({show:!0}));const r=e.getState().currentOrgId;d.setLastSelectedOrgId(t.payload.orgId),h.segmentTrackEvent("file-browser-hydrate",{location:"switchActiveOrg"}),d.getUserStateRequest().then(s=>{e.dispatch(a.realtime.reset()),e.dispatch(a.fileBrowser.hydrate(s.data.meta)),t.payload.orgId===r||e.getState().selectedView&&e.getState().selectedView.userId||e.dispatch(a.fileBrowser.selectView({recentFiles:!0})),e.dispatch(a.fileBrowser.setFileBrowserLoading({show:!1}))})}else if(a.orgs.selectViewAndLoadItsResources.matches(t)){const r=e.getState();c.selectedViewHasMissingResources(t.payload.selectedView,r)?(d.setLastSelectedOrgId(t.payload.orgId),h.segmentTrackEvent("file-browser-hydrate",{location:"selectViewAndLoadItsResources"}),d.getUserStateRequest().then(r=>{e.dispatch(a.realtime.reset()),e.dispatch(a.fileBrowser.hydrate(r.data.meta)),e.dispatch(a.fileBrowser.selectView(t.payload.selectedView))})):(t.payload.actionsIfNotHydrating&&t.payload.actionsIfNotHydrating.forEach(e.dispatch),e.dispatch(a.fileBrowser.selectView(t.payload.selectedView)))}else{if(a.orgSamlConfig.generateToken.matches(t))return m.default.post(`/api/org_saml_config/${t.payload.orgSamlConfigId}/scim_api_token`).then(r=>{e.dispatch(a.fileBrowser.showModal({type:f.AppModal.PROVISIONING_API_TOKEN_MODAL,data:{provisioningApiToken:r.data.meta.scim_api_token,onConfirm:()=>{e.dispatch(a.fileBrowser.hideModal())},onCancel:()=>{e.dispatch(a.fileBrowser.hideModal())}}})),e.dispatch(a.orgSamlConfig.set({orgSamlConfig:r.data.meta.org_saml_config}))}).catch(r=>{e.dispatch(a.flash.flash(r.data&&r.data.message||"An error occurred while generating scim api token.",5e3)),console.error(r)}),r(t);if(a.orgSamlConfig.revokeToken.matches(t))return m.default.del(`/api/org_saml_config/${t.payload.orgSamlConfigId}/scim_api_token`).then(r=>{e.dispatch(a.orgSamlConfig.set({orgSamlConfig:r.data.meta}))}).catch(r=>{e.dispatch(a.flash.flash(r.data&&r.data.message||"An error occurred while revoking scim api token.",5e3)),console.error(r)}),r(t);if(a.fileBrowser.hydrate.matches(t)){r(t);const s=e.getState(),i=s.orgById[s.currentOrgId],o=s.user&&s.orgUsersByOrgId.orgUsers[s.currentOrgId]&&s.orgUsersByOrgId.orgUsers[s.currentOrgId][s.user.id];if(!i||!o)return;if(i.standing!==g.OrgStanding.GOOD||"members"!==s.orgDashboard.selectedAdminView)return;if(o.permission===n.OrgPermissionType.GUEST)return;return void e.dispatch(a.orgRoster.get({orgId:s.currentOrgId}))}if(a.orgs.selectAdminView.matches(t)){const r=e.getState(),d=r.orgById[r.currentOrgId];o.canAdminOrg(r.currentOrgId,o.getPermissionsState(r))&&d.stripe_customer_id&&null==r.orgBillingHistory&&e.dispatch(a.orgBillingHistory.get({org_id:r.currentOrgId})),"general"===t.payload.view?(r.orgTeams.isFetching||e.dispatch(a.orgTeam.get({})),r.orgDomains.isFetching||e.dispatch(a.orgDomains.getAll()),r.orgUsersByOrgId.isFetching||r.idpUserById.isFetching||e.dispatch(a.orgRoster.get({orgId:r.currentOrgId}))):"members"===t.payload.view?(r.orgUsersByOrgId.isFetching||r.idpUserById.isFetching||e.dispatch(a.orgRoster.get({orgId:r.currentOrgId})),e.dispatch(a.orgRoster.clearUserIds())):"billing"===t.payload.view?e.dispatch(a.orgBillingHistory.get({org_id:r.currentOrgId})):"teams"===t.payload.view?(r.orgTeams.isFetching||e.dispatch(a.orgTeam.get({includeProjectCount:!0,includeMemberCount:!0})),e.dispatch(s.getPendingTeamRoleRequests())):"library"===t.payload.view||("fonts"===t.payload.view?l.SharedFonts.fontLoadPromise||l.SharedFonts.loadedFonts||(l.SharedFonts.fontLoadPromise=i.fetchSharedFonts(),l.SharedFonts.fontLoadPromise.then(r=>{e.dispatch(a.sharedFonts.updateSharedFontList(r)),l.SharedFonts.fontLoadPromise=null,l.SharedFonts.loadedFonts=!0})):p.assertNever(t.payload.view))}}switch(t.type){case a.fileBrowser.SELECT_VIEW:if(t.payload.configureSSO)e.dispatch(a.orgDomains.getAll()),e.dispatch(a.orgSamlConfig.get());else if(t.payload.viewState&&t.payload.viewState.orgDashboardTab)return r(t),e.dispatch(a.fileBrowser.showModal({type:f.AppModal.ORG_DASHBOARD_MODAL})),void e.dispatch(a.orgs.selectAdminView({view:t.payload.viewState.orgDashboardTab}))}return r(t)})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(139                                    ),a=s(1417                       ),n=s(219          ),l=s(232                        );t.sharedFonts=(e=>t=>(function(s){const i=()=>{e.dispatch(l.fileBrowser.showModal({type:a.AppModal.SHARED_FONTS_MODAL}))};if(l.sharedFonts.uploadFontSuccess.matches(s)||l.sharedFonts.uploadFontFailure.matches(s)){if(t(s),l.sharedFonts.uploadFontSuccess.matches(s))n.segmentTrackEvent("shared_fonts_upload_success");else if(l.sharedFonts.uploadFontFailure.matches(s))switch(s.payload.status){case 403:n.segmentTrackEvent("shared_fonts_upload_invalid_permissions");break;case 409:n.segmentTrackEvent("shared_fonts_upload_collision",{canOverwrite:!!s.payload.collision});break;case 422:n.segmentTrackEvent("shared_fonts_upload_invalid_font");break;default:n.segmentTrackEvent("shared_fonts_upload_failure",{status:s.payload.status})}const{uploadsRemaining:a,unsuccessfulUploads:r,collisions:d,warnings:c}=e.getState().sharedFonts,u=e.getState().modalShown,h=u&&("SHARED_FONTS_MODAL"===u.type||"ORG_DASHBOARD_MODAL"===u.type);0===Object.keys(a).length&&(h||(0===r.length?(e.dispatch(l.visualBell.enqueue({type:"shared-fonts",message:"Shared font import complete",icon:o.VisualBellIcon.CHECK,timeout:5e3})),e.dispatch(l.sharedFonts.clearFontUploadResults())):e.dispatch(l.visualBell.enqueue({type:"shared-fonts",message:`Shared font import complete with ${r.length} ${r.length>1?"errors":"error"}`,icon:o.VisualBellIcon.EXCLAMATION,timeout:5e3,error:!0,button:{text:"Review",action:i}}))),0===r.length&&0===d.length&&0===c.length&&e.dispatch(l.sharedFonts.clearFontUploadResults()))}else{if(!l.sharedFonts.deleteFontComplete.matches(s))return l.sharedFonts.uploadFonts.matches(s)?s.payload.overwrite?n.segmentTrackEvent("shared_fonts_overwrite_collision"):n.segmentTrackEvent("shared_fonts_upload",{count:s.payload.fonts.length}):l.sharedFonts.deleteFonts.matches(s)?n.segmentTrackEvent("shared_fonts_delete_font",{count:Object.keys(e.getState().sharedFonts.fontsToDelete).length}):l.sharedFonts.dismissFontCollision.matches(s)&&n.segmentTrackEvent("shared_fonts_skip_collision"),t(s);{t(s);const{unsuccessfulDeletes:a,successfulDeletes:n}=e.getState().sharedFonts,i=a.length,r=a.length+n.length;i>0?e.dispatch(l.visualBell.enqueue({type:"font_deleted",message:`Unable to delete ${i} of ${r} ${r>1?"fonts":"font"}.`,icon:o.VisualBellIcon.EXCLAMATION,timeout:5e3,error:!0})):e.dispatch(l.visualBell.enqueue({type:"font_deleted",message:`Deleted ${r} ${r>1?"fonts":"font"}.`,icon:o.VisualBellIcon.CHECK,timeout:5e3}))}}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";var i=this&&this.__awaiter||function(e,t,s,i){return new(s||(s=Promise))(function(r,o){function n(e){try{a(i.next(e))}catch(t){o(t)}}function c(e){try{a(i.throw(e))}catch(t){o(t)}}function a(e){e.done?r(e.value):new s(function(t){t(e.value)}).then(n,c)}a((i=i.apply(e,t||[])).next())})};Object.defineProperty(t,"__esModule",{value:!0});const r=s(232                        ),o=s(96         ),n=s(301           ),c=s(1474                          ),a=s(270                          );var l;!function(e){e[e.IDP_USER=0]="IDP_USER",e[e.ORG_USER=1]="ORG_USER"}(l||(l={}));const u=[{name:"name",weight:1},{name:"email",weight:1}];class m{constructor(){this.items=[],this.filter=(e=>{const t=e.orgRoster.filters,s=[];if(!t.accountTypeFilter&&!t.permissionFilter)return this.items;if(t.permissionFilter===a.OrgPermissionExtendedFilters.IDP)return s;for(const i of this.items){let e=!t.accountTypeFilter||t.accountTypeFilter===i.account_type,r=!t.permissionFilter||t.permissionFilter===i.permission;e&&r&&s.push(i)}return s}),this.getItems=(e=>this.filter(e))}setItems(e){this.items=[];for(let t in e.orgUsersByOrgId.orgUsers[e.currentOrgId]){const s=e.orgUsersByOrgId.orgUsers[e.currentOrgId][t],i={id:s.id,permission:s.permission,account_type:s.account_type,name:s.user.handle,email:s.user.email,user_id:s.user_id,type:l.ORG_USER};this.items.push(i)}}}class h{constructor(){this.items=[],this.filter=(e=>{const t=e.orgRoster.filters;return!t.accountTypeFilter&&!t.permissionFilter||t.permissionFilter===a.OrgPermissionExtendedFilters.IDP?this.items:[]}),this.getItems=(e=>this.filter(e))}setItems(e){this.items=[];for(let t in e.idpUserById.idpUsers){const s=e.idpUserById.idpUsers[t],i={id:s.id,name:s.name,email:s.email,type:l.IDP_USER};this.items.push(i)}}}t.orgRosterResults=new class{constructor(){this.searchLib=new c.ScoredSearchLibrary([],{keys:u,threshold:.1,matchAllTokens:!0,tokenize:!1,shouldSort:!0}),this.filteredResults=[],this.debouncedComputeResults=n.debounce(e=>{this.computeResults(e)},200),this.updateSources=((e,t=!1)=>{this.dataSources.forEach(t=>t.setItems(e.getState())),this.filteredResults=[].concat(...this.dataSources.map(t=>t.getItems(e.getState()))),this.searchLib.set(this.filteredResults),t?this.computeResults(e):this.debouncedComputeResults(e)}),this.computeResults=(e=>{(t=>i(this,void 0,void 0,function*(){let s=[];if(t.orgRoster.searchQuery)s=yield this.searchLib.search(t.orgRoster.searchQuery);else for(let e of this.filteredResults)s.push({item:e,score:0});const i=t.orgRoster.sort;i.type===a.OrgRosterSortType.NAME?o.sortAlphabeticallyByFn(s,e=>e.item.name,i.isDescending):i.type===a.OrgRosterSortType.EMAIL&&o.sortAlphabeticallyByFn(s,e=>e.item.email,i.isDescending);const n=s.map(e=>e.item.type===l.ORG_USER?{id:e.item.id,user_id:e.item.user_id}:{id:e.item.id,user_id:null});e.dispatch(r.orgRoster.setRosterMembers({members:n}))}))(e.getState())}),this.dataSources=[new m,new h]}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(232                        ),o=t(1528                              ),u=t(171                      );s.orgRosterResultsMiddleware=(e=>s=>(function(t){if(r.orgUser.set.matches(t)||r.idpUser.batchPost.matches(t)){s(t);const r=e.getState();"members"!==r.orgDashboard.selectedAdminView||r.orgUsersByOrgId.isFetching||r.idpUserById.isFetching||o.orgRosterResults.updateSources(e)}else if(r.orgUser.put.matches(t)){s(t);const r=e.getState();u.getOrgUserForId(r.orgUsersByOrgId.orgUsers[r.currentOrgId],t.payload.orgUser.id)&&"members"===r.orgDashboard.selectedAdminView&&o.orgRosterResults.updateSources(e)}else{if(r.orgRoster.setQuery.matches(t))return s(t),void o.orgRosterResults.debouncedComputeResults(e);if(r.orgRoster.setSortConfig.matches(t))return s(t),o.orgRosterResults.debouncedComputeResults.cancel(),void o.orgRosterResults.computeResults(e);if(r.orgRoster.setFilters.matches(t))return s(t),o.orgRosterResults.debouncedComputeResults.cancel(),void o.orgRosterResults.updateSources(e,!0);if(!r.orgUser.batchDel.matches(t))return s(t);{s(t);const r=e.getState();r.currentOrgId===t.payload.orgId&&"members"===r.orgDashboard.selectedAdminView&&o.orgRosterResults.updateSources(e,!0)}}})),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0}),a.FigFilesDataType="text/plain",a.ArbitraryDataType="application/json",a.FileDataType="Files";a.DataTransferWrapper=class{constructor(t){this._dataTransfer=t,this._containsType(a.FileDataType)&&(this._type=a.FileDataType,this._data=this._dataTransfer.getData(a.FileDataType));for(let s of[a.ArbitraryDataType,a.FigFilesDataType])if(this._containsType(s)&&(this._type=s,this._dataTransfer.getData(s)))try{this._data=JSON.parse(this._dataTransfer.getData(s))}catch(e){}}_containsType(t){return!!this._dataTransfer.types&&-1!==Array.from(this._dataTransfer.types).indexOf(t)}_setDataAsText(){this._dataTransfer.setData(this._type,JSON.stringify(this._data))}setArbitraryData(t){this._type=a.ArbitraryDataType,this._data=t,this._setDataAsText()}setFigFilesData(t){this._type=a.FigFilesDataType,this._data=t,this._setDataAsText()}setDragImage(t,a,e){this._dataTransfer.setDragImage&&this._dataTransfer.setDragImage(t,a,e)}isArbitraryData(){return this._type===a.ArbitraryDataType}isFigFiles(){return this._type===a.FigFilesDataType}isFile(){return this._type===a.FileDataType}getData(){return this._data}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,o,i){t.exports={page:"activity_logs--page--3HgYu",section:"activity_logs--section--NVHoo",backToRecents:"activity_logs--backToRecents--2C260",activityLogHeaderRow:"activity_logs--activityLogHeaderRow--kFVlD",header:"activity_logs--header--2MyDf",emptyState:"activity_logs--emptyState--3d3gz",newQuerySpinner:"activity_logs--newQuerySpinner--gLr9y",table:"activity_logs--table--3vZj5 table--table--1iaQ5",row:"activity_logs--row--2-LOC",column:"activity_logs--column--3RvbU table--column--CuH34",columnVertical:"activity_logs--columnVertical--1_8mn activity_logs--column--3RvbU table--column--CuH34",actor:"activity_logs--actor--3wJ6Y",actorColumn:"activity_logs--actorColumn--1Hvaj activity_logs--actor--3wJ6Y activity_logs--columnVertical--1_8mn activity_logs--column--3RvbU table--column--CuH34",actorHeaderColumn:"activity_logs--actorHeaderColumn--2NpvH activity_logs--actor--3wJ6Y activity_logs--column--3RvbU table--column--CuH34",tableCellSubtext:"activity_logs--tableCellSubtext--2dQIW",teamColumn:"activity_logs--teamColumn--2Zy-g activity_logs--column--3RvbU table--column--CuH34",eventDescriptionColumn:"activity_logs--eventDescriptionColumn--1ZulZ activity_logs--column--3RvbU table--column--CuH34",date:"activity_logs--date--14TpZ",dateColumn:"activity_logs--dateColumn--2OAiP activity_logs--date--14TpZ activity_logs--columnVertical--1_8mn activity_logs--column--3RvbU table--column--CuH34",dateHeaderColumn:"activity_logs--dateHeaderColumn--1bFe6 activity_logs--date--14TpZ activity_logs--column--3RvbU table--column--CuH34",dateSeparator:"activity_logs--dateSeparator--2BJpK",ipColumn:"activity_logs--ipColumn--1OKDz activity_logs--column--3RvbU table--column--CuH34",filters:"activity_logs--filters--3Ql0l activity_logs--section--NVHoo",inputContainer:"activity_logs--inputContainer--15vUS",chevron:"activity_logs--chevron--2jMrm",emailInput:"activity_logs--emailInput--1onQ_",datesContainer:"activity_logs--datesContainer--a7J8I",dateInput:"activity_logs--dateInput--3JSh1",errorMessage:"activity_logs--errorMessage--15wID",errorBorder:"activity_logs--errorBorder--3x_7y",emailErrorInput:"activity_logs--emailErrorInput--3Uu_R activity_logs--emailInput--1onQ_ activity_logs--errorBorder--3x_7y",dateErrorInput:"activity_logs--dateErrorInput--1fBmp activity_logs--dateInput--3JSh1 activity_logs--errorBorder--3x_7y",dropdownContainer:"activity_logs--dropdownContainer--3VyKx",dropdownScrollClip:"activity_logs--dropdownScrollClip--20KJO",dropdown:"activity_logs--dropdown--qfRRG",dropdownSelector:"activity_logs--dropdownSelector--2BGmA basic_form--textInput--3ZlM2 basic_form--input--3cO2P",dropdownHeader:"activity_logs--dropdownHeader--1yG3_",eventsDropdownSelector:"activity_logs--eventsDropdownSelector--1TNRb activity_logs--dropdownSelector--2BGmA basic_form--textInput--3ZlM2 basic_form--input--3cO2P",teamsDropdownSelector:"activity_logs--teamsDropdownSelector--3Olrb activity_logs--dropdownSelector--2BGmA basic_form--textInput--3ZlM2 basic_form--input--3cO2P",tableNavigation:"activity_logs--tableNavigation--3CtB8",scrollToTop:"activity_logs--scrollToTop--36bYT",arrowIcon:"activity_logs--arrowIcon--2dzi0",loadMoreSpinner:"activity_logs--loadMoreSpinner--3MBWB",loadButton:"activity_logs--loadButton--24FG6",filterButton:"activity_logs--filterButton--1MtsF activity_logs--loadButton--24FG6"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(80,1    ),r=a(34,1   ),l=a(38,1       ),s=a(232                        ),i=a(159                          ),o=a(173                        ),m=a(126                     ),c=a(1417                       ),d=a(1306                                           ),p=a(558                           ),u=a(1361                                                          ),h=a(1367                                          ),g=a(147                                        ),_=a(283         ),E=a(279         ),v=a(408                                  ),f=a(204                                            ),b=a(144                        ),w=a(1531                 ),C=a(1400                                 ),y=a(1136                                           );t.getEventDescription=((e,t,a)=>{switch(e.event_name){case"fig_file_create":return e.metadata.folder_name?r.createElement("span",null,"Created a new file in the ",r.createElement("b",null,e.metadata.folder_name)," project"):r.createElement("span",null,"Created a new file in their Drafts project");case"fig_file_duplicate":return r.createElement("span",null,"Duplicated the ",r.createElement("b",null,e.metadata.name)," file");case"fig_file_export":return r.createElement("span",null,"Exported the contents of the ",r.createElement("b",null,e.metadata.name)," file");case"fig_file_move":return e.metadata.folder_name?r.createElement("span",null,"Moved the ",r.createElement("b",null,e.metadata.name)," file to the ",r.createElement("b",null,e.metadata.folder_name)," project"):r.createElement("span",null,"Moved the ",r.createElement("b",null,e.metadata.name)," file to their Drafts folder");case"fig_file_link_access_change":switch(e.metadata.link_access){case"edit":return r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.name)," to allow anyone with the link to edit");case"inherit":return r.createElement("span",null,"Removed link access for ",r.createElement("b",null,e.metadata.name));case"org_edit":return e.metadata.org_browsable?r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.name)," to allow anyone at ",r.createElement("b",null,t)," to edit"):r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.name)," to allow anyone at ",r.createElement("b",null,t)," with the link to edit");case"org_view":return e.metadata.org_browsable?r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.name)," to allow anyone at ",r.createElement("b",null,t)," to view"):r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.name)," to allow anyone at ",r.createElement("b",null,t)," with the link to view");case"view":return r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.name)," to allow anyone with the link to view");default:(e=>{throw new Error(`Invalid link access ${e}`)})(e.metadata.link_access)}case"fig_file_permanent_delete":return r.createElement("span",null,"Permanently deleted ",r.createElement("b",null,e.metadata.name));case"fig_file_permanent_undelete":return r.createElement("span",null,"Restored ",r.createElement("b",null,e.metadata.name));case"fig_file_rename":return r.createElement("span",null,"Renamed ",r.createElement("b",null,e.metadata.old_name)," to ",r.createElement("b",null,e.metadata.name));case"fig_file_restore":return r.createElement("span",null,"Restored ",r.createElement("b",null,e.metadata.name)," from the trash");case"fig_file_save_as":return r.createElement("span",null,"Saved ",r.createElement("b",null,e.metadata.name)," as a .fig file");case"fig_file_trash":return r.createElement("span",null,"Moved ",r.createElement("b",null,e.metadata.name)," to the trash");case"fig_file_view":return r.createElement("span",null,"Viewed ",r.createElement("b",null,e.metadata.name));case"fig_file_view_prototype":return r.createElement("span",null,"Viewed ",r.createElement("b",null,e.metadata.name)," as a prototype");case"folder_create":return r.createElement("span",null,"Created the ",r.createElement("b",null,e.metadata.name)," project in the ",r.createElement("b",null,e.metadata.team_name)," team");case"folder_delete":return r.createElement("span",null,"Deleted the ",r.createElement("b",null,e.metadata.name)," project");case"folder_move":return r.createElement("span",null,"Moved the ",r.createElement("b",null,e.metadata.name)," project to the ",r.createElement("b",null,e.metadata.team_name)," team");case"folder_rename":return r.createElement("span",null,"Renamed the project ",r.createElement("b",null,e.metadata.old_name)," to ",r.createElement("b",null,e.metadata.name));case"folder_team_access_change":return e.metadata.invite_only?r.createElement("span",null,"Removed team access for the ",r.createElement("b",null,e.metadata.name)," project"):e.metadata.view_only?r.createElement("span",null,"Changed the team access of the ",r.createElement("b",null,e.metadata.name)," project to view"):r.createElement("span",null,"Changed the team access of the ",r.createElement("b",null,e.metadata.name)," project to edit");case"org_user_create":return a===e.metadata.user_email?r.createElement("span",null,"Joined the ",r.createElement("b",null,t)," Organization as ",r.createElement("b",null,o.orgPermissionName(e.metadata.permission))):r.createElement("span",null,"Added ",r.createElement("b",null,e.metadata.user_email)," to the ",r.createElement("b",null,t)," Organization as ",r.createElement("b",null,o.orgPermissionName(e.metadata.permission)));case"org_user_delete":return r.createElement("span",null,"Removed ",r.createElement("b",null,e.metadata.user_email)," from the ",r.createElement("b",null,t)," Organization");case"org_user_permission_change":return r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.user_email)," to ",r.createElement("b",null,o.orgPermissionName(e.metadata.permission))," for the ",r.createElement("b",null,t)," Organization");case"org_user_account_type_change":return r.createElement("span",null,"Changed ",r.createElement("b",null,e.metadata.user_email)," from ",r.createElement("b",null,o.getOrgAccountTypeString(e.metadata.old_account_type))," to the ",r.createElement("b",null,o.getOrgAccountTypeString(e.metadata.account_type))," account type");case"org_user_account_type_upgrade_requested":return r.createElement("span",null,"Requested an account type upgrade to ",r.createElement("b",null,"Full"));case"org_user_account_type_upgrade_approved":return r.createElement("span",null,"Approved an account type upgrade request from ",r.createElement("b",null,e.metadata.requested_user_email));case"org_user_account_type_upgrade_denied":return r.createElement("span",null,"Rejected an account type upgrade request from ",r.createElement("b",null,e.metadata.requested_user_email));case"fig_file_member_add":case"folder_member_add":case"team_member_add":{const t=e.metadata;return t.user_email===a?t.level===m.PermissionLevel.OWNER?void 0:r.createElement("span",null,"Joined the ",r.createElement("b",null,t.resource_name)," ",t.resource_type):r.createElement("span",null,"Added ",r.createElement("b",null,t.user_email)," to the ",r.createElement("b",null,t.resource_name)," ",t.resource_type," as ",r.createElement("b",null,o.levelRoleName(t.level)))}case"fig_file_member_remove":case"folder_member_remove":case"team_member_remove":return e.metadata.user_email===a?r.createElement("span",null,"Left the ",r.createElement("b",null,e.metadata.resource_name)," ",e.metadata.resource_type):r.createElement("span",null,"Removed ",r.createElement("b",null,e.metadata.user_email)," from the ",r.createElement("b",null,e.metadata.resource_name)," ",e.metadata.resource_type);case"fig_file_member_permission_change":case"folder_member_permission_change":case"team_member_permission_change":{const t=e.metadata,a=o.levelRoleName(t.old_level),n=o.levelRoleName(t.level);return r.createElement("span",null,"Changed ",r.createElement("b",null,t.user_email)," from ",r.createElement("b",null,a)," to ",r.createElement("b",null,n)," for the ",r.createElement("b",null,t.resource_name)," ",t.resource_type)}case"team_create":return r.createElement("span",null,"Created the ",r.createElement("b",null,e.metadata.team_name)," team with ",r.createElement("b",null,o.orgAccessStrings[e.metadata.org_access])," access");case"team_delete":return r.createElement("span",null,"Deleted the ",r.createElement("b",null,e.metadata.team_name)," team");case"team_rename":return r.createElement("span",null,"Renamed the ",r.createElement("b",null,e.metadata.old_name)," team to ",r.createElement("b",null,e.metadata.team_name));case"team_org_access_change":{const t=o.orgAccessStrings[e.metadata.old_org_access],a=o.orgAccessStrings[e.metadata.org_access];return r.createElement("span",null,"Changed the ",r.createElement("b",null,e.metadata.team_name)," team from ",r.createElement("b",null,t)," to ",r.createElement("b",null,a))}case"user_sign_in":return r.createElement("span",null,"Signed in");case"user_sign_out":return r.createElement("span",null,"Signed out");default:return function(e){throw new Error(`${e.event_name} is an unknown event name.`)}(e)}});const D="HEADER",N=[{value:null,description:"All Events"},{value:D,description:"Files"},{value:["fig_file_create"],description:"Created a file"},{value:["fig_file_duplicate"],description:"Duplicated a file"},{value:["fig_file_export"],description:"Exported a file"},{value:["fig_file_link_access_change"],description:"File link access changed"},{value:["fig_file_member_add","fig_file_member_permission_change","fig_file_member_remove"],description:"File membership changed"},{value:["fig_file_move"],description:"Moved a file"},{value:["fig_file_permanent_delete"],description:"Permanently deleted a file"},{value:["fig_file_permanent_undelete","fig_file_restore"],description:"Restored a file"},{value:["fig_file_rename"],description:"Renamed a file"},{value:["fig_file_save_as"],description:"Saved a file"},{value:["fig_file_trash"],description:"Trashed a file"},{value:["fig_file_view"],description:"Viewed a file"},{value:["fig_file_view_prototype"],description:"Viewed a prototype"},{value:D,description:"Projects"},{value:["folder_create"],description:"Created a project"},{value:["folder_delete"],description:"Deleted a project"},{value:["folder_member_add","folder_member_permission_change","folder_member_remove"],description:"Project membership changed"},{value:["folder_move"],description:"Moved a project"},{value:["folder_rename"],description:"Renamed a project"},{value:["folder_team_access_change"],description:"Changed the team access of a project"},{value:D,description:"Teams"},{value:["team_create"],description:"Created a team"},{value:["team_delete"],description:"Deleted a team"},{value:["team_member_add","team_member_permission_change","team_member_remove"],description:"Team membership changed"},{value:["team_rename"],description:"Renamed a team"},{value:["team_org_access_change"],description:"Changed the org access of a team"},{value:D,description:"Organizations"},{value:["org_user_create","org_user_permission_change","org_user_delete"],description:"Org membership changed"},{value:["org_user_account_type_change","org_user_account_type_upgrade_requested","org_user_account_type_upgrade_approved","org_user_account_type_upgrade_denied"],description:"Org account type changed"},{value:D,description:"Users"},{value:["user_sign_in","user_sign_out"],description:"User signed in/signed out"}];class T extends r.PureComponent{constructor(e){super(e),this.pageDivRef=(e=>{this.pageDiv=l.findDOMNode(e)}),this.scrollToTop=(()=>{this.pageDiv.scrollIntoView(!0)}),this.backToRecents=(()=>{this.props.dispatch(s.fileBrowser.selectView({recentFiles:!0})),this.props.dispatch(s.orgs.selectAdminView({view:"general"})),this.props.dispatch(s.fileBrowser.showModal({type:c.AppModal.ORG_DASHBOARD_MODAL}))}),this.isFilterButtonDisabled=(()=>{const e=this.props.activityLogs.lastQuery,t=this.displayedFilterParams(),a=e.eventName||[],n=t.eventName||[];return e.date.start===t.date.start&&e.date.end===t.date.end&&(e.actorEmail||"")===(t.actorEmail||"")&&(e.teamId||"")===(t.teamId||"")&&a.length===n.length&&a.every((e,t)=>n[t]===e)}),this.fetchLogs=(e=>{const t=e?this.displayedFilterParams():this.props.activityLogs.lastQuery;this.props.dispatch(s.activityLogs.get(Object.assign({newQuery:e},t)))}),this.loadMore=(()=>{this.fetchLogs(!1)}),this.filterLogs=(e=>{e.preventDefault();const t=i.validateFilters(this.state.date,this.state.email);t.message||this.fetchLogs(!0),this.setState(Object.assign({},this.state,{error:{message:t.message,field:t.field}}))}),this.updateFilterConfig=(e=>{this.setState(e)}),this.onTeamClick=((e,t)=>{const a=Object.assign({},this.state,{team:{id:e,name:t}});this.updateFilterConfig(a)}),this.onEventClick=((e,t)=>{const a=Object.assign({},this.state,{event:{type:e,description:t}});this.updateFilterConfig(a)}),this.onEmailInputChange=(e=>{const t=Object.assign({},this.state,{email:e.target.value});this.updateFilterConfig(t)}),this.onStartDateChange=(e=>{const t=Object.assign({},this.state,{date:Object.assign({},this.state.date,{start:e.target.value})});this.updateFilterConfig(t)}),this.onEndDateChange=(e=>{const t=Object.assign({},this.state,{date:Object.assign({},this.state.date,{end:e.target.value})});this.updateFilterConfig(t)}),this.renderLogResults=(()=>this.props.activityLogs.isLoading&&this.props.activityLogs.isNewQuery?r.createElement(g.BlueLoadingSpinner,{className:w.newQuerySpinner}):this.props.activityLogs.logs.length>0?r.createElement("div",null,r.createElement(A,{logs:this.props.activityLogs.logs,orgName:this.getOrgName()}),r.createElement("div",{className:w.tableNavigation},this.props.activityLogs.isLoading&&!this.props.activityLogs.isNewQuery?r.createElement(g.BlueLoadingSpinner,{className:w.loadMoreSpinner}):!_.isEmpty(this.props.activityLogs.cursor)&&r.createElement(f.ButtonPrimary,{onClick:this.loadMore,className:w.loadButton},"Load More"),r.createElement("a",{className:w.scrollToTop,onClick:this.scrollToTop},"Go to Top",r.createElement(b.Svg,{className:w.arrowIcon,svg:C})))):r.createElement("div",{className:w.emptyState},"No results were found."));const{today:t,thirtyDaysAgo:a}=i.getThirtyDayEndPoints();this.state={email:this.props.selectedView&&this.props.selectedView.viewState&&this.props.selectedView.viewState.initialEmail||"",team:{id:null,name:"All Teams"},event:{type:null,description:"All Events"},date:{start:a,end:t},error:{field:null,message:null}}}displayedFilterParams(){return{teamId:this.state.team.id,actorEmail:this.state.email,eventName:this.state.event.type,date:{start:this.state.date.start,end:this.state.date.end}}}getOrgName(){return this.props.orgById[this.props.currentOrgId].name}render(){const e=r.createElement("div",{className:w.backToRecents,onClick:this.backToRecents},"Close");return r.createElement("div",null,r.createElement(h.TopBar,Object.assign({title:"Activity Logs",menu:e,centerTitle:!0},this.props)),r.createElement(u.FullWidthPageContent,null,r.createElement("div",{className:w.page,ref:this.pageDivRef},r.createElement("div",{className:w.section},r.createElement("h1",{className:w.header},"Activity Logs"),r.createElement("p",null,"See what's happening in the ",this.getOrgName()," Organization."),r.createElement("p",null,"Date and time are shown in your local time zone.")),r.createElement(k,{filtersConfig:this.state,dropdownShown:this.props.dropdownShown,orgTeams:this.props.orgTeams.teams,onEmailInputChange:this.onEmailInputChange,onEventClick:this.onEventClick,onTeamClick:this.onTeamClick,onStartDateChange:this.onStartDateChange,onEndDateChange:this.onEndDateChange,filterLogs:this.filterLogs,isFilterButtonDisabled:this.isFilterButtonDisabled(),dispatch:this.props.dispatch}),this.renderLogResults())))}}T.displayName="ActivityLogsPage",t.ActivityLogsPage=T;class k extends r.PureComponent{constructor(){super(...arguments),this.EVENT_DROPDOWN="activity-log-events-dropdown",this.TEAM_DROPDOWN="activity-log-teams-dropdown",this.isEventsDropdownShown=(()=>this.isDropdownShown(this.EVENT_DROPDOWN)),this.isTeamsDropdownShown=(()=>this.isDropdownShown(this.TEAM_DROPDOWN)),this.isDropdownShown=(e=>!!this.props.dropdownShown&&this.props.dropdownShown.type===e),this.toggleEventsDropdown=(()=>{this.toggleDropdown(this.isEventsDropdownShown,this.EVENT_DROPDOWN)}),this.toggleTeamsDropdown=(()=>{this.toggleDropdown(this.isTeamsDropdownShown,this.TEAM_DROPDOWN)}),this.toggleDropdown=((e,t)=>{e()?this.props.dispatch(s.fileBrowser.hideDropdown()):this.props.dispatch(s.fileBrowser.showDropdown({type:t}))}),this.renderEventsDropdown=(()=>r.createElement("div",{className:w.dropdownScrollClip},r.createElement(v.dropdown.Dropdown,{className:w.dropdown},N.map(e=>e.value===D?r.createElement(v.dropdown.Option,{className:w.dropdownHeader,disabled:!0,key:`${e.value}-${e.description}`},e.description):r.createElement(O,{key:`${e.value}`,isChecked:this.props.filtersConfig.event.type===e.value,onClick:this.props.onEventClick,value:e.value,text:e.description}))))),this.renderTeamsDropdown=(()=>r.createElement("div",{className:w.dropdownScrollClip},r.createElement(v.dropdown.Dropdown,{className:w.dropdown},r.createElement(O,{isChecked:null==this.props.filtersConfig.team.id,onClick:this.props.onTeamClick,key:"all-teams-header",value:null,text:"All Teams"}),this.props.orgTeams.map(e=>r.createElement(O,{isChecked:this.props.filtersConfig.team.id===e.id,onClick:this.props.onTeamClick,key:`${e.id}`,value:e.id,text:E.truncateText(e.name,40)}))))),this.renderErrorMessage=(()=>r.createElement("div",{className:w.errorMessage},this.props.filtersConfig.error.message)),this.renderDateInput=((e,t,a)=>{const{today:n,thirtyDaysAgo:l}=i.getThirtyDayEndPoints();return r.createElement(f.TextInput,{type:"date",className:t?w.dateErrorInput:w.dateInput,onChange:a,value:e,min:l,max:n})})}render(){const e=this.props.filtersConfig.error.field;return r.createElement("form",{className:w.filters,onSubmit:this.props.filterLogs},r.createElement(S,{showChevron:!1},r.createElement(f.TextInput,{className:"email"===e?w.emailErrorInput:w.emailInput,onChange:this.props.onEmailInputChange,value:this.props.filtersConfig.email,placeholder:"Member email address"}),"email"===e&&this.renderErrorMessage()),r.createElement("div",{className:w.datesContainer},r.createElement(S,{showChevron:!1},this.renderDateInput(this.props.filtersConfig.date.start,"startDate"===e,this.props.onStartDateChange),"startDate"===e&&this.renderErrorMessage()),r.createElement("div",{className:w.dateSeparator},""),r.createElement(S,{showChevron:!1},this.renderDateInput(this.props.filtersConfig.date.end,"endDate"===e,this.props.onEndDateChange),"endDate"===e&&this.renderErrorMessage())),r.createElement(S,{isDropdown:!0},r.createElement("div",{onClick:this.toggleEventsDropdown,className:w.eventsDropdownSelector,tabIndex:0},this.props.filtersConfig.event.description),this.isEventsDropdownShown()&&this.renderEventsDropdown()),r.createElement(S,{isDropdown:!0},r.createElement("div",{onClick:this.toggleTeamsDropdown,className:w.teamsDropdownSelector,tabIndex:0},E.truncateText(this.props.filtersConfig.team.name,25)),this.isTeamsDropdownShown()&&this.renderTeamsDropdown()),r.createElement(f.ButtonPrimary,{className:w.filterButton,disabled:this.props.isFilterButtonDisabled},"Filter"))}}k.displayName="ActivityLogFilters";class S extends r.PureComponent{render(){return r.createElement("div",{className:this.props.isDropdown?w.dropdownContainer:w.inputContainer},this.props.children,this.props.showChevron&&r.createElement(b.Svg,{svg:y,className:w.chevron}))}}S.displayName="ActivityLogInputContainer",S.defaultProps={showChevron:!0};class O extends r.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{this.props.onClick(this.props.value,this.props.text)})}render(){return r.createElement(d.CheckedOption,{isChecked:this.props.isChecked,onClick:this.onClick},this.props.text)}}O.displayName="DropdownOption";class A extends r.PureComponent{render(){return r.createElement("div",{className:w.table},r.createElement(p.TableRow,{className:w.activityLogHeaderRow,header:!0},r.createElement("div",{className:w.actorHeaderColumn},"TEAM MEMBER"),r.createElement("div",{className:w.dateHeaderColumn},"DATE"),r.createElement("div",{className:w.eventDescriptionColumn},"EVENT"),r.createElement("div",{className:w.teamColumn},"TEAM"),r.createElement("div",{className:w.ipColumn},"IP")),this.props.logs.map(e=>{const a=t.getEventDescription(e,this.props.orgName,this.getActorEmail(e));if(a)return r.createElement(p.TableRow,{key:e.id,className:w.row},r.createElement("div",{className:w.actorColumn},r.createElement("div",null,this.getActorName(e)),r.createElement("div",{className:w.tableCellSubtext},this.getActorEmail(e))),r.createElement("div",{className:w.dateColumn},r.createElement("div",null,n(e.created_at).format("MMM Do YYYY")),r.createElement("div",{className:w.tableCellSubtext},n(e.created_at).format("h:mm a"))),r.createElement("div",{className:w.eventDescriptionColumn},a),r.createElement("div",{className:w.teamColumn},e.metadata.team_name||""),r.createElement("div",{className:w.ipColumn},e.ip_address))}))}getActorName(e){return e.is_figma_admin_action?"Figma Support":e.actor?e.actor.email?e.actor.name:"Deleted User":"Anonymous User"}getActorEmail(e){return e.is_figma_admin_action?null:e.actor?e.actor.email?e.actor.email:e.actor.id.toString():null}}A.displayName="ActivityLogsTable",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,c,s){o.exports={orgAccess:"team_org_access_dropdown--orgAccess--3EcsX",orgAccessDropdownContainer:"team_org_access_dropdown--orgAccessDropdownContainer--1J38s",orgAccessDropdown:"team_org_access_dropdown--orgAccessDropdown--3nruu",select:"team_org_access_dropdown--select--2kc12",check:"team_org_access_dropdown--check--A0_JC"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,o){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const c=o(173                        ),t=o(34,1   ),r=o(232                        ),i=o(169                     ),n=o(408                                  ),p=o(1306                                           ),a=o(1533                            );s.orgAccessDescriptions={[i.OrgAccess.PUBLIC]:"Other users in the organization will be able to see and join this team.",[i.OrgAccess.PRIVATE]:"Other users in the organization will be able to see the name of your team but not the files inside until they request to join and are approved by an admin.",[i.OrgAccess.SECRET]:"Other users in the organization will not be able to see that this team exists unless they are explicitly invited to join."};class h extends t.Component{constructor(){super(...arguments),this.TEAM_ORG_ACCESS_DROPDOWN="team-org-access-dropdown",this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_ORG_ACCESS_DROPDOWN),this.toggleOrgAccessDropdown=(e=>{e.stopPropagation(),this.isDropdownShown()?this.props.dispatch(r.fileBrowser.hideDropdown()):this.props.dispatch(r.fileBrowser.showDropdown({type:this.TEAM_ORG_ACCESS_DROPDOWN}))}),this.onClickPublic=(()=>{this.props.onChangeOrgAccess(i.OrgAccess.PUBLIC)}),this.onClickPrivate=(()=>{this.props.onChangeOrgAccess(i.OrgAccess.PRIVATE)}),this.onClickSecret=(()=>{this.props.onChangeOrgAccess(i.OrgAccess.SECRET)})}render(){return t.createElement("div",{className:a.orgAccess},t.createElement("span",{className:a.select,onClick:this.toggleOrgAccessDropdown},c.orgAccessStrings[this.props.orgAccess]),this.isDropdownShown()&&t.createElement("div",{className:a.orgAccessDropdownContainer},t.createElement(n.dropdown.Dropdown,{className:a.orgAccessDropdown},t.createElement(p.CheckedOption,{isChecked:this.props.orgAccess===i.OrgAccess.PUBLIC,onClick:this.onClickPublic},c.orgAccessStrings[i.OrgAccess.PUBLIC]),t.createElement(p.CheckedOption,{isChecked:this.props.orgAccess===i.OrgAccess.PRIVATE,onClick:this.onClickPrivate},c.orgAccessStrings[i.OrgAccess.PRIVATE]),t.createElement(p.CheckedOption,{isChecked:this.props.orgAccess===i.OrgAccess.SECRET,onClick:this.onClickSecret},c.orgAccessStrings[i.OrgAccess.SECRET]))))}}h.displayName="TeamOrgAccessDropdown",s.TeamOrgAccessDropdown=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){e.exports={cancel:"team_creation--cancel--3SNp4",header:"team_creation--header--VkN5L",container:"team_creation--container--r7Nn6",newTeamContainer:"team_creation--newTeamContainer--1IA01",newTeamInput:"team_creation--newTeamInput--30Yh2",createTeamButton:"team_creation--createTeamButton--EYfnR",createTeamButtonOrg:"team_creation--createTeamButtonOrg--1kwB0",createTeamText:"team_creation--createTeamText--29QPD",orgTeamSettings:"team_creation--orgTeamSettings--1n6qa"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),r=a(232                        ),n=a(169                     ),o=a(204                                            ),c=a(1361                                                          ),i=a(1285                                               ),m=a(1367                                          ),l=a(1534                                                                            ),p=a(203                                   ),h=a(196                              ),g=a(1535                 );class d extends s.Component{constructor(e){super(e),this.handleChange=(e=>{this.setState({teamName:e.target.value})}),this.onSubmitForm=(e=>{this.state.teamName?this.props.dispatch(r.team.submitNewTeam({teamName:this.state.teamName,orgAccess:this.state.orgAccess})):this.props.dispatch(r.flash.error("Your team name cannot be empty.")),e.preventDefault(),e.stopPropagation()}),this.formRef=(e=>this.form=e),this.cancel=(()=>{this.props.dispatch(r.fileBrowser.selectView({recentFiles:!0}))}),this.onChangeOrgAccess=(e=>{this.setState({orgAccess:e})}),this.state={teamName:null,orgAccess:n.OrgAccess.PUBLIC}}componentDidMount(){if(this.form)for(let e=0;e<this.form.elements.length;e++){const t=this.form.elements[e];if(!t.value){t.focus();break}}h.trackExperiment("exp_add_collaborators_01")}render(){const e=this.props.currentOrgId?g.createTeamButtonOrg:g.createTeamButton,t=this.props.currentOrgId,a=s.createElement(m.CancelButtonTracked,{onClick:this.cancel},"Cancel");return s.createElement(p.TrackingContext,{name:"Team Creation"},s.createElement("div",null,s.createElement(m.TopBar,Object.assign({title:"New Team",menu:a,centerTitle:!0},this.props)),s.createElement(c.FullWidthPageContent,null,s.createElement(i.StepBreadcrumbSpacer,null),s.createElement("form",{ref:this.formRef,onSubmit:this.onSubmitForm},s.createElement(i.StepTitle,null,"Name your team"),s.createElement("div",{className:g.newTeamContainer},s.createElement(o.BigTextInput,{value:this.state.teamName||"",onChange:this.handleChange,className:g.newTeamInput,maxLength:255,placeholder:"Team name"}),t?s.createElement("div",{className:g.orgTeamSettings},"Access within the organization:",s.createElement(l.TeamOrgAccessDropdown,{orgAccess:this.state.orgAccess,dropdownShown:this.props.dropdownShown,onChangeOrgAccess:this.onChangeOrgAccess,dispatch:this.props.dispatch}),s.createElement("div",{className:g.createTeamText},l.orgAccessDescriptions[this.state.orgAccess])):s.createElement("div",{className:g.createTeamText},"After creating a team, you can invite others to join."),s.createElement(o.BigButtonPrimaryTracked,{className:e,type:"submit",disabled:this.props.teamCreation.loading,onClick:this.onSubmitForm},"Create Team"))))))}}d.displayName="TeamCreationPage",t.TeamCreationPage=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"g7a016758",src:'<svg width="15" height="15" xmlns="http://www.w3.org/2000/svg"><path d="M14.146 14.854l.708-.708-4.272-4.272C11.466 8.83 12 7.477 12 6c0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6 1.477 0 2.83-.534 3.874-1.418l4.272 4.272zM11 6c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,l,s){t.exports={id:"g9b916b8b",src:'<svg width="4" height="6" xmlns="http://www.w3.org/2000/svg"><path d="M.586 4.768l-.354.354.707.707.354-.354-.707-.707zM3.06 3l.354.354L3.768 3l-.354-.353L3.06 3zM1.293.526L.939.172.232.879l.354.354.707-.707zm0 4.95l2.121-2.122-.707-.707L.586 4.768l.707.707zm2.121-2.83L1.293.527l-.707.707 2.12 2.121.708-.707z" fill="#c4c4c4"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g4a8bd12e",src:'<svg width="11" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M5.503.34l.324.274 4.5 3.817-.647.762-3.677-3.118v9.92h-1v-9.92L1.327 5.193.68 4.431 5.18.614 5.503.34z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"gf7b51c94",src:'<svg width="11" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M5.497 11.66l-.324-.274-4.5-3.817.647-.762 3.677 3.118V.005h1v9.92l3.676-3.118.647.762-4.5 3.817-.323.274z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,a,i){e.exports={backToFiles:"team_admin--backToFiles--3tTyp",topBarTitle:"team_admin--topBarTitle--2ZyUx",breadcrumb:"team_admin--breadcrumb--3KpP_",breadcrumbCaret:"team_admin--breadcrumbCaret--1S_b4",billingPage:"team_admin--billingPage--1oxZ7",annualUpsell:"team_admin--annualUpsell--34l1i",cols:"team_admin--cols--3Su10",col:"team_admin--col--cuu-G",loadingInvoice:"team_admin--loadingInvoice--7m0xR",header:"team_admin--header--1luBc",title:"team_admin--title--1L2lw",info:"team_admin--info--3fs6J",blueLink:"team_admin--blueLink--38yoF blue_link--blueLink--22X56",links:"team_admin--links--1OprP team_admin--blueLink--38yoF blue_link--blueLink--22X56",proTeamUpsell:"team_admin--proTeamUpsell--3PV5K",proTeamUpsellContent:"team_admin--proTeamUpsellContent--1-caY",proTeamUpsellTitle:"team_admin--proTeamUpsellTitle--1Ab1q",table:"team_admin--table--3LFRx table--table--1iaQ5",listTitle:"team_admin--listTitle--1iqIs",loadingEditors:"team_admin--loadingEditors--3s0Xg",columnHeaders:"team_admin--columnHeaders--2t-ir table--tableHeaderRow--1FbwE table--row--F9DxE",sortArrow:"team_admin--sortArrow--1Pldg",tableRow:"team_admin--tableRow--1gsl4 table--tableRow--G_VTL table--row--F9DxE",editorRowActions:"team_admin--editorRowActions--3We8u",email:"team_admin--email--3Vvc2 ellipsis--ellipsis--1RWY6",lastActive:"team_admin--lastActive--36CM0",avatar:"team_admin--avatar--3STzG",searchIcon:"team_admin--searchIcon--9tLh1",name:"team_admin--name--TUO-D ellipsis--ellipsis--1RWY6",seeRoles:"team_admin--seeRoles--3GN28 blue_link--blueLink--22X56"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),i=a(38,1       ),n=a(232                        ),r=a(80,1    ),l=a(199      ),o=a(259                          ),c=a(169                     ),m=a(172                     ),d=a(1361                                                          ),p=a(1367                                          ),h=a(349                            ),u=a(144                        ),E=a(201                                      ),g=a(147                                        ),v=a(204                                            ),_=a(1417                       ),y=a(210                              ),w=a(1537                              ),N=a(1538                              ),f=a(1539                           ),S=a(1540                             ),b=a(1287                       ),A="MMM D, YYYY",C=a(1541              ),I=a(220                      );class D extends s.PureComponent{constructor(){super(...arguments),this.backToTeam=(()=>{this.props.dispatch(n.fileBrowser.selectView({teamId:this.props.selectedView.adminTeamId}))}),this.upgrade=(()=>{I.trackCtaClicked({category:[I.CtaCategories.UPGRADE_FLOW,I.CtaCategories.ADMIN_DASHBOARD],text:"upgrade team",type:"button",description:"Team Admin Dashboard Upgrade Team CTA Clicked",teamId:this.props.selectedView.adminTeamId}),this.props.dispatch(n.payment.startProUpgradeFlow({teamId:this.props.selectedView.adminTeamId,selectedView:this.props.selectedView}))}),this.showInvoices=(()=>{this.props.dispatch(n.fileBrowser.selectView({adminInvoicesTeamId:this.props.selectedView.adminTeamId}))}),this.changeInvoiceReceiver=(e=>()=>{let t,a=0;const s=this.props.teamAdmin.billingDetails.admins.filter(s=>{const i=s.id!==e.id;return s.id===this.props.user.id&&i&&(t=a),i&&a++,i});if(t>0){const e=s[t];s.splice(t,1),s.splice(0,0,e)}this.props.dispatch(n.fileBrowser.showModal({type:_.AppModal.TEAM_ADMIN_CHANGE_INVOICE_RECEIVER,data:{teamId:this.props.selectedView.adminTeamId,invoiceReceiver:{id:e.id,name:e.name},admins:s}}))}),this.changePayment=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:_.AppModal.TEAM_ADMIN_CHANGE_PAYMENT,data:{teamId:this.props.selectedView.adminTeamId}}))}),this.changeAnnualPlan=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:_.AppModal.TEAM_ADMIN_CHANGE_ANNUAL_PLAN}))}),this.downgrade=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:_.AppModal.TEAM_ADMIN_DOWNGRADE_SURVEY,data:{teamId:this.props.selectedView.adminTeamId}}))})}componentDidMount(){I.trackPageView({page:"team admin",teamId:this.props.selectedView.adminTeamId})}render(){const e=this.props.teams[this.props.selectedView.adminTeamId],t=s.createElement("div",{className:C.topBarTitle},s.createElement("a",{className:C.breadcrumb,onClick:this.backToTeam},e.student_team&&s.createElement(u.Svg,{svg:b}),e.name),s.createElement(u.Svg,{className:C.breadcrumbCaret,svg:N}),"Admin Dashboard"),a=s.createElement("div",{className:C.backToFiles,onClick:this.backToTeam},"Back to ",e.name),i=e.subscription?"Professional Team":e.student_team?"Student Team":"Starter Team",n=this.props.teamAdmin.billingDetails.billingSummary,l=n&&n.annual_subscription,o=n&&n.monthly_subscription,c=!(!o&&!l),m=e.grace_period_end&&r(e.grace_period_end)>r();let h=!1;c||e.student_team||m||(h=!0);let E=!h;(o&&o.canceled_at||l)&&(E=!1);let g=!!e.subscription;o&&o.manual_invoicing&&(g=!1,E=!1);const v=!!e.subscription;return s.createElement("div",null,s.createElement(p.TopBar,Object.assign({title:t,menu:a,centerTitle:!0},this.props)),s.createElement(d.FullWidthPageContent,null,E&&s.createElement(T,Object.assign({},this.props)),s.createElement("div",{className:C.billingPage},s.createElement("div",{className:C.cols},s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},i),s.createElement("div",{className:C.title},e.name)),s.createElement(P,{team:e,changePayment:this.changePayment,changeAnnualPlan:this.changeAnnualPlan,downgrade:this.downgrade,billingSummary:this.props.teamAdmin.billingDetails.billingSummary}),g&&s.createElement(M,{billingSummary:this.props.teamAdmin.billingDetails.billingSummary,showInvoices:this.showInvoices}),v&&s.createElement(k,{billingSummary:this.props.teamAdmin.billingDetails.billingSummary,changeInvoiceReceiver:this.changeInvoiceReceiver,admins:this.props.teamAdmin.billingDetails.admins,team:e}),s.createElement(R,{team:e,onUpgrade:this.upgrade})),s.createElement(q,Object.assign({},this.props)))))}}D.displayName="TeamAdminPage",t.TeamAdminPage=D;class T extends s.PureComponent{constructor(){super(...arguments),this.addAnnualPlan=(()=>{this.props.dispatch(n.fileBrowser.selectView({addAnnualPlanTeamId:this.props.selectedView.adminTeamId}))})}render(){const e=this.props.teamAdmin.billingDetails.billingSummary;if(!e)return s.createElement("div",null);if(e.annual_subscription)return s.createElement("div",null);const t=this.props.teams[this.props.selectedView.adminTeamId],a=(m.MONTHLY_EDITOR_COST-m.ANNUAL_EDITOR_COST)*t.editors*12;return s.createElement("div",{className:C.annualUpsell},s.createElement("span",null,"Save ",m.formatMoney(a,!0)," a year by switching to an annual plan."),s.createElement(v.ButtonGreen,{onClick:this.addAnnualPlan},"Add Annual Plan"))}}T.displayName="AnnualPlanUpsell";class P extends s.PureComponent{render(){const e=this.props.team,t=e.editors,a=this.props.billingSummary&&this.props.billingSummary.annual_subscription,i=this.props.billingSummary&&this.props.billingSummary.monthly_subscription;if(i&&i.manual_invoicing)return s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Editors on your team"),s.createElement("div",{className:C.title},t," ",1===t?"editor":"editors"));const n=a?Math.min(a.quantity,t):0;let l=!1,o=!1,m=!1;!e.restrictions||e.subscription||e.grace_period_end||(e.restrictions===c.Restrictions.EDITORS_LIMITED||e.restrictions===c.Restrictions.EDITORS_AND_PROJECTS_LIMITED?l=!0:e.restrictions===c.Restrictions.PROJECTS_LIMITED?o=!0:m=!0);const d=r(new Date),p=a&&a.trial_end&&r(a.trial_end),h=a&&r(a.current_period_end),u=h&&r(a.current_period_end).add(-30,"days"),E=a&&a.canceled_at&&r(a.canceled_at),g=i&&r(i.current_period_end),v=i&&i.canceled_at&&r(i.canceled_at),_=!E&&u&&d.isAfter(u),y=i&&!v||a&&!E,w=i&&!v||a&&!E||e.student_team,N=v&&g>d||E&&h>d,f=p&&p.isAfter(d),S=!f&&h&&!E;return s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Editors on your team"),s.createElement("div",{className:C.title},t," ",1===t?"editor":"editors"),l&&s.createElement("div",{className:C.info},"You have reached the editor limit on your Starter Team. For additional editors, please upgrade to a Professional Team."),o&&s.createElement("div",{className:C.info},"You have reached the project limit on your Starter Team. For additional projects, please upgrade to a Professional Team."),m&&s.createElement("div",{className:C.info},"Your team is currently over the limits of a Starter Team. Upgrade to continue using Figma."),a&&s.createElement("div",{className:C.info},n," of ",a.quantity," seats used on your annual plan",f&&s.createElement("span",null,"(starts ",p.format(A),")"),S&&s.createElement("span",null,"(renews ",h.format(A),")")),(i||a||e.student_team)&&s.createElement("div",{className:C.links},_&&s.createElement("div",null,s.createElement("a",{onClick:this.props.changeAnnualPlan},"Change annual plan")),y&&s.createElement("div",null,s.createElement("a",{onClick:this.props.changePayment},"Change payment source")),w&&s.createElement("a",{onClick:this.props.downgrade},"Downgrade to a Starter Team"),N&&s.createElement("div",null,s.createElement("a",{onClick:this.props.changePayment},"Reactivate Subscription"))))}}P.displayName="NumEditors",t.NumEditors=P;class M extends s.PureComponent{render(){if(!this.props.billingSummary)return s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Past Invoices"),s.createElement(g.LoadingSpinner,{className:C.loadingInvoice}));let e=0;const t=this.props.billingSummary.last_monthly_invoice,a=this.props.billingSummary.last_annual_invoice,i=t&&r(t.period_start),n=a&&r(a.period_start);a&&t&&i.isSame(n,"day")?e=a.amount_due+t.amount_due:t?e=t.amount_due:a&&(e=a.amount_due);let l=m.formatMoney(e);return s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Past Invoices"),s.createElement("div",{className:C.title},l),t||a?s.createElement("div",{className:C.links},s.createElement("a",{onClick:this.props.showInvoices},"See past invoices")):s.createElement("div",{className:C.info},"There are no prior invoices."))}}M.displayName="CurrentBilling",t.CurrentBilling=M;class k extends s.PureComponent{constructor(){super(...arguments),this.isChangeReceiverShown=(()=>{let e=!1;for(let t=0;t<this.props.admins.length;t++){if(this.props.admins[t].id===this.props.billingSummary.invoice_receiver.id){e=!0;break}}return!e||this.props.admins.length>1})}render(){if(!this.props.billingSummary)return s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Next Invoice"),s.createElement(g.LoadingSpinner,{className:C.loadingInvoice}));const e=this.props.team,t=this.props.billingSummary.monthly_subscription,a=this.props.billingSummary.annual_subscription;if(t&&t.manual_invoicing)return s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Next Invoice"),s.createElement("div",{className:C.title},"Manual Invoicing"),s.createElement("div",{className:C.info}));let i=e.grace_period_end&&r(e.grace_period_end);i=i>r()?i:null;let n="",l=null,o=null,c=null,d=null;if(t||a){let e=null;t&&t.quantity>0&&(t.canceled_at?(n="Canceled",e=t.quantity>1?s.createElement("p",null,"Monthly subscription canceled on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(t.canceled_at).format(A)),",",t.quantity," seats lose access on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(t.current_period_end).format(A))):s.createElement("p",null,"Monthly subscription canceled on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(t.canceled_at).format(A)),",",t.quantity," seat loses access on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(t.current_period_end).format(A)))):t.estimated_amount_due&&(o=t.trial_end?r(t.trial_end):r(t.current_period_end),l=t.estimated_amount_due,e=t.trial_end?t.quantity>1?s.createElement("p",null,t.quantity," seats due monthly, starting ",s.createElement("span",{style:{whiteSpace:"nowrap"}},o.format(A))):s.createElement("p",null,t.quantity," seat due monthly, starting ",s.createElement("span",{style:{whiteSpace:"nowrap"}},o.format(A))):t.quantity>1?s.createElement("p",null,t.quantity," seats renew monthly on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},o.format(A))):s.createElement("p",null,t.quantity," seat renews monthly on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},o.format(A)))));let i=null;a&&a.quantity>0&&(a.canceled_at?(n="Canceled",i=a.quantity>1?s.createElement("p",null,"Annual subscription canceled on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(a.canceled_at).format(A)),",",a.quantity," seats lose access on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(a.current_period_end).format(A))):s.createElement("p",null,"Annual subscription canceled on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(a.canceled_at).format(A)),",",a.quantity," seat loses access on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},r(a.current_period_end).format(A)))):a.estimated_amount_due&&(d=a.trial_end?r(a.trial_end):r(a.current_period_end),c=a.estimated_amount_due,i=a.trial_end?a.quantity>1?s.createElement("p",null,a.quantity," seats due annually, starting ",s.createElement("span",{style:{whiteSpace:"nowrap"}},d.format(A))):s.createElement("p",null,a.quantity," seat due annually, starting ",s.createElement("span",{style:{whiteSpace:"nowrap"}},d.format(A))):a.quantity>1?s.createElement("p",null,a.quantity," seats renew annually on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},d.format(A))):s.createElement("p",null,a.quantity," seat renews annually on ",s.createElement("span",{style:{whiteSpace:"nowrap"}},d.format(A)))));let p=0;if(o&&d){let e=o.diff(d,"days",!0);p=e>=-1&&e<=1?l+c:e<0?l:c}else o?p=l:d&&(p=c);return p&&(n=m.formatMoney(p)),s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Next Invoice"),s.createElement("div",{className:C.title},n),s.createElement("div",{className:C.info},e,i),s.createElement("div",null,this.props.billingSummary.invoice_receiver.handle," receives all invoice emails"),this.isChangeReceiverShown()&&s.createElement("div",{className:C.blueLink},s.createElement("a",{onClick:this.props.changeInvoiceReceiver(this.props.billingSummary.invoice_receiver)},"Change the invoice email recipient")))}return e.student_team?s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Next Invoice"),s.createElement("div",{className:C.title},"Student"),s.createElement("div",{className:C.info},"This team is intended for students.")):i?s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},"Next Invoice"),s.createElement("div",{className:C.title},"Special"),s.createElement("div",{className:C.info},"Access to paid features will end ",s.createElement("span",{style:{whiteSpace:"nowrap"}},i.format(A)),".")):s.createElement("div",{className:C.col},s.createElement("div",{className:C.header},""))}}k.displayName="NextBilling",t.NextBilling=k;class R extends s.PureComponent{render(){if(this.props.team.subscription)return s.createElement("span",null);let e="Professional Team features include unlimited projects, unlimited version history, a shared team component library, and more.";return this.props.team.student_team&&(e="Enable non-student editors by upgrading to a Professional Team."),s.createElement("div",{className:C.proTeamUpsell},s.createElement("div",{className:C.proTeamUpsellContent},s.createElement("div",{className:C.proTeamUpsellTitle},"Upgrade to a Professional Team"),s.createElement("p",null,e),s.createElement(v.ButtonGreen,{onClick:this.props.onUpgrade},"Upgrade ",this.props.team.name)))}}R.displayName="ProTeamUpsell";class q extends s.PureComponent{constructor(){super(...arguments),this.state={showSearchInput:!1},this.showDetails=(e=>{I.trackCtaClicked({teamId:e.team_id,location:"table",text:"see edit permissions",category:[I.CtaCategories.UPGRADE_FLOW],type:"link",description:"Editor List See Edit Permissions CTA Clicked"}),this.props.dispatch(n.fileBrowser.showModal({type:_.AppModal.TEAM_ADMIN_USER_DETAILS_MODAL,data:{editor:e}}))}),this.remove=(e=>{I.trackCtaClicked({teamId:e.team_id,location:"table",text:"downgrade to viewer",category:[I.CtaCategories.UPGRADE_FLOW],type:"button",description:"Editor List Downgrade to Viewer CTA Clicked"}),this.props.dispatch(n.fileBrowser.showModal({type:_.AppModal.TEAM_ADMIN_CONFIRM_REMOVE_EDITOR,data:{editor:e}}))}),this.showSearch=(()=>{this.setState({showSearchInput:!0})}),this.searchInputRef=(e=>{if(e){i.findDOMNode(e).focus()}}),this.focusSearch=(()=>{this.setState({showSearchInput:!0})}),this.blurSearch=(()=>{this.setState({showSearchInput:!1})}),this.onSearchChange=(e=>{const t=e.target.value;this.props.dispatch(n.teamAdmin.setQuery({query:t}))}),this.searchKeyDown=(e=>{e.keyCode===l.Key.ESCAPE&&(this.props.teamAdmin.billingDetails.query?this.clearSearch():e.target.blur())}),this.clearSearch=(()=>{this.props.dispatch(n.teamAdmin.setQuery({query:""}))})}render(){const e=this.props.teamAdmin.billingDetails.query;let t;(t=e?Array.from(this.props.teamAdmin.billingDetails.searchResults):Array.from(this.props.teamAdmin.billingDetails.editors)).sort((e,t)=>{const{field:a,direction:s}=this.props.teamAdmin.billingDetails.editorsSortBy;let i,n;"last_active"===a?(i=e[a]?new Date(e[a]).getTime():0,n=t[a]?new Date(t[a]).getTime():0):(i=e[a].toLowerCase(),n=t[a].toLowerCase());const r=i<n?-1:1;return s===o.SortDirection.ASCENDING?r:-1*r});const a=this.state.showSearchInput||this.props.teamAdmin.billingDetails.query;return s.createElement("div",{className:C.table},s.createElement("div",{className:C.listTitle},"Editors on your team (",s.createElement("a",{className:C.links,target:"_blank",rel:"noopener",onClick:()=>I.trackCtaClicked({location:"",text:"who counts as an editor",category:[I.CtaCategories.UPGRADE_FLOW],type:"link",teamId:this.props.selectedView.adminTeamId,description:"Team Admin Dashboard Who Counts as an Editor CTA Clicked"}),href:"/pricing-faq#what-is-an-editor"},"Who counts as an editor?"),")"),a&&s.createElement("div",{className:C.columnHeaders},s.createElement("div",{className:C.avatar,onClick:this.clearSearch},s.createElement(u.Svg,{svg:y})),s.createElement(E.LazyInput,{ref:this.searchInputRef,onChange:this.onSearchChange,value:this.props.teamAdmin.billingDetails.query,onFocus:this.focusSearch,onBlur:this.blurSearch,onKeyDown:this.searchKeyDown})),!a&&s.createElement("div",{className:C.columnHeaders},s.createElement("div",{className:C.avatar,onClick:this.showSearch},s.createElement(u.Svg,{className:C.searchIcon,svg:w})),s.createElement(O,Object.assign({className:C.name,field:"name",header:"Name"},this.props)),s.createElement(O,Object.assign({className:C.email,field:"email",header:"Email"},this.props)),s.createElement(O,Object.assign({className:C.lastActive,field:"last_active",header:"Last Active"},this.props))),this.props.teamAdmin.billingDetails.loadingEditors&&s.createElement("div",{className:C.tableRow},s.createElement(g.LoadingSpinner,{className:C.loadingEditors})),e&&0===t.length&&s.createElement("div",{className:C.tableRow},"No matches for '",e,"'"),t.map((e,t)=>s.createElement(B,{editor:e,key:t,showDetails:this.showDetails,remove:this.remove,isMe:e.id===this.props.user.id})))}}q.displayName="EditorList",t.EditorList=q;class O extends s.PureComponent{constructor(){super(...arguments),this.sortBy=(()=>{const e=this.props.teamAdmin.billingDetails.editorsSortBy,t=this.props.field;let a=o.SortDirection.ASCENDING;e.field===t&&(a=e.direction===o.SortDirection.ASCENDING?o.SortDirection.DESCENDING:o.SortDirection.ASCENDING),this.props.dispatch(n.teamAdmin.sortEditorsBy({sortBy:{field:t,direction:a}}))})}render(){const e=this.props.teamAdmin.billingDetails.editorsSortBy,t=e.direction===o.SortDirection.ASCENDING?f:S;return s.createElement("div",{className:this.props.className,onClick:this.sortBy},e.field===this.props.field&&s.createElement(u.Svg,{className:C.sortArrow,svg:t}),this.props.header)}}O.displayName="ColumnHeader";class B extends s.PureComponent{constructor(){super(...arguments),this.showDetails=(()=>{this.props.showDetails(this.props.editor)}),this.remove=(e=>{e.stopPropagation(),this.props.remove(this.props.editor)})}render(){const{name:e,email:t,last_active:a}=this.props.editor,i=new Date,n=r(i).add(i.getTimezoneOffset(),"minutes");return s.createElement("div",{className:C.tableRow,onClick:this.showDetails},s.createElement(h.Avatar,{className:C.avatar,entity:this.props.editor,size:30}),s.createElement("div",{className:C.name},e,this.props.isMe&&" (You)"),s.createElement("div",{className:C.email},t),s.createElement("div",{className:C.lastActive},a?r(a).from(n):"Inactive"),s.createElement("div",{className:C.seeRoles},"See edit permissions"),s.createElement(v.ButtonSecondary,{onClick:this.remove,disabled:this.props.isMe},"Downgrade to Viewer"))}}B.displayName="EditorRow",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,c,e){t.exports={id:"g1576e5fa",src:'<svg width="21" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M20 5H1v6c0 1.105.895 2 2 2h15c1.105 0 2-.895 2-2V5zm0-1H1V3c0-1.105.895-2 2-2h15c1.105 0 2 .895 2 2v1zm1 .5V3c0-1.657-1.343-3-3-3H3C1.343 0 0 1.343 0 3v8c0 1.657 1.343 3 3 3h15c1.657 0 3-1.343 3-3V4.5z" fill-rule="evenodd" fill="#666"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(i,e,o){i.exports={id:"invoices--id--3K2Ol",date:"invoices--date--3XODw",card:"invoices--card--1yX22",amount:"invoices--amount--YNT1n",receipt:"invoices--receipt--2HSdi",receiptLink:"invoices--receiptLink--3ouza invoices--receipt--2HSdi blue_link--blueLink--22X56",loadMore:"invoices--loadMore--1LPYv",loadMoreLink:"invoices--loadMoreLink--13kXY blue_link--blueLink--22X56"},i.exports instanceof Function&&(i.exports.default=i.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const s=t(34,1   ),r=t(232                        ),n=t(80,1    ),c=t(1361                                                          ),i=t(1367                                          ),m=t(144                        ),l=t(147                                        ),o=t(1538                              ),d=t(1287                       ),p=t(1543                              ),h=t(1541              ),g=t(1544            );class v extends s.PureComponent{constructor(){super(...arguments),this.backToTeam=(()=>{this.props.dispatch(r.fileBrowser.selectView({teamId:this.props.selectedView.adminInvoicesTeamId}))}),this.backToAdmin=(()=>{this.props.dispatch(r.fileBrowser.selectView({adminTeamId:this.props.selectedView.adminInvoicesTeamId}))})}render(){const e=this.props.teams[this.props.selectedView.adminInvoicesTeamId],a=s.createElement("div",{className:h.topBarTitle},s.createElement("a",{className:h.breadcrumb,onClick:this.backToTeam},e.student_team&&s.createElement(m.Svg,{svg:d}),e.name),s.createElement(m.Svg,{className:h.breadcrumbCaret,svg:o}),s.createElement("a",{className:h.breadcrumb,onClick:this.backToAdmin},"Admin Dashboard"),s.createElement(m.Svg,{className:h.breadcrumbCaret,svg:o}),"Invoices"),t=s.createElement("div",{className:h.backToFiles,onClick:this.backToAdmin},"Back to Admin Dashboard");return s.createElement("div",null,s.createElement(i.TopBar,Object.assign({title:a,menu:t,centerTitle:!0},this.props)),s.createElement(c.FullWidthPageContent,null,s.createElement("div",{className:h.billingPage},s.createElement("div",{className:h.cols},s.createElement("div",{className:h.col},s.createElement("div",{className:h.title},"Recent Invoices"))),s.createElement(u,Object.assign({},this.props)))))}}v.displayName="TeamInvoicesPage",a.TeamInvoicesPage=v;class u extends s.PureComponent{constructor(){super(...arguments),this.loadMore=(()=>{this.props.dispatch(r.teamAdmin.fetchMoreCharges({teamId:this.props.selectedView.adminInvoicesTeamId}))})}render(){return s.createElement("div",null,s.createElement("div",{className:h.table},s.createElement("div",{className:h.columnHeaders},s.createElement(E,{className:g.id,header:"ID"}),s.createElement(E,{className:g.date,header:"Date"}),s.createElement(E,{className:g.card,header:"Payment Method"}),s.createElement(E,{className:g.amount,header:"Amount"}),s.createElement(E,{className:g.receipt,header:"Receipt"})),this.props.teamAdmin.recentCharges.charges.map((e,a)=>s.createElement(N,{charge:e,key:a}))),s.createElement("div",{className:g.loadMore},(()=>this.props.teamAdmin.recentCharges.loading?s.createElement(l.LoadingSpinner,{className:h.loadingEditors}):this.props.teamAdmin.recentCharges.charges.length?this.props.teamAdmin.recentCharges.hasMore?s.createElement("a",{className:g.loadMoreLink,onClick:this.loadMore},"Load more..."):"End of invoice history":"Your future invoices will show up here.")()))}}u.displayName="InvoiceList";class E extends s.PureComponent{render(){return s.createElement("div",{className:this.props.className},this.props.header)}}E.displayName="ColumnHeader";class N extends s.PureComponent{render(){const{id:e,amount:a,created_at:t,source_brand:r,source_last4:c}=this.props.charge,i=`/receipt/${e}`;return s.createElement("a",{className:h.tableRow,href:i,target:"_blank",rel:"noopener"},s.createElement("div",{className:g.id},e),s.createElement("div",{className:g.date},n(t).format("YYYY.MM.DD")),s.createElement("div",{className:g.card},s.createElement(m.Svg,{svg:p})," ",r," ending in ",c),s.createElement("div",{className:g.amount},"$",(a/100).toFixed(2)),s.createElement("div",{className:g.receiptLink},"View printable receipt"))}}N.displayName="ChargeRow",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={nextButton:"step_review_editors--nextButton--1-Fwc"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=o(34,1   ),a=o(232                        ),r=o(252                       ),i=o(204                                            ),n=o(1542                                                ),p=o(1285                                               ),c=o(1546                       ),l=o(220                      );class d extends s.Component{constructor(){super(...arguments),this.next=(()=>{l.trackCtaClicked({description:"Payment Flow Review Editors CTA Clicked",category:[l.CtaCategories.UPGRADE_FLOW],text:"looks good next",type:"button",location:"table",teamId:this.props.selectedView.upgradeTeamId});const e=this.props.selectedView.viewState;this.props.dispatch(a.fileBrowser.selectView({upgradeTeamId:this.props.selectedView.upgradeTeamId,viewState:{paymentStep:r.PaymentStep.CHOOSE_PLAN,previousView:e.previousView}}))})}render(){const e=this.props.teams[this.props.selectedView.upgradeTeamId].editors;return s.createElement("div",null,s.createElement(p.StepTitle,null,"Review your ",e," editors"),s.createElement(p.StepInstructions,null,"An editor is anyone with edit access to a file or a project on your team.",s.createElement("br",null),"You will be charged for all editors. Use 'Downgrade to Viewer' to remove anyone",s.createElement("br",null),"you don't want to pay for. (You can always add more editors later.)",s.createElement("br",null)),s.createElement(i.BigButtonPrimary,{className:c.nextButton,onClick:this.next},"Looks good. Next!"),s.createElement(n.EditorList,Object.assign({},this.props)))}}d.displayName="StepReviewEditors",t.StepReviewEditors=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={plans:"step_choose_plan--plans--1XTao",plan:"step_choose_plan--plan--1Sv-k",planTitle:"step_choose_plan--planTitle--3nyI5",planPrice:"step_choose_plan--planPrice--11bj-",planDesc:"step_choose_plan--planDesc--NcXjU",teamPlan:"step_choose_plan--teamPlan---Zs8F step_choose_plan--plan--1Sv-k",teamPlanSvg:"step_choose_plan--teamPlanSvg--2kEeC",teamPlanTitle:"step_choose_plan--teamPlanTitle--1omlz",teamPlanFeatures:"step_choose_plan--teamPlanFeatures--3wDL0",teamPlanSubtitle:"step_choose_plan--teamPlanSubtitle--2cgTi",nextButton:"step_choose_plan--nextButton--3CmH-",finePrint:"step_choose_plan--finePrint--3axtJ",footnote:"step_choose_plan--footnote--3IPcU",discount:"step_choose_plan--discount--2qn-w",link:"step_choose_plan--link--2ZEkJ blue_link--blueLink--22X56"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),i=s(232                        ),o=s(172                     ),n=s(252                       ),p=s(170          ),r=s(204                                            ),l=s(1285                                               ),c=s(1548                    ),d=s(220                      );class m extends a.Component{constructor(){super(...arguments),this.choosePlan=((e,t)=>{d.trackCtaClicked({teamId:this.props.selectedView.upgradeTeamId,location:"table",category:[d.CtaCategories.UPGRADE_FLOW],type:"button",text:t,description:`Choose Payment Plan ${n.BillingPeriod[e]} CTA Clicked`});const s=this.props.teams[this.props.selectedView.upgradeTeamId],a=s.editors,o=this.props.selectedView.viewState;e===n.BillingPeriod.ANNUAL?this.props.dispatch(i.payment.setNumEditors({annualQuantity:a,monthlyQuantity:0})):this.props.dispatch(i.payment.setNumEditors({annualQuantity:0,monthlyQuantity:a})),this.props.dispatch(i.payment.setBillingPeriod({billingPeriod:e})),this.props.dispatch(i.payment.setStudentTeam({studentTeam:!1})),this.props.dispatch(i.fileBrowser.selectView({upgradeTeamId:s.id,viewState:{paymentStep:n.PaymentStep.PAYMENT_AND_ADDRESS,previousView:o.previousView}}))}),this.chooseStudent=(()=>{const e=this.props.selectedView.viewState;this.props.dispatch(i.payment.setStudentTeam({studentTeam:!0})),this.props.dispatch(i.fileBrowser.selectView({upgradeTeamId:this.props.selectedView.upgradeTeamId,viewState:{paymentStep:n.PaymentStep.PAYMENT_AND_ADDRESS,previousView:e.previousView}}))})}render(){const e=this.props.teams[this.props.selectedView.upgradeTeamId],t=Math.round(100*(o.MONTHLY_EDITOR_COST-o.ANNUAL_EDITOR_COST)/o.MONTHLY_EDITOR_COST);return a.createElement("div",null,a.createElement(l.StepTitle,null,"Choose a payment plan"),a.createElement("div",{className:c.plans},a.createElement(h,{title:"Annual",price:o.ANNUAL_EDITOR_COST,desc:"/ editor / month",onChoose:this.choosePlan.bind(this,n.BillingPeriod.ANNUAL,"choose annual plan"),chooseText:"Choose annual plan"},a.createElement("p",{className:c.finePrint},"Any editors added after the annual plan starts will be charged monthly at ",o.formatMoney(o.MONTHLY_EDITOR_COST,!0),"/mo."),a.createElement("div",{className:c.discount},"Save ",t,"%")),a.createElement(h,{title:"Monthly",price:o.MONTHLY_EDITOR_COST,desc:"/ editor / month",onChoose:this.choosePlan.bind(this,n.BillingPeriod.MONTHLY,"choose monthly plan"),chooseText:"Choose monthly plan"}),p.isStudent(this.props.user)&&!e.student_team&&a.createElement(h,{title:"Student",price:0,desc:"Free",onChoose:this.chooseStudent,chooseText:"Choose student plan"},a.createElement("p",{className:c.finePrint},"All editors must be verified students to edit files."))))}}m.displayName="StepChoosePlan",t.StepChoosePlan=m;class h extends a.Component{render(){return a.createElement("div",{className:c.plan},a.createElement("div",{className:c.planTitle},this.props.title),a.createElement("div",{className:c.planPrice},o.formatMoney(this.props.price,!0)),a.createElement("div",{className:c.planDesc},this.props.desc),a.createElement(r.BigButtonPrimary,{className:c.nextButton,onClick:this.props.onChoose},this.props.chooseText),this.props.children)}}h.displayName="Plan",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,_,m){l.exports={row:"milligram_grid-less--row--1j-7j",row_no_padding:"milligram_grid-less--row_no_padding--2SHnx",column:"milligram_grid-less--column--3O-rQ",row_wrap:"milligram_grid-less--row_wrap--ndP7I",row_x_start:"milligram_grid-less--row_x_start--1qYro",row_x_center:"milligram_grid-less--row_x_center--A6gzS",row_x_between:"milligram_grid-less--row_x_between--lPZWL",row_x_around:"milligram_grid-less--row_x_around--2YhoF",row_x_evenly:"milligram_grid-less--row_x_evenly--gBOGa",row_y_top:"milligram_grid-less--row_y_top--1Liel",row_y_bottom:"milligram_grid-less--row_y_bottom--19vna",row_y_center:"milligram_grid-less--row_y_center--2ybmd",row_y_stretch:"milligram_grid-less--row_y_stretch--32Av1",row_y_baseline:"milligram_grid-less--row_y_baseline--3iB1g",column_offset_10:"milligram_grid-less--column_offset_10--2joE3",column_offset_20:"milligram_grid-less--column_offset_20--3gtnH",column_offset_25:"milligram_grid-less--column_offset_25--39x8O",column_offset_33:"milligram_grid-less--column_offset_33--R7I5u",column_offset_34:"milligram_grid-less--column_offset_34--2Y86V",column_offset_50:"milligram_grid-less--column_offset_50--2vVvZ",column_offset_66:"milligram_grid-less--column_offset_66--h_LPi",column_offset_67:"milligram_grid-less--column_offset_67--1gUOL",column_offset_75:"milligram_grid-less--column_offset_75--3Cw-1",column_offset_80:"milligram_grid-less--column_offset_80--17ObZ",column_offset_90:"milligram_grid-less--column_offset_90--3laD1",column_10:"milligram_grid-less--column_10--Fd6G2",column_20:"milligram_grid-less--column_20--3gw7d",column_25:"milligram_grid-less--column_25--2GE7M",column_33:"milligram_grid-less--column_33--3GG7k",column_34:"milligram_grid-less--column_34--2VLZ1",column_40:"milligram_grid-less--column_40--14VaK",column_50:"milligram_grid-less--column_50--ED0Yt",column_60:"milligram_grid-less--column_60--29Ygz",column_66:"milligram_grid-less--column_66--19nHD",column_67:"milligram_grid-less--column_67--30eBl",column_75:"milligram_grid-less--column_75--1yskN",column_80:"milligram_grid-less--column_80--1V0nC",column_90:"milligram_grid-less--column_90--3AKQK",column_x_start:"milligram_grid-less--column_x_start--3M_G7",column_x_center:"milligram_grid-less--column_x_center--3kkf2",column_x_end:"milligram_grid-less--column_x_end--3IA_V",column_x_stretch:"milligram_grid-less--column_x_stretch--yWM7V",column_y_top:"milligram_grid-less--column_y_top--zkU93",column_y_bottom:"milligram_grid-less--column_y_bottom--dvlwy",column_y_center:"milligram_grid-less--column_y_center--xs-Tw",column_offset_60:"milligram_grid-less--column_offset_60--1oCbC"},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(o,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const s=t(34,1   ),n=t(1550                       ),_={noPadding:n.row_no_padding,wrap:n.row_wrap,xStart:n.row_x_start,xCenter:n.row_x_center,xBetween:n.row_x_between,xAround:n.row_x_around,xEvenly:n.row_x_evenly,yTop:n.row_y_top,yBottom:n.row_y_bottom,yCenter:n.row_y_center,yMiddle:n.row_y_center,yStretch:n.row_y_stretch,yBaseline:n.row_y_baseline};class r extends s.Component{render(){const o=[n.row];return Object.keys(this.props).forEach(e=>{let t=_[e];t&&o.push(t)}),this.props.className&&o.push(this.props.className),s.createElement("div",{className:o.join(" ")},this.props.children)}}r.displayName="MilligramRow",e.Row=r;const c={offset10:n.column_offset_10,offset20:n.column_offset_20,offset25:n.column_offset_25,offset33:n.column_offset_33,offset34:n.column_offset_34,offset50:n.column_offset_50,offset66:n.column_offset_66,offset67:n.column_offset_67,offset75:n.column_offset_75,offset80:n.column_offset_80,offset90:n.column_offset_90,width10:n.column_10,width20:n.column_20,width25:n.column_25,width33:n.column_33,width34:n.column_34,width50:n.column_50,width66:n.column_66,width67:n.column_67,width55:n.column_75,width80:n.column_80,width90:n.column_90,xStart:n.column_x_start,xCenter:n.column_x_center,xEnd:n.column_x_end,xStretch:n.column_x_stretch,yTop:n.column_y_top,yBottom:n.column_y_bottom,yCenter:n.column_y_center,yMiddle:n.column_y_center};class l extends s.Component{render(){const o=[n.column];return Object.keys(this.props).forEach(e=>{let t=c[e];t&&o.push(t)}),this.props.className&&o.push(this.props.className),s.createElement("div",{className:o.join(" ")},this.props.children)}}l.displayName="MilligramCol",e.Col=l,o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){e.exports={root:"review_team_subscription-less--root--HFIjJ",benefitsBox:"review_team_subscription-less--benefitsBox--dk17e",benefit:"review_team_subscription-less--benefit--2jZhV",benefitsIcon:"review_team_subscription-less--benefitsIcon--17pZr",benefitsLabel:"review_team_subscription-less--benefitsLabel--3YxzF",hr:"review_team_subscription-less--hr--ah8zZ",proTeamRolesExplanation:"review_team_subscription-less--proTeamRolesExplanation--bEfaj",planFormBox:"review_team_subscription-less--planFormBox--2nBPb",quantityBox:"review_team_subscription-less--quantityBox--2_Hq0",quantity:"review_team_subscription-less--quantity--2raI5",steppers:"review_team_subscription-less--steppers--20vyS",steppersOutline:"review_team_subscription-less--steppersOutline--25F6E",plusButton:"review_team_subscription-less--plusButton--qicoZ",minusButton:"review_team_subscription-less--minusButton--227w-",label:"review_team_subscription-less--label--34zBp",planBox:"review_team_subscription-less--planBox--2XhKq",unit_amount:"review_team_subscription-less--unit_amount--d5Qic",unit_amount_label:"review_team_subscription-less--unit_amount_label--18Z9Z",plan_selector:"review_team_subscription-less--plan_selector--1mjW8",saveBox:"review_team_subscription-less--saveBox--wHYc-",save:"review_team_subscription-less--save--2FZoD",nextButton:"review_team_subscription-less--nextButton--3mc0F",select:"review_team_subscription-less--select--KWkg7"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(c,l,t){c.exports={id:"g5b1bacb7",src:'<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M14.965 9.05c-.061-.197-.216-.598-.56-1.047C13.71 7.098 12.247 6 9.24 6 4.125 6 3 9.176 3 9.176v12.975h2.1c1.952-1.438 5.522-1.37 7.608-.148.676.396 1.253.919 1.698 1.53.237.325.437.676.594 1.046.158-.37.359-.72.597-1.044.446-.61 1.023-1.13 1.699-1.523 2.087-1.218 5.654-1.284 7.604.153H27V9.176C27 9.176 25.875 6 20.76 6c-3.008 0-4.47 1.098-5.164 2.003-.345.45-.5.85-.561 1.047h-.07zm-.465.325h-.475l-.005.002v.001l.001.003.001.004.001.006v-.002l-.014-.046c-.015-.049-.045-.132-.094-.236-.1-.21-.276-.506-.581-.809C12.746 7.715 11.572 7 9.24 7c-2.331 0-3.656.717-4.385 1.345-.373.322-.61.639-.75.864-.045.07-.08.133-.105.182v11.76h.79c1.164-.744 2.645-1.061 4.057-1.072 1.535-.01 3.135.34 4.366 1.061.471.276.903.606 1.287.98V9.375zm1 0v12.753c.385-.375.819-.704 1.292-.98 1.231-.719 2.831-1.067 4.365-1.055 1.41.01 2.89.328 4.052 1.072H26V9.39c-.026-.05-.06-.111-.105-.182-.14-.225-.377-.542-.75-.864C24.415 7.717 23.091 7 20.76 7c-2.332 0-3.506.715-4.094 1.298-.305.303-.482.599-.58.809-.05.104-.08.187-.095.236l-.014.046v.002l.001-.006v-.004l.001-.003v-.001l-.004-.002H15.5zm.476.017zm-.796 13.07h-.354c.06.067.12.137.177.207.057-.07.117-.14.177-.208z" fill-rule="evenodd" fill-opacity=".3"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(t,e,o){t.exports={id:"ge9b61d16",src:'<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M15.183 4.014c-3.069 0-5.556 2.488-5.556 5.556 0 2.598 1.783 4.78 4.192 5.387-4.015.652-7.08 4.136-7.08 8.335v2.667h16.889v-2.667c0-4.2-3.066-7.683-7.082-8.335 2.41-.608 4.192-2.79 4.192-5.387 0-3.068-2.487-5.556-5.555-5.556zM10.627 9.57c0-2.516 2.04-4.556 4.556-4.556 2.516 0 4.555 2.04 4.555 4.556 0 2.516-2.04 4.556-4.555 4.556-2.517 0-4.556-2.04-4.556-4.556zM7.738 23.292c0-4.112 3.333-7.445 7.445-7.445 4.111 0 7.445 3.333 7.445 7.445v1.667H7.738v-1.667z" fill-rule="evenodd" fill-opacity=".3"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,e){t.exports={id:"gf4983481",src:'<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M11 19h13V6H11v13zm9 1v5H5V10h5V5h15v15h-5zm-10-9H6v13h13v-4h-9v-9z" fill-rule="evenodd" fill-opacity=".3"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,t,v){h.exports={id:"g71a9421f",src:'<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M14.336 17.445h-.5v.5h.5v-.5zM6.824 7.667l-.358-.35-.34.35.34.349.358-.35zm7.012 4.889v4.889h1v-4.89h-1zm.5 5.389H19.1v-1h-4.764v1zm9.027-1.112c0 4.8-3.787 8.667-8.431 8.667v1c5.22 0 9.431-4.34 9.431-9.667h-1zM14.932 25.5c-4.645 0-8.432-3.868-8.432-8.667h-1c0 5.327 4.21 9.667 9.432 9.667v-1zm0-17.333c4.644 0 8.431 3.867 8.431 8.666h1c0-5.326-4.21-9.666-9.431-9.666v1zm0-1H6.824v1h8.108v-1zm-7.75.849l3.573-3.667-.716-.698-3.573 3.667.717.698zm-.716 0l3.573 3.666.716-.698-3.572-3.666-.717.698z" fill-opacity=".3"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,c,d){t.exports={id:"g6a79863d",src:'<svg width="63" height="32" xmlns="http://www.w3.org/2000/svg"><path d="M2 32c-1.105 0-2-.895-2-2V2C0 .895.895 0 2 0h59c1.105 0 2 .895 2 2v28c0 1.105-.895 2-2 2H2zM31 1H2c-.552 0-1 .448-1 1v28c0 .552.448 1 1 1h29V1zm1 30h29c.552 0 1-.448 1-1V2c0-.552-.448-1-1-1H32v30z" fill-rule="evenodd" fill="#dbdbdb"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,h){t.exports={id:"gf4755b4a",src:'<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M15 15v7h1v-7h7v-1h-7V7h-1v7H8v1h7z" fill-rule="evenodd" fill="#b3b3b3"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g1717ea3d",src:'<svg width="30" height="30" xmlns="http://www.w3.org/2000/svg"><path d="M8 14h15v1H8v-1z" fill-rule="evenodd" fill="#b3b3b3"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),n=a(172                     ),i=a(252                       ),l=a(1551                                             ),r=a(204                                            ),c=a(1552                                 ),o=a(144                        ),m=a(1553                                        ),g=a(1554                                       ),p=a(1555                                        ),u=a(1556                                        ),d=a(1557                           ),N=a(1558                                ),h=a(1559                                 );class E extends s.PureComponent{constructor(e){super(e),this.getUnitCost=(()=>{switch(this.state.plan){case i.BillingPeriod[i.BillingPeriod.ANNUAL]:return n.ANNUAL_EDITOR_COST;case i.BillingPeriod[i.BillingPeriod.MONTHLY]:return n.MONTHLY_EDITOR_COST}throw new Error(`Unknown plan type: ${this.state.plan}`)}),this.getBillingPeriod=(()=>{switch(this.state.plan){case i.BillingPeriod[i.BillingPeriod.ANNUAL]:return i.BillingPeriod.ANNUAL;case i.BillingPeriod[i.BillingPeriod.MONTHLY]:return i.BillingPeriod.MONTHLY}throw new Error(`Unknown plan type: ${this.state.plan}`)}),this.onChangePlan=(e=>!!e.currentTarget.value&&(this.setState(Object.assign({},this.state,{plan:e.currentTarget.value})),!0)),this.onClickPlusSeat=(e=>{let t=e.shiftKey?10:1;this.setState(Object.assign({},this.state,{quantity:this.state.quantity+t}))}),this.onClickMinusSeat=(e=>{let t=e.shiftKey?10:1;this.setState(Object.assign({},this.state,{quantity:Math.max(this.state.quantity-t,this.props.team.editors)}))}),this.onClickNext=(e=>{let t="";e.currentTarget&&(t=e.currentTarget.textContent),this.props.onNext(this.getBillingPeriod(),this.state.quantity,t)}),this.state={plan:this.props.plan===i.BillingPeriod.MONTHLY?i.BillingPeriod[i.BillingPeriod.MONTHLY]:i.BillingPeriod[i.BillingPeriod.ANNUAL],quantity:this.props.quantity}}render(){return s.createElement(l.Col,{className:c.root},s.createElement(l.Row,{wrap:!0,xCenter:!0,yTop:!0},s.createElement(l.Col,{width50:!0,className:c.benefitsBox},s.createElement("div",{className:c.benefit},s.createElement(o.Svg,{className:c.benefitsIcon,svg:m,useOriginalSrcFills:!0}),s.createElement("span",{className:c.benefitsLabel},s.createElement("strong",null,"Unlimited")," Team Libraries")),s.createElement("div",{className:c.benefit},s.createElement(o.Svg,{className:c.benefitsIcon,svg:p,useOriginalSrcFills:!0}),s.createElement("span",{className:c.benefitsLabel},s.createElement("strong",null,"Unlimited")," Projects")),s.createElement("div",{className:c.benefit},s.createElement(o.Svg,{className:c.benefitsIcon,svg:u,useOriginalSrcFills:!0}),s.createElement("span",{className:c.benefitsLabel},s.createElement("strong",null,"Unlimited")," Version History")),s.createElement("div",{className:c.hr},""),s.createElement("div",{className:c.benefit},s.createElement(o.Svg,{className:c.benefitsIcon,svg:g,useOriginalSrcFills:!0}),s.createElement("span",{className:c.benefitsLabel},s.createElement("strong",null,"Unlimited")," Viewers")),s.createElement("div",{className:c.proTeamRolesExplanation},s.createElement("p",null,"Editors can create, edit and share.",s.createElement("br",null),"Viewers can comment, inspect and export."))),s.createElement(l.Col,{width50:!0},s.createElement(l.Row,{xStart:!0,className:c.planFormBox},s.createElement(l.Col,{className:c.quantityBox},s.createElement("p",{className:c.quantity},this.state.quantity),s.createElement("div",{tabIndex:0,className:c.steppers},s.createElement(o.Svg,{className:c.steppersOutline,svg:d,useOriginalSrcFills:!0}),s.createElement("button",{onClick:this.onClickMinusSeat,className:c.minusButton},s.createElement(o.Svg,{svg:h,useOriginalSrcFills:!0})),s.createElement("button",{onClick:this.onClickPlusSeat,className:c.plusButton},s.createElement(o.Svg,{svg:N,useOriginalSrcFills:!0}))),s.createElement("p",{className:c.label},"Editor Seats")),s.createElement(l.Col,{className:c.planBox},s.createElement("p",{className:c.unit_amount},n.formatMoney(this.getUnitCost())),s.createElement("p",{className:c.unit_amount_label},"seat/month"),s.createElement("div",{className:c.plan_selector},s.createElement("select",{onChange:this.onChangePlan,value:this.state.plan,className:c.select},s.createElement("option",{value:`${i.BillingPeriod[i.BillingPeriod.ANNUAL]}`},"Annual Plan"),s.createElement("option",{value:`${i.BillingPeriod[i.BillingPeriod.MONTHLY]}`},"Monthly Plan"))))),s.createElement(l.Row,null,s.createElement(l.Col,{className:c.saveBox},s.createElement("p",null,s.createElement("span",{className:c.save},"Save 20%")," when you choose the Annual Plan."),s.createElement("div",{className:c.nextButton},s.createElement(r.BigButtonGreen,{onClick:this.onClickNext},"Continue to Payment")))))))}}E.displayName="ReviewProTeamSubscription",t.ReviewProTeamSubscription=E,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,e){o.exports={root:"step_choose_plan_v2--root--1QTVk"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),a=s(542                   ),p=s(220                      ),n=s(232                        ),o=s(252                       ),r=s(1560                                                                  ),l=s(1285                                               ),m=s(1561                       );class d extends i.Component{constructor(e){super(e),this.titleCaseFormatter=new a.TitleCaseFormatter,this.onNext=((e,t,s)=>{p.trackCtaClicked({teamId:this.props.selectedView.upgradeTeamId,location:"right panel",category:[p.CtaCategories.UPGRADE_FLOW],type:"button",text:s,description:"Confirms plan and seat count",plan:o.BillingPeriod[e],seats:t});const i=this.props.teams[this.props.selectedView.upgradeTeamId],a=this.props.selectedView.viewState;e===o.BillingPeriod.ANNUAL?this.props.dispatch(n.payment.setNumEditors({annualQuantity:t,monthlyQuantity:0})):this.props.dispatch(n.payment.setNumEditors({annualQuantity:0,monthlyQuantity:t})),this.props.dispatch(n.payment.setBillingPeriod({billingPeriod:e})),this.props.dispatch(n.payment.setStudentTeam({studentTeam:!1})),this.props.dispatch(n.fileBrowser.selectView({upgradeTeamId:i.id,viewState:{paymentStep:o.PaymentStep.PAYMENT_AND_ADDRESS,previousView:a.previousView}}))})}render(){const e=this.props.teams[this.props.selectedView.upgradeTeamId],t=this.props.payment.billingPeriod,s=this.props.payment.billingPeriod===o.BillingPeriod.MONTHLY?this.props.payment.numMonthlyEditors:this.props.payment.numAnnualEditors;return i.createElement("div",{className:m.root},i.createElement(l.StepTitle,null,"Add editor seats for ",this.titleCaseFormatter.format(e.name)),i.createElement(r.ReviewProTeamSubscription,{team:e,plan:t,quantity:s,onNext:this.onNext}))}}d.displayName="StepChoosePlanV2",t.StepChoosePlanV2=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(c,t,s){c.exports={id:"gbf570c41",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M12 19c-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.105-.895 2-2 2zm-3.35 3.48C9.088 21.046 10.422 20 12 20c1.579 0 2.913 1.045 3.35 2.48-1.057.338-2.182.52-3.35.52-1.168 0-2.293-.182-3.35-.52zM12 8c1.605 0 2.958 1.08 3.37 2.554-.236.429-.37.922-.37 1.446 0 1.657 1.343 3 3 3 1.659 0 3.047 1.154 3.409 2.702-1.193 1.964-2.984 3.525-5.12 4.43-.392-1.23-1.3-2.23-2.468-2.748C14.539 18.836 15 17.972 15 17c0-1.657-1.343-3-3-3-1.657 0-3 1.343-3 3 0 .972.462 1.836 1.178 2.384-1.168.518-2.075 1.518-2.467 2.749-2.136-.906-3.927-2.467-5.12-4.431C2.952 16.153 4.341 15 6 15c1.657 0 3-1.343 3-3 0-.524-.134-1.017-.37-1.446C9.041 9.081 10.394 8 12 8zm0-1c-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.105-.895 2-2 2zm-6 7c-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2 0 1.105-.895 2-2 2zm-4.459 3.888c.118.208.241.412.37.612 1.336 2.07 3.291 3.701 5.604 4.634.321.13.65.246.985.348 1.107.337 2.283.518 3.5.518 1.217 0 2.393-.181 3.5-.518.335-.102.663-.219.985-.348 2.313-.933 4.268-2.565 5.604-4.634.129-.2.252-.404.37-.612C23.44 16.148 24 14.14 24 12c0-6.627-5.373-12-12-12C5.373 0 0 5.373 0 12c0 2.14.56 4.148 1.541 5.888zm18.28-3.504C20.538 13.836 21 12.972 21 12c0-1.657-1.343-3-3-3-.716 0-1.373.25-1.888.669-.454-1.017-1.273-1.834-2.29-2.285C14.537 6.836 15 5.972 15 5c0-1.657-1.343-3-3-3-1.657 0-3 1.343-3 3 0 .972.462 1.836 1.178 2.384-1.017.45-1.836 1.268-2.29 2.285C7.373 9.25 6.716 9 6 9c-1.657 0-3 1.343-3 3 0 .972.462 1.836 1.178 2.384-.963.427-1.749 1.183-2.215 2.125C1.344 15.133 1 13.607 1 12 1 5.925 5.925 1 12 1c6.075 0 11 4.925 11 11 0 1.607-.344 3.133-.963 4.509-.466-.942-1.252-1.698-2.215-2.125zM20 12c0 1.105-.895 2-2 2-1.105 0-2-.895-2-2 0-1.105.895-2 2-2 1.105 0 2 .895 2 2z"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),r=s(232                        ),o=s(204                                            ),n=s(144                        ),i=s(172                     ),p=s(1285                                               ),l=s(1548                    ),c=s(203                                   ),m=s(1034                                                   ),d=s(1563                           );class h extends a.Component{constructor(){super(...arguments),this.choosePro=(()=>{const e=this.props.selectedView;this.props.dispatch(r.payment.startProUpgradeFlow({teamId:this.props.selectedView.upgradeTeamId,selectedView:e,newTeam:!0}))}),this.chooseStarter=(()=>{this.props.dispatch(r.fileBrowser.selectView({teamId:this.props.selectedView.upgradeTeamId}))})}render(){return a.createElement(c.TrackingContext,{name:"Upgrade New Team",properties:{teamId:this.props.selectedView.upgradeTeamId}},a.createElement("div",null,a.createElement(p.StepTitle,null,"Choose your team plan"),a.createElement(p.StepInstructions,null,"You can always upgrade your team later.",a.createElement("br",null),"Working with a larger team? ",a.createElement(o.LinkInlineTracked,{href:"/organization"},"Check out our Organization plan")),a.createElement("div",{className:l.plans},a.createElement(u,{svg:m,teamId:this.props.selectedView.upgradeTeamId,title:"Starter",subtitle:"Free up to 2 editors",features:["Unlimited files and viewers","Up to 3 projects","Version history up to 30 days"],onChoose:this.chooseStarter,chooseText:"Get started for free"}),a.createElement(u,{svg:d,teamId:this.props.selectedView.upgradeTeamId,title:"Professional",subtitle:`Starting at ${i.formatMoney(i.ANNUAL_EDITOR_COST,!0)} / editor / month`,features:["Unlimited files and viewers","Unlimited projects","Unlimited version history","Team component library","Slack integration","Advanced project permissions"],onChoose:this.choosePro,chooseText:"Upgrade to Professional",useGreenBtn:!0}))))}}h.displayName="StepUpgradeNewTeam",t.StepUpgradeNewTeam=h;class u extends a.Component{render(){return a.createElement("div",{className:l.teamPlan},a.createElement(n.Svg,{className:l.teamPlanSvg,svg:this.props.svg}),a.createElement("div",{className:l.teamPlanTitle},this.props.title),a.createElement("div",{className:l.teamPlanSubtitle},this.props.subtitle),a.createElement("div",{className:l.teamPlanFeatures},this.props.features.map((e,t)=>a.createElement("p",{key:t},e))),this.props.useGreenBtn&&a.createElement(o.BigButtonGreenTracked,{className:l.nextButton,onClick:this.props.onChoose,trackingProperties:{teamId:this.props.teamId}},this.props.chooseText),!this.props.useGreenBtn&&a.createElement(o.BigButtonPrimaryTracked,{className:l.nextButton,onClick:this.props.onChoose,trackingProperties:{teamId:this.props.teamId}},this.props.chooseText))}}u.displayName="Plan",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(a,e,n){a.exports={teamUpgrade:"team_upgrade--teamUpgrade--2yUFs",addAnnualPlan:"team_upgrade--addAnnualPlan--1JFg6",cancel:"team_upgrade--cancel--1wYXD"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(a,o,r){a.exports={spacing:"add_collaborators--spacing--3a4gI",emailListItem:"add_collaborators--emailListItem--1TV6Z",emailInputsContainer:"add_collaborators--emailInputsContainer--9N6bH",formContainer:"add_collaborators--formContainer--3_NK1",ctaContainer:"add_collaborators--ctaContainer--L5bMw",stepBreadcrumbs:"add_collaborators--stepBreadcrumbs--1MlHd step_breadcrumb--stepBreadcrumbs--1I2LW"},a.exports instanceof Function&&(a.exports.default=a.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),r=a(1361                                ),i=a(1367                ),n=a(232                       ),l=a(1285                                                           ),o=a(204                                                        ),m=a(1566                     ),c=a(252                      ),d=a(203                                   );class p extends s.PureComponent{render(){return s.createElement("div",{className:m.stepBreadcrumbs},s.createElement(l.StepBreadcrumb,{selected:1===this.props.index,number:1,text:"Name your team"}),s.createElement(l.StepBreadcrumb,{selected:2===this.props.index,number:2,text:"Add team members"}),s.createElement(l.StepBreadcrumb,{selected:3===this.props.index,number:3,text:"Finish setup"}))}}t.AddCollaboratorsBreadCrumbs=p;t.AddCollaboratorsPage=class extends s.PureComponent{constructor(e){super(e),this.team=(()=>this.props.teams[this.props.selectedView.viewState.teamId]),this.cancel=(()=>{this.props.dispatch(n.fileBrowser.selectView({teamId:this.team().id}))}),this.updateEmail=((e,t)=>{if(t>=this.state.collaboratorEmails.length)return;const a=[...this.state.collaboratorEmails];a[t]=e,this.setState({collaboratorEmails:a})}),this.addEmailInput=(()=>{this.setState({collaboratorEmails:[...this.state.collaboratorEmails,""]})}),this.sendInvites=(()=>{this.props.dispatch(n.role.sendInvitesAndFinishTeamOnboarding(this.nonEmptyEmails(),this.team().id))}),this.nonEmptyEmails=(()=>this.state.collaboratorEmails.filter(e=>e).map(e=>e.trim())),this.skip=(()=>{this.props.dispatch(n.fileBrowser.selectView({upgradeTeamId:this.team().id,viewState:{paymentStep:c.PaymentStep.UPGRADE_NEW_TEAM,previousView:{teamId:this.team().id}}}))}),this.state={collaboratorEmails:["","",""]}}render(){const e=s.createElement(i.CancelButtonTracked,{onClick:this.cancel},"Cancel");return s.createElement(d.TrackingContext,{name:"Add Collaborators",properties:{teamId:this.team().id}},s.createElement("div",null,s.createElement(i.TopBar,Object.assign({title:this.team().name,menu:e,centerTitle:!0},this.props)),s.createElement(r.FullWidthPageContent,null,s.createElement(p,{index:2}),s.createElement(l.StepTitle,null,"Add your collaborators"),s.createElement(l.StepInstructions,null,"You can update user permissions on the team page after setting up."),s.createElement("div",{className:m.formContainer},s.createElement("div",{className:m.emailInputsContainer},this.state.collaboratorEmails.map((e,t)=>s.createElement(o.BigTextInput,{key:`collaborator-email-input-${t}`,className:m.emailListItem,value:e,onChange:e=>this.updateEmail(e.target.value,t),maxLength:255,placeholder:"Email"}))),s.createElement(o.ButtonSecondary,{className:m.emailListItem,onClick:this.addEmailInput},"Add another"),s.createElement("div",{className:m.spacing}),s.createElement("div",{className:m.ctaContainer},s.createElement(o.BigButtonPrimaryTracked,{disabled:0===this.nonEmptyEmails().length,onClick:this.sendInvites,trackingProperties:{numCollaborators:this.nonEmptyEmails().length}},"Continue"),s.createElement(o.LinkTracked,{onClick:this.skip},"Skip for now"))))))}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(34,1   ),n=a(232                        ),s=a(219          ),p=a(252                       ),c=a(1361                                                          ),m=a(1367                                          ),l=a(1285                                               ),i=a(1547                   ),d=a(1549                ),o=a(1562                   ),u=a(1288        ),_=a(1564                     ),E=a(1284                                                   ),b=a(1565                ),P=a(220                      ),S=a(196                               ),g=a(1567                                                              ),h=a(203                                    ),C=S.experiment("exp_review_editors_01").defaultComponentClass(i.StepReviewEditors).treatment("variant",o.StepChoosePlanV2).build(),A=S.experiment("exp_review_editors_01").defaultComponentClass(d.StepChoosePlan).treatment("variant",o.StepChoosePlanV2).build();class y extends r.PureComponent{constructor(){super(...arguments),this.cancel=(()=>{P.trackCtaClicked({teamId:this.props.selectedView.upgradeTeamId,category:[P.CtaCategories.UPGRADE_FLOW],text:"cancel",type:"button",location:"nav bar",description:"Team Upgrade Cancel CTA Clicked"});const e=this.props.selectedView.viewState;this.props.dispatch(n.fileBrowser.selectView(e.previousView))}),this.renderBreadcrumbs=(()=>{const{studentTeam:e}=this.props.payment,{upgradeTeamId:t,viewState:a}=this.props.selectedView,n=this.props.teams[t],s=a.paymentStep,c=1===n.editors;return e?r.createElement("div",{className:E.stepBreadcrumbs},!c&&r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.REVIEW_EDITORS,number:1,text:"Review Editors"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.CHOOSE_PLAN,number:c?1:2,text:"Choose Plan"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.PAYMENT_AND_ADDRESS,number:c?2:3,text:"Confirm"})):s===p.PaymentStep.UPGRADE_NEW_TEAM?"variant"===S.pickTreatment("exp_add_collaborators_01")?r.createElement(g.AddCollaboratorsBreadCrumbs,{index:3}):r.createElement("div",{className:E.stepBreadcrumbs}):"variant"===S.pickTreatment("exp_review_editors_01")?r.createElement("div",{className:E.stepBreadcrumbs},r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.CHOOSE_PLAN||s===p.PaymentStep.REVIEW_EDITORS,number:1,text:"Review Team"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.PAYMENT_AND_ADDRESS,number:2,text:"Enter Payment"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.CONFIRM_PAY,number:3,text:"Confirm and Pay"})):r.createElement("div",{className:E.stepBreadcrumbs},!c&&r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.REVIEW_EDITORS,number:1,text:"Review Editors"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.CHOOSE_PLAN,number:c?1:2,text:"Choose Plan"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.PAYMENT_AND_ADDRESS,number:c?2:3,text:"Enter Payment"}),r.createElement(l.StepBreadcrumb,{selected:s===p.PaymentStep.CONFIRM_PAY,number:c?3:4,text:"Confirm and Pay"}))})}render(){const{upgradeTeamId:e,viewState:t}=this.props.selectedView,a=this.props.teams[e],n=t.paymentStep,s=r.createElement(m.CancelButtonTracked,{onClick:this.cancel},"Cancel");return r.createElement(h.TrackingContext,{name:"Upgrade Team",properties:{teamId:this.props.selectedView.upgradeTeamId}},r.createElement("div",{className:b.teamUpgrade},r.createElement(m.TopBar,Object.assign({title:`Upgrade ${a.name}`,menu:s,centerTitle:!0},this.props)),r.createElement(c.FullWidthPageContent,null,this.renderBreadcrumbs(),n===p.PaymentStep.UPGRADE_NEW_TEAM&&r.createElement(_.StepUpgradeNewTeam,Object.assign({},this.props)),n===p.PaymentStep.PAYMENT_AND_ADDRESS&&r.createElement(u.StepPay,Object.assign({},this.props,{teamId:this.props.selectedView.upgradeTeamId,cancel:this.cancel})),n===p.PaymentStep.CHOOSE_PLAN&&r.createElement(A,Object.assign({},this.props)),n===p.PaymentStep.REVIEW_EDITORS&&r.createElement(C,Object.assign({},this.props)),n===p.PaymentStep.CONFIRM_PAY&&r.createElement(u.StepPay,Object.assign({},this.props,{teamId:this.props.selectedView.upgradeTeamId,cancel:this.cancel,confirmPay:!0})))))}}y.displayName="TeamUpgradePage",t.TeamUpgradePage=y;class T extends r.PureComponent{constructor(){super(...arguments),this.cancel=(()=>{s.segment&&s.segment.track("Add Annual Plan Canceled",{teamId:this.props.selectedView.addAnnualPlanTeamId}),history.go(-1)})}render(){const e=r.createElement("div",{className:b.cancel,onClick:this.cancel},"Cancel");return r.createElement("div",{className:b.addAnnualPlan},r.createElement(m.TopBar,Object.assign({title:"Add Annual Plan",menu:e,centerTitle:!0},this.props)),r.createElement(c.FullWidthPageContent,null,r.createElement(u.StepPay,Object.assign({},this.props,{teamId:this.props.selectedView.addAnnualPlanTeamId,addAnnualPlan:!0}))))}}T.displayName="AddAnnualPlan",t.AddAnnualPlan=T,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   );class n extends i.Component{constructor(e){super(e),this.tick=(()=>{this.setState({maxIndex:this.state.maxIndex+this.props.chunkSize}),this.frameRequest=null,this.tickIfNeeded()}),this.tickIfNeeded=(()=>{this.frameRequest||i.Children.count(this.props.children)<this.state.maxIndex||(this.frameRequest=requestAnimationFrame(this.tick))}),this.state={maxIndex:0},this.frameRequest=null}componentDidMount(){this.tickIfNeeded()}UNSAFE_componentWillReceiveProps(e){this.props.listKey!==e.listKey&&(this.setState({maxIndex:this.props.chunkSize}),this.tickIfNeeded())}componentDidUpdate(){this.tickIfNeeded()}componentWillUnmount(){this.frameRequest&&cancelAnimationFrame(this.frameRequest)}render(){const e=i.Children.toArray(this.props.children).slice(0,this.state.maxIndex);return i.createElement("div",{className:this.props.className},e)}}n.displayName="RenderListByChunks",t.RenderListByChunks=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,e){o.exports={widerDropdown:"file_action_dropdown--widerDropdown--3Md8A"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const i=t(34,1   ),o=t(302          ),l=t(176              ),r=t(357                  ),p=t(173                        ),n=t(232                        ),d=t(408                                  ),c=t(1417                       ),a=t(1570                        );class h extends i.Component{constructor(){super(...arguments),this.deleteFiles=(()=>{let e=r.getDeleteFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0);0!==Object.keys(e).length?this.props.dispatch(n.file.tryDeleteFiles({filesByKey:e})):this.props.dispatch(n.flash.error("You don't have permission to delete these files."))}),this.restoreFile=(()=>{let e=r.getRestoreFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0);0!==Object.keys(e).length?(this.props.dispatch(n.file.restoreTrashedFiles(e,!0)),this.props.dispatch(n.file.deselectFiles(r.getFilesToDeselect(e)))):this.props.dispatch(n.flash.error("You don't have permission to restore these files."))}),this.duplicateToDrafts=(()=>{this.props.dispatch(n.file.copySelectedToDrafts()),this.props.dispatch(n.file.resetFileSelection())}),this.removeFromRecentlyViewed=(()=>{const e=Object.keys(this.props.fileSelect.selectedFileKeys).map(e=>({key:e}));this.props.dispatch(n.file.recentFilesDelete(e,!0))})}showInFolder(e){this.props.dispatch(n.fileBrowser.selectView({folderId:e.folder_id,fileKey:e.key})),this.props.dispatch(n.file.selectFile(e.key)),this.props.dispatch(n.file.showInFolder(e))}openInNewTab(e){this.props.searchIndexToLog&&this.props.dispatch(n.fileBrowser.searchResultClicked(this.props.searchIndexToLog)),o.redirect(e.edit_url,"_blank")}shareFile(e){this.props.dispatch(n.fileBrowser.showModal({type:c.AppModal.FILE_PERMISSIONS_MODAL,data:{fileKey:e.key}}))}renameFile(e){this.props.dispatch(n.file.beginRenaming(e)),this.props.dispatch(n.file.resetFileSelection())}duplicateFile(e){this.props.dispatch(n.file.copySelected()),this.props.dispatch(n.file.resetFileSelection())}confirmDeleteFilesForever(e){this.props.dispatch(n.fileBrowser.showModal({type:c.AppModal.FILE_DELETE_FOREVER_CONFIRM_MODAL}))}render(){let e=this.props.file,s=p.canEditFile(e.key,this.props),t=this.props.dropdownShown.data.position,o="",n=Object.assign({},this.props.fileActions);const c=Object.keys(this.props.fileSelect.selectedFileKeys).length,h=this.props.dropdownShown.data.enableRestore;if(0===c)return i.createElement("div",null);let F=1===c;F||(n.showInFolder=!1,n.edit=!1,n.editNewTab=!1,n.restoreFromVersion=!1,n.share=!1,n.rename=!1,o=" "+c+" files"),h||(n.restoreFromVersion=!1);let f=!1,m=!1,w=!1,b=Object.keys(this.props.fileSelect.selectedFileKeys).length;Object.keys(r.getDeleteFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0)).length<b&&(f=!0),Object.keys(r.getRestoreFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0)).length<b&&(w=!0),Object.keys(r.getDeleteFilesForeverPayload(this.props.fileSelect.selectedFileKeys,this.props,!0)).length<b&&(m=!0);const O={children:"Show in Project",onClick:this.showInFolder.bind(this,e),disabled:!this.props.folders[e.folder_id]},y={children:"Open",href:e.edit_url,onClick:this.props.openFile},g={children:"Open in new tab",onClick:this.openInNewTab.bind(this,e)},k={children:"Restore from version",onClick:this.props.restoreFileFromVersion},u={children:"Share",onClick:this.shareFile.bind(this,e)},D={children:"Rename",onClick:this.renameFile.bind(this,e),disabled:!s},j={children:`Duplicate${o}`,onClick:this.duplicateFile.bind(this,e)},E={children:`Delete${o}`,onClick:this.deleteFiles,disabled:f},_={children:`Remove${o} from Recent`,onClick:this.removeFromRecentlyViewed},S={children:`Restore${o}`,onClick:this.restoreFile,disabled:w},R={children:`Delete${o} Forever`,onClick:this.confirmDeleteFilesForever.bind(this,e),disabled:m},v={children:`Duplicate ${o} to Drafts`,onClick:this.duplicateToDrafts};let C=this.props.className;return F||(C=a.widerDropdown+" "+C),i.createElement(d.dropdown.Dropdown,{className:C,style:t},n.showInFolder&&i.createElement(d.dropdown.Option,Object.assign({},O)),n.edit&&i.createElement(d.dropdown.Option,Object.assign({},y)),!l.desktopApp&&n.editNewTab&&i.createElement(d.dropdown.Option,Object.assign({},g)),n.restoreFromVersion&&i.createElement(d.dropdown.Option,Object.assign({},k)),n.share&&i.createElement(d.dropdown.Option,Object.assign({},u)),n.rename&&i.createElement(d.dropdown.Option,Object.assign({},D)),n.duplicate&&i.createElement(d.dropdown.Option,Object.assign({},j)),n.delete&&i.createElement(d.dropdown.Option,Object.assign({},E)),n.removeFromRecents&&i.createElement(d.dropdown.Option,Object.assign({},_)),n.restore&&i.createElement(d.dropdown.Option,Object.assign({},S)),n.deleteForever&&i.createElement(d.dropdown.Option,Object.assign({},R)),n.duplicateToDrafts&&i.createElement(d.dropdown.Option,Object.assign({},v)))}}h.displayName="FileActionDropdown",s.FileActionDropdown=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,e){o.exports={dropdownCollectionContainer:"file_sort_filter--dropdownCollectionContainer---_uFK",dropdownContainer:"file_sort_filter--dropdownContainer--1o80P",caret:"file_sort_filter--caret--naU-b",caretContainer:"file_sort_filter--caretContainer--3jIOY",caretDown:"file_sort_filter--caretDown--2rlQe"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(34,1   ),r=o(232                        ),s=o(1306                                           ),n=o(674                                                             ),p=o(144                        ),l=o(247                                ),a=o(0                    ),d=o(1572                    ),c=o(1308                        );class h extends i.PureComponent{render(){const e=a.initialOptions().feature_flags.show_creator_filter_everywhere||this.props.selectedView.deletedFiles;return i.createElement("div",{className:d.dropdownCollectionContainer},e&&i.createElement(g,Object.assign({},this.props)),i.createElement(f,Object.assign({},this.props)))}}h.displayName="FileSortFilter",t.FileSortFilter=h;class w extends i.PureComponent{constructor(){super(...arguments),this.targetRef=(e=>{this.targetDiv=e}),this.getDisplayText=(e=>this.props.valuesToDisplayText[e]),this.getTextWhenClosed=(e=>`${this.props.textWhenClosedPrefix}${this.getDisplayText(e)}`),this.updateConfig=(e=>()=>{const t=this.props.newConfig(e);this.props.dispatch(r.fileBrowser.setFileSortFilterConfigForView({selectedView:this.props.selectedView,config:t}))}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.props.dropdownId),this.toggleDropdown=(()=>{if(this.props.dispatch(r.file.resetFileSelection()),this.isDropdownShown())this.props.dispatch(r.fileBrowser.hideDropdown());else if(this.targetDiv){const e=this.targetDiv.getBoundingClientRect();this.props.dispatch(r.fileBrowser.showDropdown({type:this.props.dropdownId,data:{targetRect:e}}))}}),this.renderDropdown=(()=>{if(this.isDropdownShown())return i.createElement(n.PointingDropdown,{targetRect:this.props.dropdownShown.data.targetRect,minWidth:162},this.props.values.map(e=>i.createElement(s.CheckedOption,{key:e,isChecked:e===this.props.checkedValue,onClick:this.updateConfig(e)},this.getDisplayText(e))))})}render(){const e=this.getTextWhenClosed(this.props.checkedValue),t=`${d.caret} ${this.isDropdownShown()?d.caretDown:""}`;return i.createElement("div",{className:d.dropdownContainer,onClick:this.toggleDropdown},i.createElement("span",null,e),i.createElement("div",{className:d.caretContainer,ref:this.targetRef},i.createElement(p.Svg,{svg:c,className:t})),this.renderDropdown())}}w.displayName="FileSortFilterDropdown",t.FileSortFilterDropdown=w,t.fileFilterCreatorStaticProps={dropdownId:"file-filter-creator-dropdown",values:[l.FileFilterCreator.ANY,l.FileFilterCreator.SELF,l.FileFilterCreator.OTHER],textWhenClosedPrefix:"Created by ",valuesToDisplayText:{[l.FileFilterCreator.ANY]:"Anyone",[l.FileFilterCreator.SELF]:"You",[l.FileFilterCreator.OTHER]:"Others"}};class g extends i.PureComponent{constructor(){super(...arguments),this.newConfig=(e=>{const t=this.props.options.fileSortFilterConfig;return Object.assign({},t,{filters:Object.assign({},t.filters,{creator:e})})})}render(){return i.createElement(w,Object.assign({},t.fileFilterCreatorStaticProps,{dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,checkedValue:this.props.options.fileSortFilterConfig.filters.creator,newConfig:this.newConfig,dispatch:this.props.dispatch}))}}g.displayName="FileFilterCreatorDropdown",t.FileFilterCreatorDropdown=g,t.getFileSortKeyStaticProps=((e=!1)=>{const t=e?"Last Viewed":"Last Modified";return{dropdownId:"file-sort-dropdown",textWhenClosedPrefix:"Sorted by ",valuesToDisplayText:{[l.FileSortKey.CREATED_AT]:"Date Created",[l.FileSortKey.TOUCHED_AT]:t,[l.FileSortKey.NAME]:"File Name",[l.FileSortKey.TRASHED_AT]:"Date Deleted",[l.FileSortKey.SEARCH_RELEVANCE]:"Relevance"}}});class f extends i.PureComponent{constructor(){super(...arguments),this.newConfig=(e=>{const t=this.props.options.fileSortFilterConfig;let o=t.sort.dir;return a.initialOptions().feature_flags.reverse_sort_on_reselect&&e===t.sort.key&&(o=t.sort.dir===l.FileSortDir.DESC?l.FileSortDir.ASC:l.FileSortDir.DESC),Object.assign({},t,{sort:{key:e,dir:o}})}),this.getValues=(()=>[].concat(this.props.options.includeSearchRelevance?[l.FileSortKey.SEARCH_RELEVANCE]:[],this.props.options.includedTrashedAt?[l.FileSortKey.TRASHED_AT]:[],[l.FileSortKey.NAME,l.FileSortKey.CREATED_AT,l.FileSortKey.TOUCHED_AT]))}render(){return i.createElement(w,Object.assign({},t.getFileSortKeyStaticProps(this.props.selectedView.recentFiles),{dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,values:this.getValues(),checkedValue:this.props.options.fileSortFilterConfig.sort.key,newConfig:this.newConfig,dispatch:this.props.dispatch}))}}f.displayName="FileSortDropdown",t.FileSortDropdown=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,r){e.exports={facePile:"face_pile--facePile--p96xt",avatarWrapper:"face_pile--avatarWrapper--udZLJ",avatar:"face_pile--avatar--dtJ7c",overflowTarget:"face_pile--overflowTarget--37OPu face_pile--avatarWrapper--udZLJ",overflow:"face_pile--overflow--2fBCK",overflowRow:"face_pile--overflowRow--1yDLH",overflowUserName:"face_pile--overflowUserName--1IQq1 text--_whiteText--2PkdM"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=t(34,1   ),s=t(1574             ),l=t(349                            ),n=t(1060                                            ),o=t(408                                  ),c=t(352                      );class m extends r.Component{renderAvatarItem(e,a){return r.createElement("div",{key:e.id,className:s.avatarWrapper,"data-tooltip-text":c.formatUserHandle(e,this.props.currentUser)},r.createElement(l.Avatar,{className:s.avatar,entity:e}))}renderOverflowItem(e){return r.createElement("div",{className:s.overflowTarget},r.createElement(n.TextAvatar,{className:s.avatar,text:`+${e.length}`}),r.createElement(o.dropdown.Dropdown,{className:s.overflow},e.map((e,a)=>r.createElement("div",{className:s.overflowRow,key:e.id},r.createElement(l.Avatar,{className:s.avatar,entity:e}),r.createElement("div",{className:s.overflowUserName},c.formatUserHandle(e,this.props.currentUser))))))}render(){const e=this.props.threshold||-1;let a=Array.from(this.props.users),t=[];return e>0&&(t=a.splice(e)),r.createElement("div",{className:`${s.facePile} ${this.props.className||""}`},a.map((e,a)=>this.renderAvatarItem(e,a)),t.length?this.renderOverflowItem(t):null)}}m.displayName="FacePile",a.FacePile=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,i){e.exports={container:"file_tile--container--2_GSp",selectedContainer:"file_tile--selectedContainer--1ltgD file_tile--container--2_GSp",tileBorder:"file_tile--tileBorder--3nOOy",shadowTileBorder:"file_tile--shadowTileBorder--1WLx7 file_tile--tileBorder--3nOOy",fileTile:"file_tile--fileTile--2hK9H",newFileTile:"file_tile--newFileTile--3DWGZ",thinTileBorder:"file_tile--thinTileBorder--1L78l file_tile--tileBorder--3nOOy",dragContainer:"file_tile--dragContainer--1h2Mx",dragFileTile:"file_tile--dragFileTile--2ZF7Q file_tile--selectedContainer--1ltgD file_tile--container--2_GSp",image:"file_tile--image--h8GAb",settings:"file_tile--settings--3Adx0 file_tile--flexVertically--ECn9y",lowerPart:"file_tile--lowerPart--2yZ4r file_tile--flexHorizontally--O_pvD",title:"file_tile--title--aGiDO text--titleText--10C29 ellipsis--ellipsis--1RWY6",lowerPartTitles:"file_tile--lowerPartTitles--3mWT9 file_tile--flexVertically--ECn9y",subtitle:"file_tile--subtitle--2Ycrg text--labelText--1wP9s file_tile--flexHorizontally--O_pvD",thumbnailContainer:"file_tile--thumbnailContainer--2erZB",thumbnail:"file_tile--thumbnail--3UvOf",flexVertically:"file_tile--flexVertically--ECn9y",flexHorizontally:"file_tile--flexHorizontally--O_pvD",renameInput:"file_tile--renameInput--1L6H- text--titleText--10C29",subtitleProject:"file_tile--subtitleProject--1TY5B ellipsis--ellipsis--1RWY6",subtitleTime:"file_tile--subtitleTime--1FvWV"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,e){t.exports={id:"gdd6b9e84",src:'<svg width="25" height="25" xmlns="http://www.w3.org/2000/svg"><path d="M13.1 7.87c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zm0 6c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5zm0 6c-.828 0-1.5-.672-1.5-1.5 0-.828.672-1.5 1.5-1.5.828 0 1.5.672 1.5 1.5 0 .828-.672 1.5-1.5 1.5z" fill="#050505"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),r=s(141     ),l=s(469               ),a=s(232                        ),n=s(144                        ),o=s(664                                  ),p=s(1575                                 ),c=s(727                                 ),h=s(1576             ),d=s(504                            );let m=s(1577                                     );const u=r.chrome?h.shadowTileBorder:r.safari||r.firefox?h.thinTileBorder:h.tileBorder;class f extends i.PureComponent{constructor(e){super(e),this.FILE_ACTIONS_DROPDOWN="file-actions-dropdown",this.disallowAnchorHrefTask=new l.DelayedTask,this.disableEvent=(e=>{e.stopPropagation(),e.preventDefault()}),this.onFileSettingsClick=(e=>{let t=this.props.file;e.stopPropagation(),e.preventDefault(),this.props.isDropdownShown()?this.props.dispatch(a.fileBrowser.hideDropdown()):(this.props.dispatch(a.file.resetFileSelection()),this.props.dispatch(a.file.selectFile(t.key)),this.props.onFileContextMenu(t,e,this.tile))}),this.submitFileName=(e=>{this.props.dispatch(a.file.stopRenaming(this.props.file,e))}),this.cancelFileName=(()=>{this.props.dispatch(a.file.stopRenaming(this.props.file))}),this.onClick=(e=>{if(this.state.useAnchorHref)this.props.isSelected&&this.props.selectFile(this.props.file,e),this.props.openFile(this.props.file,e);else{this.props.selectFile(this.props.file,e);const t=500;this.disallowAnchorHrefTask.reset(),this.disallowAnchorHrefTask.scheduleOnce(()=>{this.setState({useAnchorHref:!1})},t),this.setState({useAnchorHref:!0}),e.preventDefault(),e.stopPropagation()}}),this.onContextMenu=(e=>{this.props.onFileContextMenu(this.props.file,e,null)}),this.onDragStart=(e=>{this.props.onFileDragStart(this.props.file,e)}),this.onDragEnd=(e=>{this.props.onFileDragEnd(this.props.file,e)}),this.stopEventPropagation=(e=>{e.stopPropagation()}),this.onMouseEnterTitle=(e=>{let t=e.target;t.offsetWidth<t.scrollWidth&&this.props.file?t.title=t.innerText:t.title=""}),this.onMouseEnterProjectName=(e=>{let t=e.target;t.offsetWidth<t.scrollWidth&&this.props.folderName?t.title=t.innerText:t.title=""}),this.getActiveFileUsers=(()=>{let e=this.props.file.key,t=this.props.user.id,s=[];if(this.props.activeFileUsers&&this.props.activeFileUsers[e]){let i,r=-1;(s=Object.keys(this.props.activeFileUsers[e]).map(t=>this.props.activeFileUsers[e][t])).sort((e,t)=>e.handle.toLowerCase()<t.handle.toLowerCase()?-1:1),s.forEach((e,s)=>{t===e.id&&(r=s,i=e)}),-1!=r&&(s.splice(r,1),s.unshift(i))}return s}),this.state={useAnchorHref:!1}}fileBackgroundColor(e){let t="transparent";if(e.client_meta)try{let i=JSON.parse(e.client_meta).background_color,r=i.a;if(0!=r){t=`rgba(${255*i.r|0}, ${255*i.g|0}, ${255*i.b|0}, ${r})`}}catch(s){}return t}componentWillUnmount(){this.disallowAnchorHrefTask.reset()}renderTitle(e,t,s){if(s)return i.createElement(c.Input,{className:h.renameInput,placeholderValue:e.name,submit:this.submitFileName,cancel:this.cancelFileName});{let t=e.name&&e.name.length>12?this.onMouseEnterTitle:null;return i.createElement("div",{className:h.title,onMouseEnter:t},e.name)}}renderSubtitle(e){if(this.props.deletedFilesView){let t=i.createElement(o.FromNow,{date:e.trashed_at});return t=e.trashed_user_id&&e.trashed_user_id===this.props.user.id?i.createElement("span",null,"Deleted by you ",t):e.trashed_user&&e.trashed_user.handle?i.createElement("span",null,"Deleted by ",e.trashed_user.handle," ",t):i.createElement("span",null,"Deleted ",t),i.createElement("div",{className:h.subtitle},t)}if(this.props.folderName){let t=null;return e.name&&e.name.length>12&&(t=this.onMouseEnterProjectName),i.createElement("div",{className:h.subtitle},"Edited",i.createElement("div",{className:h.subtitleTime},i.createElement(o.FromNow,{date:e.touched_at})),"",i.createElement("div",{key:`inproject-${e.key}`,onMouseEnter:t,className:h.subtitleProject},"in ",this.props.folderName))}return i.createElement("div",{className:h.subtitle},i.createElement("div",{className:h.subtitleTime},i.createElement(o.FromNow,{date:e.touched_at})))}render(){let e=this.props.file,t=e.appData&&e.appData.isRenaming,s=this.props.isSelected,r=h.container;s&&(r=h.selectedContainer);let l={backgroundImage:`url(${e.thumbnail_url})`},a={backgroundColor:this.fileBackgroundColor(e)};return i.createElement("a",{className:r,href:this.state.useAnchorHref?this.props.file.edit_url:null,rel:"noopener",onClick:this.onClick,onContextMenu:this.onContextMenu,onDragStart:this.onDragStart,onDragEnd:this.onDragEnd,ref:e=>this.tile=e},i.createElement("div",{className:h.fileTile,draggable:!t},i.createElement("div",{className:u,onClick:()=>!0}),i.createElement("div",{className:h.image,style:{background:`url(${d.default()})`}},i.createElement("div",{className:h.thumbnailContainer,style:a},i.createElement("div",{className:h.thumbnail,style:l}))),i.createElement("div",{className:h.lowerPart},i.createElement("div",{className:h.lowerPartTitles},this.renderTitle(e,!1,t),this.renderSubtitle(e)),i.createElement(p.FacePile,{users:this.getActiveFileUsers(),threshold:2,currentUser:this.props.user}),i.createElement(n.Svg,{svg:m,className:h.settings,onClick:this.onFileSettingsClick,onMouseDown:this.stopEventPropagation,onDoubleClick:this.disableEvent}))))}}f.displayName="FileTile",t.FileTile=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,t){e.exports={fileTiles:"file_tiles_view--fileTiles--3NFU3",fileCount:"file_tiles_view--fileCount--iAykV",fileActions:"file_tiles_view--fileActions--2s04Y",container:"file_tiles_view--container--3WZE0 file_browser_shared--container--1XKhp",innerContainer:"file_tiles_view--innerContainer--2LfRO",dragSelection:"file_tiles_view--dragSelection--2awrY",emptyStateContainer:"file_tiles_view--emptyStateContainer--2V_bQ",emptyState:"file_tiles_view--emptyState--3vkgH",newFileTile:"file_tiles_view--newFileTile--1kivx text--titleText--10C29 file_tile--container--2_GSp file_tile--newFileTile--3DWGZ",newFileTileClickTarget:"file_tiles_view--newFileTileClickTarget--27gur",newFileTileIcon:"file_tiles_view--newFileTileIcon--1vKNz",importPrompt:"file_tiles_view--importPrompt--25ygF",importIcons:"file_tiles_view--importIcons--vPJ1u",importIcon:"file_tiles_view--importIcon--3so9M",sortFilterContainer:"file_tiles_view--sortFilterContainer--2ZgXI"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){e.exports={teamUpgradeCtaTile:"file_tile_team_upgrade_cta--teamUpgradeCtaTile--2BPVn text--titleText--10C29 file_tile--container--2_GSp",boxLink:"file_tile_team_upgrade_cta--boxLink--1OkYk",boxTitle:"file_tile_team_upgrade_cta--boxTitle--1vFH9",boxDescription:"file_tile_team_upgrade_cta--boxDescription--331fS",boxSpreader:"file_tile_team_upgrade_cta--boxSpreader--31nGR",closeX:"file_tile_team_upgrade_cta--closeX--w-8Iq"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,t,f){l.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M0 12C0 5.373 5.374 0 12 0c6.628 0 12 5.373 12 12 0 6.627-5.372 12-12 12-6.627 0-12-5.373-12-12z" fill="#f2c94c"/><path d="M10.084 17L8 7l9 5.22-4.33 1.128L10.084 17z" fill="#010101"/><path d="M7.282 6.005l11.02 6.393-5.33 1.388-3.143 4.44-2.547-12.22zm1.436 1.99l1.622 7.78 2.027-2.865 3.33-.867-6.979-4.048z" fill-rule="evenodd" fill="#fff"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(34,1   ),r=a(232                        ),s=a(144                                 ),o=a(204                                                     ),l=a(220                  ),n=a(1417          ),p=a(196                           ),c=a(1580                              ),d=a(712                                     ),m=a(210                              ),g=a(1581                                   );t.TeamUpgradeCtaFileTile=p.experiment("exp_upgrade_experience_01").defaultComponentClass(class extends i.Component{UNSAFE_componentWillMount(){l.trackModalView({modal:"team upgrade file tile",teamId:this.props.teamId,treatment:"control"})}render(){return i.createElement("div",null)}}).treatment("variant",class extends i.Component{constructor(){super(...arguments),this.hideTile=(()=>{l.trackCtaClicked({location:"tile",text:"cancel",category:[l.CtaCategories.UPGRADE_EXPERIENCE],type:"link",teamId:this.props.teamId,description:"File Tile Cancel CTA Clicked"}),d.putPreferences(this.props.dispatch,{dismissed_team_upgrade_file_tile:!0}),this.props.dispatch(r.fileBrowser.dismissTeamUpgradeCtaTile())}),this.showProPitchModal=(()=>{l.trackCtaClicked({location:"tile",text:"upgrade",category:[l.CtaCategories.UPGRADE_EXPERIENCE],type:"link",teamId:this.props.teamId,description:"File Tile Learn More CTA Clicked"}),this.props.dispatch(r.fileBrowser.showModal({type:n.AppModal.PRO_PITCH_MODAL,data:{teamId:this.props.teamId}}))}),this.upgrade=(()=>{l.trackCtaClicked({location:"tile",text:"upgrade",category:[l.CtaCategories.UPGRADE_EXPERIENCE],type:"button",teamId:this.props.teamId,description:"File Tile Upgrade CTA Clicked"}),this.props.dispatch(r.payment.startProUpgradeFlow({teamId:this.props.teamId,selectedView:this.props.selectedView}))})}UNSAFE_componentWillMount(){l.trackModalView({modal:"team upgrade file tile",teamId:this.props.teamId,treatment:"variant"})}render(){return i.createElement("div",{className:c.teamUpgradeCtaTile},i.createElement("div",{className:c.closeX,onClick:this.hideTile},i.createElement(s.Svg,{svg:m})),i.createElement(s.Svg,{svg:g,useOriginalSrcFills:!0}),i.createElement("p",{className:c.boxTitle},"Professional Team"),i.createElement("p",{className:c.boxDescription},"Starting at $12/editor/month"),i.createElement("div",{className:c.boxSpreader}),i.createElement("div",{className:c.boxDescription},i.createElement("p",null," Unlimited Editors, Projects, and Version History"),i.createElement("p",null," Shared Components in Team Library"),i.createElement("p",null," Advanced project permissions")),i.createElement("div",{className:c.boxSpreader}),i.createElement(o.Link,{className:c.boxLink,onClick:this.showProPitchModal},"Learn More"),i.createElement("div",{className:c.boxSpreader}),i.createElement(o.ButtonGreen,{onClick:this.upgrade},"Upgrade"))}}).build(),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,z,m){l.exports={id:"g3b0e5606",src:'<svg width="23" height="19" xmlns="http://www.w3.org/2000/svg"><path d="M1.65 5.183l-.35-.357-.325.319.287.353.388-.315zm3.433-3.366L4.88 1.36l-.083.036-.065.064.35.357zM8.068.5V0h-.105l-.097.043.202.457zm7.164 0l.202-.457L15.338 0h-.106v.5zm2.985 1.317l.35-.357-.065-.064-.083-.036-.202.457zm3.433 3.366l.388.315.287-.353-.325-.32-.35.358zm-10 12.317l-.388.315.388.478.388-.478-.388-.315zM2 5.54l3.433-3.366-.7-.714L1.3 4.826l.7.714zm3.285-3.265L8.27.957 7.866.043 4.881 1.36l.404.915zM8.068 1h7.164V0H8.068v1zM15.03.957l2.985 1.318.404-.915L15.434.043l-.404.914zm2.837 1.217L21.3 5.54l.7-.714-3.433-3.366-.7.714zM4.87 2.27l3.556 1.683.428-.904-3.556-1.683-.428.904zM8.639 4h6.022V3H8.639v1zm6.236-.048l3.556-1.683-.428-.904-3.556 1.683.428.904zm-6.651-.73l-2.687 4 .83.557 2.687-4-.83-.558zM6.189 7.06L1.887 4.743l-.474.88L5.715 7.94l.474-.88zm8.057-3.281l2.687 4 .83-.558-2.687-4-.83.558zm3.339 4.161l4.302-2.317-.474-.88L17.11 7.06l.474.88zM17.348 7H5.952v1h11.396V7zm-11.83.748l5.698 10 .868-.495-5.697-10-.869.495zm6.566 10l5.698-10-.869-.496-5.697 10 .868.495zm9.178-12.88l-10 12.317.776.63 10-12.317-.776-.63zm-20 .63l10 12.317.776-.63-10-12.317-.776.63z" fill="#d4d4d4"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(h,v,z){h.exports={id:"g34e823af",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M6 8l.354-.354L6 7.293l-.354.353L6 8zM.5.5V0H0v.5h.5zm0 17H0v.5h.5v-.5zm17 0v.5h.5v-.5h-.5zm0-17h.5V0h-.5v.5zM.854 13.854l5.5-5.5-.708-.708-5.5 5.5.708.708zm4.792-5.5l9.5 9.5.708-.708-9.5-9.5-.708.708zM18 17.5V.5h-1v17h1zM17.5 0H.5v1h17V0zM.5 18h15v-1H.5v1zm15 0h2v-1h-2v1zM0 .5v13h1V.5H0zm0 13v4h1v-4H0zm12.02-4.501c1.656 0 3-1.34 3-2.994 0-1.654-1.344-2.995-3-2.995-1.657 0-3 1.34-3 2.995 0 1.653 1.343 2.994 3 2.994zm0-1c-1.106 0-2-.895-2-1.994 0-1.1.894-1.995 2-1.995 1.106 0 2 .895 2 1.995 0 1.1-.894 1.994-2 1.994z" fill="#d4d4d4"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(34,1   ),r=i(38,1       ),l=i(141     ),o=i(302          ),n=i(176              ),a=i(97      ),p=i(357                  ),c=i(1530                         ),h=i(232                        ),d=i(247                                ),f=i(1471                    ),F=i(166                         ),m=i(248                                  ),g=i(144                        ),u=i(1569                                                           ),y=i(1571                                               ),w=i(1417                       ),S=i(1573                                                            ),_=i(1578                                              ),v=i(1576                                                  ),E=i(1579                   ),D=i(1582                          ),N=i(172                 ),C=i(140                    ),T=i(712                                     ),K=i(729                            ),b=i(1583                              ),k=i(1584                             ),O=32,A=8,I=46,R=65;var B;!function(e){e[e.FILE=0]="FILE",e[e.NEW_FILE=1]="NEW_FILE",e[e.TEAM_UPGRADE_CTA=2]="TEAM_UPGRADE_CTA"}(B||(B={}));class L extends s.Component{constructor(e){super(e),this.FILE_ACTIONS_DROPDOWN="file-actions-dropdown",this.dragSelectEnd=(e=>{this.state.isDragSelecting&&(this.props.dispatch(h.file.selectFiles(this.calculateSelectedFileKeys())),this.selection=null,this.setState({currentX:null,currentY:null,isDragSelecting:!1}),this.startX=null,this.startY=null,e.stopPropagation(),e.preventDefault())}),this.dragSelectMove=(e=>{if(this.state.isDragSelecting){const t=this.innerContainer.getBoundingClientRect();this.setState({currentX:e.clientX-t.left,currentY:e.clientY-t.top})}}),this.dragSelectStart=(e=>{if(this.selection&&this.setState({isDragSelecting:!1}),!(e.target===this.container||e.target===this.innerContainer||e.target===this.fileTiles||e.target===this.sortFilterContainer||this.importPrompt&&this.importPrompt.contains(e.target)))return;this.props.dispatch(h.fileBrowser.hideDropdown()),e.ctrlKey||e.metaKey||e.shiftKey?this.props.fileSelect.selectedFileKeys=Object.assign({},this.props.fileSelect.selectedFileKeys):(this.props.fileSelect.selectedFileKeys={},this.props.dispatch(h.file.resetFileSelection()));const t=this.innerContainer.getBoundingClientRect();this.startX=e.clientX-t.left,this.startY=e.clientY-t.top,this.setState({currentX:this.startX,currentY:this.startY,isDragSelecting:!0})}),this.onDocumentKeyDown=(e=>{let t=document.activeElement.tagName,i="DIV"===document.activeElement.tagName&&"true"===document.activeElement.getAttribute("contenteditable");if(!("INPUT"===t||"TEXTAREA"===t||i||this.props.modalShown&&Object.keys(this.props.modalShown).length>0||this.props.dropdownShown))switch(e.keyCode){case R:{if(!e.ctrlKey&&!e.metaKey)return;let t={};for(let e of this.state.sortedFilteredFiles)t[e.key]=!0;this.props.dispatch(h.file.selectFiles(t)),e.preventDefault(),e.stopPropagation();break}case I:case A:{let t=Object.keys(this.props.fileSelect.selectedFileKeys);if(0===t.length)break;if(this.props.selectedView.deletedFiles){let e=p.getDeleteFilesForeverPayload(this.props.fileSelect.selectedFileKeys,this.props,!0);Object.keys(e).length<t.length?1===t.length?this.props.dispatch(h.flash.error("You don't have permission to delete this file forever.")):this.props.dispatch(h.flash.error("You don't have permission to delete some of these files forever.")):this.props.dispatch(h.fileBrowser.showModal({type:w.AppModal.FILE_DELETE_FOREVER_CONFIRM_MODAL}))}else{let e=p.getDeleteFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0);Object.keys(e).length<t.length?1===t.length?this.props.dispatch(h.flash.error("You don't have permission to delete this file.")):this.props.dispatch(h.flash.error("You don't have permission to delete some of these files.")):this.props.dispatch(h.file.tryDeleteFiles({filesByKey:e}))}e.preventDefault(),e.stopPropagation();break}}}),this.sortFilesByName=((e,t)=>{const i=t?1:-1;return this.sortFilesBy(e,(e,t)=>{const s=(e.name||"").toLowerCase(),r=(t.name||"").toLowerCase();if(s===r){const s=this.props.folders[e.folder_id],r=this.props.folders[t.folder_id];return!s&&r||!s&&!r?1:s&&!r?-1:s.path.toLowerCase()<r.path.toLowerCase()?-i:i}return s.toLowerCase()<r.toLowerCase()?-i:i})}),this.sortFilesByCreation=((e,t)=>{const i=t?1:-1;return this.sortFilesBy(e,(e,t)=>e.created_at>t.created_at?-i:i)}),this.sortFilesByUpdates=((e,t)=>{const i=t?1:-1;return this.sortFilesBy(e,(e,t)=>e.touched_at>t.touched_at?-i:i)}),this.sortFilesByTrashed=((e,t)=>{const i=t?1:-1;return this.sortFilesBy(e,(e,t)=>e.trashed_at>t.trashed_at?-i:i)}),this.sortFilesBy=((e,t)=>(e.sort(t),e)),this.getFilterCreatorFunc=((e,t)=>i=>e===d.FileFilterCreator.ANY||(e===d.FileFilterCreator.SELF&&i.creator_id===t||e===d.FileFilterCreator.OTHER&&i.creator_id!==t)),this.getSortedFilteredFiles=((e,t)=>{if(m.fileSortFilterConfigEquals(t,this.props.sortFilterOptions.srcFileSortFilterConfig))return e;let i=e.filter(this.getFilterCreatorFunc(t.filters.creator,this.props.user.id));const s=t.sort.dir===d.FileSortDir.DESC;switch(t.sort.key){case d.FileSortKey.CREATED_AT:return this.sortFilesByCreation(i,s);case d.FileSortKey.TOUCHED_AT:return this.sortFilesByUpdates(i,s);case d.FileSortKey.NAME:return this.sortFilesByName(i,s);case d.FileSortKey.TRASHED_AT:return this.sortFilesByTrashed(i,s);default:return console.error("Unknown sort key",t.sort.key),[]}}),this.setSortedFilteredFilesState=((e,t)=>{const i=this.getSortedFilteredFiles(e,t);this.setState({sortedFilteredFiles:i})}),this.getActiveFileUsers=(e=>{e.length&&this.props.dispatch(h.file.getActiveUsers({fileKeys:e}))}),this.getFileKeys=(()=>this.state.sortedFilteredFiles.map(e=>e.key)),this.onFileDragStart=((e,t)=>{t.dataTransfer.effectAllowed="none";let i=Object.keys(this.props.fileSelect.selectedFileKeys).length;if(t.stopPropagation(),this.props.selectedView.deletedFiles||0===i||this.props.dropdownShown)return void t.preventDefault();let s=t.currentTarget,r=s.cloneNode(!0),l=document.createElement("div"),o=s.getBoundingClientRect(),n=o.right-o.left,a=o.bottom-o.top,p=160*(t.clientX-o.left)/n,h=130*(t.clientY-o.top)/a,d=Object.keys(this.props.fileSelect.selectedFileKeys).map(e=>this.props.fileByKey[e]);l.className=v.dragContainer;let f=e=>{e.setAttribute("data-reactid",null);for(let t of Array.from(e.children))f(t)};f(r),r.className=v.dragFileTile,t.dataTransfer.effectAllowed="move";let F=null,m=null;i>=2&&((F=r.cloneNode(!0)).style.top="4px",F.style.left="4px",F.className=v.dragFileTile),i>=3&&((m=r.cloneNode(!0)).style.top="8px",m.style.left="8px",m.className=v.dragFileTile),m&&l.appendChild(m),F&&l.appendChild(F),l.appendChild(this.constructDragFileNumber()),l.appendChild(r),s.appendChild(l);let g=new c.DataTransferWrapper(t.dataTransfer);g.setFigFilesData(d),g.setDragImage(l,O/2+p,O/2+h),this.draggingFilePreview=l}),this.onFileDragEnd=(()=>{this.draggingFilePreview.remove()}),this.onFileContextMenu=((e,t,i,s)=>{t.stopPropagation(),t.preventDefault();let r=this.container.getBoundingClientRect(),l=this.container.scrollTop,o=i?{top:"auto",left:"auto",right:r.right-i.getBoundingClientRect().right+8,bottom:r.bottom-i.getBoundingClientRect().bottom+48-l}:{top:t.clientY-r.top+l,left:t.clientX-r.left,right:"auto",bottom:"auto"};this.showDropdown(e,t,o,s)}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.FILE_ACTIONS_DROPDOWN),this.selectFile=((e,t)=>{if(this.props.dropdownShown)return this.props.dispatch(h.fileBrowser.hideDropdown()),!0;if(e.appData&&e.appData.isRenaming)return;if(l.mobile||l.tablet)return void o.redirect(e.url);t.stopPropagation();let i=this.props.fileSelect&&this.props.fileSelect.selectedFileKeys&&this.props.fileSelect.selectedFileKeys[e.key];if(t.ctrlKey||t.metaKey||t.shiftKey)i?this.props.dispatch(h.file.deselectFile(e)):this.props.dispatch(h.file.selectFile(e.key));else{if(i)return;this.props.dispatch(h.file.resetFileSelection()),this.props.dispatch(h.file.selectFile(e.key))}}),this.openFile=((e,t,i)=>{if(this.props.fileSearch&&this.props.dispatch(h.fileBrowser.searchResultClicked(i)),e.appData&&e.appData.isRenaming||p.isTrashed(e.key,this.props))return t.preventDefault(),void t.stopPropagation();const s=C.mac?t.metaKey:t.ctrlKey;let r=null;if(s&&t.shiftKey?r=n.OpenTarget.FOCAL_TAB:s?r=n.OpenTarget.BACKGROUND_TAB:t.shiftKey&&(r=n.OpenTarget.NEW_WINDOW),null!=r)return this.props.dispatch(h.fileBrowser.hideDropdown()),n.desktopApp?(t.preventDefault(),t.stopPropagation(),void n.desktopApp.openFile(e.key,e.name||"Untitled",r)):void 0;t.preventDefault(),t.stopPropagation(),this.props.dispatch(h.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:e.key}}))}),this.restoreFile=((e,t)=>{const i=`/api/versions/${e.key}?page_size=100`;a.default.get(i).then(({data:t})=>{const i=e,s=t.meta.versions;this.props.dispatch(h.fileBrowser.showModal({type:w.AppModal.FILE_RESTORE_FROM_VERSION_MODAL,data:{fig:i,versions:s}}))},()=>{this.props.dispatch(h.flash.error("An error occurred while retrieving the file history."))})}),this.createNewFile=(e=>{e.preventDefault(),e.stopPropagation();var t=e.metaKey||e.shiftKey||e.ctrlKey;this.props.dispatch(h.fullscreen.new_(f.getNewFileInfo(this.props,t)))}),this.containerRef=(e=>{if(e&&(this.container=r.findDOMNode(e),l.mobile&&l.safari)){let e=this.container.className;window.addEventListener("load",()=>{this.container.className="",setTimeout(()=>{this.container.className=e},500)})}}),this.sortFilterContainerRef=(e=>{e&&(this.sortFilterContainer=e)}),this.state={currentX:null,currentY:null,isDragSelecting:!1,sortedFilteredFiles:[]}}UNSAFE_componentWillMount(){this.setSortedFilteredFilesState(this.props.files,this.props.sortFilterOptions.fileSortFilterConfig)}componentDidMount(){window.addEventListener("mouseup",this.dragSelectEnd),window.addEventListener("mousemove",this.dragSelectMove),document.addEventListener("keydown",this.onDocumentKeyDown),this.props.selectedView.deletedFiles||this.getActiveFileUsers(this.getFileKeys())}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),window.removeEventListener("mouseup",this.dragSelectEnd),window.removeEventListener("mousedown",this.dragSelectMove)}UNSAFE_componentWillReceiveProps(e){if(!this.props.selectedView.deletedFiles){const t=[];for(let i of e.files){const e=i.key;t.push(e)}this.getActiveFileUsers(t)}this.props.files===e.files&&m.fileSortFilterConfigEquals(this.props.sortFilterOptions.fileSortFilterConfig,e.sortFilterOptions.fileSortFilterConfig)||this.setSortedFilteredFilesState(e.files,e.sortFilterOptions.fileSortFilterConfig)}constructDragFileNumber(){let e=Object.keys(this.props.fileSelect.selectedFileKeys).length,t=e>=100?"99+":e.toString(),i=document.createElement("div");return i.innerText=t,i.className=E.fileCount,i}showDropdown(e,t,i,s){const r=t.shiftKey&&t.altKey;if(this.props.fileSelect&&this.props.fileSelect.selectedFileKeys){if(this.props.fileSelect.selectedFileKeys[e.key])return void this.props.dispatch(h.fileBrowser.showDropdown({type:this.FILE_ACTIONS_DROPDOWN,data:{fileKey:e.key,position:i,index:s,enableRestore:r}}));if(t.shiftKey||t.metaKey||t.ctrlKey)return this.props.dispatch(h.file.selectFile(e.key)),void this.props.dispatch(h.fileBrowser.showDropdown({type:this.FILE_ACTIONS_DROPDOWN,data:{fileKey:e.key,position:i,index:s,enableRestore:r}}))}t.shiftKey||t.metaKey||t.ctrlKey||this.props.dispatch(h.file.resetFileSelection()),this.props.dispatch(h.file.selectFile(e.key)),this.props.dispatch(h.fileBrowser.showDropdown({type:this.FILE_ACTIONS_DROPDOWN,data:{fileKey:e.key,position:i,index:s,enableRestore:r}}))}calculateSelectionBounds(){let e=this.container.getBoundingClientRect(),t=e.bottom-e.top,i=e.right-e.left,s=i-this.state.currentX;return{top:Math.min(this.startY,this.state.currentY>0?this.state.currentY:0)+"px",left:Math.min(this.startX,this.state.currentX>0?this.state.currentX:0)+"px",bottom:Math.min(t-this.startY,t-this.state.currentY)+"px",right:Math.min(i-this.startX,s>0?s:0)+"px"}}calculateSelectedFileKeys(){const e=this.getTiles();let t=e.length,i={};for(let s=0;s<t;s++){if(e[s].type!==B.FILE||null==this.fileTiles.children[s])continue;let t=this.intersectRect(this.fileTiles.children[s].getBoundingClientRect(),this.selection.getBoundingClientRect()),r=e[s].file.key;t&&(i[r]=!0)}return i}intersectRect(e,t){return!(t.left>e.right||t.right<e.left||t.top>e.bottom||t.bottom<e.top)}renderNewFileTile(){return s.createElement("div",{key:"new-file-tile",className:E.newFileTile},s.createElement("a",{className:E.newFileTileClickTarget,onClick:this.createNewFile},s.createElement(g.Svg,{className:E.newFileTileIcon,svg:K}),s.createElement("div",null,"New File")))}renderInvisibleFiles(e){let t=[];for(let i=0;i<e;i++)t.push(s.createElement("div",{key:`invis-${i}`,style:{visibility:"hidden",height:0,marginBottom:0},className:v.container}));return t}renderDropdown(){let e=this.props.dropdownShown;if(!(e&&e.type===this.FILE_ACTIONS_DROPDOWN&&e.data&&e.data.fileKey))return;let t=this.props.fileByKey[e.data.fileKey];if(!t)return;const i=e.data.index;return s.createElement(y.FileActionDropdown,Object.assign({},this.props,{className:E.fileActions,file:t,openFile:e=>{this.openFile(t,e,i)},searchIndexToLog:this.props.fileSearch&&i,restoreFileFromVersion:this.restoreFile.bind(this,t)}))}getTiles(){const e=this.state.sortedFilteredFiles.map(e=>({type:B.FILE,file:e}));if(e.length>=2&&!T.getPreferences(this.props).dismissed_team_upgrade_file_tile&&!this.props.teamUpgradeCtaTileDismissed&&this.props.selectedView.folderId&&this.props.folders[this.props.selectedView.folderId].team_id){const t=this.props.teams[this.props.folders[this.props.selectedView.folderId].team_id];N.canShowProUpgradeLink(t,this.props)&&e.splice(2,0,{type:B.TEAM_UPGRADE_CTA,file:null})}return l.mobile||l.tablet||!this.props.newFileTile||e.push({type:B.NEW_FILE,file:null}),e}render(){if(0===this.state.sortedFilteredFiles.length){let e;if(this.props.emptyStateText?e=this.props.emptyStateText:(l.mobile||l.tablet)&&(e=`This project is empty!${s.createElement("br",null)}Import or create a file when you're back at your computer.`),e)return s.createElement("div",{className:E.emptyStateContainer},s.createElement("div",{className:E.sortFilterContainer},s.createElement(S.FileSortFilter,{options:this.props.sortFilterOptions,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch})),s.createElement("div",{className:E.emptyState},this.props.emptyStateText))}let e={},t={};this.selection&&(e=this.calculateSelectedFileKeys(),t=this.calculateSelectionBounds());const i=this.getFileKeys().join(",");return s.createElement("div",{className:E.container,onMouseDown:this.dragSelectStart,ref:this.containerRef},s.createElement("div",{className:E.container,ref:e=>{e&&(this.innerContainer=r.findDOMNode(e))}},s.createElement("div",{className:E.sortFilterContainer,ref:this.sortFilterContainerRef},s.createElement(S.FileSortFilter,{options:this.props.sortFilterOptions,dropdownShown:this.props.dropdownShown,selectedView:this.props.selectedView,dispatch:this.props.dispatch})),s.createElement(u.RenderListByChunks,{ref:e=>{e&&(this.fileTiles=r.findDOMNode(e))},className:E.fileTiles,chunkSize:42,listKey:i},this.getTiles().map((t,i)=>{switch(t.type){case B.FILE:let r=e[t.file.key]||this.props.fileSelect.selectedFileKeys&&this.props.fileSelect.selectedFileKeys[t.file.key],l=this.props.fileActions.showInFolder&&this.props.folders[t.file.folder_id]?F.getFolderName(this.props.folders[t.file.folder_id]):null;return s.createElement(_.FileTile,{file:t.file,isSelected:r,deletedFilesView:this.props.selectedView.deletedFiles,recentFilesView:this.props.selectedView.recentFiles,folderName:l,user:this.props.user,isDropdownShown:this.isDropdownShown,onFileContextMenu:(e,t,s)=>{this.onFileContextMenu(e,t,s,i)},selectFile:this.selectFile,onFileDragStart:this.onFileDragStart,onFileDragEnd:this.onFileDragEnd,openFile:(e,t)=>{this.openFile(e,t,i)},key:`file-${t.file.key}`,dispatch:this.props.dispatch,activeFileUsers:this.props.activeFileUsers});case B.NEW_FILE:return this.renderNewFileTile();case B.TEAM_UPGRADE_CTA:return s.createElement(D.TeamUpgradeCtaFileTile,{key:"team-upgrade-cta",dispatch:this.props.dispatch,selectedView:this.props.selectedView,teamId:this.props.folders[this.props.selectedView.folderId].team_id});default:return null}}),this.renderInvisibleFiles(10)),!(l.mobile||l.tablet)&&this.props.newFileTile&&this.state.sortedFilteredFiles.length<3&&s.createElement("div",{className:E.importPrompt,ref:e=>{e&&(this.importPrompt=r.findDOMNode(e))}},s.createElement("div",{className:E.importIcons},s.createElement("div",{className:E.importIcon},s.createElement(g.Svg,{svg:b}),"sketch"),s.createElement("div",{className:E.importIcon},s.createElement(g.Svg,{svg:k}),"jpg"),s.createElement("div",{className:E.importIcon},s.createElement(g.Svg,{svg:k}),"png")),"Drag and drop a file to import")),this.state.isDragSelecting?s.createElement("div",{className:E.dragSelection,style:t,ref:e=>{e&&(this.selection=r.findDOMNode(e))}}):null,this.renderDropdown())}}L.displayName="FileTiles",t.FileTiles=L,L.defaultProps={newFileTile:!0},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,t,r){o.exports={row:"row--row--1MZgK",columnLeft:"row--columnLeft--16tEW",columnRight:"row--columnRight--2q4aJ",date:"row--date--DYZhU",dateWithMargin:"row--dateWithMargin--3nqAv row--date--DYZhU",unreadDot:"row--unreadDot--Bvzfl",notificationOptionRowWrapper:"row--notificationOptionRowWrapper--1eoQk",buttonRow:"row--buttonRow--3rbFD row--row--1MZgK"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const o=i(34,1   ),s=i(664                                  ),n=i(204                                            ),a=i(1586       );class c extends o.PureComponent{constructor(){super(...arguments),this.relativeTimeSpec={future:"in %s",past:"%s ago",s:"just now",ss:"%d seconds",m:"1 min",mm:"%d min",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},this.rowOnClick=(()=>{this.props.rowOnClick(this.props.notification.id)})}render(){const t=this.props.notification,e=!t.resolved_at&&!t.read_at;return o.createElement("div",{className:a.row,onClick:this.props.rowOnClick?this.rowOnClick:null},o.createElement("div",{className:a.columnLeft},this.props.children),o.createElement("div",{className:a.columnRight},o.createElement("div",{className:e?a.date:a.dateWithMargin},o.createElement(s.FromNow,{date:t.created_at,isSuffixRemoved:!0,customizeRelativeTimes:this.relativeTimeSpec})),e&&o.createElement("span",{className:a.unreadDot})))}}c.displayName="NotificationRow",e.NotificationRow=c;class r extends o.PureComponent{constructor(){super(...arguments),this.acceptNotification=(()=>{this.props.acceptNotification(this.props.notification.id)}),this.rejectNotification=(t=>{t.stopPropagation(),this.props.rejectNotification(this.props.notification.id)})}render(){const t=this.props.buttonLabels,e=t&&t.accept||"Accept",i=t&&t.decline||"Decline";return o.createElement("div",{className:a.notificationOptionRowWrapper},o.createElement(c,{notification:this.props.notification},this.props.children),o.createElement("div",{className:a.buttonRow},o.createElement(n.ButtonPrimary,{onClick:this.acceptNotification},e),o.createElement(n.ButtonPrimary,{onClick:this.rejectNotification},i)))}}r.displayName="NotificationRowWithButtons",e.NotificationRowWithButtons=r,t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,n,i){t.exports={container:"default_notification--container--zNLEF",avatar:"default_notification--avatar--3BVBy",notificationInfo:"default_notification--notificationInfo--1-mz1",boldText:"default_notification--boldText--1Lo_G",inlineText:"default_notification--inlineText--394nz"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),n=a(349                            ),i=a(1588                        );class r extends s.PureComponent{render(){const e=this.props.user;return s.createElement("div",{className:i.container},s.createElement(n.Avatar,{className:i.avatar,entity:e}),s.createElement("div",{className:i.notificationInfo},s.createElement("span",{className:i.boldText},e.handle,""),this.props.includeUserEmailAddress&&e.email&&s.createElement("div",null,"(",e.email,")"),this.props.children))}}r.displayName="DefaultNotification",t.DefaultNotification=r,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={arrow:"user_notifications_dropdown--arrow--LOO3F",dropdownContainer:"user_notifications_dropdown--dropdownContainer--2aTJG",dropdownContainerEmptyState:"user_notifications_dropdown--dropdownContainerEmptyState--3VHJ_ user_notifications_dropdown--dropdownContainer--2aTJG",loadingContainer:"user_notifications_dropdown--loadingContainer--2Kw9m",header:"user_notifications_dropdown--header--yqBBa",scrollContainer:"user_notifications_dropdown--scrollContainer--16yeX",container:"user_notifications_dropdown--container--z8dvm",emptyRow:"user_notifications_dropdown--emptyRow--1eYKR",boldText:"user_notifications_dropdown--boldText--2M1f4"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(o,t,n){o.exports={dropdownWidth:"282px"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=i(34,1   ),s=i(232                        ),n=i(173                        ),r=i(1362                                 ),a=i(126                     ),c=i(1344                                 ),l=i(370              ),d=i(204                                            ),p=i(376                                                  ),f=i(147                                        ),u=i(1587   ),h=i(1589                    ),m=i(1590                               ),N=i(1591                                              );t.USER_NOTIFICATIONS_DROPDOWN="user-notifications-dropdown";const E=l.pxToInt(N.dropdownWidth);class _ extends o.PureComponent{constructor(){super(...arguments),this.isVowel=function(){const e=/^[aeiou]$/i;return function(t){return e.test(t)}}(),this.isMarkAllAsReadShown=(()=>{const e=this.props.notifications;if(e.isFetchingNotifictions||0===e.feed.allIds.length)return!1;for(let t in e.feed.byId){const i=e.feed.byId[t];if(!i.read_at&&!i.resolved_at)return!0}return!1}),this.getInviteText=((e,t,i,s)=>{const r=a.ResourceType.FOLDER===t?"project":t;if(s){const t=n.levelRoleName(e),s=t&&this.isVowel(t[0])?"an":"a";return o.createElement("span",null," made you ",s," ",t," of the ",r," ",o.createElement("span",{className:m.boldText},i)," ")}return a.ResourceType.FILE===t||a.ResourceType.FOLDER===t?o.createElement("span",null," shared the ",r," ",o.createElement("span",{className:m.boldText},i)," with you "):o.createElement("span",null," invited you to the team ",o.createElement("span",{className:m.boldText},i))}),this.acceptNotification=(e=>{this.props.dispatch(s.userNotifications.resolve({notificationId:e}))}),this.selectView=(e=>{this.props.dispatch(s.userNotifications.selectView({notificationId:e}))}),this.rejectNotification=(e=>{this.props.dispatch(s.userNotifications.reject({notificationId:e,userInitiated:!0}))}),this.markAllAsRead=(()=>{this.props.dispatch(s.userNotifications.markAllAsRead())}),this.stopPropagationOnClick=(e=>{e.stopPropagation()}),this.renderNotificationRow=((e,t,i,s,n,r=!1,a={},c=!1)=>{const l=o.createElement(h.DefaultNotification,{user:i,includeUserEmailAddress:c,notificationId:e.id},t);return r?o.createElement(u.NotificationRowWithButtons,{acceptNotification:this.acceptNotification,rejectNotification:this.rejectNotification,buttonLabels:a,notification:e,key:e.id},l):o.createElement(u.NotificationRow,{rowOnClick:n,notification:e,key:e.id},l)}),this.renderInviteNotification=((e,t,i)=>{const o=e.locals,s=this.props.notifications.users[o.user_id],n=this.props.notifications.roles[o.role_id];if(!n||!s)return null;const r=this.getInviteText(n.level,i,t,!!e.resolved_at),a=e.resolved_at?this.selectView:this.acceptNotification;return this.renderNotificationRow(e,r,s,t,a,!e.resolved_at)}),this.renderFileInvite=(e=>{const t=e.locals.file_key,i=this.props.notifications.files[t];return i?this.renderInviteNotification(e,i.name||"Untitled",a.ResourceType.FILE):null}),this.renderFolderInvite=(e=>{const t=e.locals.folder_id,i=this.props.notifications.folders[t];return i?this.renderInviteNotification(e,i.name,a.ResourceType.FOLDER):null}),this.renderTeamInvite=(e=>{const t=e.locals.team_id,i=this.props.notifications.teams[t];return i?this.renderInviteNotification(e,i.name,a.ResourceType.TEAM):null}),this.renderCommentNotification=(e=>{const t=e.locals,i=this.props.notifications.files[t.file_key],s=this.props.notifications.users[t.user_id],n=e.resolved_at?this.selectView:this.acceptNotification;if(!i||!s)return null;const r=i.name||"Untitled",a=t.comment_parent_id?o.createElement("span",null,"  replied to a comment on ",o.createElement("span",{className:m.boldText},r)):o.createElement("span",null,"  left a comment on ",o.createElement("span",{className:m.boldText},r));return this.renderNotificationRow(e,a,s,r,n,!1)}),this.renderAtMentionNotification=(e=>{const t=e.locals,i=this.props.notifications.files[t.file_key];if(!i)return null;const s=i.name||"Untitled",n=this.props.notifications.users[t.user_id],r=e.resolved_at?this.selectView:this.acceptNotification,a=o.createElement("span",null,"  mentioned you in a comment on ",o.createElement("span",{className:m.boldText},s));return this.renderNotificationRow(e,a,n,s,r,!1)}),this.renderOrgAccountTypeRequestCreated=(e=>{const t=e.locals,i=this.props.notifications.users[t.user_id],s=e.resolved_at?this.selectView:this.acceptNotification,n=o.createElement("span",null," is requesting to become a Full user");return this.renderNotificationRow(e,n,i,"",s,!0,{},!1)}),this.renderOrgAccountTypeRequestStatus=(e=>{const t=e.locals,i=this.props.notifications.users[t.user_id],s=e.resolved_at?this.selectView:this.acceptNotification;let n;return n=e.view===r.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_APPROVED?o.createElement("span",null," has approved your request to become a Full member"):o.createElement("span",null," has denied your request to become a Full member"),this.renderNotificationRow(e,n,i,"",s,!1,{},!0)}),this.renderTeamRoleRequestCreated=(e=>{const t=e.locals,i=e.resolved_at?this.selectView:this.acceptNotification,s=this.props.notifications.users[t.user_id],n=this.props.notifications.teams[t.team_id],r=t.level===a.PermissionLevel.EDITOR?"edit":"view",c=o.createElement("span",null," is requesting to ",r," the team: ",n.name);return this.renderNotificationRow(e,c,s,n.name,i,!0,{accept:"Approve",decline:"Reject"},!0)}),this.renderTeamRoleRequestStatus=(e=>{const t=e.locals,i=e.resolved_at?this.selectView:this.acceptNotification,s=this.props.notifications.users[t.user_id],n=this.props.notifications.teams[t.team_id],r=t.level===a.PermissionLevel.EDITOR?"edit":"view";let l;l=t.status===c.RoleRequestStatus.APPROVED?`has approved your request to ${r} the team: ${n.name}`:`has denied your request to ${r} the team: ${n.name}`;const d=o.createElement("span",null," ",l);return this.renderNotificationRow(e,d,s,n.name,i)}),this.notifications={[r.UserNotificationType.AT_MENTION]:this.renderAtMentionNotification,[r.UserNotificationType.AT_MENTION_INVITE]:this.renderAtMentionNotification,[r.UserNotificationType.FILE_COMMENT]:this.renderCommentNotification,[r.UserNotificationType.FILE_COMMENT_REPLY]:this.renderCommentNotification,[r.UserNotificationType.INVITE_FILE]:this.renderFileInvite,[r.UserNotificationType.INVITE_FOLDER]:this.renderFolderInvite,[r.UserNotificationType.INVITE_TEAM]:this.renderTeamInvite,[r.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_APPROVED]:this.renderOrgAccountTypeRequestStatus,[r.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_CREATED]:this.renderOrgAccountTypeRequestCreated,[r.UserNotificationType.ORG_ACCOUNT_TYPE_REQUEST_DENIED]:this.renderOrgAccountTypeRequestStatus,[r.UserNotificationType.TEAM_ROLE_REQUEST_CREATED]:this.renderTeamRoleRequestCreated,[r.UserNotificationType.TEAM_ROLE_REQUEST_APPROVED]:this.renderTeamRoleRequestStatus,[r.UserNotificationType.TEAM_ROLE_REQUEST_DENIED]:this.renderTeamRoleRequestStatus},this.getNotification=(e=>{const t=this.props.notifications.feed.byId[e],i=this.notifications[t.view];if(!i)throw new Error(`'${t.view}' view is an unknown user notification type.`);return i(t)}),this.renderFeed=(()=>this.props.notifications.isFetchingNotifictions?o.createElement("div",{className:m.loadingContainer},o.createElement(f.LoadingSpinner,null)):0===this.props.notifications.feed.allIds.length?o.createElement("div",{className:m.emptyRow},"You don't have any notifications."):o.createElement(p.ScrollContainer,{width:E,showScrollbar:!0,className:m.scrollContainer},o.createElement("div",{className:m.container},this.props.notifications.feed.allIds.map(e=>this.getNotification(e)))))}render(){const e=this.props.notifications,t=0!==e.feed.allIds.length||e.isFetchingNotifictions?m.dropdownContainer:m.dropdownContainerEmptyState;return o.createElement("div",{className:t},o.createElement("div",{className:m.arrow}),this.isMarkAllAsReadShown()&&o.createElement("div",{className:m.header,onClick:this.stopPropagationOnClick},o.createElement(d.Link,{onClick:this.markAllAsRead},"Mark all as read")),this.renderFeed())}}_.displayName="UserNotificationsDropdown",t.UserNotificationsDropdown=_,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,n,o){t.exports={actions:"folder_actions--actions--1X72_",shareButton:"folder_actions--shareButton--1gu13",relative:"folder_actions--relative--38QlJ",inviteOnlyShareButtonContents:"folder_actions--inviteOnlyShareButtonContents--2Bxk5",inviteOnlyIcon:"folder_actions--inviteOnlyIcon--2BSo6"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g438f3bf3",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1 17V1h7v1H2v14h14v-6h1v7H1zm8.5-4.793l-.354-.353-2.5-2.5.708-.708L9 10.293V8c0-3.776 3.224-7 7-7h1v1h-1c-3.224 0-6 2.776-6 6v2.293l1.646-1.647.708.708-2.5 2.5-.354.353z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,h){t.exports={id:"gf50476d0",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M15 9V8H9V2H8v6H2v1h6v6h1V9h6z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g6275599c",src:'<svg width="18" height="21" xmlns="http://www.w3.org/2000/svg"><path d="M2.293 4l.353-.354 3-3 .708.707L4.207 3.5H9c4.694 0 8.5 3.805 8.5 8.5 0 4.694-3.806 8.5-8.5 8.5C4.306 20.5.5 16.694.5 12h1c0 4.142 3.358 7.5 7.5 7.5 4.142 0 7.5-3.358 7.5-7.5 0-4.143-3.358-7.5-7.5-7.5H4.207l2.147 2.146-.708.707-3-3L2.293 4zM9 8H8v5h5v-1H9V8z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,l){t.exports={id:"gc02b5f57",src:'<svg width="18" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M11.286 5.247L8.56 0 5.833 5.247 0 6.22l4.148 4.214-.879 5.848 5.29-2.642 5.29 2.642-.878-5.848L17.12 6.22l-5.833-.972zm3.77 1.642l-4.427-.737-2.07-3.983L6.49 6.152l-4.427.737 3.148 3.199-.667 4.439L8.56 12.52l4.015 2.006-.667-4.439 3.148-3.199z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g0dffa419",src:'<svg width="18" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M8.56 0l2.726 5.247 5.833.972-4.148 4.214.879 5.848-5.29-2.642-5.29 2.642.878-5.848L0 6.22l5.833-.972L8.56 0z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(h,t,v){h.exports={id:"gcca005f3",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M1.704 4.5L5.351.853 4.644.146l-4 4L.29 4.5l.354.353 4 4 .707-.707L1.704 4.5zm10.94 5.353L16.29 13.5l-3.647 3.646.707.707 4-4 .354-.353-.354-.354-4-4-.707.707zM4.996 13h-2v1h2v-1zm4 0h-2v1h2v-1zm2 0h2v1h-2v-1zm-4-9h-2v1h2V4zm2 0h2v1h-2V4zm4 0h2v1h-2V4z" fill="#fff"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(t,e,s){t.exports={id:"g43ed296d",src:'<svg width="9" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M7 3.5V6H2V3.5C2 2.12 3.12 1 4.5 1 5.88 1 7 2.12 7 3.5zM1 6V3.5C1 1.567 2.566 0 4.5 0 6.434 0 8 1.567 8 3.5V6h1v7H0V6h1zm7 1H1v5h7V7z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,f){t.exports={id:null,src:'<svg width="16" height="17" xmlns="http://www.w3.org/2000/svg"><path d="M2 6c0-3.314 2.686-6 6-6 3.314 0 6 2.686 6 6v4c0 1.105.896 2 2 2v1H0v-1c1.104 0 2-.895 2-2V6zm6-5C5.239 1 3 3.239 3 6v4c0 .768-.289 1.47-.764 2h11.528c-.475-.53-.764-1.232-.764-2V6c0-2.761-2.239-5-5-5z" fill-rule="evenodd" fill="#fff"/><path d="M10 14c0 1.105-.896 2-2 2-1.104 0-2-.895-2-2H5c0 1.657 1.343 3 3 3 1.657 0 3-1.343 3-3h-1z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,c,f){t.exports={id:null,src:'<svg width="23" height="21" xmlns="http://www.w3.org/2000/svg"><path d="M8.37 4.011C8.248 4.004 8.124 4 8 4c-3.314 0-6 2.686-6 6v4c0 1.105-.896 2-2 2v1h16v-1c-.873 0-1.616-.56-1.889-1.34-.378-.11-.746-.247-1.1-.407.055.669.33 1.275.753 1.747H2.236c.475-.53.764-1.232.764-2v-4c0-2.761 2.239-5 5-5 .044 0 .088 0 .132.002.06-.338.14-.668.238-.99z" fill-rule="evenodd" fill="#fff"/><path d="M10 18c0 1.105-.895 2-2 2v1c1.657 0 3-1.343 3-3h-1zm-2 2c-1.105 0-2-.895-2-2H5c0 1.657 1.343 3 3 3v-1z" fill="#fff"/><path d="M23 6.5c0 3.59-2.91 6.5-6.5 6.5-3.59 0-6.5-2.91-6.5-6.5C10 2.91 12.91 0 16.5 0 20.09 0 23 2.91 23 6.5z" fill="#f24822"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=s(34,1   ),o=s(172                     ),r=s(173                        ),a=s(357                  ),n=s(161                    ),p=s(232                        ),l=s(1362                                 ),c=s(1471                    ),d=s(166                         ),h=s(144                        ),f=s(1051                                                ),m=s(1417                       ),g=s(204                                            ),_=s(1381                                          ),u=s(1592                                                                         ),w=s(1593                  ),F=s(1594                              ),N=s(1595                                ),v=s(1596                               ),S=s(1597                                ),b=s(1598                              ),y=s(1599                                          ),O=s(1600                                   );i.notificationIconLow=s(1601                                    ),i.notificationIconHigh=s(1602                                         );class E extends t.Component{constructor(){super(...arguments),this.createNewFile=(e=>{const i=e.metaKey||e.shiftKey||e.ctrlKey;this.props.dispatch(p.fullscreen.new_(c.getNewFileInfo(this.props,i)))}),this.importFile=(()=>{this.props.dispatch(p.fileImport.openFileInput())})}render(){const e=c.getSelectedFolder(this.props);let i=!1;return this.props.selectedView.recentFiles?i=!0:e&&r.canEditFolder(e.id,this.props)&&!o.isFolderEditingLockedForUser(e,this.props)&&(i=!0),t.createElement("div",{className:w.actions},t.createElement(f.TopBarAction,{title:"New File",svg:N,enabled:i,onClick:this.createNewFile}),t.createElement(f.TopBarAction,{title:"Import File",svg:F,enabled:i,onClick:this.importFile,onboardingKey:"import"}))}}E.displayName="NewFileActions",i.NewFileActions=E;class I extends t.Component{constructor(){super(...arguments),this.restoreFile=(()=>{let e=a.getRestoreFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0);this.props.dispatch(p.file.restoreTrashedFiles(e,!0)),this.props.dispatch(p.file.deselectFiles(a.getFilesToDeselect(e)))})}render(){let e=Object.keys(this.props.fileSelect.selectedFileKeys).length,i=a.getRestoreFilesPayload(this.props.fileSelect.selectedFileKeys,this.props,!0),s=Object.keys(i).length,o=e>0&&e===s,r=o&&e>1?`${e} files`:"";return t.createElement("div",{className:w.actions},t.createElement(f.TopBarAction,{title:`Restore ${r}`,svg:v,enabled:o,onClick:this.restoreFile}))}}I.displayName="DeleteFileActions",i.DeleteFileActions=I;class A extends t.Component{constructor(){super(...arguments),this.share=(()=>{this.props.dispatch(p.fileBrowser.showModal({type:m.AppModal.FOLDER_PERMISSIONS_MODAL,data:{folderId:c.getSelectedFolder(this.props).id}}))}),this.toggleSubscribe=(()=>{this.folder.is_subscribed?this.props.dispatch(p.folder.unsubscribe(this.folder)):this.props.dispatch(p.folder.subscribe(this.folder))}),this.manageNotifications=(()=>{_.showSlackSettingsOrUpsell(this.props.teams[this.folder.team_id],this.folder.id,this.props.dispatch)})}render(){this.folder=c.getSelectedFolder(this.props);const e=r.canEditFolder(this.folder.id,this.props),i=!!n.getFolderParentOrgId(this.folder.id,this.props),s=this.folder.org_id&&(d.isADraftsFolder(this.props.folders,this.folder.id)||d.isOrphanedOrgFolder(this.props.folders,this.folder.id));return t.createElement("div",{className:w.actions},!s&&t.createElement(g.ButtonPrimary,{className:w.shareButton,onClick:this.share},this.folder.is_invite_only&&t.createElement("div",{className:w.inviteOnlyShareButtonContents},t.createElement(h.Svg,{className:w.inviteOnlyIcon,svg:O,useOriginalSrcFills:!0}),"Share"),!this.folder.is_invite_only&&"Share"),!d.isADraftsFolder(this.props.folders,this.folder.id)&&t.createElement(f.TopBarAction,{title:this.folder.is_subscribed?"Remove from Favorites":"Add to Favorites",svg:this.folder.is_subscribed?b:S,onClick:this.toggleSubscribe}),!i&&t.createElement(f.TopBarAction,{title:"Manage Slack Notifications",svg:y,onClick:this.manageNotifications,enabled:e}),t.createElement(C,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}A.displayName="FolderActions",i.FolderActions=A;class D extends t.PureComponent{render(){return t.createElement("div",{className:w.actions})}}D.displayName="TopBarSpacer",i.TopBarSpacer=D;class C extends t.Component{constructor(){super(...arguments),this.toggleDropdown=(()=>{this.isDropdownShown()||(this.props.dispatch(p.userNotifications.get()),this.props.dispatch(p.fileBrowser.showDropdown({type:u.USER_NOTIFICATIONS_DROPDOWN})))}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===u.USER_NOTIFICATIONS_DROPDOWN),this.isNotificationHigh=(()=>{let e=this.props.currentOrgId?this.props.currentOrgId:l.PERSONAL_BELL_ID,i=this.props.userNotifications.bellStates[e];return this.props.userNotifications&&!this.isDropdownShown()&&i})}render(){const e=this.isDropdownShown(),s=this.isNotificationHigh()?i.notificationIconHigh:i.notificationIconLow;return t.createElement("div",{className:w.relative},t.createElement(f.TopBarAction,{title:"Show notifications",svg:s,useOriginalSrcFills:!0,selected:e,onClick:this.toggleDropdown}),e&&t.createElement(u.UserNotificationsDropdown,{dispatch:this.props.dispatch,notifications:this.props.userNotifications}))}}C.displayName="UserNotificationAction";class B extends t.PureComponent{render(){return t.createElement("div",{className:w.actions},t.createElement(C,Object.assign({},this.props)))}}B.displayName="StandardActions",i.StandardActions=B,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){e.exports={folderContextMenu:"folder_context_menu--folderContextMenu--7LxU1"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,s){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const i=s(126                     ),t=s(166                         ),r=s(161                    ),p=s(173                        ),d=s(1381                                          ),l=s(34,1   ),a=s(232                        ),n=s(1417                       ),c=s(408                                  ),h=s(1604                       );class m extends l.Component{constructor(){super(...arguments),this.share=(()=>{this.props.dispatch(a.fileBrowser.showModal({type:n.AppModal.FOLDER_PERMISSIONS_MODAL,data:{folderId:this.props.folder.id}}))}),this.subscribe=(()=>{let e=this.props.folder;this.props.dispatch(a.folder.subscribe(e))}),this.unsubscribe=(()=>{let e=this.props.folder;this.props.dispatch(a.folder.unsubscribe(e))}),this.onFolderRenameClick=(()=>{let e=this.props.folder;this.props.onRenameClick(e)}),this.onFolderManageNotificationsClick=(()=>{let e=this.props.folder;d.showSlackSettingsOrUpsell(this.props.teams[e.team_id],e.id,this.props.dispatch)}),this.onFolderDeleteClick=(()=>{const e=this.props.folder;r.isFolderEmpty(e.id,this.props)?this.props.dispatch(a.folder.del(e,!0)):this.props.dispatch(a.fileBrowser.showModal({type:n.AppModal.FOLDER_DELETE_CONFIRM_MODAL,data:{folderId:e.id}}))}),this.onFolderLeaveClick=(()=>{let e=this.props.folder;this.props.dispatch(a.role.setUserFolderPermission(this.props.user.id,e.id,i.PermissionLevel.NONE))})}render(){let e=this.props.folder,o=p.canEditFolder(e.id,this.props),s=e.team_id?p.canEditTeam(e.team_id,this.props):p.canOwnFolder(e.id,this.props),i=!!r.getFolderParentOrgId(e.id,this.props),d=!t.isOrphanedOrgFolder(this.props.folders,e.id);return l.createElement(c.dropdown.Dropdown,{className:`${h.folderContextMenu} ${this.props.className||""}`,style:this.props.dropdownShown.data.position},d&&l.createElement(c.dropdown.Option,{onClick:this.share},"Share"),l.createElement(c.dropdown.Option,{disabled:!o,onClick:this.onFolderRenameClick},"Rename"),this.props.folder.is_subscribed?l.createElement(c.dropdown.Option,{onClick:this.unsubscribe},"Remove from Favorites"):l.createElement(c.dropdown.Option,{onClick:this.subscribe},"Add to Favorites"),!i&&l.createElement(c.dropdown.Option,{disabled:!o,onClick:this.onFolderManageNotificationsClick},"Manage Slack Notifications"),l.createElement(c.dropdown.Option,{disabled:!s,onClick:this.onFolderDeleteClick},"Delete"),!s&&!e.team_id&&l.createElement(c.dropdown.Option,{onClick:this.onFolderLeaveClick},"Leave Shared Project"))}}m.displayName="FolderContextMenu",o.FolderContextMenu=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){e.exports={container:"folder_view--container--1fcUM file_browser_shared--container--1XKhp",fileContainer:"folder_view--fileContainer--35ZTA folder_view--container--1fcUM file_browser_shared--container--1XKhp",folderName:"folder_view--folderName--2l2hR ellipsis--ellipsis--1RWY6",folderNameEditable:"folder_view--folderNameEditable--cm_Ah folder_view--folderName--2l2hR ellipsis--ellipsis--1RWY6",folderDropdownTarget:"folder_view--folderDropdownTarget--3tsRG",folderTeamNameContainer:"folder_view--folderTeamNameContainer--2z6sa",folderTeamName:"folder_view--folderTeamName--2YdMI ellipsis--ellipsis--1RWY6",pageTitle:"folder_view--pageTitle--1ndwA file_browser_shared--pageTitle--3w73T",pageTitleEditing:"folder_view--pageTitleEditing--1R2Ny folder_view--pageTitle--1ndwA file_browser_shared--pageTitle--3w73T",headerInput:"folder_view--headerInput--UQOP8 file_browser_shared--headerInput--3JmA0",pathSeparator:"folder_view--pathSeparator--1b7F2",folderDropdown:"folder_view--folderDropdown--1bovG",folderNameCaret:"folder_view--folderNameCaret--mNif2"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),i=r(143              ),o=r(172                     ),l=r(173                        ),a=r(232                        ),n=r(247                                ),d=r(1471                    ),p=r(166                         ),c=r(1585                                          ),m=r(727                                 ),h=r(1367                                          ),f=r(1603                                                                ),F=r(1605                                                                          ),_=r(1245                                      ),g=r(144                        ),w=r(1045                                        ),u=r(1606               ),N=r(1057                            );class T extends s.Component{constructor(){super(...arguments),this.FOLDER_ACTIONS_DROPDOWN="folder-actions-dropdown",this.onTeamNameClick=(()=>{const e=this.selectedFolder().team_id;null!=e&&this.props.dispatch(a.fileBrowser.selectViewByTeamId(e))}),this.onFolderNameClick=(()=>{this.selectedFolder().name&&l.canEditFolder(this.selectedFolder().id,this.props)&&this.props.dispatch(a.folder.beginRename())}),this.submitFolderName=(e=>{this.props.dispatch(a.folder.rename(this.selectedFolder().id,e)),this.props.dispatch(a.folder.stopRename())}),this.cancelFolderName=(()=>{this.props.dispatch(a.folder.stopRename())})}selectedFolder(){return d.getSelectedFolder(this.props)}renderFolderDropdown(){if(this.showingDropdown())return s.createElement(F.FolderContextMenu,Object.assign({className:u.folderDropdown,folder:this.selectedFolder(),onRenameClick:this.onFolderNameClick.bind(this)},this.props))}showingDropdown(){return this.props.dropdownShown&&this.props.dropdownShown.type===this.FOLDER_ACTIONS_DROPDOWN}renderTeam(){const e=this.selectedFolder().team_id,t=e&&!!this.props.roles.byTeamId[e]&&this.props.teams[e];return t&&s.createElement("div",{className:u.folderTeamNameContainer},s.createElement("span",{className:u.folderTeamName,onClick:this.onTeamNameClick},t.name),s.createElement(g.Svg,{svg:N,className:u.pathSeparator}))}renderEditingTitle(){return s.createElement("div",{className:u.pageTitleEditing},this.renderTeam(),s.createElement(m.Input,{className:u.headerInput,placeholderValue:this.selectedFolder().name,submit:this.submitFolderName,cancel:this.cancelFolderName}))}renderRegularTitle(){let e=!!this.selectedFolder().name,t=l.canEditFolder(this.selectedFolder().id,this.props);return s.createElement("div",{className:u.pageTitle},this.renderTeam(),s.createElement("span",{className:t?u.folderName:u.folderNameEditable,onClick:this.onFolderNameClick},p.getFolderName(this.selectedFolder())),e&&s.createElement(w.Chevron,{dispatch:this.props.dispatch,showingDropdown:this.showingDropdown(),dropdownKey:this.FOLDER_ACTIONS_DROPDOWN,recordingKey:i.joinKeys(this.props,"chevron")}),e&&this.renderFolderDropdown())}renderTitle(){return this.props.folderView.renamingFolder?this.renderEditingTitle():this.renderRegularTitle()}render(){return s.createElement(h.TopBar,Object.assign({},this.props,{title:this.renderTitle(),justifyChildren:"space-between"}),s.createElement(f.NewFileActions,Object.assign({},this.props)),s.createElement(f.FolderActions,Object.assign({},this.props)))}}T.displayName="FolderTopBar",t.FolderTopBar=T;class b extends s.Component{fileKeys(){return this.props.fileKeysByFolderId[this.props.selectedView.folderId]}filesAsList(){let e=this.fileKeys(),t=[];for(let r of e)this.props.fileByKey[r]&&t.push(this.props.fileByKey[r]);return t.sort((e,t)=>+new Date(t.touched_at)-+new Date(e.touched_at)),t}render(){const e=this.props.selectedView.folderId,t=this.props.fileSortFilterStateByView.folders.byId,r=e in t?t[e]:{filters:{creator:n.FileFilterCreator.ANY},sort:{key:n.FileSortKey.TOUCHED_AT,dir:n.FileSortDir.DESC}},i={srcFileSortFilterConfig:{filters:{creator:n.FileFilterCreator.ANY},sort:{key:n.FileSortKey.TOUCHED_AT,dir:n.FileSortDir.DESC}},fileSortFilterConfig:r},a=d.getSelectedFolder(this.props),p=l.canEditFolder(a.id,this.props),m=o.isFolderEditingLockedForUser(a,this.props),h=p&&!m,f=!p||m?"This folder is empty.":"";return s.createElement("div",{className:u.container},s.createElement("div",{className:u.fileContainer},s.createElement(c.FileTiles,Object.assign({newFileTile:h,files:this.filesAsList(),fileActions:{edit:!0,editNewTab:!0,restoreFromVersion:!0,share:!0,rename:!0,duplicate:!0,delete:!0},activeFileUsers:this.props.activeFileUsers,sortFilterOptions:i,emptyStateText:f},this.props)),s.createElement(_.LockedFolderFooter,Object.assign({},this.props))))}}b.displayName="FolderContent",t.FolderContent=b,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={container:"recent_files_view--container--2U4hU file_browser_shared--container--1XKhp"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=i(141     ),r=i(34,1   ),o=i(173                        ),n=i(247                                ),a=i(1585                                          ),l=i(1367                                          ),p=i(1603                                                                ),c=i(1608                     );class d extends r.Component{render(){return r.createElement(l.TopBar,Object.assign({title:"Recent",justifyChildren:"space-between"},this.props),r.createElement(p.NewFileActions,Object.assign({},this.props)),r.createElement(p.StandardActions,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}d.displayName="RecentFilesTopBar",t.RecentFilesTopBar=d;class f extends r.Component{constructor(){super(...arguments),this.canView=(e=>e.link_access&&o.canViewFileMetadata(e.key,this.props,!1)||o.canViewFileMetadata(e.key,this.props,!0))}render(){const e={srcFileSortFilterConfig:{filters:{creator:n.FileFilterCreator.ANY},sort:{key:n.FileSortKey.TOUCHED_AT,dir:n.FileSortDir.DESC}},fileSortFilterConfig:this.props.fileSortFilterStateByView.recentFiles},t=s.mobile||s.tablet?"Files you have recently viewed will appear here.":"";return r.createElement("div",{className:c.container},r.createElement(a.FileTiles,Object.assign({files:this.props.recentFiles.filter(this.canView),fileActions:{showInFolder:!0,edit:!0,editNewTab:!0,restoreFromVersion:!0,rename:!0,share:!0,duplicate:!0,delete:!0,removeFromRecents:!0},activeFileUsers:this.props.activeFileUsers,sortFilterOptions:e,newFileTile:!0,emptyStateText:t},this.props)))}}f.displayName="RecentFilesContent",t.RecentFilesContent=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={container:"deleted_files_view--container--2Caiz file_browser_shared--container--1XKhp"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),r=s(247                                ),l=s(1585                                          ),o=s(1603                                                                ),n=s(1367                                          ),a=s(1610                      );class p extends i.Component{render(){return i.createElement(n.TopBar,Object.assign({title:"Deleted Files",justifyChildren:"space-between"},this.props),i.createElement(o.DeleteFileActions,Object.assign({},this.props)),i.createElement(o.StandardActions,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}p.displayName="DeletedFilesTopBar",t.DeletedFilesTopBar=p;class d extends i.Component{getDeletedFiles(){if(!this.props.deletedFilesByKey)return[];let e=[];for(let t in this.props.deletedFilesByKey)e.push(this.props.deletedFilesByKey[t]);return e.sort((e,t)=>new Date(e.trashed_at)<new Date(t.trashed_at)?1:-1)}render(){const e={srcFileSortFilterConfig:{filters:{creator:r.FileFilterCreator.ANY},sort:{key:r.FileSortKey.TRASHED_AT,dir:r.FileSortDir.DESC}},fileSortFilterConfig:this.props.fileSortFilterStateByView.deletedFiles,includedTrashedAt:!0};let t=this.getDeletedFiles();return i.createElement("div",{className:a.container},i.createElement(l.FileTiles,Object.assign({files:t,newFileTile:!1,fileActions:{restore:!0,deleteForever:!0,duplicateToDrafts:!0},sortFilterOptions:e,emptyStateText:"You don't have any deleted files."},this.props)))}}d.displayName="DeletedFilesContent",t.DeletedFilesContent=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(s,r,t){s.exports={starSubscribed:"subscribe_star--starSubscribed--1xe6u",starUnsubscribed:"subscribe_star--starUnsubscribed--2pmtq"},s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(s,e,r){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=r(34,1   ),i=r(232                        ),c=r(144                        ),a=r(1612                  ),o=r(1598                              ),n=r(1597                                );class p extends t.Component{constructor(){super(...arguments),this.subscribe=(()=>{this.props.dispatch(i.folder.subscribe(this.props.folder))}),this.unsubscribe=(()=>{this.props.dispatch(i.folder.unsubscribe(this.props.folder))})}render(){return this.props.folder.is_subscribed?t.createElement(c.Svg,{className:a.starSubscribed,svg:o,onClick:this.unsubscribe}):t.createElement(c.Svg,{className:a.starUnsubscribed,svg:n,onClick:this.subscribe})}}p.displayName="SubscribeStar",e.SubscribeStar=p,s.exports instanceof Function&&(s.exports.default=s.exports)}),
(function(e,t,a){e.exports={pageContent:"team_view--pageContent--ZPZMN",leftColumn:"team_view--leftColumn--15N2a",memberList:"team_view--memberList--1MrQn",memberCount:"team_view--memberCount--hgp25",pageTitle:"team_view--pageTitle--1PLrx",editingPageTitle:"team_view--editingPageTitle--2oJRb file_browser_shared--pageTitle--3w73T",editingHeaderInput:"team_view--editingHeaderInput--RlFHc file_browser_shared--headerInput--3JmA0",studentIcon:"team_view--studentIcon--3UDvD",teamDropdown:"team_view--teamDropdown--1DZtt",teamName:"team_view--teamName--2x0cu ellipsis--ellipsis--1RWY6",teamNameLarge:"team_view--teamNameLarge--3tVCB text--titleText--10C29 ellipsis--ellipsis--1RWY6",teamDropdownTarget:"team_view--teamDropdownTarget--15BbW",teamDropdownCaret:"team_view--teamDropdownCaret--2WjZC",teamNameAndIcon:"team_view--teamNameAndIcon--1kwKw",teamNameAndIconRight:"team_view--teamNameAndIconRight--wvHLt",folderListContainer:"team_view--folderListContainer--5Kngv",listHeader:"team_view--listHeader--1G2-h text--titleText--10C29",connectionContainer:"team_view--connectionContainer--3DgDr",settingsSection:"team_view--settingsSection--KWijK",listItems:"team_view--listItems--MStlJ",adminLink:"team_view--adminLink--14UFK blue_link--blueLink--22X56 text--labelText--1wP9s",connectionListHeader:"team_view--connectionListHeader--1_rkF team_view--listHeader--1G2-h text--titleText--10C29",newFolderIcon:"team_view--newFolderIcon--3DhXI",emptyStateMessage:"team_view--emptyStateMessage--3jLOu",folderList:"team_view--folderList--3Difm",star:"team_view--star--1sxYI",folderName:"team_view--folderName--_2xJP",teamNameOrAuthor:"team_view--teamNameOrAuthor--1f7vZ",lastUpdated:"team_view--lastUpdated--2JoSX",row:"team_view--row--2bZdb",text:"team_view--text--3_M7C",newRoleIcon:"team_view--newRoleIcon--1q0Dm",newRoleText:"team_view--newRoleText--3BvPz team_view--text--3_M7C",blueLink:"team_view--blueLink--hq_0r blue_link--blueLink--22X56",emptyStateTile:"team_view--emptyStateTile--xUtLq",emptyStateContent:"team_view--emptyStateContent--2nqor",emptyStateIcon:"team_view--emptyStateIcon--1ay3h",emptyStateCTALine:"team_view--emptyStateCTALine--3KDcx team_view--blueLink--hq_0r blue_link--blueLink--22X56",orgAccessViewOnly:"team_view--orgAccessViewOnly--78f7-"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(34,1   ),n=s(144                        ),c=s(1614             ),m=s(729                            );class p extends a.Component{render(){return a.createElement("div",{className:c.emptyStateTile},a.createElement("div",{className:c.emptyStateContent},a.createElement(n.Svg,{className:c.emptyStateIcon,svg:this.props.icon}),this.props.message),a.createElement("br",null),a.createElement("span",{className:c.emptyStateCTALine,onClick:this.props.onClick},a.createElement(n.Svg,{className:c.emptyStateIcon,svg:m}),this.props.cta))}}p.displayName="EmptyStateTile",t.EmptyStateTile=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),a=s(141     ),o=s(173                        ),i=s(232                        ),l=s(126                     ),d=s(166                         ),p=s(664                                  ),n=s(730                                                         ),c=s(1613                                         ),m=s(1615                ),h=s(1614             ),f=s(1034                                                   );class w extends r.Component{constructor(){super(...arguments),this.FOLDER_LIST_VIEW="folder-list-view",this.createNewFolder=(()=>{this.props.dispatch(i.fileBrowser.openNewFolderModal(this.FOLDER_LIST_VIEW,this.props.teamId))}),this.onFolderRowClick=((e,t)=>{(a.mac?t.metaKey:t.ctrlKey)||t.shiftKey||(t.preventDefault(),this.props.dispatch(i.fileBrowser.selectViewByFolderId(e.id)))}),this.renderFolderRow=(e=>{const t=`/files/project/${e.id}`,s=this.props.roles.byFolderId[e.id]||{},a=Object.keys(s).map(e=>s[e]).find(e=>e.level===l.PermissionLevel.OWNER);return r.createElement("tr",{key:`folder-row-${e.id}`},r.createElement("td",{className:h.star},r.createElement(c.SubscribeStar,Object.assign({folder:e},this.props))),r.createElement("td",{className:h.folderName},r.createElement("a",{href:t,draggable:!1,onClick:this.onFolderRowClick.bind(this,e),title:d.getFolderName(e)},d.getFolderName(e))),this.props.showTeamNameOrAuthor&&r.createElement("td",{className:h.teamNameOrAuthor},this.props.teams[e.team_id]?this.props.teams[e.team_id].name:a?a.user.handle+" (owner)":""),r.createElement("td",{className:h.lastUpdated},r.createElement(p.FromNow,{date:d.getLastUpdatedTime(e,this.props.fileKeysByFolderId,this.props.fileByKey)})))})}render(){const e=this.props.selectedView.sharedProjects?"Shared Projects":"Team Projects",t=this.props.folderList.length>0||!this.props.teamId,s=this.props.teamId&&o.canEditTeam(this.props.teamId,this.props);return r.createElement("div",null,r.createElement("div",{className:h.listHeader},e),t&&r.createElement("table",{className:h.folderList},r.createElement("tbody",null,s&&r.createElement("tr",null,r.createElement("td",{colSpan:this.props.showTeamNameOrAuthor?4:3},r.createElement(n.NewFolder,Object.assign({where:this.FOLDER_LIST_VIEW,creatingNewFolder:this.props.creatingNewFolder,shouldRedirect:!0,teamId:this.props.teamId,dispatch:this.props.dispatch},o.getPermissionsState(this.props))))),this.props.folderList.map(e=>this.renderFolderRow(e)))),!t&&r.createElement(m.EmptyStateTile,{cta:"Create a project",onClick:this.createNewFolder,icon:f,message:"Projects help you organize designs and makes sharing easier. Start a new project to share with your teammates."}))}}w.displayName="FolderListView",t.FolderListView=w,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={teamContextMenu:"team_context_menu--teamContextMenu--2xHpJ"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const n=t(34,1   ),a=t(173                        ),s=t(232                        ),p=t(408                                  ),i=t(1417                       ),r=t(1617                     );class m extends n.Component{constructor(){super(...arguments),this.confirmLeaveTeam=(()=>{this.props.dispatch(s.fileBrowser.showModal({type:i.AppModal.TEAM_CONFIRM_LEAVE_MODAL,data:{teamId:this.props.team.id}}))}),this.confirmDeleteTeam=(()=>{this.props.dispatch(s.fileBrowser.showModal({type:i.AppModal.TEAM_CONFIRM_DELETE_MODAL,data:{teamId:this.props.team.id}}))}),this.onRenameTeamClick=(()=>{this.props.onRenameClick(this.props.team)}),this.onClickChangeTeamIcon=(()=>{this.props.onChangeTeamIconClick(this.props.team)})}render(){const e=a.canAdminTeam(this.props.team.id,this.props),o=this.props.dropdownShown&&this.props.dropdownShown.data&&this.props.dropdownShown.data.position;return n.createElement(p.dropdown.Dropdown,{className:`${r.teamContextMenu} ${this.props.className||""}`,style:o},e&&n.createElement(p.dropdown.Option,{onClick:this.onRenameTeamClick},"Rename"),e&&n.createElement(p.dropdown.Option,{onClick:this.onClickChangeTeamIcon},"Change Icon"),n.createElement(p.dropdown.Option,{onClick:this.confirmLeaveTeam},"Leave Team"),e&&this.props.team.org_id&&n.createElement(p.dropdown.Option,{onClick:this.confirmDeleteTeam},"Delete Team"))}}m.displayName="TeamContextMenu",o.TeamContextMenu=m,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,c,t){l.exports={id:"g33700d9e",src:'<svg width="13" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M7.465.071l.748 2.294 2.15-1.093c.52.385.98.845 1.365 1.365l-1.093 2.15 2.294.748c.047.315.071.637.071.965 0 .328-.024.65-.071.965l-2.294.748 1.093 2.15c-.385.52-.845.98-1.365 1.365l-2.15-1.093-.748 2.294c-.315.047-.637.071-.965.071-.328 0-.65-.024-.965-.071l-.748-2.294-2.15 1.093c-.52-.385-.98-.845-1.365-1.365l1.093-2.15-2.294-.748C.024 7.15 0 6.828 0 6.5c0-.328.024-.65.071-.965l2.294-.748-1.093-2.15c.385-.52.845-.98 1.365-1.365l2.15 1.093.748-2.294C5.85.024 6.172 0 6.5 0c.328 0 .65.024.965.071zM8.667 6.5c0 1.197-.97 2.167-2.167 2.167-1.197 0-2.167-.97-2.167-2.167 0-1.197.97-2.167 2.167-2.167 1.197 0 2.167.97 2.167 2.167z" fill-rule="evenodd" fill="#666"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(c,t,e){c.exports={id:"g2e8b9f55",src:'<svg width="19" height="19" xmlns="http://www.w3.org/2000/svg"><path d="M19 9.5c0 5.247-4.253 9.5-9.5 9.5C4.253 19 0 14.747 0 9.5 0 4.253 4.253 0 9.5 0 14.747 0 19 4.253 19 9.5zm-1 0C18 4.806 14.194 1 9.5 1 4.806 1 1 4.806 1 9.5c0 2.278.896 4.347 2.356 5.874.658-1.903 2.175-3.405 4.087-4.042C6.57 10.696 6 9.664 6 8.5 6 6.567 7.567 5 9.5 5 11.433 5 13 6.567 13 8.5c0 1.164-.569 2.196-1.443 2.832 1.912.637 3.429 2.14 4.087 4.042C17.104 13.847 18 11.778 18 9.5zM9.5 6C8.12 6 7 7.12 7 8.5 7 9.88 8.12 11 9.5 11c1.38 0 2.5-1.12 2.5-2.5C12 7.12 10.88 6 9.5 6zm0 6c-2.563 0-4.716 1.752-5.327 4.124C5.631 17.298 7.483 18 9.5 18c2.017 0 3.87-.702 5.327-1.876C14.216 13.753 12.063 12 9.5 12z" fill-rule="evenodd" fill="#c4c4c4"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),i=a(173                        ),r=a(172                     ),n=a(232                        ),o=a(239                             ),l=a(1503                             ),m=a(144                        ),p=a(204                                            ),c=a(1417                       ),d=a(1367                                          ),h=a(1603                                                                ),g=a(727                                 ),u=a(349                            ),_=a(1357                                    ),E=a(1616                                                     ),w=a(1388                                           ),v=a(1245                                      ),C=a(147                                        ),f=a(713                                                                             ),T=a(1618                                                              ),b=a(1534                                                                            ),k=a(1615                ),N=a(1614             ),A=a(0                    ),O=a(220                     ),y=a(475                                                     ),I=a(1619                            ),S=a(729                            ),L=a(1287                       ),P=a(1620                       );class M extends s.Component{constructor(){super(...arguments),this.TEAM_OPTIONS_DROPDOWN="team-options-dropdown",this.onTeamOptionsClick=(()=>{this.props.dispatch(n.fileBrowser.showDropdown({type:this.TEAM_OPTIONS_DROPDOWN}))}),this.onRenameTeamClick=(()=>{this.props.dispatch(n.team.beginRename())}),this.submitTeamName=(e=>{this.props.dispatch(n.team.rename({team:this.team(),name:e})),this.props.dispatch(n.team.stopRename())}),this.cancelTeamName=(()=>{this.props.dispatch(n.team.stopRename())}),this.onClickChangeTeamIcon=(()=>{this.editableAvatar.triggerFileInputClick()}),this.editableAvatarRef=(e=>{e&&(this.editableAvatar=e)})}team(){return this.props.teams[this.props.selectedView.teamId]}renderRegularTitle(){const e=i.canAdminTeam(this.team().id,this.props);return s.createElement("div",{className:N.pageTitle},this.team().student_team&&s.createElement(m.Svg,{className:N.studentIcon,svg:L}),e&&s.createElement("span",{style:{display:"none"}},s.createElement(_.EditableAvatar,{entity:this.team(),entityType:o.EntityType.TEAM,avatarEditorState:this.props.avatarEditorState,size:14,dispatch:this.props.dispatch,ref:this.editableAvatarRef})),s.createElement("div",{className:N.teamName},this.team().name),s.createElement("div",{className:N.teamDropdownTarget,onClick:this.onTeamOptionsClick},s.createElement(m.Svg,{className:N.teamDropdownCaret,svg:y}),this.props.dropdownShown&&this.props.dropdownShown.type===this.TEAM_OPTIONS_DROPDOWN&&s.createElement(T.TeamContextMenu,Object.assign({className:N.teamDropdown,team:this.team(),onRenameClick:this.onRenameTeamClick,onChangeTeamIconClick:this.onClickChangeTeamIcon},this.props))))}renderEditingTitle(){return s.createElement("div",{className:N.editingPageTitle},s.createElement(g.Input,{className:N.editingHeaderInput,placeholderValue:this.team().name,submit:this.submitTeamName,cancel:this.cancelTeamName}))}renderTitle(){return this.props.teamView.renamingTeam?this.renderEditingTitle():this.renderRegularTitle()}render(){return s.createElement(d.TopBar,Object.assign({title:this.renderTitle(),justifyChildren:"space-between"},this.props),s.createElement(h.TopBarSpacer,null),s.createElement(h.StandardActions,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}M.displayName="TeamTopBar",t.TeamTopBar=M;class R extends s.Component{constructor(){super(...arguments),this.upgradeToPro=(()=>{O.trackCtaClicked({location:"table",text:"upgrade {team name}",category:[O.CtaCategories.UPGRADE_FLOW,O.CtaCategories.ONBOARDING],type:"button",teamId:this.team().id,description:"Team Page Upgrade {team} cta_clicked"}),this.props.dispatch(n.payment.startProUpgradeFlow({teamId:this.props.selectedView.teamId,selectedView:this.props.selectedView}))}),this.upgradeToOrg=(()=>{O.trackCtaClicked({location:"table",text:"upgrade to organization",category:[O.CtaCategories.ORG_UPGRADE_FLOW],type:"button",teamId:this.team().id,description:"Team Page Upgrade to Organization CTA Clicked"}),this.props.dispatch(n.fileBrowser.selectView({orgSelfServe:!0,viewState:{previousView:this.props.selectedView,selfServeStep:l.OrgSelfServeStep.CHOOSE_PLAN}}))}),this.showLibraryModal=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:c.AppModal.LIBRARY_PREFERENCES_MODAL}))}),this.showSharedFontsModal=(()=>{this.props.dispatch(n.fileBrowser.showModal({type:c.AppModal.SHARED_FONTS_MODAL}))}),this.onChangeOrgAccess=(e=>{this.props.dispatch(n.team.changeOrgAccess({team:this.team(),orgAccess:e}))})}componentDidMount(){O.trackPageView({page:"team_page",teamId:this.team().id,editors:this.team().editors,projects:this.team().projects})}team(){return this.props.teams[this.props.selectedView.teamId]}render(){const e=this.team();let t=[];this.props.foldersByTeamId[e.id]&&(t=this.props.foldersByTeamId[e.id].sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1));const a=r.canShowProUpgradeLink(e,this.props),n=r.canShowOrgUpgradeLink(e,this.props)&&A.initialOptions().feature_flags.org_self_serve,l=i.canAdminTeam(this.team().id,this.props),m=!e.org_id&&l;return s.createElement("div",null,s.createElement(v.TeamUpgradeBanner,Object.assign({teamId:e.id},this.props)),s.createElement("div",{className:N.pageContent},s.createElement("div",{className:N.leftColumn},s.createElement("div",{className:N.teamNameAndIcon},l&&s.createElement(_.EditableAvatar,{entity:e,entityType:o.EntityType.TEAM,avatarEditorState:this.props.avatarEditorState,size:42,dispatch:this.props.dispatch}),!l&&s.createElement(u.Avatar,{entity:e,size:42}),s.createElement("div",{className:N.teamNameLarge},e.name)),s.createElement(E.FolderListView,Object.assign({folderList:t,teamId:this.team().id},this.props))),s.createElement("div",{className:N.memberList},s.createElement("div",{className:N.teamNameAndIconRight}),s.createElement("div",{className:N.connectionContainer},s.createElement("div",{className:N.connectionListHeader},"Team Settings",m&&s.createElement(V,Object.assign({},this.props))),s.createElement("div",{className:N.settingsSection},s.createElement("div",null,s.createElement("a",{className:N.blueLink,onClick:this.showLibraryModal},"Enable Libraries")," for all team files."),f.canShowSharedFonts(this.props)&&s.createElement("div",null,s.createElement("a",{className:N.blueLink,onClick:this.showSharedFontsModal},i.canAdminTeam(this.team().id,this.props)?"Manage":"View"," Shared Fonts")," for team files."),a&&s.createElement(D,{onClick:this.upgradeToPro,teamId:e.id,teamName:e.name}),n&&s.createElement(x,{onClick:this.upgradeToOrg,teamId:e.id,teamName:e.name}),null!=e.org_id&&s.createElement("div",null,s.createElement("div",null,"Access within Organization:",l&&s.createElement(b.TeamOrgAccessDropdown,{orgAccess:e.org_access,dropdownShown:this.props.dropdownShown,onChangeOrgAccess:this.onChangeOrgAccess,dispatch:this.props.dispatch}),!l&&s.createElement("span",null," ",i.orgAccessStrings[e.org_access])),s.createElement("br",null),s.createElement("div",null,b.orgAccessDescriptions[e.org_access]),!l&&s.createElement("div",null,s.createElement("br",null),"Team admins and owners can change this setting.")))),s.createElement(B,Object.assign({showAdminPage:!1},this.props)))))}}R.displayName="TeamContent",t.TeamContent=R;class D extends s.Component{constructor(){super(...arguments),this.trackLearnMoreClick=(()=>O.trackCtaClicked({category:[O.CtaCategories.TEAM_PAGE],teamId:this.props.teamId,type:"link",text:"learn more",location:"table",description:"Team Page Upgrade Learn More CTA Clicked"}))}render(){return s.createElement("div",null,"Upgrade to a Professional Team to take full advantage of Figma. ",s.createElement("a",{className:N.blueLink,onClick:this.trackLearnMoreClick,href:"/pricing",target:"_blank",rel:"noopener"},"Learn more"),s.createElement("br",null),s.createElement("br",null),s.createElement(p.ButtonGreen,{onClick:this.props.onClick},"Upgrade ",this.props.teamName))}}class x extends s.Component{render(){return s.createElement(p.ButtonGreen,{"data-onboarding-key":"upgrade-to-org-button",onClick:this.props.onClick},"Upgrade to Organization")}}t.UpgradeToOrgLink=x;class B extends s.Component{constructor(){super(...arguments),this.onInviteLinkClick=(()=>{O.trackCtaClicked({location:"table",text:"invite",category:[O.CtaCategories.UPGRADE_FLOW,O.CtaCategories.TEAM_PAGE,O.CtaCategories.PAYWALL],type:"link",teamId:this.team().id,description:"Invite cta_clicked"}),this.props.dispatch(n.fileBrowser.showModal({type:c.AppModal.TEAM_PERMISSIONS_MODAL,data:{teamId:this.props.selectedView.teamId}}))})}team(){return this.props.teams[this.props.selectedView.teamId]}render(){const e=this.team(),t=i.canEditTeam(e.id,this.props),a=this.props.roles.byTeamId[e.id]||{},r=Object.keys(a).map(e=>a[e]).sort((e,t)=>{if(e.user.handle&&!t.user.handle)return-1;if(t.user.handle&&!e.user.handle)return 1;{const a=e.user.handle||e.user.email,s=t.user.handle||t.user.email;return a&&s?a.toLowerCase()<s.toLowerCase()?-1:1:a?-1:1}}),n=Object.keys(a).filter(e=>!a[e].pending).length;return s.createElement("div",null,s.createElement("div",{className:N.listHeader},s.createElement("span",null,"Team Members",n>1&&s.createElement("span",{className:N.memberCount},n)),this.props.showAdminPage&&s.createElement(V,Object.assign({},this.props))),(()=>r?r.length>1?s.createElement("div",{className:N.listItems},t&&s.createElement("div",{className:N.row,onClick:this.onInviteLinkClick},s.createElement(m.Svg,{svg:S,className:N.newRoleIcon}),s.createElement("span",{className:N.newRoleText},"Invite")),r.map(e=>s.createElement("div",{className:N.row,key:`team-role-${e.id}`},s.createElement(w.RoleRow,Object.assign({role:e},this.props))))):s.createElement(k.EmptyStateTile,{onClick:this.onInviteLinkClick,cta:"Invite a team member",icon:P,message:"Figma works better with friends. Invite a collaborator and work together."}):s.createElement(C.LoadingSpinner,null))())}}B.displayName="MemberList";class V extends s.PureComponent{constructor(){super(...arguments),this.showAdminPage=(()=>{const e=this.props.teams[this.props.selectedView.teamId];this.props.dispatch(n.fileBrowser.selectView({adminTeamId:e.id}))})}render(){return s.createElement("a",{className:N.adminLink,onClick:this.showAdminPage},s.createElement(m.Svg,{svg:I}),"Admin Dashboard")}}V.displayName="AdminPageLink",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,o){e.exports={pageContent:"user_view--pageContent--2dLIQ",blueLink:"user_view--blueLink--hD9O8 blue_link--blueLink--22X56",row:"user_view--row--Qt_rq",sectionHeader:"user_view--sectionHeader--3HlVU text--titleText--10C29",mainCol:"user_view--mainCol--3G419",cols:"user_view--cols--3bGMo",newToken:"user_view--newToken--3oiuN",newTokenInput:"user_view--newTokenInput--3olf2",devToken:"user_view--devToken--15yOf",devTokenNew:"user_view--devTokenNew--35MJ7",devTokenSvg:"user_view--devTokenSvg--1R5fR",devTokenInfo:"user_view--devTokenInfo--1axQH",devTokenDesc:"user_view--devTokenDesc--1-MWA",devTokenLastUsed:"user_view--devTokenLastUsed--bTeIg",devTokenRevoke:"user_view--devTokenRevoke--2PrPt",devTokenRevokeDisabled:"user_view--devTokenRevokeDisabled--1h9vP",devTokenWarning:"user_view--devTokenWarning--1c8UN",newDevToken:"user_view--newDevToken--3QYue",orgs:"user_view--orgs--21ojU",orgUserPermission:"user_view--orgUserPermission--PLN0J",orgUserAccountType:"user_view--orgUserAccountType--1mrxL",leaveButton:"user_view--leaveButton--3FvCG",requestUpgradeButton:"user_view--requestUpgradeButton--3iMNR",infoIcon:"user_view--infoIcon--19Q2M",iconRole:"user_view--iconRole--1DY52",oauthLogo:"user_view--oauthLogo--Whorf",gray:"user_view--gray--3YdPv",name:"user_view--name--1m74U file_browser_shared--pageTitle--3w73T",nameIcon:"user_view--nameIcon--1qOaT",nameInput:"user_view--nameInput--2PeQE file_browser_shared--pageTitle--3w73T input--input--3jE7P",email:"user_view--email--2hzo2",changeEmail:"user_view--changeEmail--umWgj",notificationRow:"user_view--notificationRow--n9y4V",notificationText:"user_view--notificationText--3nYi5",downloadButton:"user_view--downloadButton--moUBr",settingsLine:"user_view--settingsLine--2HvpO",spaceRight:"user_view--spaceRight--2QBRQ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,c){t.exports={id:"ge296acc3",src:'<svg width="12" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M6 12c3.314 0 6-2.686 6-6 0-3.314-2.686-6-6-6-3.314 0-6 2.686-6 6 0 3.314 2.686 6 6 6zm0-.667C3.054 11.333.667 8.946.667 6 .667 3.054 3.054.667 6 .667c2.946 0 5.333 2.387 5.333 5.333 0 2.946-2.387 5.333-5.333 5.333zm-.666-6h1.333v4H5.334v-4zm0-2c0-.368.298-.666.667-.666.368 0 .666.298.666.666 0 .369-.298.667-.666.667-.369 0-.667-.298-.667-.667z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(c,t,l){c.exports={id:"g76d110de",src:'<svg width="21" height="19" xmlns="http://www.w3.org/2000/svg"><path d="M10.162 7.941c-1.647-1.646-1.647-4.314 0-5.96 1.646-1.647 4.314-1.647 5.96 0l3.255 3.254c1.646 1.646 1.646 4.315 0 5.96-1.646 1.647-4.315 1.647-5.961 0l-.73-.73-2.95 2.95-4.623 4.624c-.336.336-.88.336-1.217 0L2.71 16.853.794 14.937l1.795-1.795 1.916 1.916 1.642-1.642-2.524-2.524 1.794-1.795 2.524 2.525 2.95-2.95-.73-.73zm1.794-4.166c-.655.655-.655 1.717 0 2.372l3.254 3.254c.655.655 1.717.655 2.372 0 .655-.655.655-1.717 0-2.372l-3.254-3.254c-.655-.655-1.717-.655-2.372 0z" fill-rule="evenodd" fill="#c4c4c4"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=s(80,1    ),n=s(34,1   ),i=s(38,1       ),o=s(176              ),r=s(0                    ),l=s(140           ),c=s(219          ),d=s(97      ),m=s(171                      ),p=s(173                        ),h=s(232                        ),u=s(239                             ),E=s(167                        ),v=s(1490                                  ),g=s(204                                            ),k=s(204                                            ),w=s(144                        ),f=s(1417                       ),N=s(349                            ),_=s(1357                                    ),T=s(727                                 ),b=s(1367                                          ),y=s(1603                                                                ),C=s(1622             ),L=s(1623                             ),O=s(1624                      ),A=s(729                            ),S=s(1356                              );class M extends n.Component{constructor(e){super(e),this.rename=(e=>{this.props.dispatch(h.user.put({user:{id:this.props.user.id,name:e},userInitiated:!0})),this.setState({isEditingName:!1})}),this.startEditing=(()=>this.setState({isEditingName:!0})),this.stopEditing=(()=>this.setState({isEditingName:!1})),this.state={isEditingName:!1}}renderTitle(){return this.state.isEditingName?n.createElement("div",{className:C.name},n.createElement("div",{className:C.nameIcon}),n.createElement(T.Input,{className:C.nameInput,placeholderValue:this.props.user.name,submit:this.rename,cancel:this.stopEditing})):n.createElement("div",{className:C.name,onClick:this.startEditing},n.createElement("div",{className:C.nameIcon},n.createElement(w.Svg,{svg:S})),n.createElement("div",null,this.props.user.name))}render(){return n.createElement(b.TopBar,Object.assign({title:this.renderTitle(),justifyChildren:"space-between",centerTitle:!0},this.props),n.createElement(y.TopBarSpacer,null),n.createElement(y.StandardActions,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}M.displayName="UserTopBar",t.UserTopBar=M;class U extends n.PureComponent{constructor(){super(...arguments),this.requestUpgrade=(e=>{this.props.dispatch(h.orgUser.requestAccountType({orgUserId:e}))}),this.confirmLeaveOrg=((e,t)=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.LEAVE_ORG_CONFIRMATION_MODAL,data:{orgId:e,orgName:t}}))})}render(){const e=m.getOrgUsersForUser(this.props.orgUsersByOrgId.orgUsers,this.props.user.id);return 0===e.length?n.createElement("div",null):n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Organizations"),n.createElement("table",{className:C.orgs},n.createElement("thead",null,n.createElement("tr",null,n.createElement("th",{colSpan:2},"NAME"),n.createElement("th",null,"ROLE"),n.createElement("th",null,"ACCOUNT TYPE"),n.createElement("th",null))),n.createElement("tbody",null,e.map(e=>{const t=this.props.orgById[e.org_id],s=e.permission===E.OrgPermissionType.GUEST;return n.createElement("tr",{key:t.id},n.createElement("td",null,n.createElement(N.Avatar,{entity:t})),n.createElement("td",null,t.name),n.createElement("td",null,n.createElement("span",{className:C.orgUserPermission},n.createElement("div",{className:C.iconRole},n.createElement("span",null,E.OrgPermissionTypeDisplayText[e.permission]),s&&n.createElement(w.Svg,{className:C.infoIcon,svg:L,"data-tooltip-text":"Use a verified work email address to become a full member"})),s&&n.createElement(k.Link,{className:C.leaveButton,onClick:()=>this.confirmLeaveOrg(t.id,t.name)},"Leave"))),n.createElement("td",null,n.createElement("span",{className:C.orgUserAccountType},E.OrgUserAccountTypeDisplayText[e.account_type],p.isOrgUserRestricted(e)&&n.createElement(k.Link,{className:C.requestUpgradeButton,onClick:()=>this.requestUpgrade(e.id)},"Request Upgrade"))))}))))}}t.Organizations=U;const I="Enter a description for your token";class D extends n.PureComponent{constructor(e){super(e),this.revokeToken=(e=>{this.setState({revoking:Object.assign({},this.state.revoking,{[e.id]:!0})}),d.default.del(`/api/user/dev_tokens/${e.id}`).then(t=>{this.setState({revoking:Object.assign({},this.state.revoking,{[e.id]:!1})}),this.state.newToken&&this.state.newToken.id===e.id&&this.setState({newToken:null}),this.props.dispatch(h.user.put({user:{dev_tokens:t.data.meta.tokens},userInitiated:!1}))}).catch(()=>{this.setState({revoking:Object.assign({},this.state.revoking,{[e.id]:!1})}),this.props.dispatch(h.flash.error("Could not revoke token, please try again"))})}),this.newToken=(()=>{this.setState({creatingToken:!0})}),this.cancel=(()=>{this.setState({creatingToken:!1})}),this.submit=(e=>{""!==e&&e!==I&&d.default.post("/api/user/dev_tokens",{desc:e}).then(e=>{const t=e.data.meta;this.setState({newToken:t});const s=this.props.user.dev_tokens;for(const a of s)if(a.id===t.id)return;this.props.dispatch(h.user.put({user:{dev_tokens:[t].concat(s)},userInitiated:!1}))}).catch(()=>{this.props.dispatch(h.flash.error("Could not create token, please try again"))}),this.setState({creatingToken:!1})}),this.focusToken=(e=>{const t=i.findDOMNode(e);null!=t&&t.focus()}),this.renderToken=(e=>{const t=e.last_used?`Used ${a(e.last_used).from(Date.now())}`:"Never used";return n.createElement("div",{key:e.id},n.createElement("div",{className:C.devToken},n.createElement("div",{className:C.devTokenDesc},n.createElement("div",{className:C.devTokenSvg},n.createElement(w.Svg,{useOriginalSrcFills:!0,svg:O})),n.createElement("div",null,e.description)),n.createElement("div",null,n.createElement("div",{className:C.devTokenLastUsed},t),n.createElement("div",{className:this.state.revoking[e.id]?C.devTokenRevokeDisabled:C.devTokenRevoke,onClick:this.revokeToken.bind(this,e)},"Revoke access"))))}),this.state={creatingToken:!1,newToken:null,revoking:{}}}render(){const e=this.props.user.dev_tokens||[],t=this.state.newToken&&[n.createElement("div",{key:"newToken"},n.createElement("div",{className:C.devTokenWarning},n.createElement("div",null,"Copy this token (",this.state.newToken.description,") - this is your only chance to do so!"),n.createElement("div",{className:C.newDevToken},this.state.newToken.token)),this.renderToken(this.state.newToken))]||[],s=e.reduce((e,t)=>(null!=this.state.newToken&&t.id===this.state.newToken.id||e.push(this.renderToken(t)),e),t);return n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Personal Access Tokens"),n.createElement("div",{className:C.devTokenInfo},"Personal access tokens allow you to access your own data via the API. Do not give out your personal access tokens to anybody who you don't want to access your files."),n.createElement("div",{className:C.newToken},!this.state.creatingToken&&n.createElement("div",{className:C.devTokenNew},n.createElement("div",null,n.createElement(w.Svg,{svg:A})),n.createElement("div",{onClick:this.newToken},"Create a new personal access token")),this.state.creatingToken&&n.createElement(T.Input,{ref:this.focusToken,className:C.newTokenInput,placeholderValue:I,submit:this.submit,cancel:this.cancel})),s)}}D.displayName="DevTokens";class F extends n.PureComponent{constructor(){super(...arguments),this.revokeToken=(e=>{d.default.del(`/api/oauth/token/${e.client_id}`).then(e=>{this.props.dispatch(h.user.put({user:{oauth_tokens:e.data.meta.tokens},userInitiated:!1}))}).catch(()=>{this.props.dispatch(h.flash.error("Could not revoke token, please try again"))})}),this.renderToken=(e=>{const t=`Connected ${a(e.granted_at).from(Date.now())}`;return n.createElement("div",{key:e.client_id},n.createElement("div",{className:C.devToken},n.createElement("div",{className:C.devTokenDesc},n.createElement("div",{className:C.oauthLogo},n.createElement("img",{src:e.logo})),n.createElement("div",null,e.name,"  ",n.createElement("span",{className:C.gray},e.website))),n.createElement("div",null,n.createElement("div",{className:C.devTokenLastUsed},t),n.createElement("div",{className:C.devTokenRevoke,onClick:this.revokeToken.bind(this,e)},"Revoke access"))))})}render(){const e=this.props.user.oauth_tokens;return n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Connected Apps"),n.createElement("div",{className:C.devTokenInfo},"The following apps have been given permission to access your Figma files on your behalf. If you see any apps you're not expecting here, remove their permissions below."),(!e||0===e.length)&&n.createElement("div",{className:C.gray},"You don't have any connected apps"),e&&e.map(this.renderToken))}}F.displayName="OauthTokens";class B extends n.Component{constructor(){super(...arguments),this.showFontModal=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.FONT_MODAL}))}),this.downloadInstaller=(()=>this.props.dispatch(h.fileBrowser.downloadFontInstaller(l.mac))),this.downloadUninstaller=(()=>this.props.dispatch(h.fileBrowser.downloadFontUninstaller())),this.changePassword=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.CHANGE_PASSWORD_MODAL}))}),this.disableTwoFactor=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.DISABLE_TWO_FACTOR_MODAL}))}),this.showBackupCode=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.TWO_FACTOR_RECOVERY_MODAL}))}),this.changeEmail=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.CHANGE_EMAIL_MODAL}))}),this.setupTwoFactor=(()=>{c.segment.track("Two-factor setup started"),this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.SETUP_TWO_FACTOR_MODAL}))}),this.setupPhone=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.SETUP_PHONE_MODAL}))}),this.invalidateSessions=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.INVALIDATE_SESSIONS}))}),this.showLibraryModal=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.LIBRARY_PREFERENCES_MODAL}))}),this.deleteUserAccount=(()=>{this.props.dispatch(h.fileBrowser.showModal({type:f.AppModal.DELETE_USER_ACCOUNT_MODAL}))})}renderFontSettings(){if(!o.desktopApp)return n.createElement("div",null,n.createElement("div",{className:C.sectionHeader},"Fonts"),(()=>{if(this.props.localFonts)return n.createElement("div",null,n.createElement("div",{style:{margin:"12px 0"}},"Local fonts are enabled. You have ",this.props.localFonts," fonts available in Figma."),n.createElement("div",null,(()=>l.windows?"To disable local fonts, you can uninstall Figma Helper from the Windows Control Panel.":l.mac?n.createElement("a",{target:"_blank",rel:"noopener",className:C.blueLink,href:"https://font-daemon.figma.com/FigmaUninstaller.pkg",onClick:this.downloadUninstaller},"Download uninstaller to disable local fonts."):void 0)()));if(l.mac||l.windows){let e=l.mac?"https://font-daemon.figma.com/FigmaInstaller.pkg":"https://font-daemon.figma.com/win/FigmaFontHelperSetup.exe";return n.createElement("div",null,n.createElement("div",{style:{margin:"12px 0"}},"Local fonts are currently not enabled.",n.createElement("span",{style:{marginLeft:12}},"(",n.createElement("span",{className:C.blueLink,onClick:this.showFontModal},"Learn more"),")")),n.createElement(g.ButtonLink,{target:"_blank",href:e,className:C.downloadButton,onClick:this.downloadInstaller},"Download installer to enable local fonts."))}return n.createElement("div",{style:{margin:"24px 0"}},"Local fonts are currently not supported for this operating system.")})())}render(){const e=this.props.user.two_factor_app_enabled,t=this.props.user.phone_number,s=e||t,a=null!=this.props.user.google_sso_only_at||null!=this.props.user.saml_sso_only_at;return n.createElement("div",{className:C.pageContent},n.createElement("div",{className:C.mainCol},n.createElement("div",{className:C.cols},n.createElement("div",null,n.createElement("div",{className:C.sectionHeader},"Email"),n.createElement("div",{className:C.email},this.props.user.email),!a&&n.createElement("div",{className:C.changeEmail},n.createElement("a",{className:C.blueLink,onClick:this.changeEmail},"Change email")),a&&n.createElement("div",{className:C.changeEmail},"Managed by ",null!=this.props.user.google_sso_only_at?"Google":"your Organization"),!a&&n.createElement("div",null,n.createElement("div",{className:C.sectionHeader,style:{marginTop:30}},"Password"),n.createElement("div",{className:C.blueLink,onClick:this.changePassword},"Change password"),!s&&n.createElement("div",{className:C.settingsLine},n.createElement("a",{className:C.blueLink,onClick:this.setupTwoFactor},"Enable two-factor authentication..."))),r.initialOptions().feature_flags.session_invalidation&&n.createElement("div",null,n.createElement("div",{className:C.sectionHeader,style:{marginTop:30}},"Other Devices"),n.createElement("div",{className:C.blueLink,onClick:this.invalidateSessions},"Sign out other devices"))),n.createElement(_.EditableAvatar,{entity:this.props.user,entityType:u.EntityType.CURRENT_USER,avatarEditorState:this.props.avatarEditorState,dispatch:this.props.dispatch})),s&&n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Two-factor authentication is enabled"),e&&n.createElement("div",{className:C.settingsLine},n.createElement("span",{className:C.spaceRight},"Authentication apps are enabled."),n.createElement("a",{className:C.blueLink,onClick:this.disableTwoFactor},"Disable...")),t&&n.createElement("div",{className:C.settingsLine},n.createElement("span",{className:C.spaceRight},"Connected cell phone number: ",t),n.createElement("a",{className:C.blueLink,onClick:this.setupPhone},"Configure")),!e&&n.createElement("div",{className:C.settingsLine},n.createElement("a",{className:C.blueLink,onClick:this.setupTwoFactor},"Connect authentication app...")),!t&&n.createElement("div",{className:C.settingsLine},n.createElement("a",{className:C.blueLink,onClick:this.setupPhone},"Connect cell phone number")),n.createElement("a",{className:C.blueLink,onClick:this.showBackupCode},"Show recovery codes")),n.createElement(U,Object.assign({},this.props)),n.createElement(D,Object.assign({},this.props)),n.createElement(F,Object.assign({},this.props)),n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Notifications"),n.createElement(v.EmailSettingsView,{emailSettings:this.props.emailSettings,dispatch:this.props.dispatch})),n.createElement("div",{className:C.row},this.renderFontSettings()),n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Library"),n.createElement("div",null,n.createElement("a",{className:C.blueLink,onClick:this.showLibraryModal},"Enable Libraries")," ","for all files in your Drafts.")),n.createElement("div",{className:C.row},n.createElement("div",{className:C.sectionHeader},"Account"),n.createElement("div",null,n.createElement("a",{className:C.blueLink,onClick:this.deleteUserAccount},"Delete Account")))))}}B.displayName="UserContent",t.UserContent=B,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=r(34,1   ),o=r(1616                                                     ),a=r(1367                                          ),i=r(1603                                                                ),n=r(1614             );class p extends s.Component{render(){let e=this.props.folderList||[];return s.createElement("div",{className:n.pageContent},s.createElement("div",{className:n.leftColumn},s.createElement("div",{className:n.folderListContainer},s.createElement(o.FolderListView,Object.assign({folderList:e,showTeamNameOrAuthor:!0},this.props)))))}}p.displayName="SharedProjectsContent",t.SharedProjectsContent=p;class c extends s.Component{render(){return s.createElement(a.TopBar,Object.assign({title:"Shared Projects",justifyChildren:"space-between"},this.props),s.createElement(i.TopBarSpacer,null),s.createElement(i.StandardActions,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}c.displayName="SharedProjectsTopBar",t.SharedProjectsTopBar=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,s){"use strict";Object.defineProperty(i,"__esModule",{value:!0});const t=s(34,1   );class a extends t.Component{constructor(e){super(e),this.mediaChanged=(()=>{let e=this.props.defaultClass||"";for(let[s,t]of this.mediaQueriesAndClasses)s.matches&&(e=t);let i=this.props.defaultStyle||{};for(let[s,t]of this.mediaQueriesAndStyles)s.matches&&(i=t);this.setState({shown:!this.props.query||this.visibilityMediaQuery.matches,className:e,style:i})}),this.mediaQueriesAndClasses=[],this.mediaQueriesAndStyles=[],this.state={shown:!0,className:"",style:{}}}removeVisibilityMediaListener(){this.visibilityMediaQuery&&(this.visibilityMediaQuery.removeListener(this.mediaChanged),this.visibilityMediaQuery=null)}removeMediaListeners(e){for(let[i,s,t]of e)i.removeListener(t)}initVisibilityMediaQuery(){this.removeVisibilityMediaListener(),this.props.query&&(this.visibilityMediaQuery=window.matchMedia(this.props.query),this.visibilityMediaQuery.addListener(this.mediaChanged))}initQueriesFromProps(e,i){return this.removeMediaListeners(e),e=[],i&&i.map(([i,s])=>{let t=window.matchMedia(i);t.addListener(this.mediaChanged),e.push([t,s,this.mediaChanged])}),e}initClassMediaQueries(){this.mediaQueriesAndClasses=this.initQueriesFromProps(this.mediaQueriesAndClasses,this.props.mediaClassList)}initStyleMediaQueries(){this.mediaQueriesAndStyles=this.initQueriesFromProps(this.mediaQueriesAndStyles,this.props.mediaStyleList)}componentDidMount(){window.matchMedia&&(this.initVisibilityMediaQuery(),this.initClassMediaQueries(),this.initStyleMediaQueries(),this.mediaChanged())}componentDidUpdate(e){let i=!1;this.props.query!==e.query&&(this.initVisibilityMediaQuery(),i=!0),JSON.stringify(this.props.defaultClass)===JSON.stringify(e.defaultClass)&&JSON.stringify(this.props.mediaClassList)===JSON.stringify(e.mediaClassList)||(this.initClassMediaQueries(),i=!0),JSON.stringify(this.props.defaultStyle)===JSON.stringify(e.defaultStyle)&&JSON.stringify(this.props.mediaStyleList)===JSON.stringify(e.mediaStyleList)||(this.initStyleMediaQueries(),i=!0),i&&this.mediaChanged()}componentWillUnmount(){this.removeVisibilityMediaListener(),this.removeMediaListeners(this.mediaQueriesAndClasses),this.removeMediaListeners(this.mediaQueriesAndStyles)}render(){if(this.state.shown){let e=Object.assign({},this.props,{className:this.state.className,style:this.state.style});return delete e.component,delete e.defaultClass,delete e.defaultStyle,delete e.mediaClassList,delete e.mediaStyleList,delete e.query,t.createElement(this.props.component||"div",e,this.props.children)}return t.createElement("div",{style:{display:"none"}})}}a.displayName="MediaQuery",i.MediaQuery=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,r){e.exports={container:"search_results_view--container--2e4jS file_browser_shared--container--1XKhp"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const s=t(34,1   ),i=t(247                                ),o=t(1585                                          ),a=t(1367                                          ),l=t(1603                                                                ),n=t(1628                       );class p extends s.Component{render(){const e=this.props.fileSearch.query?`Search results for "${this.props.fileSearch.query}"`:void 0;return s.createElement(a.TopBar,Object.assign({title:e,justifyChildren:"space-between"},this.props),s.createElement(l.TopBarSpacer,null),s.createElement(l.StandardActions,{dropdownShown:this.props.dropdownShown,userNotifications:this.props.userNotifications,dispatch:this.props.dispatch,currentOrgId:this.props.currentOrgId}))}}p.displayName="SearchResultsTopBar",r.SearchResultsTopBar=p;class c extends s.Component{render(){const e={srcFileSortFilterConfig:{filters:{creator:i.FileFilterCreator.ANY},sort:{key:i.FileSortKey.SEARCH_RELEVANCE,dir:i.FileSortDir.DESC}},fileSortFilterConfig:this.props.fileSortFilterStateByView.searchResults,includeSearchRelevance:!0},r=this.props.fileSearch.results||[],t=this.props.fileSearch.query?0===r.length?`No matches found for "${this.props.fileSearch.query}"`:"":"Type to search through your files...";return s.createElement("div",{className:n.container},s.createElement(o.FileTiles,Object.assign({files:r,fileActions:{showInFolder:!0,edit:!0,editNewTab:!0,restoreFromVersion:!0,share:!0,duplicate:!0,delete:!0},newFileTile:!1,activeFileUsers:this.props.activeFileUsers,sortFilterOptions:e,emptyStateText:t},this.props)))}}c.displayName="SearchResultsContent",r.SearchResultsContent=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,r){e.exports={folderName:"folder_link--folderName--2Eh16 sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",draftsName:"folder_link--draftsName--27zLb folder_link--folderName--2Eh16 sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",nameDisambiguator:"folder_link--nameDisambiguator--2uAQf",draftsIcon:"folder_link--draftsIcon--vocV3 sidebar--icon--1Z2rN",folderLink:"folder_link--folderLink--pgMyD sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s",selectedFolderLink:"folder_link--selectedFolderLink--M7qbd folder_link--folderLink--pgMyD sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s sidebar--selected--BMSeP",folderLinkDropTarget:"folder_link--folderLinkDropTarget--LDcpE sidebar--dropTarget--1Mzvj folder_link--folderLink--pgMyD sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s",dragImage:"folder_link--dragImage--3W5Cd",contextSelectedFolderLink:"folder_link--contextSelectedFolderLink--cB7dY folder_link--folderLink--pgMyD sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s",tileBorder:"folder_link--tileBorder--1s4e5",newFolderInput:"folder_link--newFolderInput--27rfc input--input--3jE7P sidebar--sectionInput--31Gwt sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",spacing:"folder_link--spacing--9i0tb sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,s){t.exports={id:"g90171f19",src:'<svg width="12" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M0 .5h7.707L12 4.793V15.5H0V.5zm1 1v13h10v-9H7v-4H1zm7 .707L10.293 4.5H8V2.207z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,e,s){t.exports={id:"g30a3175d",src:'<svg width="12" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h7.707l.147.146 4 4 .146.147V15H0V0zm1 1v13h10V5H7V1H1zm7 .707L10.293 4H8V1.707z" fill-rule="evenodd"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(34,1   ),s=r(1530                         ),o=r(232                        ),i=r(1463                            ),n=r(166                         ),l=r(517                                        ),d=r(727                                 ),p=r(147                                        ),g=r(1630               ),h=r(388                                                    ),c=r(1631                              ),m=r(1632                                );class f extends a.Component{constructor(e){super(e),this.dragPaneImageRef=null,this.setDragImageRef=(e=>{this.dragPaneImageRef=e}),this.droppingIntoPersonalDisabled=(()=>!this.props.folder.team_id&&this.props.folder.path),this.onFolderContextMenu=((e,t)=>{t.stopPropagation(),t.preventDefault();const r=t.clientY>=window.innerHeight-150;this.props.dispatch(o.fileBrowser.showDropdown({type:f.NAV_FOLDER_CONTEXT_MENU,data:{folderId:e.id,position:{top:r?"auto":t.clientY,bottom:r?window.innerHeight-t.clientY:"auto",left:t.clientX,right:"auto"}}}))}),this.onFolderDragStart=(e=>{let t=this.props.folder;e.dataTransfer.effectAllowed="move";let r=new s.DataTransferWrapper(e.dataTransfer);r.setArbitraryData(t),r.setDragImage(this.dragPaneImageRef),this.props.dispatch(o.dragAndDrop.startDrag({type:i.DragDataType.Folder,data:t})),e.stopPropagation()}),this.onFolderDragStop=(e=>{this.props.dispatch(o.dragAndDrop.stopDrag())}),this.isDragTarget=(e=>{return new s.DataTransferWrapper(e).isFigFiles()}),this.onFolderDragEnter=(e=>{this.droppingIntoPersonalDisabled()||this.setState({isDraggingFile:!0})}),this.onFolderDragLeave=(e=>{this.droppingIntoPersonalDisabled()||this.setState({isDraggingFile:!1})}),this.onFileDrop=(e=>{this.droppingIntoPersonalDisabled()?this.props.dispatch(o.flash.error("Projects are no longer supported outside of teams, so you can't move a file into a personal project.")):this.moveDroppedFiles(new s.DataTransferWrapper(e))}),this.moveDroppedFiles=(e=>{let t=this.props.folder;return!!e.isFigFiles()&&(this.setState({isDraggingFile:!1}),this.props.dispatch(o.file.tryMove(e.getData(),t)),!0)}),this.onFolderLinkMouseDown=(e=>{let t=this.props.folder;e.metaKey||e.ctrlKey||0!==e.button||this.props.dispatch(o.fileBrowser.selectViewByFolderId(t.id))}),this.onFolderRenameSubmit=((e,t)=>{this.props.dispatch(o.folder.rename(e.id,t)),this.props.dispatch(o.fileBrowser.stopRenameNavFolder(e.id))}),this.onFolderRenameCancel=(()=>{let e=this.props.folder;this.props.dispatch(o.fileBrowser.stopRenameNavFolder(e.id))}),this.state={isDraggingFile:!1}}static getContextSelectedFolder(e,t){if(e&&e.type===this.NAV_FOLDER_CONTEXT_MENU&&e.data.folderId in t)return t[e.data.folderId]}renderRenameFolderInput(e){return a.createElement("div",{key:`rename-input-${e.id}`,className:g.folderLink},a.createElement("span",{className:g.spacing}),a.createElement(d.Input,{className:g.newFolderInput,placeholderValue:e.name,submit:t=>{this.onFolderRenameSubmit(e,t)},cancel:this.onFolderRenameCancel}))}render(){let e=this.props.folder;if(this.props.renamingNavFolderWithId===e.id)return this.renderRenameFolderInput(e);let t=n.getFolderName(e),r=this.props.disambiguationFolders?n.getFolderNameDisambiguator(e,this.props.disambiguationFolders,this.props.teams,this.props.roles):void 0,s=this.props.draggable;if(e.appData&&e.appData.temp)return a.createElement("div",{className:g.folderLink},a.createElement(p.LoadingSpinner,null),e.name);let o=g.folderLink,i=f.getContextSelectedFolder(this.props.dropdownShown,this.props.folders);this.props.selectedView&&this.props.selectedView.folderId===e.id?o=g.selectedFolderLink:i&&i.id===e.id?o=g.contextSelectedFolderLink:this.state.isDraggingFile&&(o=g.folderLinkDropTarget);const d=n.isADraftsFolder(this.props.folders,e.id);return a.createElement("div",null,a.createElement(l.DragTarget,{ref:`folder-${e.id}`,className:o,title:t.length>28?t:void 0,draggable:s,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onFolderDragEnter,onTargetDragLeave:this.onFolderDragLeave,onTargetDrop:this.onFileDrop,onDragStart:this.onFolderDragStart,onDragEnd:this.onFolderDragStop,onMouseDown:this.onFolderLinkMouseDown,onContextMenu:this.onFolderContextMenu.bind(this,e)},a.createElement("div",{className:g.tileBorder}),!d&&a.createElement("span",{className:g.spacing}),d&&a.createElement(h.SvgWithFallback,{className:g.draftsIcon,svg:c,fallbackSvg:m}),a.createElement("span",{className:d?g.draftsName:g.folderName},t,r&&a.createElement("span",{className:g.nameDisambiguator},"(",r,")"))),a.createElement("div",{className:g.dragImage,ref:this.setDragImageRef}))}}f.displayName="FolderLink",f.NAV_FOLDER_CONTEXT_MENU="nav-folder-context-menu",t.FolderLink=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){e.exports={team:"team_link--team--1-tA5 sidebar--sidebarSection--3XvYF text--labelText--1wP9s",selectedTeam:"team_link--selectedTeam--1whFT sidebar--selected--BMSeP team_link--team--1-tA5 sidebar--sidebarSection--3XvYF text--labelText--1wP9s",contextSelectedTeam:"team_link--contextSelectedTeam--1FBlI team_link--team--1-tA5 sidebar--sidebarSection--3XvYF text--labelText--1wP9s",tileBorder:"team_link--tileBorder--3FU3b",teamName:"team_link--teamName--26rIb sidebar--sectionHeaderName--17dPf sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",icon:"team_link--icon--hbbyD sidebar--icon--1Z2rN",teamNameInput:"team_link--teamNameInput--6yGNZ input--input--3jE7P sidebar--sectionInput--31Gwt sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",teamOverLimit:"team_link--teamOverLimit--2pscQ",teamSwitcherTarget:"team_link--teamSwitcherTarget--DW825",teamSwitcherCaret:"team_link--teamSwitcherCaret--28QMR",hiddenEditableAvatar:"team_link--hiddenEditableAvatar--3FGCy"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=a(34,1   ),s=a(172                     ),n=a(173                        ),o=a(232                        ),r=a(239                             ),p=a(349                            ),m=a(1357                                    ),c=a(1618                                                              ),l=a(727                                 ),d=a(1245                                      ),h=a(1634             );class T extends i.Component{constructor(){super(...arguments),this.onContextMenu=(e=>{e.stopPropagation(),e.preventDefault();const t=e.clientY>=window.innerHeight-150;this.props.dispatch(o.fileBrowser.showDropdown({type:T.TEAM_LINK_CONTEXT_MENU,data:{teamId:this.props.team.id,position:{top:t?"auto":e.clientY,bottom:t?window.innerHeight-e.clientY:"auto",left:e.clientX,right:"auto"}}}))}),this.onTeamRenameClick=(e=>{this.props.dispatch(o.fileBrowser.beginRenameNavTeam(e.id))}),this.onRenameSubmit=((e,t)=>{this.props.dispatch(o.team.rename({team:this.props.team,name:t})),this.props.dispatch(o.fileBrowser.stopRenameNavTeam(e.id))}),this.onRenameCancel=(()=>{this.props.dispatch(o.fileBrowser.stopRenameNavTeam(this.props.team.id))}),this.onClickChangeTeamIcon=(()=>{this.editableAvatar.triggerFileInputClick()}),this.editableAvatarRef=(e=>{e&&(this.editableAvatar=e)}),this.onTeamLinkClick=(e=>{let t=this.props.team;this.props.dispatch(o.fileBrowser.selectViewByTeamId(t.id))})}static getContextSelectedTeam(e,t){if(e&&e.type===this.TEAM_LINK_CONTEXT_MENU&&e.data.teamId in t)return t[e.data.teamId]}render(){let e=this.props.team;const t=T.getContextSelectedTeam(this.props.dropdownShown,this.props.teams);let a=h.team;this.props.selectedView&&this.props.selectedView.teamId===e.id&&this.props.renamingNavTeamWithId!==e.id?a=h.selectedTeam:t&&t.id===e.id&&(a=h.contextSelectedTeam);const o=d.getBannerContent("team",e,e.id,this.props,this.props.dispatch),v=s.isOrgDelinquent(this.props.currentOrgId,this.props),u=n.canAdminTeam(e.id,this.props);return i.createElement("div",{onContextMenu:this.onContextMenu},i.createElement("div",{className:a,onClick:this.onTeamLinkClick},i.createElement("div",{className:h.tileBorder}),i.createElement("div",{className:h.icon},i.createElement(p.Avatar,{size:18,entity:this.props.team})),i.createElement("div",{className:h.teamName},this.props.renamingNavTeamWithId===e.id?i.createElement(l.Input,{className:h.teamNameInput,placeholderValue:e.name,submit:t=>{this.onRenameSubmit(e,t)},cancel:this.onRenameCancel}):e.name)),!v&&o&&i.createElement("a",{className:h.teamOverLimit,onClick:this.onTeamLinkClick},o.title),t&&t.id===e.id&&i.createElement(c.TeamContextMenu,Object.assign({team:t,onRenameClick:this.onTeamRenameClick,onChangeTeamIconClick:this.onClickChangeTeamIcon},this.props)),u&&i.createElement("span",{className:h.hiddenEditableAvatar},i.createElement(m.EditableAvatar,{entity:e,entityType:r.EntityType.TEAM,avatarEditorState:this.props.avatarEditorState,size:14,dispatch:this.props.dispatch,ref:this.editableAvatarRef})))}}T.displayName="TeamLink",T.TEAM_LINK_CONTEXT_MENU="team-link-context-menu",t.TeamLink=T,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,i){e.exports={container:"shared_projects_link--container--21M5c sidebar--sidebarSection--3XvYF text--labelText--1wP9s",selected:"shared_projects_link--selected--3m-fc sidebar--selected--BMSeP shared_projects_link--container--21M5c sidebar--sidebarSection--3XvYF text--labelText--1wP9s",name:"shared_projects_link--name--1IqFa sidebar--sectionHeaderName--17dPf sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",icon:"shared_projects_link--icon--340FO sidebar--icon--1Z2rN"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const o=t(34,1   ),r=t(232                        ),n=t(1636                        ),a=t(144                        ),c=t(735                             );class i extends o.Component{constructor(){super(...arguments),this.onMouseDown=(()=>{this.props.dispatch(r.fileBrowser.selectView({sharedProjects:!0}))})}render(){let e=n.container;return this.props.selectedView&&this.props.selectedView.sharedProjects&&(e=n.selected),o.createElement("div",{className:e,onMouseDown:this.onMouseDown},o.createElement(a.Svg,{className:n.icon,svg:c}),o.createElement("div",{className:n.name},"Shared Projects"))}}i.displayName="SharedProjectsLink",s.SharedProjectsLink=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,i){e.exports={section:"nav_section--section--zokZk sidebar--section--1UxqU",loadingSection:"nav_section--loadingSection--f2VGB sidebar--loadingSection--2OA_G sidebar--section--1UxqU",sectionText:"nav_section--sectionText--1_2Fk sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",emptySection:"nav_section--emptySection--3asNb sidebar--emptySection--2o8Cn sidebar--sidebarSection--3XvYF text--labelText--1wP9s",emptyText:"nav_section--emptyText--3oSd9 sidebar--emptyText--1HCS9",iconEmpty:"nav_section--iconEmpty--1RYhu sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",upgradeCta:"nav_section--upgradeCta--B7K_J sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s",upgradeCtaLink:"nav_section--upgradeCtaLink--23lrY sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",upgradeCtaSpacing:"nav_section--upgradeCtaSpacing--2mYzk sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",orderedFolders:"nav_section--orderedFolders--2rM_R",orderedFoldersEmpty:"nav_section--orderedFoldersEmpty--1TlFD nav_section--orderedFolders--2rM_R",folderSeparatorBefore:"nav_section--folderSeparatorBefore--uM190",folderSeparatorAfter:"nav_section--folderSeparatorAfter--uW5iu",folderSeparatorOff:"nav_section--folderSeparatorOff--_N9sh nav_section--sectionText--1_2Fk sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",folderSeparatorOn:"nav_section--folderSeparatorOn--2aUmn nav_section--folderSeparatorOff--_N9sh nav_section--sectionText--1_2Fk sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,t){"use strict";Object.defineProperty(r,"__esModule",{value:!0});const a=t(34,1   ),s=t(172                     ),i=t(232                        ),o=t(96         ),d=t(254                            ),n=t(1463                            ),p=t(147                                        ),l=t(517                                        ),c=t(1633                                                          ),g=t(1635                                                      ),m=t(1637                                                                            ),h=t(1638               ),S=t(204                                                           ),f=t(1417                ),E=t(196                                 ),T=t(220                        ),D=t(172                       );r.getSectionPreferences=((e,r,t)=>t?e===d.FileBrowserSidebarSectionType.TEAM?t.byTeamId[r]:t.bySectionType[e]:null),r.getOrderedFolders=((e,t,a)=>{const s=(t in a.foldersBySection?a.foldersBySection[t]:[]).filter(e=>e.is_subscribed).map(e=>e.id),i=r.getSectionPreferences(e,t,a.fileBrowserSectionPreferencesBySectionOrTeamId),o=i&&i.ordered_folder_ids||[],d=new Set(s),n=o.filter(e=>d.has(e)),p=new Set(n);return s.filter(e=>!p.has(e)).concat(n).map(e=>a.folders[e])}),r.moveOrderedFolder=((e,r,t,a,s,i)=>{y(r,e)!==t||t===d.FileBrowserSidebarSectionType.TEAM&&r.team_id!==a?_(e,r,t,a,s,i):F(e,t,a,r.id,s,i)});const F=(e,t,a,s,n,p)=>{const l=r.getOrderedFolders(t,a,e).map(e=>e.id),c=o.moveItem(l,s,n,p);c!==l&&e.dispatch(i.fileBrowserSectionPreferences.put({prefs:{section_type:t,team_id:t===d.FileBrowserSidebarSectionType.TEAM?a:void 0,ordered_folder_ids:c},userInitiated:!0}))},_=(e,t,a,s,o,n)=>{e.dispatch(i.folder.tryMove(t,s));let p=r.getOrderedFolders(a,s,e).map(e=>e.id),l=p.indexOf(o);return l<0?l=n?0:p.length:n||(l+=1),p.splice(l,0,t.id),e.dispatch(i.fileBrowserSectionPreferences.put({prefs:{section_type:a,team_id:a===d.FileBrowserSidebarSectionType.TEAM?s:void 0,ordered_folder_ids:p},userInitiated:!0})),!0},y=(e,r)=>r.foldersBySection[e.team_id]?d.FileBrowserSidebarSectionType.TEAM:r.foldersBySection[v.USER_FOLDERS].some(r=>r.id===e.id)?d.FileBrowserSidebarSectionType.USER_FOLDERS:r.foldersBySection[v.USER_DRAFTS].some(r=>r.id===e.id)?d.FileBrowserSidebarSectionType.USER_DRAFTS:void 0;class u extends a.Component{constructor(e){super(e),this.isDragTarget=(e=>{if(this.props.dragState.type===n.DragDataType.Folder){const e=this.props.dragState.data,r=y(e,this.props);return!(r!==d.FileBrowserSidebarSectionType.USER_FOLDERS||!s.isFolderEditingLockedForUser(e,this.props))||this.props.acceptDropsFrom.has(r)}return!1}),this.onDragEnter=((e,r)=>{this.props.dragState.type===n.DragDataType.Folder&&this.setState({draggingOverFolderId:e})}),this.onDragQuadrantUpdate=(e=>{this.setState({draggingBefore:e&&e.upper})}),this.onDragLeave=((e,r)=>{this.setState((r,t)=>r.draggingOverFolderId===e?{draggingOverFolderId:null}:{})}),this.onDragDrop=((e,t,a)=>{const s=this.props.dragState.data;r.moveOrderedFolder(this.props,s,this.props.sectionType,this.props.teamId,e,this.state.draggingBefore),this.setState({draggingOverFolderId:null})}),this.state={draggingOverFolderId:null,draggingBefore:!1}}render(){const e=s.isTeamLockedForUser(this.props.teamId,this.props),t=r.getOrderedFolders(this.props.sectionType,this.props.teamId,this.props);return a.createElement("div",{className:0===t.length?h.orderedFoldersEmpty:h.orderedFolders},a.createElement("div",{className:h.folderSeparatorBefore},a.createElement("div",{className:this.props.showPrependIndicator||0===t.length&&this.props.showAppendIndicator?h.folderSeparatorOn:h.folderSeparatorOff})),t.map((e,r)=>a.createElement(l.DragTarget,{key:e.id,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,e.id),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,e.id),onTargetDrop:this.onDragDrop.bind(this,e.id)},a.createElement("div",{className:h.folderSeparatorBefore},a.createElement("div",{className:this.state.draggingOverFolderId===e.id&&this.state.draggingBefore?h.folderSeparatorOn:h.folderSeparatorOff})),a.createElement(c.FolderLink,Object.assign({key:`folder-${e.id}`,ref:`folder-${e.id}`,folder:e,draggable:!0,disambiguationFolders:this.props.teamId===v.USER_FOLDERS?t:null},this.props)),a.createElement("div",{className:h.folderSeparatorAfter},a.createElement("div",{className:this.state.draggingOverFolderId!==e.id||this.state.draggingBefore?h.folderSeparatorOff:h.folderSeparatorOn})))),0===t.length&&!e&&this.props.showFavoritesHintWhenEmpty&&a.createElement("div",{className:h.emptySection},a.createElement("span",{className:h.iconEmpty}),a.createElement("div",{className:h.emptyText},"Add a project to your favorites to see it here.")),a.createElement("div",{className:h.folderSeparatorAfter},a.createElement("div",{className:this.props.showAppendIndicator&&t.length>0?h.folderSeparatorOn:h.folderSeparatorOff})))}}u.displayName="OrderedFolders",r.OrderedFolders=u;class v extends a.PureComponent{constructor(e){super(e),this.isDragTarget=(e=>{if(this.props.dragState.type===n.DragDataType.Folder){const e=this.props.dragState.data,r=y(e,this.props);return!(r!==d.FileBrowserSidebarSectionType.USER_FOLDERS||!s.isFolderEditingLockedForUser(e,this.props))||this.props.acceptDropsFrom.has(r)}return!1}),this.onDragEnter=(e=>{this.props.dragState.type===n.DragDataType.Folder&&this.setState({isDraggingFolder:!0})}),this.onDragQuadrantUpdate=(e=>{this.setState({draggingBefore:e&&e.upper})}),this.onDragLeave=(e=>{this.setState({isDraggingFolder:!1})}),this.onDragDrop=((e,t)=>{if(this.props.dragState.type===n.DragDataType.Folder){const e=this.props.dragState.data;r.moveOrderedFolder(this.props,e,this.props.sectionType,this.props.teamId,null,this.state.draggingBefore)}this.setState({isDraggingFolder:!1})}),this.state={isDraggingFolder:!1,draggingBefore:!1}}render(){let e=this.props.teams[this.props.teamId];return a.createElement(l.DragTarget,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDragDrop},a.createElement("div",{className:h.section},this.props.sectionType===d.FileBrowserSidebarSectionType.USER_FOLDERS&&a.createElement(m.SharedProjectsLink,Object.assign({},this.props)),this.props.sectionType===d.FileBrowserSidebarSectionType.TEAM&&a.createElement(g.TeamLink,Object.assign({team:e},this.props)),a.createElement(u,Object.assign({showPrependIndicator:this.state.isDraggingFolder&&this.state.draggingBefore,showAppendIndicator:this.state.isDraggingFolder&&!this.state.draggingBefore},this.props)),D.canShowProUpgradeLink(e,this.props)&&a.createElement(b,{teamId:this.props.teamId,dispatch:this.props.dispatch})))}}v.displayName="NavSection",v.USER_FOLDERS="USER_FOLDERS",v.USER_DRAFTS="USER_DRAFTS",r.NavSection=v;class O extends a.Component{constructor(){super(...arguments),this.ctaClicked=(()=>{T.trackCtaClicked({location:"left panel",text:O.CTA_TEXT,teamId:this.props.teamId,description:"Left Panel Team Upgrade CTA Clicked",type:"link",category:[T.CtaCategories.UPGRADE_EXPERIENCE]}),this.props.dispatch(i.fileBrowser.showModal({type:f.AppModal.PRO_PITCH_MODAL,data:{teamId:this.props.teamId}}))})}render(){return a.createElement("div",{className:h.upgradeCta},a.createElement("span",{className:h.upgradeCtaSpacing}),a.createElement(S.Link,{className:h.upgradeCtaLink,onClick:this.ctaClicked},O.CTA_TEXT))}}O.CTA_TEXT="Upgrade to Professional";const b=E.experiment("exp_upgrade_experience_01").defaultComponentClass(class extends a.Component{render(){return a.createElement("div",null)}}).treatment("variant",O).build();class w extends a.PureComponent{render(){return a.createElement(v,Object.assign({sectionType:d.FileBrowserSidebarSectionType.USER_FOLDERS,teamId:v.USER_FOLDERS,acceptDropsFrom:new Set([d.FileBrowserSidebarSectionType.USER_FOLDERS])},this.props))}}w.displayName="SharedProjectsSection",r.SharedProjectsSection=w;class B extends a.PureComponent{render(){return this.props.teams[this.props.teamId]?a.createElement(v,Object.assign({sectionType:d.FileBrowserSidebarSectionType.TEAM,acceptDropsFrom:new Set([d.FileBrowserSidebarSectionType.TEAM])},this.props)):a.createElement("div",{className:h.loadingSection},a.createElement(p.LoadingSpinner,null))}}B.displayName="TeamSection",r.TeamSection=B,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,s){e.exports={recentFiles:"recent_files_link--recentFiles--g505D sidebar--sidebarSection--3XvYF text--labelText--1wP9s",selectedRecentFiles:"recent_files_link--selectedRecentFiles--V6MFk recent_files_link--recentFiles--g505D sidebar--sidebarSection--3XvYF text--labelText--1wP9s sidebar--selected--BMSeP",recentFilesName:"recent_files_link--recentFilesName--38Ivv sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",recentFilesIcon:"recent_files_link--recentFilesIcon--AxFdS sidebar--icon--1Z2rN"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,o){t.exports={id:"gd688f05b",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M8 16c4.418 0 8-3.582 8-8 0-4.418-3.582-8-8-8-4.418 0-8 3.582-8 8 0 4.418 3.582 8 8 8zm0-1c-3.866 0-7-3.134-7-7 0-3.866 3.134-7 7-7 3.866 0 7 3.134 7 7 0 3.866-3.134 7-7 7zM8 4H7v5h5V8H8V4z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const n=t(34,1   ),c=t(232                        ),i=t(144                        ),l=t(1640                     ),r=t(1641                                    );class a extends n.Component{constructor(){super(...arguments),this.onRecentFilesLinkClick=(()=>{this.props.dispatch(c.fileBrowser.selectView({recentFiles:!0}))})}render(){let e=l.recentFiles;return this.props.selectedView&&this.props.selectedView.recentFiles&&(e=l.selectedRecentFiles),n.createElement("a",{className:e,onMouseDown:this.onRecentFilesLinkClick},n.createElement(i.Svg,{className:l.recentFilesIcon,svg:r}),n.createElement("span",{className:l.recentFilesName},"Recent"))}}a.displayName="RecentFilesLink",s.RecentFilesLink=a,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,l,d){e.exports={deletedFiles:"deleted_files_link--deletedFiles--217IZ sidebar--sidebarSection--3XvYF text--labelText--1wP9s",selectedDeletedFiles:"deleted_files_link--selectedDeletedFiles--1dFfC deleted_files_link--deletedFiles--217IZ sidebar--sidebarSection--3XvYF text--labelText--1wP9s sidebar--selected--BMSeP",dropTargetDeletedFiles:"deleted_files_link--dropTargetDeletedFiles--645J1 deleted_files_link--deletedFiles--217IZ sidebar--sidebarSection--3XvYF text--labelText--1wP9s sidebar--dropTarget--1Mzvj",deletedFilesHeader:"deleted_files_link--deletedFilesHeader--ISbEU sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",deletedFilesIcon:"deleted_files_link--deletedFilesIcon--24ddq sidebar--icon--1Z2rN"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(h,t,c){h.exports={id:"gb879806f",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7 2h2c.552 0 1 .448 1 1H6c0-.552.448-1 1-1zM5 3c0-1.105.895-2 2-2h2c1.105 0 2 .895 2 2h3v1h-1v10c0 1.105-.895 2-2 2H5c-1.105 0-2-.895-2-2V4H2V3h3zm6 1H4v10c0 .552.448 1 1 1h6c.552 0 1-.448 1-1V4h-1zM6 7h1v4H6V7zm4 0H9v4h1V7z" fill-rule="evenodd"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,t,c){h.exports={id:"ge70a0519",src:'<svg width="16" height="16" xmlns="http://www.w3.org/2000/svg"><path d="M7 1c-.552 0-1 .448-1 1h4c0-.552-.448-1-1-1H7zm4 1c0-1.105-.895-2-2-2H7C5.895 0 5 .895 5 2H2v1h1v10c0 1.105.895 2 2 2h6c1.105 0 2-.895 2-2V3h1V2h-3zm1 1H4v10c0 .552.448 1 1 1h6c.552 0 1-.448 1-1V3zm-6 7V6h1v4H6zm3 0V6h1v4H9z" fill-rule="evenodd"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=s(34,1   ),a=s(1530                         ),l=s(357                  ),r=s(232                        ),n=s(517                                        ),g=s(1643                      ),o=s(388                                                    ),d=s(1644                                     ),p=s(1645                                       );class c extends i.Component{constructor(e){super(e),this.isDragTarget=(e=>{return new a.DataTransferWrapper(e).isFigFiles()}),this.onFileDragEnter=(e=>{this.setState({isDraggingFile:!0})}),this.onFileDragLeave=(e=>{this.setState({isDraggingFile:!1})}),this.onFileDrop=(e=>{this.deleteDraggedFiles(new a.DataTransferWrapper(e))}),this.deleteDraggedFiles=(e=>{if(!e.isFigFiles())return!1;this.setState({isDraggingFile:!1});let t=e.getData(),s={};t.forEach(e=>{s[e.key]=!0});let i=l.getDeleteFilesPayload(s,this.props,!0);return 0===Object.keys(i).length?this.props.dispatch(r.flash.error("You do not have permission to delete these files.")):this.props.dispatch(r.file.tryDeleteFiles({filesByKey:i})),!0}),this.onDeletedFilesClick=(()=>{this.props.dispatch(r.fileBrowser.selectView({deletedFiles:!0}))}),this.state={isDraggingFile:!1}}render(){let e=g.deletedFiles;return this.props.selectedView&&this.props.selectedView.deletedFiles?e=g.selectedDeletedFiles:this.state.isDraggingFile&&(e=g.dropTargetDeletedFiles),i.createElement(n.DragTarget,{className:e,isDragTarget:this.isDragTarget,onTargetDragEnter:this.onFileDragEnter,onTargetDragLeave:this.onFileDragLeave,onTargetDrop:this.onFileDrop,onMouseDown:this.onDeletedFilesClick},i.createElement(o.SvgWithFallback,{className:g.deletedFilesIcon,svg:d,fallbackSvg:p}),i.createElement("span",{className:g.deletedFilesHeader},"Deleted Files"))}}c.displayName="DeletedFilesLink",t.DeletedFilesLink=c,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,i){e.exports={blueLink:"new_team_link--blueLink--fLJCK blue_link--blueLink--22X56",navLink:"new_team_link--navLink--x86P_ sidebar--sidebarSection--3XvYF text--labelText--1wP9s",noTeams:"new_team_link--noTeams--1fTIJ",row:"new_team_link--row--35_1y sidebar--sidebarSection--3XvYF text--labelText--1wP9s",rowSelected:"new_team_link--rowSelected--Yc-m1 new_team_link--row--35_1y sidebar--sidebarSection--3XvYF text--labelText--1wP9s sidebar--selected--BMSeP",name:"new_team_link--name--37ECQ sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",newTeamIcon:"new_team_link--newTeamIcon--dKHeP",fixedRow:"new_team_link--fixedRow--2GYSW",icon:"new_team_link--icon--1yQ1_ sidebar--icon--1Z2rN",hoverIcon:"new_team_link--hoverIcon--9elwU new_team_link--icon--1yQ1_ sidebar--icon--1Z2rN",spacing:"new_team_link--spacing--NY099 sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",noTeamsText:"new_team_link--noTeamsText--E4fjr"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(c,t,e){c.exports={id:null,src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M17 9c0 2.761-2.239 5-5 5-2.761 0-5-2.239-5-5 0-2.761 2.239-5 5-5 2.761 0 5 2.239 5 5zm-1 0c0 2.21-1.79 4-4 4-2.21 0-4-1.79-4-4 0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4zm8 3c0 6.627-5.373 12-12 12-6.627 0-12-5.373-12-12C0 5.373 5.373 0 12 0c6.627 0 12 5.373 12 12zm-1 0c0 6.075-4.925 11-11 11-6.075 0-11-4.925-11-11C1 5.925 5.925 1 12 1c6.075 0 11 4.925 11 11z" fill-rule="evenodd"/><path d="M5 19.667C5 16.7 7.956 14 12 14c4.044 0 7 2.7 7 5.667 0 .477-.058.921-.167 1.333h1.029c.09-.419.138-.863.138-1.333C20 15.985 16.418 13 12 13c-4.418 0-8 2.985-8 6.667 0 .47.048.914.138 1.333h1.029c-.11-.412-.167-.856-.167-1.333z"/></svg>'},c.exports instanceof Function&&(c.exports.default=c.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),o=a(232                        ),i=a(144                        ),n=a(1417                       ),c=a(404                              ),l=a(1647                 ),r=a(220                        ),p=a(1563                           ),m=a(1648                             );class d extends s.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{r.trackCtaClicked({text:"New team",location:"home",category:[r.CtaCategories.LEFT_PANEL],type:"link",description:"Home New Team cta_clicked"}),this.props.dispatch(o.fileBrowser.selectView({teamCreation:!0}))})}render(){return s.createElement(k,{onClick:this.onClick},"New team")}}d.displayName="NewTeamLink",t.NewTeamLink=d;class u extends s.PureComponent{constructor(){super(...arguments),this.onClick=(()=>{this.props.dispatch(o.orgs.selectAdminView({view:"teams"})),this.props.dispatch(o.fileBrowser.showModal({type:n.AppModal.ORG_DASHBOARD_MODAL}))})}render(){return this.props.notOnAnyTeams?s.createElement(k,{onClick:this.onClick},"View all teams"):s.createElement("div",{className:l.noTeams},s.createElement(i.Svg,{className:l.icon,svg:p}),s.createElement("p",{className:l.noTeamsText},"Looks like you aren't on any teams  ",s.createElement("a",{className:l.blueLink,onClick:this.onClick},"view all teams")," to join one."))}}u.displayName="DiscoverableTeamsLink",t.DiscoverableTeamsLink=u;class v extends s.PureComponent{constructor(){super(...arguments),this.stopPropagation=(e=>e.stopPropagation())}render(){return s.createElement("div",{className:l.navLink,onClick:this.stopPropagation},s.createElement(i.Svg,{className:l.hoverIcon,svg:m,id:"sidebar_guest_info_icon","data-tooltip-content-key":c.TooltipView.SIDEBAR_GUEST_INFO,"data-tooltip-show-above":!!this.props.showTooltipAbove||null,"data-tooltip-timeout-delay":50,"data-tooltip-interactive":!0}),s.createElement("span",{className:l.name},"Guest"))}}v.displayName="GuestView",t.GuestView=v;class k extends s.PureComponent{render(){return s.createElement("div",{className:l.navLink,onMouseDown:this.props.onClick},s.createElement("div",{"data-onboarding-key":"new-team-icon",className:l.icon},s.createElement(i.Svg,{svg:p})),s.createElement("div",{className:l.name},this.props.children))}}k.displayName="NavLink",e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,i,s){e.exports={sidebarScrollContainer:"sidebar--sidebarScrollContainer--3CVrq",sidebarScrollContainerFixed:"sidebar--sidebarScrollContainerFixed--2CMJ7 sidebar--sidebarScrollContainer--3CVrq",sidebarSection:"sidebar--sidebarSection--3XvYF text--labelText--1wP9s",searchSection:"sidebar--searchSection--H0VND sidebar--sidebarSection--3XvYF text--labelText--1wP9s",selectedSearchSection:"sidebar--selectedSearchSection--2gNyZ sidebar--searchSection--H0VND sidebar--sidebarSection--3XvYF text--labelText--1wP9s",searchBox:"sidebar--searchBox--1cpkp raw_components--borderFocusWithin--3IG2Z",icon:"sidebar--icon--1Z2rN",iconEmpty:"sidebar--iconEmpty--3KvV3 sidebar--icon--1Z2rN",searchIcon:"sidebar--searchIcon--3NZnZ sidebar--icon--1Z2rN raw_components--iconInsideBorderFocusWithin--Ry1th",searchInput:"sidebar--searchInput--cvfVe",navDefault:"sidebar--navDefault--1zbCB",navMobile:"sidebar--navMobile--3H4Fi sidebar--navDefault--1zbCB",navContent:"sidebar--navContent--sh3Ue",searchFocusedNavContent:"sidebar--searchFocusedNavContent--1Pn4H sidebar--navContent--sh3Ue",selected:"sidebar--selected--BMSeP",section:"sidebar--section--1UxqU",navHidden:"sidebar--navHidden--3tvd5",loadingSection:"sidebar--loadingSection--2OA_G sidebar--section--1UxqU",lastSection:"sidebar--lastSection--pjLuR sidebar--section--1UxqU",lastSectionFixed:"sidebar--lastSectionFixed--28g49 sidebar--lastSection--pjLuR sidebar--section--1UxqU",sectionText:"sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",sectionHeaderName:"sidebar--sectionHeaderName--17dPf sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",sectionName:"sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",sectionInput:"sidebar--sectionInput--31Gwt sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",sectionHeaderLink:"sidebar--sectionHeaderLink--znM01",sectionIcon:"sidebar--sectionIcon--BIyRV",emptySection:"sidebar--emptySection--2o8Cn sidebar--sidebarSection--3XvYF text--labelText--1wP9s",logoutSectionText:"sidebar--logoutSectionText--1x0Ug sidebar--sectionName--eII3k sidebar--sectionText--31Nhy ellipsis--ellipsis--1RWY6",emptyText:"sidebar--emptyText--1HCS9",sectionDropTarget:"sidebar--sectionDropTarget--3o9wq",loadingSpinner:"sidebar--loadingSpinner--OeAs2",folder:"sidebar--folder--OE9-f sidebar--sidebarSection--3XvYF text--labelText--1wP9s",contextSelected:"sidebar--contextSelected--GCLQ5",dropTarget:"sidebar--dropTarget--1Mzvj",dropBefore:"sidebar--dropBefore--3cVb2",dropAfter:"sidebar--dropAfter--3Drhf",dragImage:"sidebar--dragImage--1PcuK",divider:"sidebar--divider--2X5fS"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),a=s(38,1       ),i=s(199      ),n=s(96         ),o=s(1530                         ),l=s(232                        ),c=s(167                        ),p=s(1463                            ),d=s(163                       ),h=s(517                                        ),g=s(201                                      ),m=s(376                                                  ),u=s(144                        ),f=s(1627                         ),v=s(1605                                                                          ),S=s(1642                                                                      ),w=s(1633                                                          ),_=s(1646                                                                        ),D=s(1649                                                              ),b=s(1639                                                          ),I=s(474                               ),T=s(385                                        ),y=s(1650           ),E=s(370              ),k=s(1537                              );class N extends r.Component{constructor(e){super(e),this.dragPaneImageRef=null,this.setDragImageRef=(e=>{this.dragPaneImageRef=e}),this.onDragStart=((e,t)=>{t.dataTransfer.effectAllowed="move";let s=this.props.teams[e];if(!s)return;let r=new o.DataTransferWrapper(t.dataTransfer);r.setArbitraryData(s),r.setDragImage(this.dragPaneImageRef),this.props.dispatch(l.dragAndDrop.startDrag({type:p.DragDataType.Team,data:s}))}),this.onDragEnd=(e=>{this.props.dispatch(l.dragAndDrop.stopDrag())}),this.isDragTarget=(e=>this.props.dragState.type===p.DragDataType.Team),this.onDragEnter=((e,t)=>{this.props.dragState.type===p.DragDataType.Team&&this.setState({draggingOverTeamId:e})}),this.onDragQuadrantUpdate=(e=>{this.setState({draggingBefore:e&&e.upper})}),this.onDragLeave=((e,t)=>{this.setState((t,s)=>t.draggingOverTeamId===e?{draggingOverTeamId:null}:{})}),this.onDragDrop=((e,t,s)=>{const r=new o.DataTransferWrapper(t);this.moveDroppedTeam(e,r,s),this.setState({draggingOverTeamId:null})}),this.state={draggingOverTeamId:null,draggingBefore:!1}}getOrderedTeamIds(){const e=Object.keys(d.filterRolesByUserId(this.props.roles.byTeamId,this.props.user.id)).filter(e=>this.props.teams[e]),t=this.props.fileBrowserPreferences&&this.props.fileBrowserPreferences.ordered_team_ids||[],s=new Set(e),r=t.filter(e=>s.has(e)),a=new Set(r);return e.filter(e=>!a.has(e)).concat(r)}moveDroppedTeam(e,t,s){this.props.dragState.type!==p.DragDataType.Team&&console.error("Expected Team");const r=this.props.dragState.data.id,a=s&&s.upper;let i=this.getOrderedTeamIds();const o=n.moveItem(i,r,e,a);o!==i&&this.props.dispatch(l.fileBrowserPreferences.put({prefs:{ordered_team_ids:o},userInitiated:!0}))}render(){const e=this.getOrderedTeamIds();return r.createElement("div",null,e.map((e,t)=>r.createElement(h.DragTarget,{key:e,className:this.state.draggingOverTeamId===e?this.state.draggingBefore?y.dropBefore:y.dropAfter:"",isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter.bind(this,e),onTargetDragQuadrantUpdate:this.onDragQuadrantUpdate,onTargetDragLeave:this.onDragLeave.bind(this,e),onTargetDrop:this.onDragDrop.bind(this,e),draggable:!0,onDragStart:this.onDragStart.bind(this,e),onDragEnd:this.onDragEnd},r.createElement("div",{className:y.divider}),r.createElement(b.TeamSection,Object.assign({key:e,teamId:e,dragState:this.props.dragState},this.props)))),r.createElement("div",{className:y.dragImage,ref:this.setDragImageRef}))}}N.displayName="OrderedTeams",t.OrderedTeams=N;class O extends r.Component{constructor(){super(...arguments),this.state={searchInputFocused:!1},this.onFocusSearchInput=(e=>{this.showSearchResults(),this.setState({searchInputFocused:!0}),this.props.dispatch(l.fileBrowser.hideDropdown()),this.searchInput.select()}),this.onBlurSearchInput=(e=>{this.setState({searchInputFocused:!1})}),this.onChangeSearchInput=(e=>{this.showSearchResults(),this.setSearchQuery(e)}),this.onKeyDownSearchInput=(e=>{if(e.keyCode===i.Key.ESCAPE)if(""!==e.currentTarget.value){const e=new Event("input",{bubbles:!0});Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"value").set.call(this.searchInput,""),this.searchInput.dispatchEvent(e)}else this.searchInput.blur(),this.props.dispatch(l.fileBrowser.selectView({recentFiles:!0}))}),this.onClickSearchInput=(e=>{this.state.searchInputFocused?(e.preventDefault(),e.stopPropagation()):this.searchInput.focus()})}UNSAFE_componentWillReceiveProps(e){e.fileSearch&&void 0!==e.fileSearch.query&&(this.state.searchInputFocused||this.setState({searchInputFocused:!1}));let t=this.props.selectedView&&this.props.selectedView.folderId,s=e.selectedView&&e.selectedView.folderId;if(s&&s!==t){let e=`folder-${s}`;if(e in this.refs){let t=a.findDOMNode(this.refs[e]).getBoundingClientRect().top;if(t<0||t>this.nav.clientHeight){let e=t-this.navContent.getBoundingClientRect().top;e=Math.max(e,0),e=Math.min(e,this.navContent.scrollHeight-this.nav.clientHeight),this.nav.scrollTop=e}}}}onFolderRenameClick(e){this.props.dispatch(l.fileBrowser.beginRenameNavFolder(e.id))}showSearchResults(){this.props.selectedView.searchResults||this.props.dispatch(l.fileBrowser.selectView({searchResults:!0}))}setSearchQuery(e){this.props.dispatch(l.file.resetFileSelection());let t=e.currentTarget.value;this.props.dispatch(l.fileBrowser.setFileSearchQuery(t))}renderSearch(){const e=this.props.fileSearch&&this.props.fileSearch.query||"",t=this.state.searchInputFocused||this.props.selectedView.searchResults;return r.createElement(r.Fragment,null,r.createElement("div",{className:t?y.selectedSearchSection:y.searchSection,onClick:this.onClickSearchInput},r.createElement("div",{className:y.searchBox},r.createElement(u.Svg,{className:y.searchIcon,svg:k}),r.createElement(g.LazyInput,{ref:e=>{this.searchInput=a.findDOMNode(e)},className:y.searchInput,value:e,placeholder:"Search",onKeyDown:this.onKeyDownSearchInput,onFocus:this.onFocusSearchInput,onBlur:this.onBlurSearchInput,onChange:this.onChangeSearchInput,autoComplete:"off"}))),r.createElement("div",{className:y.divider}))}render(){let e=this.props.mobileNavShown?{left:0}:{left:-E.pxToInt(T.leftNavWidth__REFRESH)},t=this.props.foldersBySection[b.NavSection.USER_FOLDERS],s=this.props.foldersBySection[b.NavSection.USER_DRAFTS][0],i=w.FolderLink.getContextSelectedFolder(this.props.dropdownShown,this.props.folders);const n=t.length>0;t=t.filter(e=>e.is_subscribed);const o=!this.props.showingFileBrowserLoader,l=o?y.navDefault:y.navHidden,p=o?y.navMobile:y.navHidden,h=Object.keys(d.filterRolesByUserId(this.props.roles.byTeamId,this.props.user.id)).filter(e=>this.props.teams[e]).length>0,g=()=>{const e=this.props.orgUsersByOrgId.orgUsers[this.props.currentOrgId]&&this.props.orgUsersByOrgId.orgUsers[this.props.currentOrgId][this.props.user.id];let t,s;return function(e){e[e.DiscoverableTeamsLink=0]="DiscoverableTeamsLink",e[e.NewTeamLink=1]="NewTeamLink",e[e.GuestView=2]="GuestView"}(t||(t={})),s=e&&e.permission===c.OrgPermissionType.GUEST?t.GuestView:e?t.DiscoverableTeamsLink:t.NewTeamLink,r.createElement(f.MediaQuery,{query:I.desktopQuery},!h&&r.createElement("div",{className:y.divider}),r.createElement("div",{className:h?y.lastSectionFixed:y.lastSection},s===t.DiscoverableTeamsLink&&r.createElement(D.DiscoverableTeamsLink,{modalShown:this.props.modalShown,notOnAnyTeams:h,orgId:this.props.currentOrgId,dispatch:this.props.dispatch}),s===t.NewTeamLink&&r.createElement(D.NewTeamLink,{selectedView:this.props.selectedView,dispatch:this.props.dispatch}),s===t.GuestView&&r.createElement(D.GuestView,{showTooltipAbove:h,dispatch:this.props.dispatch})))};return r.createElement(f.MediaQuery,{defaultClass:l,mediaClassList:[[I.mobileQuery,p]],mediaStyleList:[[I.mobileQuery,e]],ref:e=>this.nav=a.findDOMNode(e)},r.createElement(m.ScrollContainer,{className:h?y.sidebarScrollContainerFixed:y.sidebarScrollContainer,showScrollbar:!0,scrollingDisabled:!1},r.createElement("div",{className:this.state.searchInputFocused?y.searchFocusedNavContent:y.navContent,ref:e=>this.navContent=e},r.createElement("div",{className:y.section},this.renderSearch(),r.createElement(S.RecentFilesLink,Object.assign({},this.props)),s&&r.createElement(w.FolderLink,Object.assign({key:`folder-${s.id}`,ref:`folder-${s.id}`,folder:s,draggable:!1},this.props)),r.createElement(_.DeletedFilesLink,Object.assign({},this.props))),n&&r.createElement("div",{className:y.divider}),n&&r.createElement(b.SharedProjectsSection,Object.assign({},this.props)),r.createElement(N,Object.assign({},this.props)),i&&r.createElement(v.FolderContextMenu,Object.assign({folder:i,onRenameClick:this.onFolderRenameClick.bind(this)},this.props)),r.createElement(f.MediaQuery,{query:I.mobileQuery},r.createElement("div",{className:y.section},r.createElement("div",{className:y.sidebarSection},r.createElement("span",{className:y.iconEmpty}),r.createElement("a",{className:y.logoutSectionText,href:"/logout"},"Sign out")))),!h&&g())),h&&g())}}O.displayName="SideBar",t.SideBar=O,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,s){e.exports={stepBreadcrumbs:"org_self_serve--stepBreadcrumbs--1fpQF step_breadcrumb--stepBreadcrumbs--1I2LW",cancel:"org_self_serve--cancel--3yQGF ellipsis--ellipsis--1RWY6",pageContainer:"org_self_serve--pageContainer--k7EhM",loadingSpinner:"org_self_serve--loadingSpinner--3y3FV"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){t.exports={columnContainer:"faq--columnContainer--16Y7m shared_styles--columnContainer--3PYiC",leftColumn:"faq--leftColumn--3m-bP shared_styles--leftColumn--3e3MB shared_styles--column--2Sd9B",rightColumn:"faq--rightColumn--1su8n shared_styles--rightColumn--13EWd shared_styles--column--2Sd9B",faqContainer:"faq--faqContainer--1zklS",title:"faq--title--3klpy text--largeTitleText--BrV1c",question:"faq--question--37VFt",faqItem:"faq--faqItem--1u56X",contactSales:"faq--contactSales--11eQt",link:"faq--link--1NQLf blue_link--blueLink--22X56"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const o=t(34,1   ),i=t(1653       ),n=[{question:"What are the differences between an Organization and a Team in Figma?",answer:"If you're currently using Figma with a Professional or Starter plan, you have a Team. Teams are not associated with an email domain. The Figma Organization plan enables all members of your email domain to be automatically added to your Organization. This allows your teams to work and collaborate in one place. Organizations include Teams as a layer of hierarchy for organizing files and projects."},{question:"I don't recognize some of the Teams in the list, or the Teams that I expected to find aren't listed. How does Figma decide which Teams are associated with my email domain?",answer:o.createElement(o.Fragment,null,"When you upgrade to Figma Organization, all Teams and members associated with your email domain are added to the Organization. Teams are selected to join the Organization if a majority of the members share an email domain. Sometimes customers find that Teams they expect to migrate to an Organization are not included in this list. Typically, this happens when people sign up for Figma using their personal email accounts instead of their work email accounts. Please reach out to your colleagues and ask them to change their email addresses in Figma to their work accounts before proceeding with your upgrade. If you have any issues, please feel free to ",o.createElement("a",{href:"mailto:support@figma.com",className:i.link},"contact Support"),".")},{question:"Will I be able to remove or create new Teams after I upgrade to Figma Organization?",answer:"Yes! Once you upgrade to Figma Organization, you may find that the way Teams were configured for your organization when you were using the Professional or Starter plans are no longer optimal. You will be able to create new Teams in your Organization and move files and projects between Teams. Additionally, you'll be able to remove Teams as well as projects and files that you no longer need. You may have an unlimited number of Teams in an Organization."},{question:"How is the number of licenses for my Figma Organization plan determined?",answer:"When you upgrade to Figma Organization, any member who has an edit permission on project, Team, or a file will be counted as a paid member and require a license. Any member can create or edit a file in their Drafts folder without having a paid license. However, if a member shares a file from their Drafts with others, they will need a paid license. Each paid license for Figma Organization is $45 per month. "},{question:"What if the number of people who need paid licenses to use Figma changes during my annual subscription?",answer:"The licenses you purchase are not tied to members. If a member of your organization leaves, another member may be upgraded to a paid account without requiring you to buy additional licenses. If more members of your organization need paid accounts in Figma over the course of your annual subscription, they can start using Figma as a paid member at any time. You will be charged for these additional licenses on a prorated basis each quarter of your subscription during the quarterly true-up."},{question:"My organization collaborates in Figma with people who are outside of our company, such as contractors or freelancers. What will happen to members who do not have email accounts associated with our email domain after we upgrade to Figma Organization?",answer:"In Figma Organization, members who do not have an email account that matches the domain associated with the Organization are Guests. Guests may only access files, projects, and Teams that Members have invited them to. When you upgrade to Figma Organization, Guests will continue to have access to files, projects, and Teams that they had been added to previously."},{question:"Will I be able to add other Members as Organization Admins after upgrading to Figma Organization?",answer:o.createElement(o.Fragment,null,"Yes! By default, the member who purchases the Organization for your email domain will become the Org Admin. However, you may add other Org Admins after you purchase Figma Organization in the Admin Panel. Please go to our Help Center documentation to ",o.createElement("a",{href:"https://help.figma.com",target:"_blank",rel:"noopener",className:i.link},"learn more"),".")},{question:"What if I want to upgrade only one or two Teams to the Figma Organization plan?",answer:"The Figma Organization plan requires that you purchase access for all users associated with your email domain."}],r=e=>o.createElement("div",{className:i.faqItem,key:e.question},o.createElement("p",{className:i.question},e.question),o.createElement("p",null,e.answer));a.Faq=(()=>o.createElement("div",{className:i.faqContainer},o.createElement("h2",{className:i.title},"Frequently Asked Questions"),o.createElement("div",{className:i.columnContainer},o.createElement("div",{className:i.leftColumn},n.slice(0,Math.ceil(n.length/2)).map(e=>r(e))),o.createElement("div",{className:i.rightColumn},n.slice(Math.ceil(n.length/2)).map(e=>r(e)),o.createElement("div",{className:i.contactSales},o.createElement("a",{href:"mailto:sales@figma.com",className:i.link},"Contact Sales")," for more information."))))),e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,o,n){e.exports={link:"org_step_choose_plan--link--3nNpU blue_link--blueLink--22X56",plans:"org_step_choose_plan--plans--3MIR5 plan--plans--2iX2K",plansContainer:"org_step_choose_plan--plansContainer--1U50r",nextButton:"org_step_choose_plan--nextButton--1Zakc",learnMore:"org_step_choose_plan--learnMore--25Qvg",currentPlan:"org_step_choose_plan--currentPlan--3p9Vy",check:"org_step_choose_plan--check--3TUkK",disclaimer:"org_step_choose_plan--disclaimer--17dpG",stepTitle:"org_step_choose_plan--stepTitle--2ocIQ"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,l,a){n.exports={plans:"plan--plans--2iX2K",plan:"plan--plan--1nMqa",planTitle:"plan--planTitle--2eemr",planIcon:"plan--planIcon--278MN",planFeatures:"plan--planFeatures--30Nel",planSubtitle:"plan--planSubtitle--1qMkn"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),a=s(1656        ),r=s(172                     ),i=s(144                        ),l=s(1411                                   );class o extends n.PureComponent{render(){return n.createElement(p,{svg:l,title:"Professional",subtitle:n.createElement(n.Fragment,null,"Starting at ",r.formatMoney(r.ANNUAL_EDITOR_COST,!0),"* / editor / month"),features:["Unlimited files and viewers","Unlimited projects","Unlimited version history","Team component library","Slack integration","Advanced project permissions"]},this.props.children)}}o.displayName="TeamPlan",t.ProfessionalPlan=o;class p extends n.PureComponent{render(){return n.createElement("div",{className:a.plan},n.createElement(i.Svg,{className:a.planIcon,svg:this.props.svg,useOriginalSrcFills:!0}),n.createElement("div",{className:a.planTitle},this.props.title),n.createElement("div",{className:a.planSubtitle},this.props.subtitle),n.createElement("div",{className:a.planFeatures},this.props.features.map((e,t)=>n.createElement("p",{key:t},e))),this.props.children)}}t.PlanBlock=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(l,t,c){l.exports={id:null,src:'<svg width="64" height="64" xmlns="http://www.w3.org/2000/svg"><path d="M5 32C5 17.088 17.088 5 32 5c14.912 0 27 12.088 27 27 0 14.912-12.088 27-27 27C17.088 59 5 46.912 5 32z" fill="#2f80ed"/><path d="M21.319 34.554c1.05 5.093 5.56 8.923 10.964 8.923 1.226 0 2.405-.197 3.51-.561l5.197 5.198 7.196-7.196-5.235-5.235c.342-1.072.526-2.215.526-3.4 0-5.21-3.558-9.588-8.376-10.837L16 16l5.319 18.554z" fill="#fff"/><path d="M37.231 41.477l3.76 3.759 4.317-4.318-3.796-3.796-.876-.876.376-1.18c.3-.928.436-1.76.43-2.783 0-4.26-2.91-7.844-6.852-8.867l-.024-.006-.023-.007-13.57-3.868 9.993 9.992c.399-.19.845-.297 1.317-.297 1.686 0 3.053 1.367 3.053 3.053 0 1.686-1.367 3.053-3.053 3.053-1.686 0-3.053-1.367-3.053-3.053 0-.472.107-.918.297-1.316l-9.98-9.98 3.728 13.006.022.074.015.076c.859 4.167 4.551 7.299 8.97 7.299 1.058.007 1.919-.138 2.873-.459l1.19-.393.886.887zm-4.948 2c-5.405 0-9.915-3.83-10.964-8.923l-4.658-16.25L16 16l2.306.657 16.795 4.79c4.818 1.248 8.376 5.627 8.376 10.836 0 1.185-.184 2.328-.526 3.4l3.796 3.796 1.44 1.439-1.44 1.44-4.318 4.317-1.439 1.439-1.439-1.44-3.759-3.758c-1.104.364-2.283.561-3.51.561z" fill-rule="evenodd"/></svg>'},l.exports instanceof Function&&(l.exports.default=l.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),n=a(232                        ),r=a(1655                        ),i=a(1503                             ),l=a(1657                                ),o=a(204                                            ),c=a(1285                                               ),p=a(144                        ),m=a(220                      ),g=a(172                     ),d=a(1499                        ),u=a(1658                                    );class _ extends s.Component{constructor(){super(...arguments),this.onClick=(()=>{m.trackCtaClicked({location:"table",category:[m.CtaCategories.ORG_UPGRADE_FLOW],type:"button",text:"upgrade",description:"Organization Choose Plan CTA Clicked"});const e=this.props.selectedView.viewState;this.props.dispatch(n.orgSelfServe.getSummary()),this.props.dispatch(n.fileBrowser.selectView({orgSelfServe:!0,viewState:{selfServeStep:i.OrgSelfServeStep.CREATE_ORG_PROFILE,previousView:e.previousView}}))})}render(){return s.createElement("div",null,s.createElement(c.StepTitle,{className:r.stepTitle},"Upgrade Plan"),s.createElement("div",{className:r.plansContainer},s.createElement("div",{className:r.plans},s.createElement(l.ProfessionalPlan,null,s.createElement("div",{className:r.currentPlan},s.createElement(p.Svg,{className:r.check,svg:d})," Current Plan")),s.createElement(f,null,s.createElement(o.Link,{className:r.learnMore,href:"/organization",target:"_blank",rel:"noopener"},"Learn more"),s.createElement(o.ButtonGreen,{className:r.nextButton,onClick:this.onClick},"Upgrade"))),s.createElement("p",{className:r.disclaimer},"* Excluding sales tax (where applicable)")))}}_.displayName="OrgStepChoosePlan",t.OrgStepChoosePlan=_;class f extends s.PureComponent{render(){return s.createElement(l.PlanBlock,{svg:u,title:"Organization",subtitle:s.createElement(s.Fragment,null,g.formatMoney(g.ANNUAL_ORGANIZATION_MEMBER_COST,!0),"* / editor / month"),features:["Unlimited teams, files, and projects","Organization-wide design systems","Shared fonts","SAML-based SSO","Activity logs","Link access controls","Draft ownership"]},this.props.children)}}f.displayName="OrganizationPlan",t.OrganizationPlan=f,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){e.exports={block:"org_step_create_org_profile--block--4b7cw shared_styles--block--51yku",membersBlock:"org_step_create_org_profile--membersBlock--1ULGF org_step_create_org_profile--block--4b7cw shared_styles--block--51yku",editors:"org_step_create_org_profile--editors--360ht",blockHeading:"org_step_create_org_profile--blockHeading--35cBE shared_styles--blockHeading--3a-qg",columnContainer:"org_step_create_org_profile--columnContainer--1BS9Z shared_styles--columnContainer--3PYiC",detail:"org_step_create_org_profile--detail--ty5uI shared_styles--detail--20Ck9",leftColumn:"org_step_create_org_profile--leftColumn--1FTxR shared_styles--leftColumn--3e3MB shared_styles--column--2Sd9B",rightColumn:"org_step_create_org_profile--rightColumn--3xovh shared_styles--rightColumn--13EWd shared_styles--column--2Sd9B",primaryButton:"org_step_create_org_profile--primaryButton--2Gh24 shared_styles--primaryButton--2fA2X",orgName:"org_step_create_org_profile--orgName--3aIJY",orgNameInput:"org_step_create_org_profile--orgNameInput--2htgB",inputError:"org_step_create_org_profile--inputError--1AAOa org_step_create_org_profile--orgNameInput--2htgB",errorMessage:"org_step_create_org_profile--errorMessage--26eJk",teamInfo:"org_step_create_org_profile--teamInfo--1erJs",team:"org_step_create_org_profile--team--2qeFm",inaccessibleTeam:"org_step_create_org_profile--inaccessibleTeam--26JQO org_step_create_org_profile--team--2qeFm",teamName:"org_step_create_org_profile--teamName--1GTz1 ellipsis--ellipsis--1RWY6",inaccessibleTeamCircle:"org_step_create_org_profile--inaccessibleTeamCircle--3Egvx",multiCircle:"org_step_create_org_profile--multiCircle--1kyvw",multiTeamCircles:"org_step_create_org_profile--multiTeamCircles--tsjdA",circleOne:"org_step_create_org_profile--circleOne--2fzfX org_step_create_org_profile--multiCircle--1kyvw",circleTwo:"org_step_create_org_profile--circleTwo--1h94G org_step_create_org_profile--multiCircle--1kyvw",disclaimer:"org_step_create_org_profile--disclaimer--1tcLI",stepTitle:"org_step_create_org_profile--stepTitle--FdGhs"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={subscriptionSubtotal:"total--subscriptionSubtotal--2Vi3p",price:"total--price--1S5A4",subtle:"total--subtle--2CMdB",itemSection:"total--itemSection--1Nm3P",subtotalSection:"total--subtotalSection--SP3LS",itemRow:"total--itemRow--PPeLt",subtotal:"total--subtotal--j2y1b"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=a(34,1   ),l=a(1661         ),n=a(172                     ),c=a(279         );t.SubscriptionSubTotal=function(e){return s.createElement("div",{className:`${l.subscriptionSubtotal} ${e.className}`},s.createElement("div",{className:l.itemSection},s.createElement("div",{className:l.itemRow},s.createElement("p",null,e.subscriptionCount," ",c.getPluralOrSingular(e.subscriptionCount,e.subscribtionTitle,e.pluralSubscribeTitle)," (",e.term," plan)"),s.createElement("p",{className:l.price},n.formatMoney(e.monthlyCost))),s.createElement("p",{className:l.subtle},e.period)),s.createElement("div",{className:l.subtotalSection},s.createElement("div",{className:l.itemRow},s.createElement("p",null,"Subscription"),s.createElement("p",{className:l.subtotal},n.formatMoney(e.subTotal))),s.createElement("p",{className:l.subtle},"+ sales tax")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,t){"use strict";Object.defineProperty(a,"__esModule",{value:!0});const r=t(34,1   ),s=t(232                        ),l=t(1660                               ),i=t(1503                             ),o=t(220                      ),n=t(172                     ),m=t(140           ),c=t(279         ),p=t(349                            ),g=t(204                                            ),u=t(1662                                          ),d=t(1285                                               );class N extends r.Component{constructor(){super(...arguments),this.onClickNext=(()=>{const e=this.props.orgSelfServe.orgName.trim();this.props.dispatch(s.orgSelfServe.setOrgName({orgName:e}));const a=this.orgNameErrorMessage(e);if(a)return void this.props.dispatch(s.orgSelfServe.setOrgNameError({message:a}));o.trackCtaClicked({location:"table",category:[o.CtaCategories.ORG_UPGRADE_FLOW],type:"button",text:"continue to review",description:"Organization Create Org Profile CTA Clicked"});const t=this.props.selectedView.viewState;this.props.dispatch(s.fileBrowser.selectView({orgSelfServe:!0,viewState:{selfServeStep:i.OrgSelfServeStep.REVIEW,previousView:t.previousView}}))}),this.orgNameErrorMessage=(e=>e.length>50?"Organization names may be 50 characters or fewer":0===e.length?"Organization names cannot be empty":null),this.onChangeOrgName=(e=>{const a=e.target;this.props.dispatch(s.orgSelfServe.setOrgNameError({message:null})),this.props.dispatch(s.orgSelfServe.setOrgName({orgName:a.value}))})}render(){const e=this.props.orgSelfServe.summary;return r.createElement("div",null,r.createElement(d.StepTitle,{className:l.stepTitle},"Set up your Figma Organization"),r.createElement("div",{className:l.columnContainer},r.createElement("div",{className:l.leftColumn},r.createElement("section",{className:l.block},r.createElement("h2",{className:l.blockHeading},"Domain"),r.createElement("p",{className:l.detail},e.domain)),r.createElement("section",{className:l.membersBlock},r.createElement("div",{className:l.editors},r.createElement("h2",{className:l.blockHeading},"Editors"),r.createElement("p",{className:l.detail},e.paid_members)),r.createElement("div",null,r.createElement("h2",{className:l.blockHeading},"Total Members"),r.createElement("p",{className:l.detail},e.total_members))),r.createElement("section",{className:l.block},r.createElement("p",{className:l.teamInfo},"The following ",c.getPluralOrSingular(e.total_teams,"Team is","Teams are")," associated with your domain and will be found in the Organization:"),e.team_ids.map(e=>{const a=this.props.teams[e];return r.createElement("div",{className:l.team,key:a.id},r.createElement(p.Avatar,{entity:a,size:24}),r.createElement("p",{className:l.teamName,title:a.name},a.name))}),e.inaccessible_teams>0&&r.createElement(r.Fragment,null,r.createElement("div",{className:l.inaccessibleTeam},e.inaccessible_teams>1?r.createElement("div",{className:l.multiTeamCircles},r.createElement("div",{className:l.circleOne}),r.createElement("div",{className:l.circleTwo})):r.createElement("div",{className:l.inaccessibleTeamCircle}),r.createElement("p",null,"+",e.inaccessible_teams," ",c.getPluralOrSingular(e.inaccessible_teams,"Team"))),r.createElement("p",{className:l.disclaimer},"Teams you are not a member of are not listed above")))),r.createElement("div",{className:l.rightColumn},r.createElement("section",{className:l.orgName},r.createElement("label",null,"Organization Name",r.createElement(g.BigTextInput,{className:this.props.orgSelfServe.orgNameError?l.inputError:l.orgNameInput,type:"text",value:this.props.orgSelfServe.orgName,placeholder:"Example: Figma",onChange:this.onChangeOrgName,autoFocus:!m.isMobileBrowser})),r.createElement("p",{className:l.errorMessage},this.props.orgSelfServe.orgNameError)),r.createElement(u.SubscriptionSubTotal,{monthlyCost:n.ANNUAL_ORGANIZATION_MEMBER_COST,subTotal:e.sub_total,period:"/ license / month",subscribtionTitle:"License",subscriptionCount:e.paid_members,term:"Annual"}),r.createElement(g.BigButtonGreen,{className:l.primaryButton,onClick:this.onClickNext},"Continue to Review"))))}}N.displayName="OrgStepCreateOrgProfile",a.OrgStepCreateOrgProfile=N,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,r,o){e.exports={block:"org_step_review_org_profile--block--CzfYI shared_styles--block--51yku",button:"org_step_review_org_profile--button--Um3BJ shared_styles--primaryButton--2fA2X",adminBlock:"org_step_review_org_profile--adminBlock--2nJaF org_step_review_org_profile--block--CzfYI shared_styles--block--51yku",subscriptionBlock:"org_step_review_org_profile--subscriptionBlock--1E2SZ",nameBlock:"org_step_review_org_profile--nameBlock--2BhWk org_step_review_org_profile--block--CzfYI shared_styles--block--51yku",blockHeading:"org_step_review_org_profile--blockHeading--3_TKR shared_styles--blockHeading--3a-qg",detail:"org_step_review_org_profile--detail--3lBna shared_styles--detail--20Ck9",strong:"org_step_review_org_profile--strong--2UaD_ shared_styles--strong--6IXud",link:"org_step_review_org_profile--link--2Ayip blue_link--blueLink--22X56",editLink:"org_step_review_org_profile--editLink--1zKYi org_step_review_org_profile--link--2Ayip blue_link--blueLink--22X56",narrowContainer:"org_step_review_org_profile--narrowContainer--1bdVw shared_styles--narrowContainer--3yhoM",buttonGroup:"org_step_review_org_profile--buttonGroup--2RMJj",stepTitle:"org_step_review_org_profile--stepTitle--7ARDj",terms:"org_step_review_org_profile--terms--1NPGH"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=a(34,1   ),n=a(232                        ),o=a(1664                               ),i=a(1503                             ),c=a(220                      ),s=a(172                     ),l=a(204                                            ),m=a(1285                                               ),p=a(1662                                          );t.OrgStepReviewOrgProfile=function(e){const t=t=>{const a=e.selectedView.viewState;e.dispatch(n.fileBrowser.selectView({orgSelfServe:!0,viewState:{selfServeStep:t,previousView:a.previousView}}))},a=e.orgSelfServe.summary;return r.createElement("div",{className:o.narrowContainer},r.createElement(m.StepTitle,{className:o.stepTitle},"Summary"),r.createElement("section",{className:o.nameBlock},r.createElement("div",null,r.createElement("h2",{className:o.blockHeading},"Organization Name"),r.createElement("p",{className:o.detail},e.orgSelfServe.orgName)),r.createElement("a",{className:o.editLink,onClick:()=>{c.trackCtaClicked({category:[c.CtaCategories.ORG_UPGRADE_FLOW],description:"Team Upgrade to Organization Cancel CTA Clicked",location:"organization name",text:"edit",type:"link"}),t(i.OrgSelfServeStep.CREATE_ORG_PROFILE)}},"Edit")),r.createElement("section",{className:o.adminBlock},r.createElement("h2",{className:o.blockHeading},"Organization Admin"),r.createElement("p",null,r.createElement("span",{className:o.strong},e.user.name)," / ",e.user.email)),r.createElement(p.SubscriptionSubTotal,{className:o.subscriptionBlock,monthlyCost:s.ANNUAL_ORGANIZATION_MEMBER_COST,subTotal:a.sub_total,period:"/ license / month",subscribtionTitle:"License",subscriptionCount:a.paid_members,term:"Annual"}),r.createElement("p",{className:o.terms},"Your subscription will automatically renew every year until you cancel. By upgrading, you agree to our ",r.createElement("a",{href:"/tos",className:o.link,target:"_blank",rel:"noopener"},"Terms of Service"),"."),r.createElement("section",{className:o.buttonGroup},r.createElement(l.BigButtonSecondary,{className:o.button,type:"button",onClick:()=>{c.trackCtaClicked({category:[c.CtaCategories.ORG_UPGRADE_FLOW],description:"Team Upgrade to Organization Cancel CTA Clicked",location:"button row",text:"back to organization",type:"button"}),t(i.OrgSelfServeStep.CREATE_ORG_PROFILE)}},"Back"),r.createElement(l.BigButtonGreen,{className:o.button,onClick:()=>{c.trackCtaClicked({category:[c.CtaCategories.ORG_UPGRADE_FLOW],description:"Complete Upgrade to Organization CTA Clicked",location:"button row",text:"accept and submit",type:"button"}),e.dispatch(n.orgSelfServe.sendEmailToSales()),t(i.OrgSelfServeStep.VIEW_CONFIRMATION)}},"Accept and Submit")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={narrowContainer:"org_step_view_confirmation--narrowContainer--ZLOz- shared_styles--narrowContainer--3yhoM",copy:"org_step_view_confirmation--copy--2dbM0",stepTitle:"org_step_view_confirmation--stepTitle--3jxh3",link:"org_step_view_confirmation--link--2osbw blue_link--blueLink--22X56",strong:"org_step_view_confirmation--strong--39gzC shared_styles--strong--6IXud"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),r=a(1666                              ),o=a(1285                                               );t.OrgStepViewConfirmation=function(){return n.createElement("div",{className:r.narrowContainer},n.createElement(o.StepTitle,{className:r.stepTitle},"Thank you!"),n.createElement("div",{className:r.copy},n.createElement("p",null,"We received your request to upgrade to Figma Organization."),n.createElement("p",null,"A member of our Sales team will review your submission and be in touch soon with next steps."),n.createElement("p",null,n.createElement("a",{href:"https://www.figma.com/organization/",target:"_blank",rel:"noopener",className:r.link},"Learn more about Figma Organization")),n.createElement("p",null,"If you have questions, please reach out to our ",n.createElement("span",{className:r.strong},"Sales team")," at ",n.createElement("a",{href:"mailto:sales@figma.com",className:r.link},"sales@figma.com"),".")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=r(34,1   ),n=r(232                        ),l=r(1652                  ),s=r(1503                             ),c=r(1654   ),i=r(1361                                ),o=r(1659                    ),p=r(1663                           ),m=r(1665                           ),d=r(1667                          ),g=r(1367                ),u=r(147                                        ),S=r(1285                                               ),E=r(615        ),h=r(220                      );class _ extends a.PureComponent{constructor(){super(...arguments),this.cancel=(e=>{e&&h.trackCtaClicked({category:[h.CtaCategories.ORG_UPGRADE_FLOW],text:"cancel",type:"button",location:"nav bar",description:`Team Upgrade to Organization Cancel CTA Clicked From '${e}' Step`});const t=this.props.selectedView.viewState;this.props.dispatch(n.fileBrowser.selectView(t.previousView))})}render(){const e=this.props.selectedView.viewState,t=e.selfServeStep,r=this.props.teams[e.previousView.teamId],n=r?`Back to ${r.name}`:"Back";return t===s.OrgSelfServeStep.CHOOSE_PLAN?a.createElement("div",null,a.createElement(O,Object.assign({cancelText:n,onCancel:this.cancel.bind(this,s.OrgSelfServeStep.CHOOSE_PLAN)},this.props)),a.createElement(i.FullWidthPageContent,null,a.createElement(o.OrgStepChoosePlan,Object.assign({},this.props)))):t===s.OrgSelfServeStep.CREATE_ORG_PROFILE?a.createElement("div",null,a.createElement(O,Object.assign({cancelText:"Cancel",onCancel:this.cancel.bind(this,s.OrgSelfServeStep.CREATE_ORG_PROFILE)},this.props)),a.createElement(i.FullWidthPageContent,null,a.createElement("div",{className:l.stepBreadcrumbs},a.createElement(S.StepBreadcrumb,{selected:!0,number:1,text:"Create Organization"}),a.createElement(S.StepBreadcrumb,{selected:!1,number:2,text:"Summary"})),this.props.orgSelfServe.isFetchingSummary?a.createElement(u.BlueLoadingSpinner,{className:l.loadingSpinner}):a.createElement("div",{className:l.pageContainer},a.createElement(p.OrgStepCreateOrgProfile,Object.assign({},this.props)),a.createElement(c.Faq,null)))):t===s.OrgSelfServeStep.REVIEW?a.createElement("div",null,a.createElement(O,Object.assign({cancelText:"Cancel",onCancel:this.cancel.bind(this,s.OrgSelfServeStep.REVIEW)},this.props)),a.createElement(i.FullWidthPageContent,null,a.createElement("div",{className:l.stepBreadcrumbs},a.createElement(S.StepBreadcrumb,{selected:!1,number:1,text:"Create Organization"}),a.createElement(S.StepBreadcrumb,{selected:!0,number:2,text:"Summary"})),a.createElement("div",{className:l.pageContainer},a.createElement(m.OrgStepReviewOrgProfile,{orgSelfServe:this.props.orgSelfServe,dispatch:this.props.dispatch,selectedView:this.props.selectedView,user:this.props.user}),a.createElement(c.Faq,null)))):t===s.OrgSelfServeStep.VIEW_CONFIRMATION?a.createElement("div",null,a.createElement(O,Object.assign({cancelText:n,onCancel:this.cancel.bind(this,null)},this.props)),a.createElement(i.FullWidthPageContent,null,a.createElement("div",{className:l.pageContainer},a.createElement(d.OrgStepViewConfirmation,null)))):void E.assertNever(t)}}_.displayName="OrgSelfServePage",t.OrgSelfServePage=_;class O extends a.PureComponent{render(){const e=a.createElement("div",{className:l.cancel,onClick:this.props.onCancel},this.props.cancelText);return a.createElement(g.TopBar,Object.assign({title:"Upgrade to Figma Organization",menu:e,centerTitle:!0},this.props))}}e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,t){o.exports={content:"file_browser_view--content--WV_sh",contentHidden:"file_browser_view--contentHidden--26YBm",contentAuto:"file_browser_view--contentAuto--1jDaq file_browser_view--content--WV_sh overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",contentScroll:"file_browser_view--contentScroll--RXFwz file_browser_view--content--WV_sh overflow--overflowYScroll--1FbIb overflow--momentumScroll--2_z54",contentMobile:"file_browser_view--contentMobile--3fRsj",contentMobileAuto:"file_browser_view--contentMobileAuto--2ZS2H file_browser_view--content--WV_sh file_browser_view--contentMobile--3fRsj overflow--overflowYAuto--2H5Wf overflow--momentumScroll--2_z54",contentMobileScroll:"file_browser_view--contentMobileScroll--2Uhs0 file_browser_view--content--WV_sh file_browser_view--contentMobile--3fRsj overflow--overflowYScroll--1FbIb overflow--momentumScroll--2_z54"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=s(34,1   ),i=s(38,1       ),a=s(141     ),o=s(232                        ),n=s(1530                         ),p=s(172                     ),l=s(173                        ),d=s(164                              ),c=s(166                         ),m=s(517                                        ),g=s(1532                                        ),h=s(1370                                        ),f=s(1536                                                      ),w=s(1542                                                ),_=s(1545                                              ),b=s(1568                                                    ),u=s(1607                                      ),v=s(1609                                            ),E=s(1611                                             ),F=s(1621                                              ),O=s(1625                                    ),T=s(1626                                                         ),S=s(1627                         ),I=s(1629                                              ),j=s(1639                                                          ),D=s(1651                                          ),L=s(1501                                           ),y=s(1668                                                        ),C=s(474                               ),B=s(1567                                   ),R=s(1669                     );class P extends r.Component{constructor(){super(...arguments),this.hideFilebrowserLoader=(()=>{const e=document.getElementById("filebrowser-loading-page");e&&(e.classList.add("fadeOut"),clearTimeout(this.loaderTimeoutId),this.loaderTimeoutId=setTimeout(()=>{e.classList.add("hidden")},1e3))}),this.showFilebrowserLoader=(()=>{const e=document.getElementById("filebrowser-loading-page");e&&e.classList.remove("hidden","fadeOut")}),this.allowImport=(()=>{if(this.props.selectedView.recentFiles)return!0;if(this.props.selectedView.folderId){const e=this.props.folders[this.props.selectedView.folderId];if(l.canEditFolder(e.id,this.props)&&!p.isFolderEditingLockedForUser(e,this.props))return!0}return!1}),this.importFileInputChange=(e=>{if(!this.props.selectedView.folderId&&!this.props.selectedView.recentFiles)for(let t in this.props.folders)if(""===this.props.folders[t].path){this.props.dispatch(o.fileBrowser.selectView({folderId:t}));break}this.props.dispatch(o.fileImport.inputChange(e.nativeEvent))}),this.isDragTarget=(e=>{return new n.DataTransferWrapper(e).isFile()}),this.onDragEnter=(e=>{this.allowImport()&&this.props.dispatch(o.fileImport.startDrag())}),this.onDragLeave=(e=>{this.allowImport()&&this.props.dispatch(o.fileImport.stopDrag())}),this.onDrop=(e=>{if(this.props.dispatch(o.fileImport.stopDrag()),this.allowImport()){const t={dataTransfer:e};this.props.dispatch(o.fileImport.drop(t))}})}componentDidMount(){this.hideFilebrowserLoader()}componentDidUpdate(e){void 0===this.props.selectedView.fileKey&&JSON.stringify(this.props.selectedView)!==JSON.stringify(e.selectedView)&&this.pageContent&&(this.pageContent.scrollTop=0);const t=!e.showingFileBrowserLoader&&this.props.showingFileBrowserLoader,s=e.showingFileBrowserLoader&&!this.props.showingFileBrowserLoader;t&&this.showFilebrowserLoader(),s&&this.hideFilebrowserLoader()}componentWillUnmount(){this.hideFilebrowserLoader()}topLevelFoldersBySection(e){let t=e.folders,s=null;try{s=c.getUserDefaultFolder(t,e.currentOrgId,e.roles,e.user,e.orgUsersByOrgId.orgUsers)}catch(i){}let r={[j.NavSection.USER_DRAFTS]:[],[j.NavSection.USER_FOLDERS]:[]};for(let a in e.roles.byTeamId)r[a]=[];for(let a in t){let i=t[a];if(""===i.parent_path){let o=j.NavSection.USER_FOLDERS;s&&a===s.id?o=j.NavSection.USER_DRAFTS:d.isTeamFolder(i)&&i.team_id in e.roles.byTeamId&&(o=d.getFolderTeamId(i)),(i.path||c.isADraftsFolder(t,a))&&r[o].push(i)}}for(let a in r)r[a].sort((e,t)=>e.name.toLowerCase()<t.name.toLowerCase()?-1:1);return r}render(){const e=this.props.selectedView;if(e&&e.upgradeTeamId)return r.createElement(b.TeamUpgradePage,Object.assign({},this.props));if(e&&e.addAnnualPlanTeamId)return r.createElement(b.AddAnnualPlan,Object.assign({},this.props));if(e&&e.adminTeamId)return r.createElement(w.TeamAdminPage,Object.assign({},this.props));if(e&&e.adminInvoicesTeamId)return r.createElement(_.TeamInvoicesPage,Object.assign({},this.props));if(e&&e.teamCreation)return r.createElement(f.TeamCreationPage,Object.assign({},this.props));if(e&&e.addCollaborators)return r.createElement(B.AddCollaboratorsPage,Object.assign({},this.props));if(e&&e.activityLogs)return r.createElement(g.ActivityLogsPage,Object.assign({},this.props));if(e&&e.configureSSO)return r.createElement(h.ConfigureSSOPage,Object.assign({},this.props));if(e&&e.orgSelfServe)return r.createElement(y.OrgSelfServePage,Object.assign({},this.props));let t=this.topLevelFoldersBySection(this.props);const s=Object.keys(t).some(e=>e!==j.NavSection.USER_DRAFTS&&t[e].filter(e=>e.is_subscribed).length>0);let[o,n]=(()=>e&&e.sharedProjects?[r.createElement(T.SharedProjectsContent,Object.assign({folderList:t[j.NavSection.USER_FOLDERS]},this.props)),r.createElement(T.SharedProjectsTopBar,Object.assign({},this.props))]:e&&e.folderId?[r.createElement(u.FolderContent,Object.assign({},this.props)),r.createElement(u.FolderTopBar,Object.assign({},this.props))]:e&&e.teamId?[r.createElement(F.TeamContent,Object.assign({foldersByTeamId:t},this.props)),r.createElement(F.TeamTopBar,Object.assign({},this.props))]:e&&e.recentFiles?[r.createElement(v.RecentFilesContent,Object.assign({},this.props)),r.createElement(v.RecentFilesTopBar,Object.assign({},this.props))]:e&&e.userId?[r.createElement(O.UserContent,Object.assign({},this.props)),r.createElement(O.UserTopBar,Object.assign({},this.props))]:e&&e.searchResults?[r.createElement(I.SearchResultsContent,Object.assign({},this.props)),r.createElement(I.SearchResultsTopBar,Object.assign({},this.props))]:e&&e.deletedFiles?[r.createElement(E.DeletedFilesContent,Object.assign({},this.props)),r.createElement(E.DeletedFilesTopBar,Object.assign({},this.props))]:void 0)(),p=R.contentHidden,l=R.contentHidden;return this.props.showingFileBrowserLoader||(a.ios?(p=R.contentScroll,l=R.contentMobileScroll):(p=R.contentAuto,l=R.contentMobileAuto)),r.createElement(m.DragTarget,{isDragTarget:this.isDragTarget,onTargetDragEnter:this.onDragEnter,onTargetDragLeave:this.onDragLeave,onTargetDrop:this.onDrop},r.createElement(D.SideBar,Object.assign({foldersBySection:t,showFavoritesHintWhenEmpty:!s},this.props)),r.createElement(S.MediaQuery,{ref:e=>{e&&(this.pageContent=i.findDOMNode(e))},defaultClass:p,mediaClassList:[[C.mobileQuery,l]]},o),n,r.createElement("input",{type:"file",multiple:!0,onChange:this.importFileInputChange,style:{display:"none"}}),this.allowImport()&&r.createElement(L.FileImportView,Object.assign({},this.props)))}}P.displayName="FileBrowserPageView",t.FileBrowserPageView=P,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,e){t.exports={},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(p,n,t){p.exports={app:"in_app_page--app--234Z6",content:"in_app_page--content--2V_He"},p.exports instanceof Function&&(p.exports.default=p.exports)}),
(function(p,n,t){p.exports={app:"in_app_page__REFRESH--app--sG_Cj",content:"in_app_page__REFRESH--content--1l70i"},p.exports instanceof Function&&(p.exports.default=p.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(143              ),n=s(232                        ),p=s(396                       );s(1671                            );const r=s(1672               ),a=s(1673                        ),l=s(0                    ).initialOptions().feature_flags.ui_refresh,c=l?a:r;class d extends i.Component{constructor(e){super(e),this.onPageClick=i.mouseEvent(this,"click",()=>{let e=!1;if(this.props.reduxState&&this.props.reduxState.dropdownShown&&(this.props.reduxState.dispatch(n.fileBrowser.hideDropdown()),e=!0),this.props.reduxState&&this.props.reduxState.tooltip.state===p.TooltipState.SHOWING&&this.props.reduxState.dispatch(n.tooltip.hide()),!e)return i.SKIP_RECORDING})}UNSAFE_componentWillMount(){super.UNSAFE_componentWillMount(),window.addEventListener("blur",this.onPageClick)}componentWillUnmount(){super.componentWillUnmount(),window.removeEventListener("blur",this.onPageClick)}render(){let e=c.app;return l&&(e+=" feature_flag_ui_refresh"),o.createElement("div",{className:e,onClick:this.onPageClick},o.createElement("div",{className:c.content},this.props.children))}}d.displayName="InAppPage",t.InAppPage=d,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,r,e){o.exports={button:"unsupported_browser--button--2-5h-",confirmButton:"unsupported_browser--confirmButton--35aA4",primaryButtonLink:"unsupported_browser--primaryButtonLink--39d5e",disabledButton:"unsupported_browser--disabledButton--3I0Cz",cancelLink:"unsupported_browser--cancelLink--1sKRr unsupported_browser--button--2-5h-",list:"unsupported_browser--list--rQfkI",left:"unsupported_browser--left--3s74Y",blueLink:"unsupported_browser--blueLink--4VgCG blue_link--blueLink--22X56",buttonRow:"unsupported_browser--buttonRow--2erK6",forgotLink:"unsupported_browser--forgotLink--1WzQZ",modalShadow:"unsupported_browser--modalShadow--2oXkG",modal:"unsupported_browser--modal--3Xz7X unsupported_browser--modalShadow--2oXkG",modalContent:"unsupported_browser--modalContent--389n5",welcome:"unsupported_browser--welcome--3RQXk unsupported_browser--modalContent--389n5",exportIcon:"unsupported_browser--exportIcon--1qytt",important:"unsupported_browser--important--1wppE",title:"unsupported_browser--title--fTSW6",textInput:"unsupported_browser--textInput--3NQAK",tfaQrCode:"unsupported_browser--tfaQrCode--H07MJ",error:"unsupported_browser--error--2FP37",code:"unsupported_browser--code--YZhF2",codes:"unsupported_browser--codes--qX7ws",avatarWithHandle:"unsupported_browser--avatarWithHandle--36dWJ",link:"unsupported_browser--link--1IQJD",logos:"unsupported_browser--logos--3nr4R",logo:"unsupported_browser--logo--3b0cz unsupported_browser--link--1IQJD"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),a=s(346                                 ),n=s(204                                            ),r=s(176              ),p=s(1675                       );function i(){location.href="/downloads"}t.isUnsupportedDesktopApp=function(){return!(!r.isRunningOutdatedDesktopApp()&&!r.isRunningUnsupportedDesktopAppPlatform())};class l extends o.PureComponent{renderUnsupportedDesktopAppOS(){return o.createElement(a.Modal,Object.assign({size:"small",className:p.modal},this.props),o.createElement("div",{className:p.title},"Your operating system is out of date!"),o.createElement("div",{className:p.modalContent},"Figma Desktop App now requires macOS 10.10 or later. Please upgrade to a newer version of macOS or use ",o.createElement("a",{href:"https://www.figma.com",target:"_blank"},"www.figma.com")," on the web instead."))}renderOutdatedDesktopApp(){return o.createElement(a.Modal,Object.assign({size:"small",className:p.modal},this.props),o.createElement("div",{className:p.title},"Figma Desktop App is out of date!"),o.createElement("div",{className:p.modalContent},"Please download and install the latest version of the Figma Desktop App."),o.createElement("div",{className:p.buttonRow},o.createElement(n.ButtonPrimary,{className:p.confirmButton,onClick:i},"Download")))}render(){return r.isRunningUnsupportedDesktopAppPlatform()?this.renderUnsupportedDesktopAppOS():this.renderOutdatedDesktopApp()}}l.displayName="UnsupportedBrowserModal",t.UnsupportedDesktopAppModal=l,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34,1   ),s=r(232                        ),o=r(216                                  ),i=r(712                                     ),a=r(1471                    );class p extends n.Component{constructor(){super(...arguments),this.putPreferences=(()=>{let e={file_browser_onboarded:!0};this.props.createTeamExperiment&&this.props.needsTeam&&(e.create_team_onboarded=!0),i.putPreferences(this.props.dispatch,e)}),this.done=(()=>{this.props.finishByOpeningFile?this.props.dispatch(s.fullscreen.new_(a.getNewFileInfo(this.props,!1))):this.props.createTeamExperiment&&this.props.needsTeam&&this.props.dispatch(s.fileBrowser.selectView({teamCreation:!0})),this.putPreferences()}),this.dismiss=(()=>{this.putPreferences()})}render(){let e=[],t=null;return this.props.needsWelcome&&e.push(o.WelcomeStep(this.props.user.name.split(" ")[0])),this.props.finishByOpeningFile,this.props.createTeamExperiment?this.props.needsTeam&&(t=o.ButtonType.CREATE_TEAM,e.push(u)):(e.push(m),this.props.needsEditor&&e.push(d),this.props.finishByOpeningFile&&(t=o.ButtonType.CREATE_FILE)),n.createElement(o.OnboardingFrame,{done:this.done,dismiss:this.dismiss,steps:e,buttonType:t})}}p.displayName="FileBrowserOnboarding",t.FileBrowserOnboarding=p;class l extends n.Component{constructor(){super(...arguments),this.putPreferences=(()=>{i.putPreferences(this.props.dispatch,{create_project_onboarded:!0})}),this.done=(()=>{this.props.dispatch(s.fileBrowser.openNewFolderModal("folder-list-view",this.props.teamId)),this.putPreferences()}),this.dismiss=(()=>{this.putPreferences()})}render(){let e=[h];return n.createElement(o.OnboardingFrame,{done:this.done,dismiss:this.dismiss,steps:e,buttonType:o.ButtonType.CREATE_PROJECT})}}l.displayName="ProjectOnboarding",t.ProjectOnboarding=l;class c extends n.Component{constructor(){super(...arguments),this.done=(()=>{i.putPreferences(this.props.dispatch,{import_file_onboarded:!0})})}render(){let e=[m];return n.createElement(o.OnboardingFrame,{done:this.done,steps:e})}}c.displayName="ImportFileOnboarding",t.ImportFileOnboarding=c;const m={title:"Import Sketch Files",trackingContextName:"Import Sketch File Onboarding Modal",key:"import",element:n.createElement("div",null,n.createElement(o.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-4.gif"}),n.createElement(o.OnboardingContent,null,n.createElement("p",null,"One of the coolest things about Figma is that you dont have to start from scratch to get to work."),"Just drag your Sketch files onto the browser and well convert them to Figma for you."))},d={title:"Edit a file",trackingContextName:"Edit a File Onboarding Modal",element:n.createElement(o.OnboardingContent,null,"Open a file to learn more about Figma's powerful editing features!")},u={title:"Create a Team",key:"createTeam",element:n.createElement("div",null,n.createElement(o.OnboardingImg,{src:"https://static.figma.com/app/onboarding/create-team.png"}),n.createElement(o.OnboardingContent,null,n.createElement("p",null,"Figma is at its most powerful when you work from a team space (even if you are working solo)."),n.createElement("p",null,"Team spaces allow you to organize files into projects, collaborate more easily, and manage specific permissions.")))},h={title:"Create a Project",key:"createProject",element:n.createElement("div",null,n.createElement(o.OnboardingImg,{src:"https://static.figma.com/app/onboarding/create-project.png"}),n.createElement(o.OnboardingContent,null,n.createElement("p",null,"This is your team space. From here you can add collaborators, manage permissions, and see all of your projects owned by the team."),n.createElement("p",null,"Projects contain your design files.  Lets create your first project now.")))};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(34,1   ),a=r(232                        ),s=r(172                     ),o=r(129                               ),i=r(1471                    ),l=r(216                                  ),p=r(1327                                ),m=r(344                          ),c=r(712                                     );class b extends n.Component{constructor(){super(...arguments),this.done=(e=>{c.putPreferences(this.props.dispatch,e),e.shared_component_publish_onboarded?this.props.dispatch(a.fullscreen.setLeftPanelTab({tab:o.LeftPanelTab.PUBLISH})):e.shared_component_library_onboarded&&this.props.dispatch(a.fullscreen.setLeftPanelTab({tab:o.LeftPanelTab.TEAM_LIBRARY}))}),this.setPreferences=(()=>{let e=this.getStepsPrefrences()[1];c.putPreferences(this.props.dispatch,e)}),this.getStepsPrefrences=(()=>{let e={},r=[];const n=i.getEditingFile(this.props),a=n?this.props.teams[n.team_id]:null,o=s.canAccessProFeature(a),l=this.props.mirror.appModel,p=l.publishableComponents&&l.publishableComponents.length>0,m=l.styles&&l.styles.length>0,c=this.props.library.published;return(Object.keys(c.components).length>0||Object.keys(c.styles).length>0||(m||p&&o))&&(e.library_modal_onboarded=!0,r.push(t.TeamLibrary)),[r,e]}),this.getButtonType=(e=>{let t;return e.shared_component_library_onboarded&&e.shared_component_publish_onboarded||e.shared_component_publish_onboarded?t=l.ButtonType.PUBLISH:e.shared_component_library_onboarded&&(t=l.ButtonType.LIBRARY),t})}render(){if(this.props.showingProgressBar!==m.ProgressBarMode.OFF)return n.createElement("div",null);let[e,t]=this.getStepsPrefrences();if(e.length<1)return n.createElement("div",null);let r=this.getButtonType(t);return n.createElement(l.OnboardingFrame,{done:this.done.bind(this,t),steps:e,buttonType:r,onClose:this.setPreferences})}}b.displayName="ComponentOnboarding",t.ComponentOnboarding=b,t.PublishOld={title:"Share Components",key:"publish",element:n.createElement("div",null,n.createElement(l.OnboardingImg,{src:"https://static.figma.com/app/onboarding/publish_1.gif"}),n.createElement(l.OnboardingContent,null,n.createElement("p",null,"Share components across your team by publishing them to the Team Library."),"Once published, components can be accessed by anyone on your team, in any file. ",n.createElement("a",{className:p.blueLink,href:"https://help.figma.com/editor/team-library",target:"_blank",rel:"noopener"},"Learn more")))},t.ComponentLibraryOld={title:"Team Library",key:"library",element:n.createElement("div",null,n.createElement(l.OnboardingImg,{src:"https://static.figma.com/app/onboarding/library.gif"}),n.createElement(l.OnboardingContent,null,n.createElement("p",null,"Maintain one single source of truth for your components across the entire team."),"Browse and insert any shared component in your Team Library. ",n.createElement("a",{className:p.blueLink,href:"https://help.figma.com/editor/team-library",target:"_blank",rel:"noopener"},"Learn more")))},t.TeamLibraryWithoutStyles={title:"Team Library",key:"library",element:n.createElement("div",null,n.createElement(l.OnboardingImg,{src:"https://static.figma.com/app/onboarding/library.gif"}),n.createElement(l.OnboardingContent,null,n.createElement("p",null,"Share components across your team by publishing them to the Team Library."),"Enable quick access to other libraries in this file. ",n.createElement("a",{className:p.blueLink,href:"https://help.figma.com/editor/team-library",target:"_blank",rel:"noopener"},"Learn more")))},t.TeamLibrary={title:"Team Library",key:"library",element:n.createElement("div",null,n.createElement(l.OnboardingImg,{src:"https://static.figma.com/app/onboarding/library.gif"}),n.createElement(l.OnboardingContent,null,n.createElement("p",null,"Share components and styles across your team by publishing them to the Team Library."),"Enable quick access to other libraries in this file. ",n.createElement("a",{className:p.blueLink,href:"https://help.figma.com/editor/team-library",target:"_blank",rel:"noopener"},"Learn more")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(34,1   ),r=n(232                        ),o=n(1678                    ),i=n(216                                  ),l=n(1327                                ),s=n(604                             ),m=n(712                                     ),p=n(0                    );class c extends a.PureComponent{constructor(e){super(e),this.state={originalLeftPanelTab:s.LeftPanelTab.LAYERS},this.done=(()=>{m.putPreferences(this.props.dispatch,{editor_onboarded:!0,shared_component_library_onboarded:!0,shared_component_publish_onboarded:!0,library_modal_onboarded:!0,styles_onboarded:!0,overlays_onboarded:!0,pdf_onboarded:!0,line_height_update_onboarded:p.initialOptions().feature_flags.line_height_update}),this.props.dispatch(r.userFlags.post({flags:{ui_refresh_onboarded:!0}}))}),this.hook=((e,t)=>{this.setState({originalLeftPanelTab:this.props.leftPanel.activeTab}),t&&"library"===t.key&&this.props.leftPanel.activeTab!==s.LeftPanelTab.PUBLISH?this.props.dispatch(r.fullscreen.setLeftPanelTab({tab:s.LeftPanelTab.PUBLISH})):e&&"library"===e.key&&this.props.leftPanel.activeTab!==this.state.originalLeftPanelTab&&this.props.dispatch(r.fullscreen.setLeftPanelTab({tab:this.state.originalLeftPanelTab}))}),this.steps=[g,d,b,h,u,o.TeamLibrary,f,y],this.stepsWithWelcome=[i.WelcomeStep(e.user.name.split(" ")[0]),...this.steps]}render(){return a.createElement(i.OnboardingFrame,{done:this.done,steps:this.props.needsWelcome?this.stepsWithWelcome:this.steps,hook:this.hook})}}c.displayName="EditorOnboarding",t.EditorOnboarding=c;const d={title:"Vector Networks",key:"pen",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-1.gif"}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"Pen tools have always been scary to use because they can be touchy and fragile."),"Now, they're both simpler and more powerful - paths finally work the way they should. ",a.createElement("a",{className:l.blueLink,href:"https://help.figma.com/drawing/vector-networks",target:"_blank",rel:"noopener"},"Learn more")))},g={title:"Constraints",key:"frame",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-2.gif"}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"Setting precise constraints lets you build fluid layouts to support multiple device sizes and breakpoints within the same group."),"All of your layers adjust the way you expect - no magic, you get full control. ",a.createElement("a",{className:l.blueLink,href:"https://help.figma.com/properties-panel/constraints",target:"_blank",rel:"noopener"},"Learn more")))},h={title:"Sharing and Permissions",key:"share",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/sharing.gif"}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"Share your projects with teammates, clients, and stakeholders but don't let them mess up your files."),"Control their access with granular permissons and manage their access in one simple place. ",a.createElement("a",{className:l.blueLink,href:"https://help.figma.com/managing-your-account/permissions",target:"_blank",rel:"noopener"},"Learn more")))},u={title:"Multiplayer",key:"share",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/multiplayer.gif"}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"Collaborate in real time with your team and never worry about your files being up-to-date."),"No syncing, no waiting, no merge conflicts. ",a.createElement("a",{className:l.blueLink,href:"https://blog.figma.com/multiplayer-editing-in-figma-8f8076c6c3a6",target:"_blank",rel:"noopener"},"Learn more")))},b={title:"Comments",key:"comment",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/page-3.gif"}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"Leave notes right in your design files."),"Get feedback, requests, and copy updates where you'll use them, not in your inbox. ",a.createElement("a",{className:l.blueLink,href:"https://help.figma.com/the-editor/1322329-toolbar/comments",target:"_blank",rel:"noopener"},"Learn more")))},f={title:"Export",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/export.png",width:350}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"Export your designs for use in production or to share with your team."),"Figma can export to PNG, JPEG, SVG, and PDF. ",a.createElement("a",{className:l.blueLink,href:"https://help.figma.com/importing-and-exporting/exporting-from-figma/export-options",target:"_blank",rel:"noopener"},"Learn more")))},y={title:"Live Device Preview",element:a.createElement("div",null,a.createElement(i.OnboardingImg,{src:"https://static.figma.com/app/onboarding/livepreview.gif"}),a.createElement(i.OnboardingContent,null,a.createElement("p",null,"To view your frames live on your device, just download Figma Mirror on your ",a.createElement("a",{className:l.blueLink,target:"_blank",rel:"noopener",href:"https://itunes.apple.com/app/figma-mirror/id1152747299"},"iOS")," or ",a.createElement("a",{className:l.blueLink,target:"_blank",rel:"noopener",href:"https://play.google.com/store/apps/details?id=com.figma.mirror&hl=en"},"Android")," device."),"Theyll update instantly no matter what network youre on and with no need to connect via USB."))};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,n,t){o.exports={bold:"orgs_onboarding--bold--1lm34"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),s=n(216                                  ),r=n(1680                   ),a=n(712                                     );class i extends o.Component{constructor(){super(...arguments),this.steps=[c()],this.done=(()=>{a.putPreferences(this.props.dispatch,{orgs_onboarded:!0})})}render(){return o.createElement(s.OnboardingFrame,{width:376,done:this.done,steps:this.steps,onClose:this.done})}}i.displayName="OrgsOnboarding",t.OrgsOnboarding=i;const c=()=>{return{title:"Welcome to your Figma Organization",isInBeta:!1,highlightOnlyKey:"new-team-icon",element:o.createElement("div",null,o.createElement(s.OnboardingImg,{src:"https://static.figma.com/uploads/6f3307f82aeddf6f609eaf97ee9e66e788d485c1",width:215,margin:"14px 0px 14px 27px"}),o.createElement(s.OnboardingContent,null,o.createElement("p",null,"Figma Organization connects files, projects, libraries, and teams, securely across your company."),"Click on ",o.createElement("span",{className:r.bold},"View all teams")," in the bottom left corner to find teams to join."))}};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(34,1   ),s=n(216                                  ),o=n(712                                     );class a extends r.Component{constructor(){super(...arguments),this.steps=[i],this.hasSetPreference=!1,this.done=(()=>{this.hasSetPreference||(this.hasSetPreference=!0,o.putPreferences(this.props.dispatch,{smart_selection_onboarded:!0}))})}componentWillUnmount(){this.done()}render(){return r.createElement(s.OnboardingFrame,{typeForLogging:a.displayName,done:this.done,steps:this.steps})}}a.displayName="SmartSelectionOnboarding",t.SmartSelectionOnboarding=a;const i={title:"Tidy Up",key:"distribute",element:r.createElement("div",null,r.createElement(s.OnboardingImg,{src:"https://static.figma.com/uploads/b28c762a711857ed85b7fb8feb6c4d8616e3316a"}),r.createElement(s.OnboardingContent,null,r.createElement("p",null,"Use the Tidy Up button to arrange your selection into a grid or list so that you can adjust spacing and rearrange items.")))};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,e,o){n.exports={blueLink:"onboarding--blueLink--2CJw4 blue_link--blueLink--22X56"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const s=n(34,1   ),r=n(216                                  ),o=n(1683              ),a=n(712                                     );class l extends s.Component{constructor(){super(...arguments),this.steps=[t.Styles],this.done=(()=>{a.putPreferences(this.props.dispatch,{styles_onboarded:!0})})}render(){return s.createElement(r.OnboardingFrame,{done:this.done,steps:this.steps,onClose:this.done})}}l.displayName="StylesOnboarding",t.StylesOnboarding=l,t.Styles={title:"Styles",element:s.createElement("div",null,s.createElement(r.OnboardingImg,{src:"https://static.figma.com/uploads/99123fbca853747e2e1d98050e9b59fe217bbe1d"}),s.createElement(r.OnboardingContent,null,s.createElement("p",null,"You can now create shareable and reusable styles for text, color, effects, and layout grids!"),"Publish them to the library to share with your team and use them in other files."," ",s.createElement("a",{className:o.blueLink,href:"https://help.figma.com/properties-panel/styles",target:"_blank",rel:"noopener"},"Learn more")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=n(34,1   ),r=n(216                                  ),a=n(1683              ),s=n(712                                     );class i extends o.Component{constructor(){super(...arguments),this.steps=[t.Overlays],this.done=(()=>{s.putPreferences(this.props.dispatch,{overlays_onboarded:!0})})}render(){return o.createElement(r.OnboardingFrame,{done:this.done,steps:this.steps,onClose:this.done,width:450})}}i.displayName="OverlaysOnboarding",t.OverlaysOnboarding=i,t.Overlays={title:"Overlays",element:o.createElement("div",null,o.createElement(r.OnboardingImg,{src:"https://static.figma.com/uploads/cdf05101941dc3b4d56cb08fd2367139da520afa",width:450}),o.createElement(r.OnboardingContent,null,o.createElement("p",null,'We\'ve made it easier to add things like modals, action sheets, and tooltips to your prototypes. Just click the "Open Overlay" button after linking to a frame, and it will show up on top of your existing frame.'),o.createElement("a",{className:a.blueLink,href:"https://help.figma.com/prototyping/prototyping-with-overlays",target:"_blank",rel:"noopener"},"Learn more")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const r=t(34,1   ),o=t(216                                  ),a=t(1683              ),s=t(712                                     );class i extends r.Component{constructor(){super(...arguments),this.steps=[n.PDFExport],this.done=(()=>{s.putPreferences(this.props.dispatch,{pdf_onboarded:!0})})}render(){return r.createElement(o.OnboardingFrame,{done:this.done,steps:this.steps,onClose:this.done})}}i.displayName="PDFOnboarding",n.PDFOnboarding=i,n.PDFExport={title:"PDF Export",element:r.createElement("div",null,r.createElement(o.OnboardingImg,{src:"https://static.figma.com/app/onboarding/pdf-export.png",width:350}),r.createElement(o.OnboardingContent,null,r.createElement("p",null,"You can now export your designs as a PDF for iOS development, printing, and sharing with your team!")," ",r.createElement("a",{className:a.blueLink,href:"https://help.figma.com/importing-and-exporting/exporting-from-figma/export-options",target:"_blank",rel:"noopener"},"Learn more")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const a=n(34,1   ),r=n(216                                  ),i=n(712                                     ),o=n(1683              );class s extends a.Component{constructor(){super(...arguments),this.done=(()=>{i.putPreferences(this.props.dispatch,{line_height_update_onboarded:!0})})}render(){let e=[t.LineHeightUpdate];return a.createElement(r.OnboardingFrame,{done:this.done,steps:e,onClose:this.done})}}s.displayName="LineHeightUpdateOnboarding",t.LineHeightUpdateOnboarding=s,t.LineHeightUpdate={title:"New Text Rendering",element:a.createElement("div",null,a.createElement(r.OnboardingImg,{src:"https://static.figma.com/uploads/a2220e5974ec390b6b72c29821c49878721323d2",width:350}),a.createElement(r.OnboardingContent,null,"Starting today, all new text boxes you create will use an updated text rendering method. This will change how line height is treated and fix a few bugs.",a.createElement("br",null),a.createElement("br",null),"You can always upgrade existing text boxes in the Advanced Type panel."," ",a.createElement("a",{className:o.blueLink,href:"https://help.figma.com/article/283-changes-to-line-height",target:"_blank",rel:"noopener"},"Learn more")))},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const s=t(95               ).parse(window.location.search);n.isRunningViaSelenium="1"===s.selenium,n.shouldTakeScreenshots=n.isRunningViaSelenium&&"1"===s.screenshots,n.shouldPlaybackInRealtime=-1!==window.location.search.indexOf("realtime=1"),n.specFilter=s.only||null;const i=new Set((s.test_categories||"").split(",").filter(e=>e.length>0));n.shouldRunTestInCategory=function(e){return 0===i.size||i.has(e)},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(o,e,n){o.exports={listItem:"orgs_self_serve_onboarding--listItem--rSa8m",icon:"orgs_self_serve_onboarding--icon--2RLW0",lockIcon:"orgs_self_serve_onboarding--lockIcon--uRRES orgs_self_serve_onboarding--icon--2RLW0",orgSelfServeOnboardingContainer:"orgs_self_serve_onboarding--orgSelfServeOnboardingContainer--3W9TR",info:"orgs_self_serve_onboarding--info--1GA7w"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,t,s){e.exports={id:"g1e25ca89",src:'<svg width="16" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M4 2h8v2.5h-1V3H8.5v8H10v1H6v-1h1.5V3H5v1.5H4V2z" fill-rule="evenodd" fill="#aeaeae"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,c,t){e.exports={id:"g013521e1",src:'<svg width="16" height="12" xmlns="http://www.w3.org/2000/svg"><path d="M8.44 3.641c-.048-.155-.206-.547-.634-.91C7.355 2.35 6.602 2 5.36 2 2.606 2 2 3.71 2 3.71v6.983h1.13c1.051-.774 2.972-.737 4.095-.08.22.13.42.283.597.457.272.267.49.582.637.93.149-.347.367-.662.64-.929.176-.172.376-.325.596-.453 1.123-.655 3.043-.69 4.093.083h1.13V3.71c0 0-.606-1.71-3.359-1.71-1.243 0-1.996.349-2.447.731-.428.363-.586.755-.634.91H8.44zm-.48.268h-.475l-.006.001v.002l.001.002.001.005.002.01.003.01c-.003-.009-.012-.034-.029-.07-.034-.072-.1-.185-.22-.304C7.019 3.349 6.51 3 5.359 3c-1.15 0-1.755.35-2.059.612-.148.128-.243.251-.3.338v5.652c.664-.342 1.433-.48 2.144-.485.89-.007 1.837.195 2.587.634.077.045.154.094.228.144V3.909zm.999 0V9.9c.075-.05.153-.1.232-.146.75-.437 1.696-.637 2.585-.63.71.005 1.479.144 2.142.486V3.95c-.057-.087-.152-.21-.3-.338C13.314 3.35 12.71 3 11.559 3c-1.15 0-1.66.349-1.878.565-.12.119-.186.232-.22.304-.017.036-.026.061-.029.07l.003-.01.002-.01v-.005l.001-.002V3.91l-.005-.001H8.96z" fill-rule="evenodd" fill="#aeaeae"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){e.exports={id:"g2fa6b152",src:'<svg width="8" height="11" xmlns="http://www.w3.org/2000/svg"><path d="M7 5h1v6H0V5h1V3c0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3v2zM2 5h4V3C6 1.857 5.143.93 4 .93 2.857.93 2 1.858 2 3v2zM1 6h6v4H1V6z" fill-rule="evenodd" fill="#aeaeae"/></svg>'},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),s=a(1689                              ),i=a(216                                  ),r=a(220                      ),o=a(204                                            ),l=a(712                            ),c=a(144                        ),m=a(1690                       ),g=a(1691                          ),d=a(1692                          ),p=a(735                             );class _ extends n.Component{constructor(){super(...arguments),this.steps=[f({teamId:this.props.selectedView.teamId})],this.done=(()=>{r.trackCtaClicked({category:[r.CtaCategories.ORG_UPGRADE_FLOW],teamId:this.props.selectedView.teamId,text:"dimiss",type:"button",location:"onboarding",description:"Organization Onboarding Dimiss CTA Clicked"}),l.putPreferences(this.props.dispatch,{orgs_self_serve_onboarded:!0})})}render(){return n.createElement(i.OnboardingFrame,{width:376,done:this.done,steps:this.steps,onClose:this.done,buttonType:i.ButtonType.ORG_SELF_SERVE})}}_.displayName="OrgsOnboarding",t.OrgsSelfServeOnboarding=_;const f=e=>{return{title:"Get more with Figma Organization",isInBeta:!1,highlightOnlyKey:"upgrade-to-org-button",key:"upgrade-to-org-button",element:n.createElement(i.OnboardingContent,null,n.createElement("div",{className:s.orgSelfServeOnboardingContainer},n.createElement("p",{className:s.info},"Unify all of your files, projects, and teams in a shared account with Figma Organization"),n.createElement("ul",null,n.createElement("li",{className:s.listItem},n.createElement(c.Svg,{className:s.icon,svg:p})," Unlimited Teams"),n.createElement("li",{className:s.listItem},n.createElement(c.Svg,{className:s.lockIcon,svg:d})," SAML-based Single Sign On"),n.createElement("li",{className:s.listItem},n.createElement(c.Svg,{className:s.icon,svg:m})," Shared Fonts"),n.createElement("li",{className:s.listItem},n.createElement(c.Svg,{className:s.icon,svg:g})," Organization-wide Design Systems")),n.createElement(o.Link,{href:"/organization",target:"_blank",rel:"noopener",onClick:()=>r.trackCtaClicked({category:[r.CtaCategories.ORG_UPGRADE_FLOW],teamId:e.teamId,type:"link",text:"learn more",location:"onboarding",description:"Organization Onboarding Learn More CTA Clicked"})},"Learn more")))}};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(34,1   ),s=o(232                        ),r=o(216                                  );class i extends t.PureComponent{constructor(){super(...arguments),this.done=(()=>{this.props.dispatch(s.responsiveContent.hide())})}render(){return t.createElement(r.OnboardingFrame,{done:this.done,steps:[this.props.content],onClose:this.done})}}i.displayName="ResponsiveContentOnboarding",n.ResponsiveContentOnboarding=i,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(h,c,v){h.exports={id:null,src:'<svg width="351" height="204" xmlns="http://www.w3.org/2000/svg"><path d="M350.5 0H0v204h350.5V0z" fill="#333"/><path d="M23 38h208v128H23V38zm2 2v124h204V40H25zm204 15H25v-2h204v2zM70 164V55h2v109h-2zm112 0V55h2v109h-2z" fill-rule="evenodd" fill="#fff"/><path d="M257.544 53l1.202-3.465h5.113L265.055 53h2.096l-4.711-13.09h-2.282L255.447 53h2.097zm1.777-5.126l1.93-5.587h.103l1.93 5.587h-3.963zM268.934 53h1.866v-1.528h.16c.345.627 1.048 1.72 2.838 1.72 2.378 0 4.104-1.905 4.104-5.082 0-3.183-1.752-5.056-4.123-5.056-1.822 0-2.48 1.112-2.819 1.72h-.115v-4.865h-1.911V53zm1.873-4.91c0-2.05.894-3.412 2.563-3.412 1.732 0 2.601 1.463 2.601 3.413 0 1.969-.895 3.47-2.601 3.47-1.643 0-2.563-1.405-2.563-3.47zm13.269 5.108c2.32 0 3.822-1.393 4.033-3.304h-1.86c-.243 1.06-1.068 1.687-2.161 1.687-1.617 0-2.659-1.349-2.659-3.49 0-2.103 1.061-3.426 2.659-3.426 1.215 0 1.956.767 2.161 1.687h1.86c-.205-1.981-1.822-3.298-4.053-3.298-2.767 0-4.557 2.084-4.557 5.082 0 2.96 1.726 5.062 4.577 5.062zm15.201-13.289h-1.841c-.07.358-1.067 2.014-2.978 2.014v1.623c1.483 0 2.512-.588 2.729-.971h.109V53h1.981V39.91zM302.706 53h8.616v-1.694h-5.893v-.096l2.601-2.723c2.397-2.422 3.081-3.58 3.081-5.043 0-2.103-1.713-3.714-4.18-3.714-2.448 0-4.238 1.585-4.238 3.976h1.885c-.006-1.406.902-2.327 2.314-2.327 1.33 0 2.34.818 2.34 2.122 0 1.157-.691 1.988-2.097 3.478l-4.429 4.59V53zm15.488.179c2.672 0 4.634-1.598 4.628-3.771.006-1.656-.997-2.845-2.736-3.113v-.102c1.368-.352 2.257-1.426 2.25-2.896.007-1.924-1.572-3.567-4.091-3.567-2.403 0-4.334 1.451-4.397 3.58h1.911c.045-1.202 1.176-1.93 2.461-1.93 1.336 0 2.211.811 2.205 2.02.006 1.265-1.01 2.096-2.461 2.096h-1.106v1.61h1.106c1.815 0 2.864.921 2.864 2.238 0 1.272-1.106 2.135-2.647 2.135-1.419 0-2.524-.729-2.601-1.892h-2.007c.083 2.135 1.975 3.592 4.621 3.592zM260.727 79c3.989 0 6.354-2.467 6.354-6.558 0-4.078-2.365-6.533-6.264-6.533h-4.526V79h4.436zm-2.064-2.052v-8.987h2.02c2.659 0 4.046 1.483 4.046 4.48 0 3.011-1.387 4.507-4.117 4.507h-1.949zm14.807 2.244c2.289 0 3.861-1.119 4.27-2.825l-2.16-.243c-.313.83-1.08 1.265-2.078 1.265-1.495 0-2.486-.984-2.505-2.665h6.839v-.71c0-3.445-2.071-4.96-4.487-4.96-2.812 0-4.647 2.065-4.647 5.094 0 3.081 1.809 5.044 4.768 5.044zm-2.467-6.028c.07-1.253.997-2.308 2.378-2.308 1.33 0 2.224.972 2.237 2.308h-4.615zm13.72-3.982h-2.039v-.774c0-.767.319-1.195 1.182-1.195.365 0 .671.083.863.14l.467-1.79c-.301-.101-.959-.267-1.758-.267-1.707 0-3.068.977-3.068 2.959v.927h-1.451v1.79h1.451V79h2.314v-8.028h2.039v-1.79zm5.805 7.389h6.245V79h2.263v-2.429h1.675v-1.95h-1.675V65.91h-2.953l-5.555 8.776v1.886zm6.271-1.95h-3.842v-.102l3.739-5.925h.103v6.027zm10.397 4.558c2.768 0 4.698-1.88 4.698-4.48 0-2.52-1.751-4.335-4.129-4.335-1.061 0-2.001.422-2.487.998h-.076l.377-3.471h5.631v-1.982h-7.594l-.684 6.75 2.142.352c.441-.486 1.272-.812 2.058-.806 1.438.007 2.474 1.068 2.467 2.55.007 1.465-1.003 2.506-2.403 2.506-1.183 0-2.135-.748-2.218-1.821h-2.301c.064 2.173 1.962 3.739 4.519 3.739zm11.525 0c2.826.02 4.724-1.924 4.718-4.513.006-2.474-1.758-4.263-4.053-4.263-1.406 0-2.646.684-3.272 1.809h-.09c.006-2.794 1.016-4.468 2.832-4.468 1.125 0 1.885.658 2.128 1.694h2.333c-.281-2.148-1.988-3.746-4.461-3.746-3.145 0-5.133 2.62-5.133 7.133 0 4.8 2.486 6.341 4.998 6.354zm-.012-1.918c-1.4 0-2.423-1.157-2.429-2.524.013-1.375 1.074-2.525 2.461-2.525 1.387 0 2.403 1.1 2.397 2.505.006 1.432-1.042 2.544-2.429 2.544z" fill="#fff"/><path d="M273 132c0-4.971-4.029-9-9-9-4.971 0-9 4.029-9 9 0 4.971 4.029 9 9 9 4.971 0 9-4.029 9-9z" fill="#18a0fb"/><path d="M299 132c0-4.971-4.029-9-9-9-4.971 0-9 4.029-9 9 0 4.971 4.029 9 9 9 4.971 0 9-4.029 9-9z" fill="#1bc47d"/><path d="M299 158c0-4.971-4.029-9-9-9-4.971 0-9 4.029-9 9 0 4.971 4.029 9 9 9 4.971 0 9-4.029 9-9z" fill="#7b61ff"/><path d="M325 158c0-4.971-4.029-9-9-9-4.971 0-9 4.029-9 9 0 4.971 4.029 9 9 9 4.971 0 9-4.029 9-9z" fill="#f24822"/><path d="M273 158c0-4.971-4.029-9-9-9-4.971 0-9 4.029-9 9 0 4.971 4.029 9 9 9 4.971 0 9-4.029 9-9z" fill="#fff"/><path d="M325 132c0-4.971-4.029-9-9-9-4.971 0-9 4.029-9 9 0 4.971 4.029 9 9 9 4.971 0 9-4.029 9-9z" fill="#ffeb00"/><path d="M264 105c-2.3 0-4.322-1.194-5.478-3 1.156-1.806 3.178-3 5.478-3 2.3 0 4.322 1.194 5.478 3-1.156 1.806-3.178 3-5.478 3zm0-7c2.878 0 5.378 1.621 6.635 4-1.257 2.379-3.757 4-6.635 4-2.878 0-5.377-1.621-6.635-4 1.258-2.379 3.757-4 6.635-4zm0 6c1.105 0 2-.895 2-2 0-1.105-.895-2-2-2-1.104 0-2 .895-2 2 0 1.105.896 2 2 2zm31.509-2.199c.555-.527 1.035-1.134 1.421-1.801h-1.185c-1.265 1.814-3.367 3-5.745 3-2.378 0-4.48-1.186-5.746-3h-1.184c.386.667.866 1.274 1.421 1.801l-1.595 1.595.708.707 1.657-1.657c.711.523 1.511.932 2.374 1.199l-.617 2.221.964.268.626-2.255c.452.08.917.121 1.392.121.475 0 .94-.041 1.392-.121l.626 2.255.964-.268-.617-2.221c.863-.267 1.663-.676 2.374-1.199l1.657 1.657.708-.707-1.595-1.595zM311 110v-3h-3v-1h3v-8h-3v-1h3v-3h1v3h8v-3h1v3h3v1h-3v8h3v1h-3v3h-1v-3h-8v3h-1zm9-4v-8h-8v8h8z" fill-rule="evenodd" fill="#fff"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(h,v,z){h.exports={id:null,src:'<svg width="351" height="200" xmlns="http://www.w3.org/2000/svg"><path d="M350.5 0H0v200h350.5V0z" fill="#333"/><path d="M-128 16h376v190h-376V16zm2 2v186h372V18h-372zm372 23h-374v-2h374v2zm-71 165V41h2v165h-2z" fill-rule="evenodd" fill="#fff"/><path d="M240.228 48.5L227.5 35.772 214.772 48.5 227.5 61.228 240.228 48.5z" fill="#fff"/><path d="M227.5 33.65l14.849 14.85L227.5 63.35 212.651 48.5 227.5 33.65zm0 4.243L216.893 48.5 227.5 59.106 238.107 48.5 227.5 37.893z" fill-rule="evenodd" fill="#333"/><path d="M240 44h-57c-1.657 0-3 1.343-3 3v100c0 1.657 1.343 3 3 3h57c1.657 0 3-1.343 3-3V47c0-1.657-1.343-3-3-3z" fill="#fff"/><path d="M192.582 57h-1.125c-.043.219-.652 1.23-1.82 1.23v.993c.906 0 1.535-.36 1.668-.594h.066V65h1.211v-8zm4.857 8.11c1.609 0 2.758-1.137 2.754-2.696.004-1.547-1.075-2.672-2.532-2.672-.593 0-1.144.227-1.457.531h-.046l.253-2.238h3.395V57h-4.398l-.45 4.031 1.106.164c.301-.27.84-.453 1.324-.453.949.008 1.637.719 1.637 1.696 0 .96-.668 1.656-1.586 1.656-.774 0-1.387-.492-1.449-1.18h-1.172c.047 1.273 1.152 2.195 2.621 2.195zm7.021.023c1.847 0 2.929-1.508 2.929-4.13 0-2.6-1.097-4.112-2.929-4.112-1.836 0-2.93 1.507-2.934 4.113 0 2.617 1.082 4.125 2.934 4.129zm0-1.043c-1.082 0-1.735-1.086-1.735-3.086.004-1.992.656-3.09 1.735-3.09 1.074 0 1.73 1.098 1.73 3.09 0 2-.652 3.086-1.73 3.086zm8.546-.59c.004.902.57 1.664 1.629 1.664 1.047 0 1.621-.762 1.621-1.664v-.422c0-.906-.559-1.664-1.621-1.664-1.043 0-1.625.762-1.629 1.664v.422zm-4.024-4.578c0 .902.571 1.664 1.629 1.664 1.043 0 1.621-.758 1.617-1.664V58.5c.004-.906-.558-1.664-1.617-1.664-1.039 0-1.629.758-1.629 1.664v.422zm.329 6.078h.933l5.5-8h-.933l-5.5 8zm4.605-1.922c.004-.45.199-.883.719-.883.539 0 .707.434.707.883v.422c0 .45-.184.883-.707.883-.532 0-.715-.438-.719-.883v-.422zm-4.02-4.578c0-.445.196-.883.715-.883.539 0 .707.434.707.883v.422c0 .45-.183.883-.707.883-.531 0-.715-.434-.715-.883V58.5zM200 81.113h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm-22.11 16h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm-33.165 16h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm-11.055 16h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012zm11.055 0h-11v1.012h11v-1.012z"/><path d="M243 21h-32v15h32V21z" fill="#fff"/><path d="M217.259 25.09h-1.201c-.027.305-.587 1.1-1.538 1.1v1.013c.775 0 1.292-.3 1.427-.513h.057V32h1.255v-6.91zm4.211 7.004c1.461 0 2.48-.991 2.48-2.364 0-1.33-.925-2.288-2.18-2.288-.56 0-1.055.223-1.312.527h-.04l.199-1.832h2.972V25.09h-4.008l-.361 3.562 1.13.186c.233-.256.672-.428 1.086-.425.76.003 1.306.563 1.303 1.346.003.772-.53 1.322-1.269 1.322-.624 0-1.127-.394-1.17-.961h-1.215c.034 1.147 1.036 1.973 2.385 1.973zm6.211.038c1.667.003 2.662-1.313 2.662-3.58 0-2.253-1.002-3.556-2.662-3.556-1.66 0-2.658 1.3-2.662 3.556 0 2.264.996 3.58 2.662 3.58zm0-1.056c-.86 0-1.4-.864-1.396-2.524.003-1.646.539-2.513 1.396-2.513.861 0 1.397.867 1.4 2.513 0 1.66-.536 2.524-1.4 2.524zm7.524-.372c.004.803.513 1.488 1.461 1.488.945 0 1.464-.684 1.461-1.488v-.364c.003-.81-.503-1.488-1.461-1.488-.934 0-1.457.685-1.461 1.488v.364zm-3.511-3.953c.003.803.512 1.48 1.464 1.48.941 0 1.46-.67 1.457-1.48v-.365c.003-.81-.503-1.487-1.457-1.487-.931 0-1.461.678-1.464 1.487v.365zm.303 5.249h.847l4.75-6.91h-.847l-4.75 6.91zm4.089-1.66c.003-.357.155-.718.58-.718.446 0 .577.36.574.718v.364c.003.358-.142.712-.574.712-.432 0-.577-.357-.58-.712v-.364zm-3.505-3.954c.003-.354.148-.718.577-.718.445 0 .573.36.57.718v.365c.003.357-.139.711-.57.711-.432 0-.574-.354-.577-.711v-.365z" fill-opacity=".7"/></svg>'},h.exports instanceof Function&&(h.exports.default=h.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=a(34,1   ),s=a(232                        ),i=a(216                                  ),o=a(1678                    ),r=a(604                             ),l=a(1695                                     ),p=a(1696                                       );class d extends n.Component{constructor(){super(...arguments),this.steps=[h,o.TeamLibrary,g],this.done=(()=>{this.props.dispatch(s.userFlags.post({flags:{ui_refresh_onboarded:!0}}))}),this.hook=((e,t)=>{this.setState({originalLeftPanelTab:this.props.leftPanel.activeTab}),t&&"library"===t.key&&this.props.leftPanel.activeTab!==r.LeftPanelTab.PUBLISH?this.props.dispatch(s.fullscreen.setLeftPanelTab({tab:r.LeftPanelTab.PUBLISH})):e&&"library"===e.key&&this.props.leftPanel.activeTab!==this.state.originalLeftPanelTab&&this.props.dispatch(s.fullscreen.setLeftPanelTab({tab:this.state.originalLeftPanelTab}))})}render(){return n.createElement(i.OnboardingFrame,{done:this.done,steps:this.steps,onClose:this.done,hook:this.hook})}}d.displayName="UIRefreshOnboarding",t.UIRefreshOnboarding=d;const h={title:"New Look, Same Figma",element:n.createElement("div",null,n.createElement(i.OnboardingSvg,{svg:l,width:350}),n.createElement(i.OnboardingContent,null,n.createElement("p",null,"We're excited to announce that our UI has an updated look. For the most part, Figma still works the way you're used to. Let's walk through the few parts that moved.")," "))},g={title:"View Menu",key:"zoom-menu",element:n.createElement("div",null,n.createElement(i.OnboardingSvg,{svg:p,width:350}),n.createElement(i.OnboardingContent,null,n.createElement("p",null,"Toggle view settings like pixel preview, guides, rulers, and zoom.")," "))};e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const r=t(34,1   ),i=t(141     ),o=t(80,1    ),n=t(283         ),d=t(172                     ),a=t(173                        ),h=t(1382                              ),p=t(344                          ),l=t(352                      ),c=t(1677                       ),g=t(1679                 ),b=t(1678                    ),O=t(1681               ),u=t(1682                          ),m=t(1684                 ),f=t(1685                   ),w=t(1686              ),_=t(1687                             ),S=t(143              ),y=t(0                    ),F=t(1688                                ),P=t(604                             ),E=t(1693                          ),v=t(1694                             ),T=t(1697                     ),R=t(712                                     ),B=i.mobile||i.tablet;class I extends r.Component{constructor(e){super(e),this.onMouseUp=(()=>this.setState({mouseReleased:!0})),this.onMouseDown=(()=>this.setState({mouseReleased:!1})),this.isReadyToOnboard=(()=>!(!this.props.user||B)&&!(!this.props.user.email_validated_at&&!l.inGracePeriod(this.props.user))),this.inCreateTeamTestGroup=(()=>{const e=o.utc("2018-10-01T00:00:00").isBefore(this.props.user.created_at);return y.initialOptions().feature_flags.team_create_onboarding_a&&!R.getPreferences(this.props).not_gen_0&&!this.props.currentOrgId&&e}),this.fileBrowserOnboarded=(()=>R.getPreferences(this.props).completed_preview_launch_welcome_screens||R.getPreferences(this.props).file_browser_onboarded),this.editorOnboarded=(()=>R.getPreferences(this.props).completed_preview_launch_welcome_screens||R.getPreferences(this.props).editor_onboarded),this.finishFileBrowserOnboardingByOpeningFile=(()=>y.initialOptions().feature_flags.exp_add_collaborators_01),this.componentOnboarded=(()=>R.getPreferences(this.props).library_modal_onboarded),this.smartSelectionOnboarded=(()=>R.getPreferences(this.props).smart_selection_onboarded),this.stylesOnboarded=(()=>R.getPreferences(this.props).styles_onboarded),this.overlaysOnboarded=(()=>R.getPreferences(this.props).overlays_onboarded),this.pdfOnboarded=(()=>R.getPreferences(this.props).pdf_onboarded),this.lineHeightUpdateOnboarded=(()=>R.getPreferences(this.props).line_height_update_onboarded),this.orgSelfServeOnboarded=(()=>R.getPreferences(this.props).orgs_self_serve_onboarded),this.uiRefreshOnboarded=(()=>this.props.userFlags.ui_refresh_onboarded),this.needsWelcome=(()=>!this.fileBrowserOnboarded()&&!this.editorOnboarded()&&(!!this.props.user.email_validated_at||l.inGracePeriod(this.props.user))),this.needsTeam=(()=>n.isEmpty(this.props.teams)),this.shouldShowOrgsSelfServeOnboarding=(()=>!!y.initialOptions().feature_flags.org_self_serve&&(!this.props.currentOrgId&&(this.props.showingProgressBar===p.ProgressBarMode.OFF&&(!(!this.isReadyToOnboard()||!this.fileBrowserOnboarded()||this.orgSelfServeOnboarded())&&(!!this.props.selectedView.teamId&&!!d.canShowOrgUpgradeLink(this.props.teams[this.props.selectedView.teamId],this.props)))))),this.shouldShowFileBrowserOnboarding=(()=>{if(!this.isReadyToOnboard()||this.fileBrowserOnboarded())return!1;let e=this.props.selectedView.folderId;return!!(this.props.selectedView.recentFiles||e&&a.canEditFolder(e,this.props))}),this.shouldShowCreateProjectOnboarding=(()=>{if(!this.isReadyToOnboard()||R.getPreferences(this.props).create_project_onboarded)return!1;if(this.props.selectedView.folderId||!this.props.selectedView.teamId||this.props.creatingNewFolder)return!1;return!Object.keys(this.props.folders).find(e=>{let s=this.props.folders[e];return!(""==s.name||"Design System"==s.name)})}),this.shouldShowImportFileOnboarding=(()=>{if(!this.isReadyToOnboard()||R.getPreferences(this.props).import_file_onboarded)return!1;let e=this.props.selectedView.folderId;return!!(this.props.selectedView.recentFiles||e&&a.canEditFolder(e,this.props))}),this.shouldShowEditorOnboarding=(()=>{if(!this.isReadyToOnboard()||this.editorOnboarded())return!1;if(this.props.showingProgressBar!==p.ProgressBarMode.OFF)return!1;let e=h.editingFileKey(this.props.selectedView);return e&&a.canEditFile(e,this.props)}),this.shouldShowComponentOnboarding=(()=>{if(!this.isReadyToOnboard()||!this.editorOnboarded()||this.componentOnboarded())return!1;let e=h.editingFileKey(this.props.selectedView);return e&&a.canEditFile(e,this.props)}),this.shouldShowOrgsOnboarding=(()=>!(!this.isReadyToOnboard()||R.getPreferences(this.props).orgs_onboarded)&&(!!this.props.currentOrgId&&(!!a.canMemberOrg(this.props.currentOrgId,this.props)&&(this.props.selectedView.folderId||this.props.selectedView.recentFiles)))),this.shouldShowSmartSelectionOnboarding=(()=>!(!this.isReadyToOnboard()||this.smartSelectionOnboarded())&&(!(!this.state.didShowSmartSelection&&!this.state.mouseReleased)&&!!this.props.mirror.selectionProperties.detectableListAxis)),this.shouldShowStylesOnboarding=(()=>{if(this.props.showingProgressBar!==p.ProgressBarMode.OFF)return!1;if(!this.isReadyToOnboard()||!this.editorOnboarded()||this.stylesOnboarded())return!1;let e=h.editingFileKey(this.props.selectedView);return e&&a.canEditFile(e,this.props)}),this.shouldShowOverlaysOnboarding=(()=>{if(!this.isReadyToOnboard()||!this.editorOnboarded()||this.overlaysOnboarded())return!1;let e=h.editingFileKey(this.props.selectedView);const s=this.props.mirror.appModel.propertiesPanelTab===P.PropertiesPanelTab.PROTOTYPE;return e&&a.canEditFile(e,this.props)&&s}),this.shouldShowPDFOnboarding=(()=>{if(!this.isReadyToOnboard()||!this.editorOnboarded()||this.pdfOnboarded())return!1;let e=h.editingFileKey(this.props.selectedView);return e&&a.canEditFile(e,this.props)}),this.shouldShowUIRefreshOnboarding=(()=>{if(!this.isReadyToOnboard()||!this.editorOnboarded()||this.uiRefreshOnboarded())return!1;let e=h.editingFileKey(this.props.selectedView);return e&&a.canEditFile(e,this.props)}),this.shouldShowLineHeightUpdateOnboarding=(()=>{if(!this.isReadyToOnboard()||!this.editorOnboarded()||this.lineHeightUpdateOnboarded())return!1;if(!y.initialOptions().feature_flags.line_height_update)return!1;let e=h.editingFileKey(this.props.selectedView);return!(!e||!a.canEditFile(e,this.props))&&!(!!this.props.selectedView&&this.props.selectedView.prototype)}),this.state={mouseReleased:!0,didShowSmartSelection:!1}}componentDidUpdate(){this.shouldShowSmartSelectionOnboarding()&&!this.state.didShowSmartSelection&&this.setState({didShowSmartSelection:!0})}UNSAFE_componentWillMount(){window.addEventListener("mousedown",this.onMouseDown),window.addEventListener("mouseup",this.onMouseUp)}componentWillUnmount(){window.removeEventListener("mousedown",this.onMouseDown),window.removeEventListener("mouseup",this.onMouseUp)}render(){if(window.figmaPerfTesting||F.shouldTakeScreenshots||S.isRunningInteractionTests())return r.createElement("div",null);if(this.inCreateTeamTestGroup()){if(this.shouldShowFileBrowserOnboarding()&&(this.needsWelcome()||this.needsTeam()))return r.createElement(c.FileBrowserOnboarding,Object.assign({},this.props,{needsWelcome:this.needsWelcome(),needsTeam:this.needsTeam(),createTeamExperiment:!0}));if(this.shouldShowCreateProjectOnboarding())return r.createElement(c.ProjectOnboarding,Object.assign({},this.props,{teamId:this.props.selectedView.teamId}));if(this.shouldShowImportFileOnboarding())return r.createElement(c.ImportFileOnboarding,Object.assign({},this.props))}else if(this.shouldShowFileBrowserOnboarding())return r.createElement(c.FileBrowserOnboarding,Object.assign({},this.props,{needsWelcome:this.needsWelcome(),needsEditor:!this.editorOnboarded(),finishByOpeningFile:this.finishFileBrowserOnboardingByOpeningFile()}));return this.shouldShowEditorOnboarding()?r.createElement(g.EditorOnboarding,{needsWelcome:this.needsWelcome(),dispatch:this.props.dispatch,user:this.props.user,leftPanel:this.props.leftPanel}):this.shouldShowStylesOnboarding()?r.createElement(m.StylesOnboarding,{dispatch:this.props.dispatch}):this.shouldShowOverlaysOnboarding()?r.createElement(f.OverlaysOnboarding,{dispatch:this.props.dispatch}):this.shouldShowComponentOnboarding()?r.createElement(b.ComponentOnboarding,Object.assign({},this.props)):this.shouldShowOrgsOnboarding()?r.createElement(O.OrgsOnboarding,Object.assign({},this.props)):this.shouldShowSmartSelectionOnboarding()?r.createElement(u.SmartSelectionOnboarding,Object.assign({},this.props)):this.shouldShowPDFOnboarding()?r.createElement(w.PDFOnboarding,Object.assign({},this.props)):this.shouldShowLineHeightUpdateOnboarding()?r.createElement(_.LineHeightUpdateOnboarding,Object.assign({},this.props)):this.props.responsiveContent.onboardingContent?r.createElement(v.ResponsiveContentOnboarding,{dispatch:this.props.dispatch,content:this.props.responsiveContent.onboardingContent}):this.shouldShowOrgsSelfServeOnboarding()?r.createElement(E.OrgsSelfServeOnboarding,Object.assign({},this.props)):this.shouldShowUIRefreshOnboarding()?r.createElement(T.UIRefreshOnboarding,Object.assign({},this.props)):r.createElement("div",null)}}I.displayName="Onboarding",s.Onboarding=I,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,o,n){t.exports={contents:"interaction_test_dialog--contents--UcqUa",row:"interaction_test_dialog--row--3n2BW",rowButton:"interaction_test_dialog--rowButton--2SoFD",doneRow:"interaction_test_dialog--doneRow--2o-G3 interaction_test_dialog--row--3n2BW",metaRow:"interaction_test_dialog--metaRow--3vAnZ interaction_test_dialog--row--3n2BW",doneButton:"interaction_test_dialog--doneButton--YVAB2",exportText:"interaction_test_dialog--exportText--33jia"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),r=s(232                        ),i=s(370              ),o=s(198         ),a=s(214                                                    ),c=s(1426                               ),l=s(1436                                ),p=s(385                                        ),d=s(204                                            ),h=s(142                        ),u=s(1259                                   ),g=s(1699                           ),m=i.pxToInt(p.leftNavWidth);function E(e){const t=e.split(".");if(t.length>=2)for(let s=t.length-1;s>=0;s--)if(t[s].endsWith("-menu")||t[s].endsWith("Menu"))return[t[s],t[t.length-2]];return["",""]}function f(e,t){const s=e.lastIndexOf("."),n=t.lastIndexOf("."),r=e.substring(0,s),i=t.substring(0,n),o=e.substring(s+1),a=t.substring(n+1);return r===i&&"mouseleave"===o&&"mouseenter"===a}function v(e){return"canvas.MOUSE_DRAG"===e.type||"viewer.MOUSE_DRAG"===e.type}function y(e){const t=e.type;delete e.type,h.record(`canvas.${t}`,e)}function O(e){const t=e.type;delete e.type,h.record(`viewer.${t}`,e)}class R extends n.PureComponent{constructor(){super(...arguments),this.initialPosition=new o.Vector(m+12,window.innerHeight/2),this.onClose=(()=>{if(this.props.status===l.RecordingStatus.RECORDING)return a.OnCloseIgnore.IGNORE;this.props.dispatch(r.interactionTest.hideRecorder())}),this.onRecordedEvent=((e,t)=>{this.props.dispatch(r.interactionTest.recordEvent({type:e,args:t,recordedAt:new Date}))}),this.startRecording=(e=>{this.props.dispatch(r.file.put(u.interactionTestFakeFile,!1)),h.enableRecording(),h.setRecordingListener(this.onRecordedEvent),c.fullscreen.fromFullscreen.on("recordInteraction",y),u.onViewerInteraction(O),c.fullscreen.sendMessage("startRecordingInteraction"),this.props.dispatch(r.interactionTest.startRecording()),e.currentTarget.blur()}),this.stopRecording=(()=>{!this.props.selectedView.fullscreen&&u.lastEditingFileKey()&&this.props.dispatch(r.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:u.lastEditingFileKey()}})),this.props.dispatch(r.interactionTest.stopRecording()),c.fullscreen.sendMessage("stopRecordingInteraction"),c.fullscreen.fromFullscreen.removeListener("recordInteraction",y),u.offViewerInteraction(O),h.removeRecordingListener(),h.disableRecording()}),this.exportRecording=(()=>{this.props.dispatch(r.interactionTest.exportRecording())}),this.doneExporting=(()=>{this.props.dispatch(r.interactionTest.doneExporting())}),this.getGeneratedCode=(()=>(function(e,t){let s=[];const n=e=>s.push(e);n(`  interactionTest("TODO: Rename this test", ${t?"{ screenshot: true }, ":""}async (t) => {`),n("    // TODO: Describe what happens in this test here");for(let r=0;r<e.length;r++){const{type:t,args:s,recordedAt:i}=e[r],o=r===e.length-1?0:(+e[r+1].recordedAt-+i)/1e3;n(`    await t.do(${JSON.stringify(t)}, ${JSON.stringify(void 0===s?{}:s)}, ${o.toFixed(2)})`)}return n("    "),n("    expect(t.selectionProperties().name).toEqual('Change Me')"),t&&n("    await t.screenshot('screenshot_file_name.png')"),n("  })"),s.join("\n")})(function(e,t){const s=[];let n,r,i=-1;for(let a=0;a<e.length;a++)if((!t.filterOutMouseMoveEvents||"canvas.MOUSE_MOVE"!==(o=e[a]).type&&"viewer.MOUSE_MOVE"!==o.type)&&!(t.includeOnlyFirstAndLastDragEvents&&v(e[a])&&0<a&&a<e.length-1&&v(e[a-1])&&v(e[a+1])||t.filterOutMouseMoveEvents&&e[a].type.endsWith("mousemove")&&0<a&&a<e.length-1&&e[a-1].type===e[a].type&&e[a+1].type===e[a].type)){if((e[a].type.indexOf("mainMenu")>=0||e[a].type.indexOf("canvasMenu")>=0||e[a].type.indexOf("pageMenu")>=0||e[a].type.indexOf("savepointMenu")>=0||e[a].type.indexOf("layerMenu")>=0)&&(e[a].type.endsWith("mouseenter")||e[a].type.endsWith("mouseleave"))){if(a>=i)for(let t=a+1;t<e.length;t++)if(!e[t].type.endsWith("-menu.mouseup")&&e[t].type.endsWith("mouseup")){i=t,[n,r]=E(e[i].type);break}for(let t=a;t<=i;t++){if(f(s[s.length-1].type,e[t].type)){s.splice(-1,1);continue}const[i,o]=E(e[t].type);if(i===n&&i===o||o===r){a=t;break}}}e[a].type.endsWith(".change")&&a<e.length-1&&e[a].type===e[a+1].type||s.push(e[a])}var o;return s}(this.props.recordedEvents,this.props.exportSettings),this.props.exportSettings.isScreenshotTest)),this.toggleFilterOutMouseMoveEvents=(()=>{this.props.dispatch(r.interactionTest.updateExportSettings(Object.assign({},this.props.exportSettings,{filterOutMouseMoveEvents:!this.props.exportSettings.filterOutMouseMoveEvents})))}),this.toggleIncludeOnlyFirstAndLastDragEvents=(()=>{this.props.dispatch(r.interactionTest.updateExportSettings(Object.assign({},this.props.exportSettings,{includeOnlyFirstAndLastDragEvents:!this.props.exportSettings.includeOnlyFirstAndLastDragEvents})))}),this.toggleIsScreenshotTest=(()=>{this.props.dispatch(r.interactionTest.updateExportSettings(Object.assign({},this.props.exportSettings,{isScreenshotTest:!this.props.exportSettings.isScreenshotTest})))})}render(){let e="",t=198;const s=this.props.recordedEvents.length,r=0===s?0:(+this.props.recordedEvents[s-1].recordedAt-+this.props.recordedEvents[0].recordedAt)/1e3,i=Math.floor(r/60),o=Math.floor(r%60);let c=n.createElement("div",{className:g.metaRow},n.createElement("span",null,s," event",1===s?"":"s"," recorded"),n.createElement("span",null,i,":",o<10?"0":"",o));return this.props.status===l.RecordingStatus.NOTHING_RECORDED?e=n.createElement("div",{className:g.row},n.createElement(d.ButtonPrimary,{className:g.rowButton,onClick:this.startRecording},"Record")):this.props.status===l.RecordingStatus.RECORDING?e=n.createElement("div",null,n.createElement("div",{className:g.row},n.createElement(d.ButtonPrimary,{className:g.rowButton,onClick:this.stopRecording},"Stop Recording")),c):this.props.status===l.RecordingStatus.RECORDING_FINISHED?e=n.createElement("div",null,n.createElement("div",{className:g.row},n.createElement(d.ButtonPrimary,{className:g.rowButton,onClick:this.startRecording},"Re-record")),c,n.createElement("div",{className:g.row},n.createElement(d.ButtonSecondary,{className:g.rowButton,onClick:this.exportRecording},"Export"))):this.props.status===l.RecordingStatus.EXPORTING&&(t=480,e=n.createElement("div",null,n.createElement("div",{className:g.row},n.createElement(d.Checkbox,{id:"filter-mouse-moves",checked:this.props.exportSettings.filterOutMouseMoveEvents,onChange:this.toggleFilterOutMouseMoveEvents}),n.createElement(d.Label,{htmlFor:"filter-mouse-moves"},"Filter out mouse move events")),n.createElement("div",{className:g.row},n.createElement(d.Checkbox,{id:"filter-mouse-drags",checked:this.props.exportSettings.includeOnlyFirstAndLastDragEvents,onChange:this.toggleIncludeOnlyFirstAndLastDragEvents}),n.createElement(d.Label,{htmlFor:"filter-mouse-drags"},"Include only first and last mouse drag event for each drag")),n.createElement("div",{className:g.row},n.createElement(d.Checkbox,{id:"is-screenshot-test",checked:this.props.exportSettings.isScreenshotTest,onChange:this.toggleIsScreenshotTest}),n.createElement(d.Label,{htmlFor:"is-screenshot-test"},"Include screenshot test")),n.createElement("div",{className:g.row},n.createElement("textarea",{readOnly:!0,className:g.exportText,ref:e=>e&&e.select(),value:this.getGeneratedCode()})),n.createElement("div",{className:g.doneRow},n.createElement(d.ButtonSecondary,{onClick:this.doneExporting},"Done")))),n.createElement(a.DraggableModal,{title:this.props.status===l.RecordingStatus.EXPORTING?"Export Recording":"Interaction Recording",headerSize:"small",initialPosition:this.initialPosition,initialWidth:t,onClose:this.onClose,dragHeaderOnly:!0},n.createElement("div",{className:g.contents},e))}}R.displayName="InteractionTestDialog",t.InteractionTestDialog=R,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){t.exports={helpWidget:"help_widget--helpWidget--22IIi text--_whiteText--2PkdM",tooltip:"help_widget--tooltip--jXoVZ help_widget--tooltipPosition--2HJXE",helpWidgetHidden:"help_widget--helpWidgetHidden--2iNFu help_widget--helpWidget--22IIi text--_whiteText--2PkdM",tooltipPosition:"help_widget--tooltipPosition--2HJXE",dropdown:"help_widget--dropdown--1111N help_widget--tooltipPosition--2HJXE",shortcut:"help_widget--shortcut--1D4tR"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"g5004033b",src:'<svg width="8" height="14" xmlns="http://www.w3.org/2000/svg"><path d="M5 13H4v1h1v-1zM4 1C2.343 1 1 2.343 1 4H0c0-2.21 1.79-4 4-4 2.21 0 4 1.79 4 4 0 1.268-.59 2.398-1.51 3.13l-.083.065C5.553 7.833 5 8.852 5 10H4c0-1.424.662-2.694 1.694-3.518l.083-.064C6.519 5.87 7 4.992 7 4c0-1.657-1.343-3-3-3z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const i=o(34,1   ),n=o(38,1       ),s=o(232                        ),a=o(219          ),r=o(283         ),l=o(302          ),c=o(176              ),d=o(0                    ),h=o(178              ),p=o(469               ),u=o(199      ),m=o(1426                               ),w=o(144                        ),g=o(281                                  ),_=o(408                                  ),f=o(746                        ),E=_.dropdown.Dropdown,b=_.dropdown.Option,k=_.dropdown.Separator,y=o(1701               ),S=o(712                                     ),C=o(1702                 ),v=d.initialOptions(),R=v.feature_flags.use_helpscout,U=void 0!==v.user_helpscout_hmac;var I=!1;const H=v.intercom_app_id;var D;!function(e){e[e.ORGS_QUEUE=50446]="ORGS_QUEUE",e[e.PRO_QUEUE=50445]="PRO_QUEUE",e[e.STARTER_QUEUE=50444]="STARTER_QUEUE"}(D||(D={}));const T='\n\n!function(e,t,n){function a(){var e=t.getElementsByTagName("script")[0],n=t.createElement("script");n.type="text/javascript",n.async=!0,n.src="https://beacon-v2.helpscout.net",e.parentNode.insertBefore(n,e)}if(e.Beacon=n=function(t,n,a){e.Beacon.readyQueue.push({method:t,options:n,data:a})},n.readyQueue=[],"complete"===t.readyState)return a();e.attachEvent?e.attachEvent("onload",a):e.addEventListener("load",a,!1)}(window,document,window.Beacon||function(){});\n';const L=(e,t=[])=>{if(window.figmaPerfTesting)return;eval.call(null,T),window.Beacon("init",`${v.helpscout_beacon_id}`),window.Beacon("on","open",()=>I=!0);const o=v.user_data;if(o){let i,n;if(e)i="organization",n=D.ORGS_QUEUE;else if(t.length>0){let e=t.some(e=>!!e.stripe_customer_id);i=e?"professional":"starter",n=e?D.PRO_QUEUE:D.STARTER_QUEUE}else i="starter",n=D.STARTER_QUEUE;let s={name:o.name,email:o.email,signature:v.user_helpscout_hmac,"Plan Type":i};window.Beacon("identify",s),window.Beacon("prefill",{fields:[{id:10107,value:`${n}`}]})}},O=()=>{if(window.figmaPerfTesting)return;const e=v.user_data;if(e&&!window.Intercom){const t=e=>Math.floor(new Date(e).getTime()/1e3),o={app_id:H,user_hash:v.intercom_user_hash,user_id:e.id,img_url:e.img_url,name:e.name||e.handle,email:e.email,created_at:t(e.created_at),email_validated_at:t(e.email_validated_at),unsubscribed_at:t(e.unsubscribed_at),utc_offset:e.utc_offset,custom_launcher_selector:"#intercom-launcher"};c.desktopApp&&(o.desktop_app=c.desktopApp.getInformationalVersion()),function(e){if("function"==typeof window.Intercom)return;const t=function(){t.c(arguments)};function o(){"complete"===document.readyState&&h.loadScript(`https://widget.intercom.io/widget/${H}`,!0)}t.q=[],t.c=function(e){t.q.push(e)},window.Intercom=t,o(),document.addEventListener("readystatechange",o,!1)}(),window.Intercom("boot",o)}return window.Intercom};class A extends i.PureComponent{constructor(e){super(e),this.delayedIntercomTask=new p.DelayedTask,this.isIntercomLoaded=!1,this.isHelpScoutLoaded=!1,this.onKeyDown=(e=>{switch(e.keyCode){case u.Key.FORWARD_SLASH:e.ctrlKey&&e.shiftKey&&(e.preventDefault(),e.stopPropagation())}}),this.showDropdown=(()=>{this.state.dropdownShown||(this.setState({dropdownShown:!0}),R&&U&&window.Beacon("close"),document.addEventListener("mouseup",this.documentMouseUp))}),this.documentMouseUp=(e=>{this.dropdownEl&&this.dropdownEl.contains(e.target)||this.hideDropdown()}),this.hideDropdown=(()=>{document.removeEventListener("mouseup",this.documentMouseUp),this.setState({dropdownShown:!1})}),this.allowIntercom=(e=>{if(!v.user_data)return!1;let t=!0;return e.isEditingFile&&(t=e.showUi&&!e.hideIntercom),t}),this.dropdownRef=(e=>{this.dropdownEl=n.findDOMNode(e),this.dropdownEl&&this.allowIntercom(this.props)?this.dropdownEl.appendChild(this.supportBeaconLauncher):this.intercomHiddenContainer.appendChild(this.supportBeaconLauncher)}),this.logClick=(e=>{a.segment&&a.segment.track(e,{isEditingFile:this.props.isEditingFile})}),this.onClickHelp=(()=>{this.logClick("help_widget_help"),this.hideDropdown()}),this.onClickKeyboardShortcuts=(()=>{this.hideDropdown(),m.fullscreen.isReady()&&m.fullscreen.triggerAction("toggle-keyboard-shortcuts"),a.segment&&a.segment.track("showing_keyboard_shortcuts_modal",{isEditingFile:this.props.isEditingFile,source:"help-widget-button"})}),this.onClickSpectrum=(()=>{this.logClick("help_widget_spectrum"),this.hideDropdown()}),this.onClickTutorials=(()=>{this.logClick("help_widget_tutorials"),this.hideDropdown()}),this.onClickReleases=(()=>{this.logClick("help_widget_releases"),this.hideDropdown()}),this.onClickHelpScout=(()=>{U&&R?(this.logClick("help_widget_helpscout"),window.Beacon("open"),this.hideDropdown(),I||this.helpscoutNotAvailable()):this.helpscoutNotAvailable()}),this.onClickResetOnboarding=(()=>{S.putPreferences(this.props.dispatch,{reset_onboarding:!0}),this.hideDropdown()}),this.helpscoutNotAvailable=(()=>{this.props.dispatch(s.flash.flash("This option is not currently available, but you can email us at support@figma.com."))}),this.state={isVisible:this.allowIntercom(e),dropdownShown:!1},setTimeout(()=>{this.intercomHiddenContainer=document.createElement("div"),this.intercomHiddenContainer.style.display="none",document.body.appendChild(this.intercomHiddenContainer);const t=n.render(i.createElement(b,{id:"helpscout-button",onClick:this.onClickHelpScout},"Get Help"),this.intercomHiddenContainer);this.supportBeaconLauncher=n.findDOMNode(t),e.delayIntercomLoad||(this.loadIntercom(),R&&U&&this.loadHelpScout())},0),this.delayedIntercomTask.scheduleOnce(()=>{this.loadIntercom(),R&&this.loadHelpScout()},5e3)}loadHelpScout(){this.isHelpScoutLoaded||(this.isHelpScoutLoaded=!0,L(!r.isEmpty(this.props.orgById),this.props.teams))}loadIntercom(){if(this.isIntercomLoaded)return;this.isIntercomLoaded=!0;const e=O();e&&(e("onShow",()=>this.setState({isVisible:!1})),e("onHide",()=>{this.setState({isVisible:this.allowIntercom(this.props)}),this.hideDropdown()}),e("onUnreadCountChange",e=>{if(0===e&&!l.isVisibleTab()){const e=document.querySelector(".intercom-borderless-frame"),t=e&&e.contentDocument.querySelector(".intercom-borderless-dismiss-button");t&&t.click()}}))}componentDidMount(){document.addEventListener("keydown",this.onKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.onKeyDown),this.delayedIntercomTask.reset()}UNSAFE_componentWillReceiveProps(e){this.allowIntercom(this.props)&&!this.allowIntercom(e)?this.setState({isVisible:!1}):!this.allowIntercom(this.props)&&this.allowIntercom(e)&&this.setState({isVisible:!0})}render(){const e=d.initialOptions().feature_flags.line_height_update&&f.lineHeightLaunch.isAfter(this.props.userCreatedAt);return i.createElement("div",{className:this.state.isVisible?y.helpWidget:y.helpWidgetHidden,onMouseUp:this.showDropdown},i.createElement(w.Svg,{svg:C}),!this.state.dropdownShown&&i.createElement("div",{className:y.tooltip},"Help & Resources"),this.state.dropdownShown&&i.createElement(E,{className:y.dropdown,ref:this.dropdownRef},e&&i.createElement(b,{target:"_blank",href:"https://help.figma.com/article/283-changes-to-line-height",onClick:this.onClickHelp},"Learn About Text Rendering Changes"),e&&i.createElement(k,null),i.createElement(b,{target:"_blank",href:"https://help.figma.com/",onClick:this.onClickHelp},"Help Center"),m.fullscreen.isReady()&&i.createElement(b,{onClick:this.onClickKeyboardShortcuts},"Keyboard Shortcuts",i.createElement("div",{className:y.shortcut},g.getKeyboardShortcut(this.props.keyboardShortcuts,"open-shortcuts"))),i.createElement(b,{target:"_blank",href:"https://spectrum.chat/figma/",onClick:this.onClickSpectrum},"Community Forum"),i.createElement(b,{target:"_blank",href:"https://www.youtube.com/figmadesign",onClick:this.onClickTutorials},"Video Tutorials"),i.createElement(b,{onClick:this.onClickResetOnboarding},"Reset Onboarding"),i.createElement(b,{target:"_blank",href:"https://releases.figma.com/",onClick:this.onClickReleases},"Release Notes"),i.createElement(b,{target:"_blank",href:"/summary-of-policy"},"Legal Summary"),this.allowIntercom(this.props)&&i.createElement(k,null)))}}A.displayName="HelpWidget",t.HelpWidget=A,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(r,p,e){r.exports={background:"prototype--background--DpPNr",wrapper:"prototype--wrapper--KZ5DX",wrapperFullScale:"prototype--wrapperFullScale--2bU4j prototype--wrapper--KZ5DX",viewer:"prototype--viewer--W7Z-5",commentsCursor:"prototype--commentsCursor--1-h6N"},r.exports instanceof Function&&(r.exports.default=r.exports)}),
(function(t,e,s){t.exports={id:"g569b707b",src:'<svg width="24" height="24" xmlns="http://www.w3.org/2000/svg"><path d="M6.293 11.5l3.354-3.354.707.708L8.207 11H14c1.657 0 3 1.343 3 3v1h-1v-1c0-1.105-.895-2-2-2H8.207l2.147 2.146-.707.708L6.293 11.5z" fill-rule="evenodd" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,s,o){t.exports={id:"gc8dd31d0",src:'<svg width="8" height="13" xmlns="http://www.w3.org/2000/svg"><path d="M6.5 6.5l.354-.354.353.354-.353.354L6.5 6.5zM.854.146l6 6-.708.708-6-6L.854.146zm6 6.708l-6 6-.708-.708 6-6 .708.708z" fill="#fff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,t,e){o.exports={footer:"footer--footer--fZyaC",footerHidden:"footer--footerHidden--UAd04 footer--footer--fZyaC",pill:"footer--pill--g2EV5",replayButton:"footer--replayButton--wwjy6 footer--pill--g2EV5",toggleConnectionButton:"footer--toggleConnectionButton--2Ko3K footer--pill--g2EV5",status:"footer--status--myMjn footer--pill--g2EV5",statusText:"footer--statusText--1TEHU",statusContainer:"footer--statusContainer--3JrXH",backIconContainer:"footer--backIconContainer--3QKCm footer--statusContainer--3JrXH",nextIconContainer:"footer--nextIconContainer--1lULF footer--statusContainer--3JrXH",nextIconContainerDisabled:"footer--nextIconContainerDisabled--1F5kv footer--statusContainer--3JrXH",backIconContainerDisabled:"footer--backIconContainerDisabled--1auHU footer--statusContainer--3JrXH"},o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(e,o,t){"use strict";Object.defineProperty(o,"__esModule",{value:!0});const s=t(34,1   ),n=t(232                        ),r=t(143              ),a=t(144                        ),i=t(391                                                           ),p=t(777         ),c=t(1705                              ),l=t(1706                              ),h=t(1224                              ),u=t(1707          ),d=t(140           );class m extends s.PureComponent{render(){return s.createElement(i.RecordableDiv,{className:this.props.className,onClick:this.props.onClick,onMouseDown:this.props.onMouseDown,onMouseMove:this.props.onMouseMove,recordingKey:this.props.recordingKey},s.createElement(a.Svg,{svg:c}),"Restart (R)")}}m.displayName="ReplayButton",o.ReplayButton=m;class g extends s.PureComponent{constructor(){super(...arguments),this.replayPrototype=(()=>{this.props.dispatch(n.prototype.trackEvent({name:"Prototype Replay Clicked"})),this.props.restartPrototype()}),this.handleClickPrev=(()=>{this.props.showPreviousFrame()}),this.handleClickNext=(()=>{this.props.showNextFrame()}),this.toggleConnection=(()=>{const e=p.getGlobalViewerInstance();e&&(e.isConnected()?e.disconnectForTesting():e.reconnectForTesting()),this.forceUpdate()}),this.onMouseDown=(e=>{e.stopPropagation()})}render(){const e=this.props.prototype.frameIds.length,o=this.props.prototype.currentIndex,t=0===o?u.backIconContainerDisabled:u.backIconContainer,n=o===e-1?u.nextIconContainerDisabled:u.nextIconContainer,i=u.replayButton,p=this.props.showUI?u.footer:u.footerHidden,c=!d.isMobileBrowser;return s.createElement("div",{className:p},s.createElement("div",{className:u.status,onMouseMove:this.props.onMouseMove,onMouseDown:this.onMouseDown},c&&s.createElement(a.Svg,{className:t,svg:h,onClick:this.handleClickPrev,recordingKey:r.joinKeys(this.props,"backButton")}),!!e&&s.createElement("div",{className:u.statusText},o+1," / ",e),c&&s.createElement(a.Svg,{className:n,svg:l,onClick:this.handleClickNext,recordingKey:r.joinKeys(this.props,"nextButton")})),!1,s.createElement(m,{className:i,onClick:this.replayPrototype,onMouseDown:this.onMouseDown,onMouseMove:this.props.onMouseMove,recordingKey:r.joinKeys(this.props,"replayButton")}))}}g.displayName="Footer",o.Footer=g,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(n,o,e){n.exports={scalingMenu:"scaling_menu--scalingMenu--2sDzD dropdown_menu--dropdownMenu----PdH",scalingMenuButton:"scaling_menu--scalingMenuButton--3M5_G dropdown_menu--dropdownButton--2wyKA",buttonChevron:"scaling_menu--buttonChevron--3mwBn",scalingDropdown:"scaling_menu--scalingDropdown--K7LHX dropdown_menu--dropdown--ld1ZV",checkmarkContainer:"scaling_menu--checkmarkContainer--3EAXY"},n.exports instanceof Function&&(n.exports.default=n.exports)}),
(function(e,n,o){"use strict";Object.defineProperty(n,"__esModule",{value:!0});const t=o(34,1   ),i=o(232                        ),s=o(143              ),r=o(144                        ),c=o(408                                  ),a=o(391                                                           ),l=o(992                                    ),p=o(1136                                           ),d=o(1709                );n.scalingStrings={"min-zoom":"100%","scale-down":"Fit",contain:"Fill","scale-down-width":"Width"},n.extendedScalingStrings={"min-zoom":"100%  Display at full size","scale-down":"Fit  Scale down to fit",contain:"Fill  Scale down or up to fill","scale-down-width":"Width  Scale down to fit width"};class g extends t.PureComponent{constructor(){super(...arguments),this.SCALING_DROPDOWN_TYPE="PROTOTYPE_SCALING_MENU",this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===this.SCALING_DROPDOWN_TYPE),this.selectScalingOption=(e=>{this.props.scalingHandler(e)}),this.toggleScalingMenu=(e=>{e.stopPropagation(),this.isDropdownShown()?this.props.dispatch(i.fileBrowser.hideDropdown()):this.props.dispatch(i.fileBrowser.showDropdown({type:this.SCALING_DROPDOWN_TYPE}))})}render(){const e=this.props.scalingMode,o="NONE"===(this.props.device?this.props.device.type:"NONE");return t.createElement(a.RecordableDiv,{className:d.scalingMenu,onClick:this.toggleScalingMenu,recordingKey:s.joinKeys(this.props,"toggle")},t.createElement("div",{className:d.scalingMenuButton},t.createElement("span",{"data-selector":"label"},n.scalingStrings[e]),t.createElement("div",{className:d.buttonChevron},t.createElement(r.Svg,{svg:p}))),this.isDropdownShown()&&t.createElement(c.dropdown.Dropdown,{className:d.scalingDropdown},t.createElement(h,{currentScalingMode:e,scalingOption:"min-zoom",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-min-zoom")}),t.createElement(h,{currentScalingMode:e,scalingOption:"scale-down",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-scale-down")}),t.createElement(h,{currentScalingMode:e,scalingOption:"contain",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-contain")}),o&&t.createElement(h,{currentScalingMode:e,scalingOption:"scale-down-width",handler:this.selectScalingOption,recordingKey:s.joinKeys(this.props,"option-scale-down-width")})))}}g.displayName="ScalingMenu",n.ScalingMenu=g;class h extends t.PureComponent{constructor(){super(...arguments),this.onClickOption=(()=>{this.props.handler(this.props.scalingOption)})}render(){return t.createElement(c.dropdown.Option,{onClick:this.onClickOption,recordingKey:this.props.recordingKey},t.createElement("div",{className:d.checkmarkContainer},this.props.scalingOption===this.props.currentScalingMode&&t.createElement(r.Svg,{svg:l})),n.extendedScalingStrings[this.props.scalingOption])}}h.displayName="Option",n.Option=h,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,n,t){e.exports={nav:"view_menu--nav--2Djtp",header:"view_menu--header--3QkMZ",headerClear:"view_menu--headerClear--135qF",headerDark:"view_menu--headerDark--180E9",loadingHeader:"view_menu--loadingHeader--1Ir4t view_menu--header--3QkMZ",headerHidden:"view_menu--headerHidden--Ca4w9 view_menu--header--3QkMZ",column:"view_menu--column--3vHRp",sideColumn:"view_menu--sideColumn--1MGim view_menu--column--3vHRp",leftColumn:"view_menu--leftColumn--1hPOB view_menu--sideColumn--1MGim view_menu--column--3vHRp",centerColumn:"view_menu--centerColumn--opBLp view_menu--column--3vHRp",rightColumn:"view_menu--rightColumn--d3Sgp view_menu--sideColumn--1MGim view_menu--column--3vHRp",commentsButton:"view_menu--commentsButton--3ldFy action--root--1ClVW view_menu--commentsButton--3ldFy action--root--1ClVW",commentsButtonSelected:"view_menu--commentsButtonSelected--3Oi-B view_menu--commentsButton--3ldFy action--root--1ClVW",fullScreenButtonBase:"view_menu--fullScreenButtonBase--25gQW action--root--1ClVW",fullScreenButton:"view_menu--fullScreenButton--2aCnl view_menu--fullScreenButtonBase--25gQW action--root--1ClVW",fullScreenButtonDisabled:"view_menu--fullScreenButtonDisabled--2jEV4 view_menu--fullScreenButtonBase--25gQW action--root--1ClVW",settingsDropdownTarget:"view_menu--settingsDropdownTarget--2lysh",settingsDropdown:"view_menu--settingsDropdown--2VMTg",dropdownCaret:"view_menu--dropdownCaret--2HUJj",topLeftIcon:"view_menu--topLeftIcon--2nn7o",topLeftWordMark:"view_menu--topLeftWordMark--_fUD7",title:"view_menu--title--2j508 ellipsis--ellipsis--1RWY6",titleWithCaret:"view_menu--titleWithCaret--gQSN7 view_menu--title--2j508 ellipsis--ellipsis--1RWY6",rightNavButton:"view_menu--rightNavButton--2oOcK",viewMenu:"view_menu--viewMenu--23cJ1 dropdown_menu--dropdownMenu----PdH",eye:"view_menu--eye--WD_S9",viewMenuButton:"view_menu--viewMenuButton--x8LPh dropdown_menu--dropdownButton--2wyKA",viewDropdown:"view_menu--viewDropdown--3iAEc dropdown_menu--dropdown--ld1ZV"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,s,c){t.exports={id:"gc8a02e40",src:'<svg width="14" height="8" xmlns="http://www.w3.org/2000/svg"><path d="M13.93 4C12.546 1.609 9.96 0 7 0 4.039 0 1.453 1.609.07 4 1.453 6.391 4.039 8 7 8c2.96 0 5.546-1.609 6.93-4zm-1.185 0C11.48 5.815 9.377 7 7 7 4.622 7 2.52 5.815 1.254 4 2.52 2.185 4.622 1 7 1c2.377 0 4.479 1.185 5.745 3zM9.151 4c0 1.146-.93 2.076-2.076 2.076C5.93 6.076 5 5.146 5 4c0-1.146.93-2.076 2.075-2.076 1.147 0 2.076.93 2.076 2.076z" fill="red"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(o,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});const t=s(34,1   ),n=s(232                        ),i=s(1043                                                    ),p=s(408                                  ),r=s(144                        ),h=s(1711             ),c=s(1712                                 );e.VIEW_DROPDOWN_TYPE="PROTOTYPE_VIEW_MENU";class d extends t.PureComponent{constructor(){super(...arguments),this.toggleResolvedComments=(()=>{this.props.dispatch(n.prototype.setShowResolvedComments({showResolved:!this.props.showResolvedComments}))}),this.toggleHotspots=(()=>{const o=!this.props.showHotspots;this.props.dispatch(n.prototype.setShowHotspots({showHotspots:o}))}),this.isDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===e.VIEW_DROPDOWN_TYPE),this.toggleViewMenu=(o=>{o.stopPropagation(),this.isDropdownShown()?this.props.dispatch(n.fileBrowser.hideDropdown()):this.props.dispatch(n.fileBrowser.showDropdown({type:e.VIEW_DROPDOWN_TYPE}))})}render(){return t.createElement("div",{className:h.viewMenu,onClick:this.toggleViewMenu},t.createElement("div",{className:h.viewMenuButton},t.createElement(r.Svg,{className:h.eye,svg:c})),this.isDropdownShown()&&t.createElement(p.dropdown.Dropdown,{className:h.viewDropdown},t.createElement(i.ActionOption,{text:"Show Resolved Comments",isEnabled:this.props.inCommentsMode,isChecked:this.props.showResolvedComments,onClick:this.toggleResolvedComments,icon:null}),t.createElement(i.ActionOption,{text:"Show Hotspot Hints on Click",isEnabled:!0,isChecked:this.props.showHotspots,onClick:this.toggleHotspots,icon:null})))}}d.displayName="ViewMenu",e.ViewMenu=d,o.exports instanceof Function&&(o.exports.default=o.exports)}),
(function(t,f,l){t.exports={id:null,src:'<svg width="12" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M6 9c0-1.657 1.343-3 3-3 1.657 0 3 1.343 3 3 0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3z" fill="#1abcfe"/><path d="M0 15c0-1.657 1.343-3 3-3h3v3c0 1.657-1.343 3-3 3-1.657 0-3-1.343-3-3z" fill="#0acf83"/><path d="M6 0v6h3c1.657 0 3-1.343 3-3 0-1.657-1.343-3-3-3H6z" fill="#ff7262"/><path d="M0 3c0 1.657 1.343 3 3 3h3V0H3C1.343 0 0 1.343 0 3z" fill="#f24e1e"/><path d="M0 9c0 1.657 1.343 3 3 3h3V6H3C1.343 6 0 7.343 0 9z" fill="#a259ff"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(v,c,h){v.exports={id:null,src:'<svg width="51" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M0 0v14.048l1.807.006v-6.69h4.358V5.596H1.807V1.768h5.676V0H0zm10.736 2.852c.651 0 1.18-.527 1.18-1.178 0-.651-.529-1.18-1.18-1.18-.65 0-1.178.529-1.178 1.18 0 .65.527 1.178 1.178 1.178zm-.919 1.769v9.43h1.807v-9.43H9.817z"/><path d="M18.328 4.346c-2.4 0-4.075 2.03-4.075 4.44 0 2.41 1.675 4.44 4.075 4.44 1.1 0 2.005-.426 2.664-1.118v1.255c0 1.563-1.227 2.869-2.829 2.869-.576 0-1.148-.223-1.604-.537l-.905 1.568c.723.466 1.584.737 2.509.737 2.56 0 4.637-2.076 4.637-4.637V4.621h-1.808v.843c-.659-.693-1.565-1.118-2.664-1.118zm-2.267 4.44c0-1.496 1.144-2.672 2.464-2.672 1.32 0 2.464 1.176 2.464 2.672 0 1.496-1.144 2.672-2.464 2.672-1.32 0-2.464-1.176-2.464-2.672z" fill-rule="evenodd"/><path d="M29.312 6.114c-1.068 0-1.935.905-1.935 1.974v5.963H25.57v-9.43h1.807v.863c.53-.684 1.31-1.138 2.328-1.138 1.267 0 2.239.629 2.802 1.591.626-.93 1.647-1.591 2.876-1.591 2.057 0 3.338 1.66 3.35 3.713v5.992h-1.807V8.088c0-1.069-.867-1.974-1.936-1.974-1.069 0-1.935.905-1.935 1.974v5.963h-1.807V8.088c0-1.069-.867-1.974-1.936-1.974z"/><path d="M48.36 5.69c-.804-.83-1.905-1.344-3.183-1.344-2.689 0-4.597 2.276-4.597 4.99 0 2.713 1.908 4.99 4.597 4.99 1.278 0 2.379-.514 3.183-1.344v1.069h1.807v-9.43H48.36V5.69zm-5.973 3.646c0-1.8 1.379-3.222 2.987-3.222 1.607 0 2.986 1.422 2.986 3.222 0 1.8-1.379 3.222-2.986 3.222-1.608 0-2.987-1.422-2.987-3.222z" fill-rule="evenodd"/></svg>'},v.exports instanceof Function&&(v.exports.default=v.exports)}),
(function(t,s,h){t.exports={id:"g63478fa4",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M14.54 4.168l-3.187 3.186-.708-.708 3.197-3.197.753-.449H11V2h5v5h-1V3.334l-.46.834zM3.46 13.832l3.186-3.186.708.708-3.198 3.197-.752.449H7v1H2v-5h1v3.666l.46-.834z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(t,h,s){t.exports={id:"g45e0f0cf",src:'<svg width="18" height="18" xmlns="http://www.w3.org/2000/svg"><path d="M12.465 4.836l.01-.018L15.65 1.65l.707.707-3.196 3.196-.754.45h3.597v1h-5v-5h1V5.67l.46-.834zm-6.922 8.335l-.01.018-3.176 3.168-.707-.707 3.196-3.196.754-.45H2.004v-1h5v5h-1v-3.667l-.461.835z"/></svg>'},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,r){e.exports={nav:"header--nav--2njKm",header:"header--header--3d0kA",headerClear:"header--headerClear--14eAa",headerDark:"header--headerDark--2JGe3",loadingHeader:"header--loadingHeader--q7YEu header--header--3d0kA",headerHidden:"header--headerHidden--PE8nn header--header--3d0kA",column:"header--column--_eCKx",sideColumn:"header--sideColumn--11Nzb header--column--_eCKx",leftColumn:"header--leftColumn--3jpUC header--sideColumn--11Nzb header--column--_eCKx",centerColumn:"header--centerColumn--47wW2 header--column--_eCKx",rightColumn:"header--rightColumn--18A7d header--sideColumn--11Nzb header--column--_eCKx",commentsButton:"header--commentsButton--12w33 action--root--1ClVW header--commentsButton--12w33 action--root--1ClVW",commentsButtonSelected:"header--commentsButtonSelected--2r1YM header--commentsButton--12w33 action--root--1ClVW",fullScreenButtonBase:"header--fullScreenButtonBase--cV4ap action--root--1ClVW",fullScreenButton:"header--fullScreenButton--1CTah header--fullScreenButtonBase--cV4ap action--root--1ClVW",fullScreenButtonDisabled:"header--fullScreenButtonDisabled--32pSD header--fullScreenButtonBase--cV4ap action--root--1ClVW",settingsDropdownTarget:"header--settingsDropdownTarget--2FttJ",settingsDropdown:"header--settingsDropdown--24rOd",dropdownCaret:"header--dropdownCaret--3a-5I",topLeftIcon:"header--topLeftIcon--3XnCO",topLeftWordMark:"header--topLeftWordMark--1O59R",title:"header--title--4aIq1 ellipsis--ellipsis--1RWY6",titleWithCaret:"header--titleWithCaret--31Npo header--title--4aIq1 ellipsis--ellipsis--1RWY6",rightNavButton:"header--rightNavButton--2a8p9"},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),r=s(38,1       ),i=s(232                        ),n=s(302          ),p=s(143              ),a=s(1710            ),l=s(1713         ),h=s(1417                       ),c=s(204                                            ),d=s(408                                  ),m=s(95               ),u=s(377        ),g=s(1063                                                                       ),w=s(331               ),f=s(144                        ),S=s(302          ),v=s(1714                              ),C=s(1715                                 ),y=s(1025                                                 ),D=s(1308                        ),E=s(1716                                               ),_=s(1717                                              ),M=s(1718          );t.SETTINGS_DROPDOWN_TYPE="PROTOTYPE_SETTINGS_DROPDOWN";class k extends o.PureComponent{constructor(){super(...arguments),this.headerDivRef=(e=>{e&&(this.headerDiv=r.findDOMNode(e))}),this.startObservingUser=(e=>{const t=this.props.multiplayer;if(!t)return;const s=t.observingSessionID===e.sessionID||t.sessionID===e.sessionID?-1:e.sessionID;-1!==s&&this.props.dispatch(i.prototype.trackEvent({name:"Prototype Observation Started"})),this.props.dispatch(i.fullscreen.updateMultiplayerState(Object.assign({},t,{observingSessionID:s})))}),this.onClickSettings=(e=>{e.stopPropagation(),this.isSettingsDropdownShown()?this.props.dispatch(i.fileBrowser.hideDropdown()):this.props.dispatch(i.fileBrowser.showDropdown({type:t.SETTINGS_DROPDOWN_TYPE}))}),this.isSettingsDropdownShown=(()=>this.props.dropdownShown&&this.props.dropdownShown.type===t.SETTINGS_DROPDOWN_TYPE),this.renderSettingsDropdown=(()=>this.isSettingsDropdownShown()?o.createElement(d.dropdown.Dropdown,{className:M.settingsDropdown},o.createElement(d.dropdown.Option,{onClick:this.openFileFromDropdown},"Open in Editor")):null),this.handleScalingChange=(e=>{this.props.dispatch(i.prototype.setScalingMode({scalingMode:e,userInitiated:!0}))}),this.toggleComments=(()=>{this.props.prototype.showComments?this.props.dispatch(i.prototype.hideComments()):this.props.dispatch(i.prototype.showComments())}),this.handleClickComments=(()=>{const e=`Sign in or create an account to leave comments on "${this.props.file.name}".`;this.props.user?this.toggleComments():(this.props.dispatch(w.authActions.init({origin:"prototype_comment_signed_out"})),this.props.dispatch(i.fileBrowser.showModal({type:h.AppModal.AUTH_MODAL,data:{headerText:e}})))}),this.openFileFromDropdown=(()=>{const e=this.props.prototype.currentIndex,t=e>=0?this.props.prototype.frameIds[e]:null;this.props.dispatch(i.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:this.props.file.key,nodeId:t}})),this.props.dispatch(i.prototype.trackEvent({name:"Prototype Original Source Clicked"}))}),this.onClickLogo=(e=>{this.props.dispatch(i.prototype.trackEvent({name:"Prototype Logo Clicked"})),n.isInIframe()?n.redirect("/","_blank"):this.props.user?this.props.dispatch(i.fileBrowser.selectView({recentFiles:!0})):n.redirect("/")}),this.showPermissionsModal=(()=>{this.props.dispatch(i.fileBrowser.showModal({type:h.AppModal.FILE_PERMISSIONS_MODAL,data:{fileKey:this.props.file.key}}))}),this.renderDefaultAuthModal=(()=>{this.props.dispatch(w.authActions.init({origin:"header_nav"})),this.props.dispatch(i.fileBrowser.showModal({type:h.AppModal.AUTH_MODAL}))}),this.renderTopLeftIcon=(()=>{const e=n.isInIframe()&&null==m.parse(location.search).fullscreen;return o.createElement("a",{onClick:this.onClickLogo,className:e?M.topLeftWordMark:M.topLeftIcon},e&&o.createElement(f.Svg,{svg:C}),!e&&o.createElement(f.Svg,{svg:v,useOriginalSrcFills:!0}))}),this.getRightButtonText=((e,t)=>this.headerDiv&&this.headerDiv.getBoundingClientRect().width<970?e:t),this.renderRightNavButton=(()=>this.props.user?o.createElement(c.ButtonPrimary,{className:M.rightNavButton,onClick:this.showPermissionsModal},this.getRightButtonText("Share","Share Prototype")):o.createElement(c.ButtonGreen,{className:M.rightNavButton,onClick:this.renderDefaultAuthModal},this.getRightButtonText("Sign in","Sign in or Create Account"))),this.onMouseDown=(e=>{e.stopPropagation()}),this.renderFullHeader=(()=>{const e=this.props.user&&this.props.canEdit,t=e?M.titleWithCaret:M.title,s=n.isInIframe(),r=s&&null==m.parse(location.search).fullscreen;let i=this.props.showUI?M.header:M.headerHidden;if(r){const e=this.props.prototypeBGColor;i=u.isDark({r:e.r/255,g:e.g/255,b:e.g/255,a:e.a/255},!0)?M.headerClear:M.headerDark}return o.createElement("div",{className:i,ref:this.headerDivRef,onMouseMove:this.props.onMouseMove,onMouseDown:this.onMouseDown},o.createElement("div",{className:M.leftColumn},this.renderTopLeftIcon(),!s&&o.createElement(N,{recordingKey:p.joinKeys(this.props,"comments-button"),selected:this.props.prototype.showComments,onClick:this.handleClickComments})),o.createElement("div",{className:M.centerColumn},!s&&o.createElement("span",{className:t},this.props.file.name),s&&o.createElement("a",{className:M.title,target:"_blank",rel:"noopener",href:`/proto/${this.props.file.key}`},this.props.file.name),!s&&e&&o.createElement("div",{className:M.settingsDropdownTarget,onClick:this.onClickSettings},o.createElement(f.Svg,{svg:D,className:M.dropdownCaret}),this.renderSettingsDropdown())),o.createElement("div",{className:M.rightColumn},!s&&this.props.multiplayer&&o.createElement(g.MultiplayerView,{dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,multiplayer:this.props.multiplayer,user:this.props.user,editingFileKey:null,startObservingUser:this.startObservingUser,threshold:3}),!s&&this.renderRightNavButton(),!s&&this.props.user&&o.createElement(l.ViewMenu,{dropdownShown:this.props.dropdownShown,dispatch:this.props.dispatch,inCommentsMode:this.props.prototype.showComments,showHotspots:this.props.showHotspots,showResolvedComments:this.props.prototype.showResolvedComments}),o.createElement(a.ScalingMenu,{scalingMode:this.props.scalingMode,scalingHandler:this.handleScalingChange,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,device:this.props.device,recordingKey:p.joinKeys(this.props,"scaling-menu")}),o.createElement(b,{inFullScreenMode:this.props.appWindow.inFullScreenMode,dispatch:this.props.dispatch})))}),this.renderLoadingHeader=(()=>o.createElement("div",{className:M.loadingHeader},this.renderTopLeftIcon())),this.renderHeader=(()=>this.props.prototype.showProgressBar?this.renderLoadingHeader():this.renderFullHeader())}render(){return this.renderHeader()}}k.displayName="Header",t.Header=k;class N extends p.PureComponent{constructor(){super(...arguments),this.onClick=p.mouseEvent(this,"click",()=>{this.props.onClick()})}render(){return o.createElement("a",{className:this.props.selected?M.commentsButtonSelected:M.commentsButton,onClick:this.onClick,"data-tooltip-text":"Add Comment (C)"},o.createElement(f.Svg,{svg:y}),this.props.children)}}N.displayName="ToggleCommentsButton",t.ToggleCommentsButton=N;class b extends o.PureComponent{constructor(){super(...arguments),this.onClick=S.capabilities.fullscreen?()=>{this.props.dispatch(i.appWindow.toggleFullScreen({}))}:()=>{}}render(){let e;return e=S.capabilities.fullscreen?this.props.inFullScreenMode?"Exit Full Screen":"Enter Full Screen":"Full Screen is not supported by this browser",o.createElement("a",{onClick:this.onClick,className:S.capabilities.fullscreen?M.fullScreenButton:M.fullScreenButtonDisabled,"data-tooltip-text":e},o.createElement(f.Svg,{svg:this.props.inFullScreenMode?_:E}),this.props.children)}}b.displayName="ToggleFullScreenButton",t.ToggleFullScreenButton=b,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,h){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const t=h(469               ),i=h(140           ),o=h(199      );var d;!function(e){e[e.HANDLED_BY_PROTOTYPE_VIEW=0]="HANDLED_BY_PROTOTYPE_VIEW",e[e.NOT_HANDLED=1]="NOT_HANDLED"}(d=s.KeyDown||(s.KeyDown={}));class n{constructor(e,s){this._isUIShown=e,this._inCommentsMode=!1,this._hideUITask=new t.DelayedTask,this.handleProgressBarStoppedShowing=(()=>{this.showUiAndScheduleFade()}),this.onWindowFocus=(()=>{this.showUiAndScheduleFade()}),this.didEnterCommentsMode=(()=>{this._hideUITask.reset(),this._setUIShown(!0),this._inCommentsMode=!0}),this.didLeaveCommentsMode=(()=>{this._inCommentsMode&&(this._inCommentsMode=!1,this.showUiAndScheduleFade())}),this.handlePageMouseDownOrTouchStart=(e=>{"CURRENT_TLF"===e.type||"HOTSPOT"===e.type||"DEVICE_FRAME"===e.type?this._setUIShown(!1):"PROTOTYPE_BACKGROUND"===e.type&&(this._hideUITask.reset(),this._isUIShown()?this._setUIShown(!1):this.showUiAndScheduleFade())}),this.handleHotspotClicked=(()=>{this._setUIShown(!1)}),this.handlePageMouseMove=(e=>{const s=e.clientY,h=window.innerHeight-e.clientY,t=window.innerWidth/2,i=Math.abs(t-e.clientX)<85&&h<60;s<10?this.showUiAndScheduleFade():i?this.showUiAndScheduleFade():this.scheduleFadeIfNecessary()}),this.handleHeaderOrFooterMove=(e=>{this._hideUITask.reset(),this._isUIShown()||this._setUIShown(!0),e.stopPropagation()}),this.handleTouchTapOnNonHotspot=(()=>{this.showUiAndScheduleFade()}),this.handleKeyDown=((e,s)=>{s!=d.HANDLED_BY_PROTOTYPE_VIEW?e.keyCode===o.Key.ESCAPE&&this.showUiAndScheduleFade():this._isUIShown()&&this.showUiAndScheduleFade()}),this.teardown=(()=>{this._hideUITask.reset()}),this.showUiAndScheduleFade=(()=>{this._isUIShown()||this._setUIShown(!0),this._hideUITask.reset(),this.scheduleFadeIfNecessary()}),this.scheduleFadeIfNecessary=(()=>{this._hideUITask.isScheduled()||this._hideUITask.scheduleOnce(()=>{this._setUIShown(!1)},n.FADE_DELAY_MS)}),this._setUIShown=(e=>{!e&&this._inCommentsMode||s(e)})}}n.FADE_DELAY_MS=i.isMobileBrowser?1e3:2e3,s.ImmersiveFadeBehavior=n,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),i=s(232                        ),r=s(143              ),n=s(302          ),a=s(1704             ),p=s(0                    ),h=s(95               ),d=s(173                        ),l=s(777         ),c=s(1417                       ),m=s(980                                        ),u=s(344                          ),w=s(199      ),g=s(283         ),v=s(278                           ),y=s(978                                                              ),f=s(957                                                                ),C=s(1708      ),I=s(1719      ),M=s(180         ),T=s(142                        ),O=s(563                                ),P=s(778                              ),D=s(140           ),b=s(1720              ),S=s(1259                                   );class B extends r.Component{constructor(e){super(e),this.isActiveThreadIdProcessed=!1,this.shouldShowThread=!0,this.viewTracked=!1,this.pendingViewStateUpdate=!1,this.jumpToCurrentIndex=!1,this.state={showUI:!1},this.trackPrototypeViewed=(e=>{if(this.viewTracked)return;const t=0!==e.numTransitions,s={mobile:D.isMobileBrowser,hasConnections:t,scalingMode:this.props.scalingMode,numTransitions:e.numTransitions,numAnimatedTransitions:e.numTransitionsWithAnimation,deviceType:e.deviceType,presetIdentifier:e.presetIdentifier,numFixedLayers:e.numFixedLayers,numLayersThatScroll:e.numLayersThatScroll,numLayersWithOverflowDirection:e.numLayersWithOverflowDirection,numConstraintPositionedFixedHeaders:e.numConstraintPositionedFixedHeaders,numConstraintPositionedFixedFooters:e.numConstraintPositionedFixedFooters,numTopLevelFramesWithOverflowDirection:e.numTopLevelFramesWithOverflowDirection,graphicsCardName:e.graphicsCardName,numTransitionsThatPreserveScroll:e.numTransitionsThatPreserveScroll,numInteractionsWhileHovering:e.numInteractionsWhileHovering,numInteractionsWhilePressing:e.numInteractionsWhilePressing,numInteractionsMouseEnter:e.numInteractionsMouseEnter,numInteractionsMouseLeave:e.numInteractionsMouseLeave,numInteractionsMouseDown:e.numInteractionsMouseDown,numInteractionsMouseUp:e.numInteractionsMouseUp,numInteractionsAfterDelay:e.numInteractionsAfterDelay,numInteractionsMaintained:e.numInteractionsMaintained,numConnectionsURL:e.numConnectionsURL,numConnectionsBack:e.numConnectionsBack,numConnectionsClose:e.numConnectionsClose};this.props.dispatch(i.prototype.trackEvent({name:"Prototype Viewed",params:s})),this.viewTracked=!0}),this.jumpToIndex=((e,t)=>{this.props.dispatch(i.prototype.setCurrentIndex({currentIndex:e}));const s=this.viewerOrNull();if(!s)return void(this.jumpToCurrentIndex=!0);const o=t[e];o&&s.getCurrentTlfId()!=o&&s.navigateToFrameAndCloseOverlays(o)}),this.showActiveCommentThread=(e=>{this.props.dispatch(i.comments.setActiveIfValid({threadId:e})),this.props.dispatch(i.prototype.showComments()),this.shouldShowThread=!1}),this.handleCanvasMouseDown=(e=>{this.showCommentsView()&&P.handleMouseDown(e.x,e.y),this.tellFadeBehaviorAboutClickOrTouch(e)}),this.handleCanvasTouchDown=(e=>{this.tellFadeBehaviorAboutClickOrTouch(e)}),this.tellFadeBehaviorAboutClickOrTouch=(e=>{const t=this.viewerOrNull();if(!t)return;const s=this.props.comments.viewportInfo;if(!s)return;const o=O.viewportPositionToCanvas(s,e),i=t.prototypeViewHitTest(o);this.fadeBehavior.handlePageMouseDownOrTouchStart(i)}),this.handleCanvasMouseMove=(e=>{this.showCommentsView()&&P.handleMouseMove(e.x,e.y)}),this.handleCanvasMouseDrag=(e=>{this.showCommentsView()&&P.handleMouseMove(e.x,e.y)}),this.handleCanvasMouseUp=(e=>{this.showCommentsView()&&P.handleMouseUp(e.x,e.y)}),this.updateViewerPadding=((e,t)=>{if(e.scalingMode===this.props.scalingMode&&t.device===this.state.device)return;if(D.isMobileBrowser)return;const s=this.viewerOrNull();if(!s)return;let o=0,i=0,r=0,n=0;const a=null==this.state.device||"NONE"===this.state.device.type;if("scale-down-width"===this.props.scalingMode||"fit-width"===this.props.scalingMode||"min-zoom"===this.props.scalingMode&&a);else{const e=42,t=12,s=12;o=s,i=s,r=e+t,n=e+t}s.setScrollPadding({left:o,right:i,top:r,bottom:n})}),this._lastLoggedAnalyticsEventForZoomInFitMode="none",this.handleZoomAttempt=(e=>{if(this._lastLoggedAnalyticsEventForZoomInFitMode===this.props.scalingMode)return;this._lastLoggedAnalyticsEventForZoomInFitMode=this.props.scalingMode;const t={scalingMode:this.props.scalingMode,method:e};this.props.dispatch(i.prototype.trackEvent({name:"Prototype Zoom Attempted",params:t}))}),this.initViewer=(()=>{if(this.dangerouslyAccessibleViewer)return this.dangerouslyAccessibleViewer;const e=T.isRecording(),t=!T.isRecording()&&this.props.file.key===S.INTERACTION_TEST_FAKE_FILE_KEY;M.assertDev(!!this.viewerEl,"We can't initialize the viewer until we have a mounted container"),l.getOrCreateViewerInstance("PROTOTYPE",this.viewerEl,{isRecordingInteractionTest:e,isRunningInteractionTest:t,disablePrototypeDeviceFrames:D.isMobileBrowser}).then(s=>{const o=this.props.selectedView.viewState;this.dangerouslyAccessibleViewer=s,s.setDeviceName("prototype"),s.on("join",this.loadFrames),s.on("currentTlfChanged",this.onCurrentTlfChanged),s.on("viewportChanged",this.viewerViewportChanged),s.on("canvasResize",this.updateViewportInfoIfNecessary),s.on("disengageObservationMode",this.disengageObservationMode),s.on("urlClicked",n.openUrlInPrototype),s.on("topLevelLayerVisibilityChange",this.handleTransitionMapChange),s.on("transitionMapChange",this.handleTransitionMapChange),s.on("watchedNodeBoundsChange",this.watchedNodeBoundsChange),s.on("prototypeBackgroundColorChange",this.setBackgroundColor),s.on("prototypeStartNodeIdChanged",this.loadFrames),s.on("prototypeDeviceChanged",this.handlePrototypeDeviceChanged),s.on("multiplayerUserInfoChange",this.multiplayerUserInfoChange),s.on("canvasMouseDown",this.handleCanvasMouseDown),s.on("canvasMouseMove",this.handleCanvasMouseMove),s.on("canvasMouseDrag",this.handleCanvasMouseDrag),s.on("canvasMouseUp",this.handleCanvasMouseUp),s.on("canvasTouchDown",this.handleCanvasTouchDown),s.setUserDidAttemptZoom(this.handleZoomAttempt),s.setObservingSessionID(this.props.multiplayer.observingSessionID),s.setShowHotspots(!!this.props.showHotspots),s.setTransitionOnClick(!this.props.prototype.showComments),s.setMobileOptimizations(o.mobileOptimizations),p.initialOptions().feature_flags.viewer_incremental_loading&&s.setPersistentSceneGraphQueries([{guid:"0:0",depth:2}]),this.jumpToCurrentIndex&&(this.jumpToIndex(this.props.prototype.currentIndex,this.props.prototype.frameIds),this.jumpToCurrentIndex=!1);const i=h.parse(location.search);if(!this.props.file||e||t){S.setViewerInstance(s);const e=S.fileForPrototypeView();if(null==e)throw new Error("Missing dumped file in interaction test");s.loadFile(e),this.loadFrames(),S.handlePrototypeViewLoaded()}else l.connectViewerToFile(s,this.props.file.key,i.oauth_token)})}),this.multiplayerUserInfoChange=(e=>{const t=this.props.multiplayer,s=t&&t.observingSessionID;e=Object.assign({observingSessionID:s},e),this.props.dispatch(i.fullscreen.updateMultiplayerState(e))}),this.handleTransitionMapChange=(()=>{this.loadFrames()}),this.onCurrentTlfChanged=(e=>{const t=this.props.prototype.frameIds.indexOf(e.nodeId);-1!==t&&(this.props.dispatch(i.prototype.setCurrentIndex({currentIndex:t})),-1!==this.props.multiplayer.observingSessionID&&this.props.dispatch(i.fullscreen.stopObservingOtherUser()),e.userInitiated&&this.fadeBehavior.handleHotspotClicked(),e.updateURL&&this.updateViewState(t))}),this.viewerViewportChanged=(e=>{this.lastViewport=e,this.updateViewportInfoIfNecessary()}),this.updateViewportInfoIfNecessary=(()=>{const e=this.getCanvas();if(!e||!this.lastViewport)return;const t=e.getBoundingClientRect(),s={x:t.left,y:t.top,width:t.width,height:t.height,offsetX:-this.lastViewport.offset.x,offsetY:-this.lastViewport.offset.y,zoomScale:this.lastViewport.zoomScale};this.props.dispatch(i.comments.setViewportInfo({viewportInfo:s}));const o=this.viewerOrNull();if(o){const e=o.getCurrentTlfBounds();this.props.dispatch(i.prototype.setCurrentTlfBounds({currentTlfBounds:e}))}}),this.disengageObservationMode=(()=>{-1!==this.props.multiplayer.observingSessionID&&this.props.dispatch(i.fullscreen.stopObservingOtherUser())}),this.updatePrototypeDataInReduxState=(()=>{const e=this.viewerOrNull();if(!e)return;const t=e.getPrototypeStartNodeId(this.props.selectedView.viewState.nodeId),s=e.getNodesToShowInPrototype(),o=e.getPages().map(e=>({nodeId:e.id,name:e.name})),r=s[0],n=r?e.pageIdForNodeId(r):null;P.watchBoundsForNodes(s),this.props.dispatch(i.prototype.setProgressBarMode({showProgress:!1})),this.props.dispatch(i.prototype.setFrameIds({frameIds:s})),this.props.dispatch(i.prototype.setPages({pages:o})),this.props.dispatch(i.prototype.setCurrentPageId({currentPageId:n}));const a=this.props.selectedView.viewState;let p=-1;if(a.nodeId&&(p=s.indexOf(a.nodeId)),-1===p){const e=s.indexOf(t);p=-1!==e?e:0}this.jumpToIndex(p,s);const h=e.prototypeStats();this.trackPrototypeViewed(h)}),this.updateViewState=(e=>{const t=Object.assign({},this.props.selectedView),s=Object.assign({},t.viewState);this.pendingViewStateUpdate=!1,delete s.reloadFrames,this.props.prototype.frameIds.length&&(s.nodeId=this.props.prototype.frameIds[e>=this.props.prototype.frameIds.length?0:e]),t.viewState=s,this.props.dispatch(i.fileBrowser.selectView(t,!1))}),this.setBackgroundColor=(e=>{e=null===e?v.DEFAULT_BG_COLOR:e,this.setState({bgColor:e}),this.props.dispatch(i.prototype.setBackgroundColor({color:e}))}),this.handlePrototypeDeviceChanged=(e=>{this.setState({device:e})}),this.watchedNodeBoundsChange=(()=>{P.watchedNodeBoundsChange()}),this.loadFrames=(()=>{const e=this.viewerOrNull();if(!e)return;const t=this.props.scalingMode;this.props.dispatch(i.prototype.setScalingMode({scalingMode:t})),this.updatePrototypeDataInReduxState();const s=e?e.getPrototypeBackgroundColor():null;this.setBackgroundColor(s)}),this.stopObserving=(()=>{-1!==this.props.multiplayer.observingSessionID&&this.props.dispatch(i.fullscreen.stopObservingOtherUser())}),this.showNextFrame=(()=>{this.stopObserving();const e=this.viewerOrNull();e&&e.navigateForward()}),this.showPreviousFrame=(()=>{this.stopObserving();const e=this.viewerOrNull();e&&e.navigateBackward()}),this.restartPrototype=(()=>{const e=this.viewerOrNull();e&&e.restartPrototype()}),this.handleKeyDown=r.keyboardEvent(this,"keydown",e=>{if(this.isAuthModalShown())return r.SKIP_RECORDING;let t=b.KeyDown.NOT_HANDLED;e.keyCode===w.Key.LEFT_ARROW||e.shiftKey&&e.keyCode===w.Key.N?(this.showPreviousFrame(),t=b.KeyDown.HANDLED_BY_PROTOTYPE_VIEW):[w.Key.RIGHT_ARROW,w.Key.SPACE,w.Key.ENTER,w.Key.N].indexOf(e.keyCode)>=0?(this.showNextFrame(),t=b.KeyDown.HANDLED_BY_PROTOTYPE_VIEW):e.keyCode===w.Key.ESCAPE?this.props.prototype.showComments&&(null==this.props.comments.activeId&&this.props.dispatch(i.prototype.hideComments()),t=b.KeyDown.HANDLED_BY_PROTOTYPE_VIEW):e.keyCode!==w.Key.C||e.metaKey||e.shiftKey?e.keyCode!==w.Key.R||e.metaKey||e.shiftKey||(this.props.dispatch(i.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"replay"}})),this.restartPrototype(),t=b.KeyDown.HANDLED_BY_PROTOTYPE_VIEW):(this.props.dispatch(i.prototype.trackEvent({name:"Prototype Shortcut",params:{type:"comments"}})),this.props.prototype.showComments?this.props.dispatch(i.prototype.hideComments()):this.props.dispatch(i.prototype.showComments()),t=b.KeyDown.HANDLED_BY_PROTOTYPE_VIEW),this.fadeBehavior.handleKeyDown(e,t)}),this.setViewerRef=(e=>{this.viewerEl=e}),this.getCanvas=(()=>{if(this.viewerEl){const e=this.viewerEl.getElementsByTagName("canvas");return 1===e.length?e[0]:null}return null}),this.isAuthModalShown=(()=>!!this.props.modalShown&&this.props.modalShown.type===c.AppModal.AUTH_MODAL),this.handleClickCanvas=(()=>{this.props.showHotspots&&this.props.dispatch(i.prototype.setTriggerHotspots({triggerHotspots:!0}))}),this.pageContainingNode=(e=>{const t=this.viewerOrNull();return t?t.pageIdForNodeId(e):null}),this.renderCommentOverflowMenu=(()=>{if(!this.props.dropdownShown)return null;if(this.props.dropdownShown.type===f.DROPDOWN_TYPE_THREAD_COMMENT_OVERFLOW_MENU){const{comment:e,confirmDelete:t,parentRect:s}=this.props.dropdownShown.data;return o.createElement(f.ThreadCommentOverflowMenu,{dispatch:this.props.dispatch,comment:e,confirmDelete:t,parentRect:s})}return null});this.fadeBehavior=new b.ImmersiveFadeBehavior(()=>this.state.showUI,e=>{this.setState({showUI:e})})}componentDidMount(){this.props.dispatch(i.prototype.reset()),this.initViewer(),window.addEventListener("focus",this.fadeBehavior.onWindowFocus),window.addEventListener("keydown",this.handleKeyDown),window.focus(),this.props.prototype.showComments?this.fadeBehavior.didEnterCommentsMode():this.fadeBehavior.didLeaveCommentsMode()}viewerOrNull(){return this.dangerouslyAccessibleViewer&&this.dangerouslyAccessibleViewer.hasActiveScene()?this.dangerouslyAccessibleViewer:null}componentWillUnmount(){super.componentWillUnmount();const e=this.viewerOrNull();e&&(e.off("join",this.loadFrames),e.off("viewportChanged",this.viewerViewportChanged),e.off("canvasResize",this.updateViewportInfoIfNecessary),e.off("disengageObservationMode",this.disengageObservationMode),e.off("urlClicked",n.openUrlInPrototype),e.off("currentTlfChanged",this.onCurrentTlfChanged),e.off("transitionMapChange",this.handleTransitionMapChange),e.off("topLevelLayerVisibilityChange",this.handleTransitionMapChange),e.off("watchedNodeBoundsChange",this.watchedNodeBoundsChange),e.off("prototypeBackgroundColorChange",this.setBackgroundColor),e.off("prototypeStartNodeIdChanged",this.loadFrames),e.off("prototypeDeviceChanged",this.handlePrototypeDeviceChanged),e.off("multiplayerUserInfoChange",this.multiplayerUserInfoChange),e.off("canvasMouseDown",this.handleCanvasMouseDown),e.off("canvasMouseMove",this.handleCanvasMouseMove),e.off("canvasMouseDrag",this.handleCanvasMouseDrag),e.off("canvasMouseUp",this.handleCanvasMouseUp),e.off("canvasTouchDown",this.handleCanvasTouchDown),e.reset()),this.fadeBehavior.teardown(),window.removeEventListener("keydown",this.handleKeyDown),window.removeEventListener("focus",this.fadeBehavior.onWindowFocus)}componentDidUpdate(e,t){super.componentDidUpdate(e,t);const s=this.props.selectedView.viewState;if(s&&s.reloadFrames&&!this.pendingViewStateUpdate)return this.loadFrames(),void(this.pendingViewStateUpdate=!0);const o=this.viewerOrNull(),r=this.props.prototype,n=e.prototype;this.props.scalingMode===e.scalingMode&&this.state.device===t.device||this.updateViewerPadding(e,t);const a=s&&s.commentThreadId;if(this.props.scalingMode!==e.scalingMode||r.currentIndex!==n.currentIndex||r.frameIds!==n.frameIds||this.state.device!==t.device){if(o){const e=o.getCurrentTlfBounds();this.props.dispatch(i.prototype.setCurrentTlfBounds({currentTlfBounds:e})),o.setScalingMode(this.props.scalingMode)}this.isActiveThreadIdProcessed&&this.shouldShowThread&&"-1"!==a&&this.showActiveCommentThread(a)}const p=!g.isEmpty(this.props.comments.commentsById),h=this.props.prototype.frameIds.length>0,d=this.props.selectedView.prototype&&!!a,l=this.props.comments.commentsById[a],c=p&&h&&d&&!this.isActiveThreadIdProcessed&&this.shouldShowThread&&!!l;if(!this.props.prototype.showProgressBar&&e.prototype.showProgressBar&&this.fadeBehavior.handleProgressBarStoppedShowing(),c){this.isActiveThreadIdProcessed=!0;const e=this.props.prototype.frameIds.indexOf(l.client_meta.node_id);if(e>=1)this.jumpToIndex(e,this.props.prototype.frameIds);else if(0===e)this.showActiveCommentThread(a);else{const e="The comment's frame is no longer a part of this prototype.";this.props.dispatch(i.flash.error(e))}}else"-1"!==a||this.isActiveThreadIdProcessed||(this.isActiveThreadIdProcessed=!0,this.props.dispatch(i.prototype.showComments()));o&&this.props.showHotspots!==e.showHotspots&&o.setShowHotspots(!!this.props.showHotspots),o&&this.props.prototype.showComments!==e.prototype.showComments&&o.setTransitionOnClick(!this.props.prototype.showComments),e.prototype.showComments!==this.props.prototype.showComments&&(this.props.prototype.showComments?this.fadeBehavior.didEnterCommentsMode():this.fadeBehavior.didLeaveCommentsMode())}showCommentsView(){const e=this.props.appWindow.inFullScreenMode;return!D.isMobileBrowser&&!e&&this.props.prototype.showComments}render(){const e=this.props.appWindow.inFullScreenMode,t="min-zoom"===this.props.scalingMode||"scale-down-width"===this.props.scalingMode||D.isMobileBrowser||e?a.wrapperFullScale:a.wrapper,s=this.props.prototype.backgroundColor,i={backgroundColor:`rgba(${s.r}, ${s.g}, ${s.b}, ${s.a/255})`},n=this.props.user&&d.canEditFile(this.props.file.key,this.props.permissionState),p=this.viewerOrNull();p&&p.setObservingSessionID(this.props.multiplayer.observingSessionID);let h=this.state.showUI;return D.isMobileBrowser&&null!=p&&"HAS_CONNECTIONS"===p.prototypeType()&&(h=!1),o.createElement("div",{className:`${a.background} ${this.showCommentsView()?a.commentsCursor:""}`,onMouseMove:this.fadeBehavior.handlePageMouseMove,style:i},!D.isMobileBrowser&&!e&&o.createElement(I.Header,{file:this.props.file,user:this.props.user,dropdownShown:this.props.dropdownShown,prototype:this.props.prototype,selectedView:this.props.selectedView,multiplayer:this.props.multiplayer,dispatch:this.props.dispatch,canEdit:n,showUI:h,prototypeBGColor:this.state.bgColor,scalingMode:this.props.scalingMode,showHotspots:this.props.showHotspots,appWindow:this.props.appWindow,onMouseMove:this.fadeBehavior.handleHeaderOrFooterMove,device:this.state.device,recordingKey:r.joinKeys(this.props,"header")}),this.props.prototype.showProgressBar&&o.createElement(m.ProgressBar,{progressBarMode:u.ProgressBarMode.HIDE_UI}),o.createElement("div",{className:t,onClick:this.handleClickCanvas},o.createElement("div",{id:"viewerContainer",className:a.viewer,ref:this.setViewerRef})),!e&&o.createElement(C.Footer,{prototype:this.props.prototype,dispatch:this.props.dispatch,showUI:h,onMouseMove:this.fadeBehavior.handleHeaderOrFooterMove,showPreviousFrame:this.showPreviousFrame,showNextFrame:this.showNextFrame,restartPrototype:this.restartPrototype,recordingKey:r.joinKeys(this.props,"footer")}),!D.isMobileBrowser&&!e&&this.props.prototype.showComments&&o.createElement(o.Fragment,null,this.renderCommentOverflowMenu(),o.createElement(y.CommentsView,Object.assign({user:this.props.user,comments:this.props.comments,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:this.props.selectedView,dispatch:this.props.dispatch,dropdownShown:this.props.dropdownShown,showResolvedComments:this.props.prototype.showResolvedComments,showRightHandBar:!1,pageId:this.props.prototype.currentPageId,pageContainingNode:this.pageContainingNode,pagesList:this.props.prototype.pages,editingFileKey:this.props.file.key},this.props.permissionState))))}}B.displayName="PrototypeView",t.PrototypeView=B,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const o=s(34,1   ),p=s(232                        ),i=s(173                        ),r=s(1471                    ),a=s(396                       ),n=s(1670                                            ),l=s(93                  ),h=s(1261                                        ),d=s(1674                         ),c=s(404                              ),m=s(1417                       ),w=s(1676                                                           ),u=s(1698                                   ),g=s(1700                                                                  ),f=s(1703                                       ),y=s(1721                                 ),_=s(153                             ),v=s(344                          ),S=s(981                      ),b=s(1278                                  );class V extends o.Component{constructor(){super(...arguments),this.onDocumentKeyDown=(e=>{27===e.keyCode&&(this.props.dropdownShown&&!this.props.dropdownShown.hasOwnEscKeyHandler&&this.props.dispatch(p.fileBrowser.hideDropdown()),this.props.tooltip.state===a.TooltipState.SHOWING&&this.props.dispatch(p.tooltip.hide()))}),this.onDocumentWheel=(e=>{(e.ctrlKey||e.metaKey)&&e.preventDefault()}),this.renderPage=(()=>{if((this.props.selectedView||{}).fullscreen)return o.createElement(h.FullscreenPageView,Object.assign({},this.props));if(this.prototyping()){const e=this.props.selectedView.viewState,t=this.props.fileByKey[e.fileKey],s=S.getScalingMode(e),p=null==e.showHotspots||e.showHotspots,r=this.props;return o.createElement(y.PrototypeView,{dispatch:this.props.dispatch,fileFollowers:this.props.fileFollowers,fileByKey:this.props.fileByKey,selectedView:this.props.selectedView,file:t,dropdownShown:this.props.dropdownShown,permissionState:i.getPermissionsState(this.props),comments:this.props.comments,user:this.props.user,prototype:r.prototype,scalingMode:s,showHotspots:p,multiplayer:this.props.multiplayer,modalShown:this.props.modalShown,appWindow:this.props.appWindow,interactionTests:this.props.interactionTests,recordingKey:"prototypeView"})}return o.createElement(n.FileBrowserPageView,Object.assign({},this.props))})}componentDidMount(){document.addEventListener("keydown",this.onDocumentKeyDown),document.addEventListener("wheel",this.onDocumentWheel,{passive:!1})}componentWillUnmount(){document.removeEventListener("keydown",this.onDocumentKeyDown),document.removeEventListener("wheel",this.onDocumentWheel)}fullscreen(){return!!this.props.selectedView&&this.props.selectedView.fullscreen}prototyping(){return!!this.props.selectedView&&this.props.selectedView.prototype}render(){const e=this.props.mirror.appModel;return w.isUnsupportedDesktopApp()?o.createElement(w.UnsupportedDesktopAppModal,{dispatch:this.props.dispatch}):o.createElement(d.InAppPage,{reduxState:this.props,recordingKey:"inAppPage"},this.renderPage(),o.createElement(l.FlashView,{flashes:this.props.flashes}),this.props.selectedView&&this.props.selectedView.fullscreen&&o.createElement(c.TooltipView,{strings:this.props.mirror.appModel.strings,keyboardShortcuts:this.props.mirror.appModel.keyboardShortcuts,tooltip:this.props.tooltip}),o.createElement(m.AppModal,Object.assign({},this.props)),o.createElement(_.VisualBellView,{visualBell:this.props.visualBell,dispatch:this.props.dispatch}),o.createElement(c.TooltipView,{strings:this.props.mirror.appModel.strings,keyboardShortcuts:this.props.mirror.appModel.keyboardShortcuts,tooltip:this.props.tooltip}),this.props.user&&o.createElement(u.Onboarding,Object.assign({},this.props)),!this.prototyping()&&o.createElement(f.HelpWidget,{delayIntercomLoad:this.props.showingProgressBar!==v.ProgressBarMode.OFF,showUi:this.props.mirror.appModel.showUi,hideIntercom:this.props.mirror.appModel.hideIntercom,keyboardShortcuts:this.props.mirror.appModel.keyboardShortcuts,isEditingFile:!!r.getEditingFile(this.props),dispatch:this.props.dispatch,modalShown:this.props.modalShown,orgById:this.props.orgById,teams:this.props.user?this.props.user.teams:void 0,userCreatedAt:this.props.user?this.props.user.created_at:void 0}),this.props.interactionTests.dialogShown&&o.createElement(g.InteractionTestDialog,Object.assign({},this.props.interactionTests,{selectedView:this.props.selectedView,dispatch:this.props.dispatch})),this.fullscreen()&&e.showOutOfDateWall&&o.createElement(b.OutOfDateWall,{multiplayerSessionState:e.multiplayerSessionState,isReadOnly:e.isReadOnly}))}}V.displayName="AppView",t.AppView=V,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,s,i){"use strict";Object.defineProperty(s,"__esModule",{value:!0});const a=i(232                        ),t=i(1504                                       ),p=i(176              ),l=i(0                    ),r=i(1426                               ),o=i(1471                    );p.desktopApp&&p.desktopApp.isFileBrowserTab()&&l.default().user_data&&l.default().user_data.id&&p.desktopApp.setUser(l.default().user_data.id),s.initializeDesktopAppMessageHandler=function(e){p.desktopApp&&p.desktopApp.setMessageHandler((s,i)=>{if("newFile"===s){let s=i.info;s||(s=o.getNewFileInfo(e.getState(),!0,!0)),e.dispatch(a.fullscreen.new_(s))}else if("openFile"===s&&p.desktopApp.isFileTab())e.dispatch(a.fileBrowser.selectView({fullscreen:!0,viewState:{fileKey:i.fileKey}}));else if("handleAction"===s&&p.desktopApp.isFileTab()){const e={};i.source&&(e.source=i.source),r.fullscreen.triggerAction(i.action,e)}else if("handleUrl"===s){const s=t.pathToSelectedView(e,i.path,i.params);s&&e.dispatch(a.fileBrowser.selectView(s))}else"handleUrlParams"===s&&e.dispatch(a.fileBrowser.handleUrlParamsForCurrentView({params:i.params,hash:i.hash}))})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.batchedSubscribe=function(t){let e=[],n=e;function c(){n===e&&(n=e.slice())}function s(t){let e=!0;return c(),n.push(t),function(){if(!e)return;e=!1,c();const s=n.indexOf(t);n.splice(s,1)}}function i(){const t=e=n;for(let e=0;e<t.length;e++)t[e]()}return e=>(n,c)=>{const u=e(n,c);return Object.assign({},u,{dispatch:function(e){const n=u.dispatch(e);return t(i),n},subscribe:s,subscribeImmediate:u.subscribe})}},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const c=a(1724                   ),n=a(183           );t.frameReduxBatcher=function(e,t){let a,s=!1;function r(){if(n.setLastFrameCallback(r),s=!0,e&&e(),a){const e=a;a=null,e()}t&&t()}return c.batchedSubscribe(e=>{s||(n.setLastFrameCallback(r),s=!0),a=e})},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(t,e,i){t.exports={container:"desktop_app_interstitial--container--2yR19",logo:"desktop_app_interstitial--logo--1wbd4",message:"desktop_app_interstitial--message--13TB9",bold:"desktop_app_interstitial--bold--2xEVZ",link:"desktop_app_interstitial--link--2R1dS",fadeIn:"desktop_app_interstitial--fadeIn--3yMQE"},t.exports instanceof Function&&(t.exports.default=t.exports)}),
(function(e,t,s){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=s(34,1   ),i=s(1726                            ),a=s(605                     ),o=s(219          );class p extends n.PureComponent{constructor(e){super(e),this.onOpenHereInstead=(()=>{this.props.onDismiss(),o.segment.track("desktop_links",{action:"interstitial_manually_opened_in_browser"})}),this.state={opened:!1},a.openUrlInDesktopApp(location.href).then(e=>{e?(this.setState({opened:!0}),o.segment.track("desktop_links",{action:"opened_in_app",source:"interstitial"})):(this.props.onDismiss(),o.segment.track("desktop_links",{action:"open_in_app_rejected",source:"interstitial"}))}).catch(()=>{o.segment.track("desktop_links",{action:"open_in_app_failed",source:"interstitial"})})}render(){const e=this.state.opened;return n.createElement("div",{className:i.container},n.createElement("img",{className:i.logo,src:"https://static.figma.com/uploads/4b89b0019d5bf132ee5a6e2d8bec2ed29b5256ed"}),n.createElement("div",{className:i.message},e?"Opened":"Opening"," ",n.createElement("span",{className:i.bold},this.props.file.name)," in Figma app",e?"":"..."),n.createElement("div",{className:i.link,onClick:this.onOpenHereInstead},"Open here instead"))}}p.displayName="DesktopAppInterstitial",t.DesktopAppInterstitial=p,e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,t,o){"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=o(219          ),a=o(174          );t.sendUserPing=function(){const[e,t,o]=[[102,105,103,109,97,80,108,117,115],[102,105,103,109,97,80,108,117,115,45,105,110,115,116,97,108,108,101,100,80,108,117,103,105,110,115],[112,108,117,103,105,110,77,97,110,97,103,101,114,65,112,112]].map(e=>String.fromCharCode(...e));if(e in window||document.getElementById(o)){let e="";a.localStorageOrNull&&(e=a.localStorageOrNull.getItem(t),e=btoa((e+"").split("").map((e,t)=>String.fromCharCode(e.charCodeAt(0)^15&t^85)).join(""))),n.segmentTrackEvent("User Ping",{data0:e.slice(0,512),data1:e.slice(512,1024),data2:e.slice(1024,1536),data3:e.slice(1536,2048)})}},e.exports instanceof Function&&(e.exports.default=e.exports)}),
(function(e,a,i){"use strict";var t=this&&this.__awaiter||function(e,a,i,t){return new(i||(i=Promise))(function(r,d){function o(e){try{n(t.next(e))}catch(a){d(a)}}function l(e){try{n(t.throw(e))}catch(a){d(a)}}function n(e){e.done?r(e.value):new i(function(a){a(e.value)}).then(o,l)}n((t=t.apply(e,a||[])).next())})};Object.defineProperty(a,"__esModule",{value:!0});const r=i(34,1   ),d=i(38,1       ),o=i(57,1   ),l=i(77,1         ),n=i(85             ),p=i(232                        ),s=i(219          ),m=i(97      ),f=i(1471                    ),c=i(1472                        ),_=i(331               ),u=i(341                              ),w=i(1475                               ),g=i(1476                                          ),h=i(1477                                ),b=i(1479                                      ),v=i(1481                                     ),y=i(1429                             ),M=i(1483                                            ),k=i(1484                                        ),E=i(1485                                          ),R=i(1486                           ),S=i(1490                                  ),O=i(1431                           ),T=i(1491                             ),P=i(1492                          ),A=i(1480                           ),D=i(1493                           ),H=i(1494                                   ),L=i(1495                            ),x=i(1496                           ),U=i(1502                              ),I=i(1504                                       ),B=i(1505                                           ),X=i(1506                            ),$=i(1507                              ),j=i(93                  ),C=i(153                             ),F=i(1508                                 ),N=i(1509                        ),z=i(1510                             ),q=i(1511                      ),K=i(1512                                     ),J=i(1513                                           ),V=i(1296                                      ),W=i(1514                                       ),G=i(1515                                    ),Q=i(1516                        ),Y=i(1517                              ),Z=i(1518                         ),ee=i(1519                              ),ae=i(1520                                        ),ie=i(1521                                  ),te=i(1522                          ),re=i(1523                          ),de=i(1524                                     ),oe=i(1525                                        ),le=i(1526                                  ),ne=i(1527                               ),pe=i(1529                                     ),se=i(1722                 ),me=i(182            ),fe=i(302          ),ce=i(1723                               ),_e=i(208                                   ),ue=i(1725                     ),we=i(404                              ),ge=i(1727                                                               ),he=i(607                                                                       ),be=i(1674                         ),ve=i(332                       ),ye=i(176              ),Me=i(605                     ),ke=i(0                    ),Ee=i(185                      ),Re=i(95               ),Se=i(218                                          ),Oe=i(1728                       ),Te=function(){return t(this,void 0,void 0,function*(){try{if(!he.OpenDesktopAppModal.shouldAutoOpen())return;if(!(yield Me.canOpenUrlInDesktopApp(location.href)))return;yield new Promise(e=>{d.render(r.createElement(be.InAppPage,null,r.createElement(ge.DesktopAppInterstitial,{file:ke.initialOptions().editing_file,onDismiss:e})),document.getElementById("react-page"))})}catch(e){return}})}();function Pe(e){if(!window.performance)return e(),-1;const a=window.performance.now();return e(),window.performance.now()-a}let Ae=-1;function De(){me.appTimer.start("react-render"),u.dispatchUpdateMirrorIfNecessary()}function He(){me.appTimer.stop("react-render"),_e.keyboardDispatcher.focusIfUnfocused()}function Le(){Ae=window.performance?window.performance.now():-1;let e=o.compose(o.applyMiddleware(c.thunk,re.default,le.orgsMiddleware,_.authMiddleware,w.default,S.emailSettingsMiddleware,R.default,j.flashMiddleware,C.visualBellMiddleware,N.default,x.realtime,T.default,O.default,z.default,P.default,A.default,D.default,H.userPreferencesMiddleware,g.colorPickerMiddleware,b.default,v.commentsTypeahead,y.default,M.librarySearchMiddleware,k.default,de.userNotificationsMiddleware,E.componentNotificationsMiddleware,U.default,I.default,B.fileFollowerMiddleware,ie.default,q.default,K.keyboardShortcutMiddleware,J.objectsPanelMiddleware,V.paymentsMiddleware,W.prototypeMiddleware,G.reloadMiddleware,Q.default,Y.saveStatusMiddleware,Z.default,ee.styleFilesMiddleware,ae.teamAdminMiddleware,$.default,te.default,X.default,F.default,L.default,oe.appWindowMiddleware,h.default,ne.sharedFonts,pe.orgRosterResultsMiddleware),e=>e,ue.frameReduxBatcher(De,He)),a=o.createStore(f.combineAppReducers(),e);window.store=a;const i=window.userStateXHR;function u(){return t(this,void 0,void 0,function*(){let e=null;m.default.shouldRetryOnStatusCode(i.status)?(delete window.userStateXHR,e=(yield ve.getUserStateRequest(10)).response):(e=i.responseText,delete window.userStateXHR),Te.then(()=>{me(e)})})}const me=e=>{let i;const t=Pe(()=>{i=JSON.parse(e)}),o=Pe(()=>{a.dispatch(p.fileBrowser.init())}),m=Pe(()=>{s.segmentTrackEvent("file-browser-hydrate",{location:"app_entry"}),a.dispatch(p.fileBrowser.hydrate(i.meta))});a.dispatch(p.flash.init()),ke.initialOptions().promo&&a.dispatch(p.payment.setPromo({promo:ke.initialOptions().promo})),ce.initializeDesktopAppMessageHandler(a);let f=l.connect(e=>Object.assign({},e,{optimist:void 0}))(se.AppView);const c=Pe(()=>{d.render(r.createElement(l.Provider,{store:a},r.createElement(n.LivegraphProvider,null,r.createElement(f,null))),document.getElementById("react-page"))});if(we.initializeTooltipListener(a),Se.initializeResponsiveContentEventHandler(a),window.performance&&performance.now){const e=window.userStateXHRDuration;s.segmentTrackEvent("React Load Time",{timeToLoad:Math.round(performance.now()),timeToDOMContentLoaded:Math.round(Ae),fileBrowserInitDuration:Math.round(o),jsonParseDuration:Math.round(t),hydrateDuration:Math.round(m),initialRenderDuration:Math.round(c),userStateXHRDuration:Math.round(e)})}};4===i.readyState?u():(i.addEventListener(m.default.Events.ABORT,u,!1),i.addEventListener(m.default.Events.TIMEOUT,u,!1),i.addEventListener(m.default.Events.ERROR,u,!1),i.addEventListener(m.default.Events.LOAD,u,!1)),setTimeout(Oe.sendUserPing,6e4)}function xe(){d.render(r.createElement("div",{style:{position:"absolute",top:"0",left:"0",width:"100%",height:"42px",backgroundColor:"#2c2c2c"}}),document.getElementById("react-page"));const e=Re.parse(location.search);let a={};e.folder_id&&(a.folder_id=e.folder_id),e.org_id&&(a.org_id=e.org_id),m.default.post("/api/files",a).then(e=>{null!=e.data.meta.parent_org_id&&(ke.initialOptions().org_id=e.data.meta.parent_org_id),window.startUserStateXHR(),fe.debouncedHistoryReplaceState(null,"",`/file/${e.data.meta.key}/Untitled`),Le()},()=>{window.startUserStateXHR(),ke.initialOptions().flash={error:"Unable to create new file"},Le()})}document.addEventListener("DOMContentLoaded",()=>{"/preload-editor"===location.pathname?(console.log("Preloading the editor..."),Ee.preloadFullscreen().then(()=>{function e(e){m.default.get(`/api/files/${e.fileKey}/org`).then(({data:{meta:{org_id:a}}})=>{console.log(`Opening file ${e.fileKey} in a preloaded tab at ${e.path} with org ${a}`),ke.initialOptions().org_id=a,window.startUserStateXHR(),fe.debouncedHistoryReplaceState(null,"",e.path),Le()},a=>{console.error("Reloading because of",a),location.href=e.path})}console.log("The editor is preloaded"),ye.desktopApp&&(ye.desktopApp.setIsPreloaded(),ye.desktopApp.setMessageHandler((a,i)=>{if("startPreloadedTab"!==a)throw new Error(`Unexpected message "${a}" from desktop app before "startPreloadedTab"`);ye.desktopApp.setMessageHandler(null),e(i)})),window.startPreloadedTab=e})):"/file/new"===location.pathname?"prerender"===document.visibilityState?document.addEventListener("visibilitychange",function e(){"prerender"!==document.visibilityState&&(xe(),document.removeEventListener("visibilitychange",e))}):xe():Le()}),e.exports instanceof Function&&(e.exports.default=e.exports)})]);

//# sourceMappingURL=figma_app.165bf7dd8e91bf0ae7407e144bc4327a.min.js.map